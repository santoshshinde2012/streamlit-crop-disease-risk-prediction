(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const Tt of document.querySelectorAll('link[rel="modulepreload"]'))st(Tt);new MutationObserver(Tt=>{for(const Ft of Tt)if(Ft.type==="childList")for(const W of Ft.addedNodes)W.tagName==="LINK"&&W.rel==="modulepreload"&&st(W)}).observe(document,{childList:!0,subtree:!0});function B(Tt){const Ft={};return Tt.integrity&&(Ft.integrity=Tt.integrity),Tt.referrerPolicy&&(Ft.referrerPolicy=Tt.referrerPolicy),Tt.crossOrigin==="use-credentials"?Ft.credentials="include":Tt.crossOrigin==="anonymous"?Ft.credentials="omit":Ft.credentials="same-origin",Ft}function st(Tt){if(Tt.ep)return;Tt.ep=!0;const Ft=B(Tt);fetch(Tt.href,Ft)}})();function Pb(I){return I&&I.__esModule&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I}var j4={exports:{}},Om={},X4={exports:{}},Sa={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=Symbol.for("react.element"),rE=Symbol.for("react.portal"),nE=Symbol.for("react.fragment"),iE=Symbol.for("react.strict_mode"),aE=Symbol.for("react.profiler"),oE=Symbol.for("react.provider"),sE=Symbol.for("react.context"),lE=Symbol.for("react.forward_ref"),uE=Symbol.for("react.suspense"),fE=Symbol.for("react.memo"),cE=Symbol.for("react.lazy"),h2=Symbol.iterator;function hE(I){return I===null||typeof I!="object"?null:(I=h2&&I[h2]||I["@@iterator"],typeof I=="function"?I:null)}var Z4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K4=Object.assign,J4={};function Hp(I,l,B){this.props=I,this.context=l,this.refs=J4,this.updater=B||Z4}Hp.prototype.isReactComponent={};Hp.prototype.setState=function(I,l){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,l,"setState")};Hp.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Q4(){}Q4.prototype=Hp.prototype;function Ib(I,l,B){this.props=I,this.context=l,this.refs=J4,this.updater=B||Z4}var Db=Ib.prototype=new Q4;Db.constructor=Ib;K4(Db,Hp.prototype);Db.isPureReactComponent=!0;var v2=Array.isArray,$4=Object.prototype.hasOwnProperty,Rb={current:null},q4={key:!0,ref:!0,__self:!0,__source:!0};function tT(I,l,B){var st,Tt={},Ft=null,W=null;if(l!=null)for(st in l.ref!==void 0&&(W=l.ref),l.key!==void 0&&(Ft=""+l.key),l)$4.call(l,st)&&!q4.hasOwnProperty(st)&&(Tt[st]=l[st]);var G=arguments.length-2;if(G===1)Tt.children=B;else if(1<G){for(var t=Array(G),y=0;y<G;y++)t[y]=arguments[y+2];Tt.children=t}if(I&&I.defaultProps)for(st in G=I.defaultProps,G)Tt[st]===void 0&&(Tt[st]=G[st]);return{$$typeof:hg,type:I,key:Ft,ref:W,props:Tt,_owner:Rb.current}}function vE(I,l){return{$$typeof:hg,type:I.type,key:l,ref:I.ref,props:I.props,_owner:I._owner}}function _b(I){return typeof I=="object"&&I!==null&&I.$$typeof===hg}function dE(I){var l={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(B){return l[B]})}var d2=/\/+/g;function G1(I,l){return typeof I=="object"&&I!==null&&I.key!=null?dE(""+I.key):l.toString(36)}function my(I,l,B,st,Tt){var Ft=typeof I;(Ft==="undefined"||Ft==="boolean")&&(I=null);var W=!1;if(I===null)W=!0;else switch(Ft){case"string":case"number":W=!0;break;case"object":switch(I.$$typeof){case hg:case rE:W=!0}}if(W)return W=I,Tt=Tt(W),I=st===""?"."+G1(W,0):st,v2(Tt)?(B="",I!=null&&(B=I.replace(d2,"$&/")+"/"),my(Tt,l,B,"",function(y){return y})):Tt!=null&&(_b(Tt)&&(Tt=vE(Tt,B+(!Tt.key||W&&W.key===Tt.key?"":(""+Tt.key).replace(d2,"$&/")+"/")+I)),l.push(Tt)),1;if(W=0,st=st===""?".":st+":",v2(I))for(var G=0;G<I.length;G++){Ft=I[G];var t=st+G1(Ft,G);W+=my(Ft,l,B,t,Tt)}else if(t=hE(I),typeof t=="function")for(I=t.call(I),G=0;!(Ft=I.next()).done;)Ft=Ft.value,t=st+G1(Ft,G++),W+=my(Ft,l,B,t,Tt);else if(Ft==="object")throw l=String(I),Error("Objects are not valid as a React child (found: "+(l==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.");return W}function $g(I,l,B){if(I==null)return I;var st=[],Tt=0;return my(I,st,"","",function(Ft){return l.call(B,Ft,Tt++)}),st}function pE(I){if(I._status===-1){var l=I._result;l=l(),l.then(function(B){(I._status===0||I._status===-1)&&(I._status=1,I._result=B)},function(B){(I._status===0||I._status===-1)&&(I._status=2,I._result=B)}),I._status===-1&&(I._status=0,I._result=l)}if(I._status===1)return I._result.default;throw I._result}var dl={current:null},xy={transition:null},gE={ReactCurrentDispatcher:dl,ReactCurrentBatchConfig:xy,ReactCurrentOwner:Rb};function eT(){throw Error("act(...) is not supported in production builds of React.")}Sa.Children={map:$g,forEach:function(I,l,B){$g(I,function(){l.apply(this,arguments)},B)},count:function(I){var l=0;return $g(I,function(){l++}),l},toArray:function(I){return $g(I,function(l){return l})||[]},only:function(I){if(!_b(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};Sa.Component=Hp;Sa.Fragment=nE;Sa.Profiler=aE;Sa.PureComponent=Ib;Sa.StrictMode=iE;Sa.Suspense=uE;Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gE;Sa.act=eT;Sa.cloneElement=function(I,l,B){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var st=K4({},I.props),Tt=I.key,Ft=I.ref,W=I._owner;if(l!=null){if(l.ref!==void 0&&(Ft=l.ref,W=Rb.current),l.key!==void 0&&(Tt=""+l.key),I.type&&I.type.defaultProps)var G=I.type.defaultProps;for(t in l)$4.call(l,t)&&!q4.hasOwnProperty(t)&&(st[t]=l[t]===void 0&&G!==void 0?G[t]:l[t])}var t=arguments.length-2;if(t===1)st.children=B;else if(1<t){G=Array(t);for(var y=0;y<t;y++)G[y]=arguments[y+2];st.children=G}return{$$typeof:hg,type:I.type,key:Tt,ref:Ft,props:st,_owner:W}};Sa.createContext=function(I){return I={$$typeof:sE,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:oE,_context:I},I.Consumer=I};Sa.createElement=tT;Sa.createFactory=function(I){var l=tT.bind(null,I);return l.type=I,l};Sa.createRef=function(){return{current:null}};Sa.forwardRef=function(I){return{$$typeof:lE,render:I}};Sa.isValidElement=_b;Sa.lazy=function(I){return{$$typeof:cE,_payload:{_status:-1,_result:I},_init:pE}};Sa.memo=function(I,l){return{$$typeof:fE,type:I,compare:l===void 0?null:l}};Sa.startTransition=function(I){var l=xy.transition;xy.transition={};try{I()}finally{xy.transition=l}};Sa.unstable_act=eT;Sa.useCallback=function(I,l){return dl.current.useCallback(I,l)};Sa.useContext=function(I){return dl.current.useContext(I)};Sa.useDebugValue=function(){};Sa.useDeferredValue=function(I){return dl.current.useDeferredValue(I)};Sa.useEffect=function(I,l){return dl.current.useEffect(I,l)};Sa.useId=function(){return dl.current.useId()};Sa.useImperativeHandle=function(I,l,B){return dl.current.useImperativeHandle(I,l,B)};Sa.useInsertionEffect=function(I,l){return dl.current.useInsertionEffect(I,l)};Sa.useLayoutEffect=function(I,l){return dl.current.useLayoutEffect(I,l)};Sa.useMemo=function(I,l){return dl.current.useMemo(I,l)};Sa.useReducer=function(I,l,B){return dl.current.useReducer(I,l,B)};Sa.useRef=function(I){return dl.current.useRef(I)};Sa.useState=function(I){return dl.current.useState(I)};Sa.useSyncExternalStore=function(I,l,B){return dl.current.useSyncExternalStore(I,l,B)};Sa.useTransition=function(){return dl.current.useTransition()};Sa.version="18.3.1";X4.exports=Sa;var Lf=X4.exports;const nd=Pb(Lf);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE=Lf,mE=Symbol.for("react.element"),xE=Symbol.for("react.fragment"),bE=Object.prototype.hasOwnProperty,wE=yE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TE={key:!0,ref:!0,__self:!0,__source:!0};function rT(I,l,B){var st,Tt={},Ft=null,W=null;B!==void 0&&(Ft=""+B),l.key!==void 0&&(Ft=""+l.key),l.ref!==void 0&&(W=l.ref);for(st in l)bE.call(l,st)&&!TE.hasOwnProperty(st)&&(Tt[st]=l[st]);if(I&&I.defaultProps)for(st in l=I.defaultProps,l)Tt[st]===void 0&&(Tt[st]=l[st]);return{$$typeof:mE,type:I,key:Ft,ref:W,props:Tt,_owner:wE.current}}Om.Fragment=xE;Om.jsx=rT;Om.jsxs=rT;j4.exports=Om;var Oy=j4.exports,Tx={},nT={exports:{}},hu={},iT={exports:{}},aT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(I){function l(S,a){var C=S.length;S.push(a);t:for(;0<C;){var b=C-1>>>1,z=S[b];if(0<Tt(z,a))S[b]=a,S[C]=z,C=b;else break t}}function B(S){return S.length===0?null:S[0]}function st(S){if(S.length===0)return null;var a=S[0],C=S.pop();if(C!==a){S[0]=C;t:for(var b=0,z=S.length,k=z>>>1;b<k;){var U=2*(b+1)-1,F=S[U],V=U+1,N=S[V];if(0>Tt(F,C))V<z&&0>Tt(N,F)?(S[b]=N,S[V]=C,b=V):(S[b]=F,S[U]=C,b=U);else if(V<z&&0>Tt(N,C))S[b]=N,S[V]=C,b=V;else break t}}return a}function Tt(S,a){var C=S.sortIndex-a.sortIndex;return C!==0?C:S.id-a.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Ft=performance;I.unstable_now=function(){return Ft.now()}}else{var W=Date,G=W.now();I.unstable_now=function(){return W.now()-G}}var t=[],y=[],D=1,s=null,P=3,M=!1,d=!1,g=!1,r=typeof setTimeout=="function"?setTimeout:null,e=typeof clearTimeout=="function"?clearTimeout:null,o=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(S){for(var a=B(y);a!==null;){if(a.callback===null)st(y);else if(a.startTime<=S)st(y),a.sortIndex=a.expirationTime,l(t,a);else break;a=B(y)}}function u(S){if(g=!1,n(S),!d)if(B(t)!==null)d=!0,x(f);else{var a=B(y);a!==null&&E(u,a.startTime-S)}}function f(S,a){d=!1,g&&(g=!1,e(v),v=-1),M=!0;var C=P;try{for(n(a),s=B(t);s!==null&&(!(s.expirationTime>a)||S&&!i());){var b=s.callback;if(typeof b=="function"){s.callback=null,P=s.priorityLevel;var z=b(s.expirationTime<=a);a=I.unstable_now(),typeof z=="function"?s.callback=z:s===B(t)&&st(t),n(a)}else st(t);s=B(t)}if(s!==null)var k=!0;else{var U=B(y);U!==null&&E(u,U.startTime-a),k=!1}return k}finally{s=null,P=C,M=!1}}var c=!1,m=null,v=-1,T=5,h=-1;function i(){return!(I.unstable_now()-h<T)}function p(){if(m!==null){var S=I.unstable_now();h=S;var a=!0;try{a=m(!0,S)}finally{a?w():(c=!1,m=null)}}else c=!1}var w;if(typeof o=="function")w=function(){o(p)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,L=A.port2;A.port1.onmessage=p,w=function(){L.postMessage(null)}}else w=function(){r(p,0)};function x(S){m=S,c||(c=!0,w())}function E(S,a){v=r(function(){S(I.unstable_now())},a)}I.unstable_IdlePriority=5,I.unstable_ImmediatePriority=1,I.unstable_LowPriority=4,I.unstable_NormalPriority=3,I.unstable_Profiling=null,I.unstable_UserBlockingPriority=2,I.unstable_cancelCallback=function(S){S.callback=null},I.unstable_continueExecution=function(){d||M||(d=!0,x(f))},I.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<S?Math.floor(1e3/S):5},I.unstable_getCurrentPriorityLevel=function(){return P},I.unstable_getFirstCallbackNode=function(){return B(t)},I.unstable_next=function(S){switch(P){case 1:case 2:case 3:var a=3;break;default:a=P}var C=P;P=a;try{return S()}finally{P=C}},I.unstable_pauseExecution=function(){},I.unstable_requestPaint=function(){},I.unstable_runWithPriority=function(S,a){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var C=P;P=S;try{return a()}finally{P=C}},I.unstable_scheduleCallback=function(S,a,C){var b=I.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?b+C:b):C=b,S){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=C+z,S={id:D++,callback:a,priorityLevel:S,startTime:C,expirationTime:z,sortIndex:-1},C>b?(S.sortIndex=C,l(y,S),B(t)===null&&S===B(y)&&(g?(e(v),v=-1):g=!0,E(u,C-b))):(S.sortIndex=z,l(t,S),d||M||(d=!0,x(f))),S},I.unstable_shouldYield=i,I.unstable_wrapCallback=function(S){var a=P;return function(){var C=P;P=a;try{return S.apply(this,arguments)}finally{P=C}}}})(aT);iT.exports=aT;var AE=iT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE=Lf,uu=AE;function yi(I){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+I,B=1;B<arguments.length;B++)l+="&args[]="+encodeURIComponent(arguments[B]);return"Minified React error #"+I+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oT=new Set,H0={};function Ad(I,l){Lp(I,l),Lp(I+"Capture",l)}function Lp(I,l){for(H0[I]=l,I=0;I<l.length;I++)oT.add(l[I])}var ah=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ax=Object.prototype.hasOwnProperty,ME=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p2={},g2={};function EE(I){return Ax.call(g2,I)?!0:Ax.call(p2,I)?!1:ME.test(I)?g2[I]=!0:(p2[I]=!0,!1)}function CE(I,l,B,st){if(B!==null&&B.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return st?!1:B!==null?!B.acceptsBooleans:(I=I.toLowerCase().slice(0,5),I!=="data-"&&I!=="aria-");default:return!1}}function LE(I,l,B,st){if(l===null||typeof l>"u"||CE(I,l,B,st))return!0;if(st)return!1;if(B!==null)switch(B.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function pl(I,l,B,st,Tt,Ft,W){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=st,this.attributeNamespace=Tt,this.mustUseProperty=B,this.propertyName=I,this.type=l,this.sanitizeURL=Ft,this.removeEmptyString=W}var Os={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(I){Os[I]=new pl(I,0,!1,I,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(I){var l=I[0];Os[l]=new pl(l,1,!1,I[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(I){Os[I]=new pl(I,2,!1,I.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(I){Os[I]=new pl(I,2,!1,I,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(I){Os[I]=new pl(I,3,!1,I.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(I){Os[I]=new pl(I,3,!0,I,null,!1,!1)});["capture","download"].forEach(function(I){Os[I]=new pl(I,4,!1,I,null,!1,!1)});["cols","rows","size","span"].forEach(function(I){Os[I]=new pl(I,6,!1,I,null,!1,!1)});["rowSpan","start"].forEach(function(I){Os[I]=new pl(I,5,!1,I.toLowerCase(),null,!1,!1)});var kb=/[\-:]([a-z])/g;function zb(I){return I[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(I){var l=I.replace(kb,zb);Os[l]=new pl(l,1,!1,I,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(I){var l=I.replace(kb,zb);Os[l]=new pl(l,1,!1,I,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(I){var l=I.replace(kb,zb);Os[l]=new pl(l,1,!1,I,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(I){Os[I]=new pl(I,1,!1,I.toLowerCase(),null,!1,!1)});Os.xlinkHref=new pl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(I){Os[I]=new pl(I,1,!1,I.toLowerCase(),null,!0,!0)});function Fb(I,l,B,st){var Tt=Os.hasOwnProperty(l)?Os[l]:null;(Tt!==null?Tt.type!==0:st||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(LE(l,B,Tt,st)&&(B=null),st||Tt===null?EE(l)&&(B===null?I.removeAttribute(l):I.setAttribute(l,""+B)):Tt.mustUseProperty?I[Tt.propertyName]=B===null?Tt.type===3?!1:"":B:(l=Tt.attributeName,st=Tt.attributeNamespace,B===null?I.removeAttribute(l):(Tt=Tt.type,B=Tt===3||Tt===4&&B===!0?"":""+B,st?I.setAttributeNS(st,l,B):I.setAttribute(l,B))))}var fh=SE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qg=Symbol.for("react.element"),ip=Symbol.for("react.portal"),ap=Symbol.for("react.fragment"),Ob=Symbol.for("react.strict_mode"),Sx=Symbol.for("react.profiler"),sT=Symbol.for("react.provider"),lT=Symbol.for("react.context"),Bb=Symbol.for("react.forward_ref"),Mx=Symbol.for("react.suspense"),Ex=Symbol.for("react.suspense_list"),Nb=Symbol.for("react.memo"),Qh=Symbol.for("react.lazy"),uT=Symbol.for("react.offscreen"),y2=Symbol.iterator;function p0(I){return I===null||typeof I!="object"?null:(I=y2&&I[y2]||I["@@iterator"],typeof I=="function"?I:null)}var Bo=Object.assign,W1;function S0(I){if(W1===void 0)try{throw Error()}catch(B){var l=B.stack.trim().match(/\n( *(at )?)/);W1=l&&l[1]||""}return`
`+W1+I}var Y1=!1;function j1(I,l){if(!I||Y1)return"";Y1=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(y){var st=y}Reflect.construct(I,[],l)}else{try{l.call()}catch(y){st=y}I.call(l.prototype)}else{try{throw Error()}catch(y){st=y}I()}}catch(y){if(y&&st&&typeof y.stack=="string"){for(var Tt=y.stack.split(`
`),Ft=st.stack.split(`
`),W=Tt.length-1,G=Ft.length-1;1<=W&&0<=G&&Tt[W]!==Ft[G];)G--;for(;1<=W&&0<=G;W--,G--)if(Tt[W]!==Ft[G]){if(W!==1||G!==1)do if(W--,G--,0>G||Tt[W]!==Ft[G]){var t=`
`+Tt[W].replace(" at new "," at ");return I.displayName&&t.includes("<anonymous>")&&(t=t.replace("<anonymous>",I.displayName)),t}while(1<=W&&0<=G);break}}}finally{Y1=!1,Error.prepareStackTrace=B}return(I=I?I.displayName||I.name:"")?S0(I):""}function PE(I){switch(I.tag){case 5:return S0(I.type);case 16:return S0("Lazy");case 13:return S0("Suspense");case 19:return S0("SuspenseList");case 0:case 2:case 15:return I=j1(I.type,!1),I;case 11:return I=j1(I.type.render,!1),I;case 1:return I=j1(I.type,!0),I;default:return""}}function Cx(I){if(I==null)return null;if(typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I;switch(I){case ap:return"Fragment";case ip:return"Portal";case Sx:return"Profiler";case Ob:return"StrictMode";case Mx:return"Suspense";case Ex:return"SuspenseList"}if(typeof I=="object")switch(I.$$typeof){case lT:return(I.displayName||"Context")+".Consumer";case sT:return(I._context.displayName||"Context")+".Provider";case Bb:var l=I.render;return I=I.displayName,I||(I=l.displayName||l.name||"",I=I!==""?"ForwardRef("+I+")":"ForwardRef"),I;case Nb:return l=I.displayName||null,l!==null?l:Cx(I.type)||"Memo";case Qh:l=I._payload,I=I._init;try{return Cx(I(l))}catch{}}return null}function IE(I){var l=I.type;switch(I.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return I=l.render,I=I.displayName||I.name||"",l.displayName||(I!==""?"ForwardRef("+I+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cx(l);case 8:return l===Ob?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function vv(I){switch(typeof I){case"boolean":case"number":case"string":case"undefined":return I;case"object":return I;default:return""}}function fT(I){var l=I.type;return(I=I.nodeName)&&I.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function DE(I){var l=fT(I)?"checked":"value",B=Object.getOwnPropertyDescriptor(I.constructor.prototype,l),st=""+I[l];if(!I.hasOwnProperty(l)&&typeof B<"u"&&typeof B.get=="function"&&typeof B.set=="function"){var Tt=B.get,Ft=B.set;return Object.defineProperty(I,l,{configurable:!0,get:function(){return Tt.call(this)},set:function(W){st=""+W,Ft.call(this,W)}}),Object.defineProperty(I,l,{enumerable:B.enumerable}),{getValue:function(){return st},setValue:function(W){st=""+W},stopTracking:function(){I._valueTracker=null,delete I[l]}}}}function ty(I){I._valueTracker||(I._valueTracker=DE(I))}function cT(I){if(!I)return!1;var l=I._valueTracker;if(!l)return!0;var B=l.getValue(),st="";return I&&(st=fT(I)?I.checked?"true":"false":I.value),I=st,I!==B?(l.setValue(I),!0):!1}function By(I){if(I=I||(typeof document<"u"?document:void 0),typeof I>"u")return null;try{return I.activeElement||I.body}catch{return I.body}}function Lx(I,l){var B=l.checked;return Bo({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:B??I._wrapperState.initialChecked})}function m2(I,l){var B=l.defaultValue==null?"":l.defaultValue,st=l.checked!=null?l.checked:l.defaultChecked;B=vv(l.value!=null?l.value:B),I._wrapperState={initialChecked:st,initialValue:B,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function hT(I,l){l=l.checked,l!=null&&Fb(I,"checked",l,!1)}function Px(I,l){hT(I,l);var B=vv(l.value),st=l.type;if(B!=null)st==="number"?(B===0&&I.value===""||I.value!=B)&&(I.value=""+B):I.value!==""+B&&(I.value=""+B);else if(st==="submit"||st==="reset"){I.removeAttribute("value");return}l.hasOwnProperty("value")?Ix(I,l.type,B):l.hasOwnProperty("defaultValue")&&Ix(I,l.type,vv(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(I.defaultChecked=!!l.defaultChecked)}function x2(I,l,B){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var st=l.type;if(!(st!=="submit"&&st!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+I._wrapperState.initialValue,B||l===I.value||(I.value=l),I.defaultValue=l}B=I.name,B!==""&&(I.name=""),I.defaultChecked=!!I._wrapperState.initialChecked,B!==""&&(I.name=B)}function Ix(I,l,B){(l!=="number"||By(I.ownerDocument)!==I)&&(B==null?I.defaultValue=""+I._wrapperState.initialValue:I.defaultValue!==""+B&&(I.defaultValue=""+B))}var M0=Array.isArray;function yp(I,l,B,st){if(I=I.options,l){l={};for(var Tt=0;Tt<B.length;Tt++)l["$"+B[Tt]]=!0;for(B=0;B<I.length;B++)Tt=l.hasOwnProperty("$"+I[B].value),I[B].selected!==Tt&&(I[B].selected=Tt),Tt&&st&&(I[B].defaultSelected=!0)}else{for(B=""+vv(B),l=null,Tt=0;Tt<I.length;Tt++){if(I[Tt].value===B){I[Tt].selected=!0,st&&(I[Tt].defaultSelected=!0);return}l!==null||I[Tt].disabled||(l=I[Tt])}l!==null&&(l.selected=!0)}}function Dx(I,l){if(l.dangerouslySetInnerHTML!=null)throw Error(yi(91));return Bo({},l,{value:void 0,defaultValue:void 0,children:""+I._wrapperState.initialValue})}function b2(I,l){var B=l.value;if(B==null){if(B=l.children,l=l.defaultValue,B!=null){if(l!=null)throw Error(yi(92));if(M0(B)){if(1<B.length)throw Error(yi(93));B=B[0]}l=B}l==null&&(l=""),B=l}I._wrapperState={initialValue:vv(B)}}function vT(I,l){var B=vv(l.value),st=vv(l.defaultValue);B!=null&&(B=""+B,B!==I.value&&(I.value=B),l.defaultValue==null&&I.defaultValue!==B&&(I.defaultValue=B)),st!=null&&(I.defaultValue=""+st)}function w2(I){var l=I.textContent;l===I._wrapperState.initialValue&&l!==""&&l!==null&&(I.value=l)}function dT(I){switch(I){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rx(I,l){return I==null||I==="http://www.w3.org/1999/xhtml"?dT(l):I==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":I}var ey,pT=function(I){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,B,st,Tt){MSApp.execUnsafeLocalFunction(function(){return I(l,B,st,Tt)})}:I}(function(I,l){if(I.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in I)I.innerHTML=l;else{for(ey=ey||document.createElement("div"),ey.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ey.firstChild;I.firstChild;)I.removeChild(I.firstChild);for(;l.firstChild;)I.appendChild(l.firstChild)}});function G0(I,l){if(l){var B=I.firstChild;if(B&&B===I.lastChild&&B.nodeType===3){B.nodeValue=l;return}}I.textContent=l}var I0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RE=["Webkit","ms","Moz","O"];Object.keys(I0).forEach(function(I){RE.forEach(function(l){l=l+I.charAt(0).toUpperCase()+I.substring(1),I0[l]=I0[I]})});function gT(I,l,B){return l==null||typeof l=="boolean"||l===""?"":B||typeof l!="number"||l===0||I0.hasOwnProperty(I)&&I0[I]?(""+l).trim():l+"px"}function yT(I,l){I=I.style;for(var B in l)if(l.hasOwnProperty(B)){var st=B.indexOf("--")===0,Tt=gT(B,l[B],st);B==="float"&&(B="cssFloat"),st?I.setProperty(B,Tt):I[B]=Tt}}var _E=Bo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _x(I,l){if(l){if(_E[I]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(yi(137,I));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(yi(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(yi(61))}if(l.style!=null&&typeof l.style!="object")throw Error(yi(62))}}function kx(I,l){if(I.indexOf("-")===-1)return typeof l.is=="string";switch(I){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zx=null;function Ub(I){return I=I.target||I.srcElement||window,I.correspondingUseElement&&(I=I.correspondingUseElement),I.nodeType===3?I.parentNode:I}var Fx=null,mp=null,xp=null;function T2(I){if(I=pg(I)){if(typeof Fx!="function")throw Error(yi(280));var l=I.stateNode;l&&(l=Hm(l),Fx(I.stateNode,I.type,l))}}function mT(I){mp?xp?xp.push(I):xp=[I]:mp=I}function xT(){if(mp){var I=mp,l=xp;if(xp=mp=null,T2(I),l)for(I=0;I<l.length;I++)T2(l[I])}}function bT(I,l){return I(l)}function wT(){}var X1=!1;function TT(I,l,B){if(X1)return I(l,B);X1=!0;try{return bT(I,l,B)}finally{X1=!1,(mp!==null||xp!==null)&&(wT(),xT())}}function W0(I,l){var B=I.stateNode;if(B===null)return null;var st=Hm(B);if(st===null)return null;B=st[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(st=!st.disabled)||(I=I.type,st=!(I==="button"||I==="input"||I==="select"||I==="textarea")),I=!st;break t;default:I=!1}if(I)return null;if(B&&typeof B!="function")throw Error(yi(231,l,typeof B));return B}var Ox=!1;if(ah)try{var g0={};Object.defineProperty(g0,"passive",{get:function(){Ox=!0}}),window.addEventListener("test",g0,g0),window.removeEventListener("test",g0,g0)}catch{Ox=!1}function kE(I,l,B,st,Tt,Ft,W,G,t){var y=Array.prototype.slice.call(arguments,3);try{l.apply(B,y)}catch(D){this.onError(D)}}var D0=!1,Ny=null,Uy=!1,Bx=null,zE={onError:function(I){D0=!0,Ny=I}};function FE(I,l,B,st,Tt,Ft,W,G,t){D0=!1,Ny=null,kE.apply(zE,arguments)}function OE(I,l,B,st,Tt,Ft,W,G,t){if(FE.apply(this,arguments),D0){if(D0){var y=Ny;D0=!1,Ny=null}else throw Error(yi(198));Uy||(Uy=!0,Bx=y)}}function Sd(I){var l=I,B=I;if(I.alternate)for(;l.return;)l=l.return;else{I=l;do l=I,l.flags&4098&&(B=l.return),I=l.return;while(I)}return l.tag===3?B:null}function AT(I){if(I.tag===13){var l=I.memoizedState;if(l===null&&(I=I.alternate,I!==null&&(l=I.memoizedState)),l!==null)return l.dehydrated}return null}function A2(I){if(Sd(I)!==I)throw Error(yi(188))}function BE(I){var l=I.alternate;if(!l){if(l=Sd(I),l===null)throw Error(yi(188));return l!==I?null:I}for(var B=I,st=l;;){var Tt=B.return;if(Tt===null)break;var Ft=Tt.alternate;if(Ft===null){if(st=Tt.return,st!==null){B=st;continue}break}if(Tt.child===Ft.child){for(Ft=Tt.child;Ft;){if(Ft===B)return A2(Tt),I;if(Ft===st)return A2(Tt),l;Ft=Ft.sibling}throw Error(yi(188))}if(B.return!==st.return)B=Tt,st=Ft;else{for(var W=!1,G=Tt.child;G;){if(G===B){W=!0,B=Tt,st=Ft;break}if(G===st){W=!0,st=Tt,B=Ft;break}G=G.sibling}if(!W){for(G=Ft.child;G;){if(G===B){W=!0,B=Ft,st=Tt;break}if(G===st){W=!0,st=Ft,B=Tt;break}G=G.sibling}if(!W)throw Error(yi(189))}}if(B.alternate!==st)throw Error(yi(190))}if(B.tag!==3)throw Error(yi(188));return B.stateNode.current===B?I:l}function ST(I){return I=BE(I),I!==null?MT(I):null}function MT(I){if(I.tag===5||I.tag===6)return I;for(I=I.child;I!==null;){var l=MT(I);if(l!==null)return l;I=I.sibling}return null}var ET=uu.unstable_scheduleCallback,S2=uu.unstable_cancelCallback,NE=uu.unstable_shouldYield,UE=uu.unstable_requestPaint,Qo=uu.unstable_now,VE=uu.unstable_getCurrentPriorityLevel,Vb=uu.unstable_ImmediatePriority,CT=uu.unstable_UserBlockingPriority,Vy=uu.unstable_NormalPriority,HE=uu.unstable_LowPriority,LT=uu.unstable_IdlePriority,Bm=null,gc=null;function GE(I){if(gc&&typeof gc.onCommitFiberRoot=="function")try{gc.onCommitFiberRoot(Bm,I,void 0,(I.current.flags&128)===128)}catch{}}var If=Math.clz32?Math.clz32:jE,WE=Math.log,YE=Math.LN2;function jE(I){return I>>>=0,I===0?32:31-(WE(I)/YE|0)|0}var ry=64,ny=4194304;function E0(I){switch(I&-I){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return I&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return I&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return I}}function Hy(I,l){var B=I.pendingLanes;if(B===0)return 0;var st=0,Tt=I.suspendedLanes,Ft=I.pingedLanes,W=B&268435455;if(W!==0){var G=W&~Tt;G!==0?st=E0(G):(Ft&=W,Ft!==0&&(st=E0(Ft)))}else W=B&~Tt,W!==0?st=E0(W):Ft!==0&&(st=E0(Ft));if(st===0)return 0;if(l!==0&&l!==st&&!(l&Tt)&&(Tt=st&-st,Ft=l&-l,Tt>=Ft||Tt===16&&(Ft&4194240)!==0))return l;if(st&4&&(st|=B&16),l=I.entangledLanes,l!==0)for(I=I.entanglements,l&=st;0<l;)B=31-If(l),Tt=1<<B,st|=I[B],l&=~Tt;return st}function XE(I,l){switch(I){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZE(I,l){for(var B=I.suspendedLanes,st=I.pingedLanes,Tt=I.expirationTimes,Ft=I.pendingLanes;0<Ft;){var W=31-If(Ft),G=1<<W,t=Tt[W];t===-1?(!(G&B)||G&st)&&(Tt[W]=XE(G,l)):t<=l&&(I.expiredLanes|=G),Ft&=~G}}function Nx(I){return I=I.pendingLanes&-1073741825,I!==0?I:I&1073741824?1073741824:0}function PT(){var I=ry;return ry<<=1,!(ry&4194240)&&(ry=64),I}function Z1(I){for(var l=[],B=0;31>B;B++)l.push(I);return l}function vg(I,l,B){I.pendingLanes|=l,l!==536870912&&(I.suspendedLanes=0,I.pingedLanes=0),I=I.eventTimes,l=31-If(l),I[l]=B}function KE(I,l){var B=I.pendingLanes&~l;I.pendingLanes=l,I.suspendedLanes=0,I.pingedLanes=0,I.expiredLanes&=l,I.mutableReadLanes&=l,I.entangledLanes&=l,l=I.entanglements;var st=I.eventTimes;for(I=I.expirationTimes;0<B;){var Tt=31-If(B),Ft=1<<Tt;l[Tt]=0,st[Tt]=-1,I[Tt]=-1,B&=~Ft}}function Hb(I,l){var B=I.entangledLanes|=l;for(I=I.entanglements;B;){var st=31-If(B),Tt=1<<st;Tt&l|I[st]&l&&(I[st]|=l),B&=~Tt}}var Ka=0;function IT(I){return I&=-I,1<I?4<I?I&268435455?16:536870912:4:1}var DT,Gb,RT,_T,kT,Ux=!1,iy=[],av=null,ov=null,sv=null,Y0=new Map,j0=new Map,ev=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M2(I,l){switch(I){case"focusin":case"focusout":av=null;break;case"dragenter":case"dragleave":ov=null;break;case"mouseover":case"mouseout":sv=null;break;case"pointerover":case"pointerout":Y0.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":j0.delete(l.pointerId)}}function y0(I,l,B,st,Tt,Ft){return I===null||I.nativeEvent!==Ft?(I={blockedOn:l,domEventName:B,eventSystemFlags:st,nativeEvent:Ft,targetContainers:[Tt]},l!==null&&(l=pg(l),l!==null&&Gb(l)),I):(I.eventSystemFlags|=st,l=I.targetContainers,Tt!==null&&l.indexOf(Tt)===-1&&l.push(Tt),I)}function QE(I,l,B,st,Tt){switch(l){case"focusin":return av=y0(av,I,l,B,st,Tt),!0;case"dragenter":return ov=y0(ov,I,l,B,st,Tt),!0;case"mouseover":return sv=y0(sv,I,l,B,st,Tt),!0;case"pointerover":var Ft=Tt.pointerId;return Y0.set(Ft,y0(Y0.get(Ft)||null,I,l,B,st,Tt)),!0;case"gotpointercapture":return Ft=Tt.pointerId,j0.set(Ft,y0(j0.get(Ft)||null,I,l,B,st,Tt)),!0}return!1}function zT(I){var l=id(I.target);if(l!==null){var B=Sd(l);if(B!==null){if(l=B.tag,l===13){if(l=AT(B),l!==null){I.blockedOn=l,kT(I.priority,function(){RT(B)});return}}else if(l===3&&B.stateNode.current.memoizedState.isDehydrated){I.blockedOn=B.tag===3?B.stateNode.containerInfo:null;return}}}I.blockedOn=null}function by(I){if(I.blockedOn!==null)return!1;for(var l=I.targetContainers;0<l.length;){var B=Vx(I.domEventName,I.eventSystemFlags,l[0],I.nativeEvent);if(B===null){B=I.nativeEvent;var st=new B.constructor(B.type,B);zx=st,B.target.dispatchEvent(st),zx=null}else return l=pg(B),l!==null&&Gb(l),I.blockedOn=B,!1;l.shift()}return!0}function E2(I,l,B){by(I)&&B.delete(l)}function $E(){Ux=!1,av!==null&&by(av)&&(av=null),ov!==null&&by(ov)&&(ov=null),sv!==null&&by(sv)&&(sv=null),Y0.forEach(E2),j0.forEach(E2)}function m0(I,l){I.blockedOn===l&&(I.blockedOn=null,Ux||(Ux=!0,uu.unstable_scheduleCallback(uu.unstable_NormalPriority,$E)))}function X0(I){function l(Tt){return m0(Tt,I)}if(0<iy.length){m0(iy[0],I);for(var B=1;B<iy.length;B++){var st=iy[B];st.blockedOn===I&&(st.blockedOn=null)}}for(av!==null&&m0(av,I),ov!==null&&m0(ov,I),sv!==null&&m0(sv,I),Y0.forEach(l),j0.forEach(l),B=0;B<ev.length;B++)st=ev[B],st.blockedOn===I&&(st.blockedOn=null);for(;0<ev.length&&(B=ev[0],B.blockedOn===null);)zT(B),B.blockedOn===null&&ev.shift()}var bp=fh.ReactCurrentBatchConfig,Gy=!0;function qE(I,l,B,st){var Tt=Ka,Ft=bp.transition;bp.transition=null;try{Ka=1,Wb(I,l,B,st)}finally{Ka=Tt,bp.transition=Ft}}function tC(I,l,B,st){var Tt=Ka,Ft=bp.transition;bp.transition=null;try{Ka=4,Wb(I,l,B,st)}finally{Ka=Tt,bp.transition=Ft}}function Wb(I,l,B,st){if(Gy){var Tt=Vx(I,l,B,st);if(Tt===null)ix(I,l,st,Wy,B),M2(I,st);else if(QE(Tt,I,l,B,st))st.stopPropagation();else if(M2(I,st),l&4&&-1<JE.indexOf(I)){for(;Tt!==null;){var Ft=pg(Tt);if(Ft!==null&&DT(Ft),Ft=Vx(I,l,B,st),Ft===null&&ix(I,l,st,Wy,B),Ft===Tt)break;Tt=Ft}Tt!==null&&st.stopPropagation()}else ix(I,l,st,null,B)}}var Wy=null;function Vx(I,l,B,st){if(Wy=null,I=Ub(st),I=id(I),I!==null)if(l=Sd(I),l===null)I=null;else if(B=l.tag,B===13){if(I=AT(l),I!==null)return I;I=null}else if(B===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;I=null}else l!==I&&(I=null);return Wy=I,null}function FT(I){switch(I){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VE()){case Vb:return 1;case CT:return 4;case Vy:case HE:return 16;case LT:return 536870912;default:return 16}default:return 16}}var nv=null,Yb=null,wy=null;function OT(){if(wy)return wy;var I,l=Yb,B=l.length,st,Tt="value"in nv?nv.value:nv.textContent,Ft=Tt.length;for(I=0;I<B&&l[I]===Tt[I];I++);var W=B-I;for(st=1;st<=W&&l[B-st]===Tt[Ft-st];st++);return wy=Tt.slice(I,1<st?1-st:void 0)}function Ty(I){var l=I.keyCode;return"charCode"in I?(I=I.charCode,I===0&&l===13&&(I=13)):I=l,I===10&&(I=13),32<=I||I===13?I:0}function ay(){return!0}function C2(){return!1}function vu(I){function l(B,st,Tt,Ft,W){this._reactName=B,this._targetInst=Tt,this.type=st,this.nativeEvent=Ft,this.target=W,this.currentTarget=null;for(var G in I)I.hasOwnProperty(G)&&(B=I[G],this[G]=B?B(Ft):Ft[G]);return this.isDefaultPrevented=(Ft.defaultPrevented!=null?Ft.defaultPrevented:Ft.returnValue===!1)?ay:C2,this.isPropagationStopped=C2,this}return Bo(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var B=this.nativeEvent;B&&(B.preventDefault?B.preventDefault():typeof B.returnValue!="unknown"&&(B.returnValue=!1),this.isDefaultPrevented=ay)},stopPropagation:function(){var B=this.nativeEvent;B&&(B.stopPropagation?B.stopPropagation():typeof B.cancelBubble!="unknown"&&(B.cancelBubble=!0),this.isPropagationStopped=ay)},persist:function(){},isPersistent:ay}),l}var Gp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(I){return I.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jb=vu(Gp),dg=Bo({},Gp,{view:0,detail:0}),eC=vu(dg),K1,J1,x0,Nm=Bo({},dg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xb,button:0,buttons:0,relatedTarget:function(I){return I.relatedTarget===void 0?I.fromElement===I.srcElement?I.toElement:I.fromElement:I.relatedTarget},movementX:function(I){return"movementX"in I?I.movementX:(I!==x0&&(x0&&I.type==="mousemove"?(K1=I.screenX-x0.screenX,J1=I.screenY-x0.screenY):J1=K1=0,x0=I),K1)},movementY:function(I){return"movementY"in I?I.movementY:J1}}),L2=vu(Nm),rC=Bo({},Nm,{dataTransfer:0}),nC=vu(rC),iC=Bo({},dg,{relatedTarget:0}),Q1=vu(iC),aC=Bo({},Gp,{animationName:0,elapsedTime:0,pseudoElement:0}),oC=vu(aC),sC=Bo({},Gp,{clipboardData:function(I){return"clipboardData"in I?I.clipboardData:window.clipboardData}}),lC=vu(sC),uC=Bo({},Gp,{data:0}),P2=vu(uC),fC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vC(I){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(I):(I=hC[I])?!!l[I]:!1}function Xb(){return vC}var dC=Bo({},dg,{key:function(I){if(I.key){var l=fC[I.key]||I.key;if(l!=="Unidentified")return l}return I.type==="keypress"?(I=Ty(I),I===13?"Enter":String.fromCharCode(I)):I.type==="keydown"||I.type==="keyup"?cC[I.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xb,charCode:function(I){return I.type==="keypress"?Ty(I):0},keyCode:function(I){return I.type==="keydown"||I.type==="keyup"?I.keyCode:0},which:function(I){return I.type==="keypress"?Ty(I):I.type==="keydown"||I.type==="keyup"?I.keyCode:0}}),pC=vu(dC),gC=Bo({},Nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I2=vu(gC),yC=Bo({},dg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xb}),mC=vu(yC),xC=Bo({},Gp,{propertyName:0,elapsedTime:0,pseudoElement:0}),bC=vu(xC),wC=Bo({},Nm,{deltaX:function(I){return"deltaX"in I?I.deltaX:"wheelDeltaX"in I?-I.wheelDeltaX:0},deltaY:function(I){return"deltaY"in I?I.deltaY:"wheelDeltaY"in I?-I.wheelDeltaY:"wheelDelta"in I?-I.wheelDelta:0},deltaZ:0,deltaMode:0}),TC=vu(wC),AC=[9,13,27,32],Zb=ah&&"CompositionEvent"in window,R0=null;ah&&"documentMode"in document&&(R0=document.documentMode);var SC=ah&&"TextEvent"in window&&!R0,BT=ah&&(!Zb||R0&&8<R0&&11>=R0),D2=" ",R2=!1;function NT(I,l){switch(I){case"keyup":return AC.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UT(I){return I=I.detail,typeof I=="object"&&"data"in I?I.data:null}var op=!1;function MC(I,l){switch(I){case"compositionend":return UT(l);case"keypress":return l.which!==32?null:(R2=!0,D2);case"textInput":return I=l.data,I===D2&&R2?null:I;default:return null}}function EC(I,l){if(op)return I==="compositionend"||!Zb&&NT(I,l)?(I=OT(),wy=Yb=nv=null,op=!1,I):null;switch(I){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return BT&&l.locale!=="ko"?null:l.data;default:return null}}var CC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _2(I){var l=I&&I.nodeName&&I.nodeName.toLowerCase();return l==="input"?!!CC[I.type]:l==="textarea"}function VT(I,l,B,st){mT(st),l=Yy(l,"onChange"),0<l.length&&(B=new jb("onChange","change",null,B,st),I.push({event:B,listeners:l}))}var _0=null,Z0=null;function LC(I){$T(I,0)}function Um(I){var l=up(I);if(cT(l))return I}function PC(I,l){if(I==="change")return l}var HT=!1;if(ah){var $1;if(ah){var q1="oninput"in document;if(!q1){var k2=document.createElement("div");k2.setAttribute("oninput","return;"),q1=typeof k2.oninput=="function"}$1=q1}else $1=!1;HT=$1&&(!document.documentMode||9<document.documentMode)}function z2(){_0&&(_0.detachEvent("onpropertychange",GT),Z0=_0=null)}function GT(I){if(I.propertyName==="value"&&Um(Z0)){var l=[];VT(l,Z0,I,Ub(I)),TT(LC,l)}}function IC(I,l,B){I==="focusin"?(z2(),_0=l,Z0=B,_0.attachEvent("onpropertychange",GT)):I==="focusout"&&z2()}function DC(I){if(I==="selectionchange"||I==="keyup"||I==="keydown")return Um(Z0)}function RC(I,l){if(I==="click")return Um(l)}function _C(I,l){if(I==="input"||I==="change")return Um(l)}function kC(I,l){return I===l&&(I!==0||1/I===1/l)||I!==I&&l!==l}var _f=typeof Object.is=="function"?Object.is:kC;function K0(I,l){if(_f(I,l))return!0;if(typeof I!="object"||I===null||typeof l!="object"||l===null)return!1;var B=Object.keys(I),st=Object.keys(l);if(B.length!==st.length)return!1;for(st=0;st<B.length;st++){var Tt=B[st];if(!Ax.call(l,Tt)||!_f(I[Tt],l[Tt]))return!1}return!0}function F2(I){for(;I&&I.firstChild;)I=I.firstChild;return I}function O2(I,l){var B=F2(I);I=0;for(var st;B;){if(B.nodeType===3){if(st=I+B.textContent.length,I<=l&&st>=l)return{node:B,offset:l-I};I=st}t:{for(;B;){if(B.nextSibling){B=B.nextSibling;break t}B=B.parentNode}B=void 0}B=F2(B)}}function WT(I,l){return I&&l?I===l?!0:I&&I.nodeType===3?!1:l&&l.nodeType===3?WT(I,l.parentNode):"contains"in I?I.contains(l):I.compareDocumentPosition?!!(I.compareDocumentPosition(l)&16):!1:!1}function YT(){for(var I=window,l=By();l instanceof I.HTMLIFrameElement;){try{var B=typeof l.contentWindow.location.href=="string"}catch{B=!1}if(B)I=l.contentWindow;else break;l=By(I.document)}return l}function Kb(I){var l=I&&I.nodeName&&I.nodeName.toLowerCase();return l&&(l==="input"&&(I.type==="text"||I.type==="search"||I.type==="tel"||I.type==="url"||I.type==="password")||l==="textarea"||I.contentEditable==="true")}function zC(I){var l=YT(),B=I.focusedElem,st=I.selectionRange;if(l!==B&&B&&B.ownerDocument&&WT(B.ownerDocument.documentElement,B)){if(st!==null&&Kb(B)){if(l=st.start,I=st.end,I===void 0&&(I=l),"selectionStart"in B)B.selectionStart=l,B.selectionEnd=Math.min(I,B.value.length);else if(I=(l=B.ownerDocument||document)&&l.defaultView||window,I.getSelection){I=I.getSelection();var Tt=B.textContent.length,Ft=Math.min(st.start,Tt);st=st.end===void 0?Ft:Math.min(st.end,Tt),!I.extend&&Ft>st&&(Tt=st,st=Ft,Ft=Tt),Tt=O2(B,Ft);var W=O2(B,st);Tt&&W&&(I.rangeCount!==1||I.anchorNode!==Tt.node||I.anchorOffset!==Tt.offset||I.focusNode!==W.node||I.focusOffset!==W.offset)&&(l=l.createRange(),l.setStart(Tt.node,Tt.offset),I.removeAllRanges(),Ft>st?(I.addRange(l),I.extend(W.node,W.offset)):(l.setEnd(W.node,W.offset),I.addRange(l)))}}for(l=[],I=B;I=I.parentNode;)I.nodeType===1&&l.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<l.length;B++)I=l[B],I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}var FC=ah&&"documentMode"in document&&11>=document.documentMode,sp=null,Hx=null,k0=null,Gx=!1;function B2(I,l,B){var st=B.window===B?B.document:B.nodeType===9?B:B.ownerDocument;Gx||sp==null||sp!==By(st)||(st=sp,"selectionStart"in st&&Kb(st)?st={start:st.selectionStart,end:st.selectionEnd}:(st=(st.ownerDocument&&st.ownerDocument.defaultView||window).getSelection(),st={anchorNode:st.anchorNode,anchorOffset:st.anchorOffset,focusNode:st.focusNode,focusOffset:st.focusOffset}),k0&&K0(k0,st)||(k0=st,st=Yy(Hx,"onSelect"),0<st.length&&(l=new jb("onSelect","select",null,l,B),I.push({event:l,listeners:st}),l.target=sp)))}function oy(I,l){var B={};return B[I.toLowerCase()]=l.toLowerCase(),B["Webkit"+I]="webkit"+l,B["Moz"+I]="moz"+l,B}var lp={animationend:oy("Animation","AnimationEnd"),animationiteration:oy("Animation","AnimationIteration"),animationstart:oy("Animation","AnimationStart"),transitionend:oy("Transition","TransitionEnd")},tx={},jT={};ah&&(jT=document.createElement("div").style,"AnimationEvent"in window||(delete lp.animationend.animation,delete lp.animationiteration.animation,delete lp.animationstart.animation),"TransitionEvent"in window||delete lp.transitionend.transition);function Vm(I){if(tx[I])return tx[I];if(!lp[I])return I;var l=lp[I],B;for(B in l)if(l.hasOwnProperty(B)&&B in jT)return tx[I]=l[B];return I}var XT=Vm("animationend"),ZT=Vm("animationiteration"),KT=Vm("animationstart"),JT=Vm("transitionend"),QT=new Map,N2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wv(I,l){QT.set(I,l),Ad(l,[I])}for(var ex=0;ex<N2.length;ex++){var rx=N2[ex],OC=rx.toLowerCase(),BC=rx[0].toUpperCase()+rx.slice(1);wv(OC,"on"+BC)}wv(XT,"onAnimationEnd");wv(ZT,"onAnimationIteration");wv(KT,"onAnimationStart");wv("dblclick","onDoubleClick");wv("focusin","onFocus");wv("focusout","onBlur");wv(JT,"onTransitionEnd");Lp("onMouseEnter",["mouseout","mouseover"]);Lp("onMouseLeave",["mouseout","mouseover"]);Lp("onPointerEnter",["pointerout","pointerover"]);Lp("onPointerLeave",["pointerout","pointerover"]);Ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var C0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NC=new Set("cancel close invalid load scroll toggle".split(" ").concat(C0));function U2(I,l,B){var st=I.type||"unknown-event";I.currentTarget=B,OE(st,l,void 0,I),I.currentTarget=null}function $T(I,l){l=(l&4)!==0;for(var B=0;B<I.length;B++){var st=I[B],Tt=st.event;st=st.listeners;t:{var Ft=void 0;if(l)for(var W=st.length-1;0<=W;W--){var G=st[W],t=G.instance,y=G.currentTarget;if(G=G.listener,t!==Ft&&Tt.isPropagationStopped())break t;U2(Tt,G,y),Ft=t}else for(W=0;W<st.length;W++){if(G=st[W],t=G.instance,y=G.currentTarget,G=G.listener,t!==Ft&&Tt.isPropagationStopped())break t;U2(Tt,G,y),Ft=t}}}if(Uy)throw I=Bx,Uy=!1,Bx=null,I}function po(I,l){var B=l[Zx];B===void 0&&(B=l[Zx]=new Set);var st=I+"__bubble";B.has(st)||(qT(l,I,2,!1),B.add(st))}function nx(I,l,B){var st=0;l&&(st|=4),qT(B,I,st,l)}var sy="_reactListening"+Math.random().toString(36).slice(2);function J0(I){if(!I[sy]){I[sy]=!0,oT.forEach(function(B){B!=="selectionchange"&&(NC.has(B)||nx(B,!1,I),nx(B,!0,I))});var l=I.nodeType===9?I:I.ownerDocument;l===null||l[sy]||(l[sy]=!0,nx("selectionchange",!1,l))}}function qT(I,l,B,st){switch(FT(l)){case 1:var Tt=qE;break;case 4:Tt=tC;break;default:Tt=Wb}B=Tt.bind(null,l,B,I),Tt=void 0,!Ox||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(Tt=!0),st?Tt!==void 0?I.addEventListener(l,B,{capture:!0,passive:Tt}):I.addEventListener(l,B,!0):Tt!==void 0?I.addEventListener(l,B,{passive:Tt}):I.addEventListener(l,B,!1)}function ix(I,l,B,st,Tt){var Ft=st;if(!(l&1)&&!(l&2)&&st!==null)t:for(;;){if(st===null)return;var W=st.tag;if(W===3||W===4){var G=st.stateNode.containerInfo;if(G===Tt||G.nodeType===8&&G.parentNode===Tt)break;if(W===4)for(W=st.return;W!==null;){var t=W.tag;if((t===3||t===4)&&(t=W.stateNode.containerInfo,t===Tt||t.nodeType===8&&t.parentNode===Tt))return;W=W.return}for(;G!==null;){if(W=id(G),W===null)return;if(t=W.tag,t===5||t===6){st=Ft=W;continue t}G=G.parentNode}}st=st.return}TT(function(){var y=Ft,D=Ub(B),s=[];t:{var P=QT.get(I);if(P!==void 0){var M=jb,d=I;switch(I){case"keypress":if(Ty(B)===0)break t;case"keydown":case"keyup":M=pC;break;case"focusin":d="focus",M=Q1;break;case"focusout":d="blur",M=Q1;break;case"beforeblur":case"afterblur":M=Q1;break;case"click":if(B.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=L2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=nC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=mC;break;case XT:case ZT:case KT:M=oC;break;case JT:M=bC;break;case"scroll":M=eC;break;case"wheel":M=TC;break;case"copy":case"cut":case"paste":M=lC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=I2}var g=(l&4)!==0,r=!g&&I==="scroll",e=g?P!==null?P+"Capture":null:P;g=[];for(var o=y,n;o!==null;){n=o;var u=n.stateNode;if(n.tag===5&&u!==null&&(n=u,e!==null&&(u=W0(o,e),u!=null&&g.push(Q0(o,u,n)))),r)break;o=o.return}0<g.length&&(P=new M(P,d,null,B,D),s.push({event:P,listeners:g}))}}if(!(l&7)){t:{if(P=I==="mouseover"||I==="pointerover",M=I==="mouseout"||I==="pointerout",P&&B!==zx&&(d=B.relatedTarget||B.fromElement)&&(id(d)||d[oh]))break t;if((M||P)&&(P=D.window===D?D:(P=D.ownerDocument)?P.defaultView||P.parentWindow:window,M?(d=B.relatedTarget||B.toElement,M=y,d=d?id(d):null,d!==null&&(r=Sd(d),d!==r||d.tag!==5&&d.tag!==6)&&(d=null)):(M=null,d=y),M!==d)){if(g=L2,u="onMouseLeave",e="onMouseEnter",o="mouse",(I==="pointerout"||I==="pointerover")&&(g=I2,u="onPointerLeave",e="onPointerEnter",o="pointer"),r=M==null?P:up(M),n=d==null?P:up(d),P=new g(u,o+"leave",M,B,D),P.target=r,P.relatedTarget=n,u=null,id(D)===y&&(g=new g(e,o+"enter",d,B,D),g.target=n,g.relatedTarget=r,u=g),r=u,M&&d)e:{for(g=M,e=d,o=0,n=g;n;n=$d(n))o++;for(n=0,u=e;u;u=$d(u))n++;for(;0<o-n;)g=$d(g),o--;for(;0<n-o;)e=$d(e),n--;for(;o--;){if(g===e||e!==null&&g===e.alternate)break e;g=$d(g),e=$d(e)}g=null}else g=null;M!==null&&V2(s,P,M,g,!1),d!==null&&r!==null&&V2(s,r,d,g,!0)}}t:{if(P=y?up(y):window,M=P.nodeName&&P.nodeName.toLowerCase(),M==="select"||M==="input"&&P.type==="file")var f=PC;else if(_2(P))if(HT)f=_C;else{f=DC;var c=IC}else(M=P.nodeName)&&M.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(f=RC);if(f&&(f=f(I,y))){VT(s,f,B,D);break t}c&&c(I,P,y),I==="focusout"&&(c=P._wrapperState)&&c.controlled&&P.type==="number"&&Ix(P,"number",P.value)}switch(c=y?up(y):window,I){case"focusin":(_2(c)||c.contentEditable==="true")&&(sp=c,Hx=y,k0=null);break;case"focusout":k0=Hx=sp=null;break;case"mousedown":Gx=!0;break;case"contextmenu":case"mouseup":case"dragend":Gx=!1,B2(s,B,D);break;case"selectionchange":if(FC)break;case"keydown":case"keyup":B2(s,B,D)}var m;if(Zb)t:{switch(I){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else op?NT(I,B)&&(v="onCompositionEnd"):I==="keydown"&&B.keyCode===229&&(v="onCompositionStart");v&&(BT&&B.locale!=="ko"&&(op||v!=="onCompositionStart"?v==="onCompositionEnd"&&op&&(m=OT()):(nv=D,Yb="value"in nv?nv.value:nv.textContent,op=!0)),c=Yy(y,v),0<c.length&&(v=new P2(v,I,null,B,D),s.push({event:v,listeners:c}),m?v.data=m:(m=UT(B),m!==null&&(v.data=m)))),(m=SC?MC(I,B):EC(I,B))&&(y=Yy(y,"onBeforeInput"),0<y.length&&(D=new P2("onBeforeInput","beforeinput",null,B,D),s.push({event:D,listeners:y}),D.data=m))}$T(s,l)})}function Q0(I,l,B){return{instance:I,listener:l,currentTarget:B}}function Yy(I,l){for(var B=l+"Capture",st=[];I!==null;){var Tt=I,Ft=Tt.stateNode;Tt.tag===5&&Ft!==null&&(Tt=Ft,Ft=W0(I,B),Ft!=null&&st.unshift(Q0(I,Ft,Tt)),Ft=W0(I,l),Ft!=null&&st.push(Q0(I,Ft,Tt))),I=I.return}return st}function $d(I){if(I===null)return null;do I=I.return;while(I&&I.tag!==5);return I||null}function V2(I,l,B,st,Tt){for(var Ft=l._reactName,W=[];B!==null&&B!==st;){var G=B,t=G.alternate,y=G.stateNode;if(t!==null&&t===st)break;G.tag===5&&y!==null&&(G=y,Tt?(t=W0(B,Ft),t!=null&&W.unshift(Q0(B,t,G))):Tt||(t=W0(B,Ft),t!=null&&W.push(Q0(B,t,G)))),B=B.return}W.length!==0&&I.push({event:l,listeners:W})}var UC=/\r\n?/g,VC=/\u0000|\uFFFD/g;function H2(I){return(typeof I=="string"?I:""+I).replace(UC,`
`).replace(VC,"")}function ly(I,l,B){if(l=H2(l),H2(I)!==l&&B)throw Error(yi(425))}function jy(){}var Wx=null,Yx=null;function jx(I,l){return I==="textarea"||I==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Xx=typeof setTimeout=="function"?setTimeout:void 0,HC=typeof clearTimeout=="function"?clearTimeout:void 0,G2=typeof Promise=="function"?Promise:void 0,GC=typeof queueMicrotask=="function"?queueMicrotask:typeof G2<"u"?function(I){return G2.resolve(null).then(I).catch(WC)}:Xx;function WC(I){setTimeout(function(){throw I})}function ax(I,l){var B=l,st=0;do{var Tt=B.nextSibling;if(I.removeChild(B),Tt&&Tt.nodeType===8)if(B=Tt.data,B==="/$"){if(st===0){I.removeChild(Tt),X0(l);return}st--}else B!=="$"&&B!=="$?"&&B!=="$!"||st++;B=Tt}while(B);X0(l)}function lv(I){for(;I!=null;I=I.nextSibling){var l=I.nodeType;if(l===1||l===3)break;if(l===8){if(l=I.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return I}function W2(I){I=I.previousSibling;for(var l=0;I;){if(I.nodeType===8){var B=I.data;if(B==="$"||B==="$!"||B==="$?"){if(l===0)return I;l--}else B==="/$"&&l++}I=I.previousSibling}return null}var Wp=Math.random().toString(36).slice(2),sc="__reactFiber$"+Wp,$0="__reactProps$"+Wp,oh="__reactContainer$"+Wp,Zx="__reactEvents$"+Wp,YC="__reactListeners$"+Wp,jC="__reactHandles$"+Wp;function id(I){var l=I[sc];if(l)return l;for(var B=I.parentNode;B;){if(l=B[oh]||B[sc]){if(B=l.alternate,l.child!==null||B!==null&&B.child!==null)for(I=W2(I);I!==null;){if(B=I[sc])return B;I=W2(I)}return l}I=B,B=I.parentNode}return null}function pg(I){return I=I[sc]||I[oh],!I||I.tag!==5&&I.tag!==6&&I.tag!==13&&I.tag!==3?null:I}function up(I){if(I.tag===5||I.tag===6)return I.stateNode;throw Error(yi(33))}function Hm(I){return I[$0]||null}var Kx=[],fp=-1;function Tv(I){return{current:I}}function go(I){0>fp||(I.current=Kx[fp],Kx[fp]=null,fp--)}function lo(I,l){fp++,Kx[fp]=I.current,I.current=l}var dv={},Qs=Tv(dv),Ol=Tv(!1),yd=dv;function Pp(I,l){var B=I.type.contextTypes;if(!B)return dv;var st=I.stateNode;if(st&&st.__reactInternalMemoizedUnmaskedChildContext===l)return st.__reactInternalMemoizedMaskedChildContext;var Tt={},Ft;for(Ft in B)Tt[Ft]=l[Ft];return st&&(I=I.stateNode,I.__reactInternalMemoizedUnmaskedChildContext=l,I.__reactInternalMemoizedMaskedChildContext=Tt),Tt}function Bl(I){return I=I.childContextTypes,I!=null}function Xy(){go(Ol),go(Qs)}function Y2(I,l,B){if(Qs.current!==dv)throw Error(yi(168));lo(Qs,l),lo(Ol,B)}function t5(I,l,B){var st=I.stateNode;if(l=l.childContextTypes,typeof st.getChildContext!="function")return B;st=st.getChildContext();for(var Tt in st)if(!(Tt in l))throw Error(yi(108,IE(I)||"Unknown",Tt));return Bo({},B,st)}function Zy(I){return I=(I=I.stateNode)&&I.__reactInternalMemoizedMergedChildContext||dv,yd=Qs.current,lo(Qs,I),lo(Ol,Ol.current),!0}function j2(I,l,B){var st=I.stateNode;if(!st)throw Error(yi(169));B?(I=t5(I,l,yd),st.__reactInternalMemoizedMergedChildContext=I,go(Ol),go(Qs),lo(Qs,I)):go(Ol),lo(Ol,B)}var Qc=null,Gm=!1,ox=!1;function e5(I){Qc===null?Qc=[I]:Qc.push(I)}function XC(I){Gm=!0,e5(I)}function Av(){if(!ox&&Qc!==null){ox=!0;var I=0,l=Ka;try{var B=Qc;for(Ka=1;I<B.length;I++){var st=B[I];do st=st(!0);while(st!==null)}Qc=null,Gm=!1}catch(Tt){throw Qc!==null&&(Qc=Qc.slice(I+1)),ET(Vb,Av),Tt}finally{Ka=l,ox=!1}}return null}var cp=[],hp=0,Ky=null,Jy=0,Vu=[],Hu=0,md=null,th=1,eh="";function ed(I,l){cp[hp++]=Jy,cp[hp++]=Ky,Ky=I,Jy=l}function r5(I,l,B){Vu[Hu++]=th,Vu[Hu++]=eh,Vu[Hu++]=md,md=I;var st=th;I=eh;var Tt=32-If(st)-1;st&=~(1<<Tt),B+=1;var Ft=32-If(l)+Tt;if(30<Ft){var W=Tt-Tt%5;Ft=(st&(1<<W)-1).toString(32),st>>=W,Tt-=W,th=1<<32-If(l)+Tt|B<<Tt|st,eh=Ft+I}else th=1<<Ft|B<<Tt|st,eh=I}function Jb(I){I.return!==null&&(ed(I,1),r5(I,1,0))}function Qb(I){for(;I===Ky;)Ky=cp[--hp],cp[hp]=null,Jy=cp[--hp],cp[hp]=null;for(;I===md;)md=Vu[--Hu],Vu[Hu]=null,eh=Vu[--Hu],Vu[Hu]=null,th=Vu[--Hu],Vu[Hu]=null}var lu=null,su=null,Ao=!1,Pf=null;function n5(I,l){var B=Yu(5,null,null,0);B.elementType="DELETED",B.stateNode=l,B.return=I,l=I.deletions,l===null?(I.deletions=[B],I.flags|=16):l.push(B)}function X2(I,l){switch(I.tag){case 5:var B=I.type;return l=l.nodeType!==1||B.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(I.stateNode=l,lu=I,su=lv(l.firstChild),!0):!1;case 6:return l=I.pendingProps===""||l.nodeType!==3?null:l,l!==null?(I.stateNode=l,lu=I,su=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(B=md!==null?{id:th,overflow:eh}:null,I.memoizedState={dehydrated:l,treeContext:B,retryLane:1073741824},B=Yu(18,null,null,0),B.stateNode=l,B.return=I,I.child=B,lu=I,su=null,!0):!1;default:return!1}}function Jx(I){return(I.mode&1)!==0&&(I.flags&128)===0}function Qx(I){if(Ao){var l=su;if(l){var B=l;if(!X2(I,l)){if(Jx(I))throw Error(yi(418));l=lv(B.nextSibling);var st=lu;l&&X2(I,l)?n5(st,B):(I.flags=I.flags&-4097|2,Ao=!1,lu=I)}}else{if(Jx(I))throw Error(yi(418));I.flags=I.flags&-4097|2,Ao=!1,lu=I}}}function Z2(I){for(I=I.return;I!==null&&I.tag!==5&&I.tag!==3&&I.tag!==13;)I=I.return;lu=I}function uy(I){if(I!==lu)return!1;if(!Ao)return Z2(I),Ao=!0,!1;var l;if((l=I.tag!==3)&&!(l=I.tag!==5)&&(l=I.type,l=l!=="head"&&l!=="body"&&!jx(I.type,I.memoizedProps)),l&&(l=su)){if(Jx(I))throw i5(),Error(yi(418));for(;l;)n5(I,l),l=lv(l.nextSibling)}if(Z2(I),I.tag===13){if(I=I.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(yi(317));t:{for(I=I.nextSibling,l=0;I;){if(I.nodeType===8){var B=I.data;if(B==="/$"){if(l===0){su=lv(I.nextSibling);break t}l--}else B!=="$"&&B!=="$!"&&B!=="$?"||l++}I=I.nextSibling}su=null}}else su=lu?lv(I.stateNode.nextSibling):null;return!0}function i5(){for(var I=su;I;)I=lv(I.nextSibling)}function Ip(){su=lu=null,Ao=!1}function $b(I){Pf===null?Pf=[I]:Pf.push(I)}var ZC=fh.ReactCurrentBatchConfig;function b0(I,l,B){if(I=B.ref,I!==null&&typeof I!="function"&&typeof I!="object"){if(B._owner){if(B=B._owner,B){if(B.tag!==1)throw Error(yi(309));var st=B.stateNode}if(!st)throw Error(yi(147,I));var Tt=st,Ft=""+I;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===Ft?l.ref:(l=function(W){var G=Tt.refs;W===null?delete G[Ft]:G[Ft]=W},l._stringRef=Ft,l)}if(typeof I!="string")throw Error(yi(284));if(!B._owner)throw Error(yi(290,I))}return I}function fy(I,l){throw I=Object.prototype.toString.call(l),Error(yi(31,I==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":I))}function K2(I){var l=I._init;return l(I._payload)}function a5(I){function l(e,o){if(I){var n=e.deletions;n===null?(e.deletions=[o],e.flags|=16):n.push(o)}}function B(e,o){if(!I)return null;for(;o!==null;)l(e,o),o=o.sibling;return null}function st(e,o){for(e=new Map;o!==null;)o.key!==null?e.set(o.key,o):e.set(o.index,o),o=o.sibling;return e}function Tt(e,o){return e=hv(e,o),e.index=0,e.sibling=null,e}function Ft(e,o,n){return e.index=n,I?(n=e.alternate,n!==null?(n=n.index,n<o?(e.flags|=2,o):n):(e.flags|=2,o)):(e.flags|=1048576,o)}function W(e){return I&&e.alternate===null&&(e.flags|=2),e}function G(e,o,n,u){return o===null||o.tag!==6?(o=vx(n,e.mode,u),o.return=e,o):(o=Tt(o,n),o.return=e,o)}function t(e,o,n,u){var f=n.type;return f===ap?D(e,o,n.props.children,u,n.key):o!==null&&(o.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===Qh&&K2(f)===o.type)?(u=Tt(o,n.props),u.ref=b0(e,o,n),u.return=e,u):(u=Py(n.type,n.key,n.props,null,e.mode,u),u.ref=b0(e,o,n),u.return=e,u)}function y(e,o,n,u){return o===null||o.tag!==4||o.stateNode.containerInfo!==n.containerInfo||o.stateNode.implementation!==n.implementation?(o=dx(n,e.mode,u),o.return=e,o):(o=Tt(o,n.children||[]),o.return=e,o)}function D(e,o,n,u,f){return o===null||o.tag!==7?(o=dd(n,e.mode,u,f),o.return=e,o):(o=Tt(o,n),o.return=e,o)}function s(e,o,n){if(typeof o=="string"&&o!==""||typeof o=="number")return o=vx(""+o,e.mode,n),o.return=e,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case qg:return n=Py(o.type,o.key,o.props,null,e.mode,n),n.ref=b0(e,null,o),n.return=e,n;case ip:return o=dx(o,e.mode,n),o.return=e,o;case Qh:var u=o._init;return s(e,u(o._payload),n)}if(M0(o)||p0(o))return o=dd(o,e.mode,n,null),o.return=e,o;fy(e,o)}return null}function P(e,o,n,u){var f=o!==null?o.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return f!==null?null:G(e,o,""+n,u);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case qg:return n.key===f?t(e,o,n,u):null;case ip:return n.key===f?y(e,o,n,u):null;case Qh:return f=n._init,P(e,o,f(n._payload),u)}if(M0(n)||p0(n))return f!==null?null:D(e,o,n,u,null);fy(e,n)}return null}function M(e,o,n,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return e=e.get(n)||null,G(o,e,""+u,f);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case qg:return e=e.get(u.key===null?n:u.key)||null,t(o,e,u,f);case ip:return e=e.get(u.key===null?n:u.key)||null,y(o,e,u,f);case Qh:var c=u._init;return M(e,o,n,c(u._payload),f)}if(M0(u)||p0(u))return e=e.get(n)||null,D(o,e,u,f,null);fy(o,u)}return null}function d(e,o,n,u){for(var f=null,c=null,m=o,v=o=0,T=null;m!==null&&v<n.length;v++){m.index>v?(T=m,m=null):T=m.sibling;var h=P(e,m,n[v],u);if(h===null){m===null&&(m=T);break}I&&m&&h.alternate===null&&l(e,m),o=Ft(h,o,v),c===null?f=h:c.sibling=h,c=h,m=T}if(v===n.length)return B(e,m),Ao&&ed(e,v),f;if(m===null){for(;v<n.length;v++)m=s(e,n[v],u),m!==null&&(o=Ft(m,o,v),c===null?f=m:c.sibling=m,c=m);return Ao&&ed(e,v),f}for(m=st(e,m);v<n.length;v++)T=M(m,e,v,n[v],u),T!==null&&(I&&T.alternate!==null&&m.delete(T.key===null?v:T.key),o=Ft(T,o,v),c===null?f=T:c.sibling=T,c=T);return I&&m.forEach(function(i){return l(e,i)}),Ao&&ed(e,v),f}function g(e,o,n,u){var f=p0(n);if(typeof f!="function")throw Error(yi(150));if(n=f.call(n),n==null)throw Error(yi(151));for(var c=f=null,m=o,v=o=0,T=null,h=n.next();m!==null&&!h.done;v++,h=n.next()){m.index>v?(T=m,m=null):T=m.sibling;var i=P(e,m,h.value,u);if(i===null){m===null&&(m=T);break}I&&m&&i.alternate===null&&l(e,m),o=Ft(i,o,v),c===null?f=i:c.sibling=i,c=i,m=T}if(h.done)return B(e,m),Ao&&ed(e,v),f;if(m===null){for(;!h.done;v++,h=n.next())h=s(e,h.value,u),h!==null&&(o=Ft(h,o,v),c===null?f=h:c.sibling=h,c=h);return Ao&&ed(e,v),f}for(m=st(e,m);!h.done;v++,h=n.next())h=M(m,e,v,h.value,u),h!==null&&(I&&h.alternate!==null&&m.delete(h.key===null?v:h.key),o=Ft(h,o,v),c===null?f=h:c.sibling=h,c=h);return I&&m.forEach(function(p){return l(e,p)}),Ao&&ed(e,v),f}function r(e,o,n,u){if(typeof n=="object"&&n!==null&&n.type===ap&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case qg:t:{for(var f=n.key,c=o;c!==null;){if(c.key===f){if(f=n.type,f===ap){if(c.tag===7){B(e,c.sibling),o=Tt(c,n.props.children),o.return=e,e=o;break t}}else if(c.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===Qh&&K2(f)===c.type){B(e,c.sibling),o=Tt(c,n.props),o.ref=b0(e,c,n),o.return=e,e=o;break t}B(e,c);break}else l(e,c);c=c.sibling}n.type===ap?(o=dd(n.props.children,e.mode,u,n.key),o.return=e,e=o):(u=Py(n.type,n.key,n.props,null,e.mode,u),u.ref=b0(e,o,n),u.return=e,e=u)}return W(e);case ip:t:{for(c=n.key;o!==null;){if(o.key===c)if(o.tag===4&&o.stateNode.containerInfo===n.containerInfo&&o.stateNode.implementation===n.implementation){B(e,o.sibling),o=Tt(o,n.children||[]),o.return=e,e=o;break t}else{B(e,o);break}else l(e,o);o=o.sibling}o=dx(n,e.mode,u),o.return=e,e=o}return W(e);case Qh:return c=n._init,r(e,o,c(n._payload),u)}if(M0(n))return d(e,o,n,u);if(p0(n))return g(e,o,n,u);fy(e,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,o!==null&&o.tag===6?(B(e,o.sibling),o=Tt(o,n),o.return=e,e=o):(B(e,o),o=vx(n,e.mode,u),o.return=e,e=o),W(e)):B(e,o)}return r}var Dp=a5(!0),o5=a5(!1),Qy=Tv(null),$y=null,vp=null,qb=null;function t3(){qb=vp=$y=null}function e3(I){var l=Qy.current;go(Qy),I._currentValue=l}function $x(I,l,B){for(;I!==null;){var st=I.alternate;if((I.childLanes&l)!==l?(I.childLanes|=l,st!==null&&(st.childLanes|=l)):st!==null&&(st.childLanes&l)!==l&&(st.childLanes|=l),I===B)break;I=I.return}}function wp(I,l){$y=I,qb=vp=null,I=I.dependencies,I!==null&&I.firstContext!==null&&(I.lanes&l&&(Fl=!0),I.firstContext=null)}function Xu(I){var l=I._currentValue;if(qb!==I)if(I={context:I,memoizedValue:l,next:null},vp===null){if($y===null)throw Error(yi(308));vp=I,$y.dependencies={lanes:0,firstContext:I}}else vp=vp.next=I;return l}var ad=null;function r3(I){ad===null?ad=[I]:ad.push(I)}function s5(I,l,B,st){var Tt=l.interleaved;return Tt===null?(B.next=B,r3(l)):(B.next=Tt.next,Tt.next=B),l.interleaved=B,sh(I,st)}function sh(I,l){I.lanes|=l;var B=I.alternate;for(B!==null&&(B.lanes|=l),B=I,I=I.return;I!==null;)I.childLanes|=l,B=I.alternate,B!==null&&(B.childLanes|=l),B=I,I=I.return;return B.tag===3?B.stateNode:null}var $h=!1;function n3(I){I.updateQueue={baseState:I.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l5(I,l){I=I.updateQueue,l.updateQueue===I&&(l.updateQueue={baseState:I.baseState,firstBaseUpdate:I.firstBaseUpdate,lastBaseUpdate:I.lastBaseUpdate,shared:I.shared,effects:I.effects})}function rh(I,l){return{eventTime:I,lane:l,tag:0,payload:null,callback:null,next:null}}function uv(I,l,B){var st=I.updateQueue;if(st===null)return null;if(st=st.shared,ka&2){var Tt=st.pending;return Tt===null?l.next=l:(l.next=Tt.next,Tt.next=l),st.pending=l,sh(I,B)}return Tt=st.interleaved,Tt===null?(l.next=l,r3(st)):(l.next=Tt.next,Tt.next=l),st.interleaved=l,sh(I,B)}function Ay(I,l,B){if(l=l.updateQueue,l!==null&&(l=l.shared,(B&4194240)!==0)){var st=l.lanes;st&=I.pendingLanes,B|=st,l.lanes=B,Hb(I,B)}}function J2(I,l){var B=I.updateQueue,st=I.alternate;if(st!==null&&(st=st.updateQueue,B===st)){var Tt=null,Ft=null;if(B=B.firstBaseUpdate,B!==null){do{var W={eventTime:B.eventTime,lane:B.lane,tag:B.tag,payload:B.payload,callback:B.callback,next:null};Ft===null?Tt=Ft=W:Ft=Ft.next=W,B=B.next}while(B!==null);Ft===null?Tt=Ft=l:Ft=Ft.next=l}else Tt=Ft=l;B={baseState:st.baseState,firstBaseUpdate:Tt,lastBaseUpdate:Ft,shared:st.shared,effects:st.effects},I.updateQueue=B;return}I=B.lastBaseUpdate,I===null?B.firstBaseUpdate=l:I.next=l,B.lastBaseUpdate=l}function qy(I,l,B,st){var Tt=I.updateQueue;$h=!1;var Ft=Tt.firstBaseUpdate,W=Tt.lastBaseUpdate,G=Tt.shared.pending;if(G!==null){Tt.shared.pending=null;var t=G,y=t.next;t.next=null,W===null?Ft=y:W.next=y,W=t;var D=I.alternate;D!==null&&(D=D.updateQueue,G=D.lastBaseUpdate,G!==W&&(G===null?D.firstBaseUpdate=y:G.next=y,D.lastBaseUpdate=t))}if(Ft!==null){var s=Tt.baseState;W=0,D=y=t=null,G=Ft;do{var P=G.lane,M=G.eventTime;if((st&P)===P){D!==null&&(D=D.next={eventTime:M,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});t:{var d=I,g=G;switch(P=l,M=B,g.tag){case 1:if(d=g.payload,typeof d=="function"){s=d.call(M,s,P);break t}s=d;break t;case 3:d.flags=d.flags&-65537|128;case 0:if(d=g.payload,P=typeof d=="function"?d.call(M,s,P):d,P==null)break t;s=Bo({},s,P);break t;case 2:$h=!0}}G.callback!==null&&G.lane!==0&&(I.flags|=64,P=Tt.effects,P===null?Tt.effects=[G]:P.push(G))}else M={eventTime:M,lane:P,tag:G.tag,payload:G.payload,callback:G.callback,next:null},D===null?(y=D=M,t=s):D=D.next=M,W|=P;if(G=G.next,G===null){if(G=Tt.shared.pending,G===null)break;P=G,G=P.next,P.next=null,Tt.lastBaseUpdate=P,Tt.shared.pending=null}}while(!0);if(D===null&&(t=s),Tt.baseState=t,Tt.firstBaseUpdate=y,Tt.lastBaseUpdate=D,l=Tt.shared.interleaved,l!==null){Tt=l;do W|=Tt.lane,Tt=Tt.next;while(Tt!==l)}else Ft===null&&(Tt.shared.lanes=0);bd|=W,I.lanes=W,I.memoizedState=s}}function Q2(I,l,B){if(I=l.effects,l.effects=null,I!==null)for(l=0;l<I.length;l++){var st=I[l],Tt=st.callback;if(Tt!==null){if(st.callback=null,st=B,typeof Tt!="function")throw Error(yi(191,Tt));Tt.call(st)}}}var gg={},yc=Tv(gg),q0=Tv(gg),tg=Tv(gg);function od(I){if(I===gg)throw Error(yi(174));return I}function i3(I,l){switch(lo(tg,l),lo(q0,I),lo(yc,gg),I=l.nodeType,I){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Rx(null,"");break;default:I=I===8?l.parentNode:l,l=I.namespaceURI||null,I=I.tagName,l=Rx(l,I)}go(yc),lo(yc,l)}function Rp(){go(yc),go(q0),go(tg)}function u5(I){od(tg.current);var l=od(yc.current),B=Rx(l,I.type);l!==B&&(lo(q0,I),lo(yc,B))}function a3(I){q0.current===I&&(go(yc),go(q0))}var zo=Tv(0);function tm(I){for(var l=I;l!==null;){if(l.tag===13){var B=l.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||B.data==="$?"||B.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===I)break;for(;l.sibling===null;){if(l.return===null||l.return===I)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var sx=[];function o3(){for(var I=0;I<sx.length;I++)sx[I]._workInProgressVersionPrimary=null;sx.length=0}var Sy=fh.ReactCurrentDispatcher,lx=fh.ReactCurrentBatchConfig,xd=0,Oo=null,us=null,ms=null,em=!1,z0=!1,eg=0,KC=0;function Zs(){throw Error(yi(321))}function s3(I,l){if(l===null)return!1;for(var B=0;B<l.length&&B<I.length;B++)if(!_f(I[B],l[B]))return!1;return!0}function l3(I,l,B,st,Tt,Ft){if(xd=Ft,Oo=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Sy.current=I===null||I.memoizedState===null?qC:tL,I=B(st,Tt),z0){Ft=0;do{if(z0=!1,eg=0,25<=Ft)throw Error(yi(301));Ft+=1,ms=us=null,l.updateQueue=null,Sy.current=eL,I=B(st,Tt)}while(z0)}if(Sy.current=rm,l=us!==null&&us.next!==null,xd=0,ms=us=Oo=null,em=!1,l)throw Error(yi(300));return I}function u3(){var I=eg!==0;return eg=0,I}function nc(){var I={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ms===null?Oo.memoizedState=ms=I:ms=ms.next=I,ms}function Zu(){if(us===null){var I=Oo.alternate;I=I!==null?I.memoizedState:null}else I=us.next;var l=ms===null?Oo.memoizedState:ms.next;if(l!==null)ms=l,us=I;else{if(I===null)throw Error(yi(310));us=I,I={memoizedState:us.memoizedState,baseState:us.baseState,baseQueue:us.baseQueue,queue:us.queue,next:null},ms===null?Oo.memoizedState=ms=I:ms=ms.next=I}return ms}function rg(I,l){return typeof l=="function"?l(I):l}function ux(I){var l=Zu(),B=l.queue;if(B===null)throw Error(yi(311));B.lastRenderedReducer=I;var st=us,Tt=st.baseQueue,Ft=B.pending;if(Ft!==null){if(Tt!==null){var W=Tt.next;Tt.next=Ft.next,Ft.next=W}st.baseQueue=Tt=Ft,B.pending=null}if(Tt!==null){Ft=Tt.next,st=st.baseState;var G=W=null,t=null,y=Ft;do{var D=y.lane;if((xd&D)===D)t!==null&&(t=t.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),st=y.hasEagerState?y.eagerState:I(st,y.action);else{var s={lane:D,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};t===null?(G=t=s,W=st):t=t.next=s,Oo.lanes|=D,bd|=D}y=y.next}while(y!==null&&y!==Ft);t===null?W=st:t.next=G,_f(st,l.memoizedState)||(Fl=!0),l.memoizedState=st,l.baseState=W,l.baseQueue=t,B.lastRenderedState=st}if(I=B.interleaved,I!==null){Tt=I;do Ft=Tt.lane,Oo.lanes|=Ft,bd|=Ft,Tt=Tt.next;while(Tt!==I)}else Tt===null&&(B.lanes=0);return[l.memoizedState,B.dispatch]}function fx(I){var l=Zu(),B=l.queue;if(B===null)throw Error(yi(311));B.lastRenderedReducer=I;var st=B.dispatch,Tt=B.pending,Ft=l.memoizedState;if(Tt!==null){B.pending=null;var W=Tt=Tt.next;do Ft=I(Ft,W.action),W=W.next;while(W!==Tt);_f(Ft,l.memoizedState)||(Fl=!0),l.memoizedState=Ft,l.baseQueue===null&&(l.baseState=Ft),B.lastRenderedState=Ft}return[Ft,st]}function f5(){}function c5(I,l){var B=Oo,st=Zu(),Tt=l(),Ft=!_f(st.memoizedState,Tt);if(Ft&&(st.memoizedState=Tt,Fl=!0),st=st.queue,f3(d5.bind(null,B,st,I),[I]),st.getSnapshot!==l||Ft||ms!==null&&ms.memoizedState.tag&1){if(B.flags|=2048,ng(9,v5.bind(null,B,st,Tt,l),void 0,null),xs===null)throw Error(yi(349));xd&30||h5(B,l,Tt)}return Tt}function h5(I,l,B){I.flags|=16384,I={getSnapshot:l,value:B},l=Oo.updateQueue,l===null?(l={lastEffect:null,stores:null},Oo.updateQueue=l,l.stores=[I]):(B=l.stores,B===null?l.stores=[I]:B.push(I))}function v5(I,l,B,st){l.value=B,l.getSnapshot=st,p5(l)&&g5(I)}function d5(I,l,B){return B(function(){p5(l)&&g5(I)})}function p5(I){var l=I.getSnapshot;I=I.value;try{var B=l();return!_f(I,B)}catch{return!0}}function g5(I){var l=sh(I,1);l!==null&&Df(l,I,1,-1)}function $2(I){var l=nc();return typeof I=="function"&&(I=I()),l.memoizedState=l.baseState=I,I={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:I},l.queue=I,I=I.dispatch=$C.bind(null,Oo,I),[l.memoizedState,I]}function ng(I,l,B,st){return I={tag:I,create:l,destroy:B,deps:st,next:null},l=Oo.updateQueue,l===null?(l={lastEffect:null,stores:null},Oo.updateQueue=l,l.lastEffect=I.next=I):(B=l.lastEffect,B===null?l.lastEffect=I.next=I:(st=B.next,B.next=I,I.next=st,l.lastEffect=I)),I}function y5(){return Zu().memoizedState}function My(I,l,B,st){var Tt=nc();Oo.flags|=I,Tt.memoizedState=ng(1|l,B,void 0,st===void 0?null:st)}function Wm(I,l,B,st){var Tt=Zu();st=st===void 0?null:st;var Ft=void 0;if(us!==null){var W=us.memoizedState;if(Ft=W.destroy,st!==null&&s3(st,W.deps)){Tt.memoizedState=ng(l,B,Ft,st);return}}Oo.flags|=I,Tt.memoizedState=ng(1|l,B,Ft,st)}function q2(I,l){return My(8390656,8,I,l)}function f3(I,l){return Wm(2048,8,I,l)}function m5(I,l){return Wm(4,2,I,l)}function x5(I,l){return Wm(4,4,I,l)}function b5(I,l){if(typeof l=="function")return I=I(),l(I),function(){l(null)};if(l!=null)return I=I(),l.current=I,function(){l.current=null}}function w5(I,l,B){return B=B!=null?B.concat([I]):null,Wm(4,4,b5.bind(null,l,I),B)}function c3(){}function T5(I,l){var B=Zu();l=l===void 0?null:l;var st=B.memoizedState;return st!==null&&l!==null&&s3(l,st[1])?st[0]:(B.memoizedState=[I,l],I)}function A5(I,l){var B=Zu();l=l===void 0?null:l;var st=B.memoizedState;return st!==null&&l!==null&&s3(l,st[1])?st[0]:(I=I(),B.memoizedState=[I,l],I)}function S5(I,l,B){return xd&21?(_f(B,l)||(B=PT(),Oo.lanes|=B,bd|=B,I.baseState=!0),l):(I.baseState&&(I.baseState=!1,Fl=!0),I.memoizedState=B)}function JC(I,l){var B=Ka;Ka=B!==0&&4>B?B:4,I(!0);var st=lx.transition;lx.transition={};try{I(!1),l()}finally{Ka=B,lx.transition=st}}function M5(){return Zu().memoizedState}function QC(I,l,B){var st=cv(I);if(B={lane:st,action:B,hasEagerState:!1,eagerState:null,next:null},E5(I))C5(l,B);else if(B=s5(I,l,B,st),B!==null){var Tt=vl();Df(B,I,st,Tt),L5(B,l,st)}}function $C(I,l,B){var st=cv(I),Tt={lane:st,action:B,hasEagerState:!1,eagerState:null,next:null};if(E5(I))C5(l,Tt);else{var Ft=I.alternate;if(I.lanes===0&&(Ft===null||Ft.lanes===0)&&(Ft=l.lastRenderedReducer,Ft!==null))try{var W=l.lastRenderedState,G=Ft(W,B);if(Tt.hasEagerState=!0,Tt.eagerState=G,_f(G,W)){var t=l.interleaved;t===null?(Tt.next=Tt,r3(l)):(Tt.next=t.next,t.next=Tt),l.interleaved=Tt;return}}catch{}finally{}B=s5(I,l,Tt,st),B!==null&&(Tt=vl(),Df(B,I,st,Tt),L5(B,l,st))}}function E5(I){var l=I.alternate;return I===Oo||l!==null&&l===Oo}function C5(I,l){z0=em=!0;var B=I.pending;B===null?l.next=l:(l.next=B.next,B.next=l),I.pending=l}function L5(I,l,B){if(B&4194240){var st=l.lanes;st&=I.pendingLanes,B|=st,l.lanes=B,Hb(I,B)}}var rm={readContext:Xu,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useInsertionEffect:Zs,useLayoutEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useMutableSource:Zs,useSyncExternalStore:Zs,useId:Zs,unstable_isNewReconciler:!1},qC={readContext:Xu,useCallback:function(I,l){return nc().memoizedState=[I,l===void 0?null:l],I},useContext:Xu,useEffect:q2,useImperativeHandle:function(I,l,B){return B=B!=null?B.concat([I]):null,My(4194308,4,b5.bind(null,l,I),B)},useLayoutEffect:function(I,l){return My(4194308,4,I,l)},useInsertionEffect:function(I,l){return My(4,2,I,l)},useMemo:function(I,l){var B=nc();return l=l===void 0?null:l,I=I(),B.memoizedState=[I,l],I},useReducer:function(I,l,B){var st=nc();return l=B!==void 0?B(l):l,st.memoizedState=st.baseState=l,I={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:I,lastRenderedState:l},st.queue=I,I=I.dispatch=QC.bind(null,Oo,I),[st.memoizedState,I]},useRef:function(I){var l=nc();return I={current:I},l.memoizedState=I},useState:$2,useDebugValue:c3,useDeferredValue:function(I){return nc().memoizedState=I},useTransition:function(){var I=$2(!1),l=I[0];return I=JC.bind(null,I[1]),nc().memoizedState=I,[l,I]},useMutableSource:function(){},useSyncExternalStore:function(I,l,B){var st=Oo,Tt=nc();if(Ao){if(B===void 0)throw Error(yi(407));B=B()}else{if(B=l(),xs===null)throw Error(yi(349));xd&30||h5(st,l,B)}Tt.memoizedState=B;var Ft={value:B,getSnapshot:l};return Tt.queue=Ft,q2(d5.bind(null,st,Ft,I),[I]),st.flags|=2048,ng(9,v5.bind(null,st,Ft,B,l),void 0,null),B},useId:function(){var I=nc(),l=xs.identifierPrefix;if(Ao){var B=eh,st=th;B=(st&~(1<<32-If(st)-1)).toString(32)+B,l=":"+l+"R"+B,B=eg++,0<B&&(l+="H"+B.toString(32)),l+=":"}else B=KC++,l=":"+l+"r"+B.toString(32)+":";return I.memoizedState=l},unstable_isNewReconciler:!1},tL={readContext:Xu,useCallback:T5,useContext:Xu,useEffect:f3,useImperativeHandle:w5,useInsertionEffect:m5,useLayoutEffect:x5,useMemo:A5,useReducer:ux,useRef:y5,useState:function(){return ux(rg)},useDebugValue:c3,useDeferredValue:function(I){var l=Zu();return S5(l,us.memoizedState,I)},useTransition:function(){var I=ux(rg)[0],l=Zu().memoizedState;return[I,l]},useMutableSource:f5,useSyncExternalStore:c5,useId:M5,unstable_isNewReconciler:!1},eL={readContext:Xu,useCallback:T5,useContext:Xu,useEffect:f3,useImperativeHandle:w5,useInsertionEffect:m5,useLayoutEffect:x5,useMemo:A5,useReducer:fx,useRef:y5,useState:function(){return fx(rg)},useDebugValue:c3,useDeferredValue:function(I){var l=Zu();return us===null?l.memoizedState=I:S5(l,us.memoizedState,I)},useTransition:function(){var I=fx(rg)[0],l=Zu().memoizedState;return[I,l]},useMutableSource:f5,useSyncExternalStore:c5,useId:M5,unstable_isNewReconciler:!1};function Mf(I,l){if(I&&I.defaultProps){l=Bo({},l),I=I.defaultProps;for(var B in I)l[B]===void 0&&(l[B]=I[B]);return l}return l}function qx(I,l,B,st){l=I.memoizedState,B=B(st,l),B=B==null?l:Bo({},l,B),I.memoizedState=B,I.lanes===0&&(I.updateQueue.baseState=B)}var Ym={isMounted:function(I){return(I=I._reactInternals)?Sd(I)===I:!1},enqueueSetState:function(I,l,B){I=I._reactInternals;var st=vl(),Tt=cv(I),Ft=rh(st,Tt);Ft.payload=l,B!=null&&(Ft.callback=B),l=uv(I,Ft,Tt),l!==null&&(Df(l,I,Tt,st),Ay(l,I,Tt))},enqueueReplaceState:function(I,l,B){I=I._reactInternals;var st=vl(),Tt=cv(I),Ft=rh(st,Tt);Ft.tag=1,Ft.payload=l,B!=null&&(Ft.callback=B),l=uv(I,Ft,Tt),l!==null&&(Df(l,I,Tt,st),Ay(l,I,Tt))},enqueueForceUpdate:function(I,l){I=I._reactInternals;var B=vl(),st=cv(I),Tt=rh(B,st);Tt.tag=2,l!=null&&(Tt.callback=l),l=uv(I,Tt,st),l!==null&&(Df(l,I,st,B),Ay(l,I,st))}};function t4(I,l,B,st,Tt,Ft,W){return I=I.stateNode,typeof I.shouldComponentUpdate=="function"?I.shouldComponentUpdate(st,Ft,W):l.prototype&&l.prototype.isPureReactComponent?!K0(B,st)||!K0(Tt,Ft):!0}function P5(I,l,B){var st=!1,Tt=dv,Ft=l.contextType;return typeof Ft=="object"&&Ft!==null?Ft=Xu(Ft):(Tt=Bl(l)?yd:Qs.current,st=l.contextTypes,Ft=(st=st!=null)?Pp(I,Tt):dv),l=new l(B,Ft),I.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ym,I.stateNode=l,l._reactInternals=I,st&&(I=I.stateNode,I.__reactInternalMemoizedUnmaskedChildContext=Tt,I.__reactInternalMemoizedMaskedChildContext=Ft),l}function e4(I,l,B,st){I=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(B,st),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(B,st),l.state!==I&&Ym.enqueueReplaceState(l,l.state,null)}function tb(I,l,B,st){var Tt=I.stateNode;Tt.props=B,Tt.state=I.memoizedState,Tt.refs={},n3(I);var Ft=l.contextType;typeof Ft=="object"&&Ft!==null?Tt.context=Xu(Ft):(Ft=Bl(l)?yd:Qs.current,Tt.context=Pp(I,Ft)),Tt.state=I.memoizedState,Ft=l.getDerivedStateFromProps,typeof Ft=="function"&&(qx(I,l,Ft,B),Tt.state=I.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof Tt.getSnapshotBeforeUpdate=="function"||typeof Tt.UNSAFE_componentWillMount!="function"&&typeof Tt.componentWillMount!="function"||(l=Tt.state,typeof Tt.componentWillMount=="function"&&Tt.componentWillMount(),typeof Tt.UNSAFE_componentWillMount=="function"&&Tt.UNSAFE_componentWillMount(),l!==Tt.state&&Ym.enqueueReplaceState(Tt,Tt.state,null),qy(I,B,Tt,st),Tt.state=I.memoizedState),typeof Tt.componentDidMount=="function"&&(I.flags|=4194308)}function _p(I,l){try{var B="",st=l;do B+=PE(st),st=st.return;while(st);var Tt=B}catch(Ft){Tt=`
Error generating stack: `+Ft.message+`
`+Ft.stack}return{value:I,source:l,stack:Tt,digest:null}}function cx(I,l,B){return{value:I,source:null,stack:B??null,digest:l??null}}function eb(I,l){try{console.error(l.value)}catch(B){setTimeout(function(){throw B})}}var rL=typeof WeakMap=="function"?WeakMap:Map;function I5(I,l,B){B=rh(-1,B),B.tag=3,B.payload={element:null};var st=l.value;return B.callback=function(){im||(im=!0,cb=st),eb(I,l)},B}function D5(I,l,B){B=rh(-1,B),B.tag=3;var st=I.type.getDerivedStateFromError;if(typeof st=="function"){var Tt=l.value;B.payload=function(){return st(Tt)},B.callback=function(){eb(I,l)}}var Ft=I.stateNode;return Ft!==null&&typeof Ft.componentDidCatch=="function"&&(B.callback=function(){eb(I,l),typeof st!="function"&&(fv===null?fv=new Set([this]):fv.add(this));var W=l.stack;this.componentDidCatch(l.value,{componentStack:W!==null?W:""})}),B}function r4(I,l,B){var st=I.pingCache;if(st===null){st=I.pingCache=new rL;var Tt=new Set;st.set(l,Tt)}else Tt=st.get(l),Tt===void 0&&(Tt=new Set,st.set(l,Tt));Tt.has(B)||(Tt.add(B),I=gL.bind(null,I,l,B),l.then(I,I))}function n4(I){do{var l;if((l=I.tag===13)&&(l=I.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return I;I=I.return}while(I!==null);return null}function i4(I,l,B,st,Tt){return I.mode&1?(I.flags|=65536,I.lanes=Tt,I):(I===l?I.flags|=65536:(I.flags|=128,B.flags|=131072,B.flags&=-52805,B.tag===1&&(B.alternate===null?B.tag=17:(l=rh(-1,1),l.tag=2,uv(B,l,1))),B.lanes|=1),I)}var nL=fh.ReactCurrentOwner,Fl=!1;function ul(I,l,B,st){l.child=I===null?o5(l,null,B,st):Dp(l,I.child,B,st)}function a4(I,l,B,st,Tt){B=B.render;var Ft=l.ref;return wp(l,Tt),st=l3(I,l,B,st,Ft,Tt),B=u3(),I!==null&&!Fl?(l.updateQueue=I.updateQueue,l.flags&=-2053,I.lanes&=~Tt,lh(I,l,Tt)):(Ao&&B&&Jb(l),l.flags|=1,ul(I,l,st,Tt),l.child)}function o4(I,l,B,st,Tt){if(I===null){var Ft=B.type;return typeof Ft=="function"&&!x3(Ft)&&Ft.defaultProps===void 0&&B.compare===null&&B.defaultProps===void 0?(l.tag=15,l.type=Ft,R5(I,l,Ft,st,Tt)):(I=Py(B.type,null,st,l,l.mode,Tt),I.ref=l.ref,I.return=l,l.child=I)}if(Ft=I.child,!(I.lanes&Tt)){var W=Ft.memoizedProps;if(B=B.compare,B=B!==null?B:K0,B(W,st)&&I.ref===l.ref)return lh(I,l,Tt)}return l.flags|=1,I=hv(Ft,st),I.ref=l.ref,I.return=l,l.child=I}function R5(I,l,B,st,Tt){if(I!==null){var Ft=I.memoizedProps;if(K0(Ft,st)&&I.ref===l.ref)if(Fl=!1,l.pendingProps=st=Ft,(I.lanes&Tt)!==0)I.flags&131072&&(Fl=!0);else return l.lanes=I.lanes,lh(I,l,Tt)}return rb(I,l,B,st,Tt)}function _5(I,l,B){var st=l.pendingProps,Tt=st.children,Ft=I!==null?I.memoizedState:null;if(st.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},lo(pp,iu),iu|=B;else{if(!(B&1073741824))return I=Ft!==null?Ft.baseLanes|B:B,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:I,cachePool:null,transitions:null},l.updateQueue=null,lo(pp,iu),iu|=I,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},st=Ft!==null?Ft.baseLanes:B,lo(pp,iu),iu|=st}else Ft!==null?(st=Ft.baseLanes|B,l.memoizedState=null):st=B,lo(pp,iu),iu|=st;return ul(I,l,Tt,B),l.child}function k5(I,l){var B=l.ref;(I===null&&B!==null||I!==null&&I.ref!==B)&&(l.flags|=512,l.flags|=2097152)}function rb(I,l,B,st,Tt){var Ft=Bl(B)?yd:Qs.current;return Ft=Pp(l,Ft),wp(l,Tt),B=l3(I,l,B,st,Ft,Tt),st=u3(),I!==null&&!Fl?(l.updateQueue=I.updateQueue,l.flags&=-2053,I.lanes&=~Tt,lh(I,l,Tt)):(Ao&&st&&Jb(l),l.flags|=1,ul(I,l,B,Tt),l.child)}function s4(I,l,B,st,Tt){if(Bl(B)){var Ft=!0;Zy(l)}else Ft=!1;if(wp(l,Tt),l.stateNode===null)Ey(I,l),P5(l,B,st),tb(l,B,st,Tt),st=!0;else if(I===null){var W=l.stateNode,G=l.memoizedProps;W.props=G;var t=W.context,y=B.contextType;typeof y=="object"&&y!==null?y=Xu(y):(y=Bl(B)?yd:Qs.current,y=Pp(l,y));var D=B.getDerivedStateFromProps,s=typeof D=="function"||typeof W.getSnapshotBeforeUpdate=="function";s||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(G!==st||t!==y)&&e4(l,W,st,y),$h=!1;var P=l.memoizedState;W.state=P,qy(l,st,W,Tt),t=l.memoizedState,G!==st||P!==t||Ol.current||$h?(typeof D=="function"&&(qx(l,B,D,st),t=l.memoizedState),(G=$h||t4(l,B,G,st,P,t,y))?(s||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(l.flags|=4194308)):(typeof W.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=st,l.memoizedState=t),W.props=st,W.state=t,W.context=y,st=G):(typeof W.componentDidMount=="function"&&(l.flags|=4194308),st=!1)}else{W=l.stateNode,l5(I,l),G=l.memoizedProps,y=l.type===l.elementType?G:Mf(l.type,G),W.props=y,s=l.pendingProps,P=W.context,t=B.contextType,typeof t=="object"&&t!==null?t=Xu(t):(t=Bl(B)?yd:Qs.current,t=Pp(l,t));var M=B.getDerivedStateFromProps;(D=typeof M=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(G!==s||P!==t)&&e4(l,W,st,t),$h=!1,P=l.memoizedState,W.state=P,qy(l,st,W,Tt);var d=l.memoizedState;G!==s||P!==d||Ol.current||$h?(typeof M=="function"&&(qx(l,B,M,st),d=l.memoizedState),(y=$h||t4(l,B,y,st,P,d,t)||!1)?(D||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(st,d,t),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(st,d,t)),typeof W.componentDidUpdate=="function"&&(l.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof W.componentDidUpdate!="function"||G===I.memoizedProps&&P===I.memoizedState||(l.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||G===I.memoizedProps&&P===I.memoizedState||(l.flags|=1024),l.memoizedProps=st,l.memoizedState=d),W.props=st,W.state=d,W.context=t,st=y):(typeof W.componentDidUpdate!="function"||G===I.memoizedProps&&P===I.memoizedState||(l.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||G===I.memoizedProps&&P===I.memoizedState||(l.flags|=1024),st=!1)}return nb(I,l,B,st,Ft,Tt)}function nb(I,l,B,st,Tt,Ft){k5(I,l);var W=(l.flags&128)!==0;if(!st&&!W)return Tt&&j2(l,B,!1),lh(I,l,Ft);st=l.stateNode,nL.current=l;var G=W&&typeof B.getDerivedStateFromError!="function"?null:st.render();return l.flags|=1,I!==null&&W?(l.child=Dp(l,I.child,null,Ft),l.child=Dp(l,null,G,Ft)):ul(I,l,G,Ft),l.memoizedState=st.state,Tt&&j2(l,B,!0),l.child}function z5(I){var l=I.stateNode;l.pendingContext?Y2(I,l.pendingContext,l.pendingContext!==l.context):l.context&&Y2(I,l.context,!1),i3(I,l.containerInfo)}function l4(I,l,B,st,Tt){return Ip(),$b(Tt),l.flags|=256,ul(I,l,B,st),l.child}var ib={dehydrated:null,treeContext:null,retryLane:0};function ab(I){return{baseLanes:I,cachePool:null,transitions:null}}function F5(I,l,B){var st=l.pendingProps,Tt=zo.current,Ft=!1,W=(l.flags&128)!==0,G;if((G=W)||(G=I!==null&&I.memoizedState===null?!1:(Tt&2)!==0),G?(Ft=!0,l.flags&=-129):(I===null||I.memoizedState!==null)&&(Tt|=1),lo(zo,Tt&1),I===null)return Qx(l),I=l.memoizedState,I!==null&&(I=I.dehydrated,I!==null)?(l.mode&1?I.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(W=st.children,I=st.fallback,Ft?(st=l.mode,Ft=l.child,W={mode:"hidden",children:W},!(st&1)&&Ft!==null?(Ft.childLanes=0,Ft.pendingProps=W):Ft=Zm(W,st,0,null),I=dd(I,st,B,null),Ft.return=l,I.return=l,Ft.sibling=I,l.child=Ft,l.child.memoizedState=ab(B),l.memoizedState=ib,I):h3(l,W));if(Tt=I.memoizedState,Tt!==null&&(G=Tt.dehydrated,G!==null))return iL(I,l,W,st,G,Tt,B);if(Ft){Ft=st.fallback,W=l.mode,Tt=I.child,G=Tt.sibling;var t={mode:"hidden",children:st.children};return!(W&1)&&l.child!==Tt?(st=l.child,st.childLanes=0,st.pendingProps=t,l.deletions=null):(st=hv(Tt,t),st.subtreeFlags=Tt.subtreeFlags&14680064),G!==null?Ft=hv(G,Ft):(Ft=dd(Ft,W,B,null),Ft.flags|=2),Ft.return=l,st.return=l,st.sibling=Ft,l.child=st,st=Ft,Ft=l.child,W=I.child.memoizedState,W=W===null?ab(B):{baseLanes:W.baseLanes|B,cachePool:null,transitions:W.transitions},Ft.memoizedState=W,Ft.childLanes=I.childLanes&~B,l.memoizedState=ib,st}return Ft=I.child,I=Ft.sibling,st=hv(Ft,{mode:"visible",children:st.children}),!(l.mode&1)&&(st.lanes=B),st.return=l,st.sibling=null,I!==null&&(B=l.deletions,B===null?(l.deletions=[I],l.flags|=16):B.push(I)),l.child=st,l.memoizedState=null,st}function h3(I,l){return l=Zm({mode:"visible",children:l},I.mode,0,null),l.return=I,I.child=l}function cy(I,l,B,st){return st!==null&&$b(st),Dp(l,I.child,null,B),I=h3(l,l.pendingProps.children),I.flags|=2,l.memoizedState=null,I}function iL(I,l,B,st,Tt,Ft,W){if(B)return l.flags&256?(l.flags&=-257,st=cx(Error(yi(422))),cy(I,l,W,st)):l.memoizedState!==null?(l.child=I.child,l.flags|=128,null):(Ft=st.fallback,Tt=l.mode,st=Zm({mode:"visible",children:st.children},Tt,0,null),Ft=dd(Ft,Tt,W,null),Ft.flags|=2,st.return=l,Ft.return=l,st.sibling=Ft,l.child=st,l.mode&1&&Dp(l,I.child,null,W),l.child.memoizedState=ab(W),l.memoizedState=ib,Ft);if(!(l.mode&1))return cy(I,l,W,null);if(Tt.data==="$!"){if(st=Tt.nextSibling&&Tt.nextSibling.dataset,st)var G=st.dgst;return st=G,Ft=Error(yi(419)),st=cx(Ft,st,void 0),cy(I,l,W,st)}if(G=(W&I.childLanes)!==0,Fl||G){if(st=xs,st!==null){switch(W&-W){case 4:Tt=2;break;case 16:Tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Tt=32;break;case 536870912:Tt=268435456;break;default:Tt=0}Tt=Tt&(st.suspendedLanes|W)?0:Tt,Tt!==0&&Tt!==Ft.retryLane&&(Ft.retryLane=Tt,sh(I,Tt),Df(st,I,Tt,-1))}return m3(),st=cx(Error(yi(421))),cy(I,l,W,st)}return Tt.data==="$?"?(l.flags|=128,l.child=I.child,l=yL.bind(null,I),Tt._reactRetry=l,null):(I=Ft.treeContext,su=lv(Tt.nextSibling),lu=l,Ao=!0,Pf=null,I!==null&&(Vu[Hu++]=th,Vu[Hu++]=eh,Vu[Hu++]=md,th=I.id,eh=I.overflow,md=l),l=h3(l,st.children),l.flags|=4096,l)}function u4(I,l,B){I.lanes|=l;var st=I.alternate;st!==null&&(st.lanes|=l),$x(I.return,l,B)}function hx(I,l,B,st,Tt){var Ft=I.memoizedState;Ft===null?I.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:st,tail:B,tailMode:Tt}:(Ft.isBackwards=l,Ft.rendering=null,Ft.renderingStartTime=0,Ft.last=st,Ft.tail=B,Ft.tailMode=Tt)}function O5(I,l,B){var st=l.pendingProps,Tt=st.revealOrder,Ft=st.tail;if(ul(I,l,st.children,B),st=zo.current,st&2)st=st&1|2,l.flags|=128;else{if(I!==null&&I.flags&128)t:for(I=l.child;I!==null;){if(I.tag===13)I.memoizedState!==null&&u4(I,B,l);else if(I.tag===19)u4(I,B,l);else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break t;for(;I.sibling===null;){if(I.return===null||I.return===l)break t;I=I.return}I.sibling.return=I.return,I=I.sibling}st&=1}if(lo(zo,st),!(l.mode&1))l.memoizedState=null;else switch(Tt){case"forwards":for(B=l.child,Tt=null;B!==null;)I=B.alternate,I!==null&&tm(I)===null&&(Tt=B),B=B.sibling;B=Tt,B===null?(Tt=l.child,l.child=null):(Tt=B.sibling,B.sibling=null),hx(l,!1,Tt,B,Ft);break;case"backwards":for(B=null,Tt=l.child,l.child=null;Tt!==null;){if(I=Tt.alternate,I!==null&&tm(I)===null){l.child=Tt;break}I=Tt.sibling,Tt.sibling=B,B=Tt,Tt=I}hx(l,!0,B,null,Ft);break;case"together":hx(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ey(I,l){!(l.mode&1)&&I!==null&&(I.alternate=null,l.alternate=null,l.flags|=2)}function lh(I,l,B){if(I!==null&&(l.dependencies=I.dependencies),bd|=l.lanes,!(B&l.childLanes))return null;if(I!==null&&l.child!==I.child)throw Error(yi(153));if(l.child!==null){for(I=l.child,B=hv(I,I.pendingProps),l.child=B,B.return=l;I.sibling!==null;)I=I.sibling,B=B.sibling=hv(I,I.pendingProps),B.return=l;B.sibling=null}return l.child}function aL(I,l,B){switch(l.tag){case 3:z5(l),Ip();break;case 5:u5(l);break;case 1:Bl(l.type)&&Zy(l);break;case 4:i3(l,l.stateNode.containerInfo);break;case 10:var st=l.type._context,Tt=l.memoizedProps.value;lo(Qy,st._currentValue),st._currentValue=Tt;break;case 13:if(st=l.memoizedState,st!==null)return st.dehydrated!==null?(lo(zo,zo.current&1),l.flags|=128,null):B&l.child.childLanes?F5(I,l,B):(lo(zo,zo.current&1),I=lh(I,l,B),I!==null?I.sibling:null);lo(zo,zo.current&1);break;case 19:if(st=(B&l.childLanes)!==0,I.flags&128){if(st)return O5(I,l,B);l.flags|=128}if(Tt=l.memoizedState,Tt!==null&&(Tt.rendering=null,Tt.tail=null,Tt.lastEffect=null),lo(zo,zo.current),st)break;return null;case 22:case 23:return l.lanes=0,_5(I,l,B)}return lh(I,l,B)}var B5,ob,N5,U5;B5=function(I,l){for(var B=l.child;B!==null;){if(B.tag===5||B.tag===6)I.appendChild(B.stateNode);else if(B.tag!==4&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===l)break;for(;B.sibling===null;){if(B.return===null||B.return===l)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};ob=function(){};N5=function(I,l,B,st){var Tt=I.memoizedProps;if(Tt!==st){I=l.stateNode,od(yc.current);var Ft=null;switch(B){case"input":Tt=Lx(I,Tt),st=Lx(I,st),Ft=[];break;case"select":Tt=Bo({},Tt,{value:void 0}),st=Bo({},st,{value:void 0}),Ft=[];break;case"textarea":Tt=Dx(I,Tt),st=Dx(I,st),Ft=[];break;default:typeof Tt.onClick!="function"&&typeof st.onClick=="function"&&(I.onclick=jy)}_x(B,st);var W;B=null;for(y in Tt)if(!st.hasOwnProperty(y)&&Tt.hasOwnProperty(y)&&Tt[y]!=null)if(y==="style"){var G=Tt[y];for(W in G)G.hasOwnProperty(W)&&(B||(B={}),B[W]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(H0.hasOwnProperty(y)?Ft||(Ft=[]):(Ft=Ft||[]).push(y,null));for(y in st){var t=st[y];if(G=Tt!=null?Tt[y]:void 0,st.hasOwnProperty(y)&&t!==G&&(t!=null||G!=null))if(y==="style")if(G){for(W in G)!G.hasOwnProperty(W)||t&&t.hasOwnProperty(W)||(B||(B={}),B[W]="");for(W in t)t.hasOwnProperty(W)&&G[W]!==t[W]&&(B||(B={}),B[W]=t[W])}else B||(Ft||(Ft=[]),Ft.push(y,B)),B=t;else y==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,G=G?G.__html:void 0,t!=null&&G!==t&&(Ft=Ft||[]).push(y,t)):y==="children"?typeof t!="string"&&typeof t!="number"||(Ft=Ft||[]).push(y,""+t):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(H0.hasOwnProperty(y)?(t!=null&&y==="onScroll"&&po("scroll",I),Ft||G===t||(Ft=[])):(Ft=Ft||[]).push(y,t))}B&&(Ft=Ft||[]).push("style",B);var y=Ft;(l.updateQueue=y)&&(l.flags|=4)}};U5=function(I,l,B,st){B!==st&&(l.flags|=4)};function w0(I,l){if(!Ao)switch(I.tailMode){case"hidden":l=I.tail;for(var B=null;l!==null;)l.alternate!==null&&(B=l),l=l.sibling;B===null?I.tail=null:B.sibling=null;break;case"collapsed":B=I.tail;for(var st=null;B!==null;)B.alternate!==null&&(st=B),B=B.sibling;st===null?l||I.tail===null?I.tail=null:I.tail.sibling=null:st.sibling=null}}function Ks(I){var l=I.alternate!==null&&I.alternate.child===I.child,B=0,st=0;if(l)for(var Tt=I.child;Tt!==null;)B|=Tt.lanes|Tt.childLanes,st|=Tt.subtreeFlags&14680064,st|=Tt.flags&14680064,Tt.return=I,Tt=Tt.sibling;else for(Tt=I.child;Tt!==null;)B|=Tt.lanes|Tt.childLanes,st|=Tt.subtreeFlags,st|=Tt.flags,Tt.return=I,Tt=Tt.sibling;return I.subtreeFlags|=st,I.childLanes=B,l}function oL(I,l,B){var st=l.pendingProps;switch(Qb(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(l),null;case 1:return Bl(l.type)&&Xy(),Ks(l),null;case 3:return st=l.stateNode,Rp(),go(Ol),go(Qs),o3(),st.pendingContext&&(st.context=st.pendingContext,st.pendingContext=null),(I===null||I.child===null)&&(uy(l)?l.flags|=4:I===null||I.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Pf!==null&&(db(Pf),Pf=null))),ob(I,l),Ks(l),null;case 5:a3(l);var Tt=od(tg.current);if(B=l.type,I!==null&&l.stateNode!=null)N5(I,l,B,st,Tt),I.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!st){if(l.stateNode===null)throw Error(yi(166));return Ks(l),null}if(I=od(yc.current),uy(l)){st=l.stateNode,B=l.type;var Ft=l.memoizedProps;switch(st[sc]=l,st[$0]=Ft,I=(l.mode&1)!==0,B){case"dialog":po("cancel",st),po("close",st);break;case"iframe":case"object":case"embed":po("load",st);break;case"video":case"audio":for(Tt=0;Tt<C0.length;Tt++)po(C0[Tt],st);break;case"source":po("error",st);break;case"img":case"image":case"link":po("error",st),po("load",st);break;case"details":po("toggle",st);break;case"input":m2(st,Ft),po("invalid",st);break;case"select":st._wrapperState={wasMultiple:!!Ft.multiple},po("invalid",st);break;case"textarea":b2(st,Ft),po("invalid",st)}_x(B,Ft),Tt=null;for(var W in Ft)if(Ft.hasOwnProperty(W)){var G=Ft[W];W==="children"?typeof G=="string"?st.textContent!==G&&(Ft.suppressHydrationWarning!==!0&&ly(st.textContent,G,I),Tt=["children",G]):typeof G=="number"&&st.textContent!==""+G&&(Ft.suppressHydrationWarning!==!0&&ly(st.textContent,G,I),Tt=["children",""+G]):H0.hasOwnProperty(W)&&G!=null&&W==="onScroll"&&po("scroll",st)}switch(B){case"input":ty(st),x2(st,Ft,!0);break;case"textarea":ty(st),w2(st);break;case"select":case"option":break;default:typeof Ft.onClick=="function"&&(st.onclick=jy)}st=Tt,l.updateQueue=st,st!==null&&(l.flags|=4)}else{W=Tt.nodeType===9?Tt:Tt.ownerDocument,I==="http://www.w3.org/1999/xhtml"&&(I=dT(B)),I==="http://www.w3.org/1999/xhtml"?B==="script"?(I=W.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild)):typeof st.is=="string"?I=W.createElement(B,{is:st.is}):(I=W.createElement(B),B==="select"&&(W=I,st.multiple?W.multiple=!0:st.size&&(W.size=st.size))):I=W.createElementNS(I,B),I[sc]=l,I[$0]=st,B5(I,l,!1,!1),l.stateNode=I;t:{switch(W=kx(B,st),B){case"dialog":po("cancel",I),po("close",I),Tt=st;break;case"iframe":case"object":case"embed":po("load",I),Tt=st;break;case"video":case"audio":for(Tt=0;Tt<C0.length;Tt++)po(C0[Tt],I);Tt=st;break;case"source":po("error",I),Tt=st;break;case"img":case"image":case"link":po("error",I),po("load",I),Tt=st;break;case"details":po("toggle",I),Tt=st;break;case"input":m2(I,st),Tt=Lx(I,st),po("invalid",I);break;case"option":Tt=st;break;case"select":I._wrapperState={wasMultiple:!!st.multiple},Tt=Bo({},st,{value:void 0}),po("invalid",I);break;case"textarea":b2(I,st),Tt=Dx(I,st),po("invalid",I);break;default:Tt=st}_x(B,Tt),G=Tt;for(Ft in G)if(G.hasOwnProperty(Ft)){var t=G[Ft];Ft==="style"?yT(I,t):Ft==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,t!=null&&pT(I,t)):Ft==="children"?typeof t=="string"?(B!=="textarea"||t!=="")&&G0(I,t):typeof t=="number"&&G0(I,""+t):Ft!=="suppressContentEditableWarning"&&Ft!=="suppressHydrationWarning"&&Ft!=="autoFocus"&&(H0.hasOwnProperty(Ft)?t!=null&&Ft==="onScroll"&&po("scroll",I):t!=null&&Fb(I,Ft,t,W))}switch(B){case"input":ty(I),x2(I,st,!1);break;case"textarea":ty(I),w2(I);break;case"option":st.value!=null&&I.setAttribute("value",""+vv(st.value));break;case"select":I.multiple=!!st.multiple,Ft=st.value,Ft!=null?yp(I,!!st.multiple,Ft,!1):st.defaultValue!=null&&yp(I,!!st.multiple,st.defaultValue,!0);break;default:typeof Tt.onClick=="function"&&(I.onclick=jy)}switch(B){case"button":case"input":case"select":case"textarea":st=!!st.autoFocus;break t;case"img":st=!0;break t;default:st=!1}}st&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ks(l),null;case 6:if(I&&l.stateNode!=null)U5(I,l,I.memoizedProps,st);else{if(typeof st!="string"&&l.stateNode===null)throw Error(yi(166));if(B=od(tg.current),od(yc.current),uy(l)){if(st=l.stateNode,B=l.memoizedProps,st[sc]=l,(Ft=st.nodeValue!==B)&&(I=lu,I!==null))switch(I.tag){case 3:ly(st.nodeValue,B,(I.mode&1)!==0);break;case 5:I.memoizedProps.suppressHydrationWarning!==!0&&ly(st.nodeValue,B,(I.mode&1)!==0)}Ft&&(l.flags|=4)}else st=(B.nodeType===9?B:B.ownerDocument).createTextNode(st),st[sc]=l,l.stateNode=st}return Ks(l),null;case 13:if(go(zo),st=l.memoizedState,I===null||I.memoizedState!==null&&I.memoizedState.dehydrated!==null){if(Ao&&su!==null&&l.mode&1&&!(l.flags&128))i5(),Ip(),l.flags|=98560,Ft=!1;else if(Ft=uy(l),st!==null&&st.dehydrated!==null){if(I===null){if(!Ft)throw Error(yi(318));if(Ft=l.memoizedState,Ft=Ft!==null?Ft.dehydrated:null,!Ft)throw Error(yi(317));Ft[sc]=l}else Ip(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Ks(l),Ft=!1}else Pf!==null&&(db(Pf),Pf=null),Ft=!0;if(!Ft)return l.flags&65536?l:null}return l.flags&128?(l.lanes=B,l):(st=st!==null,st!==(I!==null&&I.memoizedState!==null)&&st&&(l.child.flags|=8192,l.mode&1&&(I===null||zo.current&1?hs===0&&(hs=3):m3())),l.updateQueue!==null&&(l.flags|=4),Ks(l),null);case 4:return Rp(),ob(I,l),I===null&&J0(l.stateNode.containerInfo),Ks(l),null;case 10:return e3(l.type._context),Ks(l),null;case 17:return Bl(l.type)&&Xy(),Ks(l),null;case 19:if(go(zo),Ft=l.memoizedState,Ft===null)return Ks(l),null;if(st=(l.flags&128)!==0,W=Ft.rendering,W===null)if(st)w0(Ft,!1);else{if(hs!==0||I!==null&&I.flags&128)for(I=l.child;I!==null;){if(W=tm(I),W!==null){for(l.flags|=128,w0(Ft,!1),st=W.updateQueue,st!==null&&(l.updateQueue=st,l.flags|=4),l.subtreeFlags=0,st=B,B=l.child;B!==null;)Ft=B,I=st,Ft.flags&=14680066,W=Ft.alternate,W===null?(Ft.childLanes=0,Ft.lanes=I,Ft.child=null,Ft.subtreeFlags=0,Ft.memoizedProps=null,Ft.memoizedState=null,Ft.updateQueue=null,Ft.dependencies=null,Ft.stateNode=null):(Ft.childLanes=W.childLanes,Ft.lanes=W.lanes,Ft.child=W.child,Ft.subtreeFlags=0,Ft.deletions=null,Ft.memoizedProps=W.memoizedProps,Ft.memoizedState=W.memoizedState,Ft.updateQueue=W.updateQueue,Ft.type=W.type,I=W.dependencies,Ft.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),B=B.sibling;return lo(zo,zo.current&1|2),l.child}I=I.sibling}Ft.tail!==null&&Qo()>kp&&(l.flags|=128,st=!0,w0(Ft,!1),l.lanes=4194304)}else{if(!st)if(I=tm(W),I!==null){if(l.flags|=128,st=!0,B=I.updateQueue,B!==null&&(l.updateQueue=B,l.flags|=4),w0(Ft,!0),Ft.tail===null&&Ft.tailMode==="hidden"&&!W.alternate&&!Ao)return Ks(l),null}else 2*Qo()-Ft.renderingStartTime>kp&&B!==1073741824&&(l.flags|=128,st=!0,w0(Ft,!1),l.lanes=4194304);Ft.isBackwards?(W.sibling=l.child,l.child=W):(B=Ft.last,B!==null?B.sibling=W:l.child=W,Ft.last=W)}return Ft.tail!==null?(l=Ft.tail,Ft.rendering=l,Ft.tail=l.sibling,Ft.renderingStartTime=Qo(),l.sibling=null,B=zo.current,lo(zo,st?B&1|2:B&1),l):(Ks(l),null);case 22:case 23:return y3(),st=l.memoizedState!==null,I!==null&&I.memoizedState!==null!==st&&(l.flags|=8192),st&&l.mode&1?iu&1073741824&&(Ks(l),l.subtreeFlags&6&&(l.flags|=8192)):Ks(l),null;case 24:return null;case 25:return null}throw Error(yi(156,l.tag))}function sL(I,l){switch(Qb(l),l.tag){case 1:return Bl(l.type)&&Xy(),I=l.flags,I&65536?(l.flags=I&-65537|128,l):null;case 3:return Rp(),go(Ol),go(Qs),o3(),I=l.flags,I&65536&&!(I&128)?(l.flags=I&-65537|128,l):null;case 5:return a3(l),null;case 13:if(go(zo),I=l.memoizedState,I!==null&&I.dehydrated!==null){if(l.alternate===null)throw Error(yi(340));Ip()}return I=l.flags,I&65536?(l.flags=I&-65537|128,l):null;case 19:return go(zo),null;case 4:return Rp(),null;case 10:return e3(l.type._context),null;case 22:case 23:return y3(),null;case 24:return null;default:return null}}var hy=!1,Js=!1,lL=typeof WeakSet=="function"?WeakSet:Set,_i=null;function dp(I,l){var B=I.ref;if(B!==null)if(typeof B=="function")try{B(null)}catch(st){Wo(I,l,st)}else B.current=null}function sb(I,l,B){try{B()}catch(st){Wo(I,l,st)}}var f4=!1;function uL(I,l){if(Wx=Gy,I=YT(),Kb(I)){if("selectionStart"in I)var B={start:I.selectionStart,end:I.selectionEnd};else t:{B=(B=I.ownerDocument)&&B.defaultView||window;var st=B.getSelection&&B.getSelection();if(st&&st.rangeCount!==0){B=st.anchorNode;var Tt=st.anchorOffset,Ft=st.focusNode;st=st.focusOffset;try{B.nodeType,Ft.nodeType}catch{B=null;break t}var W=0,G=-1,t=-1,y=0,D=0,s=I,P=null;e:for(;;){for(var M;s!==B||Tt!==0&&s.nodeType!==3||(G=W+Tt),s!==Ft||st!==0&&s.nodeType!==3||(t=W+st),s.nodeType===3&&(W+=s.nodeValue.length),(M=s.firstChild)!==null;)P=s,s=M;for(;;){if(s===I)break e;if(P===B&&++y===Tt&&(G=W),P===Ft&&++D===st&&(t=W),(M=s.nextSibling)!==null)break;s=P,P=s.parentNode}s=M}B=G===-1||t===-1?null:{start:G,end:t}}else B=null}B=B||{start:0,end:0}}else B=null;for(Yx={focusedElem:I,selectionRange:B},Gy=!1,_i=l;_i!==null;)if(l=_i,I=l.child,(l.subtreeFlags&1028)!==0&&I!==null)I.return=l,_i=I;else for(;_i!==null;){l=_i;try{var d=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var g=d.memoizedProps,r=d.memoizedState,e=l.stateNode,o=e.getSnapshotBeforeUpdate(l.elementType===l.type?g:Mf(l.type,g),r);e.__reactInternalSnapshotBeforeUpdate=o}break;case 3:var n=l.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(yi(163))}}catch(u){Wo(l,l.return,u)}if(I=l.sibling,I!==null){I.return=l.return,_i=I;break}_i=l.return}return d=f4,f4=!1,d}function F0(I,l,B){var st=l.updateQueue;if(st=st!==null?st.lastEffect:null,st!==null){var Tt=st=st.next;do{if((Tt.tag&I)===I){var Ft=Tt.destroy;Tt.destroy=void 0,Ft!==void 0&&sb(l,B,Ft)}Tt=Tt.next}while(Tt!==st)}}function jm(I,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var B=l=l.next;do{if((B.tag&I)===I){var st=B.create;B.destroy=st()}B=B.next}while(B!==l)}}function lb(I){var l=I.ref;if(l!==null){var B=I.stateNode;switch(I.tag){case 5:I=B;break;default:I=B}typeof l=="function"?l(I):l.current=I}}function V5(I){var l=I.alternate;l!==null&&(I.alternate=null,V5(l)),I.child=null,I.deletions=null,I.sibling=null,I.tag===5&&(l=I.stateNode,l!==null&&(delete l[sc],delete l[$0],delete l[Zx],delete l[YC],delete l[jC])),I.stateNode=null,I.return=null,I.dependencies=null,I.memoizedProps=null,I.memoizedState=null,I.pendingProps=null,I.stateNode=null,I.updateQueue=null}function H5(I){return I.tag===5||I.tag===3||I.tag===4}function c4(I){t:for(;;){for(;I.sibling===null;){if(I.return===null||H5(I.return))return null;I=I.return}for(I.sibling.return=I.return,I=I.sibling;I.tag!==5&&I.tag!==6&&I.tag!==18;){if(I.flags&2||I.child===null||I.tag===4)continue t;I.child.return=I,I=I.child}if(!(I.flags&2))return I.stateNode}}function ub(I,l,B){var st=I.tag;if(st===5||st===6)I=I.stateNode,l?B.nodeType===8?B.parentNode.insertBefore(I,l):B.insertBefore(I,l):(B.nodeType===8?(l=B.parentNode,l.insertBefore(I,B)):(l=B,l.appendChild(I)),B=B._reactRootContainer,B!=null||l.onclick!==null||(l.onclick=jy));else if(st!==4&&(I=I.child,I!==null))for(ub(I,l,B),I=I.sibling;I!==null;)ub(I,l,B),I=I.sibling}function fb(I,l,B){var st=I.tag;if(st===5||st===6)I=I.stateNode,l?B.insertBefore(I,l):B.appendChild(I);else if(st!==4&&(I=I.child,I!==null))for(fb(I,l,B),I=I.sibling;I!==null;)fb(I,l,B),I=I.sibling}var zs=null,Ef=!1;function Kh(I,l,B){for(B=B.child;B!==null;)G5(I,l,B),B=B.sibling}function G5(I,l,B){if(gc&&typeof gc.onCommitFiberUnmount=="function")try{gc.onCommitFiberUnmount(Bm,B)}catch{}switch(B.tag){case 5:Js||dp(B,l);case 6:var st=zs,Tt=Ef;zs=null,Kh(I,l,B),zs=st,Ef=Tt,zs!==null&&(Ef?(I=zs,B=B.stateNode,I.nodeType===8?I.parentNode.removeChild(B):I.removeChild(B)):zs.removeChild(B.stateNode));break;case 18:zs!==null&&(Ef?(I=zs,B=B.stateNode,I.nodeType===8?ax(I.parentNode,B):I.nodeType===1&&ax(I,B),X0(I)):ax(zs,B.stateNode));break;case 4:st=zs,Tt=Ef,zs=B.stateNode.containerInfo,Ef=!0,Kh(I,l,B),zs=st,Ef=Tt;break;case 0:case 11:case 14:case 15:if(!Js&&(st=B.updateQueue,st!==null&&(st=st.lastEffect,st!==null))){Tt=st=st.next;do{var Ft=Tt,W=Ft.destroy;Ft=Ft.tag,W!==void 0&&(Ft&2||Ft&4)&&sb(B,l,W),Tt=Tt.next}while(Tt!==st)}Kh(I,l,B);break;case 1:if(!Js&&(dp(B,l),st=B.stateNode,typeof st.componentWillUnmount=="function"))try{st.props=B.memoizedProps,st.state=B.memoizedState,st.componentWillUnmount()}catch(G){Wo(B,l,G)}Kh(I,l,B);break;case 21:Kh(I,l,B);break;case 22:B.mode&1?(Js=(st=Js)||B.memoizedState!==null,Kh(I,l,B),Js=st):Kh(I,l,B);break;default:Kh(I,l,B)}}function h4(I){var l=I.updateQueue;if(l!==null){I.updateQueue=null;var B=I.stateNode;B===null&&(B=I.stateNode=new lL),l.forEach(function(st){var Tt=mL.bind(null,I,st);B.has(st)||(B.add(st),st.then(Tt,Tt))})}}function Sf(I,l){var B=l.deletions;if(B!==null)for(var st=0;st<B.length;st++){var Tt=B[st];try{var Ft=I,W=l,G=W;t:for(;G!==null;){switch(G.tag){case 5:zs=G.stateNode,Ef=!1;break t;case 3:zs=G.stateNode.containerInfo,Ef=!0;break t;case 4:zs=G.stateNode.containerInfo,Ef=!0;break t}G=G.return}if(zs===null)throw Error(yi(160));G5(Ft,W,Tt),zs=null,Ef=!1;var t=Tt.alternate;t!==null&&(t.return=null),Tt.return=null}catch(y){Wo(Tt,l,y)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)W5(l,I),l=l.sibling}function W5(I,l){var B=I.alternate,st=I.flags;switch(I.tag){case 0:case 11:case 14:case 15:if(Sf(l,I),ec(I),st&4){try{F0(3,I,I.return),jm(3,I)}catch(g){Wo(I,I.return,g)}try{F0(5,I,I.return)}catch(g){Wo(I,I.return,g)}}break;case 1:Sf(l,I),ec(I),st&512&&B!==null&&dp(B,B.return);break;case 5:if(Sf(l,I),ec(I),st&512&&B!==null&&dp(B,B.return),I.flags&32){var Tt=I.stateNode;try{G0(Tt,"")}catch(g){Wo(I,I.return,g)}}if(st&4&&(Tt=I.stateNode,Tt!=null)){var Ft=I.memoizedProps,W=B!==null?B.memoizedProps:Ft,G=I.type,t=I.updateQueue;if(I.updateQueue=null,t!==null)try{G==="input"&&Ft.type==="radio"&&Ft.name!=null&&hT(Tt,Ft),kx(G,W);var y=kx(G,Ft);for(W=0;W<t.length;W+=2){var D=t[W],s=t[W+1];D==="style"?yT(Tt,s):D==="dangerouslySetInnerHTML"?pT(Tt,s):D==="children"?G0(Tt,s):Fb(Tt,D,s,y)}switch(G){case"input":Px(Tt,Ft);break;case"textarea":vT(Tt,Ft);break;case"select":var P=Tt._wrapperState.wasMultiple;Tt._wrapperState.wasMultiple=!!Ft.multiple;var M=Ft.value;M!=null?yp(Tt,!!Ft.multiple,M,!1):P!==!!Ft.multiple&&(Ft.defaultValue!=null?yp(Tt,!!Ft.multiple,Ft.defaultValue,!0):yp(Tt,!!Ft.multiple,Ft.multiple?[]:"",!1))}Tt[$0]=Ft}catch(g){Wo(I,I.return,g)}}break;case 6:if(Sf(l,I),ec(I),st&4){if(I.stateNode===null)throw Error(yi(162));Tt=I.stateNode,Ft=I.memoizedProps;try{Tt.nodeValue=Ft}catch(g){Wo(I,I.return,g)}}break;case 3:if(Sf(l,I),ec(I),st&4&&B!==null&&B.memoizedState.isDehydrated)try{X0(l.containerInfo)}catch(g){Wo(I,I.return,g)}break;case 4:Sf(l,I),ec(I);break;case 13:Sf(l,I),ec(I),Tt=I.child,Tt.flags&8192&&(Ft=Tt.memoizedState!==null,Tt.stateNode.isHidden=Ft,!Ft||Tt.alternate!==null&&Tt.alternate.memoizedState!==null||(p3=Qo())),st&4&&h4(I);break;case 22:if(D=B!==null&&B.memoizedState!==null,I.mode&1?(Js=(y=Js)||D,Sf(l,I),Js=y):Sf(l,I),ec(I),st&8192){if(y=I.memoizedState!==null,(I.stateNode.isHidden=y)&&!D&&I.mode&1)for(_i=I,D=I.child;D!==null;){for(s=_i=D;_i!==null;){switch(P=_i,M=P.child,P.tag){case 0:case 11:case 14:case 15:F0(4,P,P.return);break;case 1:dp(P,P.return);var d=P.stateNode;if(typeof d.componentWillUnmount=="function"){st=P,B=P.return;try{l=st,d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(g){Wo(st,B,g)}}break;case 5:dp(P,P.return);break;case 22:if(P.memoizedState!==null){d4(s);continue}}M!==null?(M.return=P,_i=M):d4(s)}D=D.sibling}t:for(D=null,s=I;;){if(s.tag===5){if(D===null){D=s;try{Tt=s.stateNode,y?(Ft=Tt.style,typeof Ft.setProperty=="function"?Ft.setProperty("display","none","important"):Ft.display="none"):(G=s.stateNode,t=s.memoizedProps.style,W=t!=null&&t.hasOwnProperty("display")?t.display:null,G.style.display=gT("display",W))}catch(g){Wo(I,I.return,g)}}}else if(s.tag===6){if(D===null)try{s.stateNode.nodeValue=y?"":s.memoizedProps}catch(g){Wo(I,I.return,g)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===I)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===I)break t;for(;s.sibling===null;){if(s.return===null||s.return===I)break t;D===s&&(D=null),s=s.return}D===s&&(D=null),s.sibling.return=s.return,s=s.sibling}}break;case 19:Sf(l,I),ec(I),st&4&&h4(I);break;case 21:break;default:Sf(l,I),ec(I)}}function ec(I){var l=I.flags;if(l&2){try{t:{for(var B=I.return;B!==null;){if(H5(B)){var st=B;break t}B=B.return}throw Error(yi(160))}switch(st.tag){case 5:var Tt=st.stateNode;st.flags&32&&(G0(Tt,""),st.flags&=-33);var Ft=c4(I);fb(I,Ft,Tt);break;case 3:case 4:var W=st.stateNode.containerInfo,G=c4(I);ub(I,G,W);break;default:throw Error(yi(161))}}catch(t){Wo(I,I.return,t)}I.flags&=-3}l&4096&&(I.flags&=-4097)}function fL(I,l,B){_i=I,Y5(I)}function Y5(I,l,B){for(var st=(I.mode&1)!==0;_i!==null;){var Tt=_i,Ft=Tt.child;if(Tt.tag===22&&st){var W=Tt.memoizedState!==null||hy;if(!W){var G=Tt.alternate,t=G!==null&&G.memoizedState!==null||Js;G=hy;var y=Js;if(hy=W,(Js=t)&&!y)for(_i=Tt;_i!==null;)W=_i,t=W.child,W.tag===22&&W.memoizedState!==null?p4(Tt):t!==null?(t.return=W,_i=t):p4(Tt);for(;Ft!==null;)_i=Ft,Y5(Ft),Ft=Ft.sibling;_i=Tt,hy=G,Js=y}v4(I)}else Tt.subtreeFlags&8772&&Ft!==null?(Ft.return=Tt,_i=Ft):v4(I)}}function v4(I){for(;_i!==null;){var l=_i;if(l.flags&8772){var B=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Js||jm(5,l);break;case 1:var st=l.stateNode;if(l.flags&4&&!Js)if(B===null)st.componentDidMount();else{var Tt=l.elementType===l.type?B.memoizedProps:Mf(l.type,B.memoizedProps);st.componentDidUpdate(Tt,B.memoizedState,st.__reactInternalSnapshotBeforeUpdate)}var Ft=l.updateQueue;Ft!==null&&Q2(l,Ft,st);break;case 3:var W=l.updateQueue;if(W!==null){if(B=null,l.child!==null)switch(l.child.tag){case 5:B=l.child.stateNode;break;case 1:B=l.child.stateNode}Q2(l,W,B)}break;case 5:var G=l.stateNode;if(B===null&&l.flags&4){B=G;var t=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":t.autoFocus&&B.focus();break;case"img":t.src&&(B.src=t.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var y=l.alternate;if(y!==null){var D=y.memoizedState;if(D!==null){var s=D.dehydrated;s!==null&&X0(s)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(yi(163))}Js||l.flags&512&&lb(l)}catch(P){Wo(l,l.return,P)}}if(l===I){_i=null;break}if(B=l.sibling,B!==null){B.return=l.return,_i=B;break}_i=l.return}}function d4(I){for(;_i!==null;){var l=_i;if(l===I){_i=null;break}var B=l.sibling;if(B!==null){B.return=l.return,_i=B;break}_i=l.return}}function p4(I){for(;_i!==null;){var l=_i;try{switch(l.tag){case 0:case 11:case 15:var B=l.return;try{jm(4,l)}catch(t){Wo(l,B,t)}break;case 1:var st=l.stateNode;if(typeof st.componentDidMount=="function"){var Tt=l.return;try{st.componentDidMount()}catch(t){Wo(l,Tt,t)}}var Ft=l.return;try{lb(l)}catch(t){Wo(l,Ft,t)}break;case 5:var W=l.return;try{lb(l)}catch(t){Wo(l,W,t)}}}catch(t){Wo(l,l.return,t)}if(l===I){_i=null;break}var G=l.sibling;if(G!==null){G.return=l.return,_i=G;break}_i=l.return}}var cL=Math.ceil,nm=fh.ReactCurrentDispatcher,v3=fh.ReactCurrentOwner,ju=fh.ReactCurrentBatchConfig,ka=0,xs=null,is=null,Fs=0,iu=0,pp=Tv(0),hs=0,ig=null,bd=0,Xm=0,d3=0,O0=null,_l=null,p3=0,kp=1/0,Xc=null,im=!1,cb=null,fv=null,vy=!1,iv=null,am=0,B0=0,hb=null,Cy=-1,Ly=0;function vl(){return ka&6?Qo():Cy!==-1?Cy:Cy=Qo()}function cv(I){return I.mode&1?ka&2&&Fs!==0?Fs&-Fs:ZC.transition!==null?(Ly===0&&(Ly=PT()),Ly):(I=Ka,I!==0||(I=window.event,I=I===void 0?16:FT(I.type)),I):1}function Df(I,l,B,st){if(50<B0)throw B0=0,hb=null,Error(yi(185));vg(I,B,st),(!(ka&2)||I!==xs)&&(I===xs&&(!(ka&2)&&(Xm|=B),hs===4&&rv(I,Fs)),Nl(I,st),B===1&&ka===0&&!(l.mode&1)&&(kp=Qo()+500,Gm&&Av()))}function Nl(I,l){var B=I.callbackNode;ZE(I,l);var st=Hy(I,I===xs?Fs:0);if(st===0)B!==null&&S2(B),I.callbackNode=null,I.callbackPriority=0;else if(l=st&-st,I.callbackPriority!==l){if(B!=null&&S2(B),l===1)I.tag===0?XC(g4.bind(null,I)):e5(g4.bind(null,I)),GC(function(){!(ka&6)&&Av()}),B=null;else{switch(IT(st)){case 1:B=Vb;break;case 4:B=CT;break;case 16:B=Vy;break;case 536870912:B=LT;break;default:B=Vy}B=q5(B,j5.bind(null,I))}I.callbackPriority=l,I.callbackNode=B}}function j5(I,l){if(Cy=-1,Ly=0,ka&6)throw Error(yi(327));var B=I.callbackNode;if(Tp()&&I.callbackNode!==B)return null;var st=Hy(I,I===xs?Fs:0);if(st===0)return null;if(st&30||st&I.expiredLanes||l)l=om(I,st);else{l=st;var Tt=ka;ka|=2;var Ft=Z5();(xs!==I||Fs!==l)&&(Xc=null,kp=Qo()+500,vd(I,l));do try{dL();break}catch(G){X5(I,G)}while(!0);t3(),nm.current=Ft,ka=Tt,is!==null?l=0:(xs=null,Fs=0,l=hs)}if(l!==0){if(l===2&&(Tt=Nx(I),Tt!==0&&(st=Tt,l=vb(I,Tt))),l===1)throw B=ig,vd(I,0),rv(I,st),Nl(I,Qo()),B;if(l===6)rv(I,st);else{if(Tt=I.current.alternate,!(st&30)&&!hL(Tt)&&(l=om(I,st),l===2&&(Ft=Nx(I),Ft!==0&&(st=Ft,l=vb(I,Ft))),l===1))throw B=ig,vd(I,0),rv(I,st),Nl(I,Qo()),B;switch(I.finishedWork=Tt,I.finishedLanes=st,l){case 0:case 1:throw Error(yi(345));case 2:rd(I,_l,Xc);break;case 3:if(rv(I,st),(st&130023424)===st&&(l=p3+500-Qo(),10<l)){if(Hy(I,0)!==0)break;if(Tt=I.suspendedLanes,(Tt&st)!==st){vl(),I.pingedLanes|=I.suspendedLanes&Tt;break}I.timeoutHandle=Xx(rd.bind(null,I,_l,Xc),l);break}rd(I,_l,Xc);break;case 4:if(rv(I,st),(st&4194240)===st)break;for(l=I.eventTimes,Tt=-1;0<st;){var W=31-If(st);Ft=1<<W,W=l[W],W>Tt&&(Tt=W),st&=~Ft}if(st=Tt,st=Qo()-st,st=(120>st?120:480>st?480:1080>st?1080:1920>st?1920:3e3>st?3e3:4320>st?4320:1960*cL(st/1960))-st,10<st){I.timeoutHandle=Xx(rd.bind(null,I,_l,Xc),st);break}rd(I,_l,Xc);break;case 5:rd(I,_l,Xc);break;default:throw Error(yi(329))}}}return Nl(I,Qo()),I.callbackNode===B?j5.bind(null,I):null}function vb(I,l){var B=O0;return I.current.memoizedState.isDehydrated&&(vd(I,l).flags|=256),I=om(I,l),I!==2&&(l=_l,_l=B,l!==null&&db(l)),I}function db(I){_l===null?_l=I:_l.push.apply(_l,I)}function hL(I){for(var l=I;;){if(l.flags&16384){var B=l.updateQueue;if(B!==null&&(B=B.stores,B!==null))for(var st=0;st<B.length;st++){var Tt=B[st],Ft=Tt.getSnapshot;Tt=Tt.value;try{if(!_f(Ft(),Tt))return!1}catch{return!1}}}if(B=l.child,l.subtreeFlags&16384&&B!==null)B.return=l,l=B;else{if(l===I)break;for(;l.sibling===null;){if(l.return===null||l.return===I)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function rv(I,l){for(l&=~d3,l&=~Xm,I.suspendedLanes|=l,I.pingedLanes&=~l,I=I.expirationTimes;0<l;){var B=31-If(l),st=1<<B;I[B]=-1,l&=~st}}function g4(I){if(ka&6)throw Error(yi(327));Tp();var l=Hy(I,0);if(!(l&1))return Nl(I,Qo()),null;var B=om(I,l);if(I.tag!==0&&B===2){var st=Nx(I);st!==0&&(l=st,B=vb(I,st))}if(B===1)throw B=ig,vd(I,0),rv(I,l),Nl(I,Qo()),B;if(B===6)throw Error(yi(345));return I.finishedWork=I.current.alternate,I.finishedLanes=l,rd(I,_l,Xc),Nl(I,Qo()),null}function g3(I,l){var B=ka;ka|=1;try{return I(l)}finally{ka=B,ka===0&&(kp=Qo()+500,Gm&&Av())}}function wd(I){iv!==null&&iv.tag===0&&!(ka&6)&&Tp();var l=ka;ka|=1;var B=ju.transition,st=Ka;try{if(ju.transition=null,Ka=1,I)return I()}finally{Ka=st,ju.transition=B,ka=l,!(ka&6)&&Av()}}function y3(){iu=pp.current,go(pp)}function vd(I,l){I.finishedWork=null,I.finishedLanes=0;var B=I.timeoutHandle;if(B!==-1&&(I.timeoutHandle=-1,HC(B)),is!==null)for(B=is.return;B!==null;){var st=B;switch(Qb(st),st.tag){case 1:st=st.type.childContextTypes,st!=null&&Xy();break;case 3:Rp(),go(Ol),go(Qs),o3();break;case 5:a3(st);break;case 4:Rp();break;case 13:go(zo);break;case 19:go(zo);break;case 10:e3(st.type._context);break;case 22:case 23:y3()}B=B.return}if(xs=I,is=I=hv(I.current,null),Fs=iu=l,hs=0,ig=null,d3=Xm=bd=0,_l=O0=null,ad!==null){for(l=0;l<ad.length;l++)if(B=ad[l],st=B.interleaved,st!==null){B.interleaved=null;var Tt=st.next,Ft=B.pending;if(Ft!==null){var W=Ft.next;Ft.next=Tt,st.next=W}B.pending=st}ad=null}return I}function X5(I,l){do{var B=is;try{if(t3(),Sy.current=rm,em){for(var st=Oo.memoizedState;st!==null;){var Tt=st.queue;Tt!==null&&(Tt.pending=null),st=st.next}em=!1}if(xd=0,ms=us=Oo=null,z0=!1,eg=0,v3.current=null,B===null||B.return===null){hs=1,ig=l,is=null;break}t:{var Ft=I,W=B.return,G=B,t=l;if(l=Fs,G.flags|=32768,t!==null&&typeof t=="object"&&typeof t.then=="function"){var y=t,D=G,s=D.tag;if(!(D.mode&1)&&(s===0||s===11||s===15)){var P=D.alternate;P?(D.updateQueue=P.updateQueue,D.memoizedState=P.memoizedState,D.lanes=P.lanes):(D.updateQueue=null,D.memoizedState=null)}var M=n4(W);if(M!==null){M.flags&=-257,i4(M,W,G,Ft,l),M.mode&1&&r4(Ft,y,l),l=M,t=y;var d=l.updateQueue;if(d===null){var g=new Set;g.add(t),l.updateQueue=g}else d.add(t);break t}else{if(!(l&1)){r4(Ft,y,l),m3();break t}t=Error(yi(426))}}else if(Ao&&G.mode&1){var r=n4(W);if(r!==null){!(r.flags&65536)&&(r.flags|=256),i4(r,W,G,Ft,l),$b(_p(t,G));break t}}Ft=t=_p(t,G),hs!==4&&(hs=2),O0===null?O0=[Ft]:O0.push(Ft),Ft=W;do{switch(Ft.tag){case 3:Ft.flags|=65536,l&=-l,Ft.lanes|=l;var e=I5(Ft,t,l);J2(Ft,e);break t;case 1:G=t;var o=Ft.type,n=Ft.stateNode;if(!(Ft.flags&128)&&(typeof o.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(fv===null||!fv.has(n)))){Ft.flags|=65536,l&=-l,Ft.lanes|=l;var u=D5(Ft,G,l);J2(Ft,u);break t}}Ft=Ft.return}while(Ft!==null)}J5(B)}catch(f){l=f,is===B&&B!==null&&(is=B=B.return);continue}break}while(!0)}function Z5(){var I=nm.current;return nm.current=rm,I===null?rm:I}function m3(){(hs===0||hs===3||hs===2)&&(hs=4),xs===null||!(bd&268435455)&&!(Xm&268435455)||rv(xs,Fs)}function om(I,l){var B=ka;ka|=2;var st=Z5();(xs!==I||Fs!==l)&&(Xc=null,vd(I,l));do try{vL();break}catch(Tt){X5(I,Tt)}while(!0);if(t3(),ka=B,nm.current=st,is!==null)throw Error(yi(261));return xs=null,Fs=0,hs}function vL(){for(;is!==null;)K5(is)}function dL(){for(;is!==null&&!NE();)K5(is)}function K5(I){var l=$5(I.alternate,I,iu);I.memoizedProps=I.pendingProps,l===null?J5(I):is=l,v3.current=null}function J5(I){var l=I;do{var B=l.alternate;if(I=l.return,l.flags&32768){if(B=sL(B,l),B!==null){B.flags&=32767,is=B;return}if(I!==null)I.flags|=32768,I.subtreeFlags=0,I.deletions=null;else{hs=6,is=null;return}}else if(B=oL(B,l,iu),B!==null){is=B;return}if(l=l.sibling,l!==null){is=l;return}is=l=I}while(l!==null);hs===0&&(hs=5)}function rd(I,l,B){var st=Ka,Tt=ju.transition;try{ju.transition=null,Ka=1,pL(I,l,B,st)}finally{ju.transition=Tt,Ka=st}return null}function pL(I,l,B,st){do Tp();while(iv!==null);if(ka&6)throw Error(yi(327));B=I.finishedWork;var Tt=I.finishedLanes;if(B===null)return null;if(I.finishedWork=null,I.finishedLanes=0,B===I.current)throw Error(yi(177));I.callbackNode=null,I.callbackPriority=0;var Ft=B.lanes|B.childLanes;if(KE(I,Ft),I===xs&&(is=xs=null,Fs=0),!(B.subtreeFlags&2064)&&!(B.flags&2064)||vy||(vy=!0,q5(Vy,function(){return Tp(),null})),Ft=(B.flags&15990)!==0,B.subtreeFlags&15990||Ft){Ft=ju.transition,ju.transition=null;var W=Ka;Ka=1;var G=ka;ka|=4,v3.current=null,uL(I,B),W5(B,I),zC(Yx),Gy=!!Wx,Yx=Wx=null,I.current=B,fL(B),UE(),ka=G,Ka=W,ju.transition=Ft}else I.current=B;if(vy&&(vy=!1,iv=I,am=Tt),Ft=I.pendingLanes,Ft===0&&(fv=null),GE(B.stateNode),Nl(I,Qo()),l!==null)for(st=I.onRecoverableError,B=0;B<l.length;B++)Tt=l[B],st(Tt.value,{componentStack:Tt.stack,digest:Tt.digest});if(im)throw im=!1,I=cb,cb=null,I;return am&1&&I.tag!==0&&Tp(),Ft=I.pendingLanes,Ft&1?I===hb?B0++:(B0=0,hb=I):B0=0,Av(),null}function Tp(){if(iv!==null){var I=IT(am),l=ju.transition,B=Ka;try{if(ju.transition=null,Ka=16>I?16:I,iv===null)var st=!1;else{if(I=iv,iv=null,am=0,ka&6)throw Error(yi(331));var Tt=ka;for(ka|=4,_i=I.current;_i!==null;){var Ft=_i,W=Ft.child;if(_i.flags&16){var G=Ft.deletions;if(G!==null){for(var t=0;t<G.length;t++){var y=G[t];for(_i=y;_i!==null;){var D=_i;switch(D.tag){case 0:case 11:case 15:F0(8,D,Ft)}var s=D.child;if(s!==null)s.return=D,_i=s;else for(;_i!==null;){D=_i;var P=D.sibling,M=D.return;if(V5(D),D===y){_i=null;break}if(P!==null){P.return=M,_i=P;break}_i=M}}}var d=Ft.alternate;if(d!==null){var g=d.child;if(g!==null){d.child=null;do{var r=g.sibling;g.sibling=null,g=r}while(g!==null)}}_i=Ft}}if(Ft.subtreeFlags&2064&&W!==null)W.return=Ft,_i=W;else t:for(;_i!==null;){if(Ft=_i,Ft.flags&2048)switch(Ft.tag){case 0:case 11:case 15:F0(9,Ft,Ft.return)}var e=Ft.sibling;if(e!==null){e.return=Ft.return,_i=e;break t}_i=Ft.return}}var o=I.current;for(_i=o;_i!==null;){W=_i;var n=W.child;if(W.subtreeFlags&2064&&n!==null)n.return=W,_i=n;else t:for(W=o;_i!==null;){if(G=_i,G.flags&2048)try{switch(G.tag){case 0:case 11:case 15:jm(9,G)}}catch(f){Wo(G,G.return,f)}if(G===W){_i=null;break t}var u=G.sibling;if(u!==null){u.return=G.return,_i=u;break t}_i=G.return}}if(ka=Tt,Av(),gc&&typeof gc.onPostCommitFiberRoot=="function")try{gc.onPostCommitFiberRoot(Bm,I)}catch{}st=!0}return st}finally{Ka=B,ju.transition=l}}return!1}function y4(I,l,B){l=_p(B,l),l=I5(I,l,1),I=uv(I,l,1),l=vl(),I!==null&&(vg(I,1,l),Nl(I,l))}function Wo(I,l,B){if(I.tag===3)y4(I,I,B);else for(;l!==null;){if(l.tag===3){y4(l,I,B);break}else if(l.tag===1){var st=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof st.componentDidCatch=="function"&&(fv===null||!fv.has(st))){I=_p(B,I),I=D5(l,I,1),l=uv(l,I,1),I=vl(),l!==null&&(vg(l,1,I),Nl(l,I));break}}l=l.return}}function gL(I,l,B){var st=I.pingCache;st!==null&&st.delete(l),l=vl(),I.pingedLanes|=I.suspendedLanes&B,xs===I&&(Fs&B)===B&&(hs===4||hs===3&&(Fs&130023424)===Fs&&500>Qo()-p3?vd(I,0):d3|=B),Nl(I,l)}function Q5(I,l){l===0&&(I.mode&1?(l=ny,ny<<=1,!(ny&130023424)&&(ny=4194304)):l=1);var B=vl();I=sh(I,l),I!==null&&(vg(I,l,B),Nl(I,B))}function yL(I){var l=I.memoizedState,B=0;l!==null&&(B=l.retryLane),Q5(I,B)}function mL(I,l){var B=0;switch(I.tag){case 13:var st=I.stateNode,Tt=I.memoizedState;Tt!==null&&(B=Tt.retryLane);break;case 19:st=I.stateNode;break;default:throw Error(yi(314))}st!==null&&st.delete(l),Q5(I,B)}var $5;$5=function(I,l,B){if(I!==null)if(I.memoizedProps!==l.pendingProps||Ol.current)Fl=!0;else{if(!(I.lanes&B)&&!(l.flags&128))return Fl=!1,aL(I,l,B);Fl=!!(I.flags&131072)}else Fl=!1,Ao&&l.flags&1048576&&r5(l,Jy,l.index);switch(l.lanes=0,l.tag){case 2:var st=l.type;Ey(I,l),I=l.pendingProps;var Tt=Pp(l,Qs.current);wp(l,B),Tt=l3(null,l,st,I,Tt,B);var Ft=u3();return l.flags|=1,typeof Tt=="object"&&Tt!==null&&typeof Tt.render=="function"&&Tt.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Bl(st)?(Ft=!0,Zy(l)):Ft=!1,l.memoizedState=Tt.state!==null&&Tt.state!==void 0?Tt.state:null,n3(l),Tt.updater=Ym,l.stateNode=Tt,Tt._reactInternals=l,tb(l,st,I,B),l=nb(null,l,st,!0,Ft,B)):(l.tag=0,Ao&&Ft&&Jb(l),ul(null,l,Tt,B),l=l.child),l;case 16:st=l.elementType;t:{switch(Ey(I,l),I=l.pendingProps,Tt=st._init,st=Tt(st._payload),l.type=st,Tt=l.tag=bL(st),I=Mf(st,I),Tt){case 0:l=rb(null,l,st,I,B);break t;case 1:l=s4(null,l,st,I,B);break t;case 11:l=a4(null,l,st,I,B);break t;case 14:l=o4(null,l,st,Mf(st.type,I),B);break t}throw Error(yi(306,st,""))}return l;case 0:return st=l.type,Tt=l.pendingProps,Tt=l.elementType===st?Tt:Mf(st,Tt),rb(I,l,st,Tt,B);case 1:return st=l.type,Tt=l.pendingProps,Tt=l.elementType===st?Tt:Mf(st,Tt),s4(I,l,st,Tt,B);case 3:t:{if(z5(l),I===null)throw Error(yi(387));st=l.pendingProps,Ft=l.memoizedState,Tt=Ft.element,l5(I,l),qy(l,st,null,B);var W=l.memoizedState;if(st=W.element,Ft.isDehydrated)if(Ft={element:st,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},l.updateQueue.baseState=Ft,l.memoizedState=Ft,l.flags&256){Tt=_p(Error(yi(423)),l),l=l4(I,l,st,B,Tt);break t}else if(st!==Tt){Tt=_p(Error(yi(424)),l),l=l4(I,l,st,B,Tt);break t}else for(su=lv(l.stateNode.containerInfo.firstChild),lu=l,Ao=!0,Pf=null,B=o5(l,null,st,B),l.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling;else{if(Ip(),st===Tt){l=lh(I,l,B);break t}ul(I,l,st,B)}l=l.child}return l;case 5:return u5(l),I===null&&Qx(l),st=l.type,Tt=l.pendingProps,Ft=I!==null?I.memoizedProps:null,W=Tt.children,jx(st,Tt)?W=null:Ft!==null&&jx(st,Ft)&&(l.flags|=32),k5(I,l),ul(I,l,W,B),l.child;case 6:return I===null&&Qx(l),null;case 13:return F5(I,l,B);case 4:return i3(l,l.stateNode.containerInfo),st=l.pendingProps,I===null?l.child=Dp(l,null,st,B):ul(I,l,st,B),l.child;case 11:return st=l.type,Tt=l.pendingProps,Tt=l.elementType===st?Tt:Mf(st,Tt),a4(I,l,st,Tt,B);case 7:return ul(I,l,l.pendingProps,B),l.child;case 8:return ul(I,l,l.pendingProps.children,B),l.child;case 12:return ul(I,l,l.pendingProps.children,B),l.child;case 10:t:{if(st=l.type._context,Tt=l.pendingProps,Ft=l.memoizedProps,W=Tt.value,lo(Qy,st._currentValue),st._currentValue=W,Ft!==null)if(_f(Ft.value,W)){if(Ft.children===Tt.children&&!Ol.current){l=lh(I,l,B);break t}}else for(Ft=l.child,Ft!==null&&(Ft.return=l);Ft!==null;){var G=Ft.dependencies;if(G!==null){W=Ft.child;for(var t=G.firstContext;t!==null;){if(t.context===st){if(Ft.tag===1){t=rh(-1,B&-B),t.tag=2;var y=Ft.updateQueue;if(y!==null){y=y.shared;var D=y.pending;D===null?t.next=t:(t.next=D.next,D.next=t),y.pending=t}}Ft.lanes|=B,t=Ft.alternate,t!==null&&(t.lanes|=B),$x(Ft.return,B,l),G.lanes|=B;break}t=t.next}}else if(Ft.tag===10)W=Ft.type===l.type?null:Ft.child;else if(Ft.tag===18){if(W=Ft.return,W===null)throw Error(yi(341));W.lanes|=B,G=W.alternate,G!==null&&(G.lanes|=B),$x(W,B,l),W=Ft.sibling}else W=Ft.child;if(W!==null)W.return=Ft;else for(W=Ft;W!==null;){if(W===l){W=null;break}if(Ft=W.sibling,Ft!==null){Ft.return=W.return,W=Ft;break}W=W.return}Ft=W}ul(I,l,Tt.children,B),l=l.child}return l;case 9:return Tt=l.type,st=l.pendingProps.children,wp(l,B),Tt=Xu(Tt),st=st(Tt),l.flags|=1,ul(I,l,st,B),l.child;case 14:return st=l.type,Tt=Mf(st,l.pendingProps),Tt=Mf(st.type,Tt),o4(I,l,st,Tt,B);case 15:return R5(I,l,l.type,l.pendingProps,B);case 17:return st=l.type,Tt=l.pendingProps,Tt=l.elementType===st?Tt:Mf(st,Tt),Ey(I,l),l.tag=1,Bl(st)?(I=!0,Zy(l)):I=!1,wp(l,B),P5(l,st,Tt),tb(l,st,Tt,B),nb(null,l,st,!0,I,B);case 19:return O5(I,l,B);case 22:return _5(I,l,B)}throw Error(yi(156,l.tag))};function q5(I,l){return ET(I,l)}function xL(I,l,B,st){this.tag=I,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=st,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yu(I,l,B,st){return new xL(I,l,B,st)}function x3(I){return I=I.prototype,!(!I||!I.isReactComponent)}function bL(I){if(typeof I=="function")return x3(I)?1:0;if(I!=null){if(I=I.$$typeof,I===Bb)return 11;if(I===Nb)return 14}return 2}function hv(I,l){var B=I.alternate;return B===null?(B=Yu(I.tag,l,I.key,I.mode),B.elementType=I.elementType,B.type=I.type,B.stateNode=I.stateNode,B.alternate=I,I.alternate=B):(B.pendingProps=l,B.type=I.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=I.flags&14680064,B.childLanes=I.childLanes,B.lanes=I.lanes,B.child=I.child,B.memoizedProps=I.memoizedProps,B.memoizedState=I.memoizedState,B.updateQueue=I.updateQueue,l=I.dependencies,B.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},B.sibling=I.sibling,B.index=I.index,B.ref=I.ref,B}function Py(I,l,B,st,Tt,Ft){var W=2;if(st=I,typeof I=="function")x3(I)&&(W=1);else if(typeof I=="string")W=5;else t:switch(I){case ap:return dd(B.children,Tt,Ft,l);case Ob:W=8,Tt|=8;break;case Sx:return I=Yu(12,B,l,Tt|2),I.elementType=Sx,I.lanes=Ft,I;case Mx:return I=Yu(13,B,l,Tt),I.elementType=Mx,I.lanes=Ft,I;case Ex:return I=Yu(19,B,l,Tt),I.elementType=Ex,I.lanes=Ft,I;case uT:return Zm(B,Tt,Ft,l);default:if(typeof I=="object"&&I!==null)switch(I.$$typeof){case sT:W=10;break t;case lT:W=9;break t;case Bb:W=11;break t;case Nb:W=14;break t;case Qh:W=16,st=null;break t}throw Error(yi(130,I==null?I:typeof I,""))}return l=Yu(W,B,l,Tt),l.elementType=I,l.type=st,l.lanes=Ft,l}function dd(I,l,B,st){return I=Yu(7,I,st,l),I.lanes=B,I}function Zm(I,l,B,st){return I=Yu(22,I,st,l),I.elementType=uT,I.lanes=B,I.stateNode={isHidden:!1},I}function vx(I,l,B){return I=Yu(6,I,null,l),I.lanes=B,I}function dx(I,l,B){return l=Yu(4,I.children!==null?I.children:[],I.key,l),l.lanes=B,l.stateNode={containerInfo:I.containerInfo,pendingChildren:null,implementation:I.implementation},l}function wL(I,l,B,st,Tt){this.tag=l,this.containerInfo=I,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Z1(0),this.expirationTimes=Z1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z1(0),this.identifierPrefix=st,this.onRecoverableError=Tt,this.mutableSourceEagerHydrationData=null}function b3(I,l,B,st,Tt,Ft,W,G,t){return I=new wL(I,l,B,G,t),l===1?(l=1,Ft===!0&&(l|=8)):l=0,Ft=Yu(3,null,null,l),I.current=Ft,Ft.stateNode=I,Ft.memoizedState={element:st,isDehydrated:B,cache:null,transitions:null,pendingSuspenseBoundaries:null},n3(Ft),I}function TL(I,l,B){var st=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ip,key:st==null?null:""+st,children:I,containerInfo:l,implementation:B}}function tA(I){if(!I)return dv;I=I._reactInternals;t:{if(Sd(I)!==I||I.tag!==1)throw Error(yi(170));var l=I;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Bl(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(yi(171))}if(I.tag===1){var B=I.type;if(Bl(B))return t5(I,B,l)}return l}function eA(I,l,B,st,Tt,Ft,W,G,t){return I=b3(B,st,!0,I,Tt,Ft,W,G,t),I.context=tA(null),B=I.current,st=vl(),Tt=cv(B),Ft=rh(st,Tt),Ft.callback=l??null,uv(B,Ft,Tt),I.current.lanes=Tt,vg(I,Tt,st),Nl(I,st),I}function Km(I,l,B,st){var Tt=l.current,Ft=vl(),W=cv(Tt);return B=tA(B),l.context===null?l.context=B:l.pendingContext=B,l=rh(Ft,W),l.payload={element:I},st=st===void 0?null:st,st!==null&&(l.callback=st),I=uv(Tt,l,W),I!==null&&(Df(I,Tt,W,Ft),Ay(I,Tt,W)),W}function sm(I){if(I=I.current,!I.child)return null;switch(I.child.tag){case 5:return I.child.stateNode;default:return I.child.stateNode}}function m4(I,l){if(I=I.memoizedState,I!==null&&I.dehydrated!==null){var B=I.retryLane;I.retryLane=B!==0&&B<l?B:l}}function w3(I,l){m4(I,l),(I=I.alternate)&&m4(I,l)}function AL(){return null}var rA=typeof reportError=="function"?reportError:function(I){console.error(I)};function T3(I){this._internalRoot=I}Jm.prototype.render=T3.prototype.render=function(I){var l=this._internalRoot;if(l===null)throw Error(yi(409));Km(I,l,null,null)};Jm.prototype.unmount=T3.prototype.unmount=function(){var I=this._internalRoot;if(I!==null){this._internalRoot=null;var l=I.containerInfo;wd(function(){Km(null,I,null,null)}),l[oh]=null}};function Jm(I){this._internalRoot=I}Jm.prototype.unstable_scheduleHydration=function(I){if(I){var l=_T();I={blockedOn:null,target:I,priority:l};for(var B=0;B<ev.length&&l!==0&&l<ev[B].priority;B++);ev.splice(B,0,I),B===0&&zT(I)}};function A3(I){return!(!I||I.nodeType!==1&&I.nodeType!==9&&I.nodeType!==11)}function Qm(I){return!(!I||I.nodeType!==1&&I.nodeType!==9&&I.nodeType!==11&&(I.nodeType!==8||I.nodeValue!==" react-mount-point-unstable "))}function x4(){}function SL(I,l,B,st,Tt){if(Tt){if(typeof st=="function"){var Ft=st;st=function(){var y=sm(W);Ft.call(y)}}var W=eA(l,st,I,0,null,!1,!1,"",x4);return I._reactRootContainer=W,I[oh]=W.current,J0(I.nodeType===8?I.parentNode:I),wd(),W}for(;Tt=I.lastChild;)I.removeChild(Tt);if(typeof st=="function"){var G=st;st=function(){var y=sm(t);G.call(y)}}var t=b3(I,0,!1,null,null,!1,!1,"",x4);return I._reactRootContainer=t,I[oh]=t.current,J0(I.nodeType===8?I.parentNode:I),wd(function(){Km(l,t,B,st)}),t}function $m(I,l,B,st,Tt){var Ft=B._reactRootContainer;if(Ft){var W=Ft;if(typeof Tt=="function"){var G=Tt;Tt=function(){var t=sm(W);G.call(t)}}Km(l,W,I,Tt)}else W=SL(B,l,I,Tt,st);return sm(W)}DT=function(I){switch(I.tag){case 3:var l=I.stateNode;if(l.current.memoizedState.isDehydrated){var B=E0(l.pendingLanes);B!==0&&(Hb(l,B|1),Nl(l,Qo()),!(ka&6)&&(kp=Qo()+500,Av()))}break;case 13:wd(function(){var st=sh(I,1);if(st!==null){var Tt=vl();Df(st,I,1,Tt)}}),w3(I,1)}};Gb=function(I){if(I.tag===13){var l=sh(I,134217728);if(l!==null){var B=vl();Df(l,I,134217728,B)}w3(I,134217728)}};RT=function(I){if(I.tag===13){var l=cv(I),B=sh(I,l);if(B!==null){var st=vl();Df(B,I,l,st)}w3(I,l)}};_T=function(){return Ka};kT=function(I,l){var B=Ka;try{return Ka=I,l()}finally{Ka=B}};Fx=function(I,l,B){switch(l){case"input":if(Px(I,B),l=B.name,B.type==="radio"&&l!=null){for(B=I;B.parentNode;)B=B.parentNode;for(B=B.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<B.length;l++){var st=B[l];if(st!==I&&st.form===I.form){var Tt=Hm(st);if(!Tt)throw Error(yi(90));cT(st),Px(st,Tt)}}}break;case"textarea":vT(I,B);break;case"select":l=B.value,l!=null&&yp(I,!!B.multiple,l,!1)}};bT=g3;wT=wd;var ML={usingClientEntryPoint:!1,Events:[pg,up,Hm,mT,xT,g3]},T0={findFiberByHostInstance:id,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EL={bundleType:T0.bundleType,version:T0.version,rendererPackageName:T0.rendererPackageName,rendererConfig:T0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fh.ReactCurrentDispatcher,findHostInstanceByFiber:function(I){return I=ST(I),I===null?null:I.stateNode},findFiberByHostInstance:T0.findFiberByHostInstance||AL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dy.isDisabled&&dy.supportsFiber)try{Bm=dy.inject(EL),gc=dy}catch{}}hu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ML;hu.createPortal=function(I,l){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A3(l))throw Error(yi(200));return TL(I,l,null,B)};hu.createRoot=function(I,l){if(!A3(I))throw Error(yi(299));var B=!1,st="",Tt=rA;return l!=null&&(l.unstable_strictMode===!0&&(B=!0),l.identifierPrefix!==void 0&&(st=l.identifierPrefix),l.onRecoverableError!==void 0&&(Tt=l.onRecoverableError)),l=b3(I,1,!1,null,null,B,!1,st,Tt),I[oh]=l.current,J0(I.nodeType===8?I.parentNode:I),new T3(l)};hu.findDOMNode=function(I){if(I==null)return null;if(I.nodeType===1)return I;var l=I._reactInternals;if(l===void 0)throw typeof I.render=="function"?Error(yi(188)):(I=Object.keys(I).join(","),Error(yi(268,I)));return I=ST(l),I=I===null?null:I.stateNode,I};hu.flushSync=function(I){return wd(I)};hu.hydrate=function(I,l,B){if(!Qm(l))throw Error(yi(200));return $m(null,I,l,!0,B)};hu.hydrateRoot=function(I,l,B){if(!A3(I))throw Error(yi(405));var st=B!=null&&B.hydratedSources||null,Tt=!1,Ft="",W=rA;if(B!=null&&(B.unstable_strictMode===!0&&(Tt=!0),B.identifierPrefix!==void 0&&(Ft=B.identifierPrefix),B.onRecoverableError!==void 0&&(W=B.onRecoverableError)),l=eA(l,null,I,1,B??null,Tt,!1,Ft,W),I[oh]=l.current,J0(I),st)for(I=0;I<st.length;I++)B=st[I],Tt=B._getVersion,Tt=Tt(B._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[B,Tt]:l.mutableSourceEagerHydrationData.push(B,Tt);return new Jm(l)};hu.render=function(I,l,B){if(!Qm(l))throw Error(yi(200));return $m(null,I,l,!1,B)};hu.unmountComponentAtNode=function(I){if(!Qm(I))throw Error(yi(40));return I._reactRootContainer?(wd(function(){$m(null,null,I,!1,function(){I._reactRootContainer=null,I[oh]=null})}),!0):!1};hu.unstable_batchedUpdates=g3;hu.unstable_renderSubtreeIntoContainer=function(I,l,B,st){if(!Qm(B))throw Error(yi(200));if(I==null||I._reactInternals===void 0)throw Error(yi(38));return $m(I,l,B,!1,st)};hu.version="18.3.1-next-f1338f8080-20240426";function nA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nA)}catch(I){console.error(I)}}nA(),nT.exports=hu;var CL=nT.exports,b4=CL;Tx.createRoot=b4.createRoot,Tx.hydrateRoot=b4.hydrateRoot;var iA={exports:{}},Ja={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=typeof Symbol=="function"&&Symbol.for,S3=bs?Symbol.for("react.element"):60103,M3=bs?Symbol.for("react.portal"):60106,qm=bs?Symbol.for("react.fragment"):60107,t1=bs?Symbol.for("react.strict_mode"):60108,e1=bs?Symbol.for("react.profiler"):60114,r1=bs?Symbol.for("react.provider"):60109,n1=bs?Symbol.for("react.context"):60110,E3=bs?Symbol.for("react.async_mode"):60111,i1=bs?Symbol.for("react.concurrent_mode"):60111,a1=bs?Symbol.for("react.forward_ref"):60112,o1=bs?Symbol.for("react.suspense"):60113,LL=bs?Symbol.for("react.suspense_list"):60120,s1=bs?Symbol.for("react.memo"):60115,l1=bs?Symbol.for("react.lazy"):60116,PL=bs?Symbol.for("react.block"):60121,IL=bs?Symbol.for("react.fundamental"):60117,DL=bs?Symbol.for("react.responder"):60118,RL=bs?Symbol.for("react.scope"):60119;function du(I){if(typeof I=="object"&&I!==null){var l=I.$$typeof;switch(l){case S3:switch(I=I.type,I){case E3:case i1:case qm:case e1:case t1:case o1:return I;default:switch(I=I&&I.$$typeof,I){case n1:case a1:case l1:case s1:case r1:return I;default:return l}}case M3:return l}}}function aA(I){return du(I)===i1}Ja.AsyncMode=E3;Ja.ConcurrentMode=i1;Ja.ContextConsumer=n1;Ja.ContextProvider=r1;Ja.Element=S3;Ja.ForwardRef=a1;Ja.Fragment=qm;Ja.Lazy=l1;Ja.Memo=s1;Ja.Portal=M3;Ja.Profiler=e1;Ja.StrictMode=t1;Ja.Suspense=o1;Ja.isAsyncMode=function(I){return aA(I)||du(I)===E3};Ja.isConcurrentMode=aA;Ja.isContextConsumer=function(I){return du(I)===n1};Ja.isContextProvider=function(I){return du(I)===r1};Ja.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===S3};Ja.isForwardRef=function(I){return du(I)===a1};Ja.isFragment=function(I){return du(I)===qm};Ja.isLazy=function(I){return du(I)===l1};Ja.isMemo=function(I){return du(I)===s1};Ja.isPortal=function(I){return du(I)===M3};Ja.isProfiler=function(I){return du(I)===e1};Ja.isStrictMode=function(I){return du(I)===t1};Ja.isSuspense=function(I){return du(I)===o1};Ja.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===qm||I===i1||I===e1||I===t1||I===o1||I===LL||typeof I=="object"&&I!==null&&(I.$$typeof===l1||I.$$typeof===s1||I.$$typeof===r1||I.$$typeof===n1||I.$$typeof===a1||I.$$typeof===IL||I.$$typeof===DL||I.$$typeof===RL||I.$$typeof===PL)};Ja.typeOf=du;iA.exports=Ja;var _L=iA.exports,C3=_L,kL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},L3={};L3[C3.ForwardRef]=FL;L3[C3.Memo]=oA;function w4(I){return C3.isMemo(I)?oA:L3[I.$$typeof]||kL}var OL=Object.defineProperty,BL=Object.getOwnPropertyNames,T4=Object.getOwnPropertySymbols,NL=Object.getOwnPropertyDescriptor,UL=Object.getPrototypeOf,A4=Object.prototype;function sA(I,l,B){if(typeof l!="string"){if(A4){var st=UL(l);st&&st!==A4&&sA(I,st,B)}var Tt=BL(l);T4&&(Tt=Tt.concat(T4(l)));for(var Ft=w4(I),W=w4(l),G=0;G<Tt.length;++G){var t=Tt[G];if(!zL[t]&&!(B&&B[t])&&!(W&&W[t])&&!(Ft&&Ft[t])){var y=NL(l,t);try{OL(I,t,y)}catch{}}}}return I}var VL=sA;const HL=Pb(VL);function Ki(I,l,B,st){function Tt(Ft){return Ft instanceof B?Ft:new B(function(W){W(Ft)})}return new(B||(B=Promise))(function(Ft,W){function G(D){try{y(st.next(D))}catch(s){W(s)}}function t(D){try{y(st.throw(D))}catch(s){W(s)}}function y(D){D.done?Ft(D.value):Tt(D.value).then(G,t)}y((st=st.apply(I,l||[])).next())})}function S4(I){var l=typeof Symbol=="function"&&Symbol.iterator,B=l&&I[l],st=0;if(B)return B.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&st>=I.length&&(I=void 0),{value:I&&I[st++],done:!I}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")}function ma(I){return this instanceof ma?(this.v=I,this):new ma(I)}function dc(I,l,B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st=B.apply(I,l||[]),Tt,Ft=[];return Tt={},G("next"),G("throw"),G("return",W),Tt[Symbol.asyncIterator]=function(){return this},Tt;function W(M){return function(d){return Promise.resolve(d).then(M,s)}}function G(M,d){st[M]&&(Tt[M]=function(g){return new Promise(function(r,e){Ft.push([M,g,r,e])>1||t(M,g)})},d&&(Tt[M]=d(Tt[M])))}function t(M,d){try{y(st[M](d))}catch(g){P(Ft[0][3],g)}}function y(M){M.value instanceof ma?Promise.resolve(M.value.v).then(D,s):P(Ft[0][2],M)}function D(M){t("next",M)}function s(M){t("throw",M)}function P(M,d){M(d),Ft.shift(),Ft.length&&t(Ft[0][0],Ft[0][1])}}function Iy(I){var l,B;return l={},st("next"),st("throw",function(Tt){throw Tt}),st("return"),l[Symbol.iterator]=function(){return this},l;function st(Tt,Ft){l[Tt]=I[Tt]?function(W){return(B=!B)?{value:ma(I[Tt](W)),done:!1}:Ft?Ft(W):W}:Ft}}function pd(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=I[Symbol.asyncIterator],B;return l?l.call(I):(I=typeof S4=="function"?S4(I):I[Symbol.iterator](),B={},st("next"),st("throw"),st("return"),B[Symbol.asyncIterator]=function(){return this},B);function st(Ft){B[Ft]=I[Ft]&&function(W){return new Promise(function(G,t){W=I[Ft](W),Tt(G,t,W.done,W.value)})}}function Tt(Ft,W,G,t){Promise.resolve(t).then(function(y){Ft({value:y,done:G})},W)}}const GL=new TextDecoder("utf-8"),pb=I=>GL.decode(I),WL=new TextEncoder,P3=I=>WL.encode(I),[U9,YL]=(()=>{const I=()=>{throw new Error("BigInt is not available in this environment")};function l(){throw I()}return l.asIntN=()=>{throw I()},l.asUintN=()=>{throw I()},typeof BigInt<"u"?[BigInt,!0]:[l,!1]})(),[yg,V9]=(()=>{const I=()=>{throw new Error("BigInt64Array is not available in this environment")};class l{static get BYTES_PER_ELEMENT(){return 8}static of(){throw I()}static from(){throw I()}constructor(){throw I()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[l,!1]})(),[mg,H9]=(()=>{const I=()=>{throw new Error("BigUint64Array is not available in this environment")};class l{static get BYTES_PER_ELEMENT(){return 8}static of(){throw I()}static from(){throw I()}constructor(){throw I()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[l,!1]})(),jL=I=>typeof I=="number",lA=I=>typeof I=="boolean",fs=I=>typeof I=="function",Vl=I=>I!=null&&Object(I)===I,pv=I=>Vl(I)&&fs(I.then),xg=I=>Vl(I)&&fs(I[Symbol.iterator]),Yp=I=>Vl(I)&&fs(I[Symbol.asyncIterator]),gb=I=>Vl(I)&&Vl(I.schema),uA=I=>Vl(I)&&"done"in I&&"value"in I,fA=I=>Vl(I)&&fs(I.stat)&&jL(I.fd),cA=I=>Vl(I)&&I3(I.body),u1=I=>"_getDOMStream"in I&&"_getNodeStream"in I,XL=I=>Vl(I)&&fs(I.abort)&&fs(I.getWriter)&&!u1(I),I3=I=>Vl(I)&&fs(I.cancel)&&fs(I.getReader)&&!u1(I),ZL=I=>Vl(I)&&fs(I.end)&&fs(I.write)&&lA(I.writable)&&!u1(I),hA=I=>Vl(I)&&fs(I.read)&&fs(I.pipe)&&lA(I.readable)&&!u1(I),KL=I=>Vl(I)&&fs(I.clear)&&fs(I.bytes)&&fs(I.position)&&fs(I.setPosition)&&fs(I.capacity)&&fs(I.getBufferIdentifier)&&fs(I.createLong),D3=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function JL(I){const l=I[0]?[I[0]]:[];let B,st,Tt,Ft;for(let W,G,t=0,y=0,D=I.length;++t<D;){if(W=l[y],G=I[t],!W||!G||W.buffer!==G.buffer||G.byteOffset<W.byteOffset){G&&(l[++y]=G);continue}if({byteOffset:B,byteLength:Tt}=W,{byteOffset:st,byteLength:Ft}=G,B+Tt<st||st+Ft<B){G&&(l[++y]=G);continue}l[y]=new Uint8Array(W.buffer,B,st-B+Ft)}return l}function M4(I,l,B=0,st=l.byteLength){const Tt=I.byteLength,Ft=new Uint8Array(I.buffer,I.byteOffset,Tt),W=new Uint8Array(l.buffer,l.byteOffset,Math.min(st,Tt));return Ft.set(W,B),I}function mc(I,l){const B=JL(I),st=B.reduce((D,s)=>D+s.byteLength,0);let Tt,Ft,W,G=0,t=-1;const y=Math.min(l||Number.POSITIVE_INFINITY,st);for(const D=B.length;++t<D;){if(Tt=B[t],Ft=Tt.subarray(0,Math.min(Tt.length,y-G)),y<=G+Ft.length){Ft.length<Tt.length?B[t]=Tt.subarray(Ft.length):Ft.length===Tt.length&&t++,W?M4(W,Ft,G):W=Ft;break}M4(W||(W=new Uint8Array(y)),Ft,G),G+=Ft.length}return[W||new Uint8Array(0),B.slice(t),st-(W?W.byteLength:0)]}function ro(I,l){let B=uA(l)?l.value:l;return B instanceof I?I===Uint8Array?new I(B.buffer,B.byteOffset,B.byteLength):B:B?(typeof B=="string"&&(B=P3(B)),B instanceof ArrayBuffer?new I(B):B instanceof D3?new I(B):KL(B)?ro(I,B.bytes()):ArrayBuffer.isView(B)?B.byteLength<=0?new I(0):new I(B.buffer,B.byteOffset,B.byteLength/I.BYTES_PER_ELEMENT):I.from(B)):new I(0)}const A0=I=>ro(Int32Array,I),Na=I=>ro(Uint8Array,I),yb=I=>(I.next(),I);function*QL(I,l){const B=function*(Tt){yield Tt},st=typeof l=="string"||ArrayBuffer.isView(l)||l instanceof ArrayBuffer||l instanceof D3?B(l):xg(l)?l:B(l);return yield*yb(function*(Tt){let Ft=null;do Ft=Tt.next(yield ro(I,Ft));while(!Ft.done)}(st[Symbol.iterator]())),new I}const $L=I=>QL(Uint8Array,I);function vA(I,l){return dc(this,arguments,function*(){if(pv(l))return yield ma(yield ma(yield*Iy(pd(vA(I,yield ma(l))))));const st=function(W){return dc(this,arguments,function*(){yield yield ma(yield ma(W))})},Tt=function(W){return dc(this,arguments,function*(){yield ma(yield*Iy(pd(yb(function*(G){let t=null;do t=G.next(yield t==null?void 0:t.value);while(!t.done)}(W[Symbol.iterator]())))))})},Ft=typeof l=="string"||ArrayBuffer.isView(l)||l instanceof ArrayBuffer||l instanceof D3?st(l):xg(l)?Tt(l):Yp(l)?l:st(l);return yield ma(yield*Iy(pd(yb(function(W){return dc(this,arguments,function*(){let G=null;do G=yield ma(W.next(yield yield ma(ro(I,G))));while(!G.done)})}(Ft[Symbol.asyncIterator]()))))),yield ma(new I)})}const qL=I=>vA(Uint8Array,I);function R3(I,l,B){if(I!==0){B=B.slice(0,l+1);for(let st=-1;++st<=l;)B[st]+=I}return B}function t7(I,l){let B=0;const st=I.length;if(st!==l.length)return!1;if(st>0)do if(I[B]!==l[B])return!1;while(++B<st);return!0}const Uu={fromIterable(I){return py(e7(I))},fromAsyncIterable(I){return py(r7(I))},fromDOMStream(I){return py(n7(I))},fromNodeStream(I){return py(a7(I))},toDOMStream(I,l){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(I,l){throw new Error('"toNodeStream" not available in this environment')}},py=I=>(I.next(),I);function*e7(I){let l,B=!1,st=[],Tt,Ft,W,G=0;function t(){return Ft==="peek"?mc(st,W)[0]:([Tt,st,G]=mc(st,W),Tt)}({cmd:Ft,size:W}=yield null);const y=$L(I)[Symbol.iterator]();try{do if({done:l,value:Tt}=Number.isNaN(W-G)?y.next():y.next(W-G),!l&&Tt.byteLength>0&&(st.push(Tt),G+=Tt.byteLength),l||W<=G)do({cmd:Ft,size:W}=yield t());while(W<G);while(!l)}catch(D){(B=!0)&&typeof y.throw=="function"&&y.throw(D)}finally{B===!1&&typeof y.return=="function"&&y.return(null)}return null}function r7(I){return dc(this,arguments,function*(){let B,st=!1,Tt=[],Ft,W,G,t=0;function y(){return W==="peek"?mc(Tt,G)[0]:([Ft,Tt,t]=mc(Tt,G),Ft)}({cmd:W,size:G}=yield yield ma(null));const D=qL(I)[Symbol.asyncIterator]();try{do if({done:B,value:Ft}=Number.isNaN(G-t)?yield ma(D.next()):yield ma(D.next(G-t)),!B&&Ft.byteLength>0&&(Tt.push(Ft),t+=Ft.byteLength),B||G<=t)do({cmd:W,size:G}=yield yield ma(y()));while(G<t);while(!B)}catch(s){(st=!0)&&typeof D.throw=="function"&&(yield ma(D.throw(s)))}finally{st===!1&&typeof D.return=="function"&&(yield ma(D.return(new Uint8Array(0))))}return yield ma(null)})}function n7(I){return dc(this,arguments,function*(){let B=!1,st=!1,Tt=[],Ft,W,G,t=0;function y(){return W==="peek"?mc(Tt,G)[0]:([Ft,Tt,t]=mc(Tt,G),Ft)}({cmd:W,size:G}=yield yield ma(null));const D=new i7(I);try{do if({done:B,value:Ft}=Number.isNaN(G-t)?yield ma(D.read()):yield ma(D.read(G-t)),!B&&Ft.byteLength>0&&(Tt.push(Na(Ft)),t+=Ft.byteLength),B||G<=t)do({cmd:W,size:G}=yield yield ma(y()));while(G<t);while(!B)}catch(s){(st=!0)&&(yield ma(D.cancel(s)))}finally{st===!1?yield ma(D.cancel()):I.locked&&D.releaseLock()}return yield ma(null)})}class i7{constructor(l){this.source=l,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(l){return Ki(this,void 0,void 0,function*(){const{reader:B,source:st}=this;B&&(yield B.cancel(l).catch(()=>{})),st&&st.locked&&this.releaseLock()})}read(l){return Ki(this,void 0,void 0,function*(){if(l===0)return{done:this.reader==null,value:new Uint8Array(0)};const B=yield this.reader.read();return!B.done&&(B.value=Na(B)),B})}}const px=(I,l)=>{const B=Tt=>st([l,Tt]);let st;return[l,B,new Promise(Tt=>(st=Tt)&&I.once(l,B))]};function a7(I){return dc(this,arguments,function*(){const B=[];let st="error",Tt=!1,Ft=null,W,G,t=0,y=[],D;function s(){return W==="peek"?mc(y,G)[0]:([D,y,t]=mc(y,G),D)}if({cmd:W,size:G}=yield yield ma(null),I.isTTY)return yield yield ma(new Uint8Array(0)),yield ma(null);try{B[0]=px(I,"end"),B[1]=px(I,"error");do{if(B[2]=px(I,"readable"),[st,Ft]=yield ma(Promise.race(B.map(M=>M[2]))),st==="error")break;if((Tt=st==="end")||(Number.isFinite(G-t)?(D=Na(I.read(G-t)),D.byteLength<G-t&&(D=Na(I.read()))):D=Na(I.read()),D.byteLength>0&&(y.push(D),t+=D.byteLength)),Tt||G<=t)do({cmd:W,size:G}=yield yield ma(s()));while(G<t)}while(!Tt)}finally{yield ma(P(B,st==="error"?Ft:null))}return yield ma(null);function P(M,d){return D=y=null,new Promise((g,r)=>{for(const[e,o]of M)I.off(e,o);try{const e=I.destroy;e&&e.call(I,d),d=void 0}catch(e){d=e||d}finally{d!=null?r(d):g()}})}})}var ou;(function(I){I[I.V1=0]="V1",I[I.V2=1]="V2",I[I.V3=2]="V3",I[I.V4=3]="V4",I[I.V5=4]="V5"})(ou||(ou={}));var fu;(function(I){I[I.Sparse=0]="Sparse",I[I.Dense=1]="Dense"})(fu||(fu={}));var Ul;(function(I){I[I.HALF=0]="HALF",I[I.SINGLE=1]="SINGLE",I[I.DOUBLE=2]="DOUBLE"})(Ul||(Ul={}));var uh;(function(I){I[I.DAY=0]="DAY",I[I.MILLISECOND=1]="MILLISECOND"})(uh||(uh={}));var Ua;(function(I){I[I.SECOND=0]="SECOND",I[I.MILLISECOND=1]="MILLISECOND",I[I.MICROSECOND=2]="MICROSECOND",I[I.NANOSECOND=3]="NANOSECOND"})(Ua||(Ua={}));var gv;(function(I){I[I.YEAR_MONTH=0]="YEAR_MONTH",I[I.DAY_TIME=1]="DAY_TIME",I[I.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(gv||(gv={}));var Ga;(function(I){I[I.NONE=0]="NONE",I[I.Schema=1]="Schema",I[I.DictionaryBatch=2]="DictionaryBatch",I[I.RecordBatch=3]="RecordBatch",I[I.Tensor=4]="Tensor",I[I.SparseTensor=5]="SparseTensor"})(Ga||(Ga={}));var Ln;(function(I){I[I.NONE=0]="NONE",I[I.Null=1]="Null",I[I.Int=2]="Int",I[I.Float=3]="Float",I[I.Binary=4]="Binary",I[I.Utf8=5]="Utf8",I[I.Bool=6]="Bool",I[I.Decimal=7]="Decimal",I[I.Date=8]="Date",I[I.Time=9]="Time",I[I.Timestamp=10]="Timestamp",I[I.Interval=11]="Interval",I[I.List=12]="List",I[I.Struct=13]="Struct",I[I.Union=14]="Union",I[I.FixedSizeBinary=15]="FixedSizeBinary",I[I.FixedSizeList=16]="FixedSizeList",I[I.Map=17]="Map",I[I.Dictionary=-1]="Dictionary",I[I.Int8=-2]="Int8",I[I.Int16=-3]="Int16",I[I.Int32=-4]="Int32",I[I.Int64=-5]="Int64",I[I.Uint8=-6]="Uint8",I[I.Uint16=-7]="Uint16",I[I.Uint32=-8]="Uint32",I[I.Uint64=-9]="Uint64",I[I.Float16=-10]="Float16",I[I.Float32=-11]="Float32",I[I.Float64=-12]="Float64",I[I.DateDay=-13]="DateDay",I[I.DateMillisecond=-14]="DateMillisecond",I[I.TimestampSecond=-15]="TimestampSecond",I[I.TimestampMillisecond=-16]="TimestampMillisecond",I[I.TimestampMicrosecond=-17]="TimestampMicrosecond",I[I.TimestampNanosecond=-18]="TimestampNanosecond",I[I.TimeSecond=-19]="TimeSecond",I[I.TimeMillisecond=-20]="TimeMillisecond",I[I.TimeMicrosecond=-21]="TimeMicrosecond",I[I.TimeNanosecond=-22]="TimeNanosecond",I[I.DenseUnion=-23]="DenseUnion",I[I.SparseUnion=-24]="SparseUnion",I[I.IntervalDayTime=-25]="IntervalDayTime",I[I.IntervalYearMonth=-26]="IntervalYearMonth"})(Ln||(Ln={}));var Zc;(function(I){I[I.OFFSET=0]="OFFSET",I[I.DATA=1]="DATA",I[I.VALIDITY=2]="VALIDITY",I[I.TYPE=3]="TYPE"})(Zc||(Zc={}));const o7=void 0;function ag(I){if(I===null)return"null";if(I===o7)return"undefined";switch(typeof I){case"number":return`${I}`;case"bigint":return`${I}`;case"string":return`"${I}"`}return typeof I[Symbol.toPrimitive]=="function"?I[Symbol.toPrimitive]("string"):ArrayBuffer.isView(I)?I instanceof yg||I instanceof mg?`[${[...I].map(l=>ag(l))}]`:`[${I}]`:ArrayBuffer.isView(I)?`[${I}]`:JSON.stringify(I,(l,B)=>typeof B=="bigint"?`${B}`:B)}const s7=Symbol.for("isArrowBigNum");function kf(I,...l){return l.length===0?Object.setPrototypeOf(ro(this.TypedArray,I),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(I,...l),this.constructor.prototype)}kf.prototype[s7]=!0;kf.prototype.toJSON=function(){return`"${gd(this)}"`};kf.prototype.valueOf=function(){return dA(this)};kf.prototype.toString=function(){return gd(this)};kf.prototype[Symbol.toPrimitive]=function(I="default"){switch(I){case"number":return dA(this);case"string":return gd(this);case"default":return mb(this)}return gd(this)};function Ap(...I){return kf.apply(this,I)}function Sp(...I){return kf.apply(this,I)}function og(...I){return kf.apply(this,I)}Object.setPrototypeOf(Ap.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Sp.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(og.prototype,Object.create(Uint32Array.prototype));Object.assign(Ap.prototype,kf.prototype,{constructor:Ap,signed:!0,TypedArray:Int32Array,BigIntArray:yg});Object.assign(Sp.prototype,kf.prototype,{constructor:Sp,signed:!1,TypedArray:Uint32Array,BigIntArray:mg});Object.assign(og.prototype,kf.prototype,{constructor:og,signed:!0,TypedArray:Uint32Array,BigIntArray:mg});function dA(I){const{buffer:l,byteOffset:B,length:st,signed:Tt}=I,Ft=new mg(l,B,st),W=Tt&&Ft[Ft.length-1]&BigInt(1)<<BigInt(63);let G=BigInt(W?1:0),t=BigInt(0);if(W){for(const y of Ft)G+=~y*(BigInt(1)<<BigInt(32)*t++);G*=BigInt(-1)}else for(const y of Ft)G+=y*(BigInt(1)<<BigInt(32)*t++);return G}let gd,mb;YL?(mb=I=>I.byteLength===8?new I.BigIntArray(I.buffer,I.byteOffset,1)[0]:gx(I),gd=I=>I.byteLength===8?`${new I.BigIntArray(I.buffer,I.byteOffset,1)[0]}`:gx(I)):(gd=gx,mb=gd);function gx(I){let l="";const B=new Uint32Array(2);let st=new Uint16Array(I.buffer,I.byteOffset,I.byteLength/2);const Tt=new Uint32Array((st=new Uint16Array(st).reverse()).buffer);let Ft=-1;const W=st.length-1;do{for(B[0]=st[Ft=0];Ft<W;)st[Ft++]=B[1]=B[0]/10,B[0]=(B[0]-B[1]*10<<16)+st[Ft];st[Ft]=B[1]=B[0]/10,B[0]=B[0]-B[1]*10,l=`${B[0]}${l}`}while(Tt[0]||Tt[1]||Tt[2]||Tt[3]);return l??"0"}class _3{static new(l,B){switch(B){case!0:return new Ap(l);case!1:return new Sp(l)}switch(l.constructor){case Int8Array:case Int16Array:case Int32Array:case yg:return new Ap(l)}return l.byteLength===16?new og(l):new Sp(l)}static signed(l){return new Ap(l)}static unsigned(l){return new Sp(l)}static decimal(l){return new og(l)}constructor(l,B){return _3.new(l,B)}}var pA,gA,yA,mA,xA,bA,wA,TA,AA,SA,MA,EA,CA,LA,PA,IA,DA,RA,_A;class $i{static isNull(l){return(l==null?void 0:l.typeId)===Ln.Null}static isInt(l){return(l==null?void 0:l.typeId)===Ln.Int}static isFloat(l){return(l==null?void 0:l.typeId)===Ln.Float}static isBinary(l){return(l==null?void 0:l.typeId)===Ln.Binary}static isUtf8(l){return(l==null?void 0:l.typeId)===Ln.Utf8}static isBool(l){return(l==null?void 0:l.typeId)===Ln.Bool}static isDecimal(l){return(l==null?void 0:l.typeId)===Ln.Decimal}static isDate(l){return(l==null?void 0:l.typeId)===Ln.Date}static isTime(l){return(l==null?void 0:l.typeId)===Ln.Time}static isTimestamp(l){return(l==null?void 0:l.typeId)===Ln.Timestamp}static isInterval(l){return(l==null?void 0:l.typeId)===Ln.Interval}static isList(l){return(l==null?void 0:l.typeId)===Ln.List}static isStruct(l){return(l==null?void 0:l.typeId)===Ln.Struct}static isUnion(l){return(l==null?void 0:l.typeId)===Ln.Union}static isFixedSizeBinary(l){return(l==null?void 0:l.typeId)===Ln.FixedSizeBinary}static isFixedSizeList(l){return(l==null?void 0:l.typeId)===Ln.FixedSizeList}static isMap(l){return(l==null?void 0:l.typeId)===Ln.Map}static isDictionary(l){return(l==null?void 0:l.typeId)===Ln.Dictionary}static isDenseUnion(l){return $i.isUnion(l)&&l.mode===fu.Dense}static isSparseUnion(l){return $i.isUnion(l)&&l.mode===fu.Sparse}get typeId(){return Ln.NONE}}pA=Symbol.toStringTag;$i[pA]=(I=>(I.children=null,I.ArrayType=Array,I[Symbol.toStringTag]="DataType"))($i.prototype);let yv=class extends $i{toString(){return"Null"}get typeId(){return Ln.Null}};gA=Symbol.toStringTag;yv[gA]=(I=>I[Symbol.toStringTag]="Null")(yv.prototype);class mv extends $i{constructor(l,B){super(),this.isSigned=l,this.bitWidth=B}get typeId(){return Ln.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?yg:mg}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}yA=Symbol.toStringTag;mv[yA]=(I=>(I.isSigned=null,I.bitWidth=null,I[Symbol.toStringTag]="Int"))(mv.prototype);class sg extends mv{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(sg.prototype,"ArrayType",{value:Int32Array});class lg extends $i{constructor(l){super(),this.precision=l}get typeId(){return Ln.Float}get ArrayType(){switch(this.precision){case Ul.HALF:return Uint16Array;case Ul.SINGLE:return Float32Array;case Ul.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}mA=Symbol.toStringTag;lg[mA]=(I=>(I.precision=null,I[Symbol.toStringTag]="Float"))(lg.prototype);let lm=class extends $i{constructor(){super()}get typeId(){return Ln.Binary}toString(){return"Binary"}};xA=Symbol.toStringTag;lm[xA]=(I=>(I.ArrayType=Uint8Array,I[Symbol.toStringTag]="Binary"))(lm.prototype);let um=class extends $i{constructor(){super()}get typeId(){return Ln.Utf8}toString(){return"Utf8"}};bA=Symbol.toStringTag;um[bA]=(I=>(I.ArrayType=Uint8Array,I[Symbol.toStringTag]="Utf8"))(um.prototype);let fm=class extends $i{constructor(){super()}get typeId(){return Ln.Bool}toString(){return"Bool"}};wA=Symbol.toStringTag;fm[wA]=(I=>(I.ArrayType=Uint8Array,I[Symbol.toStringTag]="Bool"))(fm.prototype);let cm=class extends $i{constructor(l,B,st=128){super(),this.scale=l,this.precision=B,this.bitWidth=st}get typeId(){return Ln.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};TA=Symbol.toStringTag;cm[TA]=(I=>(I.scale=null,I.precision=null,I.ArrayType=Uint32Array,I[Symbol.toStringTag]="Decimal"))(cm.prototype);class hm extends $i{constructor(l){super(),this.unit=l}get typeId(){return Ln.Date}toString(){return`Date${(this.unit+1)*32}<${uh[this.unit]}>`}}AA=Symbol.toStringTag;hm[AA]=(I=>(I.unit=null,I.ArrayType=Int32Array,I[Symbol.toStringTag]="Date"))(hm.prototype);class ug extends $i{constructor(l,B){super(),this.unit=l,this.bitWidth=B}get typeId(){return Ln.Time}toString(){return`Time${this.bitWidth}<${Ua[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return yg}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}SA=Symbol.toStringTag;ug[SA]=(I=>(I.unit=null,I.bitWidth=null,I[Symbol.toStringTag]="Time"))(ug.prototype);class vm extends $i{constructor(l,B){super(),this.unit=l,this.timezone=B}get typeId(){return Ln.Timestamp}toString(){return`Timestamp<${Ua[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}MA=Symbol.toStringTag;vm[MA]=(I=>(I.unit=null,I.timezone=null,I.ArrayType=Int32Array,I[Symbol.toStringTag]="Timestamp"))(vm.prototype);class dm extends $i{constructor(l){super(),this.unit=l}get typeId(){return Ln.Interval}toString(){return`Interval<${gv[this.unit]}>`}}EA=Symbol.toStringTag;dm[EA]=(I=>(I.unit=null,I.ArrayType=Int32Array,I[Symbol.toStringTag]="Interval"))(dm.prototype);let pm=class extends $i{constructor(l){super(),this.children=[l]}get typeId(){return Ln.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};CA=Symbol.toStringTag;pm[CA]=(I=>(I.children=null,I[Symbol.toStringTag]="List"))(pm.prototype);class cl extends $i{constructor(l){super(),this.children=l}get typeId(){return Ln.Struct}toString(){return`Struct<{${this.children.map(l=>`${l.name}:${l.type}`).join(", ")}}>`}}LA=Symbol.toStringTag;cl[LA]=(I=>(I.children=null,I[Symbol.toStringTag]="Struct"))(cl.prototype);class gm extends $i{constructor(l,B,st){super(),this.mode=l,this.children=st,this.typeIds=B=Int32Array.from(B),this.typeIdToChildIndex=B.reduce((Tt,Ft,W)=>(Tt[Ft]=W)&&Tt||Tt,Object.create(null))}get typeId(){return Ln.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(l=>`${l.type}`).join(" | ")}>`}}PA=Symbol.toStringTag;gm[PA]=(I=>(I.mode=null,I.typeIds=null,I.children=null,I.typeIdToChildIndex=null,I.ArrayType=Int8Array,I[Symbol.toStringTag]="Union"))(gm.prototype);let ym=class extends $i{constructor(l){super(),this.byteWidth=l}get typeId(){return Ln.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};IA=Symbol.toStringTag;ym[IA]=(I=>(I.byteWidth=null,I.ArrayType=Uint8Array,I[Symbol.toStringTag]="FixedSizeBinary"))(ym.prototype);let mm=class extends $i{constructor(l,B){super(),this.listSize=l,this.children=[B]}get typeId(){return Ln.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};DA=Symbol.toStringTag;mm[DA]=(I=>(I.children=null,I.listSize=null,I[Symbol.toStringTag]="FixedSizeList"))(mm.prototype);class xm extends $i{constructor(l,B=!1){super(),this.children=[l],this.keysSorted=B}get typeId(){return Ln.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(l=>`${l.name}:${l.type}`).join(", ")}}>`}}RA=Symbol.toStringTag;xm[RA]=(I=>(I.children=null,I.keysSorted=null,I[Symbol.toStringTag]="Map_"))(xm.prototype);const l7=(I=>()=>++I)(-1);class zp extends $i{constructor(l,B,st,Tt){super(),this.indices=B,this.dictionary=l,this.isOrdered=Tt||!1,this.id=st==null?l7():typeof st=="number"?st:st.low}get typeId(){return Ln.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}_A=Symbol.toStringTag;zp[_A]=(I=>(I.id=null,I.indices=null,I.isOrdered=null,I.dictionary=null,I[Symbol.toStringTag]="Dictionary"))(zp.prototype);function Kc(I){const l=I;switch(I.typeId){case Ln.Decimal:return I.bitWidth/32;case Ln.Timestamp:return 2;case Ln.Date:return 1+l.unit;case Ln.Interval:return 1+l.unit;case Ln.FixedSizeList:return l.listSize;case Ln.FixedSizeBinary:return l.byteWidth;default:return 1}}class La{visitMany(l,...B){return l.map((st,Tt)=>this.visit(st,...B.map(Ft=>Ft[Tt])))}visit(...l){return this.getVisitFn(l[0],!1).apply(this,l)}getVisitFn(l,B=!0){return u7(this,l,B)}getVisitFnByTypeId(l,B=!0){return tp(this,l,B)}visitNull(l,...B){return null}visitBool(l,...B){return null}visitInt(l,...B){return null}visitFloat(l,...B){return null}visitUtf8(l,...B){return null}visitBinary(l,...B){return null}visitFixedSizeBinary(l,...B){return null}visitDate(l,...B){return null}visitTimestamp(l,...B){return null}visitTime(l,...B){return null}visitDecimal(l,...B){return null}visitList(l,...B){return null}visitStruct(l,...B){return null}visitUnion(l,...B){return null}visitDictionary(l,...B){return null}visitInterval(l,...B){return null}visitFixedSizeList(l,...B){return null}visitMap(l,...B){return null}}function u7(I,l,B=!0){return typeof l=="number"?tp(I,l,B):typeof l=="string"&&l in Ln?tp(I,Ln[l],B):l&&l instanceof $i?tp(I,E4(l),B):l!=null&&l.type&&l.type instanceof $i?tp(I,E4(l.type),B):tp(I,Ln.NONE,B)}function tp(I,l,B=!0){let st=null;switch(l){case Ln.Null:st=I.visitNull;break;case Ln.Bool:st=I.visitBool;break;case Ln.Int:st=I.visitInt;break;case Ln.Int8:st=I.visitInt8||I.visitInt;break;case Ln.Int16:st=I.visitInt16||I.visitInt;break;case Ln.Int32:st=I.visitInt32||I.visitInt;break;case Ln.Int64:st=I.visitInt64||I.visitInt;break;case Ln.Uint8:st=I.visitUint8||I.visitInt;break;case Ln.Uint16:st=I.visitUint16||I.visitInt;break;case Ln.Uint32:st=I.visitUint32||I.visitInt;break;case Ln.Uint64:st=I.visitUint64||I.visitInt;break;case Ln.Float:st=I.visitFloat;break;case Ln.Float16:st=I.visitFloat16||I.visitFloat;break;case Ln.Float32:st=I.visitFloat32||I.visitFloat;break;case Ln.Float64:st=I.visitFloat64||I.visitFloat;break;case Ln.Utf8:st=I.visitUtf8;break;case Ln.Binary:st=I.visitBinary;break;case Ln.FixedSizeBinary:st=I.visitFixedSizeBinary;break;case Ln.Date:st=I.visitDate;break;case Ln.DateDay:st=I.visitDateDay||I.visitDate;break;case Ln.DateMillisecond:st=I.visitDateMillisecond||I.visitDate;break;case Ln.Timestamp:st=I.visitTimestamp;break;case Ln.TimestampSecond:st=I.visitTimestampSecond||I.visitTimestamp;break;case Ln.TimestampMillisecond:st=I.visitTimestampMillisecond||I.visitTimestamp;break;case Ln.TimestampMicrosecond:st=I.visitTimestampMicrosecond||I.visitTimestamp;break;case Ln.TimestampNanosecond:st=I.visitTimestampNanosecond||I.visitTimestamp;break;case Ln.Time:st=I.visitTime;break;case Ln.TimeSecond:st=I.visitTimeSecond||I.visitTime;break;case Ln.TimeMillisecond:st=I.visitTimeMillisecond||I.visitTime;break;case Ln.TimeMicrosecond:st=I.visitTimeMicrosecond||I.visitTime;break;case Ln.TimeNanosecond:st=I.visitTimeNanosecond||I.visitTime;break;case Ln.Decimal:st=I.visitDecimal;break;case Ln.List:st=I.visitList;break;case Ln.Struct:st=I.visitStruct;break;case Ln.Union:st=I.visitUnion;break;case Ln.DenseUnion:st=I.visitDenseUnion||I.visitUnion;break;case Ln.SparseUnion:st=I.visitSparseUnion||I.visitUnion;break;case Ln.Dictionary:st=I.visitDictionary;break;case Ln.Interval:st=I.visitInterval;break;case Ln.IntervalDayTime:st=I.visitIntervalDayTime||I.visitInterval;break;case Ln.IntervalYearMonth:st=I.visitIntervalYearMonth||I.visitInterval;break;case Ln.FixedSizeList:st=I.visitFixedSizeList;break;case Ln.Map:st=I.visitMap;break}if(typeof st=="function")return st;if(!B)return()=>null;throw new Error(`Unrecognized type '${Ln[l]}'`)}function E4(I){switch(I.typeId){case Ln.Null:return Ln.Null;case Ln.Int:{const{bitWidth:l,isSigned:B}=I;switch(l){case 8:return B?Ln.Int8:Ln.Uint8;case 16:return B?Ln.Int16:Ln.Uint16;case 32:return B?Ln.Int32:Ln.Uint32;case 64:return B?Ln.Int64:Ln.Uint64}return Ln.Int}case Ln.Float:switch(I.precision){case Ul.HALF:return Ln.Float16;case Ul.SINGLE:return Ln.Float32;case Ul.DOUBLE:return Ln.Float64}return Ln.Float;case Ln.Binary:return Ln.Binary;case Ln.Utf8:return Ln.Utf8;case Ln.Bool:return Ln.Bool;case Ln.Decimal:return Ln.Decimal;case Ln.Time:switch(I.unit){case Ua.SECOND:return Ln.TimeSecond;case Ua.MILLISECOND:return Ln.TimeMillisecond;case Ua.MICROSECOND:return Ln.TimeMicrosecond;case Ua.NANOSECOND:return Ln.TimeNanosecond}return Ln.Time;case Ln.Timestamp:switch(I.unit){case Ua.SECOND:return Ln.TimestampSecond;case Ua.MILLISECOND:return Ln.TimestampMillisecond;case Ua.MICROSECOND:return Ln.TimestampMicrosecond;case Ua.NANOSECOND:return Ln.TimestampNanosecond}return Ln.Timestamp;case Ln.Date:switch(I.unit){case uh.DAY:return Ln.DateDay;case uh.MILLISECOND:return Ln.DateMillisecond}return Ln.Date;case Ln.Interval:switch(I.unit){case gv.DAY_TIME:return Ln.IntervalDayTime;case gv.YEAR_MONTH:return Ln.IntervalYearMonth}return Ln.Interval;case Ln.Map:return Ln.Map;case Ln.List:return Ln.List;case Ln.Struct:return Ln.Struct;case Ln.Union:switch(I.mode){case fu.Dense:return Ln.DenseUnion;case fu.Sparse:return Ln.SparseUnion}return Ln.Union;case Ln.FixedSizeBinary:return Ln.FixedSizeBinary;case Ln.FixedSizeList:return Ln.FixedSizeList;case Ln.Dictionary:return Ln.Dictionary}throw new Error(`Unrecognized type '${Ln[I.typeId]}'`)}La.prototype.visitInt8=null;La.prototype.visitInt16=null;La.prototype.visitInt32=null;La.prototype.visitInt64=null;La.prototype.visitUint8=null;La.prototype.visitUint16=null;La.prototype.visitUint32=null;La.prototype.visitUint64=null;La.prototype.visitFloat16=null;La.prototype.visitFloat32=null;La.prototype.visitFloat64=null;La.prototype.visitDateDay=null;La.prototype.visitDateMillisecond=null;La.prototype.visitTimestampSecond=null;La.prototype.visitTimestampMillisecond=null;La.prototype.visitTimestampMicrosecond=null;La.prototype.visitTimestampNanosecond=null;La.prototype.visitTimeSecond=null;La.prototype.visitTimeMillisecond=null;La.prototype.visitTimeMicrosecond=null;La.prototype.visitTimeNanosecond=null;La.prototype.visitDenseUnion=null;La.prototype.visitSparseUnion=null;La.prototype.visitIntervalDayTime=null;La.prototype.visitIntervalYearMonth=null;const kA=new Float64Array(1),qd=new Uint32Array(kA.buffer);function zA(I){const l=(I&31744)>>10,B=(I&1023)/1024,st=Math.pow(-1,(I&32768)>>15);switch(l){case 31:return st*(B?Number.NaN:1/0);case 0:return st*(B?6103515625e-14*B:0)}return st*Math.pow(2,l-15)*(1+B)}function f7(I){if(I!==I)return 32256;kA[0]=I;const l=(qd[1]&2147483648)>>16&65535;let B=qd[1]&2146435072,st=0;return B>=1089470464?qd[0]>0?B=31744:(B=(B&2080374784)>>16,st=(qd[1]&1048575)>>10):B<=1056964608?(st=1048576+(qd[1]&1048575),st=1048576+(st<<(B>>20)-998)>>21,B=0):(B=B-1056964608>>10,st=(qd[1]&1048575)+512>>10),l|B|st&65535}class ia extends La{}function ca(I){return(l,B,st)=>{if(l.setValid(B,st!=null))return I(l,B,st)}}const c7=(I,l,B)=>{I[l]=Math.trunc(B/864e5)},k3=(I,l,B)=>{I[l]=Math.trunc(B%4294967296),I[l+1]=Math.trunc(B/4294967296)},h7=(I,l,B)=>{I[l]=Math.trunc(B*1e3%4294967296),I[l+1]=Math.trunc(B*1e3/4294967296)},v7=(I,l,B)=>{I[l]=Math.trunc(B*1e6%4294967296),I[l+1]=Math.trunc(B*1e6/4294967296)},FA=(I,l,B,st)=>{if(B+1<l.length){const{[B]:Tt,[B+1]:Ft}=l;I.set(st.subarray(0,Ft-Tt),Tt)}},d7=({offset:I,values:l},B,st)=>{const Tt=I+B;st?l[Tt>>3]|=1<<Tt%8:l[Tt>>3]&=~(1<<Tt%8)},ch=({values:I},l,B)=>{I[l]=B},z3=({values:I},l,B)=>{I[l]=B},OA=({values:I},l,B)=>{I[l]=f7(B)},p7=(I,l,B)=>{switch(I.type.precision){case Ul.HALF:return OA(I,l,B);case Ul.SINGLE:case Ul.DOUBLE:return z3(I,l,B)}},BA=({values:I},l,B)=>{c7(I,l,B.valueOf())},NA=({values:I},l,B)=>{k3(I,l*2,B.valueOf())},g7=({stride:I,values:l},B,st)=>{l.set(st.subarray(0,I),I*B)},y7=({values:I,valueOffsets:l},B,st)=>FA(I,l,B,st),m7=({values:I,valueOffsets:l},B,st)=>{FA(I,l,B,P3(st))},x7=(I,l,B)=>{I.type.unit===uh.DAY?BA(I,l,B):NA(I,l,B)},UA=({values:I},l,B)=>k3(I,l*2,B/1e3),VA=({values:I},l,B)=>k3(I,l*2,B),HA=({values:I},l,B)=>h7(I,l*2,B),GA=({values:I},l,B)=>v7(I,l*2,B),b7=(I,l,B)=>{switch(I.type.unit){case Ua.SECOND:return UA(I,l,B);case Ua.MILLISECOND:return VA(I,l,B);case Ua.MICROSECOND:return HA(I,l,B);case Ua.NANOSECOND:return GA(I,l,B)}},WA=({values:I},l,B)=>{I[l]=B},YA=({values:I},l,B)=>{I[l]=B},jA=({values:I},l,B)=>{I[l]=B},XA=({values:I},l,B)=>{I[l]=B},w7=(I,l,B)=>{switch(I.type.unit){case Ua.SECOND:return WA(I,l,B);case Ua.MILLISECOND:return YA(I,l,B);case Ua.MICROSECOND:return jA(I,l,B);case Ua.NANOSECOND:return XA(I,l,B)}},T7=({values:I,stride:l},B,st)=>{I.set(st.subarray(0,l),l*B)},A7=(I,l,B)=>{const st=I.children[0],Tt=I.valueOffsets,Ft=Ku.getVisitFn(st);if(Array.isArray(B))for(let W=-1,G=Tt[l],t=Tt[l+1];G<t;)Ft(st,G++,B[++W]);else for(let W=-1,G=Tt[l],t=Tt[l+1];G<t;)Ft(st,G++,B.get(++W))},S7=(I,l,B)=>{const st=I.children[0],{valueOffsets:Tt}=I,Ft=Ku.getVisitFn(st);let{[l]:W,[l+1]:G}=Tt;const t=B instanceof Map?B.entries():Object.entries(B);for(const y of t)if(Ft(st,W,y),++W>=G)break},M7=(I,l)=>(B,st,Tt,Ft)=>st&&B(st,I,l[Ft]),E7=(I,l)=>(B,st,Tt,Ft)=>st&&B(st,I,l.get(Ft)),C7=(I,l)=>(B,st,Tt,Ft)=>st&&B(st,I,l.get(Tt.name)),L7=(I,l)=>(B,st,Tt,Ft)=>st&&B(st,I,l[Tt.name]),P7=(I,l,B)=>{const st=I.type.children.map(Ft=>Ku.getVisitFn(Ft.type)),Tt=B instanceof Map?C7(l,B):B instanceof Wa?E7(l,B):Array.isArray(B)?M7(l,B):L7(l,B);I.type.children.forEach((Ft,W)=>Tt(st[W],I.children[W],Ft,W))},I7=(I,l,B)=>{I.type.mode===fu.Dense?ZA(I,l,B):KA(I,l,B)},ZA=(I,l,B)=>{const st=I.type.typeIdToChildIndex[I.typeIds[l]],Tt=I.children[st];Ku.visit(Tt,I.valueOffsets[l],B)},KA=(I,l,B)=>{const st=I.type.typeIdToChildIndex[I.typeIds[l]],Tt=I.children[st];Ku.visit(Tt,l,B)},D7=(I,l,B)=>{var st;(st=I.dictionary)===null||st===void 0||st.set(I.values[l],B)},R7=(I,l,B)=>{I.type.unit===gv.DAY_TIME?JA(I,l,B):QA(I,l,B)},JA=({values:I},l,B)=>{I.set(B.subarray(0,2),2*l)},QA=({values:I},l,B)=>{I[l]=B[0]*12+B[1]%12},_7=(I,l,B)=>{const{stride:st}=I,Tt=I.children[0],Ft=Ku.getVisitFn(Tt);if(Array.isArray(B))for(let W=-1,G=l*st;++W<st;)Ft(Tt,G+W,B[W]);else for(let W=-1,G=l*st;++W<st;)Ft(Tt,G+W,B.get(W))};ia.prototype.visitBool=ca(d7);ia.prototype.visitInt=ca(ch);ia.prototype.visitInt8=ca(ch);ia.prototype.visitInt16=ca(ch);ia.prototype.visitInt32=ca(ch);ia.prototype.visitInt64=ca(ch);ia.prototype.visitUint8=ca(ch);ia.prototype.visitUint16=ca(ch);ia.prototype.visitUint32=ca(ch);ia.prototype.visitUint64=ca(ch);ia.prototype.visitFloat=ca(p7);ia.prototype.visitFloat16=ca(OA);ia.prototype.visitFloat32=ca(z3);ia.prototype.visitFloat64=ca(z3);ia.prototype.visitUtf8=ca(m7);ia.prototype.visitBinary=ca(y7);ia.prototype.visitFixedSizeBinary=ca(g7);ia.prototype.visitDate=ca(x7);ia.prototype.visitDateDay=ca(BA);ia.prototype.visitDateMillisecond=ca(NA);ia.prototype.visitTimestamp=ca(b7);ia.prototype.visitTimestampSecond=ca(UA);ia.prototype.visitTimestampMillisecond=ca(VA);ia.prototype.visitTimestampMicrosecond=ca(HA);ia.prototype.visitTimestampNanosecond=ca(GA);ia.prototype.visitTime=ca(w7);ia.prototype.visitTimeSecond=ca(WA);ia.prototype.visitTimeMillisecond=ca(YA);ia.prototype.visitTimeMicrosecond=ca(jA);ia.prototype.visitTimeNanosecond=ca(XA);ia.prototype.visitDecimal=ca(T7);ia.prototype.visitList=ca(A7);ia.prototype.visitStruct=ca(P7);ia.prototype.visitUnion=ca(I7);ia.prototype.visitDenseUnion=ca(ZA);ia.prototype.visitSparseUnion=ca(KA);ia.prototype.visitDictionary=ca(D7);ia.prototype.visitInterval=ca(R7);ia.prototype.visitIntervalDayTime=ca(JA);ia.prototype.visitIntervalYearMonth=ca(QA);ia.prototype.visitFixedSizeList=ca(_7);ia.prototype.visitMap=ca(S7);const Ku=new ia,Cf=Symbol.for("parent"),Mp=Symbol.for("rowIndex");class F3{constructor(l,B){return this[Cf]=l,this[Mp]=B,new Proxy(this,new z7)}toArray(){return Object.values(this.toJSON())}toJSON(){const l=this[Mp],B=this[Cf],st=B.type.children,Tt={};for(let Ft=-1,W=st.length;++Ft<W;)Tt[st[Ft].name]=Hl.visit(B.children[Ft],l);return Tt}toString(){return`{${[...this].map(([l,B])=>`${ag(l)}: ${ag(B)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new k7(this[Cf],this[Mp])}}class k7{constructor(l,B){this.childIndex=0,this.children=l.children,this.rowIndex=B,this.childFields=l.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const l=this.childIndex;return l<this.numChildren?(this.childIndex=l+1,{done:!1,value:[this.childFields[l].name,Hl.visit(this.children[l],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(F3.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Cf]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Mp]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class z7{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(l){return l[Cf].type.children.map(B=>B.name)}has(l,B){return l[Cf].type.children.findIndex(st=>st.name===B)!==-1}getOwnPropertyDescriptor(l,B){if(l[Cf].type.children.findIndex(st=>st.name===B)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(l,B){if(Reflect.has(l,B))return l[B];const st=l[Cf].type.children.findIndex(Tt=>Tt.name===B);if(st!==-1){const Tt=Hl.visit(l[Cf].children[st],l[Mp]);return Reflect.set(l,B,Tt),Tt}}set(l,B,st){const Tt=l[Cf].type.children.findIndex(Ft=>Ft.name===B);return Tt!==-1?(Ku.visit(l[Cf].children[Tt],l[Mp],st),Reflect.set(l,B,st)):Reflect.has(l,B)||typeof B=="symbol"?Reflect.set(l,B,st):!1}}class qi extends La{}function aa(I){return(l,B)=>l.getValid(B)?I(l,B):null}const F7=(I,l)=>864e5*I[l],O3=(I,l)=>4294967296*I[l+1]+(I[l]>>>0),O7=(I,l)=>4294967296*(I[l+1]/1e3)+(I[l]>>>0)/1e3,B7=(I,l)=>4294967296*(I[l+1]/1e6)+(I[l]>>>0)/1e6,$A=I=>new Date(I),N7=(I,l)=>$A(F7(I,l)),U7=(I,l)=>$A(O3(I,l)),V7=(I,l)=>null,qA=(I,l,B)=>{if(B+1>=l.length)return null;const st=l[B],Tt=l[B+1];return I.subarray(st,Tt)},H7=({offset:I,values:l},B)=>{const st=I+B;return(l[st>>3]&1<<st%8)!==0},t6=({values:I},l)=>N7(I,l),e6=({values:I},l)=>U7(I,l*2),Sv=({stride:I,values:l},B)=>l[I*B],G7=({stride:I,values:l},B)=>zA(l[I*B]),r6=({values:I},l)=>I[l],W7=({stride:I,values:l},B)=>l.subarray(I*B,I*(B+1)),Y7=({values:I,valueOffsets:l},B)=>qA(I,l,B),j7=({values:I,valueOffsets:l},B)=>{const st=qA(I,l,B);return st!==null?pb(st):null},X7=({values:I},l)=>I[l],Z7=({type:I,values:l},B)=>I.precision!==Ul.HALF?l[B]:zA(l[B]),K7=(I,l)=>I.type.unit===uh.DAY?t6(I,l):e6(I,l),n6=({values:I},l)=>1e3*O3(I,l*2),i6=({values:I},l)=>O3(I,l*2),a6=({values:I},l)=>O7(I,l*2),o6=({values:I},l)=>B7(I,l*2),J7=(I,l)=>{switch(I.type.unit){case Ua.SECOND:return n6(I,l);case Ua.MILLISECOND:return i6(I,l);case Ua.MICROSECOND:return a6(I,l);case Ua.NANOSECOND:return o6(I,l)}},s6=({values:I},l)=>I[l],l6=({values:I},l)=>I[l],u6=({values:I},l)=>I[l],f6=({values:I},l)=>I[l],Q7=(I,l)=>{switch(I.type.unit){case Ua.SECOND:return s6(I,l);case Ua.MILLISECOND:return l6(I,l);case Ua.MICROSECOND:return u6(I,l);case Ua.NANOSECOND:return f6(I,l)}},$7=({values:I,stride:l},B)=>_3.decimal(I.subarray(l*B,l*(B+1))),q7=(I,l)=>{const{valueOffsets:B,stride:st,children:Tt}=I,{[l*st]:Ft,[l*st+1]:W}=B,t=Tt[0].slice(Ft,W-Ft);return new Wa([t])},tP=(I,l)=>{const{valueOffsets:B,children:st}=I,{[l]:Tt,[l+1]:Ft}=B,W=st[0];return new B3(W.slice(Tt,Ft-Tt))},eP=(I,l)=>new F3(I,l),rP=(I,l)=>I.type.mode===fu.Dense?c6(I,l):h6(I,l),c6=(I,l)=>{const B=I.type.typeIdToChildIndex[I.typeIds[l]],st=I.children[B];return Hl.visit(st,I.valueOffsets[l])},h6=(I,l)=>{const B=I.type.typeIdToChildIndex[I.typeIds[l]],st=I.children[B];return Hl.visit(st,l)},nP=(I,l)=>{var B;return(B=I.dictionary)===null||B===void 0?void 0:B.get(I.values[l])},iP=(I,l)=>I.type.unit===gv.DAY_TIME?v6(I,l):d6(I,l),v6=({values:I},l)=>I.subarray(2*l,2*(l+1)),d6=({values:I},l)=>{const B=I[l],st=new Int32Array(2);return st[0]=Math.trunc(B/12),st[1]=Math.trunc(B%12),st},aP=(I,l)=>{const{stride:B,children:st}=I,Ft=st[0].slice(l*B,B);return new Wa([Ft])};qi.prototype.visitNull=aa(V7);qi.prototype.visitBool=aa(H7);qi.prototype.visitInt=aa(X7);qi.prototype.visitInt8=aa(Sv);qi.prototype.visitInt16=aa(Sv);qi.prototype.visitInt32=aa(Sv);qi.prototype.visitInt64=aa(r6);qi.prototype.visitUint8=aa(Sv);qi.prototype.visitUint16=aa(Sv);qi.prototype.visitUint32=aa(Sv);qi.prototype.visitUint64=aa(r6);qi.prototype.visitFloat=aa(Z7);qi.prototype.visitFloat16=aa(G7);qi.prototype.visitFloat32=aa(Sv);qi.prototype.visitFloat64=aa(Sv);qi.prototype.visitUtf8=aa(j7);qi.prototype.visitBinary=aa(Y7);qi.prototype.visitFixedSizeBinary=aa(W7);qi.prototype.visitDate=aa(K7);qi.prototype.visitDateDay=aa(t6);qi.prototype.visitDateMillisecond=aa(e6);qi.prototype.visitTimestamp=aa(J7);qi.prototype.visitTimestampSecond=aa(n6);qi.prototype.visitTimestampMillisecond=aa(i6);qi.prototype.visitTimestampMicrosecond=aa(a6);qi.prototype.visitTimestampNanosecond=aa(o6);qi.prototype.visitTime=aa(Q7);qi.prototype.visitTimeSecond=aa(s6);qi.prototype.visitTimeMillisecond=aa(l6);qi.prototype.visitTimeMicrosecond=aa(u6);qi.prototype.visitTimeNanosecond=aa(f6);qi.prototype.visitDecimal=aa($7);qi.prototype.visitList=aa(q7);qi.prototype.visitStruct=aa(eP);qi.prototype.visitUnion=aa(rP);qi.prototype.visitDenseUnion=aa(c6);qi.prototype.visitSparseUnion=aa(h6);qi.prototype.visitDictionary=aa(nP);qi.prototype.visitInterval=aa(iP);qi.prototype.visitIntervalDayTime=aa(v6);qi.prototype.visitIntervalYearMonth=aa(d6);qi.prototype.visitFixedSizeList=aa(aP);qi.prototype.visitMap=aa(tP);const Hl=new qi,lc=Symbol.for("keys"),Ep=Symbol.for("vals");class B3{constructor(l){return this[lc]=new Wa([l.children[0]]).memoize(),this[Ep]=l.children[1],new Proxy(this,new sP)}[Symbol.iterator](){return new oP(this[lc],this[Ep])}get size(){return this[lc].length}toArray(){return Object.values(this.toJSON())}toJSON(){const l=this[lc],B=this[Ep],st={};for(let Tt=-1,Ft=l.length;++Tt<Ft;)st[l.get(Tt)]=Hl.visit(B,Tt);return st}toString(){return`{${[...this].map(([l,B])=>`${ag(l)}: ${ag(B)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class oP{constructor(l,B){this.keys=l,this.vals=B,this.keyIndex=0,this.numKeys=l.length}[Symbol.iterator](){return this}next(){const l=this.keyIndex;return l===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(l),Hl.visit(this.vals,l)]})}}class sP{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(l){return l[lc].toArray().map(String)}has(l,B){return l[lc].includes(B)}getOwnPropertyDescriptor(l,B){if(l[lc].indexOf(B)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(l,B){if(Reflect.has(l,B))return l[B];const st=l[lc].indexOf(B);if(st!==-1){const Tt=Hl.visit(Reflect.get(l,Ep),st);return Reflect.set(l,B,Tt),Tt}}set(l,B,st){const Tt=l[lc].indexOf(B);return Tt!==-1?(Ku.visit(Reflect.get(l,Ep),Tt,st),Reflect.set(l,B,st)):Reflect.has(l,B)?Reflect.set(l,B,st):!1}}Object.defineProperties(B3.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[lc]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ep]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let C4;function p6(I,l,B,st){const{length:Tt=0}=I;let Ft=typeof l!="number"?0:l,W=typeof B!="number"?Tt:B;return Ft<0&&(Ft=(Ft%Tt+Tt)%Tt),W<0&&(W=(W%Tt+Tt)%Tt),W<Ft&&(C4=Ft,Ft=W,W=C4),W>Tt&&(W=Tt),st?st(I,Ft,W):[Ft,W]}const L4=I=>I!==I;function jp(I){if(typeof I!=="object"||I===null)return L4(I)?L4:B=>B===I;if(I instanceof Date){const B=I.valueOf();return st=>st instanceof Date?st.valueOf()===B:!1}return ArrayBuffer.isView(I)?B=>B?t7(I,B):!1:I instanceof Map?uP(I):Array.isArray(I)?lP(I):I instanceof Wa?fP(I):cP(I,!0)}function lP(I){const l=[];for(let B=-1,st=I.length;++B<st;)l[B]=jp(I[B]);return f1(l)}function uP(I){let l=-1;const B=[];for(const st of I.values())B[++l]=jp(st);return f1(B)}function fP(I){const l=[];for(let B=-1,st=I.length;++B<st;)l[B]=jp(I.get(B));return f1(l)}function cP(I,l=!1){const B=Object.keys(I);if(!l&&B.length===0)return()=>!1;const st=[];for(let Tt=-1,Ft=B.length;++Tt<Ft;)st[Tt]=jp(I[B[Tt]]);return f1(st,B)}function f1(I,l){return B=>{if(!B||typeof B!="object")return!1;switch(B.constructor){case Array:return hP(I,B);case Map:return P4(I,B,B.keys());case B3:case F3:case Object:case void 0:return P4(I,B,l||Object.keys(B))}return B instanceof Wa?vP(I,B):!1}}function hP(I,l){const B=I.length;if(l.length!==B)return!1;for(let st=-1;++st<B;)if(!I[st](l[st]))return!1;return!0}function vP(I,l){const B=I.length;if(l.length!==B)return!1;for(let st=-1;++st<B;)if(!I[st](l.get(st)))return!1;return!0}function P4(I,l,B){const st=B[Symbol.iterator](),Tt=l instanceof Map?l.keys():Object.keys(l)[Symbol.iterator](),Ft=l instanceof Map?l.values():Object.values(l)[Symbol.iterator]();let W=0;const G=I.length;let t=Ft.next(),y=st.next(),D=Tt.next();for(;W<G&&!y.done&&!D.done&&!t.done&&!(y.value!==D.value||!I[W](t.value));++W,y=st.next(),D=Tt.next(),t=Ft.next());return W===G&&y.done&&D.done&&t.done?!0:(st.return&&st.return(),Tt.return&&Tt.return(),Ft.return&&Ft.return(),!1)}function g6(I,l,B,st){return(B&1<<st)!==0}function dP(I,l,B,st){return(B&1<<st)>>st}function N3(I,l,B){const st=B.byteLength+7&-8;if(I>0||B.byteLength<st){const Tt=new Uint8Array(st);return Tt.set(I%8===0?B.subarray(I>>3):bm(new U3(B,I,l,null,g6)).subarray(0,st)),Tt}return B}function bm(I){const l=[];let B=0,st=0,Tt=0;for(const W of I)W&&(Tt|=1<<st),++st===8&&(l[B++]=Tt,Tt=st=0);(B===0||st>0)&&(l[B++]=Tt);const Ft=new Uint8Array(l.length+7&-8);return Ft.set(l),Ft}class U3{constructor(l,B,st,Tt,Ft){this.bytes=l,this.length=st,this.context=Tt,this.get=Ft,this.bit=B%8,this.byteIndex=B>>3,this.byte=l[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function xb(I,l,B){if(B-l<=0)return 0;if(B-l<8){let Ft=0;for(const W of new U3(I,l,B-l,I,dP))Ft+=W;return Ft}const st=B>>3<<3,Tt=l+(l%8===0?0:8-l%8);return xb(I,l,Tt)+xb(I,st,B)+pP(I,Tt>>3,st-Tt>>3)}function pP(I,l,B){let st=0,Tt=Math.trunc(l);const Ft=new DataView(I.buffer,I.byteOffset,I.byteLength),W=B===void 0?I.byteLength:Tt+B;for(;W-Tt>=4;)st+=yx(Ft.getUint32(Tt)),Tt+=4;for(;W-Tt>=2;)st+=yx(Ft.getUint16(Tt)),Tt+=2;for(;W-Tt>=1;)st+=yx(Ft.getUint8(Tt)),Tt+=1;return st}function yx(I){let l=Math.trunc(I);return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),(l+(l>>>4)&252645135)*16843009>>>24}const gP=-1;class so{constructor(l,B,st,Tt,Ft,W=[],G){this.type=l,this.children=W,this.dictionary=G,this.offset=Math.floor(Math.max(B||0,0)),this.length=Math.floor(Math.max(st||0,0)),this._nullCount=Math.floor(Math.max(Tt||0,-1));let t;Ft instanceof so?(this.stride=Ft.stride,this.values=Ft.values,this.typeIds=Ft.typeIds,this.nullBitmap=Ft.nullBitmap,this.valueOffsets=Ft.valueOffsets):(this.stride=Kc(l),Ft&&((t=Ft[0])&&(this.valueOffsets=t),(t=Ft[1])&&(this.values=t),(t=Ft[2])&&(this.nullBitmap=t),(t=Ft[3])&&(this.typeIds=t))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let l=0;const{valueOffsets:B,values:st,nullBitmap:Tt,typeIds:Ft}=this;return B&&(l+=B.byteLength),st&&(l+=st.byteLength),Tt&&(l+=Tt.byteLength),Ft&&(l+=Ft.byteLength),this.children.reduce((W,G)=>W+G.byteLength,l)}get nullCount(){let l=this._nullCount,B;return l<=gP&&(B=this.nullBitmap)&&(this._nullCount=l=this.length-xb(B,this.offset,this.offset+this.length)),l}getValid(l){if(this.nullable&&this.nullCount>0){const B=this.offset+l;return(this.nullBitmap[B>>3]&1<<B%8)!==0}return!0}setValid(l,B){if(!this.nullable)return B;if(!this.nullBitmap||this.nullBitmap.byteLength<=l>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:st,offset:Tt}=this,Ft=Tt+l>>3,W=(Tt+l)%8,G=st[Ft]>>W&1;return B?G===0&&(st[Ft]|=1<<W,this._nullCount=this.nullCount+1):G===1&&(st[Ft]&=~(1<<W),this._nullCount=this.nullCount-1),B}clone(l=this.type,B=this.offset,st=this.length,Tt=this._nullCount,Ft=this,W=this.children){return new so(l,B,st,Tt,Ft,W,this.dictionary)}slice(l,B){const{stride:st,typeId:Tt,children:Ft}=this,W=+(this._nullCount===0)-1,G=Tt===16?st:1,t=this._sliceBuffers(l,B,st,Tt);return this.clone(this.type,this.offset+l,B,W,t,Ft.length===0||this.valueOffsets?Ft:this._sliceChildren(Ft,G*l,G*B))}_changeLengthAndBackfillNullBitmap(l){if(this.typeId===Ln.Null)return this.clone(this.type,0,l,0);const{length:B,nullCount:st}=this,Tt=new Uint8Array((l+63&-64)>>3).fill(255,0,B>>3);Tt[B>>3]=(1<<B-(B&-8))-1,st>0&&Tt.set(N3(this.offset,B,this.nullBitmap),0);const Ft=this.buffers;return Ft[Zc.VALIDITY]=Tt,this.clone(this.type,0,l,st+(l-B),Ft)}_sliceBuffers(l,B,st,Tt){let Ft;const{buffers:W}=this;return(Ft=W[Zc.TYPE])&&(W[Zc.TYPE]=Ft.subarray(l,l+B)),(Ft=W[Zc.OFFSET])&&(W[Zc.OFFSET]=Ft.subarray(l,l+B+1))||(Ft=W[Zc.DATA])&&(W[Zc.DATA]=Tt===6?Ft:Ft.subarray(st*l,st*(l+B))),W}_sliceChildren(l,B,st){return l.map(Tt=>Tt.slice(B,st))}}so.prototype.children=Object.freeze([]);class N0 extends La{visit(l){return this.getVisitFn(l.type).call(this,l)}visitNull(l){const{["type"]:B,["offset"]:st=0,["length"]:Tt=0}=l;return new so(B,st,Tt,0)}visitBool(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.nullBitmap),Ft=ro(B.ArrayType,l.data),{["length"]:W=Ft.length>>3,["nullCount"]:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,Ft,Tt])}visitInt(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.nullBitmap),Ft=ro(B.ArrayType,l.data),{["length"]:W=Ft.length,["nullCount"]:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,Ft,Tt])}visitFloat(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.nullBitmap),Ft=ro(B.ArrayType,l.data),{["length"]:W=Ft.length,["nullCount"]:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,Ft,Tt])}visitUtf8(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.data),Ft=Na(l.nullBitmap),W=A0(l.valueOffsets),{["length"]:G=W.length-1,["nullCount"]:t=l.nullBitmap?-1:0}=l;return new so(B,st,G,t,[W,Tt,Ft])}visitBinary(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.data),Ft=Na(l.nullBitmap),W=A0(l.valueOffsets),{["length"]:G=W.length-1,["nullCount"]:t=l.nullBitmap?-1:0}=l;return new so(B,st,G,t,[W,Tt,Ft])}visitFixedSizeBinary(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.nullBitmap),Ft=ro(B.ArrayType,l.data),{["length"]:W=Ft.length/Kc(B),["nullCount"]:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,Ft,Tt])}visitDate(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.nullBitmap),Ft=ro(B.ArrayType,l.data),{["length"]:W=Ft.length/Kc(B),["nullCount"]:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,Ft,Tt])}visitTimestamp(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.nullBitmap),Ft=ro(B.ArrayType,l.data),{["length"]:W=Ft.length/Kc(B),["nullCount"]:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,Ft,Tt])}visitTime(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.nullBitmap),Ft=ro(B.ArrayType,l.data),{["length"]:W=Ft.length/Kc(B),["nullCount"]:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,Ft,Tt])}visitDecimal(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.nullBitmap),Ft=ro(B.ArrayType,l.data),{["length"]:W=Ft.length/Kc(B),["nullCount"]:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,Ft,Tt])}visitList(l){const{["type"]:B,["offset"]:st=0,["child"]:Tt}=l,Ft=Na(l.nullBitmap),W=A0(l.valueOffsets),{["length"]:G=W.length-1,["nullCount"]:t=l.nullBitmap?-1:0}=l;return new so(B,st,G,t,[W,void 0,Ft],[Tt])}visitStruct(l){const{["type"]:B,["offset"]:st=0,["children"]:Tt=[]}=l,Ft=Na(l.nullBitmap),{length:W=Tt.reduce((t,{length:y})=>Math.max(t,y),0),nullCount:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,void 0,Ft],Tt)}visitUnion(l){const{["type"]:B,["offset"]:st=0,["children"]:Tt=[]}=l,Ft=Na(l.nullBitmap),W=ro(B.ArrayType,l.typeIds),{["length"]:G=W.length,["nullCount"]:t=l.nullBitmap?-1:0}=l;if($i.isSparseUnion(B))return new so(B,st,G,t,[void 0,void 0,Ft,W],Tt);const y=A0(l.valueOffsets);return new so(B,st,G,t,[y,void 0,Ft,W],Tt)}visitDictionary(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.nullBitmap),Ft=ro(B.indices.ArrayType,l.data),{["dictionary"]:W=new Wa([new N0().visit({type:B.dictionary})])}=l,{["length"]:G=Ft.length,["nullCount"]:t=l.nullBitmap?-1:0}=l;return new so(B,st,G,t,[void 0,Ft,Tt],[],W)}visitInterval(l){const{["type"]:B,["offset"]:st=0}=l,Tt=Na(l.nullBitmap),Ft=ro(B.ArrayType,l.data),{["length"]:W=Ft.length/Kc(B),["nullCount"]:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,Ft,Tt])}visitFixedSizeList(l){const{["type"]:B,["offset"]:st=0,["child"]:Tt=new N0().visit({type:B.valueType})}=l,Ft=Na(l.nullBitmap),{["length"]:W=Tt.length/Kc(B),["nullCount"]:G=l.nullBitmap?-1:0}=l;return new so(B,st,W,G,[void 0,void 0,Ft],[Tt])}visitMap(l){const{["type"]:B,["offset"]:st=0,["child"]:Tt=new N0().visit({type:B.childType})}=l,Ft=Na(l.nullBitmap),W=A0(l.valueOffsets),{["length"]:G=W.length-1,["nullCount"]:t=l.nullBitmap?-1:0}=l;return new so(B,st,G,t,[W,void 0,Ft],[Tt])}}function Ca(I){return new N0().visit(I)}class I4{constructor(l=0,B){this.numChunks=l,this.getChunkIterator=B,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const l=this.chunkIterator.next();if(!l.done)return l;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function y6(I){return I.reduce((l,B)=>l+B.nullCount,0)}function m6(I){return I.reduce((l,B,st)=>(l[st+1]=l[st]+B.length,l),new Uint32Array(I.length+1))}function x6(I,l,B,st){const Tt=[];for(let Ft=-1,W=I.length;++Ft<W;){const G=I[Ft],t=l[Ft],{length:y}=G;if(t>=st)break;if(B>=t+y)continue;if(t>=B&&t+y<=st){Tt.push(G);continue}const D=Math.max(0,B-t),s=Math.min(st-t,y);Tt.push(G.slice(D,s-D))}return Tt.length===0&&Tt.push(I[0].slice(0,0)),Tt}function V3(I,l,B,st){let Tt=0,Ft=0,W=l.length-1;do{if(Tt>=W-1)return B<l[W]?st(I,Tt,B-l[Tt]):null;Ft=Tt+Math.trunc((W-Tt)*.5),B<l[Ft]?W=Ft:Tt=Ft}while(Tt<W)}function H3(I,l){return I.getValid(l)}function Cp(I){function l(B,st,Tt){return I(B[st],Tt)}return function(B){const st=this.data;return V3(st,this._offsets,B,l)}}function b6(I){let l;function B(st,Tt,Ft){return I(st[Tt],Ft,l)}return function(st,Tt){const Ft=this.data;l=Tt;const W=V3(Ft,this._offsets,st,B);return l=void 0,W}}function w6(I){let l;function B(st,Tt,Ft){let W=Ft,G=0,t=0;for(let y=Tt-1,D=st.length;++y<D;){const s=st[y];if(~(G=I(s,l,W)))return t+G;W=0,t+=s.length}return-1}return function(st,Tt){l=st;const Ft=this.data,W=typeof Tt!="number"?B(Ft,0,0):V3(Ft,this._offsets,Tt,B);return l=void 0,W}}class ta extends La{}function yP(I,l){return l===null&&I.length>0?0:-1}function mP(I,l){const{nullBitmap:B}=I;if(!B||I.nullCount<=0)return-1;let st=0;for(const Tt of new U3(B,I.offset+(l||0),I.length,B,g6)){if(!Tt)return st;++st}return-1}function ba(I,l,B){if(l===void 0)return-1;if(l===null)return mP(I,B);const st=Hl.getVisitFn(I),Tt=jp(l);for(let Ft=(B||0)-1,W=I.length;++Ft<W;)if(Tt(st(I,Ft)))return Ft;return-1}function T6(I,l,B){const st=Hl.getVisitFn(I),Tt=jp(l);for(let Ft=(B||0)-1,W=I.length;++Ft<W;)if(Tt(st(I,Ft)))return Ft;return-1}ta.prototype.visitNull=yP;ta.prototype.visitBool=ba;ta.prototype.visitInt=ba;ta.prototype.visitInt8=ba;ta.prototype.visitInt16=ba;ta.prototype.visitInt32=ba;ta.prototype.visitInt64=ba;ta.prototype.visitUint8=ba;ta.prototype.visitUint16=ba;ta.prototype.visitUint32=ba;ta.prototype.visitUint64=ba;ta.prototype.visitFloat=ba;ta.prototype.visitFloat16=ba;ta.prototype.visitFloat32=ba;ta.prototype.visitFloat64=ba;ta.prototype.visitUtf8=ba;ta.prototype.visitBinary=ba;ta.prototype.visitFixedSizeBinary=ba;ta.prototype.visitDate=ba;ta.prototype.visitDateDay=ba;ta.prototype.visitDateMillisecond=ba;ta.prototype.visitTimestamp=ba;ta.prototype.visitTimestampSecond=ba;ta.prototype.visitTimestampMillisecond=ba;ta.prototype.visitTimestampMicrosecond=ba;ta.prototype.visitTimestampNanosecond=ba;ta.prototype.visitTime=ba;ta.prototype.visitTimeSecond=ba;ta.prototype.visitTimeMillisecond=ba;ta.prototype.visitTimeMicrosecond=ba;ta.prototype.visitTimeNanosecond=ba;ta.prototype.visitDecimal=ba;ta.prototype.visitList=ba;ta.prototype.visitStruct=ba;ta.prototype.visitUnion=ba;ta.prototype.visitDenseUnion=T6;ta.prototype.visitSparseUnion=T6;ta.prototype.visitDictionary=ba;ta.prototype.visitInterval=ba;ta.prototype.visitIntervalDayTime=ba;ta.prototype.visitIntervalYearMonth=ba;ta.prototype.visitFixedSizeList=ba;ta.prototype.visitMap=ba;const wm=new ta;class ea extends La{}function oa(I){const{type:l}=I;if(I.nullCount===0&&I.stride===1&&(l.typeId===Ln.Timestamp||l instanceof mv&&l.bitWidth!==64||l instanceof ug&&l.bitWidth!==64||l instanceof lg&&l.precision!==Ul.HALF))return new I4(I.data.length,st=>{const Tt=I.data[st];return Tt.values.subarray(0,Tt.length)[Symbol.iterator]()});let B=0;return new I4(I.data.length,st=>{const Ft=I.data[st].length,W=I.slice(B,B+Ft);return B+=Ft,new xP(W)})}class xP{constructor(l){this.vector=l,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}ea.prototype.visitNull=oa;ea.prototype.visitBool=oa;ea.prototype.visitInt=oa;ea.prototype.visitInt8=oa;ea.prototype.visitInt16=oa;ea.prototype.visitInt32=oa;ea.prototype.visitInt64=oa;ea.prototype.visitUint8=oa;ea.prototype.visitUint16=oa;ea.prototype.visitUint32=oa;ea.prototype.visitUint64=oa;ea.prototype.visitFloat=oa;ea.prototype.visitFloat16=oa;ea.prototype.visitFloat32=oa;ea.prototype.visitFloat64=oa;ea.prototype.visitUtf8=oa;ea.prototype.visitBinary=oa;ea.prototype.visitFixedSizeBinary=oa;ea.prototype.visitDate=oa;ea.prototype.visitDateDay=oa;ea.prototype.visitDateMillisecond=oa;ea.prototype.visitTimestamp=oa;ea.prototype.visitTimestampSecond=oa;ea.prototype.visitTimestampMillisecond=oa;ea.prototype.visitTimestampMicrosecond=oa;ea.prototype.visitTimestampNanosecond=oa;ea.prototype.visitTime=oa;ea.prototype.visitTimeSecond=oa;ea.prototype.visitTimeMillisecond=oa;ea.prototype.visitTimeMicrosecond=oa;ea.prototype.visitTimeNanosecond=oa;ea.prototype.visitDecimal=oa;ea.prototype.visitList=oa;ea.prototype.visitStruct=oa;ea.prototype.visitUnion=oa;ea.prototype.visitDenseUnion=oa;ea.prototype.visitSparseUnion=oa;ea.prototype.visitDictionary=oa;ea.prototype.visitInterval=oa;ea.prototype.visitIntervalDayTime=oa;ea.prototype.visitIntervalYearMonth=oa;ea.prototype.visitFixedSizeList=oa;ea.prototype.visitMap=oa;const G3=new ea,bP=(I,l)=>I+l;class Mv extends La{visitNull(l,B){return 0}visitInt(l,B){return l.type.bitWidth/8}visitFloat(l,B){return l.type.ArrayType.BYTES_PER_ELEMENT}visitBool(l,B){return 1/8}visitDecimal(l,B){return l.type.bitWidth/8}visitDate(l,B){return(l.type.unit+1)*4}visitTime(l,B){return l.type.bitWidth/8}visitTimestamp(l,B){return l.type.unit===Ua.SECOND?4:8}visitInterval(l,B){return(l.type.unit+1)*4}visitStruct(l,B){return l.children.reduce((st,Tt)=>st+xc.visit(Tt,B),0)}visitFixedSizeBinary(l,B){return l.type.byteWidth}visitMap(l,B){return 8+l.children.reduce((st,Tt)=>st+xc.visit(Tt,B),0)}visitDictionary(l,B){var st;return l.type.indices.bitWidth/8+(((st=l.dictionary)===null||st===void 0?void 0:st.getByteLength(l.values[B]))||0)}}const wP=({valueOffsets:I},l)=>8+(I[l+1]-I[l]),TP=({valueOffsets:I},l)=>8+(I[l+1]-I[l]),AP=({valueOffsets:I,stride:l,children:B},st)=>{const Tt=B[0],{[st*l]:Ft}=I,{[st*l+1]:W}=I,G=xc.getVisitFn(Tt.type),t=Tt.slice(Ft,W-Ft);let y=8;for(let D=-1,s=W-Ft;++D<s;)y+=G(t,D);return y},SP=({stride:I,children:l},B)=>{const st=l[0],Tt=st.slice(B*I,I),Ft=xc.getVisitFn(st.type);let W=0;for(let G=-1,t=Tt.length;++G<t;)W+=Ft(Tt,G);return W},MP=(I,l)=>I.type.mode===fu.Dense?A6(I,l):S6(I,l),A6=({type:I,children:l,typeIds:B,valueOffsets:st},Tt)=>{const Ft=I.typeIdToChildIndex[B[Tt]];return 8+xc.visit(l[Ft],st[Tt])},S6=({children:I},l)=>4+xc.visitMany(I,I.map(()=>l)).reduce(bP,0);Mv.prototype.visitUtf8=wP;Mv.prototype.visitBinary=TP;Mv.prototype.visitList=AP;Mv.prototype.visitFixedSizeList=SP;Mv.prototype.visitUnion=MP;Mv.prototype.visitDenseUnion=A6;Mv.prototype.visitSparseUnion=S6;const xc=new Mv;var M6;const E6={},C6={};class Wa{constructor(l){var B,st,Tt;const Ft=l[0]instanceof Wa?l.flatMap(G=>G.data):l;if(Ft.length===0||Ft.some(G=>!(G instanceof so)))throw new TypeError("Vector constructor expects an Array of Data instances.");const W=(B=Ft[0])===null||B===void 0?void 0:B.type;switch(Ft.length){case 0:this._offsets=[0];break;case 1:{const{get:G,set:t,indexOf:y,byteLength:D}=E6[W.typeId],s=Ft[0];this.isValid=P=>H3(s,P),this.get=P=>G(s,P),this.set=(P,M)=>t(s,P,M),this.indexOf=P=>y(s,P),this.getByteLength=P=>D(s,P),this._offsets=[0,s.length];break}default:Object.setPrototypeOf(this,C6[W.typeId]),this._offsets=m6(Ft);break}this.data=Ft,this.type=W,this.stride=Kc(W),this.numChildren=(Tt=(st=W.children)===null||st===void 0?void 0:st.length)!==null&&Tt!==void 0?Tt:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((l,B)=>l+B.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=y6(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Ln[this.type.typeId]}Vector`}isValid(l){return!1}get(l){return null}set(l,B){}indexOf(l,B){return-1}includes(l,B){return this.indexOf(l,B)>0}getByteLength(l){return 0}[Symbol.iterator](){return G3.visit(this)}concat(...l){return new Wa(this.data.concat(l.flatMap(B=>B.data).flat(Number.POSITIVE_INFINITY)))}slice(l,B){return new Wa(p6(this,l,B,({data:st,_offsets:Tt},Ft,W)=>x6(st,Tt,Ft,W)))}toJSON(){return[...this]}toArray(){const{type:l,data:B,length:st,stride:Tt,ArrayType:Ft}=this;switch(l.typeId){case Ln.Int:case Ln.Float:case Ln.Decimal:case Ln.Time:case Ln.Timestamp:switch(B.length){case 0:return new Ft;case 1:return B[0].values.subarray(0,st*Tt);default:return B.reduce((W,{values:G,length:t})=>(W.array.set(G.subarray(0,t*Tt),W.offset),W.offset+=t*Tt,W),{array:new Ft(st*Tt),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(l){var B;return this.getChildAt((B=this.type.children)===null||B===void 0?void 0:B.findIndex(st=>st.name===l))}getChildAt(l){return l>-1&&l<this.numChildren?new Wa(this.data.map(({children:B})=>B[l])):null}get isMemoized(){return $i.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if($i.isDictionary(this.type)){const l=new Tm(this.data[0].dictionary),B=this.data.map(st=>{const Tt=st.clone();return Tt.dictionary=l,Tt});return new Wa(B)}return new Tm(this)}unmemoize(){if($i.isDictionary(this.type)&&this.isMemoized){const l=this.data[0].dictionary.unmemoize(),B=this.data.map(st=>{const Tt=st.clone();return Tt.dictionary=l,Tt});return new Wa(B)}return this}}M6=Symbol.toStringTag;Wa[M6]=(I=>{I.type=$i.prototype,I.data=[],I.length=0,I.stride=1,I.numChildren=0,I._nullCount=-1,I._byteLength=-1,I._offsets=new Uint32Array([0]),I[Symbol.isConcatSpreadable]=!0;const l=Object.keys(Ln).map(B=>Ln[B]).filter(B=>typeof B=="number"&&B!==Ln.NONE);for(const B of l){const st=Hl.getVisitFnByTypeId(B),Tt=Ku.getVisitFnByTypeId(B),Ft=wm.getVisitFnByTypeId(B),W=xc.getVisitFnByTypeId(B);E6[B]={get:st,set:Tt,indexOf:Ft,byteLength:W},C6[B]=Object.create(I,{isValid:{value:Cp(H3)},get:{value:Cp(Hl.getVisitFnByTypeId(B))},set:{value:b6(Ku.getVisitFnByTypeId(B))},indexOf:{value:w6(wm.getVisitFnByTypeId(B))},getByteLength:{value:Cp(xc.getVisitFnByTypeId(B))}})}return"Vector"})(Wa.prototype);class Tm extends Wa{constructor(l){super(l.data);const B=this.get,st=this.set,Tt=this.slice,Ft=new Array(this.length);Object.defineProperty(this,"get",{value(W){const G=Ft[W];if(G!==void 0)return G;const t=B.call(this,W);return Ft[W]=t,t}}),Object.defineProperty(this,"set",{value(W,G){st.call(this,W,G),Ft[W]=G}}),Object.defineProperty(this,"slice",{value:(W,G)=>new Tm(Tt.call(this,W,G))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Wa(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class bb{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(l,B,st,Tt){return l.prep(8,24),l.writeInt64(Tt),l.pad(4),l.writeInt32(st),l.writeInt64(B),l.offset()}}const mx=2,uc=4,$c=4,no=4,qh=new Int32Array(2),D4=new Float32Array(qh.buffer),R4=new Float64Array(qh.buffer),gy=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let nh=class wb{constructor(l,B){this.low=l|0,this.high=B|0}static create(l,B){return l==0&&B==0?wb.ZERO:new wb(l,B)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(l){return this.low==l.low&&this.high==l.high}};nh.ZERO=new nh(0,0);var Tb;(function(I){I[I.UTF8_BYTES=1]="UTF8_BYTES",I[I.UTF16_STRING=2]="UTF16_STRING"})(Tb||(Tb={}));let Fp=class L6{constructor(l){this.bytes_=l,this.position_=0}static allocate(l){return new L6(new Uint8Array(l))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(l){this.position_=l}capacity(){return this.bytes_.length}readInt8(l){return this.readUint8(l)<<24>>24}readUint8(l){return this.bytes_[l]}readInt16(l){return this.readUint16(l)<<16>>16}readUint16(l){return this.bytes_[l]|this.bytes_[l+1]<<8}readInt32(l){return this.bytes_[l]|this.bytes_[l+1]<<8|this.bytes_[l+2]<<16|this.bytes_[l+3]<<24}readUint32(l){return this.readInt32(l)>>>0}readInt64(l){return new nh(this.readInt32(l),this.readInt32(l+4))}readUint64(l){return new nh(this.readUint32(l),this.readUint32(l+4))}readFloat32(l){return qh[0]=this.readInt32(l),D4[0]}readFloat64(l){return qh[gy?0:1]=this.readInt32(l),qh[gy?1:0]=this.readInt32(l+4),R4[0]}writeInt8(l,B){this.bytes_[l]=B}writeUint8(l,B){this.bytes_[l]=B}writeInt16(l,B){this.bytes_[l]=B,this.bytes_[l+1]=B>>8}writeUint16(l,B){this.bytes_[l]=B,this.bytes_[l+1]=B>>8}writeInt32(l,B){this.bytes_[l]=B,this.bytes_[l+1]=B>>8,this.bytes_[l+2]=B>>16,this.bytes_[l+3]=B>>24}writeUint32(l,B){this.bytes_[l]=B,this.bytes_[l+1]=B>>8,this.bytes_[l+2]=B>>16,this.bytes_[l+3]=B>>24}writeInt64(l,B){this.writeInt32(l,B.low),this.writeInt32(l+4,B.high)}writeUint64(l,B){this.writeUint32(l,B.low),this.writeUint32(l+4,B.high)}writeFloat32(l,B){D4[0]=B,this.writeInt32(l,qh[0])}writeFloat64(l,B){R4[0]=B,this.writeInt32(l,qh[gy?0:1]),this.writeInt32(l+4,qh[gy?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+uc+$c)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let l="";for(let B=0;B<$c;B++)l+=String.fromCharCode(this.readInt8(this.position_+uc+B));return l}__offset(l,B){const st=l-this.readInt32(l);return B<this.readInt16(st)?this.readInt16(st+B):0}__union(l,B){return l.bb_pos=B+this.readInt32(B),l.bb=this,l}__string(l,B){l+=this.readInt32(l);const st=this.readInt32(l);let Tt="",Ft=0;if(l+=uc,B===Tb.UTF8_BYTES)return this.bytes_.subarray(l,l+st);for(;Ft<st;){let W;const G=this.readUint8(l+Ft++);if(G<192)W=G;else{const t=this.readUint8(l+Ft++);if(G<224)W=(G&31)<<6|t&63;else{const y=this.readUint8(l+Ft++);if(G<240)W=(G&15)<<12|(t&63)<<6|y&63;else{const D=this.readUint8(l+Ft++);W=(G&7)<<18|(t&63)<<12|(y&63)<<6|D&63}}}W<65536?Tt+=String.fromCharCode(W):(W-=65536,Tt+=String.fromCharCode((W>>10)+55296,(W&1023)+56320))}return Tt}__union_with_string(l,B){return typeof l=="string"?this.__string(B):this.__union(l,B)}__indirect(l){return l+this.readInt32(l)}__vector(l){return l+this.readInt32(l)+uc}__vector_len(l){return this.readInt32(l+this.readInt32(l))}__has_identifier(l){if(l.length!=$c)throw new Error("FlatBuffers: file identifier must be length "+$c);for(let B=0;B<$c;B++)if(l.charCodeAt(B)!=this.readInt8(this.position()+uc+B))return!1;return!0}createLong(l,B){return nh.create(l,B)}createScalarList(l,B){const st=[];for(let Tt=0;Tt<B;++Tt)l(Tt)!==null&&st.push(l(Tt));return st}createObjList(l,B){const st=[];for(let Tt=0;Tt<B;++Tt){const Ft=l(Tt);Ft!==null&&st.push(Ft.unpack())}return st}},P6=class I6{constructor(l){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let B;l?B=l:B=1024,this.bb=Fp.allocate(B),this.space=B}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(l){this.force_defaults=l}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(l,B){l>this.minalign&&(this.minalign=l);const st=~(this.bb.capacity()-this.space+B)+1&l-1;for(;this.space<st+l+B;){const Tt=this.bb.capacity();this.bb=I6.growByteBuffer(this.bb),this.space+=this.bb.capacity()-Tt}this.pad(st)}pad(l){for(let B=0;B<l;B++)this.bb.writeInt8(--this.space,0)}writeInt8(l){this.bb.writeInt8(this.space-=1,l)}writeInt16(l){this.bb.writeInt16(this.space-=2,l)}writeInt32(l){this.bb.writeInt32(this.space-=4,l)}writeInt64(l){this.bb.writeInt64(this.space-=8,l)}writeFloat32(l){this.bb.writeFloat32(this.space-=4,l)}writeFloat64(l){this.bb.writeFloat64(this.space-=8,l)}addInt8(l){this.prep(1,0),this.writeInt8(l)}addInt16(l){this.prep(2,0),this.writeInt16(l)}addInt32(l){this.prep(4,0),this.writeInt32(l)}addInt64(l){this.prep(8,0),this.writeInt64(l)}addFloat32(l){this.prep(4,0),this.writeFloat32(l)}addFloat64(l){this.prep(8,0),this.writeFloat64(l)}addFieldInt8(l,B,st){(this.force_defaults||B!=st)&&(this.addInt8(B),this.slot(l))}addFieldInt16(l,B,st){(this.force_defaults||B!=st)&&(this.addInt16(B),this.slot(l))}addFieldInt32(l,B,st){(this.force_defaults||B!=st)&&(this.addInt32(B),this.slot(l))}addFieldInt64(l,B,st){(this.force_defaults||!B.equals(st))&&(this.addInt64(B),this.slot(l))}addFieldFloat32(l,B,st){(this.force_defaults||B!=st)&&(this.addFloat32(B),this.slot(l))}addFieldFloat64(l,B,st){(this.force_defaults||B!=st)&&(this.addFloat64(B),this.slot(l))}addFieldOffset(l,B,st){(this.force_defaults||B!=st)&&(this.addOffset(B),this.slot(l))}addFieldStruct(l,B,st){B!=st&&(this.nested(B),this.slot(l))}nested(l){if(l!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(l){this.vtable!==null&&(this.vtable[l]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(l){const B=l.capacity();if(B&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const st=B<<1,Tt=Fp.allocate(st);return Tt.setPosition(st-B),Tt.bytes().set(l.bytes(),st-B),Tt}addOffset(l){this.prep(uc,0),this.writeInt32(this.offset()-l+uc)}startObject(l){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=l;for(let B=0;B<l;B++)this.vtable[B]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const l=this.offset();let B=this.vtable_in_use-1;for(;B>=0&&this.vtable[B]==0;B--);const st=B+1;for(;B>=0;B--)this.addInt16(this.vtable[B]!=0?l-this.vtable[B]:0);const Tt=2;this.addInt16(l-this.object_start);const Ft=(st+Tt)*mx;this.addInt16(Ft);let W=0;const G=this.space;t:for(B=0;B<this.vtables.length;B++){const t=this.bb.capacity()-this.vtables[B];if(Ft==this.bb.readInt16(t)){for(let y=mx;y<Ft;y+=mx)if(this.bb.readInt16(G+y)!=this.bb.readInt16(t+y))continue t;W=this.vtables[B];break}}return W?(this.space=this.bb.capacity()-l,this.bb.writeInt32(this.space,W-l)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-l,this.offset()-l)),this.isNested=!1,l}finish(l,B,st){const Tt=st?no:0;if(B){const Ft=B;if(this.prep(this.minalign,uc+$c+Tt),Ft.length!=$c)throw new Error("FlatBuffers: file identifier must be length "+$c);for(let W=$c-1;W>=0;W--)this.writeInt8(Ft.charCodeAt(W))}this.prep(this.minalign,uc+Tt),this.addOffset(l),Tt&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(l,B){this.finish(l,B,!0)}requiredField(l,B){const st=this.bb.capacity()-l,Tt=st-this.bb.readInt32(st);if(!(this.bb.readInt16(Tt+B)!=0))throw new Error("FlatBuffers: field "+B+" must be set")}startVector(l,B,st){this.notNested(),this.vector_num_elems=B,this.prep(uc,l*B),this.prep(st,l*B)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(l){if(!l)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(l))return this.string_maps.get(l);const B=this.createString(l);return this.string_maps.set(l,B),B}createString(l){if(!l)return 0;let B;if(l instanceof Uint8Array)B=l;else{B=[];let st=0;for(;st<l.length;){let Tt;const Ft=l.charCodeAt(st++);if(Ft<55296||Ft>=56320)Tt=Ft;else{const W=l.charCodeAt(st++);Tt=(Ft<<10)+W+-56613888}Tt<128?B.push(Tt):(Tt<2048?B.push(Tt>>6&31|192):(Tt<65536?B.push(Tt>>12&15|224):B.push(Tt>>18&7|240,Tt>>12&63|128),B.push(Tt>>6&63|128)),B.push(Tt&63|128))}}this.addInt8(0),this.startVector(1,B.length,1),this.bb.setPosition(this.space-=B.length);for(let st=0,Tt=this.space,Ft=this.bb.bytes();st<B.length;st++)Ft[Tt++]=B[st];return this.endVector()}createLong(l,B){return nh.create(l,B)}createObjectOffset(l){return l===null?0:typeof l=="string"?this.createString(l):l.pack(this)}createObjectOffsetList(l){const B=[];for(let st=0;st<l.length;++st){const Tt=l[st];if(Tt!==null)B.push(this.createObjectOffset(Tt));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return B}createStructOffsetList(l,B){return B(this,l.length),this.createObjectOffsetList(l),this.endVector()}};class cs{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsKeyValue(l,B){return(B||new cs).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsKeyValue(l,B){return l.setPosition(l.position()+no),(B||new cs).__init(l.readInt32(l.position())+l.position(),l)}key(l){const B=this.bb.__offset(this.bb_pos,4);return B?this.bb.__string(this.bb_pos+B,l):null}value(l){const B=this.bb.__offset(this.bb_pos,6);return B?this.bb.__string(this.bb_pos+B,l):null}static startKeyValue(l){l.startObject(2)}static addKey(l,B){l.addFieldOffset(0,B,0)}static addValue(l,B){l.addFieldOffset(1,B,0)}static endKeyValue(l){return l.endObject()}static createKeyValue(l,B,st){return cs.startKeyValue(l),cs.addKey(l,B),cs.addValue(l,st),cs.endKeyValue(l)}}var Op;(function(I){I[I.V1=0]="V1",I[I.V2=1]="V2",I[I.V3=2]="V3",I[I.V4=3]="V4",I[I.V5=4]="V5"})(Op||(Op={}));var Bp;(function(I){I[I.Little=0]="Little",I[I.Big=1]="Big"})(Bp||(Bp={}));var Am;(function(I){I[I.DenseArray=0]="DenseArray"})(Am||(Am={}));class au{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsInt(l,B){return(B||new au).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsInt(l,B){return l.setPosition(l.position()+no),(B||new au).__init(l.readInt32(l.position())+l.position(),l)}bitWidth(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt32(this.bb_pos+l):0}isSigned(){const l=this.bb.__offset(this.bb_pos,6);return l?!!this.bb.readInt8(this.bb_pos+l):!1}static startInt(l){l.startObject(2)}static addBitWidth(l,B){l.addFieldInt32(0,B,0)}static addIsSigned(l,B){l.addFieldInt8(1,+B,0)}static endInt(l){return l.endObject()}static createInt(l,B,st){return au.startInt(l),au.addBitWidth(l,B),au.addIsSigned(l,st),au.endInt(l)}}class qc{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsDictionaryEncoding(l,B){return(B||new qc).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsDictionaryEncoding(l,B){return l.setPosition(l.position()+no),(B||new qc).__init(l.readInt32(l.position())+l.position(),l)}id(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt64(this.bb_pos+l):this.bb.createLong(0,0)}indexType(l){const B=this.bb.__offset(this.bb_pos,6);return B?(l||new au).__init(this.bb.__indirect(this.bb_pos+B),this.bb):null}isOrdered(){const l=this.bb.__offset(this.bb_pos,8);return l?!!this.bb.readInt8(this.bb_pos+l):!1}dictionaryKind(){const l=this.bb.__offset(this.bb_pos,10);return l?this.bb.readInt16(this.bb_pos+l):Am.DenseArray}static startDictionaryEncoding(l){l.startObject(4)}static addId(l,B){l.addFieldInt64(0,B,l.createLong(0,0))}static addIndexType(l,B){l.addFieldOffset(1,B,0)}static addIsOrdered(l,B){l.addFieldInt8(2,+B,0)}static addDictionaryKind(l,B){l.addFieldInt16(3,B,Am.DenseArray)}static endDictionaryEncoding(l){return l.endObject()}}class sd{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsBinary(l,B){return(B||new sd).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsBinary(l,B){return l.setPosition(l.position()+no),(B||new sd).__init(l.readInt32(l.position())+l.position(),l)}static startBinary(l){l.startObject(0)}static endBinary(l){return l.endObject()}static createBinary(l){return sd.startBinary(l),sd.endBinary(l)}}class ld{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsBool(l,B){return(B||new ld).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsBool(l,B){return l.setPosition(l.position()+no),(B||new ld).__init(l.readInt32(l.position())+l.position(),l)}static startBool(l){l.startObject(0)}static endBool(l){return l.endObject()}static createBool(l){return ld.startBool(l),ld.endBool(l)}}var Sm;(function(I){I[I.DAY=0]="DAY",I[I.MILLISECOND=1]="MILLISECOND"})(Sm||(Sm={}));let Dy=class ep{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsDate(l,B){return(B||new ep).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsDate(l,B){return l.setPosition(l.position()+no),(B||new ep).__init(l.readInt32(l.position())+l.position(),l)}unit(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt16(this.bb_pos+l):Sm.MILLISECOND}static startDate(l){l.startObject(1)}static addUnit(l,B){l.addFieldInt16(0,B,Sm.MILLISECOND)}static endDate(l){return l.endObject()}static createDate(l,B){return ep.startDate(l),ep.addUnit(l,B),ep.endDate(l)}};class Rl{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsDecimal(l,B){return(B||new Rl).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsDecimal(l,B){return l.setPosition(l.position()+no),(B||new Rl).__init(l.readInt32(l.position())+l.position(),l)}precision(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt32(this.bb_pos+l):0}scale(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.readInt32(this.bb_pos+l):0}bitWidth(){const l=this.bb.__offset(this.bb_pos,8);return l?this.bb.readInt32(this.bb_pos+l):128}static startDecimal(l){l.startObject(3)}static addPrecision(l,B){l.addFieldInt32(0,B,0)}static addScale(l,B){l.addFieldInt32(1,B,0)}static addBitWidth(l,B){l.addFieldInt32(2,B,128)}static endDecimal(l){return l.endObject()}static createDecimal(l,B,st,Tt){return Rl.startDecimal(l),Rl.addPrecision(l,B),Rl.addScale(l,st),Rl.addBitWidth(l,Tt),Rl.endDecimal(l)}}var Np;(function(I){I[I.SECOND=0]="SECOND",I[I.MILLISECOND=1]="MILLISECOND",I[I.MICROSECOND=2]="MICROSECOND",I[I.NANOSECOND=3]="NANOSECOND"})(Np||(Np={}));class fc{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsFixedSizeBinary(l,B){return(B||new fc).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsFixedSizeBinary(l,B){return l.setPosition(l.position()+no),(B||new fc).__init(l.readInt32(l.position())+l.position(),l)}byteWidth(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt32(this.bb_pos+l):0}static startFixedSizeBinary(l){l.startObject(1)}static addByteWidth(l,B){l.addFieldInt32(0,B,0)}static endFixedSizeBinary(l){return l.endObject()}static createFixedSizeBinary(l,B){return fc.startFixedSizeBinary(l),fc.addByteWidth(l,B),fc.endFixedSizeBinary(l)}}class cc{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsFixedSizeList(l,B){return(B||new cc).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsFixedSizeList(l,B){return l.setPosition(l.position()+no),(B||new cc).__init(l.readInt32(l.position())+l.position(),l)}listSize(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt32(this.bb_pos+l):0}static startFixedSizeList(l){l.startObject(1)}static addListSize(l,B){l.addFieldInt32(0,B,0)}static endFixedSizeList(l){return l.endObject()}static createFixedSizeList(l,B){return cc.startFixedSizeList(l),cc.addListSize(l,B),cc.endFixedSizeList(l)}}var Mm;(function(I){I[I.HALF=0]="HALF",I[I.SINGLE=1]="SINGLE",I[I.DOUBLE=2]="DOUBLE"})(Mm||(Mm={}));class hc{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsFloatingPoint(l,B){return(B||new hc).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsFloatingPoint(l,B){return l.setPosition(l.position()+no),(B||new hc).__init(l.readInt32(l.position())+l.position(),l)}precision(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt16(this.bb_pos+l):Mm.HALF}static startFloatingPoint(l){l.startObject(1)}static addPrecision(l,B){l.addFieldInt16(0,B,Mm.HALF)}static endFloatingPoint(l){return l.endObject()}static createFloatingPoint(l,B){return hc.startFloatingPoint(l),hc.addPrecision(l,B),hc.endFloatingPoint(l)}}var Em;(function(I){I[I.YEAR_MONTH=0]="YEAR_MONTH",I[I.DAY_TIME=1]="DAY_TIME",I[I.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Em||(Em={}));class vc{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsInterval(l,B){return(B||new vc).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsInterval(l,B){return l.setPosition(l.position()+no),(B||new vc).__init(l.readInt32(l.position())+l.position(),l)}unit(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt16(this.bb_pos+l):Em.YEAR_MONTH}static startInterval(l){l.startObject(1)}static addUnit(l,B){l.addFieldInt16(0,B,Em.YEAR_MONTH)}static endInterval(l){return l.endObject()}static createInterval(l,B){return vc.startInterval(l),vc.addUnit(l,B),vc.endInterval(l)}}class ud{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsList(l,B){return(B||new ud).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsList(l,B){return l.setPosition(l.position()+no),(B||new ud).__init(l.readInt32(l.position())+l.position(),l)}static startList(l){l.startObject(0)}static endList(l){return l.endObject()}static createList(l){return ud.startList(l),ud.endList(l)}}let Ry=class rp{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsMap(l,B){return(B||new rp).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsMap(l,B){return l.setPosition(l.position()+no),(B||new rp).__init(l.readInt32(l.position())+l.position(),l)}keysSorted(){const l=this.bb.__offset(this.bb_pos,4);return l?!!this.bb.readInt8(this.bb_pos+l):!1}static startMap(l){l.startObject(1)}static addKeysSorted(l,B){l.addFieldInt8(0,+B,0)}static endMap(l){return l.endObject()}static createMap(l,B){return rp.startMap(l),rp.addKeysSorted(l,B),rp.endMap(l)}};class fd{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsNull(l,B){return(B||new fd).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsNull(l,B){return l.setPosition(l.position()+no),(B||new fd).__init(l.readInt32(l.position())+l.position(),l)}static startNull(l){l.startObject(0)}static endNull(l){return l.endObject()}static createNull(l){return fd.startNull(l),fd.endNull(l)}}class cd{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsStruct_(l,B){return(B||new cd).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsStruct_(l,B){return l.setPosition(l.position()+no),(B||new cd).__init(l.readInt32(l.position())+l.position(),l)}static startStruct_(l){l.startObject(0)}static endStruct_(l){return l.endObject()}static createStruct_(l){return cd.startStruct_(l),cd.endStruct_(l)}}class Gu{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsTime(l,B){return(B||new Gu).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsTime(l,B){return l.setPosition(l.position()+no),(B||new Gu).__init(l.readInt32(l.position())+l.position(),l)}unit(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt16(this.bb_pos+l):Np.MILLISECOND}bitWidth(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.readInt32(this.bb_pos+l):32}static startTime(l){l.startObject(2)}static addUnit(l,B){l.addFieldInt16(0,B,Np.MILLISECOND)}static addBitWidth(l,B){l.addFieldInt32(1,B,32)}static endTime(l){return l.endObject()}static createTime(l,B,st){return Gu.startTime(l),Gu.addUnit(l,B),Gu.addBitWidth(l,st),Gu.endTime(l)}}class Wu{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsTimestamp(l,B){return(B||new Wu).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsTimestamp(l,B){return l.setPosition(l.position()+no),(B||new Wu).__init(l.readInt32(l.position())+l.position(),l)}unit(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt16(this.bb_pos+l):Np.SECOND}timezone(l){const B=this.bb.__offset(this.bb_pos,6);return B?this.bb.__string(this.bb_pos+B,l):null}static startTimestamp(l){l.startObject(2)}static addUnit(l,B){l.addFieldInt16(0,B,Np.SECOND)}static addTimezone(l,B){l.addFieldOffset(1,B,0)}static endTimestamp(l){return l.endObject()}static createTimestamp(l,B,st){return Wu.startTimestamp(l),Wu.addUnit(l,B),Wu.addTimezone(l,st),Wu.endTimestamp(l)}}var Cm;(function(I){I[I.Sparse=0]="Sparse",I[I.Dense=1]="Dense"})(Cm||(Cm={}));class kl{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsUnion(l,B){return(B||new kl).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsUnion(l,B){return l.setPosition(l.position()+no),(B||new kl).__init(l.readInt32(l.position())+l.position(),l)}mode(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt16(this.bb_pos+l):Cm.Sparse}typeIds(l){const B=this.bb.__offset(this.bb_pos,6);return B?this.bb.readInt32(this.bb.__vector(this.bb_pos+B)+l*4):0}typeIdsLength(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.__vector_len(this.bb_pos+l):0}typeIdsArray(){const l=this.bb.__offset(this.bb_pos,6);return l?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+l),this.bb.__vector_len(this.bb_pos+l)):null}static startUnion(l){l.startObject(2)}static addMode(l,B){l.addFieldInt16(0,B,Cm.Sparse)}static addTypeIds(l,B){l.addFieldOffset(1,B,0)}static createTypeIdsVector(l,B){l.startVector(4,B.length,4);for(let st=B.length-1;st>=0;st--)l.addInt32(B[st]);return l.endVector()}static startTypeIdsVector(l,B){l.startVector(4,B,4)}static endUnion(l){return l.endObject()}static createUnion(l,B,st){return kl.startUnion(l),kl.addMode(l,B),kl.addTypeIds(l,st),kl.endUnion(l)}}class hd{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsUtf8(l,B){return(B||new hd).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsUtf8(l,B){return l.setPosition(l.position()+no),(B||new hd).__init(l.readInt32(l.position())+l.position(),l)}static startUtf8(l){l.startObject(0)}static endUtf8(l){return l.endObject()}static createUtf8(l){return hd.startUtf8(l),hd.endUtf8(l)}}var ko;(function(I){I[I.NONE=0]="NONE",I[I.Null=1]="Null",I[I.Int=2]="Int",I[I.FloatingPoint=3]="FloatingPoint",I[I.Binary=4]="Binary",I[I.Utf8=5]="Utf8",I[I.Bool=6]="Bool",I[I.Decimal=7]="Decimal",I[I.Date=8]="Date",I[I.Time=9]="Time",I[I.Timestamp=10]="Timestamp",I[I.Interval=11]="Interval",I[I.List=12]="List",I[I.Struct_=13]="Struct_",I[I.Union=14]="Union",I[I.FixedSizeBinary=15]="FixedSizeBinary",I[I.FixedSizeList=16]="FixedSizeList",I[I.Map=17]="Map",I[I.Duration=18]="Duration",I[I.LargeBinary=19]="LargeBinary",I[I.LargeUtf8=20]="LargeUtf8",I[I.LargeList=21]="LargeList"})(ko||(ko={}));let Nu=class _y{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsField(l,B){return(B||new _y).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsField(l,B){return l.setPosition(l.position()+no),(B||new _y).__init(l.readInt32(l.position())+l.position(),l)}name(l){const B=this.bb.__offset(this.bb_pos,4);return B?this.bb.__string(this.bb_pos+B,l):null}nullable(){const l=this.bb.__offset(this.bb_pos,6);return l?!!this.bb.readInt8(this.bb_pos+l):!1}typeType(){const l=this.bb.__offset(this.bb_pos,8);return l?this.bb.readUint8(this.bb_pos+l):ko.NONE}type(l){const B=this.bb.__offset(this.bb_pos,10);return B?this.bb.__union(l,this.bb_pos+B):null}dictionary(l){const B=this.bb.__offset(this.bb_pos,12);return B?(l||new qc).__init(this.bb.__indirect(this.bb_pos+B),this.bb):null}children(l,B){const st=this.bb.__offset(this.bb_pos,14);return st?(B||new _y).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+st)+l*4),this.bb):null}childrenLength(){const l=this.bb.__offset(this.bb_pos,14);return l?this.bb.__vector_len(this.bb_pos+l):0}customMetadata(l,B){const st=this.bb.__offset(this.bb_pos,16);return st?(B||new cs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+st)+l*4),this.bb):null}customMetadataLength(){const l=this.bb.__offset(this.bb_pos,16);return l?this.bb.__vector_len(this.bb_pos+l):0}static startField(l){l.startObject(7)}static addName(l,B){l.addFieldOffset(0,B,0)}static addNullable(l,B){l.addFieldInt8(1,+B,0)}static addTypeType(l,B){l.addFieldInt8(2,B,ko.NONE)}static addType(l,B){l.addFieldOffset(3,B,0)}static addDictionary(l,B){l.addFieldOffset(4,B,0)}static addChildren(l,B){l.addFieldOffset(5,B,0)}static createChildrenVector(l,B){l.startVector(4,B.length,4);for(let st=B.length-1;st>=0;st--)l.addOffset(B[st]);return l.endVector()}static startChildrenVector(l,B){l.startVector(4,B,4)}static addCustomMetadata(l,B){l.addFieldOffset(6,B,0)}static createCustomMetadataVector(l,B){l.startVector(4,B.length,4);for(let st=B.length-1;st>=0;st--)l.addOffset(B[st]);return l.endVector()}static startCustomMetadataVector(l,B){l.startVector(4,B,4)}static endField(l){return l.endObject()}},ic=class jc{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsSchema(l,B){return(B||new jc).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsSchema(l,B){return l.setPosition(l.position()+no),(B||new jc).__init(l.readInt32(l.position())+l.position(),l)}endianness(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt16(this.bb_pos+l):Bp.Little}fields(l,B){const st=this.bb.__offset(this.bb_pos,6);return st?(B||new Nu).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+st)+l*4),this.bb):null}fieldsLength(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.__vector_len(this.bb_pos+l):0}customMetadata(l,B){const st=this.bb.__offset(this.bb_pos,8);return st?(B||new cs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+st)+l*4),this.bb):null}customMetadataLength(){const l=this.bb.__offset(this.bb_pos,8);return l?this.bb.__vector_len(this.bb_pos+l):0}features(l){const B=this.bb.__offset(this.bb_pos,10);return B?this.bb.readInt64(this.bb.__vector(this.bb_pos+B)+l*8):this.bb.createLong(0,0)}featuresLength(){const l=this.bb.__offset(this.bb_pos,10);return l?this.bb.__vector_len(this.bb_pos+l):0}static startSchema(l){l.startObject(4)}static addEndianness(l,B){l.addFieldInt16(0,B,Bp.Little)}static addFields(l,B){l.addFieldOffset(1,B,0)}static createFieldsVector(l,B){l.startVector(4,B.length,4);for(let st=B.length-1;st>=0;st--)l.addOffset(B[st]);return l.endVector()}static startFieldsVector(l,B){l.startVector(4,B,4)}static addCustomMetadata(l,B){l.addFieldOffset(2,B,0)}static createCustomMetadataVector(l,B){l.startVector(4,B.length,4);for(let st=B.length-1;st>=0;st--)l.addOffset(B[st]);return l.endVector()}static startCustomMetadataVector(l,B){l.startVector(4,B,4)}static addFeatures(l,B){l.addFieldOffset(3,B,0)}static createFeaturesVector(l,B){l.startVector(8,B.length,8);for(let st=B.length-1;st>=0;st--)l.addInt64(B[st]);return l.endVector()}static startFeaturesVector(l,B){l.startVector(8,B,8)}static endSchema(l){return l.endObject()}static finishSchemaBuffer(l,B){l.finish(B)}static finishSizePrefixedSchemaBuffer(l,B){l.finish(B,void 0,!0)}static createSchema(l,B,st,Tt,Ft){return jc.startSchema(l),jc.addEndianness(l,B),jc.addFields(l,st),jc.addCustomMetadata(l,Tt),jc.addFeatures(l,Ft),jc.endSchema(l)}};class nu{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsFooter(l,B){return(B||new nu).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsFooter(l,B){return l.setPosition(l.position()+no),(B||new nu).__init(l.readInt32(l.position())+l.position(),l)}version(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt16(this.bb_pos+l):Op.V1}schema(l){const B=this.bb.__offset(this.bb_pos,6);return B?(l||new ic).__init(this.bb.__indirect(this.bb_pos+B),this.bb):null}dictionaries(l,B){const st=this.bb.__offset(this.bb_pos,8);return st?(B||new bb).__init(this.bb.__vector(this.bb_pos+st)+l*24,this.bb):null}dictionariesLength(){const l=this.bb.__offset(this.bb_pos,8);return l?this.bb.__vector_len(this.bb_pos+l):0}recordBatches(l,B){const st=this.bb.__offset(this.bb_pos,10);return st?(B||new bb).__init(this.bb.__vector(this.bb_pos+st)+l*24,this.bb):null}recordBatchesLength(){const l=this.bb.__offset(this.bb_pos,10);return l?this.bb.__vector_len(this.bb_pos+l):0}customMetadata(l,B){const st=this.bb.__offset(this.bb_pos,12);return st?(B||new cs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+st)+l*4),this.bb):null}customMetadataLength(){const l=this.bb.__offset(this.bb_pos,12);return l?this.bb.__vector_len(this.bb_pos+l):0}static startFooter(l){l.startObject(5)}static addVersion(l,B){l.addFieldInt16(0,B,Op.V1)}static addSchema(l,B){l.addFieldOffset(1,B,0)}static addDictionaries(l,B){l.addFieldOffset(2,B,0)}static startDictionariesVector(l,B){l.startVector(24,B,8)}static addRecordBatches(l,B){l.addFieldOffset(3,B,0)}static startRecordBatchesVector(l,B){l.startVector(24,B,8)}static addCustomMetadata(l,B){l.addFieldOffset(4,B,0)}static createCustomMetadataVector(l,B){l.startVector(4,B.length,4);for(let st=B.length-1;st>=0;st--)l.addOffset(B[st]);return l.endVector()}static startCustomMetadataVector(l,B){l.startVector(4,B,4)}static endFooter(l){return l.endObject()}static finishFooterBuffer(l,B){l.finish(B)}static finishSizePrefixedFooterBuffer(l,B){l.finish(B,void 0,!0)}}class Ya{constructor(l=[],B,st){this.fields=l||[],this.metadata=B||new Map,st||(st=Ab(l)),this.dictionaries=st}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(l=>l.name)}toString(){return`Schema<{ ${this.fields.map((l,B)=>`${B}: ${l}`).join(", ")} }>`}select(l){const B=new Set(l),st=this.fields.filter(Tt=>B.has(Tt.name));return new Ya(st,this.metadata)}selectAt(l){const B=l.map(st=>this.fields[st]).filter(Boolean);return new Ya(B,this.metadata)}assign(...l){const B=l[0]instanceof Ya?l[0]:Array.isArray(l[0])?new Ya(l[0]):new Ya(l),st=[...this.fields],Tt=yy(yy(new Map,this.metadata),B.metadata),Ft=B.fields.filter(G=>{const t=st.findIndex(y=>y.name===G.name);return~t?(st[t]=G.clone({metadata:yy(yy(new Map,st[t].metadata),G.metadata)}))&&!1:!0}),W=Ab(Ft,new Map);return new Ya([...st,...Ft],Tt,new Map([...this.dictionaries,...W]))}}Ya.prototype.fields=null;Ya.prototype.metadata=null;Ya.prototype.dictionaries=null;class yo{constructor(l,B,st=!1,Tt){this.name=l,this.type=B,this.nullable=st,this.metadata=Tt||new Map}static new(...l){let[B,st,Tt,Ft]=l;return l[0]&&typeof l[0]=="object"&&({name:B}=l[0],st===void 0&&(st=l[0].type),Tt===void 0&&(Tt=l[0].nullable),Ft===void 0&&(Ft=l[0].metadata)),new yo(`${B}`,st,Tt,Ft)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...l){let[B,st,Tt,Ft]=l;return!l[0]||typeof l[0]!="object"?[B=this.name,st=this.type,Tt=this.nullable,Ft=this.metadata]=l:{name:B=this.name,type:st=this.type,nullable:Tt=this.nullable,metadata:Ft=this.metadata}=l[0],yo.new(B,st,Tt,Ft)}}yo.prototype.type=null;yo.prototype.name=null;yo.prototype.nullable=null;yo.prototype.metadata=null;function yy(I,l){return new Map([...I||new Map,...l||new Map])}function Ab(I,l=new Map){for(let B=-1,st=I.length;++B<st;){const Ft=I[B].type;if($i.isDictionary(Ft)){if(!l.has(Ft.id))l.set(Ft.id,Ft.dictionary);else if(l.get(Ft.id)!==Ft.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}Ft.children&&Ft.children.length>0&&Ab(Ft.children,l)}return l}var _4=nh,EP=P6,CP=Fp;class fg{constructor(l,B=ou.V4,st,Tt){this.schema=l,this.version=B,st&&(this._recordBatches=st),Tt&&(this._dictionaryBatches=Tt)}static decode(l){l=new CP(Na(l));const B=nu.getRootAsFooter(l),st=Ya.decode(B.schema());return new LP(st,B)}static encode(l){const B=new EP,st=Ya.encode(B,l.schema);nu.startRecordBatchesVector(B,l.numRecordBatches);for(const W of[...l.recordBatches()].slice().reverse())xv.encode(B,W);const Tt=B.endVector();nu.startDictionariesVector(B,l.numDictionaries);for(const W of[...l.dictionaryBatches()].slice().reverse())xv.encode(B,W);const Ft=B.endVector();return nu.startFooter(B),nu.addSchema(B,st),nu.addVersion(B,ou.V4),nu.addRecordBatches(B,Tt),nu.addDictionaries(B,Ft),nu.finishFooterBuffer(B,nu.endFooter(B)),B.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let l,B=-1,st=this.numRecordBatches;++B<st;)(l=this.getRecordBatch(B))&&(yield l)}*dictionaryBatches(){for(let l,B=-1,st=this.numDictionaries;++B<st;)(l=this.getDictionaryBatch(B))&&(yield l)}getRecordBatch(l){return l>=0&&l<this.numRecordBatches&&this._recordBatches[l]||null}getDictionaryBatch(l){return l>=0&&l<this.numDictionaries&&this._dictionaryBatches[l]||null}}class LP extends fg{constructor(l,B){super(l,B.version()),this._footer=B}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(l){if(l>=0&&l<this.numRecordBatches){const B=this._footer.recordBatches(l);if(B)return xv.decode(B)}return null}getDictionaryBatch(l){if(l>=0&&l<this.numDictionaries){const B=this._footer.dictionaries(l);if(B)return xv.decode(B)}return null}}class xv{constructor(l,B,st){this.metaDataLength=l,this.offset=typeof st=="number"?st:st.low,this.bodyLength=typeof B=="number"?B:B.low}static decode(l){return new xv(l.metaDataLength(),l.bodyLength(),l.offset())}static encode(l,B){const{metaDataLength:st}=B,Tt=new _4(B.offset,0),Ft=new _4(B.bodyLength,0);return bb.createBlock(l,Tt,st,Ft)}}const Fo=Object.freeze({done:!0,value:void 0});class k4{constructor(l){this._json=l}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class W3{tee(){return this._getDOMStream().tee()}pipe(l,B){return this._getNodeStream().pipe(l,B)}pipeTo(l,B){return this._getDOMStream().pipeTo(l,B)}pipeThrough(l,B){return this._getDOMStream().pipeThrough(l,B)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class PP extends W3{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(l=>this._closedPromiseResolve=l)}get closed(){return this._closedPromise}cancel(l){return Ki(this,void 0,void 0,function*(){yield this.return(l)})}write(l){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(l):this.resolvers.shift().resolve({done:!1,value:l}))}abort(l){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:l}:this.resolvers.shift().reject({done:!0,value:l}))}close(){if(this._closedPromiseResolve){const{resolvers:l}=this;for(;l.length>0;)l.shift().resolve(Fo);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(l){return Uu.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,l)}toNodeStream(l){return Uu.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,l)}throw(l){return Ki(this,void 0,void 0,function*(){return yield this.abort(l),Fo})}return(l){return Ki(this,void 0,void 0,function*(){return yield this.close(),Fo})}read(l){return Ki(this,void 0,void 0,function*(){return(yield this.next(l,"read")).value})}peek(l){return Ki(this,void 0,void 0,function*(){return(yield this.next(l,"peek")).value})}next(...l){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((B,st)=>{this.resolvers.push({resolve:B,reject:st})}):Promise.resolve(Fo)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class ky extends PP{write(l){if((l=Na(l)).byteLength>0)return super.write(l)}toString(l=!1){return l?pb(this.toUint8Array(!0)):this.toUint8Array(!1).then(pb)}toUint8Array(l=!1){return l?mc(this._values)[0]:Ki(this,void 0,void 0,function*(){var B,st;const Tt=[];let Ft=0;try{for(var W=pd(this),G;G=yield W.next(),!G.done;){const t=G.value;Tt.push(t),Ft+=t.byteLength}}catch(t){B={error:t}}finally{try{G&&!G.done&&(st=W.return)&&(yield st.call(W))}finally{if(B)throw B.error}}return mc(Tt,Ft)[0]})}}class Lm{constructor(l){l&&(this.source=new IP(Uu.fromIterable(l)))}[Symbol.iterator](){return this}next(l){return this.source.next(l)}throw(l){return this.source.throw(l)}return(l){return this.source.return(l)}peek(l){return this.source.peek(l)}read(l){return this.source.read(l)}}class Up{constructor(l){l instanceof Up?this.source=l.source:l instanceof ky?this.source=new td(Uu.fromAsyncIterable(l)):hA(l)?this.source=new td(Uu.fromNodeStream(l)):I3(l)?this.source=new td(Uu.fromDOMStream(l)):cA(l)?this.source=new td(Uu.fromDOMStream(l.body)):xg(l)?this.source=new td(Uu.fromIterable(l)):pv(l)?this.source=new td(Uu.fromAsyncIterable(l)):Yp(l)&&(this.source=new td(Uu.fromAsyncIterable(l)))}[Symbol.asyncIterator](){return this}next(l){return this.source.next(l)}throw(l){return this.source.throw(l)}return(l){return this.source.return(l)}get closed(){return this.source.closed}cancel(l){return this.source.cancel(l)}peek(l){return this.source.peek(l)}read(l){return this.source.read(l)}}class IP{constructor(l){this.source=l}cancel(l){this.return(l)}peek(l){return this.next(l,"peek").value}read(l){return this.next(l,"read").value}next(l,B="read"){return this.source.next({cmd:B,size:l})}throw(l){return Object.create(this.source.throw&&this.source.throw(l)||Fo)}return(l){return Object.create(this.source.return&&this.source.return(l)||Fo)}}class td{constructor(l){this.source=l,this._closedPromise=new Promise(B=>this._closedPromiseResolve=B)}cancel(l){return Ki(this,void 0,void 0,function*(){yield this.return(l)})}get closed(){return this._closedPromise}read(l){return Ki(this,void 0,void 0,function*(){return(yield this.next(l,"read")).value})}peek(l){return Ki(this,void 0,void 0,function*(){return(yield this.next(l,"peek")).value})}next(l,B="read"){return Ki(this,void 0,void 0,function*(){return yield this.source.next({cmd:B,size:l})})}throw(l){return Ki(this,void 0,void 0,function*(){const B=this.source.throw&&(yield this.source.throw(l))||Fo;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(B)})}return(l){return Ki(this,void 0,void 0,function*(){const B=this.source.return&&(yield this.source.return(l))||Fo;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(B)})}}class z4 extends Lm{constructor(l,B){super(),this.position=0,this.buffer=Na(l),this.size=typeof B>"u"?this.buffer.byteLength:B}readInt32(l){const{buffer:B,byteOffset:st}=this.readAt(l,4);return new DataView(B,st).getInt32(0,!0)}seek(l){return this.position=Math.min(l,this.size),l<this.size}read(l){const{buffer:B,size:st,position:Tt}=this;return B&&Tt<st?(typeof l!="number"&&(l=Number.POSITIVE_INFINITY),this.position=Math.min(st,Tt+Math.min(st-Tt,l)),B.subarray(Tt,this.position)):null}readAt(l,B){const st=this.buffer,Tt=Math.min(this.size,l+B);return st?st.subarray(l,Tt):new Uint8Array(B)}close(){this.buffer&&(this.buffer=null)}throw(l){return this.close(),{done:!0,value:l}}return(l){return this.close(),{done:!0,value:l}}}class Pm extends Up{constructor(l,B){super(),this.position=0,this._handle=l,typeof B=="number"?this.size=B:this._pending=Ki(this,void 0,void 0,function*(){this.size=(yield l.stat()).size,delete this._pending})}readInt32(l){return Ki(this,void 0,void 0,function*(){const{buffer:B,byteOffset:st}=yield this.readAt(l,4);return new DataView(B,st).getInt32(0,!0)})}seek(l){return Ki(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(l,this.size),l<this.size})}read(l){return Ki(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:B,size:st,position:Tt}=this;if(B&&Tt<st){typeof l!="number"&&(l=Number.POSITIVE_INFINITY);let Ft=Tt,W=0,G=0;const t=Math.min(st,Ft+Math.min(st-Ft,l)),y=new Uint8Array(Math.max(0,(this.position=t)-Ft));for(;(Ft+=G)<t&&(W+=G)<y.byteLength;)({bytesRead:G}=yield B.read(y,W,y.byteLength-W,Ft));return y}return null})}readAt(l,B){return Ki(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:st,size:Tt}=this;if(st&&l+B<Tt){const Ft=Math.min(Tt,l+B),W=new Uint8Array(Ft-l);return(yield st.read(W,0,B,l)).buffer}return new Uint8Array(B)})}close(){return Ki(this,void 0,void 0,function*(){const l=this._handle;this._handle=null,l&&(yield l.close())})}throw(l){return Ki(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:l}})}return(l){return Ki(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:l}})}}const DP=65536;function gp(I){return I<0&&(I=4294967295+I+1),`0x${I.toString(16)}`}const Vp=8,Y3=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class D6{constructor(l){this.buffer=l}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(l){const B=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),st=new Uint32Array([l.buffer[1]>>>16,l.buffer[1]&65535,l.buffer[0]>>>16,l.buffer[0]&65535]);let Tt=B[3]*st[3];this.buffer[0]=Tt&65535;let Ft=Tt>>>16;return Tt=B[2]*st[3],Ft+=Tt,Tt=B[3]*st[2]>>>0,Ft+=Tt,this.buffer[0]+=Ft<<16,this.buffer[1]=Ft>>>0<Tt?DP:0,this.buffer[1]+=Ft>>>16,this.buffer[1]+=B[1]*st[3]+B[2]*st[2]+B[3]*st[1],this.buffer[1]+=B[0]*st[3]+B[1]*st[2]+B[2]*st[1]+B[3]*st[0]<<16,this}_plus(l){const B=this.buffer[0]+l.buffer[0]>>>0;this.buffer[1]+=l.buffer[1],B<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=B}lessThan(l){return this.buffer[1]<l.buffer[1]||this.buffer[1]===l.buffer[1]&&this.buffer[0]<l.buffer[0]}equals(l){return this.buffer[1]===l.buffer[1]&&this.buffer[0]==l.buffer[0]}greaterThan(l){return l.lessThan(this)}hex(){return`${gp(this.buffer[1])} ${gp(this.buffer[0])}`}}class Za extends D6{times(l){return this._times(l),this}plus(l){return this._plus(l),this}static from(l,B=new Uint32Array(2)){return Za.fromString(typeof l=="string"?l:l.toString(),B)}static fromNumber(l,B=new Uint32Array(2)){return Za.fromString(l.toString(),B)}static fromString(l,B=new Uint32Array(2)){const st=l.length,Tt=new Za(B);for(let Ft=0;Ft<st;){const W=Vp<st-Ft?Vp:st-Ft,G=new Za(new Uint32Array([Number.parseInt(l.slice(Ft,Ft+W),10),0])),t=new Za(new Uint32Array([Y3[W],0]));Tt.times(t),Tt.plus(G),Ft+=W}return Tt}static convertArray(l){const B=new Uint32Array(l.length*2);for(let st=-1,Tt=l.length;++st<Tt;)Za.from(l[st],new Uint32Array(B.buffer,B.byteOffset+2*st*4,2));return B}static multiply(l,B){return new Za(new Uint32Array(l.buffer)).times(B)}static add(l,B){return new Za(new Uint32Array(l.buffer)).plus(B)}}class Dl extends D6{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(l){return this._times(l),this}plus(l){return this._plus(l),this}lessThan(l){const B=this.buffer[1]<<0,st=l.buffer[1]<<0;return B<st||B===st&&this.buffer[0]<l.buffer[0]}static from(l,B=new Uint32Array(2)){return Dl.fromString(typeof l=="string"?l:l.toString(),B)}static fromNumber(l,B=new Uint32Array(2)){return Dl.fromString(l.toString(),B)}static fromString(l,B=new Uint32Array(2)){const st=l.startsWith("-"),Tt=l.length,Ft=new Dl(B);for(let W=st?1:0;W<Tt;){const G=Vp<Tt-W?Vp:Tt-W,t=new Dl(new Uint32Array([Number.parseInt(l.slice(W,W+G),10),0])),y=new Dl(new Uint32Array([Y3[G],0]));Ft.times(y),Ft.plus(t),W+=G}return st?Ft.negate():Ft}static convertArray(l){const B=new Uint32Array(l.length*2);for(let st=-1,Tt=l.length;++st<Tt;)Dl.from(l[st],new Uint32Array(B.buffer,B.byteOffset+2*st*4,2));return B}static multiply(l,B){return new Dl(new Uint32Array(l.buffer)).times(B)}static add(l,B){return new Dl(new Uint32Array(l.buffer)).plus(B)}}class ac{constructor(l){this.buffer=l}high(){return new Dl(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Dl(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(l){const B=new Za(new Uint32Array([this.buffer[3],0])),st=new Za(new Uint32Array([this.buffer[2],0])),Tt=new Za(new Uint32Array([this.buffer[1],0])),Ft=new Za(new Uint32Array([this.buffer[0],0])),W=new Za(new Uint32Array([l.buffer[3],0])),G=new Za(new Uint32Array([l.buffer[2],0])),t=new Za(new Uint32Array([l.buffer[1],0])),y=new Za(new Uint32Array([l.buffer[0],0]));let D=Za.multiply(Ft,y);this.buffer[0]=D.low();const s=new Za(new Uint32Array([D.high(),0]));return D=Za.multiply(Tt,y),s.plus(D),D=Za.multiply(Ft,t),s.plus(D),this.buffer[1]=s.low(),this.buffer[3]=s.lessThan(D)?1:0,this.buffer[2]=s.high(),new Za(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Za.multiply(st,y)).plus(Za.multiply(Tt,t)).plus(Za.multiply(Ft,G)),this.buffer[3]+=Za.multiply(B,y).plus(Za.multiply(st,t)).plus(Za.multiply(Tt,G)).plus(Za.multiply(Ft,W)).low(),this}plus(l){const B=new Uint32Array(4);return B[3]=this.buffer[3]+l.buffer[3]>>>0,B[2]=this.buffer[2]+l.buffer[2]>>>0,B[1]=this.buffer[1]+l.buffer[1]>>>0,B[0]=this.buffer[0]+l.buffer[0]>>>0,B[0]<this.buffer[0]>>>0&&++B[1],B[1]<this.buffer[1]>>>0&&++B[2],B[2]<this.buffer[2]>>>0&&++B[3],this.buffer[3]=B[3],this.buffer[2]=B[2],this.buffer[1]=B[1],this.buffer[0]=B[0],this}hex(){return`${gp(this.buffer[3])} ${gp(this.buffer[2])} ${gp(this.buffer[1])} ${gp(this.buffer[0])}`}static multiply(l,B){return new ac(new Uint32Array(l.buffer)).times(B)}static add(l,B){return new ac(new Uint32Array(l.buffer)).plus(B)}static from(l,B=new Uint32Array(4)){return ac.fromString(typeof l=="string"?l:l.toString(),B)}static fromNumber(l,B=new Uint32Array(4)){return ac.fromString(l.toString(),B)}static fromString(l,B=new Uint32Array(4)){const st=l.startsWith("-"),Tt=l.length,Ft=new ac(B);for(let W=st?1:0;W<Tt;){const G=Vp<Tt-W?Vp:Tt-W,t=new ac(new Uint32Array([Number.parseInt(l.slice(W,W+G),10),0,0,0])),y=new ac(new Uint32Array([Y3[G],0,0,0]));Ft.times(y),Ft.plus(t),W+=G}return st?Ft.negate():Ft}static convertArray(l){const B=new Uint32Array(l.length*4);for(let st=-1,Tt=l.length;++st<Tt;)ac.from(l[st],new Uint32Array(B.buffer,B.byteOffset+4*4*st,4));return B}}class R6 extends La{constructor(l,B,st,Tt){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=l,this.nodes=B,this.buffers=st,this.dictionaries=Tt}visit(l){return super.visit(l instanceof yo?l.type:l)}visitNull(l,{length:B}=this.nextFieldNode()){return Ca({type:l,length:B})}visitBool(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),data:this.readData(l)})}visitInt(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),data:this.readData(l)})}visitFloat(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),data:this.readData(l)})}visitUtf8(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),valueOffsets:this.readOffsets(l),data:this.readData(l)})}visitBinary(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),valueOffsets:this.readOffsets(l),data:this.readData(l)})}visitFixedSizeBinary(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),data:this.readData(l)})}visitDate(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),data:this.readData(l)})}visitTimestamp(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),data:this.readData(l)})}visitTime(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),data:this.readData(l)})}visitDecimal(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),data:this.readData(l)})}visitList(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),valueOffsets:this.readOffsets(l),child:this.visit(l.children[0])})}visitStruct(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),children:this.visitMany(l.children)})}visitUnion(l){return l.mode===fu.Sparse?this.visitSparseUnion(l):this.visitDenseUnion(l)}visitDenseUnion(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),typeIds:this.readTypeIds(l),valueOffsets:this.readOffsets(l),children:this.visitMany(l.children)})}visitSparseUnion(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),typeIds:this.readTypeIds(l),children:this.visitMany(l.children)})}visitDictionary(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),data:this.readData(l.indices),dictionary:this.readDictionary(l)})}visitInterval(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),data:this.readData(l)})}visitFixedSizeList(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),child:this.visit(l.children[0])})}visitMap(l,{length:B,nullCount:st}=this.nextFieldNode()){return Ca({type:l,length:B,nullCount:st,nullBitmap:this.readNullBitmap(l,st),valueOffsets:this.readOffsets(l),child:this.visit(l.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(l,B,st=this.nextBufferRange()){return B>0&&this.readData(l,st)||new Uint8Array(0)}readOffsets(l,B){return this.readData(l,B)}readTypeIds(l,B){return this.readData(l,B)}readData(l,{length:B,offset:st}=this.nextBufferRange()){return this.bytes.subarray(st,st+B)}readDictionary(l){return this.dictionaries.get(l.id)}}class RP extends R6{constructor(l,B,st,Tt){super(new Uint8Array(0),B,st,Tt),this.sources=l}readNullBitmap(l,B,{offset:st}=this.nextBufferRange()){return B<=0?new Uint8Array(0):bm(this.sources[st])}readOffsets(l,{offset:B}=this.nextBufferRange()){return ro(Uint8Array,ro(Int32Array,this.sources[B]))}readTypeIds(l,{offset:B}=this.nextBufferRange()){return ro(Uint8Array,ro(l.ArrayType,this.sources[B]))}readData(l,{offset:B}=this.nextBufferRange()){const{sources:st}=this;return $i.isTimestamp(l)||($i.isInt(l)||$i.isTime(l))&&l.bitWidth===64||$i.isDate(l)&&l.unit===uh.MILLISECOND?ro(Uint8Array,Dl.convertArray(st[B])):$i.isDecimal(l)?ro(Uint8Array,ac.convertArray(st[B])):$i.isBinary(l)||$i.isFixedSizeBinary(l)?_P(st[B]):$i.isBool(l)?bm(st[B]):$i.isUtf8(l)?P3(st[B].join("")):ro(Uint8Array,ro(l.ArrayType,st[B].map(Tt=>+Tt)))}}function _P(I){const l=I.join(""),B=new Uint8Array(l.length/2);for(let st=0;st<l.length;st+=2)B[st>>1]=Number.parseInt(l.slice(st,st+2),16);return B}class ra extends La{compareSchemas(l,B){return l===B||B instanceof l.constructor&&this.compareManyFields(l.fields,B.fields)}compareManyFields(l,B){return l===B||Array.isArray(l)&&Array.isArray(B)&&l.length===B.length&&l.every((st,Tt)=>this.compareFields(st,B[Tt]))}compareFields(l,B){return l===B||B instanceof l.constructor&&l.name===B.name&&l.nullable===B.nullable&&this.visit(l.type,B.type)}}function Gl(I,l){return l instanceof I.constructor}function bg(I,l){return I===l||Gl(I,l)}function hh(I,l){return I===l||Gl(I,l)&&I.bitWidth===l.bitWidth&&I.isSigned===l.isSigned}function c1(I,l){return I===l||Gl(I,l)&&I.precision===l.precision}function kP(I,l){return I===l||Gl(I,l)&&I.byteWidth===l.byteWidth}function j3(I,l){return I===l||Gl(I,l)&&I.unit===l.unit}function wg(I,l){return I===l||Gl(I,l)&&I.unit===l.unit&&I.timezone===l.timezone}function Tg(I,l){return I===l||Gl(I,l)&&I.unit===l.unit&&I.bitWidth===l.bitWidth}function zP(I,l){return I===l||Gl(I,l)&&I.children.length===l.children.length&&bv.compareManyFields(I.children,l.children)}function FP(I,l){return I===l||Gl(I,l)&&I.children.length===l.children.length&&bv.compareManyFields(I.children,l.children)}function X3(I,l){return I===l||Gl(I,l)&&I.mode===l.mode&&I.typeIds.every((B,st)=>B===l.typeIds[st])&&bv.compareManyFields(I.children,l.children)}function OP(I,l){return I===l||Gl(I,l)&&I.id===l.id&&I.isOrdered===l.isOrdered&&bv.visit(I.indices,l.indices)&&bv.visit(I.dictionary,l.dictionary)}function Z3(I,l){return I===l||Gl(I,l)&&I.unit===l.unit}function BP(I,l){return I===l||Gl(I,l)&&I.listSize===l.listSize&&I.children.length===l.children.length&&bv.compareManyFields(I.children,l.children)}function NP(I,l){return I===l||Gl(I,l)&&I.keysSorted===l.keysSorted&&I.children.length===l.children.length&&bv.compareManyFields(I.children,l.children)}ra.prototype.visitNull=bg;ra.prototype.visitBool=bg;ra.prototype.visitInt=hh;ra.prototype.visitInt8=hh;ra.prototype.visitInt16=hh;ra.prototype.visitInt32=hh;ra.prototype.visitInt64=hh;ra.prototype.visitUint8=hh;ra.prototype.visitUint16=hh;ra.prototype.visitUint32=hh;ra.prototype.visitUint64=hh;ra.prototype.visitFloat=c1;ra.prototype.visitFloat16=c1;ra.prototype.visitFloat32=c1;ra.prototype.visitFloat64=c1;ra.prototype.visitUtf8=bg;ra.prototype.visitBinary=bg;ra.prototype.visitFixedSizeBinary=kP;ra.prototype.visitDate=j3;ra.prototype.visitDateDay=j3;ra.prototype.visitDateMillisecond=j3;ra.prototype.visitTimestamp=wg;ra.prototype.visitTimestampSecond=wg;ra.prototype.visitTimestampMillisecond=wg;ra.prototype.visitTimestampMicrosecond=wg;ra.prototype.visitTimestampNanosecond=wg;ra.prototype.visitTime=Tg;ra.prototype.visitTimeSecond=Tg;ra.prototype.visitTimeMillisecond=Tg;ra.prototype.visitTimeMicrosecond=Tg;ra.prototype.visitTimeNanosecond=Tg;ra.prototype.visitDecimal=bg;ra.prototype.visitList=zP;ra.prototype.visitStruct=FP;ra.prototype.visitUnion=X3;ra.prototype.visitDenseUnion=X3;ra.prototype.visitSparseUnion=X3;ra.prototype.visitDictionary=OP;ra.prototype.visitInterval=Z3;ra.prototype.visitIntervalDayTime=Z3;ra.prototype.visitIntervalYearMonth=Z3;ra.prototype.visitFixedSizeList=BP;ra.prototype.visitMap=NP;const bv=new ra;function Sb(I,l){return bv.compareSchemas(I,l)}function xx(I,l){return UP(I,l.map(B=>B.data.concat()))}function UP(I,l){const B=[...I.fields],st=[],Tt={numBatches:l.reduce((s,P)=>Math.max(s,P.length),0)};let Ft=0,W=0,G=-1;const t=l.length;let y,D=[];for(;Tt.numBatches-- >0;){for(W=Number.POSITIVE_INFINITY,G=-1;++G<t;)D[G]=y=l[G].shift(),W=Math.min(W,y?y.length:W);Number.isFinite(W)&&(D=VP(B,W,D,l,Tt),W>0&&(st[Ft++]=Ca({type:new cl(B),length:W,nullCount:0,children:D.slice()})))}return[I=I.assign(B),st.map(s=>new zl(I,s))]}function VP(I,l,B,st,Tt){var Ft;const W=(l+63&-64)>>3;for(let G=-1,t=st.length;++G<t;){const y=B[G],D=y==null?void 0:y.length;if(D>=l)D===l?B[G]=y:(B[G]=y.slice(0,l),Tt.numBatches=Math.max(Tt.numBatches,st[G].unshift(y.slice(l,D-l))));else{const s=I[G];I[G]=s.clone({nullable:!0}),B[G]=(Ft=y==null?void 0:y._changeLengthAndBackfillNullBitmap(l))!==null&&Ft!==void 0?Ft:Ca({type:s.type,length:l,nullCount:l,nullBitmap:new Uint8Array(W)})}}return B}var _6;class fl{constructor(...l){var B,st;if(l.length===0)return this.batches=[],this.schema=new Ya([]),this._offsets=[0],this;let Tt,Ft;l[0]instanceof Ya&&(Tt=l.shift()),l[l.length-1]instanceof Uint32Array&&(Ft=l.pop());const W=t=>{if(t){if(t instanceof zl)return[t];if(t instanceof fl)return t.batches;if(t instanceof so){if(t.type instanceof cl)return[new zl(new Ya(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap(y=>W(y));if(typeof t[Symbol.iterator]=="function")return[...t].flatMap(y=>W(y));if(typeof t=="object"){const y=Object.keys(t),D=y.map(M=>new Wa([t[M]])),s=new Ya(y.map((M,d)=>new yo(String(M),D[d].type))),[,P]=xx(s,D);return P.length===0?[new zl(t)]:P}}}return[]},G=l.flatMap(t=>W(t));if(Tt=(st=Tt??((B=G[0])===null||B===void 0?void 0:B.schema))!==null&&st!==void 0?st:new Ya([]),!(Tt instanceof Ya))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const t of G){if(!(t instanceof zl))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Sb(Tt,t.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=Tt,this.batches=G,this._offsets=Ft??m6(this.data)}get data(){return this.batches.map(({data:l})=>l)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((l,B)=>l+B.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=y6(this.data)),this._nullCount}isValid(l){return!1}get(l){return null}set(l,B){}indexOf(l,B){return-1}getByteLength(l){return 0}[Symbol.iterator](){return this.batches.length>0?G3.visit(new Wa(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...l){const B=this.schema,st=this.data.concat(l.flatMap(({data:Tt})=>Tt));return new fl(B,st.map(Tt=>new zl(B,Tt)))}slice(l,B){const st=this.schema;[l,B]=p6({length:this.numRows},l,B);const Tt=x6(this.data,this._offsets,l,B);return new fl(st,Tt.map(Ft=>new zl(st,Ft)))}getChild(l){return this.getChildAt(this.schema.fields.findIndex(B=>B.name===l))}getChildAt(l){if(l>-1&&l<this.schema.fields.length){const B=this.data.map(st=>st.children[l]);if(B.length===0){const{type:st}=this.schema.fields[l],Tt=Ca({type:st,length:0,nullCount:0});B.push(Tt._changeLengthAndBackfillNullBitmap(this.numRows))}return new Wa(B)}return null}setChild(l,B){var st;return this.setChildAt((st=this.schema.fields)===null||st===void 0?void 0:st.findIndex(Tt=>Tt.name===l),B)}setChildAt(l,B){let st=this.schema,Tt=[...this.batches];if(l>-1&&l<this.numCols){B||(B=new Wa([Ca({type:new yv,length:this.numRows})]));const Ft=st.fields.slice(),W=Ft[l].clone({type:B.type}),G=this.schema.fields.map((t,y)=>this.getChildAt(y));[Ft[l],G[l]]=[W,B],[st,Tt]=xx(st,G)}return new fl(st,Tt)}select(l){const B=this.schema.fields.reduce((st,Tt,Ft)=>st.set(Tt.name,Ft),new Map);return this.selectAt(l.map(st=>B.get(st)).filter(st=>st>-1))}selectAt(l){const B=this.schema.selectAt(l),st=this.batches.map(Tt=>Tt.selectAt(l));return new fl(B,st)}assign(l){const B=this.schema.fields,[st,Tt]=l.schema.fields.reduce((G,t,y)=>{const[D,s]=G,P=B.findIndex(M=>M.name===t.name);return~P?s[P]=y:D.push(y),G},[[],[]]),Ft=this.schema.assign(l.schema),W=[...B.map((G,t)=>[t,Tt[t]]).map(([G,t])=>t===void 0?this.getChildAt(G):l.getChildAt(t)),...st.map(G=>l.getChildAt(G))].filter(Boolean);return new fl(...xx(Ft,W))}}_6=Symbol.toStringTag;fl[_6]=(I=>(I.schema=null,I.batches=[],I._offsets=new Uint32Array([0]),I._nullCount=-1,I[Symbol.isConcatSpreadable]=!0,I.isValid=Cp(H3),I.get=Cp(Hl.getVisitFn(Ln.Struct)),I.set=b6(Ku.getVisitFn(Ln.Struct)),I.indexOf=w6(wm.getVisitFn(Ln.Struct)),I.getByteLength=Cp(xc.getVisitFn(Ln.Struct)),"Table"))(fl.prototype);var k6;let zl=class L0{constructor(...l){switch(l.length){case 2:{if([this.schema]=l,!(this.schema instanceof Ya))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ca({nullCount:0,type:new cl(this.schema.fields),children:this.schema.fields.map(B=>Ca({type:B.type,nullCount:0}))})]=l,!(this.data instanceof so))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=F4(this.schema,this.data.children);break}case 1:{const[B]=l,{fields:st,children:Tt,length:Ft}=Object.keys(B).reduce((t,y,D)=>(t.children[D]=B[y],t.length=Math.max(t.length,B[y].length),t.fields[D]=yo.new({name:y,type:B[y].type,nullable:!0}),t),{length:0,fields:new Array,children:new Array}),W=new Ya(st),G=Ca({type:new cl(st),length:Ft,children:Tt,nullCount:0});[this.schema,this.data]=F4(W,G.children,Ft);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=z6(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(l){return this.data.getValid(l)}get(l){return Hl.visit(this.data,l)}set(l,B){return Ku.visit(this.data,l,B)}indexOf(l,B){return wm.visit(this.data,l,B)}getByteLength(l){return xc.visit(this.data,l)}[Symbol.iterator](){return G3.visit(new Wa([this.data]))}toArray(){return[...this]}concat(...l){return new fl(this.schema,[this,...l])}slice(l,B){const[st]=new Wa([this.data]).slice(l,B).data;return new L0(this.schema,st)}getChild(l){var B;return this.getChildAt((B=this.schema.fields)===null||B===void 0?void 0:B.findIndex(st=>st.name===l))}getChildAt(l){return l>-1&&l<this.schema.fields.length?new Wa([this.data.children[l]]):null}setChild(l,B){var st;return this.setChildAt((st=this.schema.fields)===null||st===void 0?void 0:st.findIndex(Tt=>Tt.name===l),B)}setChildAt(l,B){let st=this.schema,Tt=this.data;if(l>-1&&l<this.numCols){B||(B=new Wa([Ca({type:new yv,length:this.numRows})]));const Ft=st.fields.slice(),W=Tt.children.slice(),G=Ft[l].clone({type:B.type});[Ft[l],W[l]]=[G,B.data[0]],st=new Ya(Ft,new Map(this.schema.metadata)),Tt=Ca({type:new cl(Ft),children:W})}return new L0(st,Tt)}select(l){const B=this.schema.select(l),st=new cl(B.fields),Tt=[];for(const Ft of l){const W=this.schema.fields.findIndex(G=>G.name===Ft);~W&&(Tt[W]=this.data.children[W])}return new L0(B,Ca({type:st,length:this.numRows,children:Tt}))}selectAt(l){const B=this.schema.selectAt(l),st=l.map(Ft=>this.data.children[Ft]).filter(Boolean),Tt=Ca({type:new cl(B.fields),length:this.numRows,children:st});return new L0(B,Tt)}};k6=Symbol.toStringTag;zl[k6]=(I=>(I._nullCount=-1,I[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(zl.prototype);function F4(I,l,B=l.reduce((st,Tt)=>Math.max(st,Tt.length),0)){var st;const Tt=[...I.fields],Ft=[...l],W=(B+63&-64)>>3;for(const[G,t]of I.fields.entries()){const y=l[G];(!y||y.length!==B)&&(Tt[G]=t.clone({nullable:!0}),Ft[G]=(st=y==null?void 0:y._changeLengthAndBackfillNullBitmap(B))!==null&&st!==void 0?st:Ca({type:t.type,length:B,nullCount:B,nullBitmap:new Uint8Array(W)}))}return[I.assign(Tt),Ca({type:new cl(Tt),length:B,children:Ft})]}function z6(I,l,B=new Map){for(let st=-1,Tt=I.length;++st<Tt;){const W=I[st].type,G=l[st];if($i.isDictionary(W)){if(!B.has(W.id))G.dictionary&&B.set(W.id,G.dictionary);else if(B.get(W.id)!==G.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}W.children&&W.children.length>0&&z6(W.children,G.children,B)}return B}class K3 extends zl{constructor(l){const B=l.fields.map(Tt=>Ca({type:Tt.type})),st=Ca({type:new cl(l.fields),nullCount:0,children:B});super(l,st)}}var Im;(function(I){I[I.BUFFER=0]="BUFFER"})(Im||(Im={}));var Dm;(function(I){I[I.LZ4_FRAME=0]="LZ4_FRAME",I[I.ZSTD=1]="ZSTD"})(Dm||(Dm={}));class tv{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsBodyCompression(l,B){return(B||new tv).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsBodyCompression(l,B){return l.setPosition(l.position()+no),(B||new tv).__init(l.readInt32(l.position())+l.position(),l)}codec(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt8(this.bb_pos+l):Dm.LZ4_FRAME}method(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.readInt8(this.bb_pos+l):Im.BUFFER}static startBodyCompression(l){l.startObject(2)}static addCodec(l,B){l.addFieldInt8(0,B,Dm.LZ4_FRAME)}static addMethod(l,B){l.addFieldInt8(1,B,Im.BUFFER)}static endBodyCompression(l){return l.endObject()}static createBodyCompression(l,B,st){return tv.startBodyCompression(l),tv.addCodec(l,B),tv.addMethod(l,st),tv.endBodyCompression(l)}}let F6=class{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(l,B,st){return l.prep(8,16),l.writeInt64(st),l.writeInt64(B),l.offset()}},O6=class{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(l,B,st){return l.prep(8,16),l.writeInt64(st),l.writeInt64(B),l.offset()}},Jc=class Mb{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsRecordBatch(l,B){return(B||new Mb).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsRecordBatch(l,B){return l.setPosition(l.position()+no),(B||new Mb).__init(l.readInt32(l.position())+l.position(),l)}length(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt64(this.bb_pos+l):this.bb.createLong(0,0)}nodes(l,B){const st=this.bb.__offset(this.bb_pos,6);return st?(B||new O6).__init(this.bb.__vector(this.bb_pos+st)+l*16,this.bb):null}nodesLength(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.__vector_len(this.bb_pos+l):0}buffers(l,B){const st=this.bb.__offset(this.bb_pos,8);return st?(B||new F6).__init(this.bb.__vector(this.bb_pos+st)+l*16,this.bb):null}buffersLength(){const l=this.bb.__offset(this.bb_pos,8);return l?this.bb.__vector_len(this.bb_pos+l):0}compression(l){const B=this.bb.__offset(this.bb_pos,10);return B?(l||new tv).__init(this.bb.__indirect(this.bb_pos+B),this.bb):null}static startRecordBatch(l){l.startObject(4)}static addLength(l,B){l.addFieldInt64(0,B,l.createLong(0,0))}static addNodes(l,B){l.addFieldOffset(1,B,0)}static startNodesVector(l,B){l.startVector(16,B,8)}static addBuffers(l,B){l.addFieldOffset(2,B,0)}static startBuffersVector(l,B){l.startVector(16,B,8)}static addCompression(l,B){l.addFieldOffset(3,B,0)}static endRecordBatch(l){return l.endObject()}},np=class Eb{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsDictionaryBatch(l,B){return(B||new Eb).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsDictionaryBatch(l,B){return l.setPosition(l.position()+no),(B||new Eb).__init(l.readInt32(l.position())+l.position(),l)}id(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt64(this.bb_pos+l):this.bb.createLong(0,0)}data(l){const B=this.bb.__offset(this.bb_pos,6);return B?(l||new Jc).__init(this.bb.__indirect(this.bb_pos+B),this.bb):null}isDelta(){const l=this.bb.__offset(this.bb_pos,8);return l?!!this.bb.readInt8(this.bb_pos+l):!1}static startDictionaryBatch(l){l.startObject(3)}static addId(l,B){l.addFieldInt64(0,B,l.createLong(0,0))}static addData(l,B){l.addFieldOffset(1,B,0)}static addIsDelta(l,B){l.addFieldInt8(2,+B,0)}static endDictionaryBatch(l){return l.endObject()}};var Rm;(function(I){I[I.NONE=0]="NONE",I[I.Schema=1]="Schema",I[I.DictionaryBatch=2]="DictionaryBatch",I[I.RecordBatch=3]="RecordBatch",I[I.Tensor=4]="Tensor",I[I.SparseTensor=5]="SparseTensor"})(Rm||(Rm={}));let Jh=class rc{constructor(){this.bb=null,this.bb_pos=0}__init(l,B){return this.bb_pos=l,this.bb=B,this}static getRootAsMessage(l,B){return(B||new rc).__init(l.readInt32(l.position())+l.position(),l)}static getSizePrefixedRootAsMessage(l,B){return l.setPosition(l.position()+no),(B||new rc).__init(l.readInt32(l.position())+l.position(),l)}version(){const l=this.bb.__offset(this.bb_pos,4);return l?this.bb.readInt16(this.bb_pos+l):Op.V1}headerType(){const l=this.bb.__offset(this.bb_pos,6);return l?this.bb.readUint8(this.bb_pos+l):Rm.NONE}header(l){const B=this.bb.__offset(this.bb_pos,8);return B?this.bb.__union(l,this.bb_pos+B):null}bodyLength(){const l=this.bb.__offset(this.bb_pos,10);return l?this.bb.readInt64(this.bb_pos+l):this.bb.createLong(0,0)}customMetadata(l,B){const st=this.bb.__offset(this.bb_pos,12);return st?(B||new cs).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+st)+l*4),this.bb):null}customMetadataLength(){const l=this.bb.__offset(this.bb_pos,12);return l?this.bb.__vector_len(this.bb_pos+l):0}static startMessage(l){l.startObject(5)}static addVersion(l,B){l.addFieldInt16(0,B,Op.V1)}static addHeaderType(l,B){l.addFieldInt8(1,B,Rm.NONE)}static addHeader(l,B){l.addFieldOffset(2,B,0)}static addBodyLength(l,B){l.addFieldInt64(3,B,l.createLong(0,0))}static addCustomMetadata(l,B){l.addFieldOffset(4,B,0)}static createCustomMetadataVector(l,B){l.startVector(4,B.length,4);for(let st=B.length-1;st>=0;st--)l.addOffset(B[st]);return l.endVector()}static startCustomMetadataVector(l,B){l.startVector(4,B,4)}static endMessage(l){return l.endObject()}static finishMessageBuffer(l,B){l.finish(B)}static finishSizePrefixedMessageBuffer(l,B){l.finish(B,void 0,!0)}static createMessage(l,B,st,Tt,Ft,W){return rc.startMessage(l),rc.addVersion(l,B),rc.addHeaderType(l,st),rc.addHeader(l,Tt),rc.addBodyLength(l,Ft),rc.addCustomMetadata(l,W),rc.endMessage(l)}};var HP=nh;class GP extends La{visit(l,B){return l==null||B==null?void 0:super.visit(l,B)}visitNull(l,B){return fd.startNull(B),fd.endNull(B)}visitInt(l,B){return au.startInt(B),au.addBitWidth(B,l.bitWidth),au.addIsSigned(B,l.isSigned),au.endInt(B)}visitFloat(l,B){return hc.startFloatingPoint(B),hc.addPrecision(B,l.precision),hc.endFloatingPoint(B)}visitBinary(l,B){return sd.startBinary(B),sd.endBinary(B)}visitBool(l,B){return ld.startBool(B),ld.endBool(B)}visitUtf8(l,B){return hd.startUtf8(B),hd.endUtf8(B)}visitDecimal(l,B){return Rl.startDecimal(B),Rl.addScale(B,l.scale),Rl.addPrecision(B,l.precision),Rl.addBitWidth(B,l.bitWidth),Rl.endDecimal(B)}visitDate(l,B){return Dy.startDate(B),Dy.addUnit(B,l.unit),Dy.endDate(B)}visitTime(l,B){return Gu.startTime(B),Gu.addUnit(B,l.unit),Gu.addBitWidth(B,l.bitWidth),Gu.endTime(B)}visitTimestamp(l,B){const st=l.timezone&&B.createString(l.timezone)||void 0;return Wu.startTimestamp(B),Wu.addUnit(B,l.unit),st!==void 0&&Wu.addTimezone(B,st),Wu.endTimestamp(B)}visitInterval(l,B){return vc.startInterval(B),vc.addUnit(B,l.unit),vc.endInterval(B)}visitList(l,B){return ud.startList(B),ud.endList(B)}visitStruct(l,B){return cd.startStruct_(B),cd.endStruct_(B)}visitUnion(l,B){kl.startTypeIdsVector(B,l.typeIds.length);const st=kl.createTypeIdsVector(B,l.typeIds);return kl.startUnion(B),kl.addMode(B,l.mode),kl.addTypeIds(B,st),kl.endUnion(B)}visitDictionary(l,B){const st=this.visit(l.indices,B);return qc.startDictionaryEncoding(B),qc.addId(B,new HP(l.id,0)),qc.addIsOrdered(B,l.isOrdered),st!==void 0&&qc.addIndexType(B,st),qc.endDictionaryEncoding(B)}visitFixedSizeBinary(l,B){return fc.startFixedSizeBinary(B),fc.addByteWidth(B,l.byteWidth),fc.endFixedSizeBinary(B)}visitFixedSizeList(l,B){return cc.startFixedSizeList(B),cc.addListSize(B,l.listSize),cc.endFixedSizeList(B)}visitMap(l,B){return Ry.startMap(B),Ry.addKeysSorted(B,l.keysSorted),Ry.endMap(B)}}const bx=new GP;function WP(I,l=new Map){return new Ya(jP(I,l),zy(I.customMetadata),l)}function B6(I){return new cu(I.count,N6(I.columns),U6(I.columns))}function YP(I){return new bc(B6(I.data),I.id,I.isDelta)}function jP(I,l){return(I.fields||[]).filter(Boolean).map(B=>yo.fromJSON(B,l))}function O4(I,l){return(I.children||[]).filter(Boolean).map(B=>yo.fromJSON(B,l))}function N6(I){return(I||[]).reduce((l,B)=>[...l,new Md(B.count,XP(B.VALIDITY)),...N6(B.children)],[])}function U6(I,l=[]){for(let B=-1,st=(I||[]).length;++B<st;){const Tt=I[B];Tt.VALIDITY&&l.push(new pc(l.length,Tt.VALIDITY.length)),Tt.TYPE&&l.push(new pc(l.length,Tt.TYPE.length)),Tt.OFFSET&&l.push(new pc(l.length,Tt.OFFSET.length)),Tt.DATA&&l.push(new pc(l.length,Tt.DATA.length)),l=U6(Tt.children,l)}return l}function XP(I){return(I||[]).reduce((l,B)=>l+ +(B===0),0)}function ZP(I,l){let B,st,Tt,Ft,W,G;return!l||!(Ft=I.dictionary)?(W=N4(I,O4(I,l)),Tt=new yo(I.name,W,I.nullable,zy(I.customMetadata))):l.has(B=Ft.id)?(st=(st=Ft.indexType)?B4(st):new sg,G=new zp(l.get(B),st,B,Ft.isOrdered),Tt=new yo(I.name,G,I.nullable,zy(I.customMetadata))):(st=(st=Ft.indexType)?B4(st):new sg,l.set(B,W=N4(I,O4(I,l))),G=new zp(W,st,B,Ft.isOrdered),Tt=new yo(I.name,G,I.nullable,zy(I.customMetadata))),Tt||null}function zy(I){return new Map(Object.entries(I||{}))}function B4(I){return new mv(I.isSigned,I.bitWidth)}function N4(I,l){const B=I.type.name;switch(B){case"NONE":return new yv;case"null":return new yv;case"binary":return new lm;case"utf8":return new um;case"bool":return new fm;case"list":return new pm((l||[])[0]);case"struct":return new cl(l||[]);case"struct_":return new cl(l||[])}switch(B){case"int":{const st=I.type;return new mv(st.isSigned,st.bitWidth)}case"floatingpoint":{const st=I.type;return new lg(Ul[st.precision])}case"decimal":{const st=I.type;return new cm(st.scale,st.precision,st.bitWidth)}case"date":{const st=I.type;return new hm(uh[st.unit])}case"time":{const st=I.type;return new ug(Ua[st.unit],st.bitWidth)}case"timestamp":{const st=I.type;return new vm(Ua[st.unit],st.timezone)}case"interval":{const st=I.type;return new dm(gv[st.unit])}case"union":{const st=I.type;return new gm(fu[st.mode],st.typeIds||[],l||[])}case"fixedsizebinary":{const st=I.type;return new ym(st.byteWidth)}case"fixedsizelist":{const st=I.type;return new mm(st.listSize,(l||[])[0])}case"map":{const st=I.type;return new xm((l||[])[0],st.keysSorted)}}throw new Error(`Unrecognized type: "${B}"`)}var Td=nh,KP=P6,JP=Fp;class hl{constructor(l,B,st,Tt){this._version=B,this._headerType=st,this.body=new Uint8Array(0),Tt&&(this._createHeader=()=>Tt),this._bodyLength=typeof l=="number"?l:l.low}static fromJSON(l,B){const st=new hl(0,ou.V4,B);return st._createHeader=QP(l,B),st}static decode(l){l=new JP(Na(l));const B=Jh.getRootAsMessage(l),st=B.bodyLength(),Tt=B.version(),Ft=B.headerType(),W=new hl(st,Tt,Ft);return W._createHeader=$P(B,Ft),W}static encode(l){const B=new KP;let st=-1;return l.isSchema()?st=Ya.encode(B,l.header()):l.isRecordBatch()?st=cu.encode(B,l.header()):l.isDictionaryBatch()&&(st=bc.encode(B,l.header())),Jh.startMessage(B),Jh.addVersion(B,ou.V4),Jh.addHeader(B,st),Jh.addHeaderType(B,l.headerType),Jh.addBodyLength(B,new Td(l.bodyLength,0)),Jh.finishMessageBuffer(B,Jh.endMessage(B)),B.asUint8Array()}static from(l,B=0){if(l instanceof Ya)return new hl(0,ou.V4,Ga.Schema,l);if(l instanceof cu)return new hl(B,ou.V4,Ga.RecordBatch,l);if(l instanceof bc)return new hl(B,ou.V4,Ga.DictionaryBatch,l);throw new Error(`Unrecognized Message header: ${l}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ga.Schema}isRecordBatch(){return this.headerType===Ga.RecordBatch}isDictionaryBatch(){return this.headerType===Ga.DictionaryBatch}}class cu{constructor(l,B,st){this._nodes=B,this._buffers=st,this._length=typeof l=="number"?l:l.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class bc{constructor(l,B,st=!1){this._data=l,this._isDelta=st,this._id=typeof B=="number"?B:B.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class pc{constructor(l,B){this.offset=typeof l=="number"?l:l.low,this.length=typeof B=="number"?B:B.low}}class Md{constructor(l,B){this.length=typeof l=="number"?l:l.low,this.nullCount=typeof B=="number"?B:B.low}}function QP(I,l){return()=>{switch(l){case Ga.Schema:return Ya.fromJSON(I);case Ga.RecordBatch:return cu.fromJSON(I);case Ga.DictionaryBatch:return bc.fromJSON(I)}throw new Error(`Unrecognized Message type: { name: ${Ga[l]}, type: ${l} }`)}}function $P(I,l){return()=>{switch(l){case Ga.Schema:return Ya.decode(I.header(new ic));case Ga.RecordBatch:return cu.decode(I.header(new Jc),I.version());case Ga.DictionaryBatch:return bc.decode(I.header(new np),I.version())}throw new Error(`Unrecognized Message type: { name: ${Ga[l]}, type: ${l} }`)}}yo.encode=u9;yo.decode=s9;yo.fromJSON=ZP;Ya.encode=l9;Ya.decode=qP;Ya.fromJSON=WP;cu.encode=f9;cu.decode=t9;cu.fromJSON=B6;bc.encode=c9;bc.decode=e9;bc.fromJSON=YP;Md.encode=h9;Md.decode=n9;pc.encode=v9;pc.decode=r9;function qP(I,l=new Map){const B=o9(I,l);return new Ya(B,Fy(I),l)}function t9(I,l=ou.V4){if(I.compression()!==null)throw new Error("Record batch compression not implemented");return new cu(I.length(),i9(I),a9(I,l))}function e9(I,l=ou.V4){return new bc(cu.decode(I.data(),l),I.id(),I.isDelta())}function r9(I){return new pc(I.offset(),I.length())}function n9(I){return new Md(I.length(),I.nullCount())}function i9(I){const l=[];for(let B,st=-1,Tt=-1,Ft=I.nodesLength();++st<Ft;)(B=I.nodes(st))&&(l[++Tt]=Md.decode(B));return l}function a9(I,l){const B=[];for(let st,Tt=-1,Ft=-1,W=I.buffersLength();++Tt<W;)(st=I.buffers(Tt))&&(l<ou.V4&&(st.bb_pos+=8*(Tt+1)),B[++Ft]=pc.decode(st));return B}function o9(I,l){const B=[];for(let st,Tt=-1,Ft=-1,W=I.fieldsLength();++Tt<W;)(st=I.fields(Tt))&&(B[++Ft]=yo.decode(st,l));return B}function U4(I,l){const B=[];for(let st,Tt=-1,Ft=-1,W=I.childrenLength();++Tt<W;)(st=I.children(Tt))&&(B[++Ft]=yo.decode(st,l));return B}function s9(I,l){let B,st,Tt,Ft,W,G;return!l||!(G=I.dictionary())?(Tt=H4(I,U4(I,l)),st=new yo(I.name(),Tt,I.nullable(),Fy(I))):l.has(B=G.id().low)?(Ft=(Ft=G.indexType())?V4(Ft):new sg,W=new zp(l.get(B),Ft,B,G.isOrdered()),st=new yo(I.name(),W,I.nullable(),Fy(I))):(Ft=(Ft=G.indexType())?V4(Ft):new sg,l.set(B,Tt=H4(I,U4(I,l))),W=new zp(Tt,Ft,B,G.isOrdered()),st=new yo(I.name(),W,I.nullable(),Fy(I))),st||null}function Fy(I){const l=new Map;if(I)for(let B,st,Tt=-1,Ft=Math.trunc(I.customMetadataLength());++Tt<Ft;)(B=I.customMetadata(Tt))&&(st=B.key())!=null&&l.set(st,B.value());return l}function V4(I){return new mv(I.isSigned(),I.bitWidth())}function H4(I,l){const B=I.typeType();switch(B){case ko.NONE:return new yv;case ko.Null:return new yv;case ko.Binary:return new lm;case ko.Utf8:return new um;case ko.Bool:return new fm;case ko.List:return new pm((l||[])[0]);case ko.Struct_:return new cl(l||[])}switch(B){case ko.Int:{const st=I.type(new au);return new mv(st.isSigned(),st.bitWidth())}case ko.FloatingPoint:{const st=I.type(new hc);return new lg(st.precision())}case ko.Decimal:{const st=I.type(new Rl);return new cm(st.scale(),st.precision(),st.bitWidth())}case ko.Date:{const st=I.type(new Dy);return new hm(st.unit())}case ko.Time:{const st=I.type(new Gu);return new ug(st.unit(),st.bitWidth())}case ko.Timestamp:{const st=I.type(new Wu);return new vm(st.unit(),st.timezone())}case ko.Interval:{const st=I.type(new vc);return new dm(st.unit())}case ko.Union:{const st=I.type(new kl);return new gm(st.mode(),st.typeIdsArray()||[],l||[])}case ko.FixedSizeBinary:{const st=I.type(new fc);return new ym(st.byteWidth())}case ko.FixedSizeList:{const st=I.type(new cc);return new mm(st.listSize(),(l||[])[0])}case ko.Map:{const st=I.type(new Ry);return new xm((l||[])[0],st.keysSorted())}}throw new Error(`Unrecognized type: "${ko[B]}" (${B})`)}function l9(I,l){const B=l.fields.map(Ft=>yo.encode(I,Ft));ic.startFieldsVector(I,B.length);const st=ic.createFieldsVector(I,B),Tt=l.metadata&&l.metadata.size>0?ic.createCustomMetadataVector(I,[...l.metadata].map(([Ft,W])=>{const G=I.createString(`${Ft}`),t=I.createString(`${W}`);return cs.startKeyValue(I),cs.addKey(I,G),cs.addValue(I,t),cs.endKeyValue(I)})):-1;return ic.startSchema(I),ic.addFields(I,st),ic.addEndianness(I,d9?Bp.Little:Bp.Big),Tt!==-1&&ic.addCustomMetadata(I,Tt),ic.endSchema(I)}function u9(I,l){let B=-1,st=-1,Tt=-1;const Ft=l.type;let W=l.typeId;$i.isDictionary(Ft)?(W=Ft.dictionary.typeId,Tt=bx.visit(Ft,I),st=bx.visit(Ft.dictionary,I)):st=bx.visit(Ft,I);const G=(Ft.children||[]).map(D=>yo.encode(I,D)),t=Nu.createChildrenVector(I,G),y=l.metadata&&l.metadata.size>0?Nu.createCustomMetadataVector(I,[...l.metadata].map(([D,s])=>{const P=I.createString(`${D}`),M=I.createString(`${s}`);return cs.startKeyValue(I),cs.addKey(I,P),cs.addValue(I,M),cs.endKeyValue(I)})):-1;return l.name&&(B=I.createString(l.name)),Nu.startField(I),Nu.addType(I,st),Nu.addTypeType(I,W),Nu.addChildren(I,t),Nu.addNullable(I,!!l.nullable),B!==-1&&Nu.addName(I,B),Tt!==-1&&Nu.addDictionary(I,Tt),y!==-1&&Nu.addCustomMetadata(I,y),Nu.endField(I)}function f9(I,l){const B=l.nodes||[],st=l.buffers||[];Jc.startNodesVector(I,B.length);for(const W of B.slice().reverse())Md.encode(I,W);const Tt=I.endVector();Jc.startBuffersVector(I,st.length);for(const W of st.slice().reverse())pc.encode(I,W);const Ft=I.endVector();return Jc.startRecordBatch(I),Jc.addLength(I,new Td(l.length,0)),Jc.addNodes(I,Tt),Jc.addBuffers(I,Ft),Jc.endRecordBatch(I)}function c9(I,l){const B=cu.encode(I,l.data);return np.startDictionaryBatch(I),np.addId(I,new Td(l.id,0)),np.addIsDelta(I,l.isDelta),np.addData(I,B),np.endDictionaryBatch(I)}function h9(I,l){return O6.createFieldNode(I,new Td(l.length,0),new Td(l.nullCount,0))}function v9(I,l){return F6.createBuffer(I,new Td(l.offset,0),new Td(l.length,0))}const d9=(()=>{const I=new ArrayBuffer(2);return new DataView(I).setInt16(0,256,!0),new Int16Array(I)[0]===256})(),J3=I=>`Expected ${Ga[I]} Message in stream, but was null or length 0.`,Q3=I=>`Header pointer of flatbuffer-encoded ${Ga[I]} Message is null or length 0.`,V6=(I,l)=>`Expected to read ${I} metadata bytes, but only read ${l}.`,H6=(I,l)=>`Expected to read ${I} bytes for message body, but only read ${l}.`;class G6{constructor(l){this.source=l instanceof Lm?l:new Lm(l)}[Symbol.iterator](){return this}next(){let l;return(l=this.readMetadataLength()).done||l.value===-1&&(l=this.readMetadataLength()).done||(l=this.readMetadata(l.value)).done?Fo:l}throw(l){return this.source.throw(l)}return(l){return this.source.return(l)}readMessage(l){let B;if((B=this.next()).done)return null;if(l!=null&&B.value.headerType!==l)throw new Error(J3(l));return B.value}readMessageBody(l){if(l<=0)return new Uint8Array(0);const B=Na(this.source.read(l));if(B.byteLength<l)throw new Error(H6(l,B.byteLength));return B.byteOffset%8===0&&B.byteOffset+B.byteLength<=B.buffer.byteLength?B:B.slice()}readSchema(l=!1){const B=Ga.Schema,st=this.readMessage(B),Tt=st==null?void 0:st.header();if(l&&!Tt)throw new Error(Q3(B));return Tt}readMetadataLength(){const l=this.source.read(h1),B=l&&new Fp(l),st=(B==null?void 0:B.readInt32(0))||0;return{done:st===0,value:st}}readMetadata(l){const B=this.source.read(l);if(!B)return Fo;if(B.byteLength<l)throw new Error(V6(l,B.byteLength));return{done:!1,value:hl.decode(B)}}}class p9{constructor(l,B){this.source=l instanceof Up?l:fA(l)?new Pm(l,B):new Up(l)}[Symbol.asyncIterator](){return this}next(){return Ki(this,void 0,void 0,function*(){let l;return(l=yield this.readMetadataLength()).done||l.value===-1&&(l=yield this.readMetadataLength()).done||(l=yield this.readMetadata(l.value)).done?Fo:l})}throw(l){return Ki(this,void 0,void 0,function*(){return yield this.source.throw(l)})}return(l){return Ki(this,void 0,void 0,function*(){return yield this.source.return(l)})}readMessage(l){return Ki(this,void 0,void 0,function*(){let B;if((B=yield this.next()).done)return null;if(l!=null&&B.value.headerType!==l)throw new Error(J3(l));return B.value})}readMessageBody(l){return Ki(this,void 0,void 0,function*(){if(l<=0)return new Uint8Array(0);const B=Na(yield this.source.read(l));if(B.byteLength<l)throw new Error(H6(l,B.byteLength));return B.byteOffset%8===0&&B.byteOffset+B.byteLength<=B.buffer.byteLength?B:B.slice()})}readSchema(l=!1){return Ki(this,void 0,void 0,function*(){const B=Ga.Schema,st=yield this.readMessage(B),Tt=st==null?void 0:st.header();if(l&&!Tt)throw new Error(Q3(B));return Tt})}readMetadataLength(){return Ki(this,void 0,void 0,function*(){const l=yield this.source.read(h1),B=l&&new Fp(l),st=(B==null?void 0:B.readInt32(0))||0;return{done:st===0,value:st}})}readMetadata(l){return Ki(this,void 0,void 0,function*(){const B=yield this.source.read(l);if(!B)return Fo;if(B.byteLength<l)throw new Error(V6(l,B.byteLength));return{done:!1,value:hl.decode(B)}})}}class g9 extends G6{constructor(l){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=l instanceof k4?l:new k4(l)}next(){const{_json:l}=this;if(!this._schema)return this._schema=!0,{done:!1,value:hl.fromJSON(l.schema,Ga.Schema)};if(this._dictionaryIndex<l.dictionaries.length){const B=l.dictionaries[this._dictionaryIndex++];return this._body=B.data.columns,{done:!1,value:hl.fromJSON(B,Ga.DictionaryBatch)}}if(this._batchIndex<l.batches.length){const B=l.batches[this._batchIndex++];return this._body=B.columns,{done:!1,value:hl.fromJSON(B,Ga.RecordBatch)}}return this._body=[],Fo}readMessageBody(l){return B(this._body);function B(st){return(st||[]).reduce((Tt,Ft)=>[...Tt,...Ft.VALIDITY&&[Ft.VALIDITY]||[],...Ft.TYPE&&[Ft.TYPE]||[],...Ft.OFFSET&&[Ft.OFFSET]||[],...Ft.DATA&&[Ft.DATA]||[],...B(Ft.children)],[])}}readMessage(l){let B;if((B=this.next()).done)return null;if(l!=null&&B.value.headerType!==l)throw new Error(J3(l));return B.value}readSchema(){const l=Ga.Schema,B=this.readMessage(l),st=B==null?void 0:B.header();if(!B||!st)throw new Error(Q3(l));return st}}const h1=4,Cb="ARROW1",cg=new Uint8Array(Cb.length);for(let I=0;I<Cb.length;I+=1)cg[I]=Cb.codePointAt(I);function $3(I,l=0){for(let B=-1,st=cg.length;++B<st;)if(cg[B]!==I[l+B])return!1;return!0}const Ag=cg.length,W6=Ag+h1,y9=Ag*2+h1;class ih extends W3{constructor(l){super(),this._impl=l}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(l){return this._impl.throw(l)}return(l){return this._impl.return(l)}cancel(){return this._impl.cancel()}reset(l){return this._impl.reset(l),this._DOMStream=void 0,this._nodeStream=void 0,this}open(l){const B=this._impl.open(l);return pv(B)?B.then(()=>this):this}readRecordBatch(l){return this._impl.isFile()?this._impl.readRecordBatch(l):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Uu.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Uu.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(l){throw new Error('"throughNode" not available in this environment')}static throughDOM(l,B){throw new Error('"throughDOM" not available in this environment')}static from(l){return l instanceof ih?l:gb(l)?w9(l):fA(l)?S9(l):pv(l)?Ki(this,void 0,void 0,function*(){return yield ih.from(yield l)}):cA(l)||I3(l)||hA(l)||Yp(l)?A9(new Up(l)):T9(new Lm(l))}static readAll(l){return l instanceof ih?l.isSync()?G4(l):W4(l):gb(l)||ArrayBuffer.isView(l)||xg(l)||uA(l)?G4(l):W4(l)}}class _m extends ih{constructor(l){super(l),this._impl=l}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return dc(this,arguments,function*(){yield ma(yield*Iy(pd(this[Symbol.iterator]())))})}}class km extends ih{constructor(l){super(l),this._impl=l}readAll(){var l,B;return Ki(this,void 0,void 0,function*(){const st=new Array;try{for(var Tt=pd(this),Ft;Ft=yield Tt.next(),!Ft.done;){const W=Ft.value;st.push(W)}}catch(W){l={error:W}}finally{try{Ft&&!Ft.done&&(B=Tt.return)&&(yield B.call(Tt))}finally{if(l)throw l.error}}return st})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Y6 extends _m{constructor(l){super(l),this._impl=l}}class m9 extends km{constructor(l){super(l),this._impl=l}}class j6{constructor(l=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=l}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(l){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=l,this.dictionaries=new Map,this}_loadRecordBatch(l,B){const st=this._loadVectors(l,B,this.schema.fields),Tt=Ca({type:new cl(this.schema.fields),length:l.length,children:st});return new zl(this.schema,Tt)}_loadDictionaryBatch(l,B){const{id:st,isDelta:Tt}=l,{dictionaries:Ft,schema:W}=this,G=Ft.get(st);if(Tt||!G){const t=W.dictionaries.get(st),y=this._loadVectors(l.data,B,[t]);return(G&&Tt?G.concat(new Wa(y)):new Wa(y)).memoize()}return G.memoize()}_loadVectors(l,B,st){return new R6(B,l.nodes,l.buffers,this.dictionaries).visitMany(st)}}class zm extends j6{constructor(l,B){super(B),this._reader=gb(l)?new g9(this._handle=l):new G6(this._handle=l)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(l){return this.closed||(this.autoDestroy=Z6(this,l),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(l){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(l):Fo}return(l){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(l):Fo}next(){if(this.closed)return Fo;let l;const{_reader:B}=this;for(;l=this._readNextMessageAndValidate();)if(l.isSchema())this.reset(l.header());else if(l.isRecordBatch()){this._recordBatchIndex++;const st=l.header(),Tt=B.readMessageBody(l.bodyLength);return{done:!1,value:this._loadRecordBatch(st,Tt)}}else if(l.isDictionaryBatch()){this._dictionaryIndex++;const st=l.header(),Tt=B.readMessageBody(l.bodyLength),Ft=this._loadDictionaryBatch(st,Tt);this.dictionaries.set(st.id,Ft)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new K3(this.schema)}):this.return()}_readNextMessageAndValidate(l){return this._reader.readMessage(l)}}class Fm extends j6{constructor(l,B){super(B),this._reader=new p9(this._handle=l)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Ki(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(l){return Ki(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Z6(this,l),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(l){return Ki(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(l):Fo})}return(l){return Ki(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(l):Fo})}next(){return Ki(this,void 0,void 0,function*(){if(this.closed)return Fo;let l;const{_reader:B}=this;for(;l=yield this._readNextMessageAndValidate();)if(l.isSchema())yield this.reset(l.header());else if(l.isRecordBatch()){this._recordBatchIndex++;const st=l.header(),Tt=yield B.readMessageBody(l.bodyLength);return{done:!1,value:this._loadRecordBatch(st,Tt)}}else if(l.isDictionaryBatch()){this._dictionaryIndex++;const st=l.header(),Tt=yield B.readMessageBody(l.bodyLength),Ft=this._loadDictionaryBatch(st,Tt);this.dictionaries.set(st.id,Ft)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new K3(this.schema)}):yield this.return()})}_readNextMessageAndValidate(l){return Ki(this,void 0,void 0,function*(){return yield this._reader.readMessage(l)})}}class X6 extends zm{constructor(l,B){super(l instanceof z4?l:new z4(l),B)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(l){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const B of this._footer.dictionaryBatches())B&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(l)}readRecordBatch(l){var B;if(this.closed)return null;this._footer||this.open();const st=(B=this._footer)===null||B===void 0?void 0:B.getRecordBatch(l);if(st&&this._handle.seek(st.offset)){const Tt=this._reader.readMessage(Ga.RecordBatch);if(Tt!=null&&Tt.isRecordBatch()){const Ft=Tt.header(),W=this._reader.readMessageBody(Tt.bodyLength);return this._loadRecordBatch(Ft,W)}}return null}_readDictionaryBatch(l){var B;const st=(B=this._footer)===null||B===void 0?void 0:B.getDictionaryBatch(l);if(st&&this._handle.seek(st.offset)){const Tt=this._reader.readMessage(Ga.DictionaryBatch);if(Tt!=null&&Tt.isDictionaryBatch()){const Ft=Tt.header(),W=this._reader.readMessageBody(Tt.bodyLength),G=this._loadDictionaryBatch(Ft,W);this.dictionaries.set(Ft.id,G)}}}_readFooter(){const{_handle:l}=this,B=l.size-W6,st=l.readInt32(B),Tt=l.readAt(B-st,st);return fg.decode(Tt)}_readNextMessageAndValidate(l){var B;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const st=(B=this._footer)===null||B===void 0?void 0:B.getRecordBatch(this._recordBatchIndex);if(st&&this._handle.seek(st.offset))return this._reader.readMessage(l)}return null}}class x9 extends Fm{constructor(l,...B){const st=typeof B[0]!="number"?B.shift():void 0,Tt=B[0]instanceof Map?B.shift():void 0;super(l instanceof Pm?l:new Pm(l,st),Tt)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(l){const B=Object.create(null,{open:{get:()=>super.open}});return Ki(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const st of this._footer.dictionaryBatches())st&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield B.open.call(this,l)})}readRecordBatch(l){var B;return Ki(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const st=(B=this._footer)===null||B===void 0?void 0:B.getRecordBatch(l);if(st&&(yield this._handle.seek(st.offset))){const Tt=yield this._reader.readMessage(Ga.RecordBatch);if(Tt!=null&&Tt.isRecordBatch()){const Ft=Tt.header(),W=yield this._reader.readMessageBody(Tt.bodyLength);return this._loadRecordBatch(Ft,W)}}return null})}_readDictionaryBatch(l){var B;return Ki(this,void 0,void 0,function*(){const st=(B=this._footer)===null||B===void 0?void 0:B.getDictionaryBatch(l);if(st&&(yield this._handle.seek(st.offset))){const Tt=yield this._reader.readMessage(Ga.DictionaryBatch);if(Tt!=null&&Tt.isDictionaryBatch()){const Ft=Tt.header(),W=yield this._reader.readMessageBody(Tt.bodyLength),G=this._loadDictionaryBatch(Ft,W);this.dictionaries.set(Ft.id,G)}}})}_readFooter(){return Ki(this,void 0,void 0,function*(){const{_handle:l}=this;l._pending&&(yield l._pending);const B=l.size-W6,st=yield l.readInt32(B),Tt=yield l.readAt(B-st,st);return fg.decode(Tt)})}_readNextMessageAndValidate(l){return Ki(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const B=this._footer.getRecordBatch(this._recordBatchIndex);if(B&&(yield this._handle.seek(B.offset)))return yield this._reader.readMessage(l)}return null})}}class b9 extends zm{constructor(l,B){super(l,B)}_loadVectors(l,B,st){return new RP(B,l.nodes,l.buffers,this.dictionaries).visitMany(st)}}function Z6(I,l){return l&&typeof l.autoDestroy=="boolean"?l.autoDestroy:I.autoDestroy}function*G4(I){const l=ih.from(I);try{if(!l.open({autoDestroy:!1}).closed)do yield l;while(!l.reset().open().closed)}finally{l.cancel()}}function W4(I){return dc(this,arguments,function*(){const B=yield ma(ih.from(I));try{if(!(yield ma(B.open({autoDestroy:!1}))).closed)do yield yield ma(B);while(!(yield ma(B.reset().open())).closed)}finally{yield ma(B.cancel())}})}function w9(I){return new _m(new b9(I))}function T9(I){const l=I.peek(Ag+7&-8);return l&&l.byteLength>=4?$3(l)?new Y6(new X6(I.read())):new _m(new zm(I)):new _m(new zm(function*(){}()))}function A9(I){return Ki(this,void 0,void 0,function*(){const l=yield I.peek(Ag+7&-8);return l&&l.byteLength>=4?$3(l)?new Y6(new X6(yield I.read())):new km(new Fm(I)):new km(new Fm(function(){return dc(this,arguments,function*(){})}()))})}function S9(I){return Ki(this,void 0,void 0,function*(){const{size:l}=yield I.stat(),B=new Pm(I,l);return l>=y9&&$3(yield B.readAt(0,Ag+7&-8))?new m9(new x9(B)):new km(new Fm(B))})}class as extends La{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...l){const B=Tt=>Tt.flatMap(Ft=>Array.isArray(Ft)?B(Ft):Ft instanceof zl?Ft.data.children:Ft.data),st=new as;return st.visitMany(B(l)),st}visit(l){if(l instanceof Wa)return this.visitMany(l.data),this;const{type:B}=l;if(!$i.isDictionary(B)){const{length:st,nullCount:Tt}=l;if(st>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");$i.isNull(B)||Rf.call(this,Tt<=0?new Uint8Array(0):N3(l.offset,st,l.nullBitmap)),this.nodes.push(new Md(st,Tt))}return super.visit(l)}visitNull(l){return this}visitDictionary(l){return this.visit(l.clone(l.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Rf(I){const l=I.byteLength+7&-8;return this.buffers.push(I),this.bufferRegions.push(new pc(this._byteLength,l)),this._byteLength+=l,this}function M9(I){const{type:l,length:B,typeIds:st,valueOffsets:Tt}=I;if(Rf.call(this,st),l.mode===fu.Sparse)return Lb.call(this,I);if(l.mode===fu.Dense){if(I.offset<=0)return Rf.call(this,Tt),Lb.call(this,I);{const Ft=st.reduce((D,s)=>Math.max(D,s),st[0]),W=new Int32Array(Ft+1),G=new Int32Array(Ft+1).fill(-1),t=new Int32Array(B),y=R3(-Tt[0],B,Tt);for(let D,s,P=-1;++P<B;)(s=G[D=st[P]])===-1&&(s=G[D]=y[D]),t[P]=y[P]-s,++W[D];Rf.call(this,t);for(let D,s=-1,P=l.children.length;++s<P;)if(D=I.children[s]){const M=l.typeIds[s],d=Math.min(B,W[M]);this.visit(D.slice(G[M],d))}}}return this}function E9(I){let l;return I.nullCount>=I.length?Rf.call(this,new Uint8Array(0)):(l=I.values)instanceof Uint8Array?Rf.call(this,N3(I.offset,I.length,l)):Rf.call(this,bm(I.values))}function Ev(I){return Rf.call(this,I.values.subarray(0,I.length*I.stride))}function K6(I){const{length:l,values:B,valueOffsets:st}=I,Tt=st[0],Ft=st[l],W=Math.min(Ft-Tt,B.byteLength-Tt);return Rf.call(this,R3(-st[0],l,st)),Rf.call(this,B.subarray(Tt,Tt+W)),this}function q3(I){const{length:l,valueOffsets:B}=I;return B&&Rf.call(this,R3(B[0],l,B)),this.visit(I.children[0])}function Lb(I){return this.visitMany(I.type.children.map((l,B)=>I.children[B]).filter(Boolean))[0]}as.prototype.visitBool=E9;as.prototype.visitInt=Ev;as.prototype.visitFloat=Ev;as.prototype.visitUtf8=K6;as.prototype.visitBinary=K6;as.prototype.visitFixedSizeBinary=Ev;as.prototype.visitDate=Ev;as.prototype.visitTimestamp=Ev;as.prototype.visitTime=Ev;as.prototype.visitDecimal=Ev;as.prototype.visitList=q3;as.prototype.visitStruct=Lb;as.prototype.visitUnion=M9;as.prototype.visitInterval=Ev;as.prototype.visitFixedSizeList=q3;as.prototype.visitMap=q3;class J6 extends W3{constructor(l){super(),this._position=0,this._started=!1,this._sink=new ky,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Vl(l)||(l={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof l.autoDestroy=="boolean"?l.autoDestroy:!0,this._writeLegacyIpcFormat=typeof l.writeLegacyIpcFormat=="boolean"?l.writeLegacyIpcFormat:!1}static throughNode(l){throw new Error('"throughNode" not available in this environment')}static throughDOM(l,B){throw new Error('"throughDOM" not available in this environment')}toString(l=!1){return this._sink.toString(l)}toUint8Array(l=!1){return this._sink.toUint8Array(l)}writeAll(l){return pv(l)?l.then(B=>this.writeAll(B)):Yp(l)?nw(this,l):rw(this,l)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(l){return this._sink.toDOMStream(l)}toNodeStream(l){return this._sink.toNodeStream(l)}close(){return this.reset()._sink.close()}abort(l){return this.reset()._sink.abort(l)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(l=this._sink,B=null){return l===this._sink||l instanceof ky?this._sink=l:(this._sink=new ky,l&&XL(l)?this.toDOMStream({type:"bytes"}).pipeTo(l):l&&ZL(l)&&this.toNodeStream({objectMode:!1}).pipe(l)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!B||!Sb(B,this._schema))&&(B==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=B,this._writeSchema(B))),this}write(l){let B=null;if(this._sink){if(l==null)return this.finish()&&void 0;if(l instanceof fl&&!(B=l.schema))return this.finish()&&void 0;if(l instanceof zl&&!(B=l.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(B&&!Sb(B,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,B)}l instanceof zl?l instanceof K3||this._writeRecordBatch(l):l instanceof fl?this.writeAll(l.batches):xg(l)&&this.writeAll(l)}_writeMessage(l,B=8){const st=B-1,Tt=hl.encode(l),Ft=Tt.byteLength,W=this._writeLegacyIpcFormat?4:8,G=Ft+W+st&~st,t=G-Ft-W;return l.headerType===Ga.RecordBatch?this._recordBatchBlocks.push(new xv(G,l.bodyLength,this._position)):l.headerType===Ga.DictionaryBatch&&this._dictionaryBlocks.push(new xv(G,l.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(G-W)),Ft>0&&this._write(Tt),this._writePadding(t)}_write(l){if(this._started){const B=Na(l);B&&B.byteLength>0&&(this._sink.write(B),this._position+=B.byteLength)}return this}_writeSchema(l){return this._writeMessage(hl.from(l))}_writeFooter(l){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(cg)}_writePadding(l){return l>0?this._write(new Uint8Array(l)):this}_writeRecordBatch(l){const{byteLength:B,nodes:st,bufferRegions:Tt,buffers:Ft}=as.assemble(l),W=new cu(l.numRows,st,Tt),G=hl.from(W,B);return this._writeDictionaries(l)._writeMessage(G)._writeBodyBuffers(Ft)}_writeDictionaryBatch(l,B,st=!1){this._dictionaryDeltaOffsets.set(B,l.length+(this._dictionaryDeltaOffsets.get(B)||0));const{byteLength:Tt,nodes:Ft,bufferRegions:W,buffers:G}=as.assemble(new Wa([l])),t=new cu(l.length,Ft,W),y=new bc(t,B,st),D=hl.from(y,Tt);return this._writeMessage(D)._writeBodyBuffers(G)}_writeBodyBuffers(l){let B,st,Tt;for(let Ft=-1,W=l.length;++Ft<W;)(B=l[Ft])&&(st=B.byteLength)>0&&(this._write(B),(Tt=(st+7&-8)-st)>0&&this._writePadding(Tt));return this}_writeDictionaries(l){for(let[B,st]of l.dictionaries){let Tt=this._dictionaryDeltaOffsets.get(B)||0;if(Tt===0||(st=st==null?void 0:st.slice(Tt)).length>0)for(const Ft of st.data)this._writeDictionaryBatch(Ft,B,Tt>0),Tt+=Ft.length}return this}}class tw extends J6{static writeAll(l,B){const st=new tw(B);return pv(l)?l.then(Tt=>st.writeAll(Tt)):Yp(l)?nw(st,l):rw(st,l)}}class ew extends J6{static writeAll(l){const B=new ew;return pv(l)?l.then(st=>B.writeAll(st)):Yp(l)?nw(B,l):rw(B,l)}constructor(){super(),this._autoDestroy=!0}_writeSchema(l){return this._writeMagic()._writePadding(2)}_writeFooter(l){const B=fg.encode(new fg(l,ou.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(l)._write(B)._write(Int32Array.of(B.byteLength))._writeMagic()}}function rw(I,l){let B=l;l instanceof fl&&(B=l.batches,I.reset(void 0,l.schema));for(const st of B)I.write(st);return I.finish()}function nw(I,l){var B,st,Tt,Ft;return Ki(this,void 0,void 0,function*(){try{for(B=pd(l);st=yield B.next(),!st.done;){const W=st.value;I.write(W)}}catch(W){Tt={error:W}}finally{try{st&&!st.done&&(Ft=B.return)&&(yield Ft.call(B))}finally{if(Tt)throw Tt.error}}return I.finish()})}function P0(I){const l=ih.from(I);return pv(l)?l.then(B=>P0(B)):l.isAsync()?l.readAll().then(B=>new fl(B)):new fl(l.readAll())}function wx(I,l="stream"){return(l==="stream"?tw:ew).writeAll(I).toUint8Array(!0)}var Y4=function(){function I(l,B,st,Tt){var Ft=this;this.getCell=function(W,G){var t=W<Ft.headerRows&&G<Ft.headerColumns,y=W>=Ft.headerRows&&G<Ft.headerColumns,D=W<Ft.headerRows&&G>=Ft.headerColumns;if(t){var s=["blank"];return G>0&&s.push("level"+W),{type:"blank",classNames:s.join(" "),content:""}}else if(D){var P=G-Ft.headerColumns,s=["col_heading","level"+W,"col"+P];return{type:"columns",classNames:s.join(" "),content:Ft.getContent(Ft.columnsTable,P,W)}}else if(y){var M=W-Ft.headerRows,s=["row_heading","level"+G,"row"+M];return{type:"index",id:"T_".concat(Ft.uuid,"level").concat(G,"_row").concat(M),classNames:s.join(" "),content:Ft.getContent(Ft.indexTable,M,G)}}else{var M=W-Ft.headerRows,P=G-Ft.headerColumns,s=["data","row"+M,"col"+P],d=Ft.styler?Ft.getContent(Ft.styler.displayValuesTable,M,P):Ft.getContent(Ft.dataTable,M,P);return{type:"data",id:"T_".concat(Ft.uuid,"row").concat(M,"_col").concat(P),classNames:s.join(" "),content:d}}},this.getContent=function(W,G,t){var y=W.getChildAt(t);if(y===null)return"";var D=Ft.getColumnTypeId(W,t);switch(D){case Ln.Timestamp:return Ft.nanosToDate(y.get(G));default:return y.get(G)}},this.dataTable=P0(l),this.indexTable=P0(B),this.columnsTable=P0(st),this.styler=Tt?{caption:Tt.caption,displayValuesTable:P0(Tt.displayValues),styles:Tt.styles,uuid:Tt.uuid}:void 0}return Object.defineProperty(I.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),I.prototype.serialize=function(){return{data:wx(this.dataTable),index:wx(this.indexTable),columns:wx(this.columnsTable)}},I.prototype.getColumnTypeId=function(l,B){return l.schema.fields[B].type.typeId},I.prototype.nanosToDate=function(l){return new Date(l/1e6)},I}(),U0=function(){return U0=Object.assign||function(I){for(var l,B=1,st=arguments.length;B<st;B++){l=arguments[B];for(var Tt in l)Object.prototype.hasOwnProperty.call(l,Tt)&&(I[Tt]=l[Tt])}return I},U0.apply(this,arguments)},V0;(function(I){I.COMPONENT_READY="streamlit:componentReady",I.SET_COMPONENT_VALUE="streamlit:setComponentValue",I.SET_FRAME_HEIGHT="streamlit:setFrameHeight"})(V0||(V0={}));var oc=function(){function I(){}return I.API_VERSION=1,I.RENDER_EVENT="streamlit:render",I.events=new EventTarget,I.registeredMessageListener=!1,I.setComponentReady=function(){I.registeredMessageListener||(window.addEventListener("message",I.onMessageEvent),I.registeredMessageListener=!0),I.sendBackMsg(V0.COMPONENT_READY,{apiVersion:I.API_VERSION})},I.setFrameHeight=function(l){l===void 0&&(l=document.body.scrollHeight),l!==I.lastFrameHeight&&(I.lastFrameHeight=l,I.sendBackMsg(V0.SET_FRAME_HEIGHT,{height:l}))},I.setComponentValue=function(l){var B;l instanceof Y4?(B="dataframe",l=l.serialize()):L9(l)?(B="bytes",l=new Uint8Array(l.buffer)):l instanceof ArrayBuffer?(B="bytes",l=new Uint8Array(l)):B="json",I.sendBackMsg(V0.SET_COMPONENT_VALUE,{value:l,dataType:B})},I.onMessageEvent=function(l){var B=l.data.type;switch(B){case I.RENDER_EVENT:I.onRenderMessage(l.data);break}},I.onRenderMessage=function(l){var B=l.args;B==null&&(console.error("Got null args in onRenderMessage. This should never happen"),B={});var st=l.dfs&&l.dfs.length>0?I.argsDataframeToObject(l.dfs):{};B=U0(U0({},B),st);var Tt=!!l.disabled,Ft=l.theme;Ft&&C9(Ft);var W={disabled:Tt,args:B,theme:Ft},G=new CustomEvent(I.RENDER_EVENT,{detail:W});I.events.dispatchEvent(G)},I.argsDataframeToObject=function(l){var B=l.map(function(st){var Tt=st.key,Ft=st.value;return[Tt,I.toArrowTable(Ft)]});return Object.fromEntries(B)},I.toArrowTable=function(l){var B,st=(B=l.data,B.data),Tt=B.index,Ft=B.columns,W=B.styler;return new Y4(st,Tt,Ft,W)},I.sendBackMsg=function(l,B){window.parent.postMessage(U0({isStreamlitMessage:!0,type:l},B),"*")},I}(),C9=function(I){var l=document.createElement("style");document.head.appendChild(l),l.innerHTML=`
    :root {
      --primary-color: `.concat(I.primaryColor,`;
      --background-color: `).concat(I.backgroundColor,`;
      --secondary-background-color: `).concat(I.secondaryBackgroundColor,`;
      --text-color: `).concat(I.textColor,`;
      --font: `).concat(I.font,`;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
    }
  `)};function L9(I){var l=!1;try{l=I instanceof BigInt64Array||I instanceof BigUint64Array}catch{}return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array||l}var Q6=function(){var I=function(l,B){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,Tt){st.__proto__=Tt}||function(st,Tt){for(var Ft in Tt)Object.prototype.hasOwnProperty.call(Tt,Ft)&&(st[Ft]=Tt[Ft])},I(l,B)};return function(l,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");I(l,B);function st(){this.constructor=l}l.prototype=B===null?Object.create(B):(st.prototype=B.prototype,new st)}}();(function(I){Q6(l,I);function l(){return I!==null&&I.apply(this,arguments)||this}return l.prototype.componentDidMount=function(){oc.setFrameHeight()},l.prototype.componentDidUpdate=function(){oc.setFrameHeight()},l})(nd.PureComponent);function P9(I){var l=function(B){Q6(st,B);function st(Tt){var Ft=B.call(this,Tt)||this;return Ft.componentDidMount=function(){oc.events.addEventListener(oc.RENDER_EVENT,Ft.onRenderEvent),oc.setComponentReady()},Ft.componentDidUpdate=function(){Ft.state.componentError!=null&&oc.setFrameHeight()},Ft.componentWillUnmount=function(){oc.events.removeEventListener(oc.RENDER_EVENT,Ft.onRenderEvent)},Ft.onRenderEvent=function(W){Ft.setState({renderData:W.detail})},Ft.state={renderData:void 0,componentError:void 0},Ft}return st.prototype.render=function(){return this.state.componentError!=null?nd.createElement("div",null,nd.createElement("h1",null,"Component Error"),nd.createElement("span",null,this.state.componentError.message)):this.state.renderData==null?null:nd.createElement(I,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},st.getDerivedStateFromError=function(Tt){return{componentError:Tt}},st}(nd.PureComponent);return HL(l,I)}var $6={},q6={},tS={exports:{}},I9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",D9=I9,R9=D9;function eS(){}function rS(){}rS.resetWarningCache=eS;var _9=function(){function I(st,Tt,Ft,W,G,t){if(t!==R9){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}I.isRequired=I;function l(){return I}var B={array:I,bigint:I,bool:I,func:I,number:I,object:I,string:I,symbol:I,any:I,arrayOf:l,element:I,elementType:I,instanceOf:l,node:I,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:rS,resetWarningCache:eS};return B.PropTypes=B,B};tS.exports=_9();var k9=tS.exports;(function(I){function l(f){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l(f)}Object.defineProperty(I,"__esModule",{value:!0}),I.default=u;var B=W(Lf),st=Tt(k9);function Tt(f){return f&&f.__esModule?f:{default:f}}function Ft(f){if(typeof WeakMap!="function")return null;var c=new WeakMap,m=new WeakMap;return(Ft=function(T){return T?m:c})(f)}function W(f,c){if(f&&f.__esModule)return f;if(f===null||l(f)!=="object"&&typeof f!="function")return{default:f};var m=Ft(c);if(m&&m.has(f))return m.get(f);var v={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in f)if(h!=="default"&&Object.prototype.hasOwnProperty.call(f,h)){var i=T?Object.getOwnPropertyDescriptor(f,h):null;i&&(i.get||i.set)?Object.defineProperty(v,h,i):v[h]=f[h]}return v.default=f,m&&m.set(f,v),v}function G(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function t(f,c){for(var m=0;m<c.length;m++){var v=c[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}function y(f,c,m){return c&&t(f.prototype,c),Object.defineProperty(f,"prototype",{writable:!1}),f}function D(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),c&&s(f,c)}function s(f,c){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,T){return v.__proto__=T,v},s(f,c)}function P(f){var c=g();return function(){var v=r(f),T;if(c){var h=r(this).constructor;T=Reflect.construct(v,arguments,h)}else T=v.apply(this,arguments);return M(this,T)}}function M(f,c){if(c&&(l(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(f)}function d(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(f){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},r(f)}var e=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],o=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function u(f){var c=function(m){D(T,m);var v=P(T);function T(h){var i;return G(this,T),i=v.call(this,h),i.p=Promise.resolve(),i.resizeHandler=null,i.handlers={},i.syncWindowResize=i.syncWindowResize.bind(d(i)),i.syncEventHandlers=i.syncEventHandlers.bind(d(i)),i.attachUpdateEvents=i.attachUpdateEvents.bind(d(i)),i.getRef=i.getRef.bind(d(i)),i.handleUpdate=i.handleUpdate.bind(d(i)),i.figureCallback=i.figureCallback.bind(d(i)),i.updatePlotly=i.updatePlotly.bind(d(i)),i}return y(T,[{key:"updatePlotly",value:function(i,p,w){var A=this;this.p=this.p.then(function(){if(!A.unmounting){if(!A.el)throw new Error("Missing element reference");return f.react(A.el,{data:A.props.data,layout:A.props.layout,config:A.props.config,frames:A.props.frames})}}).then(function(){A.unmounting||(A.syncWindowResize(i),A.syncEventHandlers(),A.figureCallback(p),w&&A.attachUpdateEvents())}).catch(function(L){A.props.onError&&A.props.onError(L)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(i){this.unmounting=!1;var p=i.frames&&i.frames.length?i.frames.length:0,w=this.props.frames&&this.props.frames.length?this.props.frames.length:0,A=!(i.layout===this.props.layout&&i.data===this.props.data&&i.config===this.props.config&&w===p),L=i.revision!==void 0,x=i.revision!==this.props.revision;!A&&(!L||L&&!x)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),f.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var i=this;!this.el||!this.el.removeListener||o.forEach(function(p){i.el.on(p,i.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var i=this;!this.el||!this.el.removeListener||o.forEach(function(p){i.el.removeListener(p,i.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(i){if(typeof i=="function"){var p=this.el,w=p.data,A=p.layout,L=this.el._transitionData?this.el._transitionData._frames:null,x={data:w,layout:A,frames:L};i(x,this.el)}}},{key:"syncWindowResize",value:function(i){var p=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return f.Plots.resize(p.el)},window.addEventListener("resize",this.resizeHandler),i&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(i){this.el=i,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var i=this;e.forEach(function(p){var w=i.props["on"+p],A=i.handlers[p],L=!!A;w&&!L?i.addEventHandler(p,w):!w&&L?i.removeEventHandler(p):w&&L&&w!==A&&(i.removeEventHandler(p),i.addEventHandler(p,w))})}},{key:"addEventHandler",value:function(i,p){this.handlers[i]=p,this.el.on(this.getPlotlyEventName(i),this.handlers[i])}},{key:"removeEventHandler",value:function(i){this.el.removeListener(this.getPlotlyEventName(i),this.handlers[i]),delete this.handlers[i]}},{key:"getPlotlyEventName",value:function(i){return"plotly_"+i.toLowerCase()}},{key:"render",value:function(){return B.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(B.Component);return c.propTypes={data:st.default.arrayOf(st.default.object),config:st.default.object,layout:st.default.object,frames:st.default.arrayOf(st.default.object),revision:st.default.number,onInitialized:st.default.func,onPurge:st.default.func,onError:st.default.func,onUpdate:st.default.func,debug:st.default.bool,style:st.default.object,className:st.default.string,useResizeHandler:st.default.bool,divId:st.default.string},e.forEach(function(m){c.propTypes["on"+m]=st.default.func}),c.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},c}})(q6);var nS={exports:{}};(function(I,l){(function(st,Tt){I.exports=Tt()})(self,function(){return function(){var B={79288:function(W,G,t){var y=t(3400),D={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var s in D){var P=s.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");y.addStyleRule(P,D[s])}},86712:function(W,G,t){W.exports=t(84224)},37240:function(W,G,t){W.exports=t(51132)},29744:function(W,G,t){W.exports=t(94456)},29352:function(W,G,t){W.exports=t(67244)},96144:function(W,G,t){W.exports=t(97776)},53219:function(W,G,t){W.exports=t(61712)},4624:function(W,G,t){W.exports=t(95856)},54543:function(W,G,t){W.exports=t(54272)},45e3:function(W,G,t){W.exports=t(85404)},62300:function(W,G,t){W.exports=t(26048)},6920:function(W,G,t){W.exports=t(66240)},10264:function(W,G,t){W.exports=t(40448)},32016:function(W,G,t){W.exports=t(64884)},27528:function(W,G,t){W.exports=t(15088)},75556:function(W,G,t){W.exports=t(76744)},39204:function(W,G,t){W.exports=t(94704)},73996:function(W,G,t){W.exports=t(62396)},16489:function(W,G,t){W.exports=t(32028)},5e3:function(W,G,t){W.exports=t(81932)},77280:function(W,G,t){W.exports=t(45536)},33992:function(W,G,t){W.exports=t(42600)},17600:function(W,G,t){W.exports=t(21536)},49116:function(W,G,t){W.exports=t(65664)},46808:function(W,G,t){W.exports=t(29044)},36168:function(W,G,t){W.exports=t(48928)},13792:function(W,G,t){var y=t(32016);y.register([t(37240),t(29352),t(5e3),t(33992),t(17600),t(49116),t(6920),t(67484),t(79440),t(39204),t(83096),t(36168),t(20260),t(63560),t(65832),t(46808),t(73996),t(48824),t(89904),t(25120),t(13752),t(4340),t(62300),t(29800),t(8363),t(54543),t(86636),t(42192),t(32140),t(77280),t(89296),t(56816),t(70192),t(45e3),t(27528),t(84764),t(3920),t(50248),t(4624),t(69967),t(10264),t(86152),t(53219),t(81604),t(63796),t(29744),t(89336),t(86712),t(75556),t(16489),t(97312),t(96144)]),W.exports=y},3920:function(W,G,t){W.exports=t(43480)},25120:function(W,G,t){W.exports=t(6296)},4340:function(W,G,t){W.exports=t(7404)},86152:function(W,G,t){W.exports=t(65456)},56816:function(W,G,t){W.exports=t(22020)},89296:function(W,G,t){W.exports=t(29928)},20260:function(W,G,t){W.exports=t(75792)},32140:function(W,G,t){W.exports=t(156)},84764:function(W,G,t){W.exports=t(45499)},48824:function(W,G,t){W.exports=t(3296)},69967:function(W,G,t){W.exports=t(4184)},8363:function(W,G,t){W.exports=t(36952)},86636:function(W,G,t){W.exports=t(38983)},70192:function(W,G,t){W.exports=t(11572)},81604:function(W,G,t){W.exports=t(76924)},63796:function(W,G,t){W.exports=t(62944)},89336:function(W,G,t){W.exports=t(95443)},67484:function(W,G,t){W.exports=t(34864)},97312:function(W,G,t){W.exports=t(76272)},42192:function(W,G,t){W.exports=t(97924)},29800:function(W,G,t){W.exports=t(15436)},63560:function(W,G,t){W.exports=t(5621)},89904:function(W,G,t){W.exports=t(91304)},50248:function(W,G,t){W.exports=t(41724)},65832:function(W,G,t){W.exports=t(31991)},79440:function(W,G,t){W.exports=t(22869)},13752:function(W,G,t){W.exports=t(67776)},83096:function(W,G,t){W.exports=t(95952)},72196:function(W){W.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(W,G,t){var y=t(72196),D=t(25376),s=t(33816),P=t(31780).templatedArray;t(36208),W.exports=P("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:D({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:y.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:y.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",s.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",s.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:D({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(W,G,t){var y=t(3400),D=t(54460),s=t(23816).draw;W.exports=function(g){var r=g._fullLayout,e=y.filterVisible(r.annotations);if(e.length&&g._fullData.length)return y.syncOrAsync([s,P],g)};function P(d){var g=d._fullLayout;y.filterVisible(g.annotations).forEach(function(r){var e=D.getFromId(d,r.xref),o=D.getFromId(d,r.yref),n=D.getRefType(r.xref),u=D.getRefType(r.yref);r._extremes={},n==="range"&&M(r,e),u==="range"&&M(r,o)})}function M(d,g){var r=g._id,e=r.charAt(0),o=d[e],n=d["a"+e],u=d[e+"ref"],f=d["a"+e+"ref"],c=d["_"+e+"padplus"],m=d["_"+e+"padminus"],v={x:1,y:-1}[e]*d[e+"shift"],T=3*d.arrowsize*d.arrowwidth||0,h=T+v,i=T-v,p=3*d.startarrowsize*d.arrowwidth||0,w=p+v,A=p-v,L;if(f===u){var x=D.findExtremes(g,[g.r2c(o)],{ppadplus:h,ppadminus:i}),E=D.findExtremes(g,[g.r2c(n)],{ppadplus:Math.max(c,w),ppadminus:Math.max(m,A)});L={min:[x.min[0],E.min[0]],max:[x.max[0],E.max[0]]}}else w=n?w+n:w,A=n?A-n:A,L=D.findExtremes(g,[g.r2c(o)],{ppadplus:Math.max(c,h,w),ppadminus:Math.max(m,i,A)});d._extremes[r]=L}},42300:function(W,G,t){var y=t(3400),D=t(24040),s=t(31780).arrayEditor;W.exports={hasClickToShow:P,onClick:M};function P(r,e){var o=d(r,e);return o.on.length>0||o.explicitOff.length>0}function M(r,e){var o=d(r,e),n=o.on,u=o.off.concat(o.explicitOff),f={},c=r._fullLayout.annotations,m,v;if(n.length||u.length){for(m=0;m<n.length;m++)v=s(r.layout,"annotations",c[n[m]]),v.modifyItem("visible",!0),y.extendFlat(f,v.getUpdateObj());for(m=0;m<u.length;m++)v=s(r.layout,"annotations",c[u[m]]),v.modifyItem("visible",!1),y.extendFlat(f,v.getUpdateObj());return D.call("update",r,{},f)}}function d(r,e){var o=r._fullLayout.annotations,n=[],u=[],f=[],c=(e||[]).length,m,v,T,h,i,p,w,A;for(m=0;m<o.length;m++)if(T=o[m],h=T.clicktoshow,h){for(v=0;v<c;v++)if(i=e[v],p=i.xaxis,w=i.yaxis,p._id===T.xref&&w._id===T.yref&&p.d2r(i.x)===g(T._xclick,p)&&w.d2r(i.y)===g(T._yclick,w)){T.visible?h==="onout"?A=u:A=f:A=n,A.push(m);break}v===c&&T.visible&&h==="onout"&&u.push(m)}return{on:n,off:u,explicitOff:f}}function g(r,e){return e.type==="log"?e.l2r(r):e.d2r(r)}},87192:function(W,G,t){var y=t(3400),D=t(76308);W.exports=function(P,M,d,g){g("opacity");var r=g("bgcolor"),e=g("bordercolor"),o=D.opacity(e);g("borderpad");var n=g("borderwidth"),u=g("showarrow");g("text",u?" ":d._dfltTitle.annotation),g("textangle"),y.coerceFont(g,"font",d.font),g("width"),g("align");var f=g("height");if(f&&g("valign"),u){var c=g("arrowside"),m,v;c.indexOf("end")!==-1&&(m=g("arrowhead"),v=g("arrowsize")),c.indexOf("start")!==-1&&(g("startarrowhead",m),g("startarrowsize",v)),g("arrowcolor",o?M.bordercolor:D.defaultLine),g("arrowwidth",(o&&n||1)*2),g("standoff"),g("startstandoff")}var T=g("hovertext"),h=d.hoverlabel||{};if(T){var i=g("hoverlabel.bgcolor",h.bgcolor||(D.opacity(r)?D.rgb(r):D.defaultLine)),p=g("hoverlabel.bordercolor",h.bordercolor||D.contrast(i)),w=y.extendFlat({},h.font);w.color||(w.color=p),y.coerceFont(g,"hoverlabel.font",w)}g("captureevents",!!T)}},26828:function(W,G,t){var y=t(38248),D=t(36896);W.exports=function(P,M,d,g){M=M||{};var r=d==="log"&&M.type==="linear",e=d==="linear"&&M.type==="log";if(!(r||e))return;var o=P._fullLayout.annotations,n=M._id.charAt(0),u,f;function c(v){var T=u[v],h=null;r?h=D(T,M.range):h=Math.pow(10,T),y(h)||(h=null),g(f+v,h)}for(var m=0;m<o.length;m++)u=o[m],f="annotations["+m+"].",u[n+"ref"]===M._id&&c(n),u["a"+n+"ref"]===M._id&&c("a"+n)}},45216:function(W,G,t){var y=t(3400),D=t(54460),s=t(51272),P=t(87192),M=t(13916);W.exports=function(r,e){s(r,e,{name:"annotations",handleItemDefaults:d})};function d(g,r,e){function o(S,a){return y.coerce(g,r,M,S,a)}var n=o("visible"),u=o("clicktoshow");if(n||u){P(g,r,e,o);for(var f=r.showarrow,c=["x","y"],m=[-10,-30],v={_fullLayout:e},T=0;T<2;T++){var h=c[T],i=D.coerceRef(g,r,v,h,"","paper");if(i!=="paper"){var p=D.getFromId(v,i);p._annIndices.push(r._index)}if(D.coercePosition(r,v,o,i,h,.5),f){var w="a"+h,A=D.coerceRef(g,r,v,w,"pixel",["pixel","paper"]);A!=="pixel"&&A!==i&&(A=r[w]="pixel");var L=A==="pixel"?m[T]:.4;D.coercePosition(r,v,o,A,w,L)}o(h+"anchor"),o(h+"shift")}if(y.noneOrAll(g,r,["x","y"]),f&&y.noneOrAll(g,r,["ax","ay"]),u){var x=o("xclick"),E=o("yclick");r._xclick=x===void 0?r.x:D.cleanPosition(x,v,r.xref),r._yclick=E===void 0?r.y:D.cleanPosition(E,v,r.yref)}}}},23816:function(W,G,t){var y=t(33428),D=t(24040),s=t(7316),P=t(3400),M=P.strTranslate,d=t(54460),g=t(76308),r=t(43616),e=t(93024),o=t(72736),n=t(93972),u=t(86476),f=t(31780).arrayEditor,c=t(33652);W.exports={draw:m,drawOne:v,drawRaw:h};function m(i){var p=i._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var w=0;w<p.annotations.length;w++)p.annotations[w].visible&&v(i,w);return s.previousPromises(i)}function v(i,p){var w=i._fullLayout,A=w.annotations[p]||{},L=d.getFromId(i,A.xref),x=d.getFromId(i,A.yref);L&&L.setScale(),x&&x.setScale(),h(i,A,p,!1,L,x)}function T(i,p,w,A,L){var x=L[w],E=L[w+"ref"],S=w.indexOf("y")!==-1,a=d.getRefType(E)==="domain",C=S?A.h:A.w;return i?a?x+(S?-p:p)/i._length:i.p2r(i.r2p(x)+p):x+(S?-p:p)/C}function h(i,p,w,A,L,x){var E=i._fullLayout,S=i._fullLayout._size,a=i._context.edits,C,b;A?(C="annotation-"+A,b=A+".annotations"):(C="annotation",b="annotations");var z=f(i.layout,b,p),k=z.modifyBase,U=z.modifyItem,F=z.getUpdateObj;E._infolayer.selectAll("."+C+'[data-index="'+w+'"]').remove();var V="clip"+E._uid+"_ann"+w;if(!p._input||p.visible===!1){y.selectAll("#"+V).remove();return}var N={x:{},y:{}},O=+p.textangle||0,H=E._infolayer.append("g").classed(C,!0).attr("data-index",String(w)).style("opacity",p.opacity),X=H.append("g").classed("annotation-text-g",!0),J=a[p.showarrow?"annotationTail":"annotationPosition"],et=p.captureevents||a.annotationText||J;function it(mt){var At={index:w,annotation:p._input,fullAnnotation:p,event:mt};return A&&(At.subplotId=A),At}var ft=X.append("g").style("pointer-events",et?"all":null).call(n,"pointer").on("click",function(){i._dragging=!1,i.emit("plotly_clickannotation",it(y.event))});p.hovertext&&ft.on("mouseover",function(){var mt=p.hoverlabel,At=mt.font,bt=this.getBoundingClientRect(),Pt=i.getBoundingClientRect();e.loneHover({x0:bt.left-Pt.left,x1:bt.right-Pt.left,y:(bt.top+bt.bottom)/2-Pt.top,text:p.hovertext,color:mt.bgcolor,borderColor:mt.bordercolor,fontFamily:At.family,fontSize:At.size,fontColor:At.color,fontWeight:At.weight,fontStyle:At.style,fontVariant:At.variant,fontShadow:At.fontShadow,fontLineposition:At.fontLineposition,fontTextcase:At.fontTextcase},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:i})}).on("mouseout",function(){e.loneUnhover(E._hoverlayer.node())});var ot=p.borderwidth,Q=p.borderpad,tt=ot+Q,Z=ft.append("rect").attr("class","bg").style("stroke-width",ot+"px").call(g.stroke,p.bordercolor).call(g.fill,p.bgcolor),q=p.width||p.height,ut=E._topclips.selectAll("#"+V).data(q?[0]:[]);ut.enter().append("clipPath").classed("annclip",!0).attr("id",V).append("rect"),ut.exit().remove();var $=p.font,j=E._meta?P.templateString(p.text,E._meta):p.text,lt=ft.append("text").classed("annotation-text",!0).text(j);function nt(mt){return mt.call(r.font,$).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),o.convertToTspans(mt,i,ht),mt}function ht(){var mt=lt.selectAll("a");if(mt.size()===1&&mt.text()===lt.text()){var At=ft.insert("a",":first-child").attr({"xlink:xlink:href":mt.attr("xlink:href"),"xlink:xlink:show":mt.attr("xlink:show")}).style({cursor:"pointer"});At.node().appendChild(Z.node())}var bt=ft.select(".annotation-text-math-group"),Pt=!bt.empty(),_t=r.bBox((Pt?bt:lt).node()),Ut=_t.width,St=_t.height,Rt=p.width||Ut,Et=p.height||St,zt=Math.round(Rt+2*tt),Ct=Math.round(Et+2*tt);function Wt(mr,or){return or==="auto"&&(mr<.3333333333333333?or="left":mr>.6666666666666666?or="right":or="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[or]}for(var Kt=!1,oe=["x","y"],Jt=0;Jt<oe.length;Jt++){var te=oe[Jt],fe=p[te+"ref"]||te,ve=p["a"+te+"ref"],de={x:L,y:x}[te],xe=(O+(te==="x"?0:-90))*Math.PI/180,Me=zt*Math.cos(xe),ne=Ct*Math.sin(xe),kt=Math.abs(Me)+Math.abs(ne),Gt=p[te+"anchor"],Yt=p[te+"shift"]*(te==="x"?1:-1),Zt=N[te],It,Nt,Ht,Lt,dt,xt=d.getRefType(fe);if(de&&xt!=="domain"){var Ot=de.r2fraction(p[te]);(Ot<0||Ot>1)&&(ve===fe?(Ot=de.r2fraction(p["a"+te]),(Ot<0||Ot>1)&&(Kt=!0)):Kt=!0),It=de._offset+de.r2p(p[te]),Lt=.5}else{var jt=xt==="domain";te==="x"?(Ht=p[te],It=jt?de._offset+de._length*Ht:It=S.l+S.w*Ht):(Ht=1-p[te],It=jt?de._offset+de._length*Ht:It=S.t+S.h*Ht),Lt=p.showarrow?.5:Ht}if(p.showarrow){Zt.head=It;var ie=p["a"+te];if(dt=Me*Wt(.5,p.xanchor)-ne*Wt(.5,p.yanchor),ve===fe){var le=d.getRefType(ve);le==="domain"?(te==="y"&&(ie=1-ie),Zt.tail=de._offset+de._length*ie):le==="paper"?te==="y"?(ie=1-ie,Zt.tail=S.t+S.h*ie):Zt.tail=S.l+S.w*ie:Zt.tail=de._offset+de.r2p(ie),Nt=dt}else Zt.tail=It+ie,Nt=dt+ie;Zt.text=Zt.tail+dt;var Ve=E[te==="x"?"width":"height"];if(fe==="paper"&&(Zt.head=P.constrain(Zt.head,1,Ve-1)),ve==="pixel"){var je=-Math.max(Zt.tail-3,Zt.text),Te=Math.min(Zt.tail+3,Zt.text)-Ve;je>0?(Zt.tail+=je,Zt.text+=je):Te>0&&(Zt.tail-=Te,Zt.text-=Te)}Zt.tail+=Yt,Zt.head+=Yt}else dt=kt*Wt(Lt,Gt),Nt=dt,Zt.text=It+dt;Zt.text+=Yt,dt+=Yt,Nt+=Yt,p["_"+te+"padplus"]=kt/2+Nt,p["_"+te+"padminus"]=kt/2-Nt,p["_"+te+"size"]=kt,p["_"+te+"shift"]=dt}if(Kt){ft.remove();return}var Le=0,Ke=0;if(p.align!=="left"&&(Le=(Rt-Ut)*(p.align==="center"?.5:1)),p.valign!=="top"&&(Ke=(Et-St)*(p.valign==="middle"?.5:1)),Pt)bt.select("svg").attr({x:tt+Le-1,y:tt+Ke}).call(r.setClipUrl,q?V:null,i);else{var vr=tt+Ke-_t.top,ge=tt+Le-_t.left;lt.call(o.positionText,ge,vr).call(r.setClipUrl,q?V:null,i)}ut.select("rect").call(r.setRect,tt,tt,Rt,Et),Z.call(r.setRect,ot/2,ot/2,zt-ot,Ct-ot),ft.call(r.setTranslate,Math.round(N.x.text-zt/2),Math.round(N.y.text-Ct/2)),X.attr({transform:"rotate("+O+","+N.x.text+","+N.y.text+")"});var Xe=function(mr,or){H.selectAll(".annotation-arrow-g").remove();var ye=N.x.head,ue=N.y.head,be=N.x.tail+mr,Ee=N.y.tail+or,_e=N.x.text+mr,Oe=N.y.text+or,Fe=P.rotationXYMatrix(O,_e,Oe),Be=P.apply2DTransform(Fe),Je=P.apply2DTransform2(Fe),hr=+Z.attr("width"),cr=+Z.attr("height"),dr=_e-.5*hr,fr=dr+hr,Lr=Oe-.5*cr,xr=Lr+cr,Qt=[[dr,Lr,dr,xr],[dr,xr,fr,xr],[fr,xr,fr,Lr],[fr,Lr,dr,Lr]].map(Je);if(!Qt.reduce(function(Tr,vn){return Tr^!!P.segmentsIntersect(ye,ue,ye+1e6,ue+1e6,vn[0],vn[1],vn[2],vn[3])},!1)){Qt.forEach(function(Tr){var vn=P.segmentsIntersect(be,Ee,ye,ue,Tr[0],Tr[1],Tr[2],Tr[3]);vn&&(be=vn.x,Ee=vn.y)});var re=p.arrowwidth,tr=p.arrowcolor,er=p.arrowside,Ye=H.append("g").style({opacity:g.opacity(tr)}).classed("annotation-arrow-g",!0),Pe=Ye.append("path").attr("d","M"+be+","+Ee+"L"+ye+","+ue).style("stroke-width",re+"px").call(g.stroke,g.rgb(tr));if(c(Pe,er,p),a.annotationPosition&&Pe.node().parentNode&&!A){var Ze=ye,nr=ue;if(p.standoff){var Qe=Math.sqrt(Math.pow(ye-be,2)+Math.pow(ue-Ee,2));Ze+=p.standoff*(be-ye)/Qe,nr+=p.standoff*(Ee-ue)/Qe}var We=Ye.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(be-Ze)+","+(Ee-nr),transform:M(Ze,nr)}).style("stroke-width",re+6+"px").call(g.stroke,"rgba(0,0,0,0)").call(g.fill,"rgba(0,0,0,0)"),yr,Rr;u.init({element:We.node(),gd:i,prepFn:function(){var Tr=r.getTranslate(ft);yr=Tr.x,Rr=Tr.y,L&&L.autorange&&k(L._name+".autorange",!0),x&&x.autorange&&k(x._name+".autorange",!0)},moveFn:function(Tr,vn){var Or=Be(yr,Rr),En=Or[0]+Tr,nn=Or[1]+vn;ft.call(r.setTranslate,En,nn),U("x",T(L,Tr,"x",S,p)),U("y",T(x,vn,"y",S,p)),p.axref===p.xref&&U("ax",T(L,Tr,"ax",S,p)),p.ayref===p.yref&&U("ay",T(x,vn,"ay",S,p)),Ye.attr("transform",M(Tr,vn)),X.attr({transform:"rotate("+O+","+En+","+nn+")"})},doneFn:function(){D.call("_guiRelayout",i,F());var Tr=document.querySelector(".js-notes-box-panel");Tr&&Tr.redraw(Tr.selectedObj)}})}}};if(p.showarrow&&Xe(0,0),J){var $e;u.init({element:ft.node(),gd:i,prepFn:function(){$e=X.attr("transform")},moveFn:function(mr,or){var ye="pointer";if(p.showarrow)p.axref===p.xref?U("ax",T(L,mr,"ax",S,p)):U("ax",p.ax+mr),p.ayref===p.yref?U("ay",T(x,or,"ay",S.w,p)):U("ay",p.ay+or),Xe(mr,or);else{if(A)return;var ue,be;if(L)ue=T(L,mr,"x",S,p);else{var Ee=p._xsize/S.w,_e=p.x+(p._xshift-p.xshift)/S.w-Ee/2;ue=u.align(_e+mr/S.w,Ee,0,1,p.xanchor)}if(x)be=T(x,or,"y",S,p);else{var Oe=p._ysize/S.h,Fe=p.y-(p._yshift+p.yshift)/S.h-Oe/2;be=u.align(Fe-or/S.h,Oe,0,1,p.yanchor)}U("x",ue),U("y",be),(!L||!x)&&(ye=u.getCursor(L?.5:ue,x?.5:be,p.xanchor,p.yanchor))}X.attr({transform:M(mr,or)+$e}),n(ft,ye)},clickFn:function(mr,or){p.captureevents&&i.emit("plotly_clickannotation",it(or))},doneFn:function(){n(ft),D.call("_guiRelayout",i,F());var mr=document.querySelector(".js-notes-box-panel");mr&&mr.redraw(mr.selectedObj)}})}}a.annotationText?lt.call(o.makeEditable,{delegate:ft,gd:i}).call(nt).on("edit",function(mt){p.text=mt,this.call(nt),U("text",mt),L&&L.autorange&&k(L._name+".autorange",!0),x&&x.autorange&&k(x._name+".autorange",!0),D.call("_guiRelayout",i,F())}):lt.call(nt)}},33652:function(W,G,t){var y=t(33428),D=t(76308),s=t(72196),P=t(3400),M=P.strScale,d=P.strRotate,g=P.strTranslate;W.exports=function(e,o,n){var u=e.node(),f=s[n.arrowhead||0],c=s[n.startarrowhead||0],m=(n.arrowwidth||1)*(n.arrowsize||1),v=(n.arrowwidth||1)*(n.startarrowsize||1),T=o.indexOf("start")>=0,h=o.indexOf("end")>=0,i=f.backoff*m+n.standoff,p=c.backoff*v+n.startstandoff,w,A,L,x;if(u.nodeName==="line"){w={x:+e.attr("x1"),y:+e.attr("y1")},A={x:+e.attr("x2"),y:+e.attr("y2")};var E=w.x-A.x,S=w.y-A.y;if(L=Math.atan2(S,E),x=L+Math.PI,i&&p&&i+p>Math.sqrt(E*E+S*S)){X();return}if(i){if(i*i>E*E+S*S){X();return}var a=i*Math.cos(L),C=i*Math.sin(L);A.x+=a,A.y+=C,e.attr({x2:A.x,y2:A.y})}if(p){if(p*p>E*E+S*S){X();return}var b=p*Math.cos(L),z=p*Math.sin(L);w.x-=b,w.y-=z,e.attr({x1:w.x,y1:w.y})}}else if(u.nodeName==="path"){var k=u.getTotalLength(),U="";if(k<i+p){X();return}var F=u.getPointAtLength(0),V=u.getPointAtLength(.1);L=Math.atan2(F.y-V.y,F.x-V.x),w=u.getPointAtLength(Math.min(p,k)),U="0px,"+p+"px,";var N=u.getPointAtLength(k),O=u.getPointAtLength(k-.1);x=Math.atan2(N.y-O.y,N.x-O.x),A=u.getPointAtLength(Math.max(0,k-i));var H=U?p+i:i;U+=k-H+"px,"+k+"px",e.style("stroke-dasharray",U)}function X(){e.style("stroke-dasharray","0px,100px")}function J(et,it,ft,ot){et.path&&(et.noRotate&&(ft=0),y.select(u.parentNode).append("path").attr({class:e.attr("class"),d:et.path,transform:g(it.x,it.y)+d(ft*180/Math.PI)+M(ot)}).style({fill:D.rgb(n.arrowcolor),"stroke-width":0}))}T&&J(c,w,L,v),h&&J(f,A,x,m)}},79180:function(W,G,t){var y=t(23816),D=t(42300);W.exports={moduleType:"component",name:"annotations",layoutAttributes:t(13916),supplyLayoutDefaults:t(45216),includeBasePlot:t(36632)("annotations"),calcAutorange:t(90272),draw:y.draw,drawOne:y.drawOne,drawRaw:y.drawRaw,hasClickToShow:D.hasClickToShow,onClick:D.onClick,convertCoords:t(26828)}},45899:function(W,G,t){var y=t(13916),D=t(67824).overrideAll,s=t(31780).templatedArray;W.exports=D(s("annotation",{visible:y.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:y.xanchor,xshift:y.xshift,yanchor:y.yanchor,yshift:y.yshift,text:y.text,textangle:y.textangle,font:y.font,width:y.width,height:y.height,opacity:y.opacity,align:y.align,valign:y.valign,bgcolor:y.bgcolor,bordercolor:y.bordercolor,borderpad:y.borderpad,borderwidth:y.borderwidth,showarrow:y.showarrow,arrowcolor:y.arrowcolor,arrowhead:y.arrowhead,startarrowhead:y.startarrowhead,arrowside:y.arrowside,arrowsize:y.arrowsize,startarrowsize:y.startarrowsize,arrowwidth:y.arrowwidth,standoff:y.standoff,startstandoff:y.startstandoff,hovertext:y.hovertext,hoverlabel:y.hoverlabel,captureevents:y.captureevents}),"calc","from-root")},42456:function(W,G,t){var y=t(3400),D=t(54460);W.exports=function(M){for(var d=M.fullSceneLayout,g=d.annotations,r=0;r<g.length;r++)s(g[r],M);M.fullLayout._infolayer.selectAll(".annotation-"+M.id).remove()};function s(P,M){var d=M.fullSceneLayout,g=d.domain,r=M.fullLayout._size,e={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};P._xa={},y.extendFlat(P._xa,e),D.setConvert(P._xa),P._xa._offset=r.l+g.x[0]*r.w,P._xa.l2p=function(){return .5*(1+P._pdata[0]/P._pdata[3])*r.w*(g.x[1]-g.x[0])},P._ya={},y.extendFlat(P._ya,e),D.setConvert(P._ya),P._ya._offset=r.t+(1-g.y[1])*r.h,P._ya.l2p=function(){return .5*(1-P._pdata[1]/P._pdata[3])*r.h*(g.y[1]-g.y[0])}}},52808:function(W,G,t){var y=t(3400),D=t(54460),s=t(51272),P=t(87192),M=t(45899);W.exports=function(r,e,o){s(r,e,{name:"annotations",handleItemDefaults:d,fullLayout:o.fullLayout})};function d(g,r,e,o){function n(c,m){return y.coerce(g,r,M,c,m)}function u(c){var m=c+"axis",v={_fullLayout:{}};return v._fullLayout[m]=e[m],D.coercePosition(r,v,n,c,c,.5)}var f=n("visible");f&&(P(g,r,o.fullLayout,n),u("x"),u("y"),u("z"),y.noneOrAll(g,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),y.noneOrAll(g,r,["ax","ay"])))}},71836:function(W,G,t){var y=t(23816).drawRaw,D=t(94424),s=["x","y","z"];W.exports=function(M){for(var d=M.fullSceneLayout,g=M.dataScale,r=d.annotations,e=0;e<r.length;e++){for(var o=r[e],n=!1,u=0;u<3;u++){var f=s[u],c=o[f],m=d[f+"axis"],v=m.r2fraction(c);if(v<0||v>1){n=!0;break}}n?M.fullLayout._infolayer.select(".annotation-"+M.id+'[data-index="'+e+'"]').remove():(o._pdata=D(M.glplot.cameraParams,[d.xaxis.r2l(o.x)*g[0],d.yaxis.r2l(o.y)*g[1],d.zaxis.r2l(o.z)*g[2]]),y(M.graphDiv,o,e,M.id,o._xa,o._ya))}}},56864:function(W,G,t){var y=t(24040),D=t(3400);W.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t(45899)}}},layoutAttributes:t(45899),handleDefaults:t(52808),includeBasePlot:s,convert:t(42456),draw:t(71836)};function s(P,M){var d=y.subplotsRegistry.gl3d;if(d)for(var g=d.attrRegex,r=Object.keys(P),e=0;e<r.length;e++){var o=r[e];g.test(o)&&(P[o].annotations||[]).length&&(D.pushUnique(M._basePlotModules,d),D.pushUnique(M._subplots.gl3d,o))}}},54976:function(W,G,t){W.exports=t(38700),t(15168),t(67020),t(89792),t(55668),t(65168),t(2084),t(26368),t(24747),t(65616),t(30632),t(73040),t(1104),t(51456),t(4592),t(45348)},97776:function(W,G,t){var y=t(54976),D=t(3400),s=t(39032),P=s.EPOCHJD,M=s.ONEDAY,d={valType:"enumerated",values:D.sortObjectKeys(y.calendars),editType:"calc",dflt:"gregorian"},g=function(L,x,E,S){var a={};return a[E]=d,D.coerce(L,x,a,E,S)},r=function(L,x,E,S){for(var a=0;a<E.length;a++)g(L,x,E[a]+"calendar",S.calendar)},e={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},o={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},u="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:u,w:u,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function c(L,x,E){for(var S=Math.floor((x+.05)/M)+P,a=v(E).fromJD(S),C=0,b,z,k,U,F;(C=L.indexOf("%",C))!==-1;)b=L.charAt(C+1),b==="0"||b==="-"||b==="_"?(k=3,z=L.charAt(C+2),b==="_"&&(b="-")):(z=b,b="0",k=2),U=f[z],U?(U===u?F=u:F=a.formatDate(U[b]),L=L.substr(0,C)+F+L.substr(C+k),C+=F.length):C+=k;return L}var m={};function v(L){var x=m[L];return x||(x=m[L]=y.instance(L),x)}function T(L){return D.extendFlat({},d,{description:L})}function h(L){return"Sets the calendar system to use with `"+L+"` date data."}var i={xcalendar:T(h("x"))},p=D.extendFlat({},i,{ycalendar:T(h("y"))}),w=D.extendFlat({},p,{zcalendar:T(h("z"))}),A=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));W.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:w,surface:w,mesh3d:w,scattergl:p,ohlc:i,candlestick:i},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:A},yaxis:{calendar:A},scene:{xaxis:{calendar:A},yaxis:{calendar:A},zaxis:{calendar:A}},polar:{radialaxis:{calendar:A}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:d,handleDefaults:g,handleTraceDefaults:r,CANONICAL_SUNDAY:o,CANONICAL_TICK:e,DFLTRANGE:n,getCal:v,worldCalFmt:c}},22548:function(W,G){G.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],G.defaultLine="#444",G.lightLine="#eee",G.background="#fff",G.borderLine="#BEC8D9",G.lightFraction=90.9090909090909},76308:function(W,G,t){var y=t(49760),D=t(38248),s=t(38116).isTypedArray,P=W.exports={},M=t(22548);P.defaults=M.defaults;var d=P.defaultLine=M.defaultLine;P.lightLine=M.lightLine;var g=P.background=M.background;P.tinyRGB=function(e){var o=e.toRgb();return"rgb("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+")"},P.rgb=function(e){return P.tinyRGB(y(e))},P.opacity=function(e){return e?y(e).getAlpha():0},P.addOpacity=function(e,o){var n=y(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+o+")"},P.combine=function(e,o){var n=y(e).toRgb();if(n.a===1)return y(e).toRgbString();var u=y(o||g).toRgb(),f=u.a===1?u:{r:255*(1-u.a)+u.r*u.a,g:255*(1-u.a)+u.g*u.a,b:255*(1-u.a)+u.b*u.a},c={r:f.r*(1-n.a)+n.r*n.a,g:f.g*(1-n.a)+n.g*n.a,b:f.b*(1-n.a)+n.b*n.a};return y(c).toRgbString()},P.interpolate=function(e,o,n){var u=y(e).toRgb(),f=y(o).toRgb(),c={r:n*u.r+(1-n)*f.r,g:n*u.g+(1-n)*f.g,b:n*u.b+(1-n)*f.b};return y(c).toRgbString()},P.contrast=function(e,o,n){var u=y(e);u.getAlpha()!==1&&(u=y(P.combine(e,g)));var f=u.isDark()?o?u.lighten(o):g:n?u.darken(n):d;return f.toString()},P.stroke=function(e,o){var n=y(o);e.style({stroke:P.tinyRGB(n),"stroke-opacity":n.getAlpha()})},P.fill=function(e,o){var n=y(o);e.style({fill:P.tinyRGB(n),"fill-opacity":n.getAlpha()})},P.clean=function(e){if(!(!e||typeof e!="object")){var o=Object.keys(e),n,u,f,c;for(n=0;n<o.length;n++)if(f=o[n],c=e[f],f.substr(f.length-5)==="color")if(Array.isArray(c))for(u=0;u<c.length;u++)c[u]=r(c[u]);else e[f]=r(c);else if(f.substr(f.length-10)==="colorscale"&&Array.isArray(c))for(u=0;u<c.length;u++)Array.isArray(c[u])&&(c[u][1]=r(c[u][1]));else if(Array.isArray(c)){var m=c[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(u=0;u<c.length;u++)P.clean(c[u])}else c&&typeof c=="object"&&!s(c)&&P.clean(c)}};function r(e){if(D(e)||typeof e!="string")return e;var o=e.trim();if(o.substr(0,3)!=="rgb")return e;var n=o.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var u=n[1].trim().split(/\s*[\s,]\s*/),f=o.charAt(3)==="a"&&u.length===4;if(!f&&u.length!==3)return e;for(var c=0;c<u.length;c++){if(!u[c].length||(u[c]=Number(u[c]),!(u[c]>=0)))return e;if(c===3)u[c]>1&&(u[c]=1);else if(u[c]>=1)return e}var m=Math.round(u[0]*255)+", "+Math.round(u[1]*255)+", "+Math.round(u[2]*255);return f?"rgba("+m+", "+u[3]+")":"rgb("+m+")"}},42996:function(W,G,t){var y=t(94724),D=t(25376),s=t(92880).extendFlat,P=t(67824).overrideAll;W.exports=P({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:y.linecolor,outlinewidth:y.linewidth,bordercolor:y.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:s({},y.ticks,{dflt:""}),ticklabeloverflow:s({},y.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:D({}),tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,separatethousands:y.separatethousands,exponentformat:y.exponentformat,minexponent:y.minexponent,showexponent:y.showexponent,title:{text:{valType:"string"},font:D({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:D({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(W){W.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(W,G,t){var y=t(3400),D=t(31780),s=t(26332),P=t(25404),M=t(95936),d=t(42568),g=t(42996);W.exports=function(e,o,n){var u=D.newContainer(o,"colorbar"),f=e.colorbar||{};function c(N,O){return y.coerce(f,u,g,N,O)}var m=n.margin||{t:0,b:0,l:0,r:0},v=n.width-m.l-m.r,T=n.height-m.t-m.b,h=c("orientation"),i=h==="v",p=c("thicknessmode");c("thickness",p==="fraction"?30/(i?v:T):30);var w=c("lenmode");c("len",w==="fraction"?1:i?T:v);var A=c("yref"),L=c("xref"),x=A==="paper",E=L==="paper",S,a,C,b="left";i?(C="middle",b=E?"left":"right",S=E?1.02:1,a=.5):(C=x?"bottom":"top",b="center",S=.5,a=x?1.02:1),y.coerce(f,u,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:S}},"x"),y.coerce(f,u,{y:{valType:"number",min:x?-2:0,max:x?3:1,dflt:a}},"y"),c("xanchor",b),c("xpad"),c("yanchor",C),c("ypad"),y.noneOrAll(f,u,["x","y"]),c("outlinecolor"),c("outlinewidth"),c("bordercolor"),c("borderwidth"),c("bgcolor");var z=y.coerce(f,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:i?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");c("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":"hide past div"),s(f,u,c,"linear");var k=n.font,U={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:k};z.indexOf("inside")!==-1&&(U.bgColor="black"),d(f,u,c,"linear",U),M(f,u,c,"linear",U),P(f,u,c,"linear",U),c("title.text",n._dfltTitle.colorbar);var F=u.showticklabels?u.tickfont:k,V=y.extendFlat({},k,{family:F.family,size:y.bigFont(F.size)});y.coerceFont(c,"title.font",V),c("title.side",i?"top":"right")}},37848:function(W,G,t){var y=t(33428),D=t(49760),s=t(7316),P=t(24040),M=t(54460),d=t(86476),g=t(3400),r=g.strTranslate,e=t(92880).extendFlat,o=t(93972),n=t(43616),u=t(76308),f=t(81668),c=t(72736),m=t(94288).flipScale,v=t(28336),T=t(37668),h=t(94724),i=t(84284),p=i.LINE_SPACING,w=i.FROM_TL,A=i.FROM_BR,L=t(63964).cn;function x(z){var k=z._fullLayout,U=k._infolayer.selectAll("g."+L.colorbar).data(E(z),function(F){return F._id});U.enter().append("g").attr("class",function(F){return F._id}).classed(L.colorbar,!0),U.each(function(F){var V=y.select(this);g.ensureSingle(V,"rect",L.cbbg),g.ensureSingle(V,"g",L.cbfills),g.ensureSingle(V,"g",L.cblines),g.ensureSingle(V,"g",L.cbaxis,function(O){O.classed(L.crisp,!0)}),g.ensureSingle(V,"g",L.cbtitleunshift,function(O){O.append("g").classed(L.cbtitle,!0)}),g.ensureSingle(V,"rect",L.cboutline);var N=S(V,F,z);N&&N.then&&(z._promises||[]).push(N),z._context.edits.colorbarPosition&&a(V,F,z)}),U.exit().each(function(F){s.autoMargin(z,F._id)}).remove(),U.order()}function E(z){var k=z._fullLayout,U=z.calcdata,F=[],V,N,O,H;function X($){return e($,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function J(){typeof H.calc=="function"?H.calc(z,O,V):(V._fillgradient=N.reversescale?m(N.colorscale):N.colorscale,V._zrange=[N[H.min],N[H.max]])}for(var et=0;et<U.length;et++){var it=U[et];if(O=it[0].trace,!!O._module){var ft=O._module.colorbar;if(O.visible===!0&&ft)for(var ot=Array.isArray(ft),Q=ot?ft:[ft],tt=0;tt<Q.length;tt++){H=Q[tt];var Z=H.container;N=Z?O[Z]:O,N&&N.showscale&&(V=X(N.colorbar),V._id="cb"+O.uid+(ot&&Z?"-"+Z:""),V._traceIndex=O.index,V._propPrefix=(Z?Z+".":"")+"colorbar.",V._meta=O._meta,J(),F.push(V))}}}for(var q in k._colorAxes)if(N=k[q],N.showscale){var ut=k._colorAxes[q];V=X(N.colorbar),V._id="cb"+q,V._propPrefix=q+".colorbar.",V._meta=k._meta,H={min:"cmin",max:"cmax"},ut[0]!=="heatmap"&&(O=ut[1],H.calc=O._module.colorbar.calc),J(),F.push(V)}return F}function S(z,k,U){var F=k.orientation==="v",V=k.len,N=k.lenmode,O=k.thickness,H=k.thicknessmode,X=k.outlinewidth,J=k.borderwidth,et=k.bgcolor,it=k.xanchor,ft=k.yanchor,ot=k.xpad,Q=k.ypad,tt=k.x,Z=F?k.y:1-k.y,q=k.yref==="paper",ut=k.xref==="paper",$=U._fullLayout,j=$._size,lt=k._fillcolor,nt=k._line,ht=k.title,mt=ht.side,At=k._zrange||y.extent((typeof lt=="function"?lt:nt.color).domain()),bt=typeof nt.color=="function"?nt.color:function(){return nt.color},Pt=typeof lt=="function"?lt:function(){return lt},_t=k._levels,Ut=C(U,k,At),St=Ut.fill,Rt=Ut.line,Et=Math.round(O*(H==="fraction"?F?j.w:j.h:1)),zt=Et/(F?j.w:j.h),Ct=Math.round(V*(N==="fraction"?F?j.h:j.w:1)),Wt=Ct/(F?j.h:j.w),Kt=ut?j.w:U._fullLayout.width,oe=q?j.h:U._fullLayout.height,Jt=Math.round(F?tt*Kt+ot:Z*oe+Q),te={center:.5,right:1}[it]||0,fe={top:1,middle:.5}[ft]||0,ve=F?tt-te*zt:Z-fe*zt,de=F?Z-fe*Wt:tt-te*Wt,xe=Math.round(F?oe*(1-de):Kt*de);k._lenFrac=Wt,k._thickFrac=zt,k._uFrac=ve,k._vFrac=de;var Me=k._axis=b(U,k,At);Me.position=zt+(F?tt+ot/j.w:Z+Q/j.h);var ne=["top","bottom"].indexOf(mt)!==-1;if(F&&ne&&(Me.title.side=mt,Me.titlex=tt+ot/j.w,Me.titley=de+(ht.side==="top"?Wt-Q/j.h:Q/j.h)),!F&&!ne&&(Me.title.side=mt,Me.titley=Z+Q/j.h,Me.titlex=de+ot/j.w),nt.color&&k.tickmode==="auto"){Me.tickmode="linear",Me.tick0=_t.start;var kt=_t.size,Gt=g.constrain(Ct/50,4,15)+1,Yt=(At[1]-At[0])/((k.nticks||Gt)*kt);if(Yt>1){var Zt=Math.pow(10,Math.floor(Math.log(Yt)/Math.LN10));kt*=Zt*g.roundUp(Yt/Zt,[2,5,10]),(Math.abs(_t.start)/_t.size+1e-6)%1<2e-6&&(Me.tick0=0)}Me.dtick=kt}Me.domain=F?[de+Q/j.h,de+Wt-Q/j.h]:[de+ot/j.w,de+Wt-ot/j.w],Me.setScale(),z.attr("transform",r(Math.round(j.l),Math.round(j.t)));var It=z.select("."+L.cbtitleunshift).attr("transform",r(-Math.round(j.l),-Math.round(j.t))),Nt=Me.ticklabelposition,Ht=Me.title.font.size,Lt=z.select("."+L.cbaxis),dt,xt=0,Ot=0;function jt(Te,Le){var Ke={propContainer:Me,propName:k._propPrefix+"title",traceIndex:k._traceIndex,_meta:k._meta,placeholder:$._dfltTitle.colorbar,containerGroup:z.select("."+L.cbtitle)},vr=Te.charAt(0)==="h"?Te.substr(1):"h"+Te;z.selectAll("."+vr+",."+vr+"-math-group").remove(),f.draw(U,Te,e(Ke,Le||{}))}function ie(){if(F&&ne||!F&&!ne){var Te,Le;mt==="top"&&(Te=ot+j.l+Kt*tt,Le=Q+j.t+oe*(1-de-Wt)+3+Ht*.75),mt==="bottom"&&(Te=ot+j.l+Kt*tt,Le=Q+j.t+oe*(1-de)-3-Ht*.25),mt==="right"&&(Le=Q+j.t+oe*Z+3+Ht*.75,Te=ot+j.l+Kt*de),jt(Me._id+"title",{attributes:{x:Te,y:Le,"text-anchor":F?"start":"middle"}})}}function le(){if(F&&!ne||!F&&ne){var Te=Me.position||0,Le=Me._offset+Me._length/2,Ke,vr;if(mt==="right")vr=Le,Ke=j.l+Kt*Te+10+Ht*(Me.showticklabels?1:.5);else if(Ke=Le,mt==="bottom"&&(vr=j.t+oe*Te+10+(Nt.indexOf("inside")===-1?Me.tickfont.size:0)+(Me.ticks!=="intside"&&k.ticklen||0)),mt==="top"){var ge=ht.text.split("<br>").length;vr=j.t+oe*Te+10-Et-p*Ht*ge}jt((F?"h":"v")+Me._id+"title",{avoid:{selection:y.select(U).selectAll("g."+Me._id+"tick"),side:mt,offsetTop:F?0:j.t,offsetLeft:F?j.l:0,maxShift:F?$.width:$.height},attributes:{x:Ke,y:vr,"text-anchor":"middle"},transform:{rotate:F?-90:0,offset:0}})}}function Ve(){if(!F&&!ne||F&&ne){var Te=z.select("."+L.cbtitle),Le=Te.select("text"),Ke=[-X/2,X/2],vr=Te.select(".h"+Me._id+"title-math-group").node(),ge=15.6;Le.node()&&(ge=parseInt(Le.node().style.fontSize,10)*p);var Xe;if(vr?(Xe=n.bBox(vr),Ot=Xe.width,xt=Xe.height,xt>ge&&(Ke[1]-=(xt-ge)/2)):Le.node()&&!Le.classed(L.jsPlaceholder)&&(Xe=n.bBox(Le.node()),Ot=Xe.width,xt=Xe.height),F){if(xt){if(xt+=5,mt==="top")Me.domain[1]-=xt/j.h,Ke[1]*=-1;else{Me.domain[0]+=xt/j.h;var $e=c.lineCount(Le);Ke[1]+=(1-$e)*ge}Te.attr("transform",r(Ke[0],Ke[1])),Me.setScale()}}else Ot&&(mt==="right"&&(Me.domain[0]+=(Ot+Ht/2)/j.w),Te.attr("transform",r(Ke[0],Ke[1])),Me.setScale())}z.selectAll("."+L.cbfills+",."+L.cblines).attr("transform",F?r(0,Math.round(j.h*(1-Me.domain[1]))):r(Math.round(j.w*Me.domain[0]),0)),Lt.attr("transform",F?r(0,Math.round(-j.t)):r(Math.round(-j.l),0));var mr=z.select("."+L.cbfills).selectAll("rect."+L.cbfill).attr("style","").data(St);mr.enter().append("rect").classed(L.cbfill,!0).attr("style",""),mr.exit().remove();var or=At.map(Me.c2p).map(Math.round).sort(function(_e,Oe){return _e-Oe});mr.each(function(_e,Oe){var Fe=[Oe===0?At[0]:(St[Oe]+St[Oe-1])/2,Oe===St.length-1?At[1]:(St[Oe]+St[Oe+1])/2].map(Me.c2p).map(Math.round);F&&(Fe[1]=g.constrain(Fe[1]+(Fe[1]>Fe[0])?1:-1,or[0],or[1]));var Be=y.select(this).attr(F?"x":"y",Jt).attr(F?"y":"x",y.min(Fe)).attr(F?"width":"height",Math.max(Et,2)).attr(F?"height":"width",Math.max(y.max(Fe)-y.min(Fe),2));if(k._fillgradient)n.gradient(Be,U,k._id,F?"vertical":"horizontalreversed",k._fillgradient,"fill");else{var Je=Pt(_e).replace("e-","");Be.attr("fill",D(Je).toHexString())}});var ye=z.select("."+L.cblines).selectAll("path."+L.cbline).data(nt.color&&nt.width?Rt:[]);ye.enter().append("path").classed(L.cbline,!0),ye.exit().remove(),ye.each(function(_e){var Oe=Jt,Fe=Math.round(Me.c2p(_e))+nt.width/2%1;y.select(this).attr("d","M"+(F?Oe+","+Fe:Fe+","+Oe)+(F?"h":"v")+Et).call(n.lineGroupStyle,nt.width,bt(_e),nt.dash)}),Lt.selectAll("g."+Me._id+"tick,path").remove();var ue=Jt+Et+(X||0)/2-(k.ticks==="outside"?1:0),be=M.calcTicks(Me),Ee=M.getTickSigns(Me)[2];return M.drawTicks(U,Me,{vals:Me.ticks==="inside"?M.clipEnds(Me,be):be,layer:Lt,path:M.makeTickPath(Me,ue,Ee),transFn:M.makeTransTickFn(Me)}),M.drawLabels(U,Me,{vals:be,layer:Lt,transFn:M.makeTransTickLabelFn(Me),labelFns:M.makeLabelFns(Me,ue)})}function je(){var Te,Le=Et+X/2;Nt.indexOf("inside")===-1&&(Te=n.bBox(Lt.node()),Le+=F?Te.width:Te.height),dt=It.select("text");var Ke=0,vr=F&&mt==="top",ge=!F&&mt==="right",Xe=0;if(dt.node()&&!dt.classed(L.jsPlaceholder)){var $e,mr=It.select(".h"+Me._id+"title-math-group").node();mr&&(F&&ne||!F&&!ne)?(Te=n.bBox(mr),Ke=Te.width,$e=Te.height):(Te=n.bBox(It.node()),Ke=Te.right-j.l-(F?Jt:xe),$e=Te.bottom-j.t-(F?xe:Jt),!F&&mt==="top"&&(Le+=Te.height,Xe=Te.height)),ge&&(dt.attr("transform",r(Ke/2+Ht/2,0)),Ke*=2),Le=Math.max(Le,F?Ke:$e)}var or=(F?ot:Q)*2+Le+J+X/2,ye=0;!F&&ht.text&&ft==="bottom"&&Z<=0&&(ye=or/2,or+=ye,Xe+=ye),$._hColorbarMoveTitle=ye,$._hColorbarMoveCBTitle=Xe;var ue=J+X,be=(F?Jt:xe)-ue/2-(F?ot:0),Ee=(F?xe:Jt)-(F?Ct:Q+Xe-ye);z.select("."+L.cbbg).attr("x",be).attr("y",Ee).attr(F?"width":"height",Math.max(or-ye,2)).attr(F?"height":"width",Math.max(Ct+ue,2)).call(u.fill,et).call(u.stroke,k.bordercolor).style("stroke-width",J);var _e=ge?Math.max(Ke-10,0):0;z.selectAll("."+L.cboutline).attr("x",(F?Jt:xe+ot)+_e).attr("y",(F?xe+Q-Ct:Jt)+(vr?xt:0)).attr(F?"width":"height",Math.max(Et,2)).attr(F?"height":"width",Math.max(Ct-(F?2*Q+xt:2*ot+_e),2)).call(u.stroke,k.outlinecolor).style({fill:"none","stroke-width":X});var Oe=F?te*or:0,Fe=F?0:(1-fe)*or-Xe;if(Oe=ut?j.l-Oe:-Oe,Fe=q?j.t-Fe:-Fe,z.attr("transform",r(Oe,Fe)),!F&&(J||D(et).getAlpha()&&!D.equals($.paper_bgcolor,et))){var Be=Lt.selectAll("text"),Je=Be[0].length,hr=z.select("."+L.cbbg).node(),cr=n.bBox(hr),dr=n.getTranslate(z),fr=2;Be.each(function(nr,Qe){var We=0,yr=Je-1;if(Qe===We||Qe===yr){var Rr=n.bBox(this),Tr=n.getTranslate(this),vn;if(Qe===yr){var Or=Rr.right+Tr.x,En=cr.right+dr.x+xe-J-fr+tt;vn=En-Or,vn>0&&(vn=0)}else if(Qe===We){var nn=Rr.left+Tr.x,gr=cr.left+dr.x+xe+J+fr;vn=gr-nn,vn<0&&(vn=0)}vn&&(Je<3?this.setAttribute("transform","translate("+vn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Lr={},xr=w[it],Qt=A[it],re=w[ft],tr=A[ft],er=or-Et;F?(N==="pixels"?(Lr.y=Z,Lr.t=Ct*re,Lr.b=Ct*tr):(Lr.t=Lr.b=0,Lr.yt=Z+V*re,Lr.yb=Z-V*tr),H==="pixels"?(Lr.x=tt,Lr.l=or*xr,Lr.r=or*Qt):(Lr.l=er*xr,Lr.r=er*Qt,Lr.xl=tt-O*xr,Lr.xr=tt+O*Qt)):(N==="pixels"?(Lr.x=tt,Lr.l=Ct*xr,Lr.r=Ct*Qt):(Lr.l=Lr.r=0,Lr.xl=tt+V*xr,Lr.xr=tt-V*Qt),H==="pixels"?(Lr.y=1-Z,Lr.t=or*re,Lr.b=or*tr):(Lr.t=er*re,Lr.b=er*tr,Lr.yt=Z-O*re,Lr.yb=Z+O*tr));var Ye=k.y<.5?"b":"t",Pe=k.x<.5?"l":"r";U._fullLayout._reservedMargin[k._id]={};var Ze={r:$.width-be-Oe,l:be+Lr.r,b:$.height-Ee-Fe,t:Ee+Lr.b};ut&&q?s.autoMargin(U,k._id,Lr):ut?U._fullLayout._reservedMargin[k._id][Ye]=Ze[Ye]:q||F?U._fullLayout._reservedMargin[k._id][Pe]=Ze[Pe]:U._fullLayout._reservedMargin[k._id][Ye]=Ze[Ye]}return g.syncOrAsync([s.previousPromises,ie,Ve,le,s.previousPromises,je],U)}function a(z,k,U){var F=k.orientation==="v",V=U._fullLayout,N=V._size,O,H,X;d.init({element:z.node(),gd:U,prepFn:function(){O=z.attr("transform"),o(z)},moveFn:function(J,et){z.attr("transform",O+r(J,et)),H=d.align((F?k._uFrac:k._vFrac)+J/N.w,F?k._thickFrac:k._lenFrac,0,1,k.xanchor),X=d.align((F?k._vFrac:1-k._uFrac)-et/N.h,F?k._lenFrac:k._thickFrac,0,1,k.yanchor);var it=d.getCursor(H,X,k.xanchor,k.yanchor);o(z,it)},doneFn:function(){if(o(z),H!==void 0&&X!==void 0){var J={};J[k._propPrefix+"x"]=H,J[k._propPrefix+"y"]=X,k._traceIndex!==void 0?P.call("_guiRestyle",U,J,k._traceIndex):P.call("_guiRelayout",U,J)}}})}function C(z,k,U){var F=k._levels,V=[],N=[],O,H,X=F.end+F.size/100,J=F.size,et=1.001*U[0]-.001*U[1],it=1.001*U[1]-.001*U[0];for(H=0;H<1e5&&(O=F.start+H*J,!(J>0?O>=X:O<=X));H++)O>et&&O<it&&V.push(O);if(k._fillgradient)N=[0];else if(typeof k._fillcolor=="function"){var ft=k._filllevels;if(ft)for(X=ft.end+ft.size/100,J=ft.size,H=0;H<1e5&&(O=ft.start+H*J,!(J>0?O>=X:O<=X));H++)O>U[0]&&O<U[1]&&N.push(O);else N=V.map(function(ot){return ot-F.size/2}),N.push(N[N.length-1]+F.size)}else k._fillcolor&&typeof k._fillcolor=="string"&&(N=[0]);return F.size<0&&(V.reverse(),N.reverse()),{line:V,fill:N}}function b(z,k,U){var F=z._fullLayout,V=k.orientation==="v",N={type:"linear",range:U,tickmode:k.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,ticklabelposition:k.ticklabelposition,ticklabeloverflow:k.ticklabeloverflow,ticklabelstep:k.ticklabelstep,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,showexponent:k.showexponent,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,title:k.title,showline:!0,anchor:"free",side:V?"right":"bottom",position:1},O=V?"y":"x",H={type:"linear",_id:O+k._id},X={letter:O,font:F.font,noAutotickangles:O==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:F.calendar};function J(et,it){return g.coerce(N,H,h,et,it)}return v(N,H,J,X,F),T(N,H,J,X),H}W.exports={draw:x}},90553:function(W,G,t){var y=t(3400);W.exports=function(s){return y.isPlainObject(s.colorbar)}},55080:function(W,G,t){W.exports={moduleType:"component",name:"colorbar",attributes:t(42996),supplyDefaults:t(64013),draw:t(37848).draw,hasColorbar:t(90553)}},49084:function(W,G,t){var y=t(42996),D=t(53756).counter,s=t(95376),P=t(88304).scales;s(P),W.exports=function(d,g){d=d||"",g=g||{};var r=g.cLetter||"c";"onlyIfNumerical"in g&&g.onlyIfNumerical;var e="noScale"in g?g.noScale:d==="marker.line",o="showScaleDflt"in g?g.showScaleDflt:r==="z",n=typeof g.colorscaleDflt=="string"?P[g.colorscaleDflt]:null,u=g.editTypeOverride||"",f;"colorAttr"in g?(f=g.colorAttr,g.colorAttr):f={z:"z",c:"color"}[r];var c=r+"auto",m=r+"min",v=r+"max",T=r+"mid",h={};h[m]=h[v]=void 0;var i={};i[c]=!1;var p={};return f==="color"&&(p.color={valType:"color",arrayOk:!0,editType:u||"style"},g.anim&&(p.color.anim=!0)),p[c]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},p[m]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:i},p[v]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:i},p[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},p.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},p.autocolorscale={valType:"boolean",dflt:g.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},p.reversescale={valType:"boolean",dflt:!1,editType:"plot"},e||(p.showscale={valType:"boolean",dflt:o,editType:"calc"},p.colorbar=y),g.noColorAxis||(p.coloraxis={valType:"subplotid",regex:D("coloraxis"),dflt:null,editType:"calc"}),p}},47128:function(W,G,t){var y=t(38248),D=t(3400),s=t(94288).extractOpts;W.exports=function(M,d,g){var r=M._fullLayout,e=g.vals,o=g.containerStr,n=o?D.nestedProperty(d,o).get():d,u=s(n),f=u.auto!==!1,c=u.min,m=u.max,v=u.mid,T=function(){return D.aggNums(Math.min,null,e)},h=function(){return D.aggNums(Math.max,null,e)};if(c===void 0?c=T():f&&(n._colorAx&&y(c)?c=Math.min(c,T()):c=T()),m===void 0?m=h():f&&(n._colorAx&&y(m)?m=Math.max(m,h()):m=h()),f&&v!==void 0&&(m-v>v-c?c=v-(m-v):m-v<v-c&&(m=v+(v-c))),c===m&&(c-=.5,m+=.5),u._sync("min",c),u._sync("max",m),u.autocolorscale){var i;c*m<0?i=r.colorscale.diverging:c>=0?i=r.colorscale.sequential:i=r.colorscale.sequentialminus,u._sync("colorscale",i)}}},95504:function(W,G,t){var y=t(3400),D=t(94288).hasColorscale,s=t(94288).extractOpts;W.exports=function(M,d){function g(c,m){var v=c["_"+m];v!==void 0&&(c[m]=v)}function r(c,m){var v=m.container?y.nestedProperty(c,m.container).get():c;if(v)if(v.coloraxis)v._colorAx=d[v.coloraxis];else{var T=s(v),h=T.auto;(h||T.min===void 0)&&g(v,m.min),(h||T.max===void 0)&&g(v,m.max),T.autocolorscale&&g(v,"colorscale")}}for(var e=0;e<M.length;e++){var o=M[e],n=o._module.colorbar;if(n)if(Array.isArray(n))for(var u=0;u<n.length;u++)r(o,n[u]);else r(o,n);D(o,"marker.line")&&r(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in d._colorAxes)r(d[f],{min:"cmin",max:"cmax"})}},27260:function(W,G,t){var y=t(38248),D=t(3400),s=t(90553),P=t(64013),M=t(88304).isValid,d=t(24040).traceIs;function g(r,e){var o=e.slice(0,e.length-1);return e?D.nestedProperty(r,o).get()||{}:r}W.exports=function r(e,o,n,u,f){var c=f.prefix,m=f.cLetter,v="_module"in o,T=g(e,c),h=g(o,c),i=g(o._template||{},c)||{},p=function(){return delete e.coloraxis,delete o.coloraxis,r(e,o,n,u,f)};if(v){var w=n._colorAxes||{},A=u(c+"coloraxis");if(A){var L=d(o,"contour")&&D.nestedProperty(o,"contours.coloring").get()||"heatmap",x=w[A];x?(x[2].push(p),x[0]!==L&&(x[0]=!1,D.warn(["Ignoring coloraxis:",A,"setting","as it is linked to incompatible colorscales."].join(" ")))):w[A]=[L,o,[p]];return}}var E=T[m+"min"],S=T[m+"max"],a=y(E)&&y(S)&&E<S,C=u(c+m+"auto",!a);C?u(c+m+"mid"):(u(c+m+"min"),u(c+m+"max"));var b=T.colorscale,z=i.colorscale,k;if(b!==void 0&&(k=!M(b)),z!==void 0&&(k=!M(z)),u(c+"autocolorscale",k),u(c+"colorscale"),u(c+"reversescale"),c!=="marker.line."){var U;c&&v&&(U=s(T));var F=u(c+"showscale",U);F&&(c&&i&&(h._template=i),P(T,h,n))}}},94288:function(W,G,t){var y=t(33428),D=t(49760),s=t(38248),P=t(3400),M=t(76308),d=t(88304).isValid;function g(v,T,h){var i=T?P.nestedProperty(v,T).get()||{}:v,p=i[h||"color"];p&&p._inputArray&&(p=p._inputArray);var w=!1;if(P.isArrayOrTypedArray(p)){for(var A=0;A<p.length;A++)if(s(p[A])){w=!0;break}}return P.isPlainObject(i)&&(w||i.showscale===!0||s(i.cmin)&&s(i.cmax)||d(i.colorscale)||P.isPlainObject(i.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],e=["min","max","mid","auto"];function o(v){var T=v._colorAx,h=T||v,i={},p,w,A;for(w=0;w<r.length;w++)A=r[w],i[A]=h[A];if(T)for(p="c",w=0;w<e.length;w++)A=e[w],i[A]=h["c"+A];else{var L;for(w=0;w<e.length;w++){if(A=e[w],L="c"+A,L in h){i[A]=h[L];continue}L="z"+A,L in h&&(i[A]=h[L])}p=L.charAt(0)}return i._sync=function(x,E){var S=e.indexOf(x)!==-1?p+x:x;h[S]=h["_"+S]=E},i}function n(v){for(var T=o(v),h=T.min,i=T.max,p=T.reversescale?u(T.colorscale):T.colorscale,w=p.length,A=new Array(w),L=new Array(w),x=0;x<w;x++){var E=p[x];A[x]=h+E[0]*(i-h),L[x]=E[1]}return{domain:A,range:L}}function u(v){for(var T=v.length,h=new Array(T),i=T-1,p=0;i>=0;i--,p++){var w=v[i];h[p]=[1-w[0],w[1]]}return h}function f(v,T){T=T||{};for(var h=v.domain,i=v.range,p=i.length,w=new Array(p),A=0;A<p;A++){var L=D(i[A]).toRgb();w[A]=[L.r,L.g,L.b,L.a]}var x=y.scale.linear().domain(h).range(w).clamp(!0),E=T.noNumericCheck,S=T.returnArray,a;return E&&S?a=x:E?a=function(C){return m(x(C))}:S?a=function(C){return s(C)?x(C):D(C).isValid()?C:M.defaultLine}:a=function(C){return s(C)?m(x(C)):D(C).isValid()?C:M.defaultLine},a.domain=x.domain,a.range=function(){return i},a}function c(v,T){return f(n(v),T)}function m(v){var T={r:v[0],g:v[1],b:v[2],a:v[3]};return D(T).toRgbString()}W.exports={hasColorscale:g,extractOpts:o,extractScale:n,flipScale:u,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:c}},8932:function(W,G,t){var y=t(88304),D=t(94288);W.exports={moduleType:"component",name:"colorscale",attributes:t(49084),layoutAttributes:t(92332),supplyLayoutDefaults:t(51608),handleDefaults:t(27260),crossTraceDefaults:t(95504),calc:t(47128),scales:y.scales,defaultScale:y.defaultScale,getScale:y.get,isValidScale:y.isValid,hasColorscale:D.hasColorscale,extractOpts:D.extractOpts,extractScale:D.extractScale,flipScale:D.flipScale,makeColorScaleFunc:D.makeColorScaleFunc,makeColorScaleFuncFromTrace:D.makeColorScaleFuncFromTrace}},92332:function(W,G,t){var y=t(92880).extendFlat,D=t(49084),s=t(88304).scales;W.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:s.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:s.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:s.RdBu,editType:"calc"}},coloraxis:y({_isSubplotObj:!0,editType:"calc"},D("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(W,G,t){var y=t(3400),D=t(31780),s=t(92332),P=t(27260);W.exports=function(d,g){function r(v,T){return y.coerce(d,g,s,v,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var e=g._colorAxes,o,n;function u(v,T){return y.coerce(o,n,s.coloraxis,v,T)}for(var f in e){var c=e[f];if(c[0])o=d[f]||{},n=D.newContainer(g,f,"coloraxis"),n._name=f,P(o,n,g,u,{prefix:"",cLetter:"c"});else{for(var m=0;m<c[2].length;m++)c[2][m]();delete g._colorAxes[f]}}}},88304:function(W,G,t){var y=t(49760),D={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},s=D.RdBu;function P(g,r){if(r||(r=s),!g)return r;function e(){try{g=D[g]||JSON.parse(g)}catch{g=r}}return typeof g=="string"&&(e(),typeof g=="string"&&e()),M(g)?g:r}function M(g){var r=0;if(!Array.isArray(g)||g.length<2||!g[0]||!g[g.length-1]||+g[0][0]!=0||+g[g.length-1][0]!=1)return!1;for(var e=0;e<g.length;e++){var o=g[e];if(o.length!==2||+o[0]<r||!y(o[1]).isValid())return!1;r=+o[0]}return!0}function d(g){return D[g]!==void 0?!0:M(g)}W.exports={scales:D,defaultScale:s,get:P,isValid:d}},78316:function(W){W.exports=function(t,y,D,s,P){var M=(t-D)/(s-D),d=M+y/(s-D),g=(M+d)/2;return P==="left"||P==="bottom"?M:P==="center"||P==="middle"?g:P==="right"||P==="top"?d:M<.6666666666666666-g?M:d>1.3333333333333333-g?d:g}},67416:function(W,G,t){var y=t(3400),D=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];W.exports=function(P,M,d,g){return d==="left"?P=0:d==="center"?P=1:d==="right"?P=2:P=y.constrain(Math.floor(P*3),0,2),g==="bottom"?M=0:g==="middle"?M=1:g==="top"?M=2:M=y.constrain(Math.floor(M*3),0,2),D[M][P]}},72760:function(W,G){G.selectMode=function(t){return t==="lasso"||t==="select"},G.drawMode=function(t){return t==="drawclosedpath"||t==="drawopenpath"||t==="drawline"||t==="drawrect"||t==="drawcircle"},G.openMode=function(t){return t==="drawline"||t==="drawopenpath"},G.rectMode=function(t){return t==="select"||t==="drawline"||t==="drawrect"||t==="drawcircle"},G.freeMode=function(t){return t==="lasso"||t==="drawclosedpath"||t==="drawopenpath"},G.selectingOrDrawing=function(t){return G.freeMode(t)||G.rectMode(t)}},86476:function(W,G,t){var y=t(29128),D=t(52264),s=t(89184),P=t(3400).removeElement,M=t(33816),d=W.exports={};d.align=t(78316),d.getCursor=t(67416);var g=t(2616);d.unhover=g.wrapped,d.unhoverRaw=g.raw,d.init=function(n){var u=n.gd,f=1,c=u._context.doubleClickDelay,m=n.element,v,T,h,i,p,w,A,L;u._mouseDownTime||(u._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=S,s?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=S,m.addEventListener("touchstart",S,{passive:!1})):m.ontouchstart=S;function x(b,z,k){return Math.abs(b)<k&&(b=0),Math.abs(z)<k&&(z=0),[b,z]}var E=n.clampFn||x;function S(b){u._dragged=!1,u._dragging=!0;var z=e(b);v=z[0],T=z[1],A=b.target,w=b,L=b.buttons===2||b.ctrlKey,typeof b.clientX>"u"&&typeof b.clientY>"u"&&(b.clientX=v,b.clientY=T),h=new Date().getTime(),h-u._mouseDownTime<c?f+=1:(f=1,u._mouseDownTime=h),n.prepFn&&n.prepFn(b,v,T),D&&!L?(p=r(),p.style.cursor=window.getComputedStyle(m).cursor):D||(p=document,i=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",C),document.addEventListener("touchend",C),n.dragmode!==!1&&(b.preventDefault(),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a,{passive:!1}))}function a(b){b.preventDefault();var z=e(b),k=n.minDrag||M.MINDRAG,U=E(z[0]-v,z[1]-T,k),F=U[0],V=U[1];(F||V)&&(u._dragged=!0,d.unhover(u,b)),u._dragged&&n.moveFn&&!L&&(u._dragdata={element:m,dx:F,dy:V},n.moveFn(F,V))}function C(b){if(delete u._dragdata,n.dragmode!==!1&&(b.preventDefault(),document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",a)),document.removeEventListener("mouseup",C),document.removeEventListener("touchend",C),D?P(p):i&&(p.documentElement.style.cursor=i,i=null),!u._dragging){u._dragged=!1;return}if(u._dragging=!1,new Date().getTime()-u._mouseDownTime>c&&(f=Math.max(f-1,1)),u._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(f,w),!L){var z;try{z=new MouseEvent("click",b)}catch{var k=e(b);z=document.createEvent("MouseEvents"),z.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,k[0],k[1],b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}A.dispatchEvent(z)}u._dragging=!1,u._dragged=!1}};function r(){var o=document.createElement("div");o.className="dragcover";var n=o.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(o),o}d.coverSlip=r;function e(o){return y(o.changedTouches?o.changedTouches[0]:o,document.body)}},2616:function(W,G,t){var y=t(95924),D=t(91200),s=t(52200).getGraphDiv,P=t(92456),M=W.exports={};M.wrapped=function(d,g,r){d=s(d),d._fullLayout&&D.clear(d._fullLayout._uid+P.HOVERID),M.raw(d,g,r)},M.raw=function(g,r){var e=g._fullLayout,o=g._hoverdata;r||(r={}),!(r.target&&!g._dragged&&y.triggerHandler(g,"plotly_beforehover",r)===!1)&&(e._hoverlayer.selectAll("g").remove(),e._hoverlayer.selectAll("line").remove(),e._hoverlayer.selectAll("circle").remove(),g._hoverdata=void 0,r.target&&o&&g.emit("plotly_unhover",{event:r,points:o}))}},98192:function(W,G){G.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},G.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(W,G,t){var y=t(33428),D=t(3400),s=D.numberFormat,P=t(38248),M=t(49760),d=t(24040),g=t(76308),r=t(8932),e=D.strTranslate,o=t(72736),n=t(9616),u=t(84284),f=u.LINE_SPACING,c=t(13448).DESELECTDIM,m=t(43028),v=t(7152),T=t(10624).appendArrayPointValue,h=W.exports={};h.font=function(Et,zt){var Ct=zt.variant,Wt=zt.style,Kt=zt.weight,oe=zt.color,Jt=zt.size,te=zt.family,fe=zt.shadow,ve=zt.lineposition,de=zt.textcase;te&&Et.style("font-family",te),Jt+1&&Et.style("font-size",Jt+"px"),oe&&Et.call(g.fill,oe),Kt&&Et.style("font-weight",Kt),Wt&&Et.style("font-style",Wt),Ct&&Et.style("font-variant",Ct),de&&Et.style("text-transform",i(w(de))),fe&&Et.style("text-shadow",fe==="auto"?o.makeTextShadow(g.contrast(oe)):i(fe)),ve&&Et.style("text-decoration-line",i(A(ve)))};function i(Et){return Et==="none"?void 0:Et}var p={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function w(Et){return p[Et]}function A(Et){return Et.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}h.setPosition=function(Et,zt,Ct){Et.attr("x",zt).attr("y",Ct)},h.setSize=function(Et,zt,Ct){Et.attr("width",zt).attr("height",Ct)},h.setRect=function(Et,zt,Ct,Wt,Kt){Et.call(h.setPosition,zt,Ct).call(h.setSize,Wt,Kt)},h.translatePoint=function(Et,zt,Ct,Wt){var Kt=Ct.c2p(Et.x),oe=Wt.c2p(Et.y);if(P(Kt)&&P(oe)&&zt.node())zt.node().nodeName==="text"?zt.attr("x",Kt).attr("y",oe):zt.attr("transform",e(Kt,oe));else return!1;return!0},h.translatePoints=function(Et,zt,Ct){Et.each(function(Wt){var Kt=y.select(this);h.translatePoint(Wt,Kt,zt,Ct)})},h.hideOutsideRangePoint=function(Et,zt,Ct,Wt,Kt,oe){zt.attr("display",Ct.isPtWithinRange(Et,Kt)&&Wt.isPtWithinRange(Et,oe)?null:"none")},h.hideOutsideRangePoints=function(Et,zt){if(zt._hasClipOnAxisFalse){var Ct=zt.xaxis,Wt=zt.yaxis;Et.each(function(Kt){var oe=Kt[0].trace,Jt=oe.xcalendar,te=oe.ycalendar,fe=d.traceIs(oe,"bar-like")?".bartext":".point,.textpoint";Et.selectAll(fe).each(function(ve){h.hideOutsideRangePoint(ve,y.select(this),Ct,Wt,Jt,te)})})}},h.crispRound=function(Et,zt,Ct){return!zt||!P(zt)?Ct||0:Et._context.staticPlot?zt:zt<1?1:Math.round(zt)},h.singleLineStyle=function(Et,zt,Ct,Wt,Kt){zt.style("fill","none");var oe=(((Et||[])[0]||{}).trace||{}).line||{},Jt=Ct||oe.width||0,te=Kt||oe.dash||"";g.stroke(zt,Wt||oe.color),h.dashLine(zt,te,Jt)},h.lineGroupStyle=function(Et,zt,Ct,Wt){Et.style("fill","none").each(function(Kt){var oe=(((Kt||[])[0]||{}).trace||{}).line||{},Jt=zt||oe.width||0,te=Wt||oe.dash||"";y.select(this).call(g.stroke,Ct||oe.color).call(h.dashLine,te,Jt)})},h.dashLine=function(Et,zt,Ct){Ct=+Ct||0,zt=h.dashStyle(zt,Ct),Et.style({"stroke-dasharray":zt,"stroke-width":Ct+"px"})},h.dashStyle=function(Et,zt){zt=+zt||1;var Ct=Math.max(zt,3);return Et==="solid"?Et="":Et==="dot"?Et=Ct+"px,"+Ct+"px":Et==="dash"?Et=3*Ct+"px,"+3*Ct+"px":Et==="longdash"?Et=5*Ct+"px,"+5*Ct+"px":Et==="dashdot"?Et=3*Ct+"px,"+Ct+"px,"+Ct+"px,"+Ct+"px":Et==="longdashdot"&&(Et=5*Ct+"px,"+2*Ct+"px,"+Ct+"px,"+2*Ct+"px"),Et};function L(Et,zt,Ct,Wt){var Kt=zt.fillpattern,oe=zt.fillgradient,Jt=Kt&&h.getPatternAttr(Kt.shape,0,"");if(Jt){var te=h.getPatternAttr(Kt.bgcolor,0,null),fe=h.getPatternAttr(Kt.fgcolor,0,null),ve=Kt.fgopacity,de=h.getPatternAttr(Kt.size,0,8),xe=h.getPatternAttr(Kt.solidity,0,.3),Me=zt.uid;h.pattern(Et,"point",Ct,Me,Jt,de,xe,void 0,Kt.fillmode,te,fe,ve)}else if(oe&&oe.type!=="none"){var ne=oe.type,kt="scatterfill-"+zt.uid;if(Wt&&(kt="legendfill-"+zt.uid),!Wt&&(oe.start!==void 0||oe.stop!==void 0)){var Gt,Yt;ne==="horizontal"?(Gt={x:oe.start,y:0},Yt={x:oe.stop,y:0}):ne==="vertical"&&(Gt={x:0,y:oe.start},Yt={x:0,y:oe.stop}),Gt.x=zt._xA.c2p(Gt.x===void 0?zt._extremes.x.min[0].val:Gt.x,!0),Gt.y=zt._yA.c2p(Gt.y===void 0?zt._extremes.y.min[0].val:Gt.y,!0),Yt.x=zt._xA.c2p(Yt.x===void 0?zt._extremes.x.max[0].val:Yt.x,!0),Yt.y=zt._yA.c2p(Yt.y===void 0?zt._extremes.y.max[0].val:Yt.y,!0),Et.call(z,Ct,kt,"linear",oe.colorscale,"fill",Gt,Yt,!0,!1)}else ne==="horizontal"&&(ne=ne+"reversed"),Et.call(h.gradient,Ct,kt,ne,oe.colorscale,"fill")}else zt.fillcolor&&Et.call(g.fill,zt.fillcolor)}h.singleFillStyle=function(Et,zt){var Ct=y.select(Et.node()),Wt=Ct.data(),Kt=((Wt[0]||[])[0]||{}).trace||{};L(Et,Kt,zt,!1)},h.fillGroupStyle=function(Et,zt,Ct){Et.style("stroke-width",0).each(function(Wt){var Kt=y.select(this);Wt[0].trace&&L(Kt,Wt[0].trace,zt,Ct)})};var x=t(71984);h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(x).forEach(function(Et){var zt=x[Et],Ct=zt.n;h.symbolList.push(Ct,String(Ct),Et,Ct+100,String(Ct+100),Et+"-open"),h.symbolNames[Ct]=Et,h.symbolFuncs[Ct]=zt.f,h.symbolBackOffs[Ct]=zt.backoff||0,zt.needLine&&(h.symbolNeedLines[Ct]=!0),zt.noDot?h.symbolNoDot[Ct]=!0:h.symbolList.push(Ct+200,String(Ct+200),Et+"-dot",Ct+300,String(Ct+300),Et+"-open-dot"),zt.noFill&&(h.symbolNoFill[Ct]=!0)});var E=h.symbolNames.length,S="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function(Et){if(P(Et))Et=+Et;else if(typeof Et=="string"){var zt=0;Et.indexOf("-open")>0&&(zt=100,Et=Et.replace("-open","")),Et.indexOf("-dot")>0&&(zt+=200,Et=Et.replace("-dot","")),Et=h.symbolNames.indexOf(Et),Et>=0&&(Et+=zt)}return Et%100>=E||Et>=400?0:Math.floor(Math.max(Et,0))};function a(Et,zt,Ct,Wt){var Kt=Et%100;return h.symbolFuncs[Kt](zt,Ct,Wt)+(Et>=200?S:"")}var C=s("~f"),b={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};h.gradient=function(Et,zt,Ct,Wt,Kt,oe){var Jt=b[Wt];return z(Et,zt,Ct,Jt.type,Kt,oe,Jt.start,Jt.stop,!1,Jt.reversed)};function z(Et,zt,Ct,Wt,Kt,oe,Jt,te,fe,ve){var de=Kt.length,xe;Wt==="linear"?xe={node:"linearGradient",attrs:{x1:Jt.x,y1:Jt.y,x2:te.x,y2:te.y,gradientUnits:fe?"userSpaceOnUse":"objectBoundingBox"},reversed:ve}:Wt==="radial"&&(xe={node:"radialGradient",reversed:ve});for(var Me=new Array(de),ne=0;ne<de;ne++)xe.reversed?Me[de-1-ne]=[C((1-Kt[ne][0])*100),Kt[ne][1]]:Me[ne]=[C(Kt[ne][0]*100),Kt[ne][1]];var kt=zt._fullLayout,Gt="g"+kt._uid+"-"+Ct,Yt=kt._defs.select(".gradients").selectAll("#"+Gt).data([Wt+Me.join(";")],D.identity);Yt.exit().remove(),Yt.enter().append(xe.node).each(function(){var Zt=y.select(this);xe.attrs&&Zt.attr(xe.attrs),Zt.attr("id",Gt);var It=Zt.selectAll("stop").data(Me);It.exit().remove(),It.enter().append("stop"),It.each(function(Nt){var Ht=M(Nt[1]);y.select(this).attr({offset:Nt[0]+"%","stop-color":g.tinyRGB(Ht),"stop-opacity":Ht.getAlpha()})})}),Et.style(oe,q(Gt,zt)).style(oe+"-opacity",null),Et.classed("gradient_filled",!0)}h.pattern=function(Et,zt,Ct,Wt,Kt,oe,Jt,te,fe,ve,de,xe){var Me=zt==="legend";te&&(fe==="overlay"?(ve=te,de=g.contrast(ve)):(ve=void 0,de=te));var ne=Ct._fullLayout,kt="p"+ne._uid+"-"+Wt,Gt,Yt,Zt=function(je,Te,Le,Ke,vr){return Ke+(vr-Ke)*(je-Te)/(Le-Te)},It,Nt,Ht,Lt,dt={},xt=M(de),Ot=g.tinyRGB(xt),jt=xt.getAlpha(),ie=xe*jt;switch(Kt){case"/":Gt=oe*Math.sqrt(2),Yt=oe*Math.sqrt(2),It="M-"+Gt/4+","+Yt/4+"l"+Gt/2+",-"+Yt/2+"M0,"+Yt+"L"+Gt+",0M"+Gt/4*3+","+Yt/4*5+"l"+Gt/2+",-"+Yt/2,Nt=Jt*oe,Lt="path",dt={d:It,opacity:ie,stroke:Ot,"stroke-width":Nt+"px"};break;case"\\":Gt=oe*Math.sqrt(2),Yt=oe*Math.sqrt(2),It="M"+Gt/4*3+",-"+Yt/4+"l"+Gt/2+","+Yt/2+"M0,0L"+Gt+","+Yt+"M-"+Gt/4+","+Yt/4*3+"l"+Gt/2+","+Yt/2,Nt=Jt*oe,Lt="path",dt={d:It,opacity:ie,stroke:Ot,"stroke-width":Nt+"px"};break;case"x":Gt=oe*Math.sqrt(2),Yt=oe*Math.sqrt(2),It="M-"+Gt/4+","+Yt/4+"l"+Gt/2+",-"+Yt/2+"M0,"+Yt+"L"+Gt+",0M"+Gt/4*3+","+Yt/4*5+"l"+Gt/2+",-"+Yt/2+"M"+Gt/4*3+",-"+Yt/4+"l"+Gt/2+","+Yt/2+"M0,0L"+Gt+","+Yt+"M-"+Gt/4+","+Yt/4*3+"l"+Gt/2+","+Yt/2,Nt=oe-oe*Math.sqrt(1-Jt),Lt="path",dt={d:It,opacity:ie,stroke:Ot,"stroke-width":Nt+"px"};break;case"|":Gt=oe,Yt=oe,Lt="path",It="M"+Gt/2+",0L"+Gt/2+","+Yt,Nt=Jt*oe,Lt="path",dt={d:It,opacity:ie,stroke:Ot,"stroke-width":Nt+"px"};break;case"-":Gt=oe,Yt=oe,Lt="path",It="M0,"+Yt/2+"L"+Gt+","+Yt/2,Nt=Jt*oe,Lt="path",dt={d:It,opacity:ie,stroke:Ot,"stroke-width":Nt+"px"};break;case"+":Gt=oe,Yt=oe,Lt="path",It="M"+Gt/2+",0L"+Gt/2+","+Yt+"M0,"+Yt/2+"L"+Gt+","+Yt/2,Nt=oe-oe*Math.sqrt(1-Jt),Lt="path",dt={d:It,opacity:ie,stroke:Ot,"stroke-width":Nt+"px"};break;case".":Gt=oe,Yt=oe,Jt<Math.PI/4?Ht=Math.sqrt(Jt*oe*oe/Math.PI):Ht=Zt(Jt,Math.PI/4,1,oe/2,oe/Math.sqrt(2)),Lt="circle",dt={cx:Gt/2,cy:Yt/2,r:Ht,opacity:ie,fill:Ot};break}var le=[Kt||"noSh",ve||"noBg",de||"noFg",oe,Jt].join(";"),Ve=ne._defs.select(".patterns").selectAll("#"+kt).data([le],D.identity);Ve.exit().remove(),Ve.enter().append("pattern").each(function(){var je=y.select(this);if(je.attr({id:kt,width:Gt+"px",height:Yt+"px",patternUnits:"userSpaceOnUse",patternTransform:Me?"scale(0.8)":""}),ve){var Te=M(ve),Le=g.tinyRGB(Te),Ke=Te.getAlpha(),vr=je.selectAll("rect").data([0]);vr.exit().remove(),vr.enter().append("rect").attr({width:Gt+"px",height:Yt+"px",fill:Le,"fill-opacity":Ke})}var ge=je.selectAll(Lt).data([0]);ge.exit().remove(),ge.enter().append(Lt).attr(dt)}),Et.style("fill",q(kt,Ct)).style("fill-opacity",null),Et.classed("pattern_filled",!0)},h.initGradients=function(Et){var zt=Et._fullLayout,Ct=D.ensureSingle(zt._defs,"g","gradients");Ct.selectAll("linearGradient,radialGradient").remove(),y.select(Et).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function(Et){var zt=Et._fullLayout,Ct=D.ensureSingle(zt._defs,"g","patterns");Ct.selectAll("pattern").remove(),y.select(Et).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function(Et,zt,Ct){return Et&&D.isArrayOrTypedArray(Et)?zt<Et.length?Et[zt]:Ct:Et},h.pointStyle=function(Et,zt,Ct,Wt){if(Et.size()){var Kt=h.makePointStyleFns(zt);Et.each(function(oe){h.singlePointStyle(oe,y.select(this),zt,Kt,Ct,Wt)})}},h.singlePointStyle=function(Et,zt,Ct,Wt,Kt,oe){var Jt=Ct.marker,te=Jt.line;if(oe&&oe.i>=0&&Et.i===void 0&&(Et.i=oe.i),zt.style("opacity",Wt.selectedOpacityFn?Wt.selectedOpacityFn(Et):Et.mo===void 0?Jt.opacity:Et.mo),Wt.ms2mrc){var fe;Et.ms==="various"||Jt.size==="various"?fe=3:fe=Wt.ms2mrc(Et.ms),Et.mrc=fe,Wt.selectedSizeFn&&(fe=Et.mrc=Wt.selectedSizeFn(Et));var ve=h.symbolNumber(Et.mx||Jt.symbol)||0;Et.om=ve%200>=100;var de=Rt(Et,Ct),xe=j(Et,Ct);zt.attr("d",a(ve,fe,de,xe))}var Me=!1,ne,kt,Gt;if(Et.so)Gt=te.outlierwidth,kt=te.outliercolor,ne=Jt.outliercolor;else{var Yt=(te||{}).width;Gt=(Et.mlw+1||Yt+1||(Et.trace?(Et.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Et?kt=Et.mlcc=Wt.lineScale(Et.mlc):D.isArrayOrTypedArray(te.color)?kt=g.defaultLine:kt=te.color,D.isArrayOrTypedArray(Jt.color)&&(ne=g.defaultLine,Me=!0),"mc"in Et?ne=Et.mcc=Wt.markerScale(Et.mc):ne=Jt.color||Jt.colors||"rgba(0,0,0,0)",Wt.selectedColorFn&&(ne=Wt.selectedColorFn(Et))}if(Et.om)zt.call(g.stroke,ne).style({"stroke-width":(Gt||1)+"px",fill:"none"});else{zt.style("stroke-width",(Et.isBlank?0:Gt)+"px");var Zt=Jt.gradient,It=Et.mgt;It?Me=!0:It=Zt&&Zt.type,D.isArrayOrTypedArray(It)&&(It=It[0],b[It]||(It=0));var Nt=Jt.pattern,Ht=Nt&&h.getPatternAttr(Nt.shape,Et.i,"");if(It&&It!=="none"){var Lt=Et.mgc;Lt?Me=!0:Lt=Zt.color;var dt=Ct.uid;Me&&(dt+="-"+Et.i),h.gradient(zt,Kt,dt,It,[[0,Lt],[1,ne]],"fill")}else if(Ht){var xt=!1,Ot=Nt.fgcolor;!Ot&&oe&&oe.color&&(Ot=oe.color,xt=!0);var jt=h.getPatternAttr(Ot,Et.i,oe&&oe.color||null),ie=h.getPatternAttr(Nt.bgcolor,Et.i,null),le=Nt.fgopacity,Ve=h.getPatternAttr(Nt.size,Et.i,8),je=h.getPatternAttr(Nt.solidity,Et.i,.3);xt=xt||Et.mcc||D.isArrayOrTypedArray(Nt.shape)||D.isArrayOrTypedArray(Nt.bgcolor)||D.isArrayOrTypedArray(Nt.fgcolor)||D.isArrayOrTypedArray(Nt.size)||D.isArrayOrTypedArray(Nt.solidity);var Te=Ct.uid;xt&&(Te+="-"+Et.i),h.pattern(zt,"point",Kt,Te,Ht,Ve,je,Et.mcc,Nt.fillmode,ie,jt,le)}else D.isArrayOrTypedArray(ne)?g.fill(zt,ne[Et.i]):g.fill(zt,ne);Gt&&g.stroke(zt,kt)}},h.makePointStyleFns=function(Et){var zt={},Ct=Et.marker;return zt.markerScale=h.tryColorscale(Ct,""),zt.lineScale=h.tryColorscale(Ct,"line"),d.traceIs(Et,"symbols")&&(zt.ms2mrc=m.isBubble(Et)?v(Et):function(){return(Ct.size||6)/2}),Et.selectedpoints&&D.extendFlat(zt,h.makeSelectedPointStyleFns(Et)),zt},h.makeSelectedPointStyleFns=function(Et){var zt={},Ct=Et.selected||{},Wt=Et.unselected||{},Kt=Et.marker||{},oe=Ct.marker||{},Jt=Wt.marker||{},te=Kt.opacity,fe=oe.opacity,ve=Jt.opacity,de=fe!==void 0,xe=ve!==void 0;(D.isArrayOrTypedArray(te)||de||xe)&&(zt.selectedOpacityFn=function(Ht){var Lt=Ht.mo===void 0?Kt.opacity:Ht.mo;return Ht.selected?de?fe:Lt:xe?ve:c*Lt});var Me=Kt.color,ne=oe.color,kt=Jt.color;(ne||kt)&&(zt.selectedColorFn=function(Ht){var Lt=Ht.mcc||Me;return Ht.selected?ne||Lt:kt||Lt});var Gt=Kt.size,Yt=oe.size,Zt=Jt.size,It=Yt!==void 0,Nt=Zt!==void 0;return d.traceIs(Et,"symbols")&&(It||Nt)&&(zt.selectedSizeFn=function(Ht){var Lt=Ht.mrc||Gt/2;return Ht.selected?It?Yt/2:Lt:Nt?Zt/2:Lt}),zt},h.makeSelectedTextStyleFns=function(Et){var zt={},Ct=Et.selected||{},Wt=Et.unselected||{},Kt=Et.textfont||{},oe=Ct.textfont||{},Jt=Wt.textfont||{},te=Kt.color,fe=oe.color,ve=Jt.color;return zt.selectedTextColorFn=function(de){var xe=de.tc||te;return de.selected?fe||xe:ve||(fe?xe:g.addOpacity(xe,c))},zt},h.selectedPointStyle=function(Et,zt){if(!(!Et.size()||!zt.selectedpoints)){var Ct=h.makeSelectedPointStyleFns(zt),Wt=zt.marker||{},Kt=[];Ct.selectedOpacityFn&&Kt.push(function(oe,Jt){oe.style("opacity",Ct.selectedOpacityFn(Jt))}),Ct.selectedColorFn&&Kt.push(function(oe,Jt){g.fill(oe,Ct.selectedColorFn(Jt))}),Ct.selectedSizeFn&&Kt.push(function(oe,Jt){var te=Jt.mx||Wt.symbol||0,fe=Ct.selectedSizeFn(Jt);oe.attr("d",a(h.symbolNumber(te),fe,Rt(Jt,zt),j(Jt,zt))),Jt.mrc2=fe}),Kt.length&&Et.each(function(oe){for(var Jt=y.select(this),te=0;te<Kt.length;te++)Kt[te](Jt,oe)})}},h.tryColorscale=function(Et,zt){var Ct=zt?D.nestedProperty(Et,zt).get():Et;if(Ct){var Wt=Ct.color;if((Ct.colorscale||Ct._colorAx)&&D.isArrayOrTypedArray(Wt))return r.makeColorScaleFuncFromTrace(Ct)}return D.identity};var k={start:1,end:-1,middle:0,bottom:1,top:-1};function U(Et,zt,Ct,Wt,Kt){var oe=y.select(Et.node().parentNode),Jt=zt.indexOf("top")!==-1?"top":zt.indexOf("bottom")!==-1?"bottom":"middle",te=zt.indexOf("left")!==-1?"end":zt.indexOf("right")!==-1?"start":"middle",fe=Wt?Wt/.8+1:0,ve=(o.lineCount(Et)-1)*f+1,de=k[te]*fe,xe=Ct*.75+k[Jt]*fe+(k[Jt]-1)*ve*Ct/2;Et.attr("text-anchor",te),Kt||oe.attr("transform",e(de,xe))}function F(Et,zt){var Ct=Et.ts||zt.textfont.size;return P(Ct)&&Ct>0?Ct:0}h.textPointStyle=function(Et,zt,Ct){if(Et.size()){var Wt;if(zt.selectedpoints){var Kt=h.makeSelectedTextStyleFns(zt);Wt=Kt.selectedTextColorFn}var oe=zt.texttemplate,Jt=Ct._fullLayout;Et.each(function(te){var fe=y.select(this),ve=oe?D.extractOption(te,zt,"txt","texttemplate"):D.extractOption(te,zt,"tx","text");if(!ve&&ve!==0){fe.remove();return}if(oe){var de=zt._module.formatLabels,xe=de?de(te,zt,Jt):{},Me={};T(Me,zt,te.i);var ne=zt._meta||{};ve=D.texttemplateString(ve,xe,Jt._d3locale,Me,te,ne)}var kt=te.tp||zt.textposition,Gt=F(te,zt),Yt=Wt?Wt(te):te.tc||zt.textfont.color;fe.call(h.font,{family:te.tf||zt.textfont.family,weight:te.tw||zt.textfont.weight,style:te.ty||zt.textfont.style,variant:te.tv||zt.textfont.variant,textcase:te.tC||zt.textfont.textcase,lineposition:te.tE||zt.textfont.lineposition,shadow:te.tS||zt.textfont.shadow,size:Gt,color:Yt}).text(ve).call(o.convertToTspans,Ct).call(U,kt,Gt,te.mrc)})}},h.selectedTextStyle=function(Et,zt){if(!(!Et.size()||!zt.selectedpoints)){var Ct=h.makeSelectedTextStyleFns(zt);Et.each(function(Wt){var Kt=y.select(this),oe=Ct.selectedTextColorFn(Wt),Jt=Wt.tp||zt.textposition,te=F(Wt,zt);g.fill(Kt,oe);var fe=d.traceIs(zt,"bar-like");U(Kt,Jt,te,Wt.mrc2||Wt.mrc,fe)})}};var V=.5;h.smoothopen=function(Et,zt){if(Et.length<3)return"M"+Et.join("L");var Ct="M"+Et[0],Wt=[],Kt;for(Kt=1;Kt<Et.length-1;Kt++)Wt.push(et(Et[Kt-1],Et[Kt],Et[Kt+1],zt));for(Ct+="Q"+Wt[0][0]+" "+Et[1],Kt=2;Kt<Et.length-1;Kt++)Ct+="C"+Wt[Kt-2][1]+" "+Wt[Kt-1][0]+" "+Et[Kt];return Ct+="Q"+Wt[Et.length-3][1]+" "+Et[Et.length-1],Ct},h.smoothclosed=function(Et,zt){if(Et.length<3)return"M"+Et.join("L")+"Z";var Ct="M"+Et[0],Wt=Et.length-1,Kt=[et(Et[Wt],Et[0],Et[1],zt)],oe;for(oe=1;oe<Wt;oe++)Kt.push(et(Et[oe-1],Et[oe],Et[oe+1],zt));for(Kt.push(et(Et[Wt-1],Et[Wt],Et[0],zt)),oe=1;oe<=Wt;oe++)Ct+="C"+Kt[oe-1][1]+" "+Kt[oe][0]+" "+Et[oe];return Ct+="C"+Kt[Wt][1]+" "+Kt[0][0]+" "+Et[0]+"Z",Ct};var N,O;function H(Et,zt,Ct){return Ct&&(Et=ot(Et)),zt?J(Et[1]):X(Et[0])}function X(Et){var zt=y.round(Et,2);return N=zt,zt}function J(Et){var zt=y.round(Et,2);return O=zt,zt}function et(Et,zt,Ct,Wt){var Kt=Et[0]-zt[0],oe=Et[1]-zt[1],Jt=Ct[0]-zt[0],te=Ct[1]-zt[1],fe=Math.pow(Kt*Kt+oe*oe,V/2),ve=Math.pow(Jt*Jt+te*te,V/2),de=(ve*ve*Kt-fe*fe*Jt)*Wt,xe=(ve*ve*oe-fe*fe*te)*Wt,Me=3*ve*(fe+ve),ne=3*fe*(fe+ve);return[[X(zt[0]+(Me&&de/Me)),J(zt[1]+(Me&&xe/Me))],[X(zt[0]-(ne&&de/ne)),J(zt[1]-(ne&&xe/ne))]]}var it={hv:function(Et,zt,Ct){return"H"+X(zt[0])+"V"+H(zt,1,Ct)},vh:function(Et,zt,Ct){return"V"+J(zt[1])+"H"+H(zt,0,Ct)},hvh:function(Et,zt,Ct){return"H"+X((Et[0]+zt[0])/2)+"V"+J(zt[1])+"H"+H(zt,0,Ct)},vhv:function(Et,zt,Ct){return"V"+J((Et[1]+zt[1])/2)+"H"+X(zt[0])+"V"+H(zt,1,Ct)}},ft=function(Et,zt,Ct){return"L"+H(zt,0,Ct)+","+H(zt,1,Ct)};h.steps=function(Et){var zt=it[Et]||ft;return function(Ct){for(var Wt="M"+X(Ct[0][0])+","+J(Ct[0][1]),Kt=Ct.length,oe=1;oe<Kt;oe++)Wt+=zt(Ct[oe-1],Ct[oe],oe===Kt-1);return Wt}};function ot(Et,zt){var Ct=Et.backoff,Wt=Et.trace,Kt=Et.d,oe=Et.i;if(Ct&&Wt&&Wt.marker&&Wt.marker.angle%360===0&&Wt.line&&Wt.line.shape!=="spline"){var Jt=D.isArrayOrTypedArray(Ct),te=Et,fe=zt?zt[0]:N||0,ve=zt?zt[1]:O||0,de=te[0],xe=te[1],Me=de-fe,ne=xe-ve,kt=Math.atan2(ne,Me),Gt=Jt?Ct[oe]:Ct;if(Gt==="auto"){var Yt=te.i;Wt.type==="scatter"&&Yt--;var Zt=te.marker,It=Zt.symbol;D.isArrayOrTypedArray(It)&&(It=It[Yt]);var Nt=Zt.size;D.isArrayOrTypedArray(Nt)&&(Nt=Nt[Yt]),Gt=Zt?h.symbolBackOffs[h.symbolNumber(It)]*Nt:0,Gt+=h.getMarkerStandoff(Kt[Yt],Wt)||0}var Ht=de-Gt*Math.cos(kt),Lt=xe-Gt*Math.sin(kt);(Ht<=de&&Ht>=fe||Ht>=de&&Ht<=fe)&&(Lt<=xe&&Lt>=ve||Lt>=xe&&Lt<=ve)&&(Et=[Ht,Lt])}return Et}h.applyBackoff=ot,h.makeTester=function(){var Et=D.ensureSingleById(y.select("body"),"svg","js-plotly-tester",function(Ct){Ct.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),zt=D.ensureSingle(Et,"path","js-reference-point",function(Ct){Ct.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=Et,h.testref=zt},h.savedBBoxes={};var Q=0,tt=1e4;h.bBox=function(Et,zt,Ct){Ct||(Ct=Z(Et));var Wt;if(Ct){if(Wt=h.savedBBoxes[Ct],Wt)return D.extendFlat({},Wt)}else if(Et.childNodes.length===1){var Kt=Et.childNodes[0];if(Ct=Z(Kt),Ct){var oe=+Kt.getAttribute("x")||0,Jt=+Kt.getAttribute("y")||0,te=Kt.getAttribute("transform");if(!te){var fe=h.bBox(Kt,!1,Ct);return oe&&(fe.left+=oe,fe.right+=oe),Jt&&(fe.top+=Jt,fe.bottom+=Jt),fe}if(Ct+="~"+oe+"~"+Jt+"~"+te,Wt=h.savedBBoxes[Ct],Wt)return D.extendFlat({},Wt)}}var ve,de;zt?ve=Et:(de=h.tester.node(),ve=Et.cloneNode(!0),de.appendChild(ve)),y.select(ve).attr("transform",null).call(o.positionText,0,0);var xe=ve.getBoundingClientRect(),Me=h.testref.node().getBoundingClientRect();zt||de.removeChild(ve);var ne={height:xe.height,width:xe.width,left:xe.left-Me.left,top:xe.top-Me.top,right:xe.right-Me.left,bottom:xe.bottom-Me.top};return Q>=tt&&(h.savedBBoxes={},Q=0),Ct&&(h.savedBBoxes[Ct]=ne),Q++,D.extendFlat({},ne)};function Z(Et){var zt=Et.getAttribute("data-unformatted");if(zt!==null)return zt+Et.getAttribute("data-math")+Et.getAttribute("text-anchor")+Et.getAttribute("style")}h.setClipUrl=function(Et,zt,Ct){Et.attr("clip-path",q(zt,Ct))};function q(Et,zt){if(!Et)return null;var Ct=zt._context,Wt=Ct._exportedPlot?"":Ct._baseUrl||"";return Wt?"url('"+Wt+"#"+Et+"')":"url(#"+Et+")"}h.getTranslate=function(Et){var zt=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ct=Et.attr?"attr":"getAttribute",Wt=Et[Ct]("transform")||"",Kt=Wt.replace(zt,function(oe,Jt,te){return[Jt,te].join(" ")}).split(" ");return{x:+Kt[0]||0,y:+Kt[1]||0}},h.setTranslate=function(Et,zt,Ct){var Wt=/(\btranslate\(.*?\);?)/,Kt=Et.attr?"attr":"getAttribute",oe=Et.attr?"attr":"setAttribute",Jt=Et[Kt]("transform")||"";return zt=zt||0,Ct=Ct||0,Jt=Jt.replace(Wt,"").trim(),Jt+=e(zt,Ct),Jt=Jt.trim(),Et[oe]("transform",Jt),Jt},h.getScale=function(Et){var zt=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ct=Et.attr?"attr":"getAttribute",Wt=Et[Ct]("transform")||"",Kt=Wt.replace(zt,function(oe,Jt,te){return[Jt,te].join(" ")}).split(" ");return{x:+Kt[0]||1,y:+Kt[1]||1}},h.setScale=function(Et,zt,Ct){var Wt=/(\bscale\(.*?\);?)/,Kt=Et.attr?"attr":"getAttribute",oe=Et.attr?"attr":"setAttribute",Jt=Et[Kt]("transform")||"";return zt=zt||1,Ct=Ct||1,Jt=Jt.replace(Wt,"").trim(),Jt+="scale("+zt+","+Ct+")",Jt=Jt.trim(),Et[oe]("transform",Jt),Jt};var ut=/\s*sc.*/;h.setPointGroupScale=function(Et,zt,Ct){if(zt=zt||1,Ct=Ct||1,!!Et){var Wt=zt===1&&Ct===1?"":"scale("+zt+","+Ct+")";Et.each(function(){var Kt=(this.getAttribute("transform")||"").replace(ut,"");Kt+=Wt,Kt=Kt.trim(),this.setAttribute("transform",Kt)})}};var $=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function(Et,zt,Ct){Et&&Et.each(function(){var Wt,Kt=y.select(this),oe=Kt.select("text");if(oe.node()){var Jt=parseFloat(oe.attr("x")||0),te=parseFloat(oe.attr("y")||0),fe=(Kt.attr("transform")||"").match($);zt===1&&Ct===1?Wt=[]:Wt=[e(Jt,te),"scale("+zt+","+Ct+")",e(-Jt,-te)],fe&&Wt.push(fe),Kt.attr("transform",Wt.join(""))}})};function j(Et,zt){var Ct;return Et&&(Ct=Et.mf),Ct===void 0&&(Ct=zt.marker&&zt.marker.standoff||0),!zt._geo&&!zt._xA?-Ct:Ct}h.getMarkerStandoff=j;var lt=Math.atan2,nt=Math.cos,ht=Math.sin;function mt(Et,zt){var Ct=zt[0],Wt=zt[1];return[Ct*nt(Et)-Wt*ht(Et),Ct*ht(Et)+Wt*nt(Et)]}var At,bt,Pt,_t,Ut,St;function Rt(Et,zt){var Ct=Et.ma;Ct===void 0&&(Ct=zt.marker.angle,(!Ct||D.isArrayOrTypedArray(Ct))&&(Ct=0));var Wt,Kt,oe=zt.marker.angleref;if(oe==="previous"||oe==="north"){if(zt._geo){var Jt=zt._geo.project(Et.lonlat);Wt=Jt[0],Kt=Jt[1]}else{var te=zt._xA,fe=zt._yA;if(te&&fe)Wt=te.c2p(Et.x),Kt=fe.c2p(Et.y);else return 90}if(zt._geo){var ve=Et.lonlat[0],de=Et.lonlat[1],xe=zt._geo.project([ve,de+1e-5]),Me=zt._geo.project([ve+1e-5,de]),ne=lt(Me[1]-Kt,Me[0]-Wt),kt=lt(xe[1]-Kt,xe[0]-Wt),Gt;if(oe==="north")Gt=Ct/180*Math.PI;else if(oe==="previous"){var Yt=ve/180*Math.PI,Zt=de/180*Math.PI,It=At/180*Math.PI,Nt=bt/180*Math.PI,Ht=It-Yt,Lt=nt(Nt)*ht(Ht),dt=ht(Nt)*nt(Zt)-nt(Nt)*ht(Zt)*nt(Ht);Gt=-lt(Lt,dt)-Math.PI,At=ve,bt=de}var xt=mt(ne,[nt(Gt),0]),Ot=mt(kt,[ht(Gt),0]);Ct=lt(xt[1]+Ot[1],xt[0]+Ot[0])/Math.PI*180,oe==="previous"&&!(St===zt.uid&&Et.i===Ut+1)&&(Ct=null)}if(oe==="previous"&&!zt._geo)if(St===zt.uid&&Et.i===Ut+1&&P(Wt)&&P(Kt)){var jt=Wt-Pt,ie=Kt-_t,le=zt.line&&zt.line.shape||"",Ve=le.slice(le.length-1);Ve==="h"&&(ie=0),Ve==="v"&&(jt=0),Ct+=lt(ie,jt)/Math.PI*180+90}else Ct=null}return Pt=Wt,_t=Kt,Ut=Et.i,St=zt.uid,Ct}h.getMarkerAngle=Rt},71984:function(W,G,t){var y=t(21984),D=t(33428).round,s="M0,0Z",P=Math.sqrt(2),M=Math.sqrt(3),d=Math.PI,g=Math.cos,r=Math.sin;W.exports={circle:{n:0,f:function(m,v,T){if(e(v))return s;var h=D(m,2),i="M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z";return T?c(v,T,i):i}},square:{n:1,f:function(m,v,T){if(e(v))return s;var h=D(m,2);return c(v,T,"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")}},diamond:{n:2,f:function(m,v,T){if(e(v))return s;var h=D(m*1.3,2);return c(v,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"Z")}},cross:{n:3,f:function(m,v,T){if(e(v))return s;var h=D(m*.4,2),i=D(m*1.2,2);return c(v,T,"M"+i+","+h+"H"+h+"V"+i+"H-"+h+"V"+h+"H-"+i+"V-"+h+"H-"+h+"V-"+i+"H"+h+"V-"+h+"H"+i+"Z")}},x:{n:4,f:function(m,v,T){if(e(v))return s;var h=D(m*.8/P,2),i="l"+h+","+h,p="l"+h+",-"+h,w="l-"+h+",-"+h,A="l-"+h+","+h;return c(v,T,"M0,"+h+i+p+w+p+w+A+w+A+i+A+i+"Z")}},"triangle-up":{n:5,f:function(m,v,T){if(e(v))return s;var h=D(m*2/M,2),i=D(m/2,2),p=D(m,2);return c(v,T,"M-"+h+","+i+"H"+h+"L0,-"+p+"Z")}},"triangle-down":{n:6,f:function(m,v,T){if(e(v))return s;var h=D(m*2/M,2),i=D(m/2,2),p=D(m,2);return c(v,T,"M-"+h+",-"+i+"H"+h+"L0,"+p+"Z")}},"triangle-left":{n:7,f:function(m,v,T){if(e(v))return s;var h=D(m*2/M,2),i=D(m/2,2),p=D(m,2);return c(v,T,"M"+i+",-"+h+"V"+h+"L-"+p+",0Z")}},"triangle-right":{n:8,f:function(m,v,T){if(e(v))return s;var h=D(m*2/M,2),i=D(m/2,2),p=D(m,2);return c(v,T,"M-"+i+",-"+h+"V"+h+"L"+p+",0Z")}},"triangle-ne":{n:9,f:function(m,v,T){if(e(v))return s;var h=D(m*.6,2),i=D(m*1.2,2);return c(v,T,"M-"+i+",-"+h+"H"+h+"V"+i+"Z")}},"triangle-se":{n:10,f:function(m,v,T){if(e(v))return s;var h=D(m*.6,2),i=D(m*1.2,2);return c(v,T,"M"+h+",-"+i+"V"+h+"H-"+i+"Z")}},"triangle-sw":{n:11,f:function(m,v,T){if(e(v))return s;var h=D(m*.6,2),i=D(m*1.2,2);return c(v,T,"M"+i+","+h+"H-"+h+"V-"+i+"Z")}},"triangle-nw":{n:12,f:function(m,v,T){if(e(v))return s;var h=D(m*.6,2),i=D(m*1.2,2);return c(v,T,"M-"+h+","+i+"V-"+h+"H"+i+"Z")}},pentagon:{n:13,f:function(m,v,T){if(e(v))return s;var h=D(m*.951,2),i=D(m*.588,2),p=D(-m,2),w=D(m*-.309,2),A=D(m*.809,2);return c(v,T,"M"+h+","+w+"L"+i+","+A+"H-"+i+"L-"+h+","+w+"L0,"+p+"Z")}},hexagon:{n:14,f:function(m,v,T){if(e(v))return s;var h=D(m,2),i=D(m/2,2),p=D(m*M/2,2);return c(v,T,"M"+p+",-"+i+"V"+i+"L0,"+h+"L-"+p+","+i+"V-"+i+"L0,-"+h+"Z")}},hexagon2:{n:15,f:function(m,v,T){if(e(v))return s;var h=D(m,2),i=D(m/2,2),p=D(m*M/2,2);return c(v,T,"M-"+i+","+p+"H"+i+"L"+h+",0L"+i+",-"+p+"H-"+i+"L-"+h+",0Z")}},octagon:{n:16,f:function(m,v,T){if(e(v))return s;var h=D(m*.924,2),i=D(m*.383,2);return c(v,T,"M-"+i+",-"+h+"H"+i+"L"+h+",-"+i+"V"+i+"L"+i+","+h+"H-"+i+"L-"+h+","+i+"V-"+i+"Z")}},star:{n:17,f:function(m,v,T){if(e(v))return s;var h=m*1.4,i=D(h*.225,2),p=D(h*.951,2),w=D(h*.363,2),A=D(h*.588,2),L=D(-h,2),x=D(h*-.309,2),E=D(h*.118,2),S=D(h*.809,2),a=D(h*.382,2);return c(v,T,"M"+i+","+x+"H"+p+"L"+w+","+E+"L"+A+","+S+"L0,"+a+"L-"+A+","+S+"L-"+w+","+E+"L-"+p+","+x+"H-"+i+"L0,"+L+"Z")}},hexagram:{n:18,f:function(m,v,T){if(e(v))return s;var h=D(m*.66,2),i=D(m*.38,2),p=D(m*.76,2);return c(v,T,"M-"+p+",0l-"+i+",-"+h+"h"+p+"l"+i+",-"+h+"l"+i+","+h+"h"+p+"l-"+i+","+h+"l"+i+","+h+"h-"+p+"l-"+i+","+h+"l-"+i+",-"+h+"h-"+p+"Z")}},"star-triangle-up":{n:19,f:function(m,v,T){if(e(v))return s;var h=D(m*M*.8,2),i=D(m*.8,2),p=D(m*1.6,2),w=D(m*4,2),A="A "+w+","+w+" 0 0 1 ";return c(v,T,"M-"+h+","+i+A+h+","+i+A+"0,-"+p+A+"-"+h+","+i+"Z")}},"star-triangle-down":{n:20,f:function(m,v,T){if(e(v))return s;var h=D(m*M*.8,2),i=D(m*.8,2),p=D(m*1.6,2),w=D(m*4,2),A="A "+w+","+w+" 0 0 1 ";return c(v,T,"M"+h+",-"+i+A+"-"+h+",-"+i+A+"0,"+p+A+h+",-"+i+"Z")}},"star-square":{n:21,f:function(m,v,T){if(e(v))return s;var h=D(m*1.1,2),i=D(m*2,2),p="A "+i+","+i+" 0 0 1 ";return c(v,T,"M-"+h+",-"+h+p+"-"+h+","+h+p+h+","+h+p+h+",-"+h+p+"-"+h+",-"+h+"Z")}},"star-diamond":{n:22,f:function(m,v,T){if(e(v))return s;var h=D(m*1.4,2),i=D(m*1.9,2),p="A "+i+","+i+" 0 0 1 ";return c(v,T,"M-"+h+",0"+p+"0,"+h+p+h+",0"+p+"0,-"+h+p+"-"+h+",0Z")}},"diamond-tall":{n:23,f:function(m,v,T){if(e(v))return s;var h=D(m*.7,2),i=D(m*1.4,2);return c(v,T,"M0,"+i+"L"+h+",0L0,-"+i+"L-"+h+",0Z")}},"diamond-wide":{n:24,f:function(m,v,T){if(e(v))return s;var h=D(m*1.4,2),i=D(m*.7,2);return c(v,T,"M0,"+i+"L"+h+",0L0,-"+i+"L-"+h+",0Z")}},hourglass:{n:25,f:function(m,v,T){if(e(v))return s;var h=D(m,2);return c(v,T,"M"+h+","+h+"H-"+h+"L"+h+",-"+h+"H-"+h+"Z")},noDot:!0},bowtie:{n:26,f:function(m,v,T){if(e(v))return s;var h=D(m,2);return c(v,T,"M"+h+","+h+"V-"+h+"L-"+h+","+h+"V-"+h+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,v,T){if(e(v))return s;var h=D(m,2);return c(v,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,v,T){if(e(v))return s;var h=D(m,2),i=D(m/P,2);return c(v,T,"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,v,T){if(e(v))return s;var h=D(m,2);return c(v,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,v,T){if(e(v))return s;var h=D(m,2);return c(v,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,v,T){if(e(v))return s;var h=D(m*1.3,2);return c(v,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM0,-"+h+"V"+h+"M-"+h+",0H"+h)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,v,T){if(e(v))return s;var h=D(m*1.3,2),i=D(m*.65,2);return c(v,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,v,T){if(e(v))return s;var h=D(m*1.4,2);return c(v,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,v,T){if(e(v))return s;var h=D(m,2);return c(v,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,v,T){if(e(v))return s;var h=D(m*1.2,2),i=D(m*.85,2);return c(v,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,v,T){if(e(v))return s;var h=D(m/2,2),i=D(m,2);return c(v,T,"M"+h+","+i+"V-"+i+"M"+(h-i)+",-"+i+"V"+i+"M"+i+","+h+"H-"+i+"M-"+i+","+(h-i)+"H"+i)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,v,T){if(e(v))return s;var h=D(m*1.2,2),i=D(m*1.6,2),p=D(m*.8,2);return c(v,T,"M-"+h+","+p+"L0,0M"+h+","+p+"L0,0M0,-"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,v,T){if(e(v))return s;var h=D(m*1.2,2),i=D(m*1.6,2),p=D(m*.8,2);return c(v,T,"M-"+h+",-"+p+"L0,0M"+h+",-"+p+"L0,0M0,"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,v,T){if(e(v))return s;var h=D(m*1.2,2),i=D(m*1.6,2),p=D(m*.8,2);return c(v,T,"M"+p+","+h+"L0,0M"+p+",-"+h+"L0,0M-"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,v,T){if(e(v))return s;var h=D(m*1.2,2),i=D(m*1.6,2),p=D(m*.8,2);return c(v,T,"M-"+p+","+h+"L0,0M-"+p+",-"+h+"L0,0M"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,v,T){if(e(v))return s;var h=D(m*1.4,2);return c(v,T,"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,v,T){if(e(v))return s;var h=D(m*1.4,2);return c(v,T,"M0,"+h+"V-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,v,T){if(e(v))return s;var h=D(m,2);return c(v,T,"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,v,T){if(e(v))return s;var h=D(m,2);return c(v,T,"M"+h+","+h+"L-"+h+",-"+h)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,v,T){if(e(v))return s;var h=D(m,2),i=D(m*2,2);return c(v,T,"M0,0L-"+h+","+i+"H"+h+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,v,T){if(e(v))return s;var h=D(m,2),i=D(m*2,2);return c(v,T,"M0,0L-"+h+",-"+i+"H"+h+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,v,T){if(e(v))return s;var h=D(m*2,2),i=D(m,2);return c(v,T,"M0,0L"+h+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,v,T){if(e(v))return s;var h=D(m*2,2),i=D(m,2);return c(v,T,"M0,0L-"+h+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,v,T){if(e(v))return s;var h=D(m,2),i=D(m*2,2);return c(v,T,"M-"+h+",0H"+h+"M0,0L-"+h+","+i+"H"+h+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,v,T){if(e(v))return s;var h=D(m,2),i=D(m*2,2);return c(v,T,"M-"+h+",0H"+h+"M0,0L-"+h+",-"+i+"H"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,v,T){if(e(v))return s;var h=D(m*2,2),i=D(m,2);return c(v,T,"M0,-"+i+"V"+i+"M0,0L"+h+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,v,T){if(e(v))return s;var h=D(m*2,2),i=D(m,2);return c(v,T,"M0,-"+i+"V"+i+"M0,0L-"+h+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,v,T){if(e(v))return s;var h=d/2.5,i=2*m*g(h),p=2*m*r(h);return c(v,T,"M0,0L"+-i+","+p+"L"+i+","+p+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,v,T){if(e(v))return s;var h=d/4,i=2*m*g(h),p=2*m*r(h);return c(v,T,"M0,0L"+-i+","+p+"A "+2*m+","+2*m+" 0 0 1 "+i+","+p+"Z")},backoff:.4,noDot:!0}};function e(m){return m===null}var o,n,u,f;function c(m,v,T){if((!m||m%360===0)&&!v)return T;if(u===m&&f===v&&o===T)return n;u=m,f=v,o=T;function h(k,U){var F=g(k),V=r(k),N=U[0],O=U[1]+(v||0);return[N*F-O*V,N*V+O*F]}for(var i=m/180*d,p=0,w=0,A=y(T),L="",x=0;x<A.length;x++){var E=A[x],S=E[0],a=p,C=w;if(S==="M"||S==="L")p=+E[1],w=+E[2];else if(S==="m"||S==="l")p+=+E[1],w+=+E[2];else if(S==="H")p=+E[1];else if(S==="h")p+=+E[1];else if(S==="V")w=+E[1];else if(S==="v")w+=+E[1];else if(S==="A"){p=+E[1],w=+E[2];var b=h(i,[+E[6],+E[7]]);E[6]=b[0],E[7]=b[1],E[3]=+E[3]+m}(S==="H"||S==="V")&&(S="L"),(S==="h"||S==="v")&&(S="l"),(S==="m"||S==="l")&&(p-=a,w-=C);var z=h(i,[p,w]);(S==="H"||S==="V")&&(S="L"),(S==="M"||S==="L"||S==="m"||S==="l")&&(E[1]=z[0],E[2]=z[1]),E[0]=S,L+=E[0]+E.slice(1).join(",")}return n=L,L}},97644:function(W){W.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(W,G,t){var y=t(38248),D=t(24040),s=t(54460),P=t(3400),M=t(93792);W.exports=function(r){for(var e=r.calcdata,o=0;o<e.length;o++){var n=e[o],u=n[0].trace;if(u.visible===!0&&D.traceIs(u,"errorBarsOK")){var f=s.getFromId(r,u.xaxis),c=s.getFromId(r,u.yaxis);d(n,u,f,"x"),d(n,u,c,"y")}}};function d(g,r,e,o){var n=r["error_"+o]||{},u=n.visible&&["linear","log"].indexOf(e.type)!==-1,f=[];if(u){for(var c=M(n),m=0;m<g.length;m++){var v=g[m],T=v.i;if(T===void 0)T=m;else if(T===null)continue;var h=v[o];if(y(e.c2l(h))){var i=c(h,T);if(y(i[0])&&y(i[1])){var p=v[o+"s"]=h-i[0],w=v[o+"h"]=h+i[1];f.push(p,w)}}}var A=e._id,L=r._extremes[A],x=s.findExtremes(e,f,P.extendFlat({tozero:L.opts.tozero},{padded:!0}));L.min=L.min.concat(x.min),L.max=L.max.concat(x.max)}}},93792:function(W){W.exports=function(y){var D=y.type,s=y.symmetric;if(D==="data"){var P=y.array||[];if(s)return function(e,o){var n=+P[o];return[n,n]};var M=y.arrayminus||[];return function(e,o){var n=+P[o],u=+M[o];return!isNaN(n)||!isNaN(u)?[u||0,n||0]:[NaN,NaN]}}else{var d=G(D,y.value),g=G(D,y.valueminus);return s||y.valueminus===void 0?function(e){var o=d(e);return[o,o]}:function(e){return[g(e),d(e)]}}};function G(t,y){if(t==="percent")return function(D){return Math.abs(D*y/100)};if(t==="constant")return function(){return Math.abs(y)};if(t==="sqrt")return function(D){return Math.sqrt(Math.abs(D))}}},65200:function(W,G,t){var y=t(38248),D=t(24040),s=t(3400),P=t(31780),M=t(97644);W.exports=function(d,g,r,e){var o="error_"+e.axis,n=P.newContainer(g,o),u=d[o]||{};function f(p,w){return s.coerce(u,n,M,p,w)}var c=u.array!==void 0||u.value!==void 0||u.type==="sqrt",m=f("visible",c);if(m!==!1){var v=f("type","array"in u?"data":"percent"),T=!0;v!=="sqrt"&&(T=f("symmetric",!((v==="data"?"arrayminus":"valueminus")in u))),v==="data"?(f("array"),f("traceref"),T||(f("arrayminus"),f("tracerefminus"))):(v==="percent"||v==="constant")&&(f("value"),T||f("valueminus"));var h="copy_"+e.inherit+"style";if(e.inherit){var i=g["error_"+e.inherit];(i||{}).visible&&f(h,!(u.color||y(u.thickness)||y(u.width)))}(!e.inherit||!n[h])&&(f("color",r),f("thickness"),f("width",D.traceIs(g,"gl3d")?0:4))}}},64968:function(W,G,t){var y=t(3400),D=t(67824).overrideAll,s=t(97644),P={error_x:y.extendFlat({},s),error_y:y.extendFlat({},s)};delete P.error_x.copy_zstyle,delete P.error_y.copy_zstyle,delete P.error_y.copy_ystyle;var M={error_x:y.extendFlat({},s),error_y:y.extendFlat({},s),error_z:y.extendFlat({},s)};delete M.error_x.copy_ystyle,delete M.error_y.copy_ystyle,delete M.error_z.copy_ystyle,delete M.error_z.copy_zstyle,W.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:P,bar:P,histogram:P,scatter3d:D(M,"calc","nested"),scattergl:D(P,"calc","nested")}},supplyDefaults:t(65200),calc:t(14880),makeComputeError:t(93792),plot:t(78512),style:t(92036),hoverInfo:d};function d(g,r,e){(r.error_y||{}).visible&&(e.yerr=g.yh-g.y,r.error_y.symmetric||(e.yerrneg=g.y-g.ys)),(r.error_x||{}).visible&&(e.xerr=g.xh-g.x,r.error_x.symmetric||(e.xerrneg=g.x-g.xs))}},78512:function(W,G,t){var y=t(33428),D=t(38248),s=t(43616),P=t(43028);W.exports=function(g,r,e,o){var n,u=e.xaxis,f=e.yaxis,c=o&&o.duration>0,m=g._context.staticPlot;r.each(function(v){var T=v[0].trace,h=T.error_x||{},i=T.error_y||{},p;T.ids&&(p=function(x){return x.id});var w=P.hasMarkers(T)&&T.marker.maxdisplayed>0;!i.visible&&!h.visible&&(v=[]);var A=y.select(this).selectAll("g.errorbar").data(v,p);if(A.exit().remove(),!!v.length){h.visible||A.selectAll("path.xerror").remove(),i.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var L=A.enter().append("g").classed("errorbar",!0);c&&L.style("opacity",0).transition().duration(o.duration).style("opacity",1),s.setClipUrl(A,e.layerClipId,g),A.each(function(x){var E=y.select(this),S=M(x,u,f);if(!(w&&!x.vis)){var a,C=E.select("path.yerror");if(i.visible&&D(S.x)&&D(S.yh)&&D(S.ys)){var b=i.width;a="M"+(S.x-b)+","+S.yh+"h"+2*b+"m-"+b+",0V"+S.ys,S.noYS||(a+="m-"+b+",0h"+2*b),n=!C.size(),n?C=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):c&&(C=C.transition().duration(o.duration).ease(o.easing)),C.attr("d",a)}else C.remove();var z=E.select("path.xerror");if(h.visible&&D(S.y)&&D(S.xh)&&D(S.xs)){var k=(h.copy_ystyle?i:h).width;a="M"+S.xh+","+(S.y-k)+"v"+2*k+"m0,-"+k+"H"+S.xs,S.noXS||(a+="m0,-"+k+"v"+2*k),n=!z.size(),n?z=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):c&&(z=z.transition().duration(o.duration).ease(o.easing)),z.attr("d",a)}else z.remove()}})}})};function M(d,g,r){var e={x:g.c2p(d.x),y:r.c2p(d.y)};return d.yh!==void 0&&(e.yh=r.c2p(d.yh),e.ys=r.c2p(d.ys),D(e.ys)||(e.noYS=!0,e.ys=r.c2p(d.ys,!0))),d.xh!==void 0&&(e.xh=g.c2p(d.xh),e.xs=g.c2p(d.xs),D(e.xs)||(e.noXS=!0,e.xs=g.c2p(d.xs,!0))),e}},92036:function(W,G,t){var y=t(33428),D=t(76308);W.exports=function(P){P.each(function(M){var d=M[0].trace,g=d.error_y||{},r=d.error_x||{},e=y.select(this);e.selectAll("path.yerror").style("stroke-width",g.thickness+"px").call(D.stroke,g.color),r.copy_ystyle&&(r=g),e.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(D.stroke,r.color)})}},55756:function(W,G,t){var y=t(25376),D=t(65460).hoverlabel,s=t(92880).extendFlat;W.exports={hoverlabel:{bgcolor:s({},D.bgcolor,{arrayOk:!0}),bordercolor:s({},D.bordercolor,{arrayOk:!0}),font:y({arrayOk:!0,editType:"none"}),align:s({},D.align,{arrayOk:!0}),namelength:s({},D.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(W,G,t){var y=t(3400),D=t(24040);W.exports=function(M){var d=M.calcdata,g=M._fullLayout;function r(f){return function(c){return y.coerceHoverinfo({hoverinfo:c},{_module:f._module},g)}}for(var e=0;e<d.length;e++){var o=d[e],n=o[0].trace;if(!D.traceIs(n,"pie-like")){var u=D.traceIs(n,"2dMap")?s:y.fillArray;u(n.hoverinfo,o,"hi",r(n)),n.hovertemplate&&u(n.hovertemplate,o,"ht"),n.hoverlabel&&(u(n.hoverlabel.bgcolor,o,"hbg"),u(n.hoverlabel.bordercolor,o,"hbc"),u(n.hoverlabel.font.size,o,"hts"),u(n.hoverlabel.font.color,o,"htc"),u(n.hoverlabel.font.family,o,"htf"),u(n.hoverlabel.font.weight,o,"htw"),u(n.hoverlabel.font.style,o,"hty"),u(n.hoverlabel.font.variant,o,"htv"),u(n.hoverlabel.namelength,o,"hnl"),u(n.hoverlabel.align,o,"hta"))}}};function s(P,M,d,g){g=g||y.identity,Array.isArray(P)&&(M[0][d]=g(P))}},62376:function(W,G,t){var y=t(24040),D=t(83292).hover;W.exports=function(P,M,d){var g=y.getComponentMethod("annotations","onClick")(P,P._hoverdata);d!==void 0&&D(P,M,d,!0);function r(){P.emit("plotly_click",{points:P._hoverdata,event:M})}P._hoverdata&&M&&M.target&&(g&&g.then?g.then(r):r(),M.stopImmediatePropagation&&M.stopImmediatePropagation())}},92456:function(W){W.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(W,G,t){var y=t(3400),D=t(55756),s=t(16132);W.exports=function(M,d,g,r){function e(n,u){return y.coerce(M,d,D,n,u)}var o=y.extendFlat({},r.hoverlabel);d.hovertemplate&&(o.namelength=-1),s(M,d,e,o)}},10624:function(W,G,t){var y=t(3400);G.getSubplot=function(g){return g.subplot||g.xaxis+g.yaxis||g.geo},G.isTraceInSubplots=function(g,r){if(g.type==="splom"){for(var e=g.xaxes||[],o=g.yaxes||[],n=0;n<e.length;n++)for(var u=0;u<o.length;u++)if(r.indexOf(e[n]+o[u])!==-1)return!0;return!1}return r.indexOf(G.getSubplot(g))!==-1},G.flat=function(g,r){for(var e=new Array(g.length),o=0;o<g.length;o++)e[o]=r;return e},G.p2c=function(g,r){for(var e=new Array(g.length),o=0;o<g.length;o++)e[o]=g[o].p2c(r);return e},G.getDistanceFunction=function(g,r,e,o){return g==="closest"?o||G.quadrature(r,e):g.charAt(0)==="x"?r:e},G.getClosest=function(g,r,e){if(e.index!==!1)e.index>=0&&e.index<g.length?e.distance=0:e.index=!1;else for(var o=0;o<g.length;o++){var n=r(g[o]);n<=e.distance&&(e.index=o,e.distance=n)}return e},G.inbox=function(g,r,e){return g*r<0||g===0?e:1/0},G.quadrature=function(g,r){return function(e){var o=g(e),n=r(e);return Math.sqrt(o*o+n*n)}},G.makeEventData=function(g,r,e){var o="index"in g?g.index:g.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:o};if(r._indexToPoints){var u=r._indexToPoints[o];u.length===1?n.pointIndex=u[0]:n.pointIndices=u}else n.pointIndex=o;return r._module.eventData?n=r._module.eventData(n,g,r,e,o):("xVal"in g?n.x=g.xVal:"x"in g&&(n.x=g.x),"yVal"in g?n.y=g.yVal:"y"in g&&(n.y=g.y),g.xa&&(n.xaxis=g.xa),g.ya&&(n.yaxis=g.ya),g.zLabelVal!==void 0&&(n.z=g.zLabelVal)),G.appendArrayPointValue(n,r,o),n},G.appendArrayPointValue=function(g,r,e){var o=r._arrayAttrs;if(o)for(var n=0;n<o.length;n++){var u=o[n],f=s(u);if(g[f]===void 0){var c=y.nestedProperty(r,u).get(),m=P(c,e);m!==void 0&&(g[f]=m)}}},G.appendArrayMultiPointValues=function(g,r,e){var o=r._arrayAttrs;if(o)for(var n=0;n<o.length;n++){var u=o[n],f=s(u);if(g[f]===void 0){for(var c=y.nestedProperty(r,u).get(),m=new Array(e.length),v=0;v<e.length;v++)m[v]=P(c,e[v]);g[f]=m}}};var D={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function s(g){return D[g]||g}function P(g,r){if(Array.isArray(r)){if(Array.isArray(g)&&Array.isArray(g[r[0]]))return g[r[0]][r[1]]}else return g[r]}var M={x:!0,y:!0},d={"x unified":!0,"y unified":!0};G.isUnifiedHover=function(g){return typeof g!="string"?!1:!!d[g]},G.isXYhover=function(g){return typeof g!="string"?!1:!!M[g]}},83292:function(W,G,t){var y=t(33428),D=t(38248),s=t(49760),P=t(3400),M=P.pushUnique,d=P.strTranslate,g=P.strRotate,r=t(95924),e=t(72736),o=t(72213),n=t(43616),u=t(76308),f=t(86476),c=t(54460),m=t(33816).zindexSeparator,v=t(24040),T=t(10624),h=t(92456),i=t(77864),p=t(31140),w=h.YANGLE,A=Math.PI*w/180,L=1/Math.sin(A),x=Math.cos(A),E=Math.sin(A),S=h.HOVERARROWSIZE,a=h.HOVERTEXTPAD,C={box:!0,ohlc:!0,violin:!0,candlestick:!0},b={scatter:!0,scattergl:!0,splom:!0};function z(j,lt){return j.distance-lt.distance}G.hover=function(lt,nt,ht,mt){lt=P.getGraphDiv(lt);var At=nt.target;P.throttle(lt._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){k(lt,nt,ht,mt,At)})},G.loneHover=function(lt,nt){var ht=!0;Array.isArray(lt)||(ht=!1,lt=[lt]);var mt=nt.gd,At=q(mt),bt=ut(mt),Pt=lt.map(function(Kt){var oe=Kt._x0||Kt.x0||Kt.x||0,Jt=Kt._x1||Kt.x1||Kt.x||0,te=Kt._y0||Kt.y0||Kt.y||0,fe=Kt._y1||Kt.y1||Kt.y||0,ve=Kt.eventData;if(ve){var de=Math.min(oe,Jt),xe=Math.max(oe,Jt),Me=Math.min(te,fe),ne=Math.max(te,fe),kt=Kt.trace;if(v.traceIs(kt,"gl3d")){var Gt=mt._fullLayout[kt.scene]._scene.container,Yt=Gt.offsetLeft,Zt=Gt.offsetTop;de+=Yt,xe+=Yt,Me+=Zt,ne+=Zt}ve.bbox={x0:de+bt,x1:xe+bt,y0:Me+At,y1:ne+At},nt.inOut_bbox&&nt.inOut_bbox.push(ve.bbox)}else ve=!1;return{color:Kt.color||u.defaultLine,x0:Kt.x0||Kt.x||0,x1:Kt.x1||Kt.x||0,y0:Kt.y0||Kt.y||0,y1:Kt.y1||Kt.y||0,xLabel:Kt.xLabel,yLabel:Kt.yLabel,zLabel:Kt.zLabel,text:Kt.text,name:Kt.name,idealAlign:Kt.idealAlign,borderColor:Kt.borderColor,fontFamily:Kt.fontFamily,fontSize:Kt.fontSize,fontColor:Kt.fontColor,fontWeight:Kt.fontWeight,fontStyle:Kt.fontStyle,fontVariant:Kt.fontVariant,nameLength:Kt.nameLength,textAlign:Kt.textAlign,trace:Kt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Kt.hovertemplate||!1,hovertemplateLabels:Kt.hovertemplateLabels||!1,eventData:ve}}),_t=!1,Ut=V(Pt,{gd:mt,hovermode:"closest",rotateLabels:_t,bgColor:nt.bgColor||u.background,container:y.select(nt.container),outerContainer:nt.outerContainer||nt.container}),St=Ut.hoverLabels,Rt=5,Et=0,zt=0;St.sort(function(Kt,oe){return Kt.y0-oe.y0}).each(function(Kt,oe){var Jt=Kt.y0-Kt.by/2;Jt-Rt<Et?Kt.offset=Et-Jt+Rt:Kt.offset=0,Et=Jt+Kt.by+Kt.offset,oe===nt.anchorIndex&&(zt=Kt.offset)}).each(function(Kt){Kt.offset-=zt});var Ct=mt._fullLayout._invScaleX,Wt=mt._fullLayout._invScaleY;return J(St,_t,Ct,Wt),ht?St:St.node()};function k(j,lt,nt,ht,mt){nt||(nt="xy"),typeof nt=="string"&&(nt=nt.split(m)[0]);var At=Array.isArray(nt)?nt:[nt],bt,Pt=j._fullLayout,_t=Pt.hoversubplots,Ut=Pt._plots||[],St=Ut[nt],Rt=Pt._has("cartesian"),Et=lt.hovermode||Pt.hovermode,zt=(Et||"").charAt(0)==="x",Ct=(Et||"").charAt(0)==="y",Wt,Kt;if(Rt&&(zt||Ct)&&_t==="axis"){for(var oe=At.length,Jt=0;Jt<oe;Jt++)if(bt=At[Jt],Ut[bt]){Wt=c.getFromId(j,bt,"x"),Kt=c.getFromId(j,bt,"y");var te=(zt?Wt:Kt)._subplotsWith;if(te&&te.length)for(var fe=0;fe<te.length;fe++)M(At,te[fe])}}if(St&&_t!=="single"){var ve=St.overlays.map(function(Dn){return Dn.id});At=At.concat(ve)}for(var de=At.length,xe=new Array(de),Me=new Array(de),ne=!1,kt=0;kt<de;kt++)if(bt=At[kt],Ut[bt])ne=!0,xe[kt]=Ut[bt].xaxis,Me[kt]=Ut[bt].yaxis;else if(Pt[bt]&&Pt[bt]._subplot){var Gt=Pt[bt]._subplot;xe[kt]=Gt.xaxis,Me[kt]=Gt.yaxis}else{P.warn("Unrecognized subplot: "+bt);return}if(Et&&!ne&&(Et="closest"),["x","y","closest","x unified","y unified"].indexOf(Et)===-1||!j.calcdata||j.querySelector(".zoombox")||j._dragging)return f.unhoverRaw(j,lt);var Yt=Pt.hoverdistance;Yt===-1&&(Yt=1/0);var Zt=Pt.spikedistance;Zt===-1&&(Zt=1/0);var It=[],Nt=[],Ht,Lt,dt,xt,Ot,jt,ie,le,Ve,je,Te,Le,Ke,vr={hLinePoint:null,vLinePoint:null},ge=!1;if(Array.isArray(lt))for(Et="array",dt=0;dt<lt.length;dt++)Ot=j.calcdata[lt[dt].curveNumber||0],Ot&&(jt=Ot[0].trace,Ot[0].trace.hoverinfo!=="skip"&&(Nt.push(Ot),jt.orientation==="h"&&(ge=!0)));else{var Xe=j.calcdata.slice();for(Xe.sort(function(Dn,Cr){var an=Dn[0].trace.zorder||0,on=Cr[0].trace.zorder||0;return an-on}),xt=0;xt<Xe.length;xt++)Ot=Xe[xt],jt=Ot[0].trace,jt.hoverinfo!=="skip"&&T.isTraceInSubplots(jt,At)&&(Nt.push(Ot),jt.orientation==="h"&&(ge=!0));var $e=!mt,mr,or;if($e)"xpx"in lt?mr=lt.xpx:mr=xe[0]._length/2,"ypx"in lt?or=lt.ypx:or=Me[0]._length/2;else{if(r.triggerHandler(j,"plotly_beforehover",lt)===!1)return;var ye=mt.getBoundingClientRect();mr=lt.clientX-ye.left,or=lt.clientY-ye.top,Pt._calcInverseTransform(j);var ue=P.apply3DTransform(Pt._invTransform)(mr,or);if(mr=ue[0],or=ue[1],mr<0||mr>xe[0]._length||or<0||or>Me[0]._length)return f.unhoverRaw(j,lt)}if(lt.pointerX=mr+xe[0]._offset,lt.pointerY=or+Me[0]._offset,"xval"in lt?Ht=T.flat(At,lt.xval):Ht=T.p2c(xe,mr),"yval"in lt?Lt=T.flat(At,lt.yval):Lt=T.p2c(Me,or),!D(Ht[0])||!D(Lt[0]))return P.warn("Fx.hover failed",lt,j),f.unhoverRaw(j,lt)}var be=1/0;function Ee(Dn,Cr){for(xt=0;xt<Nt.length;xt++)if(Ot=Nt[xt],!(!Ot||!Ot[0]||!Ot[0].trace)&&(jt=Ot[0].trace,!(jt.visible!==!0||jt._length===0)&&["carpet","contourcarpet"].indexOf(jt._module.name)===-1)){if(Ve=Et,T.isUnifiedHover(Ve)&&(Ve=Ve.charAt(0)),jt.type==="splom"?(le=0,ie=At[le]):(ie=T.getSubplot(jt),le=At.indexOf(ie)),Le={cd:Ot,trace:jt,xa:xe[le],ya:Me[le],maxHoverDistance:Yt,maxSpikeDistance:Zt,index:!1,distance:Math.min(be,Yt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:u.defaultLine,name:jt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Pt[ie]&&(Le.subplot=Pt[ie]._subplot),Pt._splomScenes&&Pt._splomScenes[jt.uid]&&(Le.scene=Pt._splomScenes[jt.uid]),Ve==="array"){var an=lt[xt];"pointNumber"in an?(Le.index=an.pointNumber,Ve="closest"):(Ve="","xval"in an&&(je=an.xval,Ve="x"),"yval"in an&&(Te=an.yval,Ve=Ve?"closest":"y"))}else Dn!==void 0&&Cr!==void 0?(je=Dn,Te=Cr):(je=Ht[le],Te=Lt[le]);if(Ke=It.length,Yt!==0)if(jt._module&&jt._module.hoverPoints){var on=jt._module.hoverPoints(Le,je,Te,Ve,{finiteRange:!0,hoverLayer:Pt._hoverlayer,hoversubplots:_t,gd:j});if(on)for(var ln,Bn=0;Bn<on.length;Bn++)ln=on[Bn],D(ln.x0)&&D(ln.y0)&&It.push(et(ln,Et))}else P.log("Unrecognized trace type in hover:",jt);if(Et==="closest"&&It.length>Ke&&(It.splice(0,Ke),be=It[0].distance),Rt&&Zt!==0&&It.length===0){Le.distance=Zt,Le.index=!1;var gn=jt._module.hoverPoints(Le,je,Te,"closest",{hoverLayer:Pt._hoverlayer});if(gn&&(gn=gn.filter(function(Ar){return Ar.spikeDistance<=Zt})),gn&&gn.length){var Cn,Nn=gn.filter(function(Ar){return Ar.xa.showspikes&&Ar.xa.spikesnap!=="hovered data"});if(Nn.length){var $n=Nn[0];D($n.x0)&&D($n.y0)&&(Cn=Oe($n),(!vr.vLinePoint||vr.vLinePoint.spikeDistance>Cn.spikeDistance)&&(vr.vLinePoint=Cn))}var vi=gn.filter(function(Ar){return Ar.ya.showspikes&&Ar.ya.spikesnap!=="hovered data"});if(vi.length){var Di=vi[0];D(Di.x0)&&D(Di.y0)&&(Cn=Oe(Di),(!vr.hLinePoint||vr.hLinePoint.spikeDistance>Cn.spikeDistance)&&(vr.hLinePoint=Cn))}}}}}Ee();function _e(Dn,Cr,an){for(var on=null,ln=1/0,Bn,gn=0;gn<Dn.length;gn++)Wt&&Wt._id!==Dn[gn].xa._id||Kt&&Kt._id!==Dn[gn].ya._id||(Bn=Dn[gn].spikeDistance,an&&gn===0&&(Bn=-1/0),Bn<=ln&&Bn<=Cr&&(on=Dn[gn],ln=Bn));return on}function Oe(Dn){return Dn?{xa:Dn.xa,ya:Dn.ya,x:Dn.xSpike!==void 0?Dn.xSpike:(Dn.x0+Dn.x1)/2,y:Dn.ySpike!==void 0?Dn.ySpike:(Dn.y0+Dn.y1)/2,distance:Dn.distance,spikeDistance:Dn.spikeDistance,curveNumber:Dn.trace.index,color:Dn.color,pointNumber:Dn.index}:null}var Fe={fullLayout:Pt,container:Pt._hoverlayer,event:lt};j._spikepoints;var Be={vLinePoint:vr.vLinePoint,hLinePoint:vr.hLinePoint};j._spikepoints=Be;var Je=function(){var Dn=It.filter(function(an){return Wt&&Wt._id===an.xa._id&&Kt&&Kt._id===an.ya._id}),Cr=It.filter(function(an){return!(Wt&&Wt._id===an.xa._id&&Kt&&Kt._id===an.ya._id)});Dn.sort(z),Cr.sort(z),It=Dn.concat(Cr),It=tt(It,Et)};Je();var hr=Et.charAt(0),cr=(hr==="x"||hr==="y")&&It[0]&&b[It[0].trace.type];if(Rt&&Zt!==0&&It.length!==0){var dr=It.filter(function(Dn){return Dn.ya.showspikes}),fr=_e(dr,Zt,cr);vr.hLinePoint=Oe(fr);var Lr=It.filter(function(Dn){return Dn.xa.showspikes}),xr=_e(Lr,Zt,cr);vr.vLinePoint=Oe(xr)}if(It.length===0){var Qt=f.unhoverRaw(j,lt);return Rt&&(vr.hLinePoint!==null||vr.vLinePoint!==null)&&ot()&&it(j,vr,Fe),Qt}if(Rt&&ot()&&it(j,vr,Fe),T.isXYhover(Ve)&&It[0].length!==0&&It[0].trace.type!=="splom"){var re=It[0];C[re.trace.type]?It=It.filter(function(Dn){return Dn.trace.index===re.trace.index}):It=[re];var tr=It.length,er=Z("x",re,Pt),Ye=Z("y",re,Pt);Ee(er,Ye);var Pe=[],Ze={},nr=0,Qe=function(Dn){var Cr=C[Dn.trace.type]?U(Dn):Dn.trace.index;if(!Ze[Cr])nr++,Ze[Cr]=nr,Pe.push(Dn);else{var an=Ze[Cr]-1,on=Pe[an];an>0&&Math.abs(Dn.distance)<Math.abs(on.distance)&&(Pe[an]=Dn)}},We;for(We=0;We<tr;We++)Qe(It[We]);for(We=It.length-1;We>tr-1;We--)Qe(It[We]);It=Pe,Je()}var yr=j._hoverdata,Rr=[],Tr=q(j),vn=ut(j);for(dt=0;dt<It.length;dt++){var Or=It[dt],En=T.makeEventData(Or,Or.trace,Or.cd);if(Or.hovertemplate!==!1){var nn=!1;Or.cd[Or.index]&&Or.cd[Or.index].ht&&(nn=Or.cd[Or.index].ht),Or.hovertemplate=nn||Or.trace.hovertemplate||!1}if(Or.xa&&Or.ya){var gr=Or.x0+Or.xa._offset,Pr=Or.x1+Or.xa._offset,jr=Or.y0+Or.ya._offset,_r=Or.y1+Or.ya._offset,pn=Math.min(gr,Pr),en=Math.max(gr,Pr),Tn=Math.min(jr,_r),Pn=Math.max(jr,_r);En.bbox={x0:pn+vn,x1:en+vn,y0:Tn+Tr,y1:Pn+Tr}}Or.eventData=[En],Rr.push(En)}j._hoverdata=Rr;var Gn=Et==="y"&&(Nt.length>1||It.length>1)||Et==="closest"&&ge&&It.length>1,gi=u.combine(Pt.plot_bgcolor||u.background,Pt.paper_bgcolor),bi=V(It,{gd:j,hovermode:Et,rotateLabels:Gn,bgColor:gi,container:Pt._hoverlayer,outerContainer:Pt._paper.node(),commonLabelOpts:Pt.hoverlabel,hoverdistance:Pt.hoverdistance}),oi=bi.hoverLabels;if(T.isUnifiedHover(Et)||(O(oi,Gn,Pt,bi.commonLabelBoundingBox),J(oi,Gn,Pt._invScaleX,Pt._invScaleY)),mt&&mt.tagName){var ni=v.getComponentMethod("annotations","hasClickToShow")(j,Rr);o(y.select(mt),ni?"pointer":"")}!mt||ht||!ft(j,lt,yr)||(yr&&j.emit("plotly_unhover",{event:lt,points:yr}),j.emit("plotly_hover",{event:lt,points:j._hoverdata,xaxes:xe,yaxes:Me,xvals:Ht,yvals:Lt}))}function U(j){return[j.trace.index,j.index,j.x0,j.y0,j.name,j.attr,j.xa?j.xa._id:"",j.ya?j.ya._id:""].join(",")}var F=/<extra>([\s\S]*)<\/extra>/;function V(j,lt){var nt=lt.gd,ht=nt._fullLayout,mt=lt.hovermode,At=lt.rotateLabels,bt=lt.bgColor,Pt=lt.container,_t=lt.outerContainer,Ut=lt.commonLabelOpts||{};if(j.length===0)return[[]];var St=lt.fontFamily||h.HOVERFONT,Rt=lt.fontSize||h.HOVERFONTSIZE,Et=lt.fontWeight||ht.font.weight,zt=lt.fontStyle||ht.font.style,Ct=lt.fontVariant||ht.font.variant,Wt=lt.fontTextcase||ht.font.textcase,Kt=lt.fontLineposition||ht.font.lineposition,oe=lt.fontShadow||ht.font.shadow,Jt=j[0],te=Jt.xa,fe=Jt.ya,ve=mt.charAt(0),de=ve+"Label",xe=Jt[de];if(xe===void 0&&te.type==="multicategory")for(var Me=0;Me<j.length&&(xe=j[Me][de],xe===void 0);Me++);var ne=$(nt,_t),kt=ne.top,Gt=ne.width,Yt=ne.height,Zt=xe!==void 0&&Jt.distance<=lt.hoverdistance&&(mt==="x"||mt==="y");if(Zt){var It=!0,Nt,Ht;for(Nt=0;Nt<j.length;Nt++)if(It&&j[Nt].zLabel===void 0&&(It=!1),Ht=j[Nt].hoverinfo||j[Nt].trace.hoverinfo,Ht){var Lt=Array.isArray(Ht)?Ht:Ht.split("+");if(Lt.indexOf("all")===-1&&Lt.indexOf(mt)===-1){Zt=!1;break}}It&&(Zt=!1)}var dt=Pt.selectAll("g.axistext").data(Zt?[0]:[]);dt.enter().append("g").classed("axistext",!0),dt.exit().remove();var xt={minX:0,maxX:0,minY:0,maxY:0};if(dt.each(function(){var xr=y.select(this),Qt=P.ensureSingle(xr,"path","",function(en){en.style({"stroke-width":"1px"})}),re=P.ensureSingle(xr,"text","",function(en){en.attr("data-notex",1)}),tr=Ut.bgcolor||u.defaultLine,er=Ut.bordercolor||u.contrast(tr),Ye=u.contrast(tr),Pe=Ut.font,Ze={weight:Pe.weight||Et,style:Pe.style||zt,variant:Pe.variant||Ct,textcase:Pe.textcase||Wt,lineposition:Pe.lineposition||Kt,shadow:Pe.shadow||oe,family:Pe.family||St,size:Pe.size||Rt,color:Pe.color||Ye};Qt.style({fill:tr,stroke:er}),re.text(xe).call(n.font,Ze).call(e.positionText,0,0).call(e.convertToTspans,nt),xr.attr("transform","");var nr=$(nt,re.node()),Qe,We;if(mt==="x"){var yr=te.side==="top"?"-":"";re.attr("text-anchor","middle").call(e.positionText,0,te.side==="top"?kt-nr.bottom-S-a:kt-nr.top+S+a),Qe=te._offset+(Jt.x0+Jt.x1)/2,We=fe._offset+(te.side==="top"?0:fe._length);var Rr=nr.width/2+a,Tr=Qe;Qe<Rr?Tr=Rr:Qe>ht.width-Rr&&(Tr=ht.width-Rr),Qt.attr("d","M"+(Qe-Tr)+",0L"+(Qe-Tr+S)+","+yr+S+"H"+Rr+"v"+yr+(a*2+nr.height)+"H"+-Rr+"V"+yr+S+"H"+(Qe-Tr-S)+"Z"),Qe=Tr,xt.minX=Qe-Rr,xt.maxX=Qe+Rr,te.side==="top"?(xt.minY=We-(a*2+nr.height),xt.maxY=We-a):(xt.minY=We+a,xt.maxY=We+(a*2+nr.height))}else{var vn,Or,En;fe.side==="right"?(vn="start",Or=1,En="",Qe=te._offset+te._length):(vn="end",Or=-1,En="-",Qe=te._offset),We=fe._offset+(Jt.y0+Jt.y1)/2,re.attr("text-anchor",vn),Qt.attr("d","M0,0L"+En+S+","+S+"V"+(a+nr.height/2)+"h"+En+(a*2+nr.width)+"V-"+(a+nr.height/2)+"H"+En+S+"V-"+S+"Z"),xt.minY=We-(a+nr.height/2),xt.maxY=We+(a+nr.height/2),fe.side==="right"?(xt.minX=Qe+S,xt.maxX=Qe+S+(a*2+nr.width)):(xt.minX=Qe-S-(a*2+nr.width),xt.maxX=Qe-S);var nn=nr.height/2,gr=kt-nr.top-nn,Pr="clip"+ht._uid+"commonlabel"+fe._id,jr;if(Qe<nr.width+2*a+S){jr="M-"+(S+a)+"-"+nn+"h-"+(nr.width-a)+"V"+nn+"h"+(nr.width-a)+"Z";var _r=nr.width-Qe+a;e.positionText(re,_r,gr),vn==="end"&&re.selectAll("tspan").each(function(){var en=y.select(this),Tn=n.tester.append("text").text(en.text()).call(n.font,Ze),Pn=$(nt,Tn.node());Math.round(Pn.width)<Math.round(nr.width)&&en.attr("x",_r-Pn.width),Tn.remove()})}else e.positionText(re,Or*(a+S),gr),jr=null;var pn=ht._topclips.selectAll("#"+Pr).data(jr?[0]:[]);pn.enter().append("clipPath").attr("id",Pr).append("path"),pn.exit().remove(),pn.select("path").attr("d",jr),n.setClipUrl(re,jr?Pr:null,nt)}xr.attr("transform",d(Qe,We))}),T.isUnifiedHover(mt)){Pt.selectAll("g.hovertext").remove();var Ot=j.filter(function(xr){return xr.hoverinfo!=="none"});if(Ot.length===0)return[];var jt=ht.hoverlabel,ie=jt.font,le={showlegend:!0,legend:{title:{text:xe,font:ie},font:ie,bgcolor:jt.bgcolor,bordercolor:jt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ht.legend?ht.legend.traceorder:void 0,orientation:"v"}},Ve={font:ie};i(le,Ve,nt._fullData);var je=Ve.legend;je.entries=[];for(var Te=0;Te<Ot.length;Te++){var Le=Ot[Te];if(Le.hoverinfo!=="none"){var Ke=N(Le,!0,mt,ht,xe),vr=Ke[0],ge=Ke[1];Le.name=ge,ge!==""?Le.text=ge+" : "+vr:Le.text=vr;var Xe=Le.cd[Le.index];Xe&&(Xe.mc&&(Le.mc=Xe.mc),Xe.mcc&&(Le.mc=Xe.mcc),Xe.mlc&&(Le.mlc=Xe.mlc),Xe.mlcc&&(Le.mlc=Xe.mlcc),Xe.mlw&&(Le.mlw=Xe.mlw),Xe.mrc&&(Le.mrc=Xe.mrc),Xe.dir&&(Le.dir=Xe.dir)),Le._distinct=!0,je.entries.push([Le])}}je.entries.sort(function(xr,Qt){return xr[0].trace.index-Qt[0].trace.index}),je.layer=Pt,je._inHover=!0,je._groupTitleFont=jt.grouptitlefont,p(nt,je);var $e=Pt.select("g.legend"),mr=$(nt,$e.node()),or=mr.width+2*a,ye=mr.height+2*a,ue=Ot[0],be=(ue.x0+ue.x1)/2,Ee=(ue.y0+ue.y1)/2,_e=!(v.traceIs(ue.trace,"bar-like")||v.traceIs(ue.trace,"box-violin")),Oe,Fe;ve==="y"?_e?(Fe=Ee-a,Oe=Ee+a):(Fe=Math.min.apply(null,Ot.map(function(xr){return Math.min(xr.y0,xr.y1)})),Oe=Math.max.apply(null,Ot.map(function(xr){return Math.max(xr.y0,xr.y1)}))):Fe=Oe=P.mean(Ot.map(function(xr){return(xr.y0+xr.y1)/2}))-ye/2;var Be,Je;ve==="x"?_e?(Be=be+a,Je=be-a):(Be=Math.max.apply(null,Ot.map(function(xr){return Math.max(xr.x0,xr.x1)})),Je=Math.min.apply(null,Ot.map(function(xr){return Math.min(xr.x0,xr.x1)}))):Be=Je=P.mean(Ot.map(function(xr){return(xr.x0+xr.x1)/2}))-or/2;var hr=te._offset,cr=fe._offset;Oe+=cr,Be+=hr,Je+=hr-or,Fe+=cr-ye;var dr,fr;return Be+or<Gt&&Be>=0?dr=Be:Je+or<Gt&&Je>=0?dr=Je:hr+or<Gt?dr=hr:Be-be<be-Je+or?dr=Gt-or:dr=0,dr+=a,Oe+ye<Yt&&Oe>=0?fr=Oe:Fe+ye<Yt&&Fe>=0?fr=Fe:cr+ye<Yt?fr=cr:Oe-Ee<Ee-Fe+ye?fr=Yt-ye:fr=0,fr+=a,$e.attr("transform",d(dr-1,fr-1)),$e}var Lr=Pt.selectAll("g.hovertext").data(j,function(xr){return U(xr)});return Lr.enter().append("g").classed("hovertext",!0).each(function(){var xr=y.select(this);xr.append("rect").call(u.fill,u.addOpacity(bt,.8)),xr.append("text").classed("name",!0),xr.append("path").style("stroke-width","1px"),xr.append("text").classed("nums",!0).call(n.font,{weight:Et,style:zt,variant:Ct,textcase:Wt,lineposition:Kt,shadow:oe,family:St,size:Rt})}),Lr.exit().remove(),Lr.each(function(xr){var Qt=y.select(this).attr("transform",""),re=xr.color;Array.isArray(re)&&(re=re[xr.eventData[0].pointNumber]);var tr=xr.bgcolor||re,er=u.combine(u.opacity(tr)?tr:u.defaultLine,bt),Ye=u.combine(u.opacity(re)?re:u.defaultLine,bt),Pe=xr.borderColor||u.contrast(er),Ze=N(xr,Zt,mt,ht,xe,Qt),nr=Ze[0],Qe=Ze[1],We=Qt.select("text.nums").call(n.font,{family:xr.fontFamily||St,size:xr.fontSize||Rt,color:xr.fontColor||Pe,weight:xr.fontWeight||Et,style:xr.fontStyle||zt,variant:xr.fontVariant||Ct,textcase:xr.fontTextcase||Wt,lineposition:xr.fontLineposition||Kt,shadow:xr.fontShadow||oe}).text(nr).attr("data-notex",1).call(e.positionText,0,0).call(e.convertToTspans,nt),yr=Qt.select("text.name"),Rr=0,Tr=0;if(Qe&&Qe!==nr){yr.call(n.font,{family:xr.fontFamily||St,size:xr.fontSize||Rt,color:Ye,weight:xr.fontWeight||Et,style:xr.fontStyle||zt,variant:xr.fontVariant||Ct,textcase:xr.fontTextcase||Wt,lineposition:xr.fontLineposition||Kt,shadow:xr.fontShadow||oe}).text(Qe).attr("data-notex",1).call(e.positionText,0,0).call(e.convertToTspans,nt);var vn=$(nt,yr.node());Rr=vn.width+2*a,Tr=vn.height+2*a}else yr.remove(),Qt.select("rect").remove();Qt.select("path").style({fill:er,stroke:Pe});var Or=xr.xa._offset+(xr.x0+xr.x1)/2,En=xr.ya._offset+(xr.y0+xr.y1)/2,nn=Math.abs(xr.x1-xr.x0),gr=Math.abs(xr.y1-xr.y0),Pr=$(nt,We.node()),jr=Pr.width/ht._invScaleX,_r=Pr.height/ht._invScaleY;xr.ty0=(kt-Pr.top)/ht._invScaleY,xr.bx=jr+2*a,xr.by=Math.max(_r+2*a,Tr),xr.anchor="start",xr.txwidth=jr,xr.tx2width=Rr,xr.offset=0;var pn=(jr+S+a+Rr)*ht._invScaleX,en,Tn;if(At)xr.pos=Or,en=En+gr/2+pn<=Yt,Tn=En-gr/2-pn>=0,(xr.idealAlign==="top"||!en)&&Tn?(En-=gr/2,xr.anchor="end"):en?(En+=gr/2,xr.anchor="start"):xr.anchor="middle",xr.crossPos=En;else{if(xr.pos=En,en=Or+nn/2+pn<=Gt,Tn=Or-nn/2-pn>=0,(xr.idealAlign==="left"||!en)&&Tn)Or-=nn/2,xr.anchor="end";else if(en)Or+=nn/2,xr.anchor="start";else{xr.anchor="middle";var Pn=pn/2,Gn=Or+Pn-Gt,gi=Or-Pn;Gn>0&&(Or-=Gn),gi<0&&(Or+=-gi)}xr.crossPos=Or}We.attr("text-anchor",xr.anchor),Rr&&yr.attr("text-anchor",xr.anchor),Qt.attr("transform",d(Or,En)+(At?g(w):""))}),{hoverLabels:Lr,commonLabelBoundingBox:xt}}function N(j,lt,nt,ht,mt,At){var bt="",Pt="";j.nameOverride!==void 0&&(j.name=j.nameOverride),j.name&&(j.trace._meta&&(j.name=P.templateString(j.name,j.trace._meta)),bt=Q(j.name,j.nameLength));var _t=nt.charAt(0),Ut=_t==="x"?"y":"x";j.zLabel!==void 0?(j.xLabel!==void 0&&(Pt+="x: "+j.xLabel+"<br>"),j.yLabel!==void 0&&(Pt+="y: "+j.yLabel+"<br>"),j.trace.type!=="choropleth"&&j.trace.type!=="choroplethmapbox"&&(Pt+=(Pt?"z: ":"")+j.zLabel)):lt&&j[_t+"Label"]===mt?Pt=j[Ut+"Label"]||"":j.xLabel===void 0?j.yLabel!==void 0&&j.trace.type!=="scattercarpet"&&(Pt=j.yLabel):j.yLabel===void 0?Pt=j.xLabel:Pt="("+j.xLabel+", "+j.yLabel+")",(j.text||j.text===0)&&!Array.isArray(j.text)&&(Pt+=(Pt?"<br>":"")+j.text),j.extraText!==void 0&&(Pt+=(Pt?"<br>":"")+j.extraText),At&&Pt===""&&!j.hovertemplate&&(bt===""&&At.remove(),Pt=bt);var St=j.hovertemplate||!1;if(St){var Rt=j.hovertemplateLabels||j;j[_t+"Label"]!==mt&&(Rt[_t+"other"]=Rt[_t+"Val"],Rt[_t+"otherLabel"]=Rt[_t+"Label"]),Pt=P.hovertemplateString(St,Rt,ht._d3locale,j.eventData[0]||{},j.trace._meta),Pt=Pt.replace(F,function(Et,zt){return bt=Q(zt,j.nameLength),""})}return[Pt,bt]}function O(j,lt,nt,ht){var mt=lt?"xa":"ya",At=lt?"ya":"xa",bt=0,Pt=1,_t=j.size(),Ut=new Array(_t),St=0,Rt=ht.minX,Et=ht.maxX,zt=ht.minY,Ct=ht.maxY,Wt=function(Ht){return Ht*nt._invScaleX},Kt=function(Ht){return Ht*nt._invScaleY};j.each(function(Ht){var Lt=Ht[mt],dt=Ht[At],xt=Lt._id.charAt(0)==="x",Ot=Lt.range;St===0&&Ot&&Ot[0]>Ot[1]!==xt&&(Pt=-1);var jt=0,ie=xt?nt.width:nt.height;if(nt.hovermode==="x"||nt.hovermode==="y"){var le=H(Ht,lt),Ve=Ht.anchor,je=Ve==="end"?-1:1,Te,Le;if(Ve==="middle")Te=Ht.crossPos+(xt?Kt(le.y-Ht.by/2):Wt(Ht.bx/2+Ht.tx2width/2)),Le=Te+(xt?Kt(Ht.by):Wt(Ht.bx));else if(xt)Te=Ht.crossPos+Kt(S+le.y)-Kt(Ht.by/2-S),Le=Te+Kt(Ht.by);else{var Ke=Wt(je*S+le.x),vr=Ke+Wt(je*Ht.bx);Te=Ht.crossPos+Math.min(Ke,vr),Le=Ht.crossPos+Math.max(Ke,vr)}xt?zt!==void 0&&Ct!==void 0&&Math.min(Le,Ct)-Math.max(Te,zt)>1&&(dt.side==="left"?(jt=dt._mainLinePosition,ie=nt.width):ie=dt._mainLinePosition):Rt!==void 0&&Et!==void 0&&Math.min(Le,Et)-Math.max(Te,Rt)>1&&(dt.side==="top"?(jt=dt._mainLinePosition,ie=nt.height):ie=dt._mainLinePosition)}Ut[St++]=[{datum:Ht,traceIndex:Ht.trace.index,dp:0,pos:Ht.pos,posref:Ht.posref,size:Ht.by*(xt?L:1)/2,pmin:jt,pmax:ie}]}),Ut.sort(function(Ht,Lt){return Ht[0].posref-Lt[0].posref||Pt*(Lt[0].traceIndex-Ht[0].traceIndex)});var oe,Jt,te,fe,ve,de,xe;function Me(Ht){var Lt=Ht[0],dt=Ht[Ht.length-1];if(Jt=Lt.pmin-Lt.pos-Lt.dp+Lt.size,te=dt.pos+dt.dp+dt.size-Lt.pmax,Jt>.01){for(ve=Ht.length-1;ve>=0;ve--)Ht[ve].dp+=Jt;oe=!1}if(!(te<.01)){if(Jt<-.01){for(ve=Ht.length-1;ve>=0;ve--)Ht[ve].dp-=te;oe=!1}if(oe){var xt=0;for(fe=0;fe<Ht.length;fe++)de=Ht[fe],de.pos+de.dp+de.size>Lt.pmax&&xt++;for(fe=Ht.length-1;fe>=0&&!(xt<=0);fe--)de=Ht[fe],de.pos>Lt.pmax-1&&(de.del=!0,xt--);for(fe=0;fe<Ht.length&&!(xt<=0);fe++)if(de=Ht[fe],de.pos<Lt.pmin+1)for(de.del=!0,xt--,te=de.size*2,ve=Ht.length-1;ve>=0;ve--)Ht[ve].dp-=te;for(fe=Ht.length-1;fe>=0&&!(xt<=0);fe--)de=Ht[fe],de.pos+de.dp+de.size>Lt.pmax&&(de.del=!0,xt--)}}}for(;!oe&&bt<=_t;){for(bt++,oe=!0,fe=0;fe<Ut.length-1;){var ne=Ut[fe],kt=Ut[fe+1],Gt=ne[ne.length-1],Yt=kt[0];if(Jt=Gt.pos+Gt.dp+Gt.size-Yt.pos-Yt.dp+Yt.size,Jt>.01){for(ve=kt.length-1;ve>=0;ve--)kt[ve].dp+=Jt;for(ne.push.apply(ne,kt),Ut.splice(fe+1,1),xe=0,ve=ne.length-1;ve>=0;ve--)xe+=ne[ve].dp;for(te=xe/ne.length,ve=ne.length-1;ve>=0;ve--)ne[ve].dp-=te;oe=!1}else fe++}Ut.forEach(Me)}for(fe=Ut.length-1;fe>=0;fe--){var Zt=Ut[fe];for(ve=Zt.length-1;ve>=0;ve--){var It=Zt[ve],Nt=It.datum;Nt.offset=It.dp,Nt.del=It.del}}}function H(j,lt){var nt=0,ht=j.offset;return lt&&(ht*=-E,nt=j.offset*x),{x:nt,y:ht}}function X(j){var lt={start:1,end:-1,middle:0}[j.anchor],nt=lt*(S+a),ht=nt+lt*(j.txwidth+a),mt=j.anchor==="middle";return mt&&(nt-=j.tx2width/2,ht+=j.txwidth/2+a),{alignShift:lt,textShiftX:nt,text2ShiftX:ht}}function J(j,lt,nt,ht){var mt=function(bt){return bt*nt},At=function(bt){return bt*ht};j.each(function(bt){var Pt=y.select(this);if(bt.del)return Pt.remove();var _t=Pt.select("text.nums"),Ut=bt.anchor,St=Ut==="end"?-1:1,Rt=X(bt),Et=H(bt,lt),zt=Et.x,Ct=Et.y,Wt=Ut==="middle";Pt.select("path").attr("d",Wt?"M-"+mt(bt.bx/2+bt.tx2width/2)+","+At(Ct-bt.by/2)+"h"+mt(bt.bx)+"v"+At(bt.by)+"h-"+mt(bt.bx)+"Z":"M0,0L"+mt(St*S+zt)+","+At(S+Ct)+"v"+At(bt.by/2-S)+"h"+mt(St*bt.bx)+"v-"+At(bt.by)+"H"+mt(St*S+zt)+"V"+At(Ct-S)+"Z");var Kt=zt+Rt.textShiftX,oe=Ct+bt.ty0-bt.by/2+a,Jt=bt.textAlign||"auto";Jt!=="auto"&&(Jt==="left"&&Ut!=="start"?(_t.attr("text-anchor","start"),Kt=Wt?-bt.bx/2-bt.tx2width/2+a:-bt.bx-a):Jt==="right"&&Ut!=="end"&&(_t.attr("text-anchor","end"),Kt=Wt?bt.bx/2-bt.tx2width/2-a:bt.bx+a)),_t.call(e.positionText,mt(Kt),At(oe)),bt.tx2width&&(Pt.select("text.name").call(e.positionText,mt(Rt.text2ShiftX+Rt.alignShift*a+zt),At(Ct+bt.ty0-bt.by/2+a)),Pt.select("rect").call(n.setRect,mt(Rt.text2ShiftX+(Rt.alignShift-1)*bt.tx2width/2+zt),At(Ct-bt.by/2-1),mt(bt.tx2width),At(bt.by+2)))})}function et(j,lt){var nt=j.index,ht=j.trace||{},mt=j.cd[0],At=j.cd[nt]||{};function bt(Et){return Et||D(Et)&&Et===0}var Pt=Array.isArray(nt)?function(Et,zt){var Ct=P.castOption(mt,nt,Et);return bt(Ct)?Ct:P.extractOption({},ht,"",zt)}:function(Et,zt){return P.extractOption(At,ht,Et,zt)};function _t(Et,zt,Ct){var Wt=Pt(zt,Ct);bt(Wt)&&(j[Et]=Wt)}if(_t("hoverinfo","hi","hoverinfo"),_t("bgcolor","hbg","hoverlabel.bgcolor"),_t("borderColor","hbc","hoverlabel.bordercolor"),_t("fontFamily","htf","hoverlabel.font.family"),_t("fontSize","hts","hoverlabel.font.size"),_t("fontColor","htc","hoverlabel.font.color"),_t("fontWeight","htw","hoverlabel.font.weight"),_t("fontStyle","hty","hoverlabel.font.style"),_t("fontVariant","htv","hoverlabel.font.variant"),_t("nameLength","hnl","hoverlabel.namelength"),_t("textAlign","hta","hoverlabel.align"),j.posref=lt==="y"||lt==="closest"&&ht.orientation==="h"?j.xa._offset+(j.x0+j.x1)/2:j.ya._offset+(j.y0+j.y1)/2,j.x0=P.constrain(j.x0,0,j.xa._length),j.x1=P.constrain(j.x1,0,j.xa._length),j.y0=P.constrain(j.y0,0,j.ya._length),j.y1=P.constrain(j.y1,0,j.ya._length),j.xLabelVal!==void 0&&(j.xLabel="xLabel"in j?j.xLabel:c.hoverLabelText(j.xa,j.xLabelVal,ht.xhoverformat),j.xVal=j.xa.c2d(j.xLabelVal)),j.yLabelVal!==void 0&&(j.yLabel="yLabel"in j?j.yLabel:c.hoverLabelText(j.ya,j.yLabelVal,ht.yhoverformat),j.yVal=j.ya.c2d(j.yLabelVal)),j.zLabelVal!==void 0&&j.zLabel===void 0&&(j.zLabel=String(j.zLabelVal)),!isNaN(j.xerr)&&!(j.xa.type==="log"&&j.xerr<=0)){var Ut=c.tickText(j.xa,j.xa.c2l(j.xerr),"hover").text;j.xerrneg!==void 0?j.xLabel+=" +"+Ut+" / -"+c.tickText(j.xa,j.xa.c2l(j.xerrneg),"hover").text:j.xLabel+="  "+Ut,lt==="x"&&(j.distance+=1)}if(!isNaN(j.yerr)&&!(j.ya.type==="log"&&j.yerr<=0)){var St=c.tickText(j.ya,j.ya.c2l(j.yerr),"hover").text;j.yerrneg!==void 0?j.yLabel+=" +"+St+" / -"+c.tickText(j.ya,j.ya.c2l(j.yerrneg),"hover").text:j.yLabel+="  "+St,lt==="y"&&(j.distance+=1)}var Rt=j.hoverinfo||j.trace.hoverinfo;return Rt&&Rt!=="all"&&(Rt=Array.isArray(Rt)?Rt:Rt.split("+"),Rt.indexOf("x")===-1&&(j.xLabel=void 0),Rt.indexOf("y")===-1&&(j.yLabel=void 0),Rt.indexOf("z")===-1&&(j.zLabel=void 0),Rt.indexOf("text")===-1&&(j.text=void 0),Rt.indexOf("name")===-1&&(j.name=void 0)),j}function it(j,lt,nt){var ht=nt.container,mt=nt.fullLayout,At=mt._size,bt=nt.event,Pt=!!lt.hLinePoint,_t=!!lt.vLinePoint,Ut,St;if(ht.selectAll(".spikeline").remove(),!!(_t||Pt)){var Rt=u.combine(mt.plot_bgcolor,mt.paper_bgcolor);if(Pt){var Et=lt.hLinePoint,zt,Ct;Ut=Et&&Et.xa,St=Et&&Et.ya;var Wt=St.spikesnap;Wt==="cursor"?(zt=bt.pointerX,Ct=bt.pointerY):(zt=Ut._offset+Et.x,Ct=St._offset+Et.y);var Kt=s.readability(Et.color,Rt)<1.5?u.contrast(Rt):Et.color,oe=St.spikemode,Jt=St.spikethickness,te=St.spikecolor||Kt,fe=c.getPxPosition(j,St),ve,de;if(oe.indexOf("toaxis")!==-1||oe.indexOf("across")!==-1){if(oe.indexOf("toaxis")!==-1&&(ve=fe,de=zt),oe.indexOf("across")!==-1){var xe=St._counterDomainMin,Me=St._counterDomainMax;St.anchor==="free"&&(xe=Math.min(xe,St.position),Me=Math.max(Me,St.position)),ve=At.l+xe*At.w,de=At.l+Me*At.w}ht.insert("line",":first-child").attr({x1:ve,x2:de,y1:Ct,y2:Ct,"stroke-width":Jt,stroke:te,"stroke-dasharray":n.dashStyle(St.spikedash,Jt)}).classed("spikeline",!0).classed("crisp",!0),ht.insert("line",":first-child").attr({x1:ve,x2:de,y1:Ct,y2:Ct,"stroke-width":Jt+2,stroke:Rt}).classed("spikeline",!0).classed("crisp",!0)}oe.indexOf("marker")!==-1&&ht.insert("circle",":first-child").attr({cx:fe+(St.side!=="right"?Jt:-Jt),cy:Ct,r:Jt,fill:te}).classed("spikeline",!0)}if(_t){var ne=lt.vLinePoint,kt,Gt;Ut=ne&&ne.xa,St=ne&&ne.ya;var Yt=Ut.spikesnap;Yt==="cursor"?(kt=bt.pointerX,Gt=bt.pointerY):(kt=Ut._offset+ne.x,Gt=St._offset+ne.y);var Zt=s.readability(ne.color,Rt)<1.5?u.contrast(Rt):ne.color,It=Ut.spikemode,Nt=Ut.spikethickness,Ht=Ut.spikecolor||Zt,Lt=c.getPxPosition(j,Ut),dt,xt;if(It.indexOf("toaxis")!==-1||It.indexOf("across")!==-1){if(It.indexOf("toaxis")!==-1&&(dt=Lt,xt=Gt),It.indexOf("across")!==-1){var Ot=Ut._counterDomainMin,jt=Ut._counterDomainMax;Ut.anchor==="free"&&(Ot=Math.min(Ot,Ut.position),jt=Math.max(jt,Ut.position)),dt=At.t+(1-jt)*At.h,xt=At.t+(1-Ot)*At.h}ht.insert("line",":first-child").attr({x1:kt,x2:kt,y1:dt,y2:xt,"stroke-width":Nt,stroke:Ht,"stroke-dasharray":n.dashStyle(Ut.spikedash,Nt)}).classed("spikeline",!0).classed("crisp",!0),ht.insert("line",":first-child").attr({x1:kt,x2:kt,y1:dt,y2:xt,"stroke-width":Nt+2,stroke:Rt}).classed("spikeline",!0).classed("crisp",!0)}It.indexOf("marker")!==-1&&ht.insert("circle",":first-child").attr({cx:kt,cy:Lt-(Ut.side!=="top"?Nt:-Nt),r:Nt,fill:Ht}).classed("spikeline",!0)}}}function ft(j,lt,nt){if(!nt||nt.length!==j._hoverdata.length)return!0;for(var ht=nt.length-1;ht>=0;ht--){var mt=nt[ht],At=j._hoverdata[ht];if(mt.curveNumber!==At.curveNumber||String(mt.pointNumber)!==String(At.pointNumber)||String(mt.pointNumbers)!==String(At.pointNumbers))return!0}return!1}function ot(j,lt){return!0}function Q(j,lt){return e.plainText(j||"",{len:lt,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function tt(j,lt){for(var nt=lt.charAt(0),ht=[],mt=[],At=[],bt=0;bt<j.length;bt++){var Pt=j[bt];v.traceIs(Pt.trace,"bar-like")||v.traceIs(Pt.trace,"box-violin")?At.push(Pt):Pt.trace[nt+"period"]?mt.push(Pt):ht.push(Pt)}return ht.concat(mt).concat(At)}function Z(j,lt,nt){var ht=lt[j+"a"],mt=lt[j+"Val"],At=lt.cd[0];if(ht.type==="category"||ht.type==="multicategory")mt=ht._categoriesMap[mt];else if(ht.type==="date"){var bt=lt.trace[j+"periodalignment"];if(bt){var Pt=lt.cd[lt.index],_t=Pt[j+"Start"];_t===void 0&&(_t=Pt[j]);var Ut=Pt[j+"End"];Ut===void 0&&(Ut=Pt[j]);var St=Ut-_t;bt==="end"?mt+=St:bt==="middle"&&(mt+=St/2)}mt=ht.d2c(mt)}return At&&At.t&&At.t.posLetter===ht._id&&(nt.boxmode==="group"||nt.violinmode==="group")&&(mt+=At.t.dPos),mt}function q(j){return j.offsetTop+j.clientTop}function ut(j){return j.offsetLeft+j.clientLeft}function $(j,lt){var nt=j._fullLayout,ht=lt.getBoundingClientRect(),mt=ht.left,At=ht.top,bt=mt+ht.width,Pt=At+ht.height,_t=P.apply3DTransform(nt._invTransform)(mt,At),Ut=P.apply3DTransform(nt._invTransform)(bt,Pt),St=_t[0],Rt=_t[1],Et=Ut[0],zt=Ut[1];return{x:St,y:Rt,width:Et-St,height:zt-Rt,top:Math.min(Rt,zt),left:Math.min(St,Et),right:Math.max(St,Et),bottom:Math.max(Rt,zt)}}},16132:function(W,G,t){var y=t(3400),D=t(76308),s=t(10624).isUnifiedHover;W.exports=function(M,d,g,r){r=r||{};var e=d.legend;function o(n){r.font[n]||(r.font[n]=e?d.legend.font[n]:d.font[n])}d&&s(d.hovermode)&&(r.font||(r.font={}),o("size"),o("family"),o("color"),o("weight"),o("style"),o("variant"),e?(r.bgcolor||(r.bgcolor=D.combine(d.legend.bgcolor,d.paper_bgcolor)),r.bordercolor||(r.bordercolor=d.legend.bordercolor)):r.bgcolor||(r.bgcolor=d.paper_bgcolor)),g("hoverlabel.bgcolor",r.bgcolor),g("hoverlabel.bordercolor",r.bordercolor),g("hoverlabel.namelength",r.namelength),y.coerceFont(g,"hoverlabel.font",r.font),g("hoverlabel.align",r.align)}},41008:function(W,G,t){var y=t(3400),D=t(65460);W.exports=function(P,M){function d(g,r){return M[g]!==void 0?M[g]:y.coerce(P,M,D,g,r)}return d("clickmode"),d("hoversubplots"),d("hovermode")}},93024:function(W,G,t){var y=t(33428),D=t(3400),s=t(86476),P=t(10624),M=t(65460),d=t(83292);W.exports={moduleType:"component",name:"fx",constants:t(92456),schema:{layout:M},attributes:t(55756),layoutAttributes:M,supplyLayoutGlobalDefaults:t(81976),supplyDefaults:t(95448),supplyLayoutDefaults:t(88336),calc:t(55056),getDistanceFunction:P.getDistanceFunction,getClosest:P.getClosest,inbox:P.inbox,quadrature:P.quadrature,appendArrayPointValue:P.appendArrayPointValue,castHoverOption:r,castHoverinfo:e,hover:d.hover,unhover:s.unhover,loneHover:d.loneHover,loneUnhover:g,click:t(62376)};function g(o){var n=D.isD3Selection(o)?o:y.select(o);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(o,n,u){return D.castOption(o,n,"hoverlabel."+u)}function e(o,n,u){function f(c){return D.coerceHoverinfo({hoverinfo:c},{_module:o._module},n)}return D.castOption(o,u,"hoverinfo",f)}},65460:function(W,G,t){var y=t(92456),D=t(25376),s=D({editType:"none"});s.family.dflt=y.HOVERFONT,s.size.dflt=y.HOVERFONTSIZE,W.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:s,grouptitlefont:D({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(W,G,t){var y=t(3400),D=t(65460),s=t(41008),P=t(16132);W.exports=function(d,g){function r(c,m){return y.coerce(d,g,D,c,m)}var e=s(d,g);e&&(r("hoverdistance"),r("spikedistance"));var o=r("dragmode");o==="select"&&r("selectdirection");var n=g._has("mapbox"),u=g._has("geo"),f=g._basePlotModules.length;g.dragmode==="zoom"&&((n||u)&&f===1||n&&u&&f===2)&&(g.dragmode="pan"),P(d,g,r),y.coerceFont(r,"hoverlabel.grouptitlefont",g.hoverlabel.font)}},81976:function(W,G,t){var y=t(3400),D=t(16132),s=t(65460);W.exports=function(M,d){function g(r,e){return y.coerce(M,d,s,r,e)}D(M,d,g)}},12704:function(W,G,t){var y=t(3400),D=t(53756).counter,s=t(86968).u,P=t(33816).idRegex,M=t(31780),d={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[D("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:s({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function g(u,f,c){var m=f[c+"axes"],v=Object.keys((u._splomAxes||{})[c]||{});if(Array.isArray(m))return m;if(v.length)return v}function r(u,f){var c=u.grid||{},m=g(f,c,"x"),v=g(f,c,"y");if(!u.grid&&!m&&!v)return;var T=Array.isArray(c.subplots)&&Array.isArray(c.subplots[0]),h=Array.isArray(m),i=Array.isArray(v),p=h&&m!==c.xaxes&&i&&v!==c.yaxes,w,A;T?(w=c.subplots.length,A=c.subplots[0].length):(i&&(w=v.length),h&&(A=m.length));var L=M.newContainer(f,"grid");function x(V,N){return y.coerce(c,L,d,V,N)}var E=x("rows",w),S=x("columns",A);if(!(E*S>1)){delete f.grid;return}if(!T&&!h&&!i){var a=x("pattern")==="independent";a&&(T=!0)}L._hasSubplotGrid=T;var C=x("roworder"),b=C==="top to bottom",z=T?.2:.1,k=T?.3:.1,U,F;p&&f._splomGridDflt&&(U=f._splomGridDflt.xside,F=f._splomGridDflt.yside),L._domains={x:e("x",x,z,U,S),y:e("y",x,k,F,E,b)}}function e(u,f,c,m,v,T){var h=f(u+"gap",c),i=f("domain."+u);f(u+"side",m);for(var p=new Array(v),w=i[0],A=(i[1]-w)/(v-h),L=A*(1-h),x=0;x<v;x++){var E=w+A*x;p[T?v-1-x:x]=[E,E+L]}return p}function o(u,f){var c=f.grid;if(!(!c||!c._domains)){var m=u.grid||{},v=f._subplots,T=c._hasSubplotGrid,h=c.rows,i=c.columns,p=c.pattern==="independent",w,A,L,x,E,S,a,C=c._axisMap={};if(T){var b=m.subplots||[];S=c.subplots=new Array(h);var z=1;for(w=0;w<h;w++){var k=S[w]=new Array(i),U=b[w]||[];for(A=0;A<i;A++)if(p?(E=z===1?"xy":"x"+z+"y"+z,z++):E=U[A],k[A]="",v.cartesian.indexOf(E)!==-1){if(a=E.indexOf("y"),L=E.slice(0,a),x=E.slice(a),C[L]!==void 0&&C[L]!==A||C[x]!==void 0&&C[x]!==w)continue;k[A]=E,C[L]=A,C[x]=w}}}else{var F=g(f,m,"x"),V=g(f,m,"y");c.xaxes=n(F,v.xaxis,i,C,"x"),c.yaxes=n(V,v.yaxis,h,C,"y")}var N=c._anchors={},O=c.roworder==="top to bottom";for(var H in C){var X=H.charAt(0),J=c[X+"side"],et,it,ft;if(J.length<8)N[H]="free";else if(X==="x"){if(J.charAt(0)==="t"===O?(et=0,it=1,ft=h):(et=h-1,it=-1,ft=-1),T){var ot=C[H];for(w=et;w!==ft;w+=it)if(E=S[w][ot],!!E&&(a=E.indexOf("y"),E.slice(0,a)===H)){N[H]=E.slice(a);break}}else for(w=et;w!==ft;w+=it)if(x=c.yaxes[w],v.cartesian.indexOf(H+x)!==-1){N[H]=x;break}}else if(J.charAt(0)==="l"?(et=0,it=1,ft=i):(et=i-1,it=-1,ft=-1),T){var Q=C[H];for(w=et;w!==ft;w+=it)if(E=S[Q][w],!!E&&(a=E.indexOf("y"),E.slice(a)===H)){N[H]=E.slice(0,a);break}}else for(w=et;w!==ft;w+=it)if(L=c.xaxes[w],v.cartesian.indexOf(L+H)!==-1){N[H]=L;break}}}}function n(u,f,c,m,v){var T=new Array(c),h;function i(p,w){f.indexOf(w)!==-1&&m[w]===void 0?(T[p]=w,m[w]=p):T[p]=""}if(Array.isArray(u))for(h=0;h<c;h++)i(h,u[h]);else for(i(0,v),h=1;h<c;h++)i(h,v+(h+1));return T}W.exports={moduleType:"component",name:"grid",schema:{layout:{grid:d}},layoutAttributes:d,sizeDefaults:r,contentDefaults:o}},65760:function(W,G,t){var y=t(33816),D=t(31780).templatedArray;t(36208),W.exports=D("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",y.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",y.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(W,G,t){var y=t(38248),D=t(36896);W.exports=function(P,M,d,g){M=M||{};var r=d==="log"&&M.type==="linear",e=d==="linear"&&M.type==="log";if(r||e){for(var o=P._fullLayout.images,n=M._id.charAt(0),u,f,c=0;c<o.length;c++)if(u=o[c],f="images["+c+"].",u[n+"ref"]===M._id){var m=u[n],v=u["size"+n],T=null,h=null;if(r){T=D(m,M.range);var i=v/Math.pow(10,T)/2;h=2*Math.log(i+Math.sqrt(1+i*i))/Math.LN10}else T=Math.pow(10,m),h=T*(Math.pow(10,v/2)-Math.pow(10,-v/2));y(T)?y(h)||(h=null):(T=null,h=null),g(f+n,T),g(f+"size"+n,h)}}}},25024:function(W,G,t){var y=t(3400),D=t(54460),s=t(51272),P=t(65760),M="images";W.exports=function(r,e){var o={name:M,handleItemDefaults:d};s(r,e,o)};function d(g,r,e){function o(i,p){return y.coerce(g,r,P,i,p)}var n=o("source"),u=o("visible",!!n);if(!u)return r;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var f={_fullLayout:e},c=["x","y"],m=0;m<2;m++){var v=c[m],T=D.coerceRef(g,r,f,v,"paper",void 0);if(T!=="paper"){var h=D.getFromId(f,T);h._imgIndices.push(r._index)}D.coercePosition(r,f,o,T,v,0)}return r}},60963:function(W,G,t){var y=t(33428),D=t(43616),s=t(54460),P=t(79811),M=t(9616);W.exports=function(g){var r=g._fullLayout,e=[],o={},n=[],u,f;for(f=0;f<r.images.length;f++){var c=r.images[f];if(c.visible)if(c.layer==="below"&&c.xref!=="paper"&&c.yref!=="paper"){u=P.ref2id(c.xref)+P.ref2id(c.yref);var m=r._plots[u];if(!m){n.push(c);continue}m.mainplot&&(u=m.mainplot.id),o[u]||(o[u]=[]),o[u].push(c)}else c.layer==="above"?e.push(c):n.push(c)}var v={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(x){var E=y.select(this);if(this._imgSrc!==x.source)if(E.attr("xmlns",M.svg),x.source&&x.source.slice(0,5)==="data:")E.attr("xlink:href",x.source),this._imgSrc=x.source;else{var S=new Promise((function(a){var C=new Image;this.img=C,C.setAttribute("crossOrigin","anonymous"),C.onerror=b,C.onload=function(){var z=document.createElement("canvas");z.width=this.width,z.height=this.height;var k=z.getContext("2d",{willReadFrequently:!0});k.drawImage(this,0,0);var U=z.toDataURL("image/png");E.attr("xlink:href",U),a()},E.on("error",b),C.src=x.source,this._imgSrc=x.source;function b(){E.remove(),a()}}).bind(this));g._promises.push(S)}}function h(x){var E=y.select(this),S=s.getFromId(g,x.xref),a=s.getFromId(g,x.yref),C=s.getRefType(x.xref)==="domain",b=s.getRefType(x.yref)==="domain",z=r._size,k,U;S!==void 0?k=typeof x.xref=="string"&&C?S._length*x.sizex:Math.abs(S.l2p(x.sizex)-S.l2p(0)):k=x.sizex*z.w,a!==void 0?U=typeof x.yref=="string"&&b?a._length*x.sizey:Math.abs(a.l2p(x.sizey)-a.l2p(0)):U=x.sizey*z.h;var F=k*v.x[x.xanchor].offset,V=U*v.y[x.yanchor].offset,N=v.x[x.xanchor].sizing+v.y[x.yanchor].sizing,O,H;switch(S!==void 0?O=typeof x.xref=="string"&&C?S._length*x.x+S._offset:S.r2p(x.x)+S._offset:O=x.x*z.w+z.l,O+=F,a!==void 0?H=typeof x.yref=="string"&&b?a._length*(1-x.y)+a._offset:a.r2p(x.y)+a._offset:H=z.h-x.y*z.h+z.t,H+=V,x.sizing){case"fill":N+=" slice";break;case"stretch":N="none";break}E.attr({x:O,y:H,width:k,height:U,preserveAspectRatio:N,opacity:x.opacity});var X=S&&s.getRefType(x.xref)!=="domain"?S._id:"",J=a&&s.getRefType(x.yref)!=="domain"?a._id:"",et=X+J;D.setClipUrl(E,et?"clip"+r._uid+et:null,g)}var i=r._imageLowerLayer.selectAll("image").data(n),p=r._imageUpperLayer.selectAll("image").data(e);i.enter().append("image"),p.enter().append("image"),i.exit().remove(),p.exit().remove(),i.each(function(x){T.bind(this)(x),h.bind(this)(x)}),p.each(function(x){T.bind(this)(x),h.bind(this)(x)});var w=Object.keys(r._plots);for(f=0;f<w.length;f++){u=w[f];var A=r._plots[u];if(A.imagelayer){var L=A.imagelayer.selectAll("image").data(o[u]||[]);L.enter().append("image"),L.exit().remove(),L.each(function(x){T.bind(this)(x),h.bind(this)(x)})}}}},7402:function(W,G,t){W.exports={moduleType:"component",name:"images",layoutAttributes:t(65760),supplyLayoutDefaults:t(25024),includeBasePlot:t(36632)("images"),draw:t(60963),convertCoords:t(63556)}},3800:function(W,G,t){var y=t(25376),D=t(22548);W.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:D.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:y({editType:"legend"}),grouptitlefont:y({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:y({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(W){W.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(W,G,t){var y=t(24040),D=t(3400),s=t(31780),P=t(45464),M=t(3800),d=t(64859),g=t(42451);function r(e,o,n,u){var f=o[e]||{},c=s.newContainer(n,e);function m(ft,ot){return D.coerce(f,c,M,ft,ot)}var v=D.coerceFont(m,"font",n.font);m("bgcolor",n.paper_bgcolor),m("bordercolor");var T=m("visible");if(T){for(var h,i=function(ft,ot){var Q=h._input,tt=h;return D.coerce(Q,tt,P,ft,ot)},p=n.font||{},w=D.coerceFont(m,"grouptitlefont",p,{overrideDflt:{size:Math.round(p.size*1.1)}}),A=0,L=!1,x="normal",E=(n.shapes||[]).filter(function(ft){return ft.showlegend}),S=u.concat(E).filter(function(ft){return e===(ft.legend||"legend")}),a=0;a<S.length;a++)if(h=S[a],!!h.visible){var C=h._isShape;(h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&h._module.attributes.showlegend.dflt===!1))&&(A++,h.showlegend&&(L=!0,(!C&&y.traceIs(h,"pie-like")||h._input.showlegend===!0)&&A++),D.coerceFont(i,"legendgrouptitle.font",w)),(!C&&y.traceIs(h,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(h.fill)!==-1)&&(x=g.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),h.legendgroup!==void 0&&h.legendgroup!==""&&(x=g.isReversed({traceorder:x})?"reversed+grouped":"grouped")}var b=D.coerce(o,n,d,"showlegend",L&&A>(e==="legend"?1:0));if(b===!1&&(n[e]=void 0),!(b===!1&&!f.uirevision)&&(m("uirevision",n.uirevision),b!==!1)){m("borderwidth");var z=m("orientation"),k=m("yref"),U=m("xref"),F=z==="h",V=k==="paper",N=U==="paper",O,H,X,J="left";F?(O=0,y.getComponentMethod("rangeslider","isVisible")(o.xaxis)?V?(H=1.1,X="bottom"):(H=1,X="top"):V?(H=-.1,X="top"):(H=0,X="bottom")):(H=1,X="auto",N?O=1.02:(O=1,J="right")),D.coerce(f,c,{x:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:O}},"x"),D.coerce(f,c,{y:{valType:"number",editType:"legend",min:V?-2:0,max:V?3:1,dflt:H}},"y"),m("traceorder",x),g.isGrouped(n[e])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("indentation"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",J),m("yanchor",X),m("valign"),D.noneOrAll(f,c,["x","y"]);var et=m("title.text");if(et){m("title.side",F?"left":"top");var it=D.extendFlat({},v,{size:D.bigFont(v.size)});D.coerceFont(m,"title.font",it)}}}}W.exports=function(o,n,u){var f,c=u.slice(),m=n.shapes;if(m)for(f=0;f<m.length;f++){var v=m[f];if(v.showlegend){var T={_input:v._input,visible:v.visible,showlegend:v.showlegend,legend:v.legend};c.push(T)}}var h=["legend"];for(f=0;f<c.length;f++)D.pushUnique(h,c[f].legend);for(n._legends=[],f=0;f<h.length;f++){var i=h[f];r(i,o,n,c),n[i]&&n[i].visible&&(n[i]._id=i),n._legends.push(i)}}},31140:function(W,G,t){var y=t(33428),D=t(3400),s=t(7316),P=t(24040),M=t(95924),d=t(86476),g=t(43616),r=t(76308),e=t(72736),o=t(33048),n=t(65196),u=t(84284),f=u.LINE_SPACING,c=u.FROM_TL,m=u.FROM_BR,v=t(35456),T=t(2012),h=t(42451),i=1,p=/^legend[0-9]*$/;W.exports=function(H,X){if(X)A(H,X);else{var J=H._fullLayout,et=J._legends,it=J._infolayer.selectAll('[class^="legend"]');it.each(function(){var tt=y.select(this),Z=tt.attr("class"),q=Z.split(" ")[0];q.match(p)&&et.indexOf(q)===-1&&tt.remove()});for(var ft=0;ft<et.length;ft++){var ot=et[ft],Q=H._fullLayout[ot];A(H,Q)}}};function w(O,H,X){if(!(H.title.side!=="top center"&&H.title.side!=="top right")){var J=H.title.font,et=J.size*f,it=0,ft=O.node(),ot=g.bBox(ft).width;H.title.side==="top center"?it=.5*(H._width-2*X-2*n.titlePad-ot):H.title.side==="top right"&&(it=H._width-2*X-2*n.titlePad-ot),e.positionText(O,X+n.titlePad+it,X+et)}}function A(O,H){var X=H||{},J=O._fullLayout,et=N(X),it,ft,ot=X._inHover;if(ot?(ft=X.layer,it="hover"):(ft=J._infolayer,it=et),!!ft){it+=J._uid,O._legendMouseDownTime||(O._legendMouseDownTime=0);var Q;if(ot){if(!X.entries)return;Q=v(X.entries,X)}else{for(var tt=(O.calcdata||[]).slice(),Z=J.shapes,q=0;q<Z.length;q++){var ut=Z[q];if(ut.showlegend){var $={_isShape:!0,_fullInput:ut,index:ut._index,name:ut.name||ut.label.text||"shape "+ut._index,legend:ut.legend,legendgroup:ut.legendgroup,legendgrouptitle:ut.legendgrouptitle,legendrank:ut.legendrank,legendwidth:ut.legendwidth,showlegend:ut.showlegend,visible:ut.visible,opacity:ut.opacity,mode:ut.type==="line"?"lines":"markers",line:ut.line,marker:{line:ut.line,color:ut.fillcolor,size:12,symbol:ut.type==="rect"?"square":ut.type==="circle"?"circle":"hexagon2"}};tt.push([{trace:$}])}}Q=J.showlegend&&v(tt,X,J._legends.length>1)}var j=J.hiddenlabels||[];if(!ot&&(!J.showlegend||!Q.length))return ft.selectAll("."+et).remove(),J._topdefs.select("#"+it).remove(),s.autoMargin(O,et);var lt=D.ensureSingle(ft,"g",et,function(St){ot||St.attr("pointer-events","all")}),nt=D.ensureSingleById(J._topdefs,"clipPath",it,function(St){St.append("rect")}),ht=D.ensureSingle(lt,"rect","bg",function(St){St.attr("shape-rendering","crispEdges")});ht.call(r.stroke,X.bordercolor).call(r.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px");var mt=D.ensureSingle(lt,"g","scrollbox"),At=X.title;X._titleWidth=0,X._titleHeight=0;var bt;At.text?(bt=D.ensureSingle(mt,"text",et+"titletext"),bt.attr("text-anchor","start").call(g.font,At.font).text(At.text),C(bt,mt,O,X,i)):mt.selectAll("."+et+"titletext").remove();var Pt=D.ensureSingle(lt,"rect","scrollbar",function(St){St.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),_t=mt.selectAll("g.groups").data(Q);_t.enter().append("g").attr("class","groups"),_t.exit().remove();var Ut=_t.selectAll("g.traces").data(D.identity);Ut.enter().append("g").attr("class","traces"),Ut.exit().remove(),Ut.style("opacity",function(St){var Rt=St[0].trace;return P.traceIs(Rt,"pie-like")?j.indexOf(St[0].label)!==-1?.5:1:Rt.visible==="legendonly"?.5:1}).each(function(){y.select(this).call(E,O,X)}).call(T,O,X).each(function(){ot||y.select(this).call(a,O,et)}),D.syncOrAsync([s.previousPromises,function(){return k(O,_t,Ut,X)},function(){var St=J._size,Rt=X.borderwidth,Et=X.xref==="paper",zt=X.yref==="paper";if(At.text&&w(bt,X,Rt),!ot){var Ct,Wt;Et?Ct=St.l+St.w*X.x-c[F(X)]*X._width:Ct=J.width*X.x-c[F(X)]*X._width,zt?Wt=St.t+St.h*(1-X.y)-c[V(X)]*X._effHeight:Wt=J.height*(1-X.y)-c[V(X)]*X._effHeight;var Kt=U(O,et,Ct,Wt);if(Kt)return;if(J.margin.autoexpand){var oe=Ct,Jt=Wt;Ct=Et?D.constrain(Ct,0,J.width-X._width):oe,Wt=zt?D.constrain(Wt,0,J.height-X._effHeight):Jt,Ct!==oe&&D.log("Constrain "+et+".x to make legend fit inside graph"),Wt!==Jt&&D.log("Constrain "+et+".y to make legend fit inside graph")}g.setTranslate(lt,Ct,Wt)}if(Pt.on(".drag",null),lt.on("wheel",null),ot||X._height<=X._maxHeight||O._context.staticPlot){var te=X._effHeight;ot&&(te=X._height),ht.attr({width:X._width-Rt,height:te-Rt,x:Rt/2,y:Rt/2}),g.setTranslate(mt,0,0),nt.select("rect").attr({width:X._width-2*Rt,height:te-2*Rt,x:Rt,y:Rt}),g.setClipUrl(mt,it,O),g.setRect(Pt,0,0,0,0),delete X._scrollY}else{var fe=Math.max(n.scrollBarMinHeight,X._effHeight*X._effHeight/X._height),ve=X._effHeight-fe-2*n.scrollBarMargin,de=X._height-X._effHeight,xe=ve/de,Me=Math.min(X._scrollY||0,de);ht.attr({width:X._width-2*Rt+n.scrollBarWidth+n.scrollBarMargin,height:X._effHeight-Rt,x:Rt/2,y:Rt/2}),nt.select("rect").attr({width:X._width-2*Rt+n.scrollBarWidth+n.scrollBarMargin,height:X._effHeight-2*Rt,x:Rt,y:Rt+Me}),g.setClipUrl(mt,it,O),Ht(Me,fe,xe),lt.on("wheel",function(){Me=D.constrain(X._scrollY+y.event.deltaY/ve*de,0,de),Ht(Me,fe,xe),Me!==0&&Me!==de&&y.event.preventDefault()});var ne,kt,Gt,Yt=function(jt,ie,le){var Ve=(le-ie)/xe+jt;return D.constrain(Ve,0,de)},Zt=function(jt,ie,le){var Ve=(ie-le)/xe+jt;return D.constrain(Ve,0,de)},It=y.behavior.drag().on("dragstart",function(){var jt=y.event.sourceEvent;jt.type==="touchstart"?ne=jt.changedTouches[0].clientY:ne=jt.clientY,Gt=Me}).on("drag",function(){var jt=y.event.sourceEvent;jt.buttons===2||jt.ctrlKey||(jt.type==="touchmove"?kt=jt.changedTouches[0].clientY:kt=jt.clientY,Me=Yt(Gt,ne,kt),Ht(Me,fe,xe))});Pt.call(It);var Nt=y.behavior.drag().on("dragstart",function(){var jt=y.event.sourceEvent;jt.type==="touchstart"&&(ne=jt.changedTouches[0].clientY,Gt=Me)}).on("drag",function(){var jt=y.event.sourceEvent;jt.type==="touchmove"&&(kt=jt.changedTouches[0].clientY,Me=Zt(Gt,ne,kt),Ht(Me,fe,xe))});mt.call(Nt)}function Ht(jt,ie,le){X._scrollY=O._fullLayout[et]._scrollY=jt,g.setTranslate(mt,0,-jt),g.setRect(Pt,X._width,n.scrollBarMargin+jt*le,n.scrollBarWidth,ie),nt.select("rect").attr("y",Rt+jt)}if(O._context.edits.legendPosition){var Lt,dt,xt,Ot;lt.classed("cursor-move",!0),d.init({element:lt.node(),gd:O,prepFn:function(jt){if(jt.target!==Pt.node()){var ie=g.getTranslate(lt);xt=ie.x,Ot=ie.y}},moveFn:function(jt,ie){if(xt!==void 0&&Ot!==void 0){var le=xt+jt,Ve=Ot+ie;g.setTranslate(lt,le,Ve),Lt=d.align(le,X._width,St.l,St.l+St.w,X.xanchor),dt=d.align(Ve+X._height,-X._height,St.t+St.h,St.t,X.yanchor)}},doneFn:function(){if(Lt!==void 0&&dt!==void 0){var jt={};jt[et+".x"]=Lt,jt[et+".y"]=dt,P.call("_guiRelayout",O,jt)}},clickFn:function(jt,ie){var le=ft.selectAll("g.traces").filter(function(){var Ve=this.getBoundingClientRect();return ie.clientX>=Ve.left&&ie.clientX<=Ve.right&&ie.clientY>=Ve.top&&ie.clientY<=Ve.bottom});le.size()>0&&x(O,lt,le,jt,ie)}})}}],O)}}function L(O,H,X){var J=O[0],et=J.width,it=H.entrywidthmode,ft=J.trace.legendwidth||H.entrywidth;return it==="fraction"?H._maxWidth*ft:X+(ft||et)}function x(O,H,X,J,et){var it=X.data()[0][0].trace,ft={event:et,node:X.node(),curveNumber:it.index,expandedIndex:it._expandedIndex,data:O.data,layout:O.layout,frames:O._transitionData._frames,config:O._context,fullData:O._fullData,fullLayout:O._fullLayout};it._group&&(ft.group=it._group),P.traceIs(it,"pie-like")&&(ft.label=X.datum()[0].label);var ot=M.triggerHandler(O,"plotly_legendclick",ft);if(J===1){if(ot===!1)return;H._clickTimeout=setTimeout(function(){O._fullLayout&&o(X,O,J)},O._context.doubleClickDelay)}else if(J===2){H._clickTimeout&&clearTimeout(H._clickTimeout),O._legendMouseDownTime=0;var Q=M.triggerHandler(O,"plotly_legenddoubleclick",ft);Q!==!1&&ot!==!1&&o(X,O,J)}}function E(O,H,X){var J=N(X),et=O.data()[0][0],it=et.trace,ft=P.traceIs(it,"pie-like"),ot=!X._inHover&&H._context.edits.legendText&&!ft,Q=X._maxNameLength,tt,Z;et.groupTitle?(tt=et.groupTitle.text,Z=et.groupTitle.font):(Z=X.font,X.entries?tt=et.text:(tt=ft?et.label:it.name,it._meta&&(tt=D.templateString(tt,it._meta))));var q=D.ensureSingle(O,"text",J+"text");q.attr("text-anchor","start").call(g.font,Z).text(ot?S(tt,Q):tt);var ut=X.indentation+X.itemwidth+n.itemGap*2;e.positionText(q,ut,0),ot?q.call(e.makeEditable,{gd:H,text:tt}).call(C,O,H,X).on("edit",function($){this.text(S($,Q)).call(C,O,H,X);var j=et.trace._fullInput||{},lt={};if(P.hasTransform(j,"groupby")){var nt=P.getTransformIndices(j,"groupby"),ht=nt[nt.length-1],mt=D.keyedContainer(j,"transforms["+ht+"].styles","target","value.name");mt.set(et.trace._group,$),lt=mt.constructUpdate()}else lt.name=$;return j._isShape?P.call("_guiRelayout",H,"shapes["+it.index+"].name",lt.name):P.call("_guiRestyle",H,lt,it.index)}):C(q,O,H,X)}function S(O,H){var X=Math.max(4,H);if(O&&O.trim().length>=X/2)return O;O=O||"";for(var J=X-O.length;J>0;J--)O+=" ";return O}function a(O,H,X){var J=H._context.doubleClickDelay,et,it=1,ft=D.ensureSingle(O,"rect",X+"toggle",function(ot){H._context.staticPlot||ot.style("cursor","pointer").attr("pointer-events","all"),ot.call(r.fill,"rgba(0,0,0,0)")});H._context.staticPlot||(ft.on("mousedown",function(){et=new Date().getTime(),et-H._legendMouseDownTime<J?it+=1:(it=1,H._legendMouseDownTime=et)}),ft.on("mouseup",function(){if(!(H._dragged||H._editing)){var ot=H._fullLayout[X];new Date().getTime()-H._legendMouseDownTime>J&&(it=Math.max(it-1,1)),x(H,ot,O,it,y.event)}}))}function C(O,H,X,J,et){J._inHover&&O.attr("data-notex",!0),e.convertToTspans(O,X,function(){b(H,X,J,et)})}function b(O,H,X,J){var et=O.data()[0][0];if(!X._inHover&&et&&!et.trace.showlegend){O.remove();return}var it=O.select("g[class*=math-group]"),ft=it.node(),ot=N(X);X||(X=H._fullLayout[ot]);var Q=X.borderwidth,tt;J===i?tt=X.title.font:et.groupTitle?tt=et.groupTitle.font:tt=X.font;var Z=tt.size*f,q,ut;if(ft){var $=g.bBox(ft);q=$.height,ut=$.width,J===i?g.setTranslate(it,Q,Q+q*.75):g.setTranslate(it,0,q*.25)}else{var j="."+ot+(J===i?"title":"")+"text",lt=O.select(j),nt=e.lineCount(lt),ht=lt.node();if(q=Z*nt,ut=ht?g.bBox(ht).width:0,J===i)X.title.side==="left"&&(ut+=n.itemGap*2),e.positionText(lt,Q+n.titlePad,Q+Z);else{var mt=n.itemGap*2+X.indentation+X.itemwidth;et.groupTitle&&(mt=n.itemGap,ut-=X.indentation+X.itemwidth),e.positionText(lt,mt,-Z*((nt-1)/2-.3))}}J===i?(X._titleWidth=ut,X._titleHeight=q):(et.lineHeight=Z,et.height=Math.max(q,16)+3,et.width=ut)}function z(O){var H=0,X=0,J=O.title.side;return J&&(J.indexOf("left")!==-1&&(H=O._titleWidth),J.indexOf("top")!==-1&&(X=O._titleHeight)),[H,X]}function k(O,H,X,J){var et=O._fullLayout,it=N(J);J||(J=et[it]);var ft=et._size,ot=h.isVertical(J),Q=h.isGrouped(J),tt=J.entrywidthmode==="fraction",Z=J.borderwidth,q=2*Z,ut=n.itemGap,$=J.indentation+J.itemwidth+ut*2,j=2*(Z+ut),lt=V(J),nt=J.y<0||J.y===0&&lt==="top",ht=J.y>1||J.y===1&&lt==="bottom",mt=J.tracegroupgap,At={};J._maxHeight=Math.max(nt||ht?et.height/2:ft.h,30);var bt=0;J._width=0,J._height=0;var Pt=z(J);if(ot)X.each(function(Gt){var Yt=Gt[0].height;g.setTranslate(this,Z+Pt[0],Z+Pt[1]+J._height+Yt/2+ut),J._height+=Yt,J._width=Math.max(J._width,Gt[0].width)}),bt=$+J._width,J._width+=ut+$+q,J._height+=j,Q&&(H.each(function(Gt,Yt){g.setTranslate(this,0,Yt*J.tracegroupgap)}),J._height+=(J._lgroupsLength-1)*J.tracegroupgap);else{var _t=F(J),Ut=J.x<0||J.x===0&&_t==="right",St=J.x>1||J.x===1&&_t==="left",Rt=ht||nt,Et=et.width/2;J._maxWidth=Math.max(Ut?Rt&&_t==="left"?ft.l+ft.w:Et:St?Rt&&_t==="right"?ft.r+ft.w:Et:ft.w,2*$);var zt=0,Ct=0;X.each(function(Gt){var Yt=L(Gt,J,$);zt=Math.max(zt,Yt),Ct+=Yt}),bt=null;var Wt=0;if(Q){var Kt=0,oe=0,Jt=0;H.each(function(){var Gt=0,Yt=0;y.select(this).selectAll("g.traces").each(function(It){var Nt=L(It,J,$),Ht=It[0].height;g.setTranslate(this,Pt[0],Pt[1]+Z+ut+Ht/2+Yt),Yt+=Ht,Gt=Math.max(Gt,Nt),At[It[0].trace.legendgroup]=Gt});var Zt=Gt+ut;oe>0&&Zt+Z+oe>J._maxWidth?(Wt=Math.max(Wt,oe),oe=0,Jt+=Kt+mt,Kt=Yt):Kt=Math.max(Kt,Yt),g.setTranslate(this,oe,Jt),oe+=Zt}),J._width=Math.max(Wt,oe)+Z,J._height=Jt+Kt+j}else{var te=X.size(),fe=Ct+q+(te-1)*ut<J._maxWidth,ve=0,de=0,xe=0,Me=0;X.each(function(Gt){var Yt=Gt[0].height,Zt=L(Gt,J,$),It=fe?Zt:zt;tt||(It+=ut),It+Z+de-ut>=J._maxWidth&&(Wt=Math.max(Wt,Me),de=0,xe+=ve,J._height+=ve,ve=0),g.setTranslate(this,Pt[0]+Z+de,Pt[1]+Z+xe+Yt/2+ut),Me=de+Zt+ut,de+=It,ve=Math.max(ve,Yt)}),fe?(J._width=de+q,J._height=ve+j):(J._width=Math.max(Wt,Me)+q,J._height+=ve+j)}}J._width=Math.ceil(Math.max(J._width+Pt[0],J._titleWidth+2*(Z+n.titlePad))),J._height=Math.ceil(Math.max(J._height+Pt[1],J._titleHeight+2*(Z+n.itemGap))),J._effHeight=Math.min(J._height,J._maxHeight);var ne=O._context.edits,kt=ne.legendText||ne.legendPosition;X.each(function(Gt){var Yt=y.select(this).select("."+it+"toggle"),Zt=Gt[0].height,It=Gt[0].trace.legendgroup,Nt=L(Gt,J,$);Q&&It!==""&&(Nt=At[It]);var Ht=kt?$:bt||Nt;!ot&&!tt&&(Ht+=ut/2),g.setRect(Yt,0,-Zt/2,Ht,Zt)})}function U(O,H,X,J){var et=O._fullLayout,it=et[H],ft=F(it),ot=V(it),Q=it.xref==="paper",tt=it.yref==="paper";O._fullLayout._reservedMargin[H]={};var Z=it.y<.5?"b":"t",q=it.x<.5?"l":"r",ut={r:et.width-X,l:X+it._width,b:et.height-J,t:J+it._effHeight};if(Q&&tt)return s.autoMargin(O,H,{x:it.x,y:it.y,l:it._width*c[ft],r:it._width*m[ft],b:it._effHeight*m[ot],t:it._effHeight*c[ot]});Q?O._fullLayout._reservedMargin[H][Z]=ut[Z]:tt||it.orientation==="v"?O._fullLayout._reservedMargin[H][q]=ut[q]:O._fullLayout._reservedMargin[H][Z]=ut[Z]}function F(O){return D.isRightAnchor(O)?"right":D.isCenterAnchor(O)?"center":"left"}function V(O){return D.isBottomAnchor(O)?"bottom":D.isMiddleAnchor(O)?"middle":"top"}function N(O){return O._id||"legend"}},35456:function(W,G,t){var y=t(24040),D=t(42451);W.exports=function(P,M,d){var g=M._inHover,r=D.isGrouped(M),e=D.isReversed(M),o={},n=[],u=!1,f={},c=0,m=0,v,T;function h(O,H,X){if(M.visible!==!1&&!(d&&O!==M._id))if(H===""||!D.isGrouped(M)){var J="~~i"+c;n.push(J),o[J]=[X],c++}else n.indexOf(H)===-1?(n.push(H),u=!0,o[H]=[X]):o[H].push(X)}for(v=0;v<P.length;v++){var i=P[v],p=i[0],w=p.trace,A=w.legend,L=w.legendgroup;if(!(!g&&(!w.visible||!w.showlegend)))if(y.traceIs(w,"pie-like"))for(f[L]||(f[L]={}),T=0;T<i.length;T++){var x=i[T].label;f[L][x]||(h(A,L,{label:x,color:i[T].color,i:i[T].i,trace:w,pts:i[T].pts}),f[L][x]=!0,m=Math.max(m,(x||"").length))}else h(A,L,p),m=Math.max(m,(w.name||"").length)}if(!n.length)return[];var E=!u||!r,S=[];for(v=0;v<n.length;v++){var a=o[n[v]];E?S.push(a[0]):S.push(a)}for(E&&(S=[S]),v=0;v<S.length;v++){var C=1/0;for(T=0;T<S[v].length;T++){var b=S[v][T].trace.legendrank;C>b&&(C=b)}S[v][0]._groupMinRank=C,S[v][0]._preGroupSort=v}var z=function(O,H){return O[0]._groupMinRank-H[0]._groupMinRank||O[0]._preGroupSort-H[0]._preGroupSort},k=function(O,H){return O.trace.legendrank-H.trace.legendrank||O._preSort-H._preSort};for(S.forEach(function(O,H){O[0]._preGroupSort=H}),S.sort(z),v=0;v<S.length;v++){S[v].forEach(function(O,H){O._preSort=H}),S[v].sort(k);var U=S[v][0].trace,F=null;for(T=0;T<S[v].length;T++){var V=S[v][T].trace.legendgrouptitle;if(V&&V.text){F=V,g&&(V.font=M._groupTitleFont);break}}if(e&&S[v].reverse(),F){var N=!1;for(T=0;T<S[v].length;T++)if(y.traceIs(S[v][T].trace,"pie-like")){N=!0;break}S[v].unshift({i:-1,groupTitle:F,noClick:N,trace:{showlegend:U.showlegend,legendgroup:U.legendgroup,visible:M.groupclick==="toggleitem"?!0:U.visible}})}for(T=0;T<S[v].length;T++)S[v][T]=[S[v][T]]}return M._lgroupsLength=S.length,M._maxNameLength=m,S}},33048:function(W,G,t){var y=t(24040),D=t(3400),s=D.pushUnique,P=!0;W.exports=function(d,g,r){var e=g._fullLayout;if(g._dragged||g._editing)return;var o=e.legend.itemclick,n=e.legend.itemdoubleclick,u=e.legend.groupclick;r===1&&o==="toggle"&&n==="toggleothers"&&P&&g.data&&g._context.showTips&&D.notifier(D._(g,"Double-click on legend to isolate one trace"),"long"),P=!1;var f;if(r===1?f=o:r===2&&(f=n),!f)return;var c=u==="togglegroup",m=e.hiddenlabels?e.hiddenlabels.slice():[],v=d.data()[0][0];if(v.groupTitle&&v.noClick)return;var T=g._fullData,h=(e.shapes||[]).filter(function(Et){return Et.showlegend}),i=T.concat(h),p=v.trace;p._isShape&&(p=p._fullInput);var w=p.legendgroup,A,L,x,E,S,a,C={},b=[],z=[],k=[];function U(Et,zt){var Ct=b.indexOf(Et),Wt=C.visible;return Wt||(Wt=C.visible=[]),b.indexOf(Et)===-1&&(b.push(Et),Ct=b.length-1),Wt[Ct]=zt,Ct}var F=(e.shapes||[]).map(function(Et){return Et._input}),V=!1;function N(Et,zt){F[Et].visible=zt,V=!0}function O(Et,zt){if(!(v.groupTitle&&!c)){var Ct=Et._fullInput||Et,Wt=Ct._isShape,Kt=Ct.index;if(Kt===void 0&&(Kt=Ct._index),y.hasTransform(Ct,"groupby")){var oe=z[Kt];if(!oe){var Jt=y.getTransformIndices(Ct,"groupby"),te=Jt[Jt.length-1];oe=D.keyedContainer(Ct,"transforms["+te+"].styles","target","value.visible"),z[Kt]=oe}var fe=oe.get(Et._group);fe===void 0&&(fe=!0),fe!==!1&&oe.set(Et._group,zt),k[Kt]=U(Kt,Ct.visible!==!1)}else{var ve=Ct.visible===!1?!1:zt;Wt?N(Kt,ve):U(Kt,ve)}}}var H=p.legend,X=p._fullInput,J=X&&X._isShape;if(!J&&y.traceIs(p,"pie-like")){var et=v.label,it=m.indexOf(et);if(f==="toggle")it===-1?m.push(et):m.splice(it,1);else if(f==="toggleothers"){var ft=it!==-1,ot=[];for(A=0;A<g.calcdata.length;A++){var Q=g.calcdata[A];for(L=0;L<Q.length;L++){var tt=Q[L],Z=tt.label;H===Q[0].trace.legend&&et!==Z&&(m.indexOf(Z)===-1&&(ft=!0),s(m,Z),ot.push(Z))}}if(!ft)for(var q=0;q<ot.length;q++){var ut=m.indexOf(ot[q]);ut!==-1&&m.splice(ut,1)}}y.call("_guiRelayout",g,"hiddenlabels",m)}else{var $=w&&w.length,j=[],lt;if($)for(A=0;A<i.length;A++)lt=i[A],lt.visible&&lt.legendgroup===w&&j.push(A);if(f==="toggle"){var nt;switch(p.visible){case!0:nt="legendonly";break;case!1:nt=!1;break;case"legendonly":nt=!0;break}if($)if(c)for(A=0;A<i.length;A++){var ht=i[A];ht.visible!==!1&&ht.legendgroup===w&&O(ht,nt)}else O(p,nt);else O(p,nt)}else if(f==="toggleothers"){var mt,At,bt,Pt,_t,Ut=!0;for(A=0;A<i.length;A++)if(_t=i[A],mt=_t===p,bt=_t.showlegend!==!0,!(mt||bt)&&(At=$&&_t.legendgroup===w,!At&&_t.legend===H&&_t.visible===!0&&!y.traceIs(_t,"notLegendIsolatable"))){Ut=!1;break}for(A=0;A<i.length;A++)if(_t=i[A],!(_t.visible===!1||_t.legend!==H)&&!y.traceIs(_t,"notLegendIsolatable"))switch(p.visible){case"legendonly":O(_t,!0);break;case!0:Pt=Ut?!0:"legendonly",mt=_t===p,bt=_t.showlegend!==!0&&!_t.legendgroup,At=mt||$&&_t.legendgroup===w,O(_t,At||bt?!0:Pt);break}}for(A=0;A<z.length;A++)if(x=z[A],!!x){var St=x.constructUpdate(),Rt=Object.keys(St);for(L=0;L<Rt.length;L++)E=Rt[L],a=C[E]=C[E]||[],a[k[A]]=St[E]}for(S=Object.keys(C),A=0;A<S.length;A++)for(E=S[A],L=0;L<b.length;L++)C[E].hasOwnProperty(L)||(C[E][L]=void 0);V?y.call("_guiUpdate",g,C,{shapes:F},b):y.call("_guiRestyle",g,C,b)}}},42451:function(W,G){G.isGrouped=function(y){return(y.traceorder||"").indexOf("grouped")!==-1},G.isVertical=function(y){return y.orientation!=="h"},G.isReversed=function(y){return(y.traceorder||"").indexOf("reversed")!==-1}},2780:function(W,G,t){W.exports={moduleType:"component",name:"legend",layoutAttributes:t(3800),supplyLayoutDefaults:t(77864),draw:t(31140),style:t(2012)}},2012:function(W,G,t){var y=t(33428),D=t(24040),s=t(3400),P=s.strTranslate,M=t(43616),d=t(76308),g=t(94288).extractOpts,r=t(43028),e=t(10528),o=t(69656).castOption,n=t(65196),u=12,f=5,c=2,m=10,v=5;W.exports=function(w,A,L){var x=A._fullLayout;L||(L=x.legend);var E=L.itemsizing==="constant",S=L.itemwidth,a=(S+n.itemGap*2)/2,C=P(a,0),b=function(ot,Q,tt,Z){var q;if(ot+1)q=ot;else if(Q&&Q.width>0)q=Q.width;else return 0;return E?Z:Math.min(q,tt)};w.each(function(ot){var Q=y.select(this),tt=s.ensureSingle(Q,"g","layers");tt.style("opacity",ot[0].trace.opacity);var Z=L.indentation,q=L.valign,ut=ot[0].lineHeight,$=ot[0].height;if(q==="middle"&&Z===0||!ut||!$)tt.attr("transform",null);else{var j={top:1,bottom:-1}[q],lt=j*(.5*(ut-$+3))||0,nt=L.indentation;tt.attr("transform",P(nt,lt))}var ht=tt.selectAll("g.legendfill").data([ot]);ht.enter().append("g").classed("legendfill",!0);var mt=tt.selectAll("g.legendlines").data([ot]);mt.enter().append("g").classed("legendlines",!0);var At=tt.selectAll("g.legendsymbols").data([ot]);At.enter().append("g").classed("legendsymbols",!0),At.selectAll("g.legendpoints").data([ot]).enter().append("g").classed("legendpoints",!0)}).each(ft).each(U).each(V).each(F).each(O).each(et).each(J).each(z).each(k).each(H).each(X);function z(ot){var Q=h(ot),tt=Q.showFill,Z=Q.showLine,q=Q.showGradientLine,ut=Q.showGradientFill,$=Q.anyFill,j=Q.anyLine,lt=ot[0],nt=lt.trace,ht,mt,At=g(nt),bt=At.colorscale,Pt=At.reversescale,_t=function(Wt){if(Wt.size())if(tt)M.fillGroupStyle(Wt,A,!0);else{var Kt="legendfill-"+nt.uid;M.gradient(Wt,A,Kt,T(Pt),bt,"fill")}},Ut=function(Wt){if(Wt.size()){var Kt="legendline-"+nt.uid;M.lineGroupStyle(Wt),M.gradient(Wt,A,Kt,T(Pt),bt,"stroke")}},St=r.hasMarkers(nt)||!$?"M5,0":j?"M5,-2":"M5,-3",Rt=y.select(this),Et=Rt.select(".legendfill").selectAll("path").data(tt||ut?[ot]:[]);if(Et.enter().append("path").classed("js-fill",!0),Et.exit().remove(),Et.attr("d",St+"h"+S+"v6h-"+S+"z").call(_t),Z||q){var zt=b(void 0,nt.line,m,f);mt=s.minExtend(nt,{line:{width:zt}}),ht=[s.minExtend(lt,{trace:mt})]}var Ct=Rt.select(".legendlines").selectAll("path").data(Z||q?[ht]:[]);Ct.enter().append("path").classed("js-line",!0),Ct.exit().remove(),Ct.attr("d",St+(q?"l"+S+",0.0001":"h"+S)).call(Z?M.lineGroupStyle:Ut)}function k(ot){var Q=h(ot),tt=Q.anyFill,Z=Q.anyLine,q=Q.showLine,ut=Q.showMarker,$=ot[0],j=$.trace,lt=!ut&&!Z&&!tt&&r.hasText(j),nt,ht;function mt(Et,zt,Ct,Wt){var Kt=s.nestedProperty(j,Et).get(),oe=s.isArrayOrTypedArray(Kt)&&zt?zt(Kt):Kt;if(E&&oe&&Wt!==void 0&&(oe=Wt),Ct){if(oe<Ct[0])return Ct[0];if(oe>Ct[1])return Ct[1]}return oe}function At(Et){return $._distinct&&$.index&&Et[$.index]?Et[$.index]:Et[0]}if(ut||lt||q){var bt={},Pt={};if(ut){bt.mc=mt("marker.color",At),bt.mx=mt("marker.symbol",At),bt.mo=mt("marker.opacity",s.mean,[.2,1]),bt.mlc=mt("marker.line.color",At),bt.mlw=mt("marker.line.width",s.mean,[0,5],c),Pt.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var _t=mt("marker.size",s.mean,[2,16],u);bt.ms=_t,Pt.marker.size=_t}q&&(Pt.line={width:mt("line.width",At,[0,10],f)}),lt&&(bt.tx="Aa",bt.tp=mt("textposition",At),bt.ts=10,bt.tc=mt("textfont.color",At),bt.tf=mt("textfont.family",At),bt.tw=mt("textfont.weight",At),bt.ty=mt("textfont.style",At),bt.tv=mt("textfont.variant",At),bt.tC=mt("textfont.textcase",At),bt.tE=mt("textfont.lineposition",At),bt.tS=mt("textfont.shadow",At)),nt=[s.minExtend($,bt)],ht=s.minExtend(j,Pt),ht.selectedpoints=null,ht.texttemplate=null}var Ut=y.select(this).select("g.legendpoints"),St=Ut.selectAll("path.scatterpts").data(ut?nt:[]);St.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",C),St.exit().remove(),St.call(M.pointStyle,ht,A),ut&&(nt[0].mrc=3);var Rt=Ut.selectAll("g.pointtext").data(lt?nt:[]);Rt.enter().append("g").classed("pointtext",!0).append("text").attr("transform",C),Rt.exit().remove(),Rt.selectAll("text").call(M.textPointStyle,ht,A)}function U(ot){var Q=ot[0].trace,tt=Q.type==="waterfall";if(ot[0]._distinct&&tt){var Z=ot[0].trace[ot[0].dir].marker;return ot[0].mc=Z.color,ot[0].mlw=Z.line.width,ot[0].mlc=Z.line.color,N(ot,this,"waterfall")}var q=[];Q.visible&&tt&&(q=ot[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ut=y.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(q);ut.enter().append("path").classed("legendwaterfall",!0).attr("transform",C).style("stroke-miterlimit",1),ut.exit().remove(),ut.each(function($){var j=y.select(this),lt=Q[$[0]].marker,nt=b(void 0,lt.line,v,c);j.attr("d",$[1]).style("stroke-width",nt+"px").call(d.fill,lt.color),nt&&j.call(d.stroke,lt.line.color)})}function F(ot){N(ot,this)}function V(ot){N(ot,this,"funnel")}function N(ot,Q,tt){var Z=ot[0].trace,q=Z.marker||{},ut=q.line||{},$=q.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",j=tt?Z.visible&&Z.type===tt:D.traceIs(Z,"bar"),lt=y.select(Q).select("g.legendpoints").selectAll("path.legend"+tt).data(j?[ot]:[]);lt.enter().append("path").classed("legend"+tt,!0).attr("d",$).attr("transform",C),lt.exit().remove(),lt.each(function(nt){var ht=y.select(this),mt=nt[0],At=b(mt.mlw,q.line,v,c);ht.style("stroke-width",At+"px");var bt=mt.mcc;if(!L._inHover&&"mc"in mt){var Pt=g(q),_t=Pt.mid;_t===void 0&&(_t=(Pt.max+Pt.min)/2),bt=M.tryColorscale(q,"")(_t)}var Ut=bt||mt.mc||q.color,St=q.pattern,Rt=St&&M.getPatternAttr(St.shape,0,"");if(Rt){var Et=M.getPatternAttr(St.bgcolor,0,null),zt=M.getPatternAttr(St.fgcolor,0,null),Ct=St.fgopacity,Wt=i(St.size,8,10),Kt=i(St.solidity,.5,1),oe="legend-"+Z.uid;ht.call(M.pattern,"legend",A,oe,Rt,Wt,Kt,bt,St.fillmode,Et,zt,Ct)}else ht.call(d.fill,Ut);At&&d.stroke(ht,mt.mlc||ut.color)})}function O(ot){var Q=ot[0].trace,tt=y.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Q.visible&&D.traceIs(Q,"box-violin")?[ot]:[]);tt.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),tt.exit().remove(),tt.each(function(){var Z=y.select(this);if((Q.boxpoints==="all"||Q.points==="all")&&d.opacity(Q.fillcolor)===0&&d.opacity((Q.line||{}).color)===0){var q=s.minExtend(Q,{marker:{size:E?u:s.constrain(Q.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});tt.call(M.pointStyle,q,A)}else{var ut=b(void 0,Q.line,v,c);Z.style("stroke-width",ut+"px").call(d.fill,Q.fillcolor),ut&&d.stroke(Z,Q.line.color)}})}function H(ot){var Q=ot[0].trace,tt=y.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Q.visible&&Q.type==="candlestick"?[ot,ot]:[]);tt.enter().append("path").classed("legendcandle",!0).attr("d",function(Z,q){return q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",C).style("stroke-miterlimit",1),tt.exit().remove(),tt.each(function(Z,q){var ut=y.select(this),$=Q[q?"increasing":"decreasing"],j=b(void 0,$.line,v,c);ut.style("stroke-width",j+"px").call(d.fill,$.fillcolor),j&&d.stroke(ut,$.line.color)})}function X(ot){var Q=ot[0].trace,tt=y.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Q.visible&&Q.type==="ohlc"?[ot,ot]:[]);tt.enter().append("path").classed("legendohlc",!0).attr("d",function(Z,q){return q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",C).style("stroke-miterlimit",1),tt.exit().remove(),tt.each(function(Z,q){var ut=y.select(this),$=Q[q?"increasing":"decreasing"],j=b(void 0,$.line,v,c);ut.style("fill","none").call(M.dashLine,$.line.dash,j),j&&d.stroke(ut,$.line.color)})}function J(ot){it(ot,this,"pie")}function et(ot){it(ot,this,"funnelarea")}function it(ot,Q,tt){var Z=ot[0],q=Z.trace,ut=tt?q.visible&&q.type===tt:D.traceIs(q,tt),$=y.select(Q).select("g.legendpoints").selectAll("path.legend"+tt).data(ut?[ot]:[]);if($.enter().append("path").classed("legend"+tt,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),$.exit().remove(),$.size()){var j=q.marker||{},lt=b(o(j.line.width,Z.pts),j.line,v,c),nt="pieLike",ht=s.minExtend(q,{marker:{line:{width:lt}}},nt),mt=s.minExtend(Z,{trace:ht},nt);e($,mt,ht,A)}}function ft(ot){var Q=ot[0].trace,tt,Z=[];if(Q.visible)switch(Q.type){case"histogram2d":case"heatmap":Z=[["M-15,-2V4H15V-2Z"]],tt=!0;break;case"choropleth":case"choroplethmapbox":Z=[["M-6,-6V6H6V-6Z"]],tt=!0;break;case"densitymapbox":Z=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],tt="radial";break;case"cone":Z=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],tt=!1;break;case"streamtube":Z=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],tt=!1;break;case"surface":Z=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],tt=!0;break;case"mesh3d":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],tt=!1;break;case"volume":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],tt=!0;break;case"isosurface":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],tt=!1;break}var q=y.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Z);q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",C).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(ut,$){var j=y.select(this),lt=g(Q),nt=lt.colorscale,ht=lt.reversescale,mt=function(_t){if(_t.size()){var Ut="legendfill-"+Q.uid;M.gradient(_t,A,Ut,T(ht,tt==="radial"),nt,"fill")}},At;if(nt){if(!tt){var Pt=nt.length;At=$===0?nt[ht?Pt-1:0][1]:$===1?nt[ht?0:Pt-1][1]:nt[Math.floor((Pt-1)/2)][1]}}else{var bt=Q.vertexcolor||Q.facecolor||Q.color;At=s.isArrayOrTypedArray(bt)?bt[$]||bt[0]:bt}j.attr("d",ut[0]),At?j.call(d.fill,At):j.call(mt)})}};function T(p,w){var A=w?"radial":"horizontal";return A+(p?"":"reversed")}function h(p){var w=p[0].trace,A=w.contours,L=r.hasLines(w),x=r.hasMarkers(w),E=w.visible&&w.fill&&w.fill!=="none",S=!1,a=!1;if(A){var C=A.coloring;C==="lines"?S=!0:L=C==="none"||C==="heatmap"||A.showlines,A.type==="constraint"?E=A._operation!=="=":(C==="fill"||C==="heatmap")&&(a=!0)}return{showMarker:x,showLine:L,showFill:E,showGradientLine:S,showGradientFill:a,anyLine:L||S,anyFill:E||a}}function i(p,w,A){return p&&s.isArrayOrTypedArray(p)?w:p>A?A:p}},66540:function(W,G,t){t(76052),W.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(W,G,t){var y=t(24040),D=t(7316),s=t(79811),P=t(9224),M=t(4016).eraseActiveShape,d=t(3400),g=d._,r=W.exports={};r.toImage={name:"toImage",title:function(p){var w=p._context.toImageButtonOptions||{},A=w.format||"png";return A==="png"?g(p,"Download plot as a png"):g(p,"Download plot")},icon:P.camera,click:function(p){var w=p._context.toImageButtonOptions,A={format:w.format||"png"};d.notifier(g(p,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&d.isIE()&&(d.notifier(g(p,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(L){L in w&&(A[L]=w[L])}),y.call("downloadImage",p,A).then(function(L){d.notifier(g(p,"Snapshot succeeded")+" - "+L,"long")}).catch(function(){d.notifier(g(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(p){return g(p,"Edit in Chart Studio")},icon:P.disk,click:function(p){D.sendDataToCloud(p)}},r.editInChartStudio={name:"editInChartStudio",title:function(p){return g(p,"Edit in Chart Studio")},icon:P.pencil,click:function(p){D.sendDataToCloud(p)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return g(p,"Zoom")},attr:"dragmode",val:"zoom",icon:P.zoombox,click:e},r.pan2d={name:"pan2d",_cat:"pan",title:function(p){return g(p,"Pan")},attr:"dragmode",val:"pan",icon:P.pan,click:e},r.select2d={name:"select2d",_cat:"select",title:function(p){return g(p,"Box Select")},attr:"dragmode",val:"select",icon:P.selectbox,click:e},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return g(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:P.lasso,click:e},r.drawclosedpath={name:"drawclosedpath",title:function(p){return g(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:P.drawclosedpath,click:e},r.drawopenpath={name:"drawopenpath",title:function(p){return g(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:P.drawopenpath,click:e},r.drawline={name:"drawline",title:function(p){return g(p,"Draw line")},attr:"dragmode",val:"drawline",icon:P.drawline,click:e},r.drawrect={name:"drawrect",title:function(p){return g(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:P.drawrect,click:e},r.drawcircle={name:"drawcircle",title:function(p){return g(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:P.drawcircle,click:e},r.eraseshape={name:"eraseshape",title:function(p){return g(p,"Erase active shape")},icon:P.eraseshape,click:M},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return g(p,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:e},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return g(p,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:e},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return g(p,"Autoscale")},attr:"zoom",val:"auto",icon:P.autoscale,click:e},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return g(p,"Reset axes")},attr:"zoom",val:"reset",icon:P.home,click:e},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return g(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:e},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return g(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:P.tooltip_compare,gravity:"ne",click:e};function e(p,w){var A=w.currentTarget,L=A.getAttribute("data-attr"),x=A.getAttribute("data-val")||!0,E=p._fullLayout,S={},a=s.list(p,null,!0),C=E._cartesianSpikesEnabled,b,z;if(L==="zoom"){var k=x==="in"?.5:2,U=(1+k)/2,F=(1-k)/2,V;for(z=0;z<a.length;z++)if(b=a[z],!b.fixedrange)if(V=b._name,x==="auto")S[V+".autorange"]=!0;else if(x==="reset")b._rangeInitial0===void 0&&b._rangeInitial1===void 0?S[V+".autorange"]=!0:b._rangeInitial0===void 0?(S[V+".autorange"]=b._autorangeInitial,S[V+".range"]=[null,b._rangeInitial1]):b._rangeInitial1===void 0?(S[V+".range"]=[b._rangeInitial0,null],S[V+".autorange"]=b._autorangeInitial):S[V+".range"]=[b._rangeInitial0,b._rangeInitial1],b._showSpikeInitial!==void 0&&(S[V+".showspikes"]=b._showSpikeInitial,C==="on"&&!b._showSpikeInitial&&(C="off"));else{var N=[b.r2l(b.range[0]),b.r2l(b.range[1])],O=[U*N[0]+F*N[1],U*N[1]+F*N[0]];S[V+".range[0]"]=b.l2r(O[0]),S[V+".range[1]"]=b.l2r(O[1])}}else L==="hovermode"&&(x==="x"||x==="y")&&(x=E._isHoriz?"y":"x",A.setAttribute("data-val",x)),S[L]=x;E._cartesianSpikesEnabled=C,y.call("_guiRelayout",p,S)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return g(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:P.zoombox,click:o},r.pan3d={name:"pan3d",_cat:"pan",title:function(p){return g(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:P.pan,click:o},r.orbitRotation={name:"orbitRotation",title:function(p){return g(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:P["3d_rotate"],click:o},r.tableRotation={name:"tableRotation",title:function(p){return g(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:P["z-axis"],click:o};function o(p,w){for(var A=w.currentTarget,L=A.getAttribute("data-attr"),x=A.getAttribute("data-val")||!0,E=p._fullLayout._subplots.gl3d||[],S={},a=L.split("."),C=0;C<E.length;C++)S[E[C]+"."+a[1]]=x;var b=x==="pan"?x:"zoom";S.dragmode=b,y.call("_guiRelayout",p,S)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return g(p,"Reset camera to default")},attr:"resetDefault",icon:P.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return g(p,"Reset camera to last save")},attr:"resetLastSave",icon:P.movie,click:n};function n(p,w){for(var A=w.currentTarget,L=A.getAttribute("data-attr"),x=L==="resetLastSave",E=L==="resetDefault",S=p._fullLayout,a=S._subplots.gl3d||[],C={},b=0;b<a.length;b++){var z=a[b],k=z+".camera",U=z+".aspectratio",F=z+".aspectmode",V=S[z]._scene,N;x?(C[k+".up"]=V.viewInitial.up,C[k+".eye"]=V.viewInitial.eye,C[k+".center"]=V.viewInitial.center,N=!0):E&&(C[k+".up"]=null,C[k+".eye"]=null,C[k+".center"]=null,N=!0),N&&(C[U+".x"]=V.viewInitial.aspectratio.x,C[U+".y"]=V.viewInitial.aspectratio.y,C[U+".z"]=V.viewInitial.aspectratio.z,C[F]=V.viewInitial.aspectmode)}y.call("_guiRelayout",p,C)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return g(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:f};function u(p,w){var A=w.currentTarget,L=A._previousVal,x=p._fullLayout,E=x._subplots.gl3d||[],S=["xaxis","yaxis","zaxis"],a={},C={};if(L)C=L,A._previousVal=null;else{for(var b=0;b<E.length;b++){var z=E[b],k=x[z],U=z+".hovermode";a[U]=k.hovermode,C[U]=!1;for(var F=0;F<3;F++){var V=S[F],N=z+"."+V+".showspikes";C[N]=!1,a[N]=k[V].showspikes}}A._previousVal=a}return C}function f(p,w){var A=u(p,w);y.call("_guiRelayout",p,A)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return g(p,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:c},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return g(p,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:c},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return g(p,"Reset")},attr:"reset",val:null,icon:P.autoscale,click:c},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return g(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:v};function c(p,w){for(var A=w.currentTarget,L=A.getAttribute("data-attr"),x=A.getAttribute("data-val")||!0,E=p._fullLayout,S=E._subplots.geo||[],a=0;a<S.length;a++){var C=S[a],b=E[C];if(L==="zoom"){var z=b.projection.scale,k=x==="in"?2*z:.5*z;y.call("_guiRelayout",p,C+".projection.scale",k)}}L==="reset"&&i(p,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return g(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:v},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return g(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:v};function m(p){var w=p._fullLayout;return w.hovermode?!1:w._has("cartesian")?w._isHoriz?"y":"x":"closest"}function v(p){var w=m(p);y.call("_guiRelayout",p,"hovermode",w)}r.resetViewSankey={name:"resetSankeyGroup",title:function(p){return g(p,"Reset view")},icon:P.home,click:function(p){for(var w={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<p._fullData.length;A++){var L=p._fullData[A]._viewInitial;w["node.groups"].push(L.node.groups.slice()),w["node.x"].push(L.node.x.slice()),w["node.y"].push(L.node.y.slice())}y.call("restyle",p,w)}},r.toggleHover={name:"toggleHover",title:function(p){return g(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:function(p,w){var A=u(p,w);A.hovermode=m(p),y.call("_guiRelayout",p,A)}},r.resetViews={name:"resetViews",title:function(p){return g(p,"Reset views")},icon:P.home,click:function(p,w){var A=w.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),e(p,w),A.setAttribute("data-attr","resetLastSave"),n(p,w),i(p,"geo"),i(p,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(p){return g(p,"Toggle Spike Lines")},icon:P.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var w=p._fullLayout,A=w._cartesianSpikesEnabled;w._cartesianSpikesEnabled=A==="on"?"off":"on",y.call("_guiRelayout",p,T(p))}};function T(p){for(var w=p._fullLayout,A=w._cartesianSpikesEnabled==="on",L=s.list(p,null,!0),x={},E=0;E<L.length;E++){var S=L[E];x[S._name+".showspikes"]=A?!0:S._showSpikeInitial}return x}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return g(p,"Reset view")},attr:"reset",icon:P.home,click:function(p){i(p,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return g(p,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:h},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return g(p,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:h};function h(p,w){for(var A=w.currentTarget,L=A.getAttribute("data-val"),x=p._fullLayout,E=x._subplots.mapbox||[],S=1.05,a={},C=0;C<E.length;C++){var b=E[C],z=x[b].zoom,k=L==="in"?S*z:z/S;a[b+".zoom"]=k}y.call("_guiRelayout",p,a)}function i(p,w){for(var A=p._fullLayout,L=A._subplots[w]||[],x={},E=0;E<L.length;E++)for(var S=L[E],a=A[S]._subplot,C=a.viewInitial,b=Object.keys(C),z=0;z<b.length;z++){var k=b[z];x[S+"."+k]=C[k]}y.call("_guiRelayout",p,x)}},76052:function(W,G,t){var y=t(44248),D=Object.keys(y),s=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],P=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(s),M=[],d=function(g){if(P.indexOf(g._cat||g.name)===-1){var r=g.name,e=(g._cat||g.name).toLowerCase();M.indexOf(r)===-1&&M.push(r),M.indexOf(e)===-1&&M.push(e)}};D.forEach(function(g){d(y[g])}),M.sort(),W.exports={DRAW_MODES:s,backButtons:P,foreButtons:M}},90824:function(W,G,t){var y=t(3400),D=t(76308),s=t(31780),P=t(66540);W.exports=function(d,g){var r=d.modebar||{},e=s.newContainer(g,"modebar");function o(u,f){return y.coerce(r,e,P,u,f)}o("orientation"),o("bgcolor",D.addOpacity(g.paper_bgcolor,.5));var n=D.contrast(D.rgb(g.modebar.bgcolor));o("color",D.addOpacity(n,.3)),o("activecolor",D.addOpacity(n,.7)),o("uirevision",g.uirevision),o("add"),o("remove")}},45460:function(W,G,t){W.exports={moduleType:"component",name:"modebar",layoutAttributes:t(66540),supplyLayoutDefaults:t(90824),manage:t(18816)}},18816:function(W,G,t){var y=t(79811),D=t(43028),s=t(24040),P=t(10624).isUnifiedHover,M=t(66400),d=t(44248),g=t(76052).DRAW_MODES,r=t(3400).extendDeep;W.exports=function(v){var T=v._fullLayout,h=v._context,i=T._modeBar;if(!h.displayModeBar&&!h.watermark){i&&(i.destroy(),delete T._modeBar);return}if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var p=h.modeBarButtons,w;Array.isArray(p)&&p.length?w=c(p):!h.displayModeBar&&h.watermark?w=[]:w=e(v),i?i.update(v,w):T._modeBar=M(v,w)};function e(m){var v=m._fullLayout,T=m._fullData,h=m._context;function i($,j){if(typeof j=="string"){if(j.toLowerCase()===$.toLowerCase())return!0}else{var lt=j.name,nt=j._cat||j.name;if(lt===$||nt===$.toLowerCase())return!0}return!1}var p=v.modebar.add;typeof p=="string"&&(p=[p]);var w=v.modebar.remove;typeof w=="string"&&(w=[w]);var A=h.modeBarButtonsToAdd.concat(p.filter(function($){for(var j=0;j<h.modeBarButtonsToRemove.length;j++)if(i($,h.modeBarButtonsToRemove[j]))return!1;return!0})),L=h.modeBarButtonsToRemove.concat(w.filter(function($){for(var j=0;j<h.modeBarButtonsToAdd.length;j++)if(i($,h.modeBarButtonsToAdd[j]))return!1;return!0})),x=v._has("cartesian"),E=v._has("gl3d"),S=v._has("geo"),a=v._has("pie"),C=v._has("funnelarea"),b=v._has("gl2d"),z=v._has("ternary"),k=v._has("mapbox"),U=v._has("polar"),F=v._has("smith"),V=v._has("sankey"),N=o(v),O=P(v.hovermode),H=[];function X($){if($.length){for(var j=[],lt=0;lt<$.length;lt++){for(var nt=$[lt],ht=d[nt],mt=ht.name.toLowerCase(),At=(ht._cat||ht.name).toLowerCase(),bt=!1,Pt=0;Pt<L.length;Pt++){var _t=L[Pt].toLowerCase();if(_t===mt||_t===At){bt=!0;break}}bt||j.push(d[nt])}H.push(j)}}var J=["toImage"];h.showEditInChartStudio?J.push("editInChartStudio"):h.showSendToCloud&&J.push("sendDataToCloud"),X(J);var et=[],it=[],ft=[],ot=[];(x||b||a||C||z)+S+E+k+U+F>1?(it=["toggleHover"],ft=["resetViews"]):S?(et=["zoomInGeo","zoomOutGeo"],it=["hoverClosestGeo"],ft=["resetGeo"]):E?(it=["hoverClosest3d"],ft=["resetCameraDefault3d","resetCameraLastSave3d"]):k?(et=["zoomInMapbox","zoomOutMapbox"],it=["toggleHover"],ft=["resetViewMapbox"]):b?it=["hoverClosestGl2d"]:a?it=["hoverClosestPie"]:V?(it=["hoverClosestCartesian","hoverCompareCartesian"],ft=["resetViewSankey"]):it=["toggleHover"],x&&it.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(u(T)||O)&&(it=[]),(x||b)&&!N&&(et=["zoomIn2d","zoomOut2d","autoScale2d"],ft[0]!=="resetViews"&&(ft=["resetScale2d"])),E?ot=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||b)&&!N||z?ot=["zoom2d","pan2d"]:k||S?ot=["pan2d"]:U&&(ot=["zoom2d"]),n(T)&&ot.push("select2d","lasso2d");var Q=[],tt=function($){Q.indexOf($)===-1&&it.indexOf($)!==-1&&Q.push($)};if(Array.isArray(A)){for(var Z=[],q=0;q<A.length;q++){var ut=A[q];typeof ut=="string"?(ut=ut.toLowerCase(),g.indexOf(ut)!==-1?(v._has("mapbox")||v._has("cartesian"))&&ot.push(ut):ut==="togglespikelines"?tt("toggleSpikelines"):ut==="togglehover"?tt("toggleHover"):ut==="hovercompare"?tt("hoverCompareCartesian"):ut==="hoverclosest"?(tt("hoverClosestCartesian"),tt("hoverClosestGeo"),tt("hoverClosest3d"),tt("hoverClosestGl2d"),tt("hoverClosestPie")):ut==="v1hovermode"&&(tt("hoverClosestCartesian"),tt("hoverCompareCartesian"),tt("hoverClosestGeo"),tt("hoverClosest3d"),tt("hoverClosestGl2d"),tt("hoverClosestPie"))):Z.push(ut)}A=Z}return X(ot),X(et.concat(ft)),X(Q),f(H,A)}function o(m){for(var v=y.list({_fullLayout:m},null,!0),T=0;T<v.length;T++)if(!v[T].fixedrange)return!1;return!0}function n(m){for(var v=!1,T=0;T<m.length&&!v;T++){var h=m[T];!h._module||!h._module.selectPoints||(s.traceIs(h,"scatter-like")?(D.hasMarkers(h)||D.hasText(h))&&(v=!0):s.traceIs(h,"box-violin")?(h.boxpoints==="all"||h.points==="all")&&(v=!0):v=!0)}return v}function u(m){for(var v=0;v<m.length;v++)if(!s.traceIs(m[v],"noHover"))return!1;return!0}function f(m,v){if(v.length)if(Array.isArray(v[0]))for(var T=0;T<v.length;T++)m.push(v[T]);else m.push(v);return m}function c(m){for(var v=r([],m),T=0;T<v.length;T++)for(var h=v[T],i=0;i<h.length;i++){var p=h[i];if(typeof p=="string")if(d[p]!==void 0)v[T][i]=d[p];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return v}},66400:function(W,G,t){var y=t(33428),D=t(38248),s=t(3400),P=t(9224),M=t(25788).version,d=new DOMParser;function g(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=g.prototype;r.update=function(n,u){this.graphInfo=n;var f=this.graphInfo._context,c=this.graphInfo._fullLayout,m="modebar-"+c._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",f.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),c.modebar.orientation==="v"&&(this.element.className+=" vertical",u=u.reverse());var v=c.modebar,T=f.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";s.deleteRelatedStyleRule(m),s.addRelatedStyleRule(m,T+"#"+m+" .modebar-group","background-color: "+v.bgcolor),s.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+v.color),s.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+v.activecolor),s.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+v.activecolor);var h=!this.hasButtons(u),i=this.hasLogo!==f.displaylogo,p=this.locale!==f.locale;if(this.locale=f.locale,(h||i||p)&&(this.removeAllButtons(),this.updateButtons(u),f.watermark||f.displaylogo)){var w=this.getLogo();f.watermark&&(w.className=w.className+" watermark"),c.modebar.orientation==="v"?this.element.insertBefore(w,this.element.childNodes[0]):this.element.appendChild(w),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var u=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var c=u.createGroup();f.forEach(function(m){var v=m.name;if(!v)throw new Error("must provide button 'name' in button config");if(u.buttonsNames.indexOf(v)!==-1)throw new Error("button name '"+v+"' is taken");u.buttonsNames.push(v);var T=u.createButton(m);u.buttonElements.push(T),c.appendChild(T)}),u.element.appendChild(c)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var u=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var c=n.title;c===void 0?c=n.name:typeof c=="function"&&(c=c(this.graphInfo)),(c||c===0)&&f.setAttribute("data-title",c),n.attr!==void 0&&f.setAttribute("data-attr",n.attr);var m=n.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),f.setAttribute("data-val",m));var v=n.click;if(typeof v!="function")throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(h){n.click(u.graphInfo,h),u.updateActiveButton(h.currentTarget)}),f.setAttribute("data-toggle",n.toggle||!1),n.toggle&&y.select(f).classed("active",!0);var T=n.icon;return typeof T=="function"?f.appendChild(T()):f.appendChild(this.createIcon(T||P.question)),f.setAttribute("data-gravity",n.gravity||"n"),f},r.createIcon=function(n){var u=D(n.height)?Number(n.height):n.ascent-n.descent,f="http://www.w3.org/2000/svg",c;if(n.path){c=document.createElementNS(f,"svg"),c.setAttribute("viewBox",[0,0,n.width,u].join(" ")),c.setAttribute("class","icon");var m=document.createElementNS(f,"path");m.setAttribute("d",n.path),n.transform?m.setAttribute("transform",n.transform):n.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),c.appendChild(m)}if(n.svg){var v=d.parseFromString(n.svg,"application/xml");c=v.childNodes[0]}return c.setAttribute("height","1em"),c.setAttribute("width","1em"),c},r.updateActiveButton=function(n){var u=this.graphInfo._fullLayout,f=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(c){var m=c.getAttribute("data-val")||!0,v=c.getAttribute("data-attr"),T=c.getAttribute("data-toggle")==="true",h=y.select(c);if(T)v===f&&h.classed("active",!h.classed("active"));else{var i=v===null?v:s.nestedProperty(u,v).get();h.classed("active",i===m)}})},r.hasButtons=function(n){var u=this.buttons;if(!u||n.length!==u.length)return!1;for(var f=0;f<n.length;++f){if(n[f].length!==u[f].length)return!1;for(var c=0;c<n[f].length;c++)if(n[f][c].name!==u[f][c].name)return!1}return!0};function e(n){return n+" (v"+M+")"}r.getLogo=function(){var n=this.createGroup(),u=document.createElement("a");return u.href="https://plotly.com/",u.target="_blank",u.setAttribute("data-title",e(s._(this.graphInfo,"Produced with Plotly.js"))),u.className="modebar-btn plotlyjsicon modebar-btn--logo",u.appendChild(this.createIcon(P.newplotlylogo)),n.appendChild(u),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){s.removeElement(this.container.querySelector(".modebar")),s.deleteRelatedStyleRule(this._uid)};function o(n,u){var f=n._fullLayout,c=new g({graphInfo:n,container:f._modebardiv.node(),buttons:u});return f._privateplot&&y.select(c.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),c}W.exports=o},26680:function(W,G,t){var y=t(25376),D=t(22548),s=t(31780).templatedArray,P=s("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});W.exports={visible:{valType:"boolean",editType:"plot"},buttons:P,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:y({editType:"plot"}),bgcolor:{valType:"color",dflt:D.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:D.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(W){W.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(W,G,t){var y=t(3400),D=t(76308),s=t(31780),P=t(51272),M=t(26680),d=t(85984);W.exports=function(o,n,u,f,c){var m=o.rangeselector||{},v=s.newContainer(n,"rangeselector");function T(A,L){return y.coerce(m,v,M,A,L)}var h=P(m,v,{name:"buttons",handleItemDefaults:g,calendar:c}),i=T("visible",h.length>0);if(i){var p=r(n,u,f);T("x",p[0]),T("y",p[1]),y.noneOrAll(o,n,["x","y"]),T("xanchor"),T("yanchor"),y.coerceFont(T,"font",u.font);var w=T("bgcolor");T("activecolor",D.contrast(w,d.lightAmount,d.darkAmount)),T("bordercolor"),T("borderwidth")}};function g(e,o,n,u){var f=u.calendar;function c(T,h){return y.coerce(e,o,M.buttons,T,h)}var m=c("visible");if(m){var v=c("step");v!=="all"&&(f&&f!=="gregorian"&&(v==="month"||v==="year")?o.stepmode="backward":c("stepmode"),c("count")),c("label")}}function r(e,o,n){for(var u=n.filter(function(v){return o[v].anchor===e._id}),f=0,c=0;c<u.length;c++){var m=o[u[c]].domain;m&&(f=Math.max(m[1],f))}return[e.domain[0],f+d.yPad]}},50216:function(W,G,t){var y=t(33428),D=t(24040),s=t(7316),P=t(76308),M=t(43616),d=t(3400),g=d.strTranslate,r=t(72736),e=t(79811),o=t(84284),n=o.LINE_SPACING,u=o.FROM_TL,f=o.FROM_BR,c=t(85984),m=t(48040);W.exports=function(E){var S=E._fullLayout,a=S._infolayer.selectAll(".rangeselector").data(v(E),T);a.enter().append("g").classed("rangeselector",!0),a.exit().remove(),a.style({cursor:"pointer","pointer-events":"all"}),a.each(function(C){var b=y.select(this),z=C,k=z.rangeselector,U=b.selectAll("g.button").data(d.filterVisible(k.buttons));U.enter().append("g").classed("button",!0),U.exit().remove(),U.each(function(F){var V=y.select(this),N=m(z,F);F._isActive=h(z,F,N),V.call(i,k,F),V.call(w,k,F,E),V.on("click",function(){E._dragged||D.call("_guiRelayout",E,N)}),V.on("mouseover",function(){F._isHovered=!0,V.call(i,k,F)}),V.on("mouseout",function(){F._isHovered=!1,V.call(i,k,F)})}),L(E,U,k,z._name,b)})};function v(x){for(var E=e.list(x,"x",!0),S=[],a=0;a<E.length;a++){var C=E[a];C.rangeselector&&C.rangeselector.visible&&S.push(C)}return S}function T(x){return x._id}function h(x,E,S){if(E.step==="all")return x.autorange===!0;var a=Object.keys(S);return x.range[0]===S[a[0]]&&x.range[1]===S[a[1]]}function i(x,E,S){var a=d.ensureSingle(x,"rect","selector-rect",function(C){C.attr("shape-rendering","crispEdges")});a.attr({rx:c.rx,ry:c.ry}),a.call(P.stroke,E.bordercolor).call(P.fill,p(E,S)).style("stroke-width",E.borderwidth+"px")}function p(x,E){return E._isActive||E._isHovered?x.activecolor:x.bgcolor}function w(x,E,S,a){function C(z){r.convertToTspans(z,a)}var b=d.ensureSingle(x,"text","selector-text",function(z){z.attr("text-anchor","middle")});b.call(M.font,E.font).text(A(S,a._fullLayout._meta)).call(C)}function A(x,E){return x.label?E?d.templateString(x.label,E):x.label:x.step==="all"?"all":x.count+x.step.charAt(0)}function L(x,E,S,a,C){var b=0,z=0,k=S.borderwidth;E.each(function(){var H=y.select(this),X=H.select(".selector-text"),J=S.font.size*n,et=Math.max(J*r.lineCount(X),16)+3;z=Math.max(z,et)}),E.each(function(){var H=y.select(this),X=H.select(".selector-rect"),J=H.select(".selector-text"),et=J.node()&&M.bBox(J.node()).width,it=S.font.size*n,ft=r.lineCount(J),ot=Math.max(et+10,c.minButtonWidth);H.attr("transform",g(k+b,k)),X.attr({x:0,y:0,width:ot,height:z}),r.positionText(J,ot/2,z/2-(ft-1)*it/2+3),b+=ot+5});var U=x._fullLayout._size,F=U.l+U.w*S.x,V=U.t+U.h*(1-S.y),N="left";d.isRightAnchor(S)&&(F-=b,N="right"),d.isCenterAnchor(S)&&(F-=b/2,N="center");var O="top";d.isBottomAnchor(S)&&(V-=z,O="bottom"),d.isMiddleAnchor(S)&&(V-=z/2,O="middle"),b=Math.ceil(b),z=Math.ceil(z),F=Math.round(F),V=Math.round(V),s.autoMargin(x,a+"-range-selector",{x:S.x,y:S.y,l:b*u[N],r:b*f[N],b:z*f[O],t:z*u[O]}),C.attr("transform",g(F,V))}},48040:function(W,G,t){var y=t(73220),D=t(3400).titleCase;W.exports=function(M,d){var g=M._name,r={};if(d.step==="all")r[g+".autorange"]=!0;else{var e=s(M,d);r[g+".range[0]"]=e[0],r[g+".range[1]"]=e[1]}return r};function s(P,M){var d=P.range,g=new Date(P.r2l(d[1])),r=M.step,e=y["utc"+D(r)],o=M.count,n;switch(M.stepmode){case"backward":n=P.l2r(+e.offset(g,-o));break;case"todate":var u=e.offset(g,-o);n=P.l2r(+e.ceil(u));break}var f=d[1];return[n,f]}},41152:function(W,G,t){W.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t(26680)}}},layoutAttributes:t(26680),handleDefaults:t(22148),draw:t(50216)}},11200:function(W,G,t){var y=t(22548);W.exports={bgcolor:{valType:"color",dflt:y.background,editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(W,G,t){var y=t(79811).list,D=t(19280).getAutoRange,s=t(74636);W.exports=function(M){for(var d=y(M,"x",!0),g=0;g<d.length;g++){var r=d[g],e=r[s.name];e&&e.visible&&e.autorange&&(e._input.autorange=!0,e._input.range=e.range=D(M,r))}}},74636:function(W){W.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(W,G,t){var y=t(3400),D=t(31780),s=t(79811),P=t(11200),M=t(10936);W.exports=function(g,r,e){var o=g[e],n=r[e];if(!(o.rangeslider||r._requestRangeslider[n._id]))return;y.isPlainObject(o.rangeslider)||(o.rangeslider={});var u=o.rangeslider,f=D.newContainer(n,"rangeslider");function c(a,C){return y.coerce(u,f,P,a,C)}var m,v;function T(a,C){return y.coerce(m,v,M,a,C)}var h=c("visible");if(h){c("bgcolor",r.plot_bgcolor),c("bordercolor"),c("borderwidth"),c("thickness"),c("autorange",!n.isValidRange(u.range)),c("range");var i=r._subplots;if(i)for(var p=i.cartesian.filter(function(a){return a.substr(0,a.indexOf("y"))===s.name2id(e)}).map(function(a){return a.substr(a.indexOf("y"),a.length)}),w=y.simpleMap(p,s.id2name),A=0;A<w.length;A++){var L=w[A];m=u[L]||{},v=D.newContainer(f,L,"yaxis");var x=r[L],E;m.range&&x.isValidRange(m.range)&&(E="fixed");var S=T("rangemode",E);S!=="match"&&T("range",x.range.slice())}f._input=u}}},20060:function(W,G,t){var y=t(33428),D=t(24040),s=t(7316),P=t(3400),M=P.strTranslate,d=t(43616),g=t(76308),r=t(81668),e=t(57952),o=t(79811),n=t(86476),u=t(93972),f=t(74636);W.exports=function(E){for(var S=E._fullLayout,a=S._rangeSliderData,C=0;C<a.length;C++){var b=a[C][f.name];b._clipId=b._id+"-"+S._uid}function z(U){return U._name}var k=S._infolayer.selectAll("g."+f.containerClassName).data(a,z);k.exit().each(function(U){var F=U[f.name];S._topdefs.select("#"+F._clipId).remove()}).remove(),a.length!==0&&(k.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),k.each(function(U){var F=y.select(this),V=U[f.name],N=S[o.id2name(U.anchor)],O=V[o.id2name(U.anchor)];if(V.range){var H=P.simpleMap(V.range,U.r2l),X=P.simpleMap(U.range,U.r2l),J;X[0]<X[1]?J=[Math.min(H[0],X[0]),Math.max(H[1],X[1])]:J=[Math.max(H[0],X[0]),Math.min(H[1],X[1])],V.range=V._input.range=P.simpleMap(J,U.l2r)}U.cleanRange("rangeslider.range");var et=S._size,it=U.domain;V._width=et.w*(it[1]-it[0]);var ft=Math.round(et.l+et.w*it[0]),ot=Math.round(et.t+et.h*(1-U._counterDomainMin)+(U.side==="bottom"?U._depth:0)+V._offsetShift+f.extraPad);F.attr("transform",M(ft,ot)),V._rl=P.simpleMap(V.range,U.r2l);var Q=V._rl[0],tt=V._rl[1],Z=tt-Q;if(V.p2d=function(bt){return bt/V._width*Z+Q},V.d2p=function(bt){return(bt-Q)/Z*V._width},U.rangebreaks){var q=U.locateBreaks(Q,tt);if(q.length){var ut,$,j=0;for(ut=0;ut<q.length;ut++)$=q[ut],j+=$.max-$.min;var lt=V._width/(tt-Q-j),nt=[-lt*Q];for(ut=0;ut<q.length;ut++)$=q[ut],nt.push(nt[nt.length-1]-lt*($.max-$.min));for(V.d2p=function(bt){for(var Pt=nt[0],_t=0;_t<q.length;_t++){var Ut=q[_t];if(bt>=Ut.max)Pt=nt[_t+1];else if(bt<Ut.min)break}return Pt+lt*bt},ut=0;ut<q.length;ut++)$=q[ut],$.pmin=V.d2p($.min),$.pmax=V.d2p($.max);V.p2d=function(bt){for(var Pt=nt[0],_t=0;_t<q.length;_t++){var Ut=q[_t];if(bt>=Ut.pmax)Pt=nt[_t+1];else if(bt<Ut.pmin)break}return(bt-Pt)/lt}}}if(O.rangemode!=="match"){var ht=N.r2l(O.range[0]),mt=N.r2l(O.range[1]),At=mt-ht;V.d2pOppAxis=function(bt){return(bt-ht)/At*V._height}}F.call(h,E,U,V).call(i,E,U,V).call(p,E,U,V).call(A,E,U,V,O).call(L,E,U,V).call(x,E,U,V),m(F,E,U,V),T(F,E,U,V,N,O),U.side==="bottom"&&r.draw(E,U._id+"title",{propContainer:U,propName:U._name+".title",placeholder:S._dfltTitle.x,attributes:{x:U._offset+U._length/2,y:ot+V._height+V._offsetShift+10+1.5*U.title.font.size,"text-anchor":"middle"}})}))};function c(E){return typeof E.clientX=="number"?E.clientX:E.touches&&E.touches.length>0?E.touches[0].clientX:0}function m(E,S,a,C){if(S._context.staticPlot)return;var b=E.select("rect."+f.slideBoxClassName).node(),z=E.select("rect."+f.grabAreaMinClassName).node(),k=E.select("rect."+f.grabAreaMaxClassName).node();function U(){var F=y.event,V=F.target,N=c(F),O=N-E.node().getBoundingClientRect().left,H=C.d2p(a._rl[0]),X=C.d2p(a._rl[1]),J=n.coverSlip();this.addEventListener("touchmove",et),this.addEventListener("touchend",it),J.addEventListener("mousemove",et),J.addEventListener("mouseup",it);function et(ft){var ot=c(ft),Q=+ot-N,tt,Z,q;switch(V){case b:if(q="ew-resize",H+Q>a._length||X+Q<0)return;tt=H+Q,Z=X+Q;break;case z:if(q="col-resize",H+Q>a._length)return;tt=H+Q,Z=X;break;case k:if(q="col-resize",X+Q<0)return;tt=H,Z=X+Q;break;default:q="ew-resize",tt=O,Z=O+Q;break}if(Z<tt){var ut=Z;Z=tt,tt=ut}C._pixelMin=tt,C._pixelMax=Z,u(y.select(J),q),v(E,S,a,C)}function it(){J.removeEventListener("mousemove",et),J.removeEventListener("mouseup",it),this.removeEventListener("touchmove",et),this.removeEventListener("touchend",it),P.removeElement(J)}}E.on("mousedown",U),E.on("touchstart",U)}function v(E,S,a,C){function b(U){return a.l2r(P.constrain(U,C._rl[0],C._rl[1]))}var z=b(C.p2d(C._pixelMin)),k=b(C.p2d(C._pixelMax));window.requestAnimationFrame(function(){D.call("_guiRelayout",S,a._name+".range",[z,k])})}function T(E,S,a,C,b,z){var k=f.handleWidth/2;function U(ft){return P.constrain(ft,0,C._width)}function F(ft){return P.constrain(ft,0,C._height)}function V(ft){return P.constrain(ft,-k,C._width+k)}var N=U(C.d2p(a._rl[0])),O=U(C.d2p(a._rl[1]));if(E.select("rect."+f.slideBoxClassName).attr("x",N).attr("width",O-N),E.select("rect."+f.maskMinClassName).attr("width",N),E.select("rect."+f.maskMaxClassName).attr("x",O).attr("width",C._width-O),z.rangemode!=="match"){var H=C._height-F(C.d2pOppAxis(b._rl[1])),X=C._height-F(C.d2pOppAxis(b._rl[0]));E.select("rect."+f.maskMinOppAxisClassName).attr("x",N).attr("height",H).attr("width",O-N),E.select("rect."+f.maskMaxOppAxisClassName).attr("x",N).attr("y",X).attr("height",C._height-X).attr("width",O-N),E.select("rect."+f.slideBoxClassName).attr("y",H).attr("height",X-H)}var J=.5,et=Math.round(V(N-k))-J,it=Math.round(V(O-k))+J;E.select("g."+f.grabberMinClassName).attr("transform",M(et,J)),E.select("g."+f.grabberMaxClassName).attr("transform",M(it,J))}function h(E,S,a,C){var b=P.ensureSingle(E,"rect",f.bgClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),z=C.borderwidth%2===0?C.borderwidth:C.borderwidth-1,k=-C._offsetShift,U=d.crispRound(S,C.borderwidth);b.attr({width:C._width+z,height:C._height+z,transform:M(k,k),"stroke-width":U}).call(g.stroke,C.bordercolor).call(g.fill,C.bgcolor)}function i(E,S,a,C){var b=S._fullLayout,z=P.ensureSingleById(b._topdefs,"clipPath",C._clipId,function(k){k.append("rect").attr({x:0,y:0})});z.select("rect").attr({width:C._width,height:C._height})}function p(E,S,a,C){var b=S.calcdata,z=E.selectAll("g."+f.rangePlotClassName).data(a._subplotsWith,P.identity);z.enter().append("g").attr("class",function(U){return f.rangePlotClassName+" "+U}).call(d.setClipUrl,C._clipId,S),z.order(),z.exit().remove();var k;z.each(function(U,F){var V=y.select(this),N=F===0,O=o.getFromId(S,U,"y"),H=O._name,X=C[H],J={data:[],layout:{xaxis:{type:a.type,domain:[0,1],range:C.range.slice(),calendar:a.calendar},width:C._width,height:C._height,margin:{t:0,b:0,l:0,r:0}},_context:S._context};a.rangebreaks&&(J.layout.xaxis.rangebreaks=a.rangebreaks),J.layout[H]={type:O.type,domain:[0,1],range:X.rangemode!=="match"?X.range.slice():O.range.slice(),calendar:O.calendar},O.rangebreaks&&(J.layout[H].rangebreaks=O.rangebreaks),s.supplyDefaults(J);var et=J._fullLayout.xaxis,it=J._fullLayout[H];et.clearCalc(),et.setScale(),it.clearCalc(),it.setScale();var ft={id:U,plotgroup:V,xaxis:et,yaxis:it,isRangePlot:!0};N?k=ft:(ft.mainplot="xy",ft.mainplotinfo=k),e.rangePlot(S,ft,w(b,U))})}function w(E,S){for(var a=[],C=0;C<E.length;C++){var b=E[C],z=b[0].trace;z.xaxis+z.yaxis===S&&a.push(b)}return a}function A(E,S,a,C,b){var z=P.ensureSingle(E,"rect",f.maskMinClassName,function(V){V.attr({x:0,y:0,"shape-rendering":"crispEdges"})});z.attr("height",C._height).call(g.fill,f.maskColor);var k=P.ensureSingle(E,"rect",f.maskMaxClassName,function(V){V.attr({y:0,"shape-rendering":"crispEdges"})});if(k.attr("height",C._height).call(g.fill,f.maskColor),b.rangemode!=="match"){var U=P.ensureSingle(E,"rect",f.maskMinOppAxisClassName,function(V){V.attr({y:0,"shape-rendering":"crispEdges"})});U.attr("width",C._width).call(g.fill,f.maskOppAxisColor);var F=P.ensureSingle(E,"rect",f.maskMaxOppAxisClassName,function(V){V.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",C._width).style("border-top",f.maskOppBorder).call(g.fill,f.maskOppAxisColor)}}function L(E,S,a,C){if(!S._context.staticPlot){var b=P.ensureSingle(E,"rect",f.slideBoxClassName,function(z){z.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})});b.attr({height:C._height,fill:f.slideBoxFill})}}function x(E,S,a,C){var b=P.ensureSingle(E,"g",f.grabberMinClassName),z=P.ensureSingle(E,"g",f.grabberMaxClassName),k={x:0,width:f.handleWidth,rx:f.handleRadius,fill:g.background,stroke:g.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},U={y:Math.round(C._height/4),height:Math.round(C._height/2)},F=P.ensureSingle(b,"rect",f.handleMinClassName,function(X){X.attr(k)});F.attr(U);var V=P.ensureSingle(z,"rect",f.handleMaxClassName,function(X){X.attr(k)});V.attr(U);var N={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:S._context.staticPlot?void 0:f.grabAreaCursor},O=P.ensureSingle(b,"rect",f.grabAreaMinClassName,function(X){X.attr(N)});O.attr("height",C._height);var H=P.ensureSingle(z,"rect",f.grabAreaMaxClassName,function(X){X.attr(N)});H.attr("height",C._height)}},97944:function(W,G,t){var y=t(79811),D=t(72736),s=t(74636),P=t(84284).LINE_SPACING,M=s.name;function d(g){var r=g&&g[M];return r&&r.visible}G.isVisible=d,G.makeData=function(g){var r=y.list({_fullLayout:g},"x",!0),e=g.margin,o=[];if(!g._has("gl2d"))for(var n=0;n<r.length;n++){var u=r[n];if(d(u)){o.push(u);var f=u[M];f._id=M+u._id,f._height=(g.height-e.b-e.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}g._rangeSliderData=o},G.autoMarginOpts=function(g,r){var e=g._fullLayout,o=r[M],n=r._id.charAt(0),u=0,f=0;if(r.side==="bottom"&&(u=r._depth,r.title.text!==e._dfltTitle[n])){f=1.5*r.title.font.size+10+o._offsetShift;var c=(r.title.text.match(D.BR_TAG_ALL)||[]).length;f+=c*r.title.font.size*P}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:o._height+u+Math.max(e.margin.b,f),pad:s.extraPad+o._offsetShift*2}}},49692:function(W,G,t){var y=t(3400),D=t(11200),s=t(10936),P=t(97944);W.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:y.extendFlat({},D,{yaxis:s})}}},layoutAttributes:t(11200),handleDefaults:t(94040),calcAutorange:t(26652),draw:t(20060),isVisible:P.isVisible,makeData:P.makeData,autoMarginOpts:P.autoMarginOpts}},10936:function(W){W.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(W,G,t){var y=t(13916),D=t(52904).line,s=t(98192).u,P=t(92880).extendFlat,M=t(67824).overrideAll,d=t(31780).templatedArray;t(36208),W.exports=M(d("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:P({},y.xref,{}),yref:P({},y.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:D.color,width:P({},D.width,{min:1,dflt:1}),dash:P({},s,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(W){W.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(W,G,t){var y=t(3400),D=t(54460),s=t(51272),P=t(93956),M=t(65152);W.exports=function(r,e){s(r,e,{name:"selections",handleItemDefaults:d});for(var o=e.selections,n=0;n<o.length;n++){var u=o[n];u&&u.path===void 0&&(u.x0===void 0||u.x1===void 0||u.y0===void 0||u.y1===void 0)&&(e.selections[n]=null)}};function d(g,r,e){function o(b,z){return y.coerce(g,r,P,b,z)}var n=o("path"),u=n?"path":"rect",f=o("type",u),c=f!=="path";c&&delete r.path,o("opacity"),o("line.color"),o("line.width"),o("line.dash");for(var m=["x","y"],v=0;v<2;v++){var T=m[v],h={_fullLayout:e},i,p,w,A=D.coerceRef(g,r,h,T);if(i=D.getFromId(h,A),i._selectionIndices.push(r._index),w=M.rangeToShapePosition(i),p=M.shapePositionToRange(i),c){var L=T+"0",x=T+"1",E=g[L],S=g[x];g[L]=p(g[L],!0),g[x]=p(g[x],!0),D.coercePosition(r,h,o,A,L),D.coercePosition(r,h,o,A,x);var a=r[L],C=r[x];a!==void 0&&C!==void 0&&(r[L]=w(a),r[x]=w(C),g[L]=E,g[x]=S)}}c&&y.noneOrAll(g,r,["x0","x1","y0","y1"])}},23640:function(W,G,t){var y=t(9856).readPaths,D=t(55496),s=t(1936).clearOutlineControllers,P=t(76308),M=t(43616),d=t(31780).arrayEditor,g=t(65152),r=g.getPathString;W.exports={draw:e,drawOne:n,activateLastSelection:c};function e(v){var T=v._fullLayout;s(v),T._selectionLayer.selectAll("path").remove();for(var h in T._plots){var i=T._plots[h].selectionLayer;i&&i.selectAll("path").remove()}for(var p=0;p<T.selections.length;p++)n(v,p)}function o(v){return v._context.editSelection}function n(v,T){v._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var h=g.makeSelectionsOptionsAndPlotinfo(v,T),i=h.options,p=h.plotinfo;if(!i._input)return;w(v._fullLayout._selectionLayer);function w(A){var L=r(v,i),x={"data-index":T,"fill-rule":"evenodd",d:L},E=i.opacity,S="rgba(0,0,0,0)",a=i.line.color||P.contrast(v._fullLayout.plot_bgcolor),C=i.line.width,b=i.line.dash;C||(C=5,b="solid");var z=o(v)&&v._fullLayout._activeSelectionIndex===T;z&&(S=v._fullLayout.activeselection.fillcolor,E=v._fullLayout.activeselection.opacity);for(var k=[],U=1;U>=0;U--){var F=A.append("path").attr(x).style("opacity",U?.1:E).call(P.stroke,a).call(P.fill,S).call(M.dashLine,U?"solid":b,U?4+C:C);if(u(F,v,i),z){var V=d(v.layout,"selections",i);F.style({cursor:"move"});var N={element:F.node(),plotinfo:p,gd:v,editHelpers:V,isActiveSelection:!0},O=y(L,v);D(O,F,N)}else F.style("pointer-events",U?"all":"none");k[U]=F}var H=k[0],X=k[1];X.node().addEventListener("click",function(){return f(v,H)})}}function u(v,T,h){var i=h.xref+h.yref;M.setClipUrl(v,"clip"+T._fullLayout._uid+i,T)}function f(v,T){if(o(v)){var h=T.node(),i=+h.getAttribute("data-index");if(i>=0){if(i===v._fullLayout._activeSelectionIndex){m(v);return}v._fullLayout._activeSelectionIndex=i,v._fullLayout._deactivateSelection=m,e(v)}}}function c(v){if(o(v)){var T=v._fullLayout.selections.length-1;v._fullLayout._activeSelectionIndex=T,v._fullLayout._deactivateSelection=m,e(v)}}function m(v){if(o(v)){var T=v._fullLayout._activeSelectionIndex;T>=0&&(s(v),delete v._fullLayout._activeSelectionIndex,e(v))}}},34200:function(W,G,t){var y=t(98192).u,D=t(92880).extendFlat;W.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:D({},y,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(W){W.exports=function(t,y,D){D("newselection.mode");var s=D("newselection.line.width");s&&(D("newselection.line.color"),D("newselection.line.dash")),D("activeselection.fillcolor"),D("activeselection.opacity")}},5968:function(W,G,t){var y=t(72760),D=y.selectMode,s=t(1936),P=s.clearOutline,M=t(9856),d=M.readPaths,g=M.writePaths,r=M.fixDatesForPaths;W.exports=function(o,n){if(o.length){var u=o[0][0];if(u){var f=u.getAttribute("d"),c=n.gd,m=c._fullLayout.newselection,v=n.plotinfo,T=v.xaxis,h=v.yaxis,i=n.isActiveSelection,p=n.dragmode,w=(c.layout||{}).selections||[];if(!D(p)&&i!==void 0){var A=c._fullLayout._activeSelectionIndex;if(A<w.length)switch(c._fullLayout.selections[A].type){case"rect":p="select";break;case"path":p="lasso";break}}var L=d(f,c,v,i),x={xref:T._id,yref:h._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},E;L.length===1&&(E=L[0]),E&&E.length===5&&p==="select"?(x.type="rect",x.x0=E[0][1],x.y0=E[0][2],x.x1=E[2][1],x.y1=E[2][2]):(x.type="path",T&&h&&r(L,T,h),x.path=g(L),E=null),P(c);for(var S=n.editHelpers,a=(S||{}).modifyItem,C=[],b=0;b<w.length;b++){var z=c._fullLayout.selections[b];if(!z){C[b]=z;continue}if(C[b]=z._input,i!==void 0&&b===c._fullLayout._activeSelectionIndex){var k=x;switch(z.type){case"rect":a("x0",k.x0),a("x1",k.x1),a("y0",k.y0),a("y1",k.y1);break;case"path":a("path",k.path);break}}}return i===void 0?(C.push(x),C):S?S.getUpdateObj():{}}}}},5840:function(W,G,t){var y=t(3400).strTranslate;function D(d,g){switch(d.type){case"log":return d.p2d(g);case"date":return d.p2r(g,0,d.calendar);default:return d.p2r(g)}}function s(d,g){switch(d.type){case"log":return d.d2p(g);case"date":return d.r2p(g,0,d.calendar);default:return d.r2p(g)}}function P(d){var g=d._id.charAt(0)==="y"?1:0;return function(r){return D(d,r[g])}}function M(d){return y(d.xaxis._offset,d.yaxis._offset)}W.exports={p2r:D,r2p:s,axValue:P,getTransform:M}},22676:function(W,G,t){var y=t(23640),D=t(43156);W.exports={moduleType:"component",name:"selections",layoutAttributes:t(93956),supplyLayoutDefaults:t(74224),supplyDrawNewSelectionDefaults:t(81004),includeBasePlot:t(36632)("selections"),draw:y.draw,drawOne:y.drawOne,reselect:D.reselect,prepSelect:D.prepSelect,clearOutline:D.clearOutline,clearSelectionsCache:D.clearSelectionsCache,selectOnClick:D.selectOnClick}},43156:function(W,G,t){var y=t(14756),D=t(61456),s=t(24040),P=t(43616).dashStyle,M=t(76308),d=t(93024),g=t(10624).makeEventData,r=t(72760),e=r.freeMode,o=r.rectMode,n=r.drawMode,u=r.openMode,f=r.selectMode,c=t(65152),m=t(85448),v=t(55496),T=t(1936).clearOutline,h=t(9856),i=h.handleEllipse,p=h.readPaths,w=t(93940).newShapes,A=t(5968),L=t(23640).activateLastSelection,x=t(3400),E=x.sorterAsc,S=t(92065),a=t(91200),C=t(79811).getFromId,b=t(73696),z=t(39172).redrawReglTraces,k=t(83280),U=k.MINSELECT,F=S.filter,V=S.tester,N=t(5840),O=N.p2r,H=N.axValue,X=N.getTransform;function J(Zt){return Zt.subplot!==void 0}function et(Zt,It,Nt,Ht,Lt){var dt=!J(Ht),xt=e(Lt),Ot=o(Lt),jt=u(Lt),ie=n(Lt),le=f(Lt),Ve=Lt==="drawline",je=Lt==="drawcircle",Te=Ve||je,Le=Ht.gd,Ke=Le._fullLayout,vr=le&&Ke.newselection.mode==="immediate"&&dt,ge=Ke._zoomlayer,Xe=Ht.element.getBoundingClientRect(),$e=Ht.plotinfo,mr=X($e),or=It-Xe.left,ye=Nt-Xe.top;Ke._calcInverseTransform(Le);var ue=x.apply3DTransform(Ke._invTransform)(or,ye);or=ue[0],ye=ue[1];var be=Ke._invScaleX,Ee=Ke._invScaleY,_e=or,Oe=ye,Fe="M"+or+","+ye,Be=Ht.xaxes[0],Je=Ht.yaxes[0],hr=Be._length,cr=Je._length,dr=Zt.altKey&&!(n(Lt)&&jt),fr,Lr,xr,Qt,re,tr,er;Z(Zt,Le,Ht),xt&&(fr=F([[or,ye]],k.BENDPX));var Ye=ge.selectAll("path.select-outline-"+$e.id).data([1]),Pe=ie?Ke.newshape:Ke.newselection;ie&&(Ht.hasText=Pe.label.text||Pe.label.texttemplate);var Ze=ie&&!jt?Pe.fillcolor:"rgba(0,0,0,0)",nr=Pe.line.color||(dt?M.contrast(Le._fullLayout.plot_bgcolor):"#7f7f7f");Ye.enter().append("path").attr("class","select-outline select-outline-"+$e.id).style({opacity:ie?Pe.opacity/2:1,"stroke-dasharray":P(Pe.line.dash,Pe.line.width),"stroke-width":Pe.line.width+"px","shape-rendering":"crispEdges"}).call(M.stroke,nr).call(M.fill,Ze).attr("fill-rule","evenodd").classed("cursor-move",!!ie).attr("transform",mr).attr("d",Fe+"Z");var Qe=ge.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1}).attr("transform",mr).attr("d","M0,0Z");if(ie&&Ht.hasText){var We=ge.select(".label-temp");We.empty()&&(We=ge.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var yr=Ke._uid+k.SELECTID,Rr=[],Tr=lt(Le,Ht.xaxes,Ht.yaxes,Ht.subplot);vr&&!Zt.shiftKey&&(Ht._clearSubplotSelections=function(){if(dt){var Or=Be._id,En=Je._id;oe(Le,Or,En,Tr);for(var nn=(Le.layout||{}).selections||[],gr=[],Pr=!1,jr=0;jr<nn.length;jr++){var _r=Ke.selections[jr];_r.xref!==Or||_r.yref!==En?gr.push(nn[jr]):Pr=!0}Pr&&(Le._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Le,{selections:gr}))}});var vn=ne(Ht);Ht.moveFn=function(Or,En){Ht._clearSubplotSelections&&(Ht._clearSubplotSelections(),Ht._clearSubplotSelections=void 0),_e=Math.max(0,Math.min(hr,be*Or+or)),Oe=Math.max(0,Math.min(cr,Ee*En+ye));var nn=Math.abs(_e-or),gr=Math.abs(Oe-ye);if(Ot){var Pr,jr,_r;if(le){var pn=Ke.selectdirection;switch(pn==="any"?gr<Math.min(nn*.6,U)?Pr="h":nn<Math.min(gr*.6,U)?Pr="v":Pr="d":Pr=pn,Pr){case"h":jr=je?cr/2:0,_r=cr;break;case"v":jr=je?hr/2:0,_r=hr;break}}if(ie)switch(Ke.newshape.drawdirection){case"vertical":Pr="h",jr=je?cr/2:0,_r=cr;break;case"horizontal":Pr="v",jr=je?hr/2:0,_r=hr;break;case"ortho":nn<gr?(Pr="h",jr=ye,_r=Oe):(Pr="v",jr=or,_r=_e);break;default:Pr="d"}Pr==="h"?(Qt=Te?i(je,[_e,jr],[_e,_r]):[[or,jr],[or,_r],[_e,_r],[_e,jr]],Qt.xmin=Te?_e:Math.min(or,_e),Qt.xmax=Te?_e:Math.max(or,_e),Qt.ymin=Math.min(jr,_r),Qt.ymax=Math.max(jr,_r),Qe.attr("d","M"+Qt.xmin+","+(ye-U)+"h-4v"+2*U+"h4ZM"+(Qt.xmax-1)+","+(ye-U)+"h4v"+2*U+"h-4Z")):Pr==="v"?(Qt=Te?i(je,[jr,Oe],[_r,Oe]):[[jr,ye],[jr,Oe],[_r,Oe],[_r,ye]],Qt.xmin=Math.min(jr,_r),Qt.xmax=Math.max(jr,_r),Qt.ymin=Te?Oe:Math.min(ye,Oe),Qt.ymax=Te?Oe:Math.max(ye,Oe),Qe.attr("d","M"+(or-U)+","+Qt.ymin+"v-4h"+2*U+"v4ZM"+(or-U)+","+(Qt.ymax-1)+"v4h"+2*U+"v-4Z")):Pr==="d"&&(Qt=Te?i(je,[or,ye],[_e,Oe]):[[or,ye],[or,Oe],[_e,Oe],[_e,ye]],Qt.xmin=Math.min(or,_e),Qt.xmax=Math.max(or,_e),Qt.ymin=Math.min(ye,Oe),Qt.ymax=Math.max(ye,Oe),Qe.attr("d","M0,0Z"))}else xt&&(fr.addPt([_e,Oe]),Qt=fr.filtered);if(Ht.selectionDefs&&Ht.selectionDefs.length?(xr=St(Ht.mergedPolygons,Qt,dr),Qt.subtract=dr,Lr=tt(Ht.selectionDefs.concat([Qt]))):(xr=[Qt],Lr=V(Qt)),v(Et(xr,jt),Ye,Ht),le){var en=Ct(Le,!1),Tn=en.eventData?en.eventData.points.slice():[];en=Ct(Le,!1,Lr,Tr,Ht),Lr=en.selectionTesters,er=en.eventData;var Pn;fr?Pn=fr.filtered:Pn=de(xr),a.throttle(yr,k.SELECTDELAY,function(){Rr=zt(Lr,Tr);for(var Gn=Rr.slice(),gi=0;gi<Tn.length;gi++){for(var bi=Tn[gi],oi=!1,ni=0;ni<Gn.length;ni++)if(Gn[ni].curveNumber===bi.curveNumber&&Gn[ni].pointNumber===bi.pointNumber){oi=!0;break}oi||Gn.push(bi)}Gn.length&&(er||(er={}),er.points=Gn),vn(er,Pn),kt(Le,er)})}},Ht.clickFn=function(Or,En){if(Qe.remove(),Le._fullLayout._activeShapeIndex>=0){Le._fullLayout._deactivateShape(Le);return}if(!ie){var nn=Ke.clickmode;a.done(yr).then(function(){if(a.clear(yr),Or===2){for(Ye.remove(),re=0;re<Tr.length;re++)tr=Tr[re],tr._module.selectPoints(tr,!1);if(_t(Le,Tr),$(Ht),Yt(Le),Tr.length){var gr=Tr[0].xaxis,Pr=Tr[0].yaxis;if(gr&&Pr){for(var jr=[],_r=Le._fullLayout.selections,pn=0;pn<_r.length;pn++){var en=_r[pn];en&&(en.xref!==gr._id||en.yref!==Pr._id)&&jr.push(en)}jr.length<_r.length&&(Le._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Le,{selections:jr}))}}}else nn.indexOf("select")>-1&&it(En,Le,Ht.xaxes,Ht.yaxes,Ht.subplot,Ht,Ye),nn==="event"&&Gt(Le,void 0);d.click(Le,En,$e.id)}).catch(x.error)}},Ht.doneFn=function(){Qe.remove(),a.done(yr).then(function(){a.clear(yr),!vr&&Qt&&Ht.selectionDefs&&(Qt.subtract=dr,Ht.selectionDefs.push(Qt),Ht.mergedPolygons.length=0,[].push.apply(Ht.mergedPolygons,xr)),(vr||ie)&&$(Ht,vr),Ht.doneFnCompleted&&Ht.doneFnCompleted(Rr),le&&Gt(Le,er)}).catch(x.error)}}function it(Zt,It,Nt,Ht,Lt,dt,xt){var Ot=It._hoverdata,jt=It._fullLayout,ie=jt.clickmode,le=ie.indexOf("event")>-1,Ve=[],je,Te,Le,Ke,vr,ge,Xe,$e,mr,or;if(ht(Ot)){Z(Zt,It,dt),je=lt(It,Nt,Ht,Lt);var ye=mt(Ot,je),ue=ye.pointNumbers.length>0;if(ue?bt(je,ye):Pt(je)&&(Xe=At(ye))){for(xt&&xt.remove(),or=0;or<je.length;or++)Te=je[or],Te._module.selectPoints(Te,!1);_t(It,je),$(dt),le&&Yt(It)}else{$e=Zt.shiftKey&&(Xe!==void 0?Xe:At(ye)),Le=ft(ye.pointNumber,ye.searchInfo,$e);var be=dt.selectionDefs.concat([Le]);for(Ke=tt(be),or=0;or<je.length;or++)if(vr=je[or]._module.selectPoints(je[or],Ke),ge=Rt(vr,je[or]),Ve.length)for(var Ee=0;Ee<ge.length;Ee++)Ve.push(ge[Ee]);else Ve=ge;if(mr={points:Ve},_t(It,je,mr),Le&&dt&&dt.selectionDefs.push(Le),xt){var _e=dt.mergedPolygons,Oe=u(dt.dragmode);v(Et(_e,Oe),xt,dt)}le&&Gt(It,mr)}}}function ft(Zt,It,Nt){return{pointNumber:Zt,searchInfo:It,subtract:!!Nt}}function ot(Zt){return"pointNumber"in Zt&&"searchInfo"in Zt}function Q(Zt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(It,Nt,Ht,Lt){var dt=Zt.searchInfo.cd[0].trace._expandedIndex,xt=Lt.cd[0].trace._expandedIndex;return xt===dt&&Ht===Zt.pointNumber},isRect:!1,degenerate:!1,subtract:!!Zt.subtract}}function tt(Zt){if(!Zt.length)return;for(var It=[],Nt=ot(Zt[0])?0:Zt[0][0][0],Ht=Nt,Lt=ot(Zt[0])?0:Zt[0][0][1],dt=Lt,xt=0;xt<Zt.length;xt++)if(ot(Zt[xt]))It.push(Q(Zt[xt]));else{var Ot=V(Zt[xt]);Ot.subtract=!!Zt[xt].subtract,It.push(Ot),Nt=Math.min(Nt,Ot.xmin),Ht=Math.max(Ht,Ot.xmax),Lt=Math.min(Lt,Ot.ymin),dt=Math.max(dt,Ot.ymax)}function jt(ie,le,Ve,je){for(var Te=!1,Le=0;Le<It.length;Le++)It[Le].contains(ie,le,Ve,je)&&(Te=!It[Le].subtract);return Te}return{xmin:Nt,xmax:Ht,ymin:Lt,ymax:dt,pts:[],contains:jt,isRect:!1,degenerate:!1}}function Z(Zt,It,Nt){var Ht=It._fullLayout,Lt=Nt.plotinfo,dt=Nt.dragmode,xt=Ht._lastSelectedSubplot&&Ht._lastSelectedSubplot===Lt.id,Ot=(Zt.shiftKey||Zt.altKey)&&!(n(dt)&&u(dt));xt&&Ot&&Lt.selection&&Lt.selection.selectionDefs&&!Nt.selectionDefs?(Nt.selectionDefs=Lt.selection.selectionDefs,Nt.mergedPolygons=Lt.selection.mergedPolygons):(!Ot||!Lt.selection)&&$(Nt),xt||(T(It),Ht._lastSelectedSubplot=Lt.id)}function q(Zt){return Zt._fullLayout._activeShapeIndex>=0}function ut(Zt){return Zt._fullLayout._activeSelectionIndex>=0}function $(Zt,It){var Nt=Zt.dragmode,Ht=Zt.plotinfo,Lt=Zt.gd;q(Lt)&&Lt._fullLayout._deactivateShape(Lt),ut(Lt)&&Lt._fullLayout._deactivateSelection(Lt);var dt=Lt._fullLayout,xt=dt._zoomlayer,Ot=n(Nt),jt=f(Nt);if(Ot||jt){var ie=xt.selectAll(".select-outline-"+Ht.id);if(ie&&Lt._fullLayout._outlining){var le;Ot&&(le=w(ie,Zt)),le&&s.call("_guiRelayout",Lt,{shapes:le});var Ve;jt&&!J(Zt)&&(Ve=A(ie,Zt)),Ve&&(Lt._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Lt,{selections:Ve}).then(function(){It&&L(Lt)})),Lt._fullLayout._outlining=!1}}Ht.selection={},Ht.selection.selectionDefs=Zt.selectionDefs=[],Ht.selection.mergedPolygons=Zt.mergedPolygons=[]}function j(Zt){return Zt._id}function lt(Zt,It,Nt,Ht){if(!Zt.calcdata)return[];var Lt=[],dt=It.map(j),xt=Nt.map(j),Ot,jt,ie;for(ie=0;ie<Zt.calcdata.length;ie++)if(Ot=Zt.calcdata[ie],jt=Ot[0].trace,!(jt.visible!==!0||!jt._module||!jt._module.selectPoints))if(J({subplot:Ht})&&(jt.subplot===Ht||jt.geo===Ht))Lt.push(nt(jt._module,Ot,It[0],Nt[0]));else if(jt.type==="splom"){if(jt._xaxes[dt[0]]&&jt._yaxes[xt[0]]){var le=nt(jt._module,Ot,It[0],Nt[0]);le.scene=Zt._fullLayout._splomScenes[jt.uid],Lt.push(le)}}else if(jt.type==="sankey"){var Ve=nt(jt._module,Ot,It[0],Nt[0]);Lt.push(Ve)}else{if(dt.indexOf(jt.xaxis)===-1&&(!jt._xA||!jt._xA.overlaying)||xt.indexOf(jt.yaxis)===-1&&(!jt._yA||!jt._yA.overlaying))continue;Lt.push(nt(jt._module,Ot,C(Zt,jt.xaxis),C(Zt,jt.yaxis)))}return Lt}function nt(Zt,It,Nt,Ht){return{_module:Zt,cd:It,xaxis:Nt,yaxis:Ht}}function ht(Zt){return Zt&&Array.isArray(Zt)&&Zt[0].hoverOnBox!==!0}function mt(Zt,It){var Nt=Zt[0],Ht=-1,Lt=[],dt,xt;for(xt=0;xt<It.length;xt++)if(dt=It[xt],Nt.fullData._expandedIndex===dt.cd[0].trace._expandedIndex){if(Nt.hoverOnBox===!0)break;Nt.pointNumber!==void 0?Ht=Nt.pointNumber:Nt.binNumber!==void 0&&(Ht=Nt.binNumber,Lt=Nt.pointNumbers);break}return{pointNumber:Ht,pointNumbers:Lt,searchInfo:dt}}function At(Zt){var It=Zt.searchInfo.cd[0].trace,Nt=Zt.pointNumber,Ht=Zt.pointNumbers,Lt=Ht.length>0,dt=Lt?Ht[0]:Nt;return It.selectedpoints?It.selectedpoints.indexOf(dt)>-1:!1}function bt(Zt,It){var Nt=[],Ht,Lt,dt,xt;for(xt=0;xt<Zt.length;xt++)Ht=Zt[xt],Ht.cd[0].trace.selectedpoints&&Ht.cd[0].trace.selectedpoints.length>0&&Nt.push(Ht);if(Nt.length===1&&(dt=Nt[0]===It.searchInfo,dt&&(Lt=It.searchInfo.cd[0].trace,Lt.selectedpoints.length===It.pointNumbers.length))){for(xt=0;xt<It.pointNumbers.length;xt++)if(Lt.selectedpoints.indexOf(It.pointNumbers[xt])<0)return!1;return!0}return!1}function Pt(Zt){var It=0,Nt,Ht,Lt;for(Lt=0;Lt<Zt.length;Lt++)if(Nt=Zt[Lt],Ht=Nt.cd[0].trace,Ht.selectedpoints&&(Ht.selectedpoints.length>1||(It+=Ht.selectedpoints.length,It>1)))return!1;return It===1}function _t(Zt,It,Nt){var Ht;for(Ht=0;Ht<It.length;Ht++){var Lt=It[Ht].cd[0].trace._fullInput,dt=Zt._fullLayout._tracePreGUI[Lt.uid]||{};dt.selectedpoints===void 0&&(dt.selectedpoints=Lt._input.selectedpoints||null)}var xt;if(Nt){var Ot=Nt.points||[];for(Ht=0;Ht<It.length;Ht++)xt=It[Ht].cd[0].trace,xt._input.selectedpoints=xt._fullInput.selectedpoints=[],xt._fullInput!==xt&&(xt.selectedpoints=[]);for(var jt=0;jt<Ot.length;jt++){var ie=Ot[jt],le=ie.data,Ve=ie.fullData,je=ie.pointIndex,Te=ie.pointIndices;Te?([].push.apply(le.selectedpoints,Te),xt._fullInput!==xt&&[].push.apply(Ve.selectedpoints,Te)):(le.selectedpoints.push(je),xt._fullInput!==xt&&Ve.selectedpoints.push(je))}}else for(Ht=0;Ht<It.length;Ht++)xt=It[Ht].cd[0].trace,delete xt.selectedpoints,delete xt._input.selectedpoints,xt._fullInput!==xt&&delete xt._fullInput.selectedpoints;Ut(Zt,It)}function Ut(Zt,It){for(var Nt=!1,Ht=0;Ht<It.length;Ht++){var Lt=It[Ht],dt=Lt.cd;s.traceIs(dt[0].trace,"regl")&&(Nt=!0);var xt=Lt._module,Ot=xt.styleOnSelect||xt.style;Ot&&(Ot(Zt,dt,dt[0].node3),dt[0].nodeRangePlot3&&Ot(Zt,dt,dt[0].nodeRangePlot3))}Nt&&(b(Zt),z(Zt))}function St(Zt,It,Nt){for(var Ht=Nt?y.difference:y.union,Lt=Ht({regions:Zt},{regions:[It]}),dt=Lt.regions.reverse(),xt=0;xt<dt.length;xt++){var Ot=dt[xt];Ot.subtract=fe(Ot,dt.slice(0,xt))}return dt}function Rt(Zt,It){if(Array.isArray(Zt))for(var Nt=It.cd,Ht=It.cd[0].trace,Lt=0;Lt<Zt.length;Lt++)Zt[Lt]=g(Zt[Lt],Ht,Nt);return Zt}function Et(Zt,It){for(var Nt=[],Ht=0;Ht<Zt.length;Ht++){Nt[Ht]=[];for(var Lt=0;Lt<Zt[Ht].length;Lt++){Nt[Ht][Lt]=[],Nt[Ht][Lt][0]=Lt?"L":"M";for(var dt=0;dt<Zt[Ht][Lt].length;dt++)Nt[Ht][Lt].push(Zt[Ht][Lt][dt])}It||Nt[Ht].push(["Z",Nt[Ht][0][1],Nt[Ht][0][2]])}return Nt}function zt(Zt,It){for(var Nt=[],Ht,Lt,dt=0;dt<It.length;dt++){var xt=It[dt];Lt=xt._module.selectPoints(xt,Zt),Ht=Rt(Lt,xt),Nt=Nt.concat(Ht)}return Nt}function Ct(Zt,It,Nt,Ht,Lt){var dt=!!Ht,xt,Ot,jt;Lt&&(xt=Lt.plotinfo,Ot=Lt.xaxes[0]._id,jt=Lt.yaxes[0]._id);var ie=[],le=[],Ve=te(Zt),je=Zt._fullLayout;if(xt){var Te=je._zoomlayer,Le=je.dragmode,Ke=n(Le),vr=f(Le);if(Ke||vr){var ge=C(Zt,Ot,"x"),Xe=C(Zt,jt,"y");if(ge&&Xe){var $e=Te.selectAll(".select-outline-"+xt.id);if($e&&Zt._fullLayout._outlining&&$e.length){for(var mr=$e[0][0],or=mr.getAttribute("d"),ye=p(or,Zt,xt),ue=[],be=0;be<ye.length;be++){for(var Ee=ye[be],_e=[],Oe=0;Oe<Ee.length;Oe++)_e.push([ve(ge,Ee[Oe][1]),ve(Xe,Ee[Oe][2])]);_e.xref=Ot,_e.yref=jt,_e.subtract=fe(_e,ue),ue.push(_e)}Ve=Ve.concat(ue)}}}}var Fe=Ot&&jt?[Ot+jt]:je._subplots.cartesian;Wt(Zt);for(var Be={},Je=0;Je<Fe.length;Je++){var hr=Fe[Je],cr=hr.indexOf("y"),dr=hr.slice(0,cr),fr=hr.slice(cr),Lr=Ot&&jt?Nt:void 0;if(Lr=Jt(Ve,dr,fr,Lr),Lr){var xr=Ht;if(!dt){var Qt=C(Zt,dr,"x"),re=C(Zt,fr,"y");xr=lt(Zt,[Qt],[re],hr);for(var tr=0;tr<xr.length;tr++){var er=xr[tr],Ye=er.cd[0],Pe=Ye.trace;if(er._module.name==="scattergl"&&!Ye.t.xpx){var Ze=Pe.x,nr=Pe.y,Qe=Pe._length;Ye.t.xpx=[],Ye.t.ypx=[];for(var We=0;We<Qe;We++)Ye.t.xpx[We]=Qt.c2p(Ze[We]),Ye.t.ypx[We]=re.c2p(nr[We])}er._module.name==="splom"&&(Be[Pe.uid]||(Be[Pe.uid]=!0))}}var yr=zt(Lr,xr);ie=ie.concat(yr),le=le.concat(xr)}}var Rr={points:ie};_t(Zt,le,Rr);var Tr=je.clickmode,vn=Tr.indexOf("event")>-1&&It;if(!xt&&It){var Or=te(Zt,!0);if(Or.length){var En=Or[0].xref,nn=Or[0].yref;if(En&&nn){var gr=de(Or),Pr=Me([C(Zt,En,"x"),C(Zt,nn,"y")]);Pr(Rr,gr)}}Zt._fullLayout._noEmitSelectedAtStart?Zt._fullLayout._noEmitSelectedAtStart=!1:vn&&Gt(Zt,Rr),je._reselect=!1}if(!xt&&je._deselect){var jr=je._deselect;Ot=jr.xref,jt=jr.yref,Kt(Ot,jt,le)||oe(Zt,Ot,jt,Ht),vn&&(Rr.points.length?Gt(Zt,Rr):Yt(Zt)),je._deselect=!1}return{eventData:Rr,selectionTesters:Nt}}function Wt(Zt){var It=Zt.calcdata;if(It)for(var Nt=0;Nt<It.length;Nt++){var Ht=It[Nt][0],Lt=Ht.trace,dt=Zt._fullLayout._splomScenes;if(dt){var xt=dt[Lt.uid];xt&&(xt.selectBatch=[])}}}function Kt(Zt,It,Nt){for(var Ht=0;Ht<Nt.length;Ht++){var Lt=Nt[Ht];if(Lt.xaxis&&Lt.xaxis._id===Zt&&Lt.yaxis&&Lt.yaxis._id===It)return!0}return!1}function oe(Zt,It,Nt,Ht){Ht=lt(Zt,[C(Zt,It,"x")],[C(Zt,Nt,"y")],It+Nt);for(var Lt=0;Lt<Ht.length;Lt++){var dt=Ht[Lt];dt._module.selectPoints(dt,!1)}_t(Zt,Ht)}function Jt(Zt,It,Nt,Ht){for(var Lt,dt=0;dt<Zt.length;dt++){var xt=Zt[dt];if(!(It!==xt.xref||Nt!==xt.yref))if(Lt){var Ot=!!xt.subtract;Lt=St(Lt,xt,Ot),Ht=tt(Lt)}else Lt=[xt],Ht=V(xt)}return Ht}function te(Zt,It){for(var Nt=[],Ht=Zt._fullLayout,Lt=Ht.selections,dt=Lt.length,xt=0;xt<dt;xt++)if(!(It&&xt!==Ht._activeSelectionIndex)){var Ot=Lt[xt];if(Ot){var jt=Ot.xref,ie=Ot.yref,le=C(Zt,jt,"x"),Ve=C(Zt,ie,"y"),je,Te,Le,Ke,vr;if(Ot.type==="rect"){vr=[];var ge=ve(le,Ot.x0),Xe=ve(le,Ot.x1),$e=ve(Ve,Ot.y0),mr=ve(Ve,Ot.y1);vr=[[ge,$e],[ge,mr],[Xe,mr],[Xe,$e]],je=Math.min(ge,Xe),Te=Math.max(ge,Xe),Le=Math.min($e,mr),Ke=Math.max($e,mr),vr.xmin=je,vr.xmax=Te,vr.ymin=Le,vr.ymax=Ke,vr.xref=jt,vr.yref=ie,vr.subtract=!1,vr.isRect=!0,Nt.push(vr)}else if(Ot.type==="path")for(var or=Ot.path.split("Z"),ye=[],ue=0;ue<or.length;ue++){var be=or[ue];if(be){be+="Z";var Ee=c.extractPathCoords(be,m.paramIsX,"raw"),_e=c.extractPathCoords(be,m.paramIsY,"raw");je=1/0,Te=-1/0,Le=1/0,Ke=-1/0,vr=[];for(var Oe=0;Oe<Ee.length;Oe++){var Fe=ve(le,Ee[Oe]),Be=ve(Ve,_e[Oe]);vr.push([Fe,Be]),je=Math.min(Fe,je),Te=Math.max(Fe,Te),Le=Math.min(Be,Le),Ke=Math.max(Be,Ke)}vr.xmin=je,vr.xmax=Te,vr.ymin=Le,vr.ymax=Ke,vr.xref=jt,vr.yref=ie,vr.subtract=fe(vr,ye),ye.push(vr),Nt.push(vr)}}}}return Nt}function fe(Zt,It){for(var Nt=!1,Ht=0;Ht<It.length;Ht++)for(var Lt=It[Ht],dt=0;dt<Zt.length;dt++)if(D(Zt[dt],Lt)){Nt=!Nt;break}return Nt}function ve(Zt,It){return Zt.type==="date"&&(It=It.replace("_"," ")),Zt.type==="log"?Zt.c2p(It):Zt.r2p(It,null,Zt.calendar)}function de(Zt){for(var It=Zt.length,Nt=[],Ht=0;Ht<It;Ht++){var Lt=Zt[Ht];Nt=Nt.concat(Lt),Nt=Nt.concat([Lt[0]])}return xe(Nt)}function xe(Zt){return Zt.isRect=Zt.length===5&&Zt[0][0]===Zt[4][0]&&Zt[0][1]===Zt[4][1]&&Zt[0][0]===Zt[1][0]&&Zt[2][0]===Zt[3][0]&&Zt[0][1]===Zt[3][1]&&Zt[1][1]===Zt[2][1]||Zt[0][1]===Zt[1][1]&&Zt[2][1]===Zt[3][1]&&Zt[0][0]===Zt[3][0]&&Zt[1][0]===Zt[2][0],Zt.isRect&&(Zt.xmin=Math.min(Zt[0][0],Zt[2][0]),Zt.xmax=Math.max(Zt[0][0],Zt[2][0]),Zt.ymin=Math.min(Zt[0][1],Zt[2][1]),Zt.ymax=Math.max(Zt[0][1],Zt[2][1])),Zt}function Me(Zt){return function(It,Nt){for(var Ht,Lt,dt=0;dt<Zt.length;dt++){var xt=Zt[dt],Ot=xt._id,jt=Ot.charAt(0);if(Nt.isRect){Ht||(Ht={});var ie=Nt[jt+"min"],le=Nt[jt+"max"];ie!==void 0&&le!==void 0&&(Ht[Ot]=[O(xt,ie),O(xt,le)].sort(E))}else Lt||(Lt={}),Lt[Ot]=Nt.map(H(xt))}Ht&&(It.range=Ht),Lt&&(It.lassoPoints=Lt)}}function ne(Zt){var It=Zt.plotinfo;return It.fillRangeItems||Me(Zt.xaxes.concat(Zt.yaxes))}function kt(Zt,It){Zt.emit("plotly_selecting",It)}function Gt(Zt,It){It&&(It.selections=(Zt.layout||{}).selections||[]),Zt.emit("plotly_selected",It)}function Yt(Zt){Zt.emit("plotly_deselect",null)}W.exports={reselect:Ct,prepSelect:et,clearOutline:T,clearSelectionsCache:$,selectOnClick:it}},46056:function(W,G,t){var y=t(13916),D=t(25376),s=t(52904).line,P=t(98192).u,M=t(92880).extendFlat,d=t(31780).templatedArray;t(36208);var g=t(45464),r=t(21776).ye,e=t(97728);W.exports=d("shape",{visible:M({},g.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:M({},g.legend,{editType:"calc+arraydraw"}),legendgroup:M({},g.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:M({},g.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:D({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:M({},g.legendrank,{editType:"calc+arraydraw"}),legendwidth:M({},g.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:M({},y.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:M({},y.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:M({},s.color,{editType:"arraydraw"}),width:M({},s.width,{editType:"calc+arraydraw"}),dash:M({},P,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(e)}),font:D({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(W,G,t){var y=t(3400),D=t(54460),s=t(85448),P=t(65152);W.exports=function(o){var n=o._fullLayout,u=y.filterVisible(n.shapes);if(!(!u.length||!o._fullData.length))for(var f=0;f<u.length;f++){var c=u[f];c._extremes={};var m,v,T=D.getRefType(c.xref),h=D.getRefType(c.yref);c.xref!=="paper"&&T!=="domain"&&(m=D.getFromId(o,c.xref),v=r(m,c,s.paramIsX),v&&(c._extremes[m._id]=D.findExtremes(m,v,M(c)))),c.yref!=="paper"&&h!=="domain"&&(m=D.getFromId(o,c.yref),v=r(m,c,s.paramIsY),v&&(c._extremes[m._id]=D.findExtremes(m,v,d(c))))}};function M(e){return g(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function d(e){return g(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function g(e,o,n,u,f,c){var m=e/2,v=c;if(o==="pixel"){var T=f?P.extractPathCoords(f,c?s.paramIsY:s.paramIsX):[n,u],h=y.aggNums(Math.max,null,T),i=y.aggNums(Math.min,null,T),p=i<0?Math.abs(i)+m:m,w=h>0?h+m:m;return{ppad:m,ppadplus:v?p:w,ppadminus:v?w:p}}else return{ppad:m}}function r(e,o,n){var u=e._id.charAt(0)==="x"?"x":"y",f=e.type==="category"||e.type==="multicategory",c,m,v=0,T=0,h=f?e.r2c:e.d2c,i=o[u+"sizemode"]==="scaled";if(i?(c=o[u+"0"],m=o[u+"1"],f&&(v=o[u+"0shift"],T=o[u+"1shift"])):(c=o[u+"anchor"],m=o[u+"anchor"]),c!==void 0)return[h(c)+v,h(m)+T];if(o.path){var p=1/0,w=-1/0,A=o.path.match(s.segmentRE),L,x,E,S,a;for(e.type==="date"&&(h=P.decodeDate(h)),L=0;L<A.length;L++)x=A[L],E=n[x.charAt(0)].drawn,E!==void 0&&(S=A[L].substr(1).match(s.paramRE),!(!S||S.length<E)&&(a=h(S[E]),a<p&&(p=a),a>w&&(w=a)));if(w>=p)return[p,w]}}},85448:function(W){W.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(W,G,t){var y=t(3400),D=t(54460),s=t(51272),P=t(46056),M=t(65152);W.exports=function(e,o){s(e,o,{name:"shapes",handleItemDefaults:g})};function d(r,e){return r?"bottom":e.indexOf("top")!==-1?"top":e.indexOf("bottom")!==-1?"bottom":"middle"}function g(r,e,o){function n(ot,Q){return y.coerce(r,e,P,ot,Q)}e._isShape=!0;var u=n("visible");if(u){var f=n("showlegend");f&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),y.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var c=n("path"),m=c?"path":"rect",v=n("type",m),T=v!=="path";T&&delete e.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var h=n("line.width");h&&(n("line.color"),n("line.dash"));for(var i=n("xsizemode"),p=n("ysizemode"),w=["x","y"],A=0;A<2;A++){var L=w[A],x=L+"anchor",E=L==="x"?i:p,S={_fullLayout:o},a,C,b,z=D.coerceRef(r,e,S,L,void 0,"paper"),k=D.getRefType(z);if(k==="range"?(a=D.getFromId(S,z),a._shapeIndices.push(e._index),b=M.rangeToShapePosition(a),C=M.shapePositionToRange(a),(a.type==="category"||a.type==="multicategory")&&(n(L+"0shift"),n(L+"1shift"))):C=b=y.identity,T){var U=.25,F=.75,V=L+"0",N=L+"1",O=r[V],H=r[N];r[V]=C(r[V],!0),r[N]=C(r[N],!0),E==="pixel"?(n(V,0),n(N,10)):(D.coercePosition(e,S,n,z,V,U),D.coercePosition(e,S,n,z,N,F)),e[V]=b(e[V]),e[N]=b(e[N]),r[V]=O,r[N]=H}if(E==="pixel"){var X=r[x];r[x]=C(r[x],!0),D.coercePosition(e,S,n,z,x,.25),e[x]=b(e[x]),r[x]=X}}T&&y.noneOrAll(r,e,["x0","x1","y0","y1"]);var J=v==="line",et,it;if(T&&(et=n("label.texttemplate")),et||(it=n("label.text")),it||et){n("label.textangle");var ft=n("label.textposition",J?"middle":"middle center");n("label.xanchor"),n("label.yanchor",d(J,ft)),n("label.padding"),y.coerceFont(n,"label.font",o.font)}}}},60728:function(W,G,t){var y=t(3400),D=t(54460),s=t(72736),P=t(43616),M=t(9856).readPaths,d=t(65152),g=d.getPathString,r=t(97728),e=t(84284).FROM_TL;W.exports=function(f,c,m,v){if(v.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var T;if(m.label.texttemplate){var h={};if(m.type!=="path"){var i=D.getFromId(f,m.xref),p=D.getFromId(f,m.yref);for(var w in r){var A=r[w](m,i,p);A!==void 0&&(h[w]=A)}}T=y.texttemplateStringForShapes(m.label.texttemplate,{},f._fullLayout._d3locale,h)}else T=m.label.text;var L={"data-index":c},x=m.label.font,E={"data-notex":1},S=v.append("g").attr(L).classed("shape-label",!0),a=S.append("text").attr(E).classed("shape-label-text",!0).text(T),C,b,z,k;if(m.path){var U=g(f,m),F=M(U,f);C=1/0,z=1/0,b=-1/0,k=-1/0;for(var V=0;V<F.length;V++)for(var N=0;N<F[V].length;N++)for(var O=F[V][N],H=1;H<O.length;H+=2){var X=O[H],J=O[H+1];C=Math.min(C,X),b=Math.max(b,X),z=Math.min(z,J),k=Math.max(k,J)}}else{var et=D.getFromId(f,m.xref),it=m.x0shift,ft=m.x1shift,ot=D.getRefType(m.xref),Q=D.getFromId(f,m.yref),tt=m.y0shift,Z=m.y1shift,q=D.getRefType(m.yref),ut=function(bt,Pt){var _t=d.getDataToPixel(f,et,Pt,!1,ot);return _t(bt)},$=function(bt,Pt){var _t=d.getDataToPixel(f,Q,Pt,!0,q);return _t(bt)};C=ut(m.x0,it),b=ut(m.x1,ft),z=$(m.y0,tt),k=$(m.y1,Z)}var j=m.label.textangle;j==="auto"&&(m.type==="line"?j=o(C,z,b,k):j=0),a.call(function(bt){return bt.call(P.font,x).attr({}),s.convertToTspans(bt,f),bt});var lt=P.bBox(a.node()),nt=n(C,z,b,k,m,j,lt),ht=nt.textx,mt=nt.texty,At=nt.xanchor;a.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[At],y:mt,x:ht,transform:"rotate("+j+","+ht+","+mt+")"}).call(s.positionText,ht,mt)}};function o(u,f,c,m){var v,T;return T=Math.abs(c-u),c>=u?v=f-m:v=m-f,-180/Math.PI*Math.atan2(v,T)}function n(u,f,c,m,v,T,h){var i=v.label.textposition,p=v.label.textangle,w=v.label.padding,A=v.type,L=Math.PI/180*T,x=Math.sin(L),E=Math.cos(L),S=v.label.xanchor,a=v.label.yanchor,C,b,z,k;if(A==="line"){i==="start"?(C=u,b=f):i==="end"?(C=c,b=m):(C=(u+c)/2,b=(f+m)/2),S==="auto"&&(i==="start"?p==="auto"?c>u?S="left":c<u?S="right":S="center":c>u?S="right":c<u?S="left":S="center":i==="end"?p==="auto"?c>u?S="right":c<u?S="left":S="center":c>u?S="left":c<u?S="right":S="center":S="center");var U={left:1,center:0,right:-1},F={bottom:-1,middle:0,top:1};if(p==="auto"){var V=F[a];z=-w*x*V,k=w*E*V}else{var N=U[S],O=F[a];z=w*N,k=w*O}C=C+z,b=b+k}else z=w+3,i.indexOf("right")!==-1?(C=Math.max(u,c)-z,S==="auto"&&(S="right")):i.indexOf("left")!==-1?(C=Math.min(u,c)+z,S==="auto"&&(S="left")):(C=(u+c)/2,S==="auto"&&(S="center")),i.indexOf("top")!==-1?b=Math.min(f,m):i.indexOf("bottom")!==-1?b=Math.max(f,m):b=(f+m)/2,k=w,a==="bottom"?b=b-k:a==="top"&&(b=b+k);var H=e[a],X=v.label.font.size,J=h.height,et=(J*H-X)*x,it=-(J*H-X)*E;return{textx:C+et,texty:b+it,xanchor:S}}},55496:function(W,G,t){var y=t(3400),D=y.strTranslate,s=t(86476),P=t(72760),M=P.drawMode,d=P.selectMode,g=t(24040),r=t(76308),e=t(7e3),o=e.i000,n=e.i090,u=e.i180,f=e.i270,c=t(1936),m=c.clearOutlineControllers,v=t(9856),T=v.pointsOnRectangle,h=v.pointsOnEllipse,i=v.writePaths,p=t(93940).newShapes,w=t(93940).createShapeObj,A=t(5968),L=t(60728);W.exports=function a(C,b,z,k){k||(k=0);var U=z.gd;function F(){a(C,b,z,k++),(h(C[0])||z.hasText)&&V({redrawing:!0})}function V(St){var Rt={};z.isActiveShape!==void 0&&(z.isActiveShape=!1,Rt=p(b,z)),z.isActiveSelection!==void 0&&(z.isActiveSelection=!1,Rt=A(b,z),U._fullLayout._reselect=!0),Object.keys(Rt).length&&g.call((St||{}).redrawing?"relayout":"_guiRelayout",U,Rt)}var N=U._fullLayout,O=N._zoomlayer,H=z.dragmode,X=M(H),J=d(H);(X||J)&&(U._fullLayout._outlining=!0),m(U),b.attr("d",i(C));var et,it,ft,ot,Q;if(!k&&(z.isActiveShape||z.isActiveSelection)){Q=x([],C);var tt=O.append("g").attr("class","outline-controllers");ht(tt),Ut()}if(X&&z.hasText){var Z=O.select(".label-temp"),q=w(b,z,z.dragmode);L(U,"label-temp",q,Z)}function ut(St){ft=+St.srcElement.getAttribute("data-i"),ot=+St.srcElement.getAttribute("data-j"),et[ft][ot].moveFn=$}function $(St,Rt){if(C.length){var Et=Q[ft][ot][1],zt=Q[ft][ot][2],Ct=C[ft],Wt=Ct.length;if(T(Ct)){var Kt=St,oe=Rt;if(z.isActiveSelection){var Jt=E(Ct,ot);Jt[1]===Ct[ot][1]?oe=0:Kt=0}for(var te=0;te<Wt;te++)if(te!==ot){var fe=Ct[te];fe[1]===Ct[ot][1]&&(fe[1]=Et+Kt),fe[2]===Ct[ot][2]&&(fe[2]=zt+oe)}if(Ct[ot][1]=Et+Kt,Ct[ot][2]=zt+oe,!T(Ct))for(var ve=0;ve<Wt;ve++)for(var de=0;de<Ct[ve].length;de++)Ct[ve][de]=Q[ft][ve][de]}else Ct[ot][1]=Et+St,Ct[ot][2]=zt+Rt;F()}}function j(){V()}function lt(){if(C.length&&C[ft]&&C[ft].length){for(var St=[],Rt=0;Rt<C[ft].length;Rt++)Rt!==ot&&St.push(C[ft][Rt]);St.length>1&&!(St.length===2&&St[1][0]==="Z")&&(ot===0&&(St[0][0]="M"),C[ft]=St,F(),V())}}function nt(St,Rt){if(St===2){ft=+Rt.srcElement.getAttribute("data-i"),ot=+Rt.srcElement.getAttribute("data-j");var Et=C[ft];!T(Et)&&!h(Et)&&lt()}}function ht(St){et=[];for(var Rt=0;Rt<C.length;Rt++){var Et=C[Rt],zt=T(Et),Ct=!zt&&h(Et);et[Rt]=[];for(var Wt=Et.length,Kt=0;Kt<Wt;Kt++)if(Et[Kt][0]!=="Z"&&!(Ct&&Kt!==o&&Kt!==n&&Kt!==u&&Kt!==f)){var oe=zt&&z.isActiveSelection,Jt;oe&&(Jt=E(Et,Kt));var te=Et[Kt][1],fe=Et[Kt][2],ve=St.append(oe?"rect":"circle").attr("data-i",Rt).attr("data-j",Kt).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(oe){var de=Jt[1]-te,xe=Jt[2]-fe,Me=xe?5:Math.max(Math.min(25,Math.abs(de)-5),5),ne=de?5:Math.max(Math.min(25,Math.abs(xe)-5),5);ve.classed(xe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Me).attr("height",ne).attr("x",te-Me/2).attr("y",fe-ne/2).attr("transform",D(de/2,xe/2))}else ve.classed("cursor-grab",!0).attr("r",5).attr("cx",te).attr("cy",fe);et[Rt][Kt]={element:ve.node(),gd:U,prepFn:ut,doneFn:j,clickFn:nt},s.init(et[Rt][Kt])}}}function mt(St,Rt){if(C.length)for(var Et=0;Et<C.length;Et++)for(var zt=0;zt<C[Et].length;zt++)for(var Ct=0;Ct+2<C[Et][zt].length;Ct+=2)C[Et][zt][Ct+1]=Q[Et][zt][Ct+1]+St,C[Et][zt][Ct+2]=Q[Et][zt][Ct+2]+Rt}function At(St,Rt){mt(St,Rt),F()}function bt(St){ft=+St.srcElement.getAttribute("data-i"),ft||(ft=0),it[ft].moveFn=At}function Pt(){V()}function _t(St){St===2&&S(U)}function Ut(){if(it=[],!!C.length){var St=0;it[St]={element:b[0][0],gd:U,prepFn:bt,doneFn:Pt,clickFn:_t},s.init(it[St])}}};function x(a,C){for(var b=0;b<C.length;b++){var z=C[b];a[b]=[];for(var k=0;k<z.length;k++){a[b][k]=[];for(var U=0;U<z[k].length;U++)a[b][k][U]=z[k][U]}}return a}function E(a,C){var b=a[C][1],z=a[C][2],k=a.length,U,F,V;return U=(C+1)%k,F=a[U][1],V=a[U][2],F===b&&V===z&&(U=(C+2)%k,F=a[U][1],V=a[U][2]),[U,F,V]}function S(a){if(d(a._fullLayout.dragmode)){m(a);var C=a._fullLayout._activeSelectionIndex,b=(a.layout||{}).selections||[];if(C<b.length){for(var z=[],k=0;k<b.length;k++)k!==C&&z.push(b[k]);delete a._fullLayout._activeSelectionIndex;var U=a._fullLayout.selections[C];a._fullLayout._deselect={xref:U.xref,yref:U.yref},g.call("_guiRelayout",a,{selections:z})}}}},4016:function(W,G,t){var y=t(33428),D=t(24040),s=t(3400),P=t(54460),M=t(9856).readPaths,d=t(55496),g=t(60728),r=t(1936).clearOutlineControllers,e=t(76308),o=t(43616),n=t(31780).arrayEditor,u=t(86476),f=t(93972),c=t(85448),m=t(65152),v=m.getPathString;W.exports={draw:T,drawOne:p,eraseActiveShape:S,drawLabel:g};function T(a){var C=a._fullLayout;C._shapeUpperLayer.selectAll("path").remove(),C._shapeLowerLayer.selectAll("path").remove(),C._shapeUpperLayer.selectAll("text").remove(),C._shapeLowerLayer.selectAll("text").remove();for(var b in C._plots){var z=C._plots[b].shapelayer;z&&(z.selectAll("path").remove(),z.selectAll("text").remove())}for(var k=0;k<C.shapes.length;k++)C.shapes[k].visible===!0&&p(a,k)}function h(a){return!!a._fullLayout._outlining}function i(a){return!a._context.edits.shapePosition}function p(a,C){a._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+C+'"]').remove();var b=m.makeShapesOptionsAndPlotinfo(a,C),z=b.options,k=b.plotinfo;if(!z._input||z.visible!==!0)return;if(z.layer==="above")F(a._fullLayout._shapeUpperLayer);else if(z.xref==="paper"||z.yref==="paper")F(a._fullLayout._shapeLowerLayer);else if(z.layer==="between")F(k.shapelayerBetween);else if(k._hadPlotinfo){var U=k.mainplotinfo||k;F(U.shapelayer)}else F(a._fullLayout._shapeLowerLayer);function F(V){var N=v(a,z),O={"data-index":C,"fill-rule":z.fillrule,d:N},H=z.opacity,X=z.fillcolor,J=z.line.width?z.line.color:"rgba(0,0,0,0)",et=z.line.width,it=z.line.dash;!et&&z.editable===!0&&(et=5,it="solid");var ft=N[N.length-1]!=="Z",ot=i(a)&&z.editable&&a._fullLayout._activeShapeIndex===C;ot&&(X=ft?"rgba(0,0,0,0)":a._fullLayout.activeshape.fillcolor,H=a._fullLayout.activeshape.opacity);var Q=V.append("g").classed("shape-group",!0).attr({"data-index":C}),tt=Q.append("path").attr(O).style("opacity",H).call(e.stroke,J).call(e.fill,X).call(o.dashLine,it,et);w(Q,a,z),g(a,C,z,Q);var Z;if((ot||a._context.edits.shapePosition)&&(Z=n(a.layout,"shapes",z)),ot){tt.style({cursor:"move"});var q={element:tt.node(),plotinfo:k,gd:a,editHelpers:Z,hasText:z.label.text||z.label.texttemplate,isActiveShape:!0},ut=M(N,a);d(ut,tt,q)}else a._context.edits.shapePosition?A(a,tt,z,C,V,Z):z.editable===!0&&tt.style("pointer-events",ft||e.opacity(X)*H<=.5?"stroke":"all");tt.node().addEventListener("click",function(){return x(a,tt)})}}function w(a,C,b){var z=(b.xref+b.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");o.setClipUrl(a,z?"clip"+C._fullLayout._uid+z:null,C)}function A(a,C,b,z,k,U){var F=10,V=10,N=b.xsizemode==="pixel",O=b.ysizemode==="pixel",H=b.type==="line",X=b.type==="path",J=U.modifyItem,et,it,ft,ot,Q,tt,Z,q,ut,$,j,lt,nt,ht,mt,At=y.select(C.node().parentNode),bt=P.getFromId(a,b.xref),Pt=P.getRefType(b.xref),_t=P.getFromId(a,b.yref),Ut=P.getRefType(b.yref),St=b.x0shift,Rt=b.x1shift,Et=b.y0shift,zt=b.y1shift,Ct=function(Ht,Lt){var dt=m.getDataToPixel(a,bt,Lt,!1,Pt);return dt(Ht)},Wt=function(Ht,Lt){var dt=m.getDataToPixel(a,_t,Lt,!0,Ut);return dt(Ht)},Kt=m.getPixelToData(a,bt,!1,Pt),oe=m.getPixelToData(a,_t,!0,Ut),Jt=ve(),te={element:Jt.node(),gd:a,prepFn:Me,doneFn:ne,clickFn:kt},fe;u.init(te),Jt.node().onmousemove=xe;function ve(){return H?de():C}function de(){var Ht=10,Lt=Math.max(b.line.width,Ht),dt=k.append("g").attr("data-index",z).attr("drag-helper",!0);dt.append("path").attr("d",C.attr("d")).style({cursor:"move","stroke-width":Lt,"stroke-opacity":"0"});var xt={"fill-opacity":"0"},Ot=Math.max(Lt/2,Ht);return dt.append("circle").attr({"data-line-point":"start-point",cx:N?Ct(b.xanchor)+b.x0:Ct(b.x0,St),cy:O?Wt(b.yanchor)-b.y0:Wt(b.y0,Et),r:Ot}).style(xt).classed("cursor-grab",!0),dt.append("circle").attr({"data-line-point":"end-point",cx:N?Ct(b.xanchor)+b.x1:Ct(b.x1,Rt),cy:O?Wt(b.yanchor)-b.y1:Wt(b.y1,zt),r:Ot}).style(xt).classed("cursor-grab",!0),dt}function xe(Ht){if(h(a)){fe=null;return}if(H)Ht.target.tagName==="path"?fe="move":fe=Ht.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Lt=te.element.getBoundingClientRect(),dt=Lt.right-Lt.left,xt=Lt.bottom-Lt.top,Ot=Ht.clientX-Lt.left,jt=Ht.clientY-Lt.top,ie=!X&&dt>F&&xt>V&&!Ht.shiftKey?u.getCursor(Ot/dt,1-jt/xt):"move";f(C,ie),fe=ie.split("-")[0]}}function Me(Ht){h(a)||(N&&(Q=Ct(b.xanchor)),O&&(tt=Wt(b.yanchor)),b.type==="path"?mt=b.path:(et=N?b.x0:Ct(b.x0),it=O?b.y0:Wt(b.y0),ft=N?b.x1:Ct(b.x1),ot=O?b.y1:Wt(b.y1)),et<ft?(ut=et,nt="x0",$=ft,ht="x1"):(ut=ft,nt="x1",$=et,ht="x0"),!O&&it<ot||O&&it>ot?(Z=it,j="y0",q=ot,lt="y1"):(Z=ot,j="y1",q=it,lt="y0"),xe(Ht),Zt(k,b),Nt(C,b,a),te.moveFn=fe==="move"?Gt:Yt,te.altKey=Ht.altKey)}function ne(){h(a)||(f(C),It(k),w(C,a,b),D.call("_guiRelayout",a,U.getUpdateObj()))}function kt(){h(a)||It(k)}function Gt(Ht,Lt){if(b.type==="path"){var dt=function(jt){return jt},xt=dt,Ot=dt;N?J("xanchor",b.xanchor=Kt(Q+Ht)):(xt=function(ie){return Kt(Ct(ie)+Ht)},bt&&bt.type==="date"&&(xt=m.encodeDate(xt))),O?J("yanchor",b.yanchor=oe(tt+Lt)):(Ot=function(ie){return oe(Wt(ie)+Lt)},_t&&_t.type==="date"&&(Ot=m.encodeDate(Ot))),J("path",b.path=L(mt,xt,Ot))}else N?J("xanchor",b.xanchor=Kt(Q+Ht)):(J("x0",b.x0=Kt(et+Ht)),J("x1",b.x1=Kt(ft+Ht))),O?J("yanchor",b.yanchor=oe(tt+Lt)):(J("y0",b.y0=oe(it+Lt)),J("y1",b.y1=oe(ot+Lt)));C.attr("d",v(a,b)),Zt(k,b),g(a,z,b,At)}function Yt(Ht,Lt){if(X){var dt=function(or){return or},xt=dt,Ot=dt;N?J("xanchor",b.xanchor=Kt(Q+Ht)):(xt=function(ye){return Kt(Ct(ye)+Ht)},bt&&bt.type==="date"&&(xt=m.encodeDate(xt))),O?J("yanchor",b.yanchor=oe(tt+Lt)):(Ot=function(ye){return oe(Wt(ye)+Lt)},_t&&_t.type==="date"&&(Ot=m.encodeDate(Ot))),J("path",b.path=L(mt,xt,Ot))}else if(H){if(fe==="resize-over-start-point"){var jt=et+Ht,ie=O?it-Lt:it+Lt;J("x0",b.x0=N?jt:Kt(jt)),J("y0",b.y0=O?ie:oe(ie))}else if(fe==="resize-over-end-point"){var le=ft+Ht,Ve=O?ot-Lt:ot+Lt;J("x1",b.x1=N?le:Kt(le)),J("y1",b.y1=O?Ve:oe(Ve))}}else{var je=function(or){return fe.indexOf(or)!==-1},Te=je("n"),Le=je("s"),Ke=je("w"),vr=je("e"),ge=Te?Z+Lt:Z,Xe=Le?q+Lt:q,$e=Ke?ut+Ht:ut,mr=vr?$+Ht:$;O&&(Te&&(ge=Z-Lt),Le&&(Xe=q-Lt)),(!O&&Xe-ge>V||O&&ge-Xe>V)&&(J(j,b[j]=O?ge:oe(ge)),J(lt,b[lt]=O?Xe:oe(Xe))),mr-$e>F&&(J(nt,b[nt]=N?$e:Kt($e)),J(ht,b[ht]=N?mr:Kt(mr)))}C.attr("d",v(a,b)),Zt(k,b),g(a,z,b,At)}function Zt(Ht,Lt){(N||O)&&dt();function dt(){var xt=Lt.type!=="path",Ot=Ht.selectAll(".visual-cue").data([0]),jt=1;Ot.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":jt}).classed("visual-cue",!0);var ie=Ct(N?Lt.xanchor:s.midRange(xt?[Lt.x0,Lt.x1]:m.extractPathCoords(Lt.path,c.paramIsX))),le=Wt(O?Lt.yanchor:s.midRange(xt?[Lt.y0,Lt.y1]:m.extractPathCoords(Lt.path,c.paramIsY)));if(ie=m.roundPositionForSharpStrokeRendering(ie,jt),le=m.roundPositionForSharpStrokeRendering(le,jt),N&&O){var Ve="M"+(ie-1-jt)+","+(le-1-jt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ot.attr("d",Ve)}else if(N){var je="M"+(ie-1-jt)+","+(le-9-jt)+"v18 h2 v-18 Z";Ot.attr("d",je)}else{var Te="M"+(ie-9-jt)+","+(le-1-jt)+"h18 v2 h-18 Z";Ot.attr("d",Te)}}}function It(Ht){Ht.selectAll(".visual-cue").remove()}function Nt(Ht,Lt,dt){var xt=Lt.xref,Ot=Lt.yref,jt=P.getFromId(dt,xt),ie=P.getFromId(dt,Ot),le="";xt!=="paper"&&!jt.autorange&&(le+=xt),Ot!=="paper"&&!ie.autorange&&(le+=Ot),o.setClipUrl(Ht,le?"clip"+dt._fullLayout._uid+le:null,dt)}}function L(a,C,b){return a.replace(c.segmentRE,function(z){var k=0,U=z.charAt(0),F=c.paramIsX[U],V=c.paramIsY[U],N=c.numParams[U],O=z.substr(1).replace(c.paramRE,function(H){return k>=N||(F[k]?H=C(H):V[k]&&(H=b(H)),k++),H});return U+O})}function x(a,C){if(i(a)){var b=C.node(),z=+b.getAttribute("data-index");if(z>=0){if(z===a._fullLayout._activeShapeIndex){E(a);return}a._fullLayout._activeShapeIndex=z,a._fullLayout._deactivateShape=E,T(a)}}}function E(a){if(i(a)){var C=a._fullLayout._activeShapeIndex;C>=0&&(r(a),delete a._fullLayout._activeShapeIndex,T(a))}}function S(a){if(i(a)){r(a);var C=a._fullLayout._activeShapeIndex,b=(a.layout||{}).shapes||[];if(C<b.length){for(var z=[],k=0;k<b.length;k++)k!==C&&z.push(b[k]);return delete a._fullLayout._activeShapeIndex,D.call("_guiRelayout",a,{shapes:z})}}}},92872:function(W,G,t){var y=t(67824).overrideAll,D=t(45464),s=t(25376),P=t(98192).u,M=t(92880).extendFlat,d=t(21776).ye,g=t(97728);W.exports=y({newshape:{visible:M({},D.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:M({},D.legend,{}),legendgroup:M({},D.legendgroup,{}),legendgrouptitle:{text:M({},D.legendgrouptitle.text,{}),font:s({})},legendrank:M({},D.legendrank,{}),legendwidth:M({},D.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:M({},P,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:M({},D.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:d({newshape:!0},{keys:Object.keys(g)}),font:s({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(W){var G=32;W.exports={CIRCLE_SIDES:G,i000:0,i090:G/4,i180:G/2,i270:G/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(W,G,t){var y=t(76308),D=t(3400);function s(P,M){return P?"bottom":M.indexOf("top")!==-1?"top":M.indexOf("bottom")!==-1?"bottom":"middle"}W.exports=function(M,d,g){g("newshape.visible"),g("newshape.name"),g("newshape.showlegend"),g("newshape.legend"),g("newshape.legendwidth"),g("newshape.legendgroup"),g("newshape.legendgrouptitle.text"),D.coerceFont(g,"newshape.legendgrouptitle.font"),g("newshape.legendrank"),g("newshape.drawdirection"),g("newshape.layer"),g("newshape.fillcolor"),g("newshape.fillrule"),g("newshape.opacity");var r=g("newshape.line.width");if(r){var e=(M||{}).plot_bgcolor||"#FFF";g("newshape.line.color",y.contrast(e)),g("newshape.line.dash")}var o=M.dragmode==="drawline",n=g("newshape.label.text"),u=g("newshape.label.texttemplate");if(n||u){g("newshape.label.textangle");var f=g("newshape.label.textposition",o?"middle":"middle center");g("newshape.label.xanchor"),g("newshape.label.yanchor",s(o,f)),g("newshape.label.padding"),D.coerceFont(g,"newshape.label.font",d.font)}g("activeshape.fillcolor"),g("activeshape.opacity")}},9856:function(W,G,t){var y=t(21984),D=t(7e3),s=D.CIRCLE_SIDES,P=D.SQRT2,M=t(5840),d=M.p2r,g=M.r2p,r=[0,3,4,5,6,1,2],e=[0,3,4,1,2];G.writePaths=function(u){var f=u.length;if(!f)return"M0,0Z";for(var c="",m=0;m<f;m++)for(var v=u[m].length,T=0;T<v;T++){var h=u[m][T][0];if(h==="Z")c+="Z";else for(var i=u[m][T].length,p=0;p<i;p++){var w=p;h==="Q"||h==="S"?w=e[p]:h==="C"&&(w=r[p]),c+=u[m][T][w],p>0&&p<i-1&&(c+=",")}}return c},G.readPaths=function(u,f,c,m){var v=y(u),T=[],h=-1,i=function(){h++,T[h]=[]},p,w=0,A=0,L,x,E=function(){L=w,x=A};E();for(var S=0;S<v.length;S++){var a=[],C,b,z,k,U=v[S][0],F=U;switch(U){case"M":i(),w=+v[S][1],A=+v[S][2],a.push([F,w,A]),E();break;case"Q":case"S":C=+v[S][1],z=+v[S][2],w=+v[S][3],A=+v[S][4],a.push([F,w,A,C,z]);break;case"C":C=+v[S][1],z=+v[S][2],b=+v[S][3],k=+v[S][4],w=+v[S][5],A=+v[S][6],a.push([F,w,A,C,z,b,k]);break;case"T":case"L":w=+v[S][1],A=+v[S][2],a.push([F,w,A]);break;case"H":F="L",w=+v[S][1],a.push([F,w,A]);break;case"V":F="L",A=+v[S][1],a.push([F,w,A]);break;case"A":F="L";var V=+v[S][1],N=+v[S][2];+v[S][4]||(V=-V,N=-N);var O=w-V,H=A;for(p=1;p<=s/2;p++){var X=2*Math.PI*p/s;a.push([F,O+V*Math.cos(X),H+N*Math.sin(X)])}break;case"Z":(w!==L||A!==x)&&(w=L,A=x,a.push([F,w,A]));break}for(var J=(c||{}).domain,et=f._fullLayout._size,it=c&&c.xsizemode==="pixel",ft=c&&c.ysizemode==="pixel",ot=m===!1,Q=0;Q<a.length;Q++){for(p=0;p+2<7;p+=2){var tt=a[Q][p+1],Z=a[Q][p+2];tt===void 0||Z===void 0||(w=tt,A=Z,c&&(c.xaxis&&c.xaxis.p2r?(ot&&(tt-=c.xaxis._offset),it?tt=g(c.xaxis,c.xanchor)+tt:tt=d(c.xaxis,tt)):(ot&&(tt-=et.l),J?tt=J.x[0]+tt/et.w:tt=tt/et.w),c.yaxis&&c.yaxis.p2r?(ot&&(Z-=c.yaxis._offset),ft?Z=g(c.yaxis,c.yanchor)-Z:Z=d(c.yaxis,Z)):(ot&&(Z-=et.t),J?Z=J.y[1]-Z/et.h:Z=1-Z/et.h)),a[Q][p+1]=tt,a[Q][p+2]=Z)}T[h].push(a[Q].slice())}}return T};function o(u,f){return Math.abs(u-f)<=1e-6}function n(u,f){var c=f[1]-u[1],m=f[2]-u[2];return Math.sqrt(c*c+m*m)}G.pointsOnRectangle=function(u){var f=u.length;if(f!==5)return!1;for(var c=1;c<3;c++){var m=u[0][c]-u[1][c],v=u[3][c]-u[2][c];if(!o(m,v))return!1;var T=u[0][c]-u[3][c],h=u[1][c]-u[2][c];if(!o(T,h))return!1}return!o(u[0][1],u[1][1])&&!o(u[0][1],u[3][1])?!1:!!(n(u[0],u[1])*n(u[0],u[3]))},G.pointsOnEllipse=function(u){var f=u.length;if(f!==s+1)return!1;f=s;for(var c=0;c<f;c++){var m=(f*2-c)%f,v=(f/2+m)%f,T=(f/2+c)%f;if(!o(n(u[c],u[T]),n(u[m],u[v])))return!1}return!0},G.handleEllipse=function(u,f,c){if(!u)return[f,c];var m=G.ellipseOver({x0:f[0],y0:f[1],x1:c[0],y1:c[1]}),v=(m.x1+m.x0)/2,T=(m.y1+m.y0)/2,h=(m.x1-m.x0)/2,i=(m.y1-m.y0)/2;h||(h=i=i/P),i||(i=h=h/P);for(var p=[],w=0;w<s;w++){var A=w*2*Math.PI/s;p.push([v+h*Math.cos(A),T+i*Math.sin(A)])}return p},G.ellipseOver=function(u){var f=u.x0,c=u.y0,m=u.x1,v=u.y1,T=m-f,h=v-c;f-=T,c-=h;var i=(f+m)/2,p=(c+v)/2,w=P;return T*=w,h*=w,{x0:i-T,y0:p-h,x1:i+T,y1:p+h}},G.fixDatesForPaths=function(u,f,c){var m=f.type==="date",v=c.type==="date";if(!m&&!v)return u;for(var T=0;T<u.length;T++)for(var h=0;h<u[T].length;h++)for(var i=0;i+2<u[T][h].length;i+=2)m&&(u[T][h][i+1]=u[T][h][i+1].replace(" ","_")),v&&(u[T][h][i+2]=u[T][h][i+2].replace(" ","_"));return u}},93940:function(W,G,t){var y=t(72760),D=y.drawMode,s=y.openMode,P=t(7e3),M=P.i000,d=P.i090,g=P.i180,r=P.i270,e=P.cos45,o=P.sin45,n=t(5840),u=n.p2r,f=n.r2p,c=t(1936),m=c.clearOutline,v=t(9856),T=v.readPaths,h=v.writePaths,i=v.ellipseOver,p=v.fixDatesForPaths;function w(L,x){if(L.length){var E=L[0][0];if(E){var S=x.gd,a=x.isActiveShape,C=x.dragmode,b=(S.layout||{}).shapes||[];if(!D(C)&&a!==void 0){var z=S._fullLayout._activeShapeIndex;if(z<b.length)switch(S._fullLayout.shapes[z].type){case"rect":C="drawrect";break;case"circle":C="drawcircle";break;case"line":C="drawline";break;case"path":var k=b[z].path||"";k[k.length-1]==="Z"?C="drawclosedpath":C="drawopenpath";break}}var U=A(L,x,C);m(S);for(var F=x.editHelpers,V=(F||{}).modifyItem,N=[],O=0;O<b.length;O++){var H=S._fullLayout.shapes[O];if(N[O]=H._input,a!==void 0&&O===S._fullLayout._activeShapeIndex){var X=U;switch(H.type){case"line":case"rect":case"circle":V("x0",X.x0-(H.x0shift||0)),V("x1",X.x1-(H.x1shift||0)),V("y0",X.y0-(H.y0shift||0)),V("y1",X.y1-(H.y1shift||0));break;case"path":V("path",X.path);break}}}return a===void 0?(N.push(U),N):F?F.getUpdateObj():{}}}}function A(L,x,E){var S=L[0][0],a=x.gd,C=S.getAttribute("d"),b=a._fullLayout.newshape,z=x.plotinfo,k=x.isActiveShape,U=z.xaxis,F=z.yaxis,V=!!z.domain||!z.xaxis,N=!!z.domain||!z.yaxis,O=s(E),H=T(C,a,z,k),X={editable:!0,visible:b.visible,name:b.name,showlegend:b.showlegend,legend:b.legend,legendwidth:b.legendwidth,legendgroup:b.legendgroup,legendgrouptitle:{text:b.legendgrouptitle.text,font:b.legendgrouptitle.font},legendrank:b.legendrank,label:b.label,xref:V?"paper":U._id,yref:N?"paper":F._id,layer:b.layer,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};O||(X.fillcolor=b.fillcolor,X.fillrule=b.fillrule);var J;if(H.length===1&&(J=H[0]),J&&J.length===5&&E==="drawrect")X.type="rect",X.x0=J[0][1],X.y0=J[0][2],X.x1=J[2][1],X.y1=J[2][2];else if(J&&E==="drawline")X.type="line",X.x0=J[0][1],X.y0=J[0][2],X.x1=J[1][1],X.y1=J[1][2];else if(J&&E==="drawcircle"){X.type="circle";var et=J[M][1],it=J[d][1],ft=J[g][1],ot=J[r][1],Q=J[M][2],tt=J[d][2],Z=J[g][2],q=J[r][2],ut=z.xaxis&&(z.xaxis.type==="date"||z.xaxis.type==="log"),$=z.yaxis&&(z.yaxis.type==="date"||z.yaxis.type==="log");ut&&(et=f(z.xaxis,et),it=f(z.xaxis,it),ft=f(z.xaxis,ft),ot=f(z.xaxis,ot)),$&&(Q=f(z.yaxis,Q),tt=f(z.yaxis,tt),Z=f(z.yaxis,Z),q=f(z.yaxis,q));var j=(it+ot)/2,lt=(Q+Z)/2,nt=(ot-it+ft-et)/2,ht=(q-tt+Z-Q)/2,mt=i({x0:j,y0:lt,x1:j+nt*e,y1:lt+ht*o});ut&&(mt.x0=u(z.xaxis,mt.x0),mt.x1=u(z.xaxis,mt.x1)),$&&(mt.y0=u(z.yaxis,mt.y0),mt.y1=u(z.yaxis,mt.y1)),X.x0=mt.x0,X.y0=mt.y0,X.x1=mt.x1,X.y1=mt.y1}else X.type="path",U&&F&&p(H,U,F),X.path=h(H),J=null;return X}W.exports={newShapes:w,createShapeObj:A}},1936:function(W){function G(y){var D=y._fullLayout._zoomlayer;D&&D.selectAll(".outline-controllers").remove()}function t(y){var D=y._fullLayout._zoomlayer;D&&D.selectAll(".select-outline").remove(),y._fullLayout._outlining=!1}W.exports={clearOutlineControllers:G,clearOutline:t}},65152:function(W,G,t){var y=t(85448),D=t(3400),s=t(54460);G.rangeToShapePosition=function(d){return d.type==="log"?d.r2d:function(g){return g}},G.shapePositionToRange=function(d){return d.type==="log"?d.d2r:function(g){return g}},G.decodeDate=function(d){return function(g){return g.replace&&(g=g.replace("_"," ")),d(g)}},G.encodeDate=function(d){return function(g){return d(g).replace(" ","_")}},G.extractPathCoords=function(d,g,r){var e=[],o=d.match(y.segmentRE);return o.forEach(function(n){var u=g[n.charAt(0)].drawn;if(u!==void 0){var f=n.substr(1).match(y.paramRE);if(!(!f||f.length<u)){var c=f[u],m=r?c:D.cleanNumber(c);e.push(m)}}}),e},G.getDataToPixel=function(d,g,r,e,o){var n=d._fullLayout._size,u;if(g)if(o==="domain")u=function(c){return g._length*(e?1-c:c)+g._offset};else{var f=G.shapePositionToRange(g);u=function(c){var m=M(g,r);return g._offset+g.r2p(f(c,!0))+m},g.type==="date"&&(u=G.decodeDate(u))}else e?u=function(c){return n.t+n.h*(1-c)}:u=function(c){return n.l+n.w*c};return u},G.getPixelToData=function(d,g,r,e){var o=d._fullLayout._size,n;if(g)if(e==="domain")n=function(f){var c=(f-g._offset)/g._length;return r?1-c:c};else{var u=G.rangeToShapePosition(g);n=function(f){return u(g.p2r(f-g._offset))}}else r?n=function(f){return 1-(f-o.t)/o.h}:n=function(f){return(f-o.l)/o.w};return n},G.roundPositionForSharpStrokeRendering=function(d,g){var r=Math.round(g%2)===1,e=Math.round(d);return r?e+.5:e},G.makeShapesOptionsAndPlotinfo=function(d,g){var r=d._fullLayout.shapes[g]||{},e=d._fullLayout._plots[r.xref+r.yref],o=!!e;return o?e._hadPlotinfo=!0:(e={},r.xref&&r.xref!=="paper"&&(e.xaxis=d._fullLayout[r.xref+"axis"]),r.yref&&r.yref!=="paper"&&(e.yaxis=d._fullLayout[r.yref+"axis"])),e.xsizemode=r.xsizemode,e.ysizemode=r.ysizemode,e.xanchor=r.xanchor,e.yanchor=r.yanchor,{options:r,plotinfo:e}},G.makeSelectionsOptionsAndPlotinfo=function(d,g){var r=d._fullLayout.selections[g]||{},e=d._fullLayout._plots[r.xref+r.yref],o=!!e;return o?e._hadPlotinfo=!0:(e={},r.xref&&(e.xaxis=d._fullLayout[r.xref+"axis"]),r.yref&&(e.yaxis=d._fullLayout[r.yref+"axis"])),{options:r,plotinfo:e}},G.getPathString=function(d,g){var r=g.type,e=s.getRefType(g.xref),o=s.getRefType(g.yref),n=s.getFromId(d,g.xref),u=s.getFromId(d,g.yref),f=d._fullLayout._size,c,m,v,T,h=M(n,g.x0shift),i=M(n,g.x1shift),p=M(u,g.y0shift),w=M(u,g.y1shift),A,L,x,E;if(n?e==="domain"?m=function(N){return n._offset+n._length*N}:(c=G.shapePositionToRange(n),m=function(N){return n._offset+n.r2p(c(N,!0))}):m=function(N){return f.l+f.w*N},u?o==="domain"?T=function(N){return u._offset+u._length*(1-N)}:(v=G.shapePositionToRange(u),T=function(N){return u._offset+u.r2p(v(N,!0))}):T=function(N){return f.t+f.h*(1-N)},r==="path")return n&&n.type==="date"&&(m=G.decodeDate(m)),u&&u.type==="date"&&(T=G.decodeDate(T)),P(g,m,T);if(g.xsizemode==="pixel"){var S=m(g.xanchor);A=S+g.x0+h,L=S+g.x1+i}else A=m(g.x0)+h,L=m(g.x1)+i;if(g.ysizemode==="pixel"){var a=T(g.yanchor);x=a-g.y0+p,E=a-g.y1+w}else x=T(g.y0)+p,E=T(g.y1)+w;if(r==="line")return"M"+A+","+x+"L"+L+","+E;if(r==="rect")return"M"+A+","+x+"H"+L+"V"+E+"H"+A+"Z";var C=(A+L)/2,b=(x+E)/2,z=Math.abs(C-A),k=Math.abs(b-x),U="A"+z+","+k,F=C+z+","+b,V=C+","+(b-k);return"M"+F+U+" 0 1,1 "+V+U+" 0 0,1 "+F+"Z"};function P(d,g,r){var e=d.path,o=d.xsizemode,n=d.ysizemode,u=d.xanchor,f=d.yanchor;return e.replace(y.segmentRE,function(c){var m=0,v=c.charAt(0),T=y.paramIsX[v],h=y.paramIsY[v],i=y.numParams[v],p=c.substr(1).replace(y.paramRE,function(w){return T[m]?o==="pixel"?w=g(u)+Number(w):w=g(w):h[m]&&(n==="pixel"?w=r(f)-Number(w):w=r(w)),m++,m>i&&(w="X"),w});return m>i&&(p=p.replace(/[\s,]*X.*/,""),D.log("Ignoring extra params in segment "+c)),v+p})}function M(d,g){g=g||0;var r=0;return g&&d&&(d.type==="category"||d.type==="multicategory")&&(r=(d.r2p(1)-d.r2p(0))*g),r}},41592:function(W,G,t){var y=t(4016);W.exports={moduleType:"component",name:"shapes",layoutAttributes:t(46056),supplyLayoutDefaults:t(43712),supplyDrawNewShapeDefaults:t(65144),includeBasePlot:t(36632)("shapes"),calcAutorange:t(96084),draw:y.draw,drawOne:y.drawOne}},97728:function(W){function G(T,h){return h?h.d2l(T):T}function t(T,h){return h?h.l2d(T):T}function y(T){return T.x0}function D(T){return T.x1}function s(T){return T.y0}function P(T){return T.y1}function M(T){return T.x0shift||0}function d(T){return T.x1shift||0}function g(T){return T.y0shift||0}function r(T){return T.y1shift||0}function e(T,h){return G(T.x1,h)+d(T)-G(T.x0,h)-M(T)}function o(T,h,i){return G(T.y1,i)+r(T)-G(T.y0,i)-g(T)}function n(T,h){return Math.abs(e(T,h))}function u(T,h,i){return Math.abs(o(T,h,i))}function f(T,h,i){return T.type!=="line"?void 0:Math.sqrt(Math.pow(e(T,h),2)+Math.pow(o(T,h,i),2))}function c(T,h){return t((G(T.x1,h)+d(T)+G(T.x0,h)+M(T))/2,h)}function m(T,h,i){return t((G(T.y1,i)+r(T)+G(T.y0,i)+g(T))/2,i)}function v(T,h,i){return T.type!=="line"?void 0:o(T,h,i)/e(T,h)}W.exports={x0:y,x1:D,y0:s,y1:P,slope:v,dx:e,dy:o,width:n,height:u,length:f,xcenter:c,ycenter:m}},89861:function(W,G,t){var y=t(25376),D=t(66741),s=t(92880).extendDeepAll,P=t(67824).overrideAll,M=t(85656),d=t(31780).templatedArray,g=t(60876),r=d("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});W.exports=P(d("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:s(D({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:M.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:y({})},font:y({}),activebgcolor:{valType:"color",dflt:g.gripBgActiveColor},bgcolor:{valType:"color",dflt:g.railBgColor},bordercolor:{valType:"color",dflt:g.railBorderColor},borderwidth:{valType:"number",min:0,dflt:g.railBorderWidth},ticklen:{valType:"number",min:0,dflt:g.tickLength},tickcolor:{valType:"color",dflt:g.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:g.minorTickLength}}),"arraydraw","from-root")},60876:function(W){W.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(W,G,t){var y=t(3400),D=t(51272),s=t(89861),P=t(60876),M=P.name,d=s.steps;W.exports=function(o,n){D(o,n,{name:M,handleItemDefaults:g})};function g(e,o,n){function u(p,w){return y.coerce(e,o,s,p,w)}for(var f=D(e,o,{name:"steps",handleItemDefaults:r}),c=0,m=0;m<f.length;m++)f[m].visible&&c++;var v;if(c<2?v=o.visible=!1:v=u("visible"),!!v){o._stepCount=c;var T=o._visibleSteps=y.filterVisible(f),h=u("active");(f[h]||{}).visible||(o.active=T[0]._index),u("x"),u("y"),y.noneOrAll(e,o,["x","y"]),u("xanchor"),u("yanchor"),u("len"),u("lenmode"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),y.coerceFont(u,"font",n.font);var i=u("currentvalue.visible");i&&(u("currentvalue.xanchor"),u("currentvalue.prefix"),u("currentvalue.suffix"),u("currentvalue.offset"),y.coerceFont(u,"currentvalue.font",o.font)),u("transition.duration"),u("transition.easing"),u("bgcolor"),u("activebgcolor"),u("bordercolor"),u("borderwidth"),u("ticklen"),u("tickwidth"),u("tickcolor"),u("minorticklen")}}function r(e,o){function n(c,m){return y.coerce(e,o,d,c,m)}var u;if(e.method!=="skip"&&!Array.isArray(e.args)?u=o.visible=!1:u=n("visible"),u){n("method"),n("args");var f=n("label","step-"+o._index);n("value",f),n("execute")}}},79664:function(W,G,t){var y=t(33428),D=t(7316),s=t(76308),P=t(43616),M=t(3400),d=M.strTranslate,g=t(72736),r=t(31780).arrayEditor,e=t(60876),o=t(84284),n=o.LINE_SPACING,u=o.FROM_TL,f=o.FROM_BR;W.exports=function(V){var N=V._context.staticPlot,O=V._fullLayout,H=m(O,V),X=O._infolayer.selectAll("g."+e.containerClassName).data(H.length>0?[0]:[]);X.enter().append("g").classed(e.containerClassName,!0).style("cursor",N?null:"ew-resize");function J(ot){ot._commandObserver&&(ot._commandObserver.remove(),delete ot._commandObserver),D.autoMargin(V,c(ot))}if(X.exit().each(function(){y.select(this).selectAll("g."+e.groupClassName).each(J)}).remove(),H.length!==0){var et=X.selectAll("g."+e.groupClassName).data(H,v);et.enter().append("g").classed(e.groupClassName,!0),et.exit().each(J).remove();for(var it=0;it<H.length;it++){var ft=H[it];T(V,ft)}et.each(function(ot){var Q=y.select(this);a(ot),D.manageCommandObserver(V,ot,ot._visibleSteps,function(tt){var Z=Q.data()[0];Z.active!==tt.index&&(Z._dragging||x(V,Q,Z,tt.index,!1,!0))}),h(V,y.select(this),ot)})}};function c(F){return e.autoMarginIdRoot+F._index}function m(F,V){for(var N=F[e.name],O=[],H=0;H<N.length;H++){var X=N[H];X.visible&&(X._gd=V,O.push(X))}return O}function v(F){return F._index}function T(F,V){var N=P.tester.selectAll("g."+e.labelGroupClass).data(V._visibleSteps);N.enter().append("g").classed(e.labelGroupClass,!0);var O=0,H=0;N.each(function(q){var ut=y.select(this),$=w(ut,{step:q},V),j=$.node();if(j){var lt=P.bBox(j);H=Math.max(H,lt.height),O=Math.max(O,lt.width)}}),N.remove();var X=V._dims={};X.inputAreaWidth=Math.max(e.railWidth,e.gripHeight);var J=F._fullLayout._size;X.lx=J.l+J.w*V.x,X.ly=J.t+J.h*(1-V.y),V.lenmode==="fraction"?X.outerLength=Math.round(J.w*V.len):X.outerLength=V.len,X.inputAreaStart=0,X.inputAreaLength=Math.round(X.outerLength-V.pad.l-V.pad.r);var et=X.inputAreaLength-2*e.stepInset,it=et/(V._stepCount-1),ft=O+e.labelPadding;if(X.labelStride=Math.max(1,Math.ceil(ft/it)),X.labelHeight=H,X.currentValueMaxWidth=0,X.currentValueHeight=0,X.currentValueTotalHeight=0,X.currentValueMaxLines=1,V.currentvalue.visible){var ot=P.tester.append("g");N.each(function(q){var ut=i(ot,V,q.label),$=ut.node()&&P.bBox(ut.node())||{width:0,height:0},j=g.lineCount(ut);X.currentValueMaxWidth=Math.max(X.currentValueMaxWidth,Math.ceil($.width)),X.currentValueHeight=Math.max(X.currentValueHeight,Math.ceil($.height)),X.currentValueMaxLines=Math.max(X.currentValueMaxLines,j)}),X.currentValueTotalHeight=X.currentValueHeight+V.currentvalue.offset,ot.remove()}X.height=X.currentValueTotalHeight+e.tickOffset+V.ticklen+e.labelOffset+X.labelHeight+V.pad.t+V.pad.b;var Q="left";M.isRightAnchor(V)&&(X.lx-=X.outerLength,Q="right"),M.isCenterAnchor(V)&&(X.lx-=X.outerLength/2,Q="center");var tt="top";M.isBottomAnchor(V)&&(X.ly-=X.height,tt="bottom"),M.isMiddleAnchor(V)&&(X.ly-=X.height/2,tt="middle"),X.outerLength=Math.ceil(X.outerLength),X.height=Math.ceil(X.height),X.lx=Math.round(X.lx),X.ly=Math.round(X.ly);var Z={y:V.y,b:X.height*f[tt],t:X.height*u[tt]};V.lenmode==="fraction"?(Z.l=0,Z.xl=V.x-V.len*u[Q],Z.r=0,Z.xr=V.x+V.len*f[Q]):(Z.x=V.x,Z.l=X.outerLength*u[Q],Z.r=X.outerLength*f[Q]),D.autoMargin(F,c(V),Z)}function h(F,V,N){(N.steps[N.active]||{}).visible||(N.active=N._visibleSteps[0]._index),V.call(i,N).call(U,N).call(A,N).call(S,N).call(k,F,N).call(p,F,N);var O=N._dims;P.setTranslate(V,O.lx+N.pad.l,O.ly+N.pad.t),V.call(C,N,!1),V.call(i,N)}function i(F,V,N){if(V.currentvalue.visible){var O=V._dims,H,X;switch(V.currentvalue.xanchor){case"right":H=O.inputAreaLength-e.currentValueInset-O.currentValueMaxWidth,X="left";break;case"center":H=O.inputAreaLength*.5,X="middle";break;default:H=e.currentValueInset,X="left"}var J=M.ensureSingle(F,"text",e.labelClass,function(tt){tt.attr({"text-anchor":X,"data-notex":1})}),et=V.currentvalue.prefix?V.currentvalue.prefix:"";if(typeof N=="string")et+=N;else{var it=V.steps[V.active].label,ft=V._gd._fullLayout._meta;ft&&(it=M.templateString(it,ft)),et+=it}V.currentvalue.suffix&&(et+=V.currentvalue.suffix),J.call(P.font,V.currentvalue.font).text(et).call(g.convertToTspans,V._gd);var ot=g.lineCount(J),Q=(O.currentValueMaxLines+1-ot)*V.currentvalue.font.size*n;return g.positionText(J,H,Q),J}}function p(F,V,N){var O=M.ensureSingle(F,"rect",e.gripRectClass,function(H){H.call(E,V,F,N).style("pointer-events","all")});O.attr({width:e.gripWidth,height:e.gripHeight,rx:e.gripRadius,ry:e.gripRadius}).call(s.stroke,N.bordercolor).call(s.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px")}function w(F,V,N){var O=M.ensureSingle(F,"text",e.labelClass,function(J){J.attr({"text-anchor":"middle","data-notex":1})}),H=V.step.label,X=N._gd._fullLayout._meta;return X&&(H=M.templateString(H,X)),O.call(P.font,N.font).text(H).call(g.convertToTspans,N._gd),O}function A(F,V){var N=M.ensureSingle(F,"g",e.labelsClass),O=V._dims,H=N.selectAll("g."+e.labelGroupClass).data(O.labelSteps);H.enter().append("g").classed(e.labelGroupClass,!0),H.exit().remove(),H.each(function(X){var J=y.select(this);J.call(w,X,V),P.setTranslate(J,b(V,X.fraction),e.tickOffset+V.ticklen+V.font.size*n+e.labelOffset+O.currentValueTotalHeight)})}function L(F,V,N,O,H){var X=Math.round(O*(N._stepCount-1)),J=N._visibleSteps[X]._index;J!==N.active&&x(F,V,N,J,!0,H)}function x(F,V,N,O,H,X){var J=N.active;N.active=O,r(F.layout,e.name,N).applyUpdate("active",O);var et=N.steps[N.active];V.call(C,N,X),V.call(i,N),F.emit("plotly_sliderchange",{slider:N,step:N.steps[N.active],interaction:H,previousActive:J}),et&&et.method&&H&&(V._nextMethod?(V._nextMethod.step=et,V._nextMethod.doCallback=H,V._nextMethod.doTransition=X):(V._nextMethod={step:et,doCallback:H,doTransition:X},V._nextMethodRaf=window.requestAnimationFrame(function(){var it=V._nextMethod.step;it.method&&(it.execute&&D.executeAPICommand(F,it.method,it.args),V._nextMethod=null,V._nextMethodRaf=null)})))}function E(F,V,N){if(V._context.staticPlot)return;var O=N.node(),H=y.select(V);function X(){return N.data()[0]}function J(){var et=X();V.emit("plotly_sliderstart",{slider:et});var it=N.select("."+e.gripRectClass);y.event.stopPropagation(),y.event.preventDefault(),it.call(s.fill,et.activebgcolor);var ft=z(et,y.mouse(O)[0]);L(V,N,et,ft,!0),et._dragging=!0;function ot(){var tt=X(),Z=z(tt,y.mouse(O)[0]);L(V,N,tt,Z,!1)}H.on("mousemove",ot),H.on("touchmove",ot);function Q(){var tt=X();tt._dragging=!1,it.call(s.fill,tt.bgcolor),H.on("mouseup",null),H.on("mousemove",null),H.on("touchend",null),H.on("touchmove",null),V.emit("plotly_sliderend",{slider:tt,step:tt.steps[tt.active]})}H.on("mouseup",Q),H.on("touchend",Q)}F.on("mousedown",J),F.on("touchstart",J)}function S(F,V){var N=F.selectAll("rect."+e.tickRectClass).data(V._visibleSteps),O=V._dims;N.enter().append("rect").classed(e.tickRectClass,!0),N.exit().remove(),N.attr({width:V.tickwidth+"px","shape-rendering":"crispEdges"}),N.each(function(H,X){var J=X%O.labelStride===0,et=y.select(this);et.attr({height:J?V.ticklen:V.minorticklen}).call(s.fill,V.tickcolor),P.setTranslate(et,b(V,X/(V._stepCount-1))-.5*V.tickwidth,(J?e.tickOffset:e.minorTickOffset)+O.currentValueTotalHeight)})}function a(F){var V=F._dims;V.labelSteps=[];for(var N=F._stepCount,O=0;O<N;O+=V.labelStride)V.labelSteps.push({fraction:O/(N-1),step:F._visibleSteps[O]})}function C(F,V,N){for(var O=F.select("rect."+e.gripRectClass),H=0,X=0;X<V._stepCount;X++)if(V._visibleSteps[X]._index===V.active){H=X;break}var J=b(V,H/(V._stepCount-1));if(!V._invokingCommand){var et=O;N&&V.transition.duration>0&&(et=et.transition().duration(V.transition.duration).ease(V.transition.easing)),et.attr("transform",d(J-e.gripWidth*.5,V._dims.currentValueTotalHeight))}}function b(F,V){var N=F._dims;return N.inputAreaStart+e.stepInset+(N.inputAreaLength-2*e.stepInset)*Math.min(1,Math.max(0,V))}function z(F,V){var N=F._dims;return Math.min(1,Math.max(0,(V-e.stepInset-N.inputAreaStart)/(N.inputAreaLength-2*e.stepInset-2*N.inputAreaStart)))}function k(F,V,N){var O=N._dims,H=M.ensureSingle(F,"rect",e.railTouchRectClass,function(X){X.call(E,V,F,N).style("pointer-events","all")});H.attr({width:O.inputAreaLength,height:Math.max(O.inputAreaWidth,e.tickOffset+N.ticklen+O.labelHeight)}).call(s.fill,N.bgcolor).attr("opacity",0),P.setTranslate(H,0,O.currentValueTotalHeight)}function U(F,V){var N=V._dims,O=N.inputAreaLength-e.railInset*2,H=M.ensureSingle(F,"rect",e.railRectClass);H.attr({width:O,height:e.railWidth,rx:e.railRadius,ry:e.railRadius,"shape-rendering":"crispEdges"}).call(s.stroke,V.bordercolor).call(s.fill,V.bgcolor).style("stroke-width",V.borderwidth+"px"),P.setTranslate(H,e.railInset,(N.inputAreaWidth-e.railWidth)*.5+N.currentValueTotalHeight)}},97544:function(W,G,t){var y=t(60876);W.exports={moduleType:"component",name:y.name,layoutAttributes:t(89861),supplyLayoutDefaults:t(8132),draw:t(79664)}},81668:function(W,G,t){var y=t(33428),D=t(38248),s=t(7316),P=t(24040),M=t(3400),d=M.strTranslate,g=t(43616),r=t(76308),e=t(72736),o=t(13448),n=t(84284).OPPOSITE_SIDE,u=/ [XY][0-9]* /,f=1.6,c=1.6;function m(v,T,h){var i=v._fullLayout,p=h.propContainer,w=h.propName,A=h.placeholder,L=h.traceIndex,x=h.avoid||{},E=h.attributes,S=h.transform,a=h.containerGroup,C=1,b=p.title,z=(b&&b.text?b.text:"").trim(),k=!1,U=b&&b.font?b.font:{},F=U.family,V=U.size,N=U.color,O=U.weight,H=U.style,X=U.variant,J=U.textcase,et=U.lineposition,it=U.shadow,ft=h.subtitlePropName,ot=!!ft,Q=h.subtitlePlaceholder,tt=(p.title||{}).subtitle||{text:"",font:{}},Z=tt.text.trim(),q=!1,ut=1,$=tt.font,j=$.family,lt=$.size,nt=$.color,ht=$.weight,mt=$.style,At=$.variant,bt=$.textcase,Pt=$.lineposition,_t=$.shadow,Ut;w==="title.text"?Ut="titleText":w.indexOf("axis")!==-1?Ut="axisTitleText":w.indexOf("colorbar"!==-1)&&(Ut="colorbarTitleText");var St=v._context.edits[Ut];function Rt(Me,ne){return Me===void 0||ne===void 0?!1:Me.replace(u," % ")===ne.replace(u," % ")}z===""?C=0:Rt(z,A)&&(St||(z=""),C=.2,k=!0),ot&&(Z===""?ut=0:Rt(Z,Q)&&(St||(Z=""),ut=.2,q=!0)),h._meta?z=M.templateString(z,h._meta):i._meta&&(z=M.templateString(z,i._meta));var Et=z||Z||St,zt;a||(a=M.ensureSingle(i._infolayer,"g","g-"+T),zt=i._hColorbarMoveTitle);var Ct=a.selectAll("text."+T).data(Et?[0]:[]);Ct.enter().append("text"),Ct.text(z).attr("class",T),Ct.exit().remove();var Wt=null,Kt=T+"-subtitle",oe=Z||St;if(ot&&oe&&(Wt=a.selectAll("text."+Kt).data(oe?[0]:[]),Wt.enter().append("text"),Wt.text(Z).attr("class",Kt),Wt.exit().remove()),!Et)return a;function Jt(Me,ne){M.syncOrAsync([te,fe],{title:Me,subtitle:ne})}function te(Me){var ne=Me.title,kt=Me.subtitle,Gt;!S&&zt&&(S={}),S?(Gt="",S.rotate&&(Gt+="rotate("+[S.rotate,E.x,E.y]+")"),(S.offset||zt)&&(Gt+=d(0,(S.offset||0)-(zt||0)))):Gt=null,ne.attr("transform",Gt);function Yt(dt){if(dt){var xt=y.select(dt.node().parentNode).select("."+Kt);if(!xt.empty()){var Ot=dt.node().getBBox();if(Ot.height){var jt=Ot.y+Ot.height+f*lt;xt.attr("y",jt)}}}}if(ne.style("opacity",C*r.opacity(N)).call(g.font,{color:r.rgb(N),size:y.round(V,2),family:F,weight:O,style:H,variant:X,textcase:J,shadow:it,lineposition:et}).attr(E).call(e.convertToTspans,v,Yt),kt){var Zt=a.select("."+T+"-math-group"),It=ne.node().getBBox(),Nt=Zt.node()?Zt.node().getBBox():void 0,Ht=Nt?Nt.y+Nt.height+f*lt:It.y+It.height+c*lt,Lt=M.extendFlat({},E,{y:Ht});kt.attr("transform",Gt),kt.style("opacity",ut*r.opacity(nt)).call(g.font,{color:r.rgb(nt),size:y.round(lt,2),family:j,weight:ht,style:mt,variant:At,textcase:bt,shadow:_t,lineposition:Pt}).attr(Lt).call(e.convertToTspans,v)}return s.previousPromises(v)}function fe(Me){var ne=Me.title,kt=y.select(ne.node().parentNode);if(x&&x.selection&&x.side&&z){kt.attr("transform",null);var Gt=n[x.side],Yt=x.side==="left"||x.side==="top"?-1:1,Zt=D(x.pad)?x.pad:2,It=g.bBox(kt.node()),Nt={t:0,b:0,l:0,r:0},Ht=v._fullLayout._reservedMargin;for(var Lt in Ht)for(var dt in Ht[Lt]){var xt=Ht[Lt][dt];Nt[dt]=Math.max(Nt[dt],xt)}var Ot={left:Nt.l,top:Nt.t,right:i.width-Nt.r,bottom:i.height-Nt.b},jt=x.maxShift||Yt*(Ot[x.side]-It[x.side]),ie=0;if(jt<0)ie=jt;else{var le=x.offsetLeft||0,Ve=x.offsetTop||0;It.left-=le,It.right-=le,It.top-=Ve,It.bottom-=Ve,x.selection.each(function(){var Te=g.bBox(this);M.bBoxIntersect(It,Te,Zt)&&(ie=Math.max(ie,Yt*(Te[x.side]-It[Gt])+Zt))}),ie=Math.min(jt,ie),p._titleScoot=Math.abs(ie)}if(ie>0||jt<0){var je={left:[-ie,0],right:[ie,0],top:[0,-ie],bottom:[0,ie]}[x.side];kt.attr("transform",d(je[0],je[1]))}}}Ct.call(Jt,Wt);function ve(Me,ne){Me.text(ne).on("mouseover.opacity",function(){y.select(this).transition().duration(o.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){y.select(this).transition().duration(o.HIDE_PLACEHOLDER).style("opacity",0)})}if(St&&(z?Ct.on(".opacity",null):(ve(Ct,A),k=!0),Ct.call(e.makeEditable,{gd:v}).on("edit",function(Me){L!==void 0?P.call("_guiRestyle",v,w,Me,L):P.call("_guiRelayout",v,w,Me)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Jt)}).on("input",function(Me){this.text(Me||" ").call(e.positionText,E.x,E.y)}),ot)){if(ot&&!z){var de=Ct.node().getBBox(),xe=de.y+de.height+c*lt;Wt.attr("y",xe)}Z?Wt.on(".opacity",null):(ve(Wt,Q),q=!0),Wt.call(e.makeEditable,{gd:v}).on("edit",function(Me){P.call("_guiRelayout",v,"title.subtitle.text",Me)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Jt)}).on("input",function(Me){this.text(Me||" ").call(e.positionText,Wt.attr("x"),Wt.attr("y"))})}return Ct.classed("js-placeholder",k),Wt&&Wt.classed("js-placeholder",q),a}W.exports={draw:m,SUBTITLE_PADDING_EM:c,SUBTITLE_PADDING_MATHJAX_EM:f}},88444:function(W,G,t){var y=t(25376),D=t(22548),s=t(92880).extendFlat,P=t(67824).overrideAll,M=t(66741),d=t(31780).templatedArray,g=d("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});W.exports=P(d("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:g,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:s(M({editType:"arraydraw"}),{}),font:y({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:D.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(W){W.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(W,G,t){var y=t(3400),D=t(51272),s=t(88444),P=t(73712),M=P.name,d=s.buttons;W.exports=function(o,n){var u={name:M,handleItemDefaults:g};D(o,n,u)};function g(e,o,n){function u(m,v){return y.coerce(e,o,s,m,v)}var f=D(e,o,{name:"buttons",handleItemDefaults:r}),c=u("visible",f.length>0);c&&(u("active"),u("direction"),u("type"),u("showactive"),u("x"),u("y"),y.noneOrAll(e,o,["x","y"]),u("xanchor"),u("yanchor"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),y.coerceFont(u,"font",n.font),u("bgcolor",n.paper_bgcolor),u("bordercolor"),u("borderwidth"))}function r(e,o){function n(f,c){return y.coerce(e,o,d,f,c)}var u=n("visible",e.method==="skip"||Array.isArray(e.args));u&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(W,G,t){var y=t(33428),D=t(7316),s=t(76308),P=t(43616),M=t(3400),d=t(72736),g=t(31780).arrayEditor,r=t(84284).LINE_SPACING,e=t(73712),o=t(37400);W.exports=function(z){var k=z._fullLayout,U=M.filterVisible(k[e.name]);function F(it){D.autoMargin(z,S(it))}var V=k._menulayer.selectAll("g."+e.containerClassName).data(U.length>0?[0]:[]);if(V.enter().append("g").classed(e.containerClassName,!0).style("cursor","pointer"),V.exit().each(function(){y.select(this).selectAll("g."+e.headerGroupClassName).each(F)}).remove(),U.length!==0){var N=V.selectAll("g."+e.headerGroupClassName).data(U,n);N.enter().append("g").classed(e.headerGroupClassName,!0);for(var O=M.ensureSingle(V,"g",e.dropdownButtonGroupClassName,function(it){it.style("pointer-events","all")}),H=0;H<U.length;H++){var X=U[H];E(z,X)}var J="updatemenus"+k._uid,et=new o(z,O,J);N.enter().size()&&(O.node().parentNode.appendChild(O.node()),O.call(C)),N.exit().each(function(it){O.call(C),F(it)}).remove(),N.each(function(it){var ft=y.select(this),ot=it.type==="dropdown"?O:null;D.manageCommandObserver(z,it,it.buttons,function(Q){c(z,it,it.buttons[Q.index],ft,ot,et,Q.index,!0)}),it.type==="dropdown"?(m(z,ft,O,et,it),f(O,it)&&v(z,ft,O,et,it)):v(z,ft,null,null,it)})}};function n(b){return b._index}function u(b){return+b.attr(e.menuIndexAttrName)==-1}function f(b,z){return+b.attr(e.menuIndexAttrName)===z._index}function c(b,z,k,U,F,V,N,O){z.active=N,g(b.layout,e.name,z).applyUpdate("active",N),z.type==="buttons"?v(b,U,null,null,z):z.type==="dropdown"&&(F.attr(e.menuIndexAttrName,"-1"),m(b,U,F,V,z),O||v(b,U,F,V,z))}function m(b,z,k,U,F){var V=M.ensureSingle(z,"g",e.headerClassName,function(it){it.style("pointer-events","all")}),N=F._dims,O=F.active,H=F.buttons[O]||e.blankHeaderOpts,X={y:F.pad.t,yPad:0,x:F.pad.l,xPad:0,index:0},J={width:N.headerWidth,height:N.headerHeight};V.call(i,F,H,b).call(a,F,X,J);var et=M.ensureSingle(z,"text",e.headerArrowClassName,function(it){it.attr("text-anchor","end").call(P.font,F.font).text(e.arrowSymbol[F.direction])});et.attr({x:N.headerWidth-e.arrowOffsetX+F.pad.l,y:N.headerHeight/2+e.textOffsetY+F.pad.t}),V.on("click",function(){k.call(C,String(f(k,F)?-1:F._index)),v(b,z,k,U,F)}),V.on("mouseover",function(){V.call(L)}),V.on("mouseout",function(){V.call(x,F)}),P.setTranslate(z,N.lx,N.ly)}function v(b,z,k,U,F){k||(k=z,k.attr("pointer-events","all"));var V=!u(k)||F.type==="buttons"?F.buttons:[],N=F.type==="dropdown"?e.dropdownButtonClassName:e.buttonClassName,O=k.selectAll("g."+N).data(M.filterVisible(V)),H=O.enter().append("g").classed(N,!0),X=O.exit();F.type==="dropdown"?(H.attr("opacity","0").transition().attr("opacity","1"),X.transition().attr("opacity","0").remove()):X.remove();var J=0,et=0,it=F._dims,ft=["up","down"].indexOf(F.direction)!==-1;F.type==="dropdown"&&(ft?et=it.headerHeight+e.gapButtonHeader:J=it.headerWidth+e.gapButtonHeader),F.type==="dropdown"&&F.direction==="up"&&(et=-e.gapButtonHeader+e.gapButton-it.openHeight),F.type==="dropdown"&&F.direction==="left"&&(J=-e.gapButtonHeader+e.gapButton-it.openWidth);var ot={x:it.lx+J+F.pad.l,y:it.ly+et+F.pad.t,yPad:e.gapButton,xPad:e.gapButton,index:0},Q={l:ot.x+F.borderwidth,t:ot.y+F.borderwidth};O.each(function(tt,Z){var q=y.select(this);q.call(i,F,tt,b).call(a,F,ot),q.on("click",function(){y.event.defaultPrevented||(tt.execute&&(tt.args2&&F.active===Z?(c(b,F,tt,z,k,U,-1),D.executeAPICommand(b,tt.method,tt.args2)):(c(b,F,tt,z,k,U,Z),D.executeAPICommand(b,tt.method,tt.args))),b.emit("plotly_buttonclicked",{menu:F,button:tt,active:F.active}))}),q.on("mouseover",function(){q.call(L)}),q.on("mouseout",function(){q.call(x,F),O.call(A,F)})}),O.call(A,F),ft?(Q.w=Math.max(it.openWidth,it.headerWidth),Q.h=ot.y-Q.t):(Q.w=ot.x-Q.l,Q.h=Math.max(it.openHeight,it.headerHeight)),Q.direction=F.direction,U&&(O.size()?T(b,z,k,U,F,Q):h(U))}function T(b,z,k,U,F,V){var N=F.direction,O=N==="up"||N==="down",H=F._dims,X=F.active,J,et,it;if(O)for(et=0,it=0;it<X;it++)et+=H.heights[it]+e.gapButton;else for(J=0,it=0;it<X;it++)J+=H.widths[it]+e.gapButton;U.enable(V,J,et),U.hbar&&U.hbar.attr("opacity","0").transition().attr("opacity","1"),U.vbar&&U.vbar.attr("opacity","0").transition().attr("opacity","1")}function h(b){var z=!!b.hbar,k=!!b.vbar;z&&b.hbar.transition().attr("opacity","0").each("end",function(){z=!1,k||b.disable()}),k&&b.vbar.transition().attr("opacity","0").each("end",function(){k=!1,z||b.disable()})}function i(b,z,k,U){b.call(p,z).call(w,z,k,U)}function p(b,z){var k=M.ensureSingle(b,"rect",e.itemRectClassName,function(U){U.attr({rx:e.rx,ry:e.ry,"shape-rendering":"crispEdges"})});k.call(s.stroke,z.bordercolor).call(s.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px")}function w(b,z,k,U){var F=M.ensureSingle(b,"text",e.itemTextClassName,function(O){O.attr({"text-anchor":"start","data-notex":1})}),V=k.label,N=U._fullLayout._meta;N&&(V=M.templateString(V,N)),F.call(P.font,z.font).text(V).call(d.convertToTspans,U)}function A(b,z){var k=z.active;b.each(function(U,F){var V=y.select(this);F===k&&z.showactive&&V.select("rect."+e.itemRectClassName).call(s.fill,e.activeColor)})}function L(b){b.select("rect."+e.itemRectClassName).call(s.fill,e.hoverColor)}function x(b,z){b.select("rect."+e.itemRectClassName).call(s.fill,z.bgcolor)}function E(b,z){var k=z._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},U=P.tester.selectAll("g."+e.dropdownButtonClassName).data(M.filterVisible(z.buttons));U.enter().append("g").classed(e.dropdownButtonClassName,!0);var F=["up","down"].indexOf(z.direction)!==-1;U.each(function(J,et){var it=y.select(this);it.call(i,z,J,b);var ft=it.select("."+e.itemTextClassName),ot=ft.node()&&P.bBox(ft.node()).width,Q=Math.max(ot+e.textPadX,e.minWidth),tt=z.font.size*r,Z=d.lineCount(ft),q=Math.max(tt*Z,e.minHeight)+e.textOffsetY;q=Math.ceil(q),Q=Math.ceil(Q),k.widths[et]=Q,k.heights[et]=q,k.height1=Math.max(k.height1,q),k.width1=Math.max(k.width1,Q),F?(k.totalWidth=Math.max(k.totalWidth,Q),k.openWidth=k.totalWidth,k.totalHeight+=q+e.gapButton,k.openHeight+=q+e.gapButton):(k.totalWidth+=Q+e.gapButton,k.openWidth+=Q+e.gapButton,k.totalHeight=Math.max(k.totalHeight,q),k.openHeight=k.totalHeight)}),F?k.totalHeight-=e.gapButton:k.totalWidth-=e.gapButton,k.headerWidth=k.width1+e.arrowPadX,k.headerHeight=k.height1,z.type==="dropdown"&&(F?(k.width1+=e.arrowPadX,k.totalHeight=k.height1):k.totalWidth=k.width1,k.totalWidth+=e.arrowPadX),U.remove();var V=k.totalWidth+z.pad.l+z.pad.r,N=k.totalHeight+z.pad.t+z.pad.b,O=b._fullLayout._size;k.lx=O.l+O.w*z.x,k.ly=O.t+O.h*(1-z.y);var H="left";M.isRightAnchor(z)&&(k.lx-=V,H="right"),M.isCenterAnchor(z)&&(k.lx-=V/2,H="center");var X="top";M.isBottomAnchor(z)&&(k.ly-=N,X="bottom"),M.isMiddleAnchor(z)&&(k.ly-=N/2,X="middle"),k.totalWidth=Math.ceil(k.totalWidth),k.totalHeight=Math.ceil(k.totalHeight),k.lx=Math.round(k.lx),k.ly=Math.round(k.ly),D.autoMargin(b,S(z),{x:z.x,y:z.y,l:V*({right:1,center:.5}[H]||0),r:V*({left:1,center:.5}[H]||0),b:N*({top:1,middle:.5}[X]||0),t:N*({bottom:1,middle:.5}[X]||0)})}function S(b){return e.autoMarginIdRoot+b._index}function a(b,z,k,U){U=U||{};var F=b.select("."+e.itemRectClassName),V=b.select("."+e.itemTextClassName),N=z.borderwidth,O=k.index,H=z._dims;P.setTranslate(b,N+k.x,N+k.y);var X=["up","down"].indexOf(z.direction)!==-1,J=U.height||(X?H.heights[O]:H.height1);F.attr({x:0,y:0,width:U.width||(X?H.width1:H.widths[O]),height:J});var et=z.font.size*r,it=d.lineCount(V),ft=(it-1)*et/2;d.positionText(V,e.textOffsetX,J/2-ft+e.textOffsetY),X?k.y+=H.heights[O]+k.yPad:k.x+=H.widths[O]+k.xPad,k.index++}function C(b,z){b.attr(e.menuIndexAttrName,z||"-1").selectAll("g."+e.dropdownButtonClassName).remove()}},76908:function(W,G,t){var y=t(73712);W.exports={moduleType:"component",name:y.name,layoutAttributes:t(88444),supplyLayoutDefaults:t(91384),draw:t(14420)}},37400:function(W,G,t){W.exports=M;var y=t(33428),D=t(76308),s=t(43616),P=t(3400);function M(d,g,r){this.gd=d,this.container=g,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}M.barWidth=2,M.barLength=20,M.barRadius=2,M.barPad=1,M.barColor="#808BA4",M.prototype.enable=function(g,r,e){var o=this.gd._fullLayout,n=o.width,u=o.height;this.position=g;var f=this.position.l,c=this.position.w,m=this.position.t,v=this.position.h,T=this.position.direction,h=T==="down",i=T==="left",p=T==="right",w=T==="up",A=c,L=v,x,E,S,a;!h&&!i&&!p&&!w&&(this.position.direction="down",h=!0);var C=h||w;C?(x=f,E=x+A,h?(S=m,a=Math.min(S+L,u),L=a-S):(a=m+L,S=Math.max(a-L,0),L=a-S)):(S=m,a=S+L,i?(E=f+A,x=Math.max(E-A,0),A=E-x):(x=f,E=Math.min(x+A,n),A=E-x)),this._box={l:x,t:S,w:A,h:L};var b=c>A,z=M.barLength+2*M.barPad,k=M.barWidth+2*M.barPad,U=f,F=m+v;F+k>u&&(F=u-k);var V=this.container.selectAll("rect.scrollbar-horizontal").data(b?[0]:[]);V.exit().on(".drag",null).remove(),V.enter().append("rect").classed("scrollbar-horizontal",!0).call(D.fill,M.barColor),b?(this.hbar=V.attr({rx:M.barRadius,ry:M.barRadius,x:U,y:F,width:z,height:k}),this._hbarXMin=U+z/2,this._hbarTranslateMax=A-z):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var N=v>L,O=M.barWidth+2*M.barPad,H=M.barLength+2*M.barPad,X=f+c,J=m;X+O>n&&(X=n-O);var et=this.container.selectAll("rect.scrollbar-vertical").data(N?[0]:[]);et.exit().on(".drag",null).remove(),et.enter().append("rect").classed("scrollbar-vertical",!0).call(D.fill,M.barColor),N?(this.vbar=et.attr({rx:M.barRadius,ry:M.barRadius,x:X,y:J,width:O,height:H}),this._vbarYMin=J+H/2,this._vbarTranslateMax=L-H):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var it=this.id,ft=x-.5,ot=N?E+O+.5:E+.5,Q=S-.5,tt=b?a+k+.5:a+.5,Z=o._topdefs.selectAll("#"+it).data(b||N?[0]:[]);if(Z.exit().remove(),Z.enter().append("clipPath").attr("id",it).append("rect"),b||N?(this._clipRect=Z.select("rect").attr({x:Math.floor(ft),y:Math.floor(Q),width:Math.ceil(ot)-Math.floor(ft),height:Math.ceil(tt)-Math.floor(Q)}),this.container.call(s.setClipUrl,it,this.gd),this.bg.attr({x:f,y:m,width:c,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),b||N){var q=y.behavior.drag().on("dragstart",function(){y.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var ut=y.behavior.drag().on("dragstart",function(){y.event.sourceEvent.preventDefault(),y.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));b&&this.hbar.on(".drag",null).call(ut),N&&this.vbar.on(".drag",null).call(ut)}this.setTranslate(r,e)},M.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},M.prototype._onBoxDrag=function(){var g=this.translateX,r=this.translateY;this.hbar&&(g-=y.event.dx),this.vbar&&(r-=y.event.dy),this.setTranslate(g,r)},M.prototype._onBoxWheel=function(){var g=this.translateX,r=this.translateY;this.hbar&&(g+=y.event.deltaY),this.vbar&&(r+=y.event.deltaY),this.setTranslate(g,r)},M.prototype._onBarDrag=function(){var g=this.translateX,r=this.translateY;if(this.hbar){var e=g+this._hbarXMin,o=e+this._hbarTranslateMax,n=P.constrain(y.event.x,e,o),u=(n-e)/(o-e),f=this.position.w-this._box.w;g=u*f}if(this.vbar){var c=r+this._vbarYMin,m=c+this._vbarTranslateMax,v=P.constrain(y.event.y,c,m),T=(v-c)/(m-c),h=this.position.h-this._box.h;r=T*h}this.setTranslate(g,r)},M.prototype.setTranslate=function(g,r){var e=this.position.w-this._box.w,o=this.position.h-this._box.h;if(g=P.constrain(g||0,0,e),r=P.constrain(r||0,0,o),this.translateX=g,this.translateY=r,this.container.call(s.setTranslate,this._box.l-this.position.l-g,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+g-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=g/e;this.hbar.call(s.setTranslate,g+n*this._hbarTranslateMax,r)}if(this.vbar){var u=r/o;this.vbar.call(s.setTranslate,g,r+u*this._vbarTranslateMax)}}},84284:function(W){W.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(W){W.exports={axisRefDescription:function(G,t,y){return["If set to a",G,"axis id (e.g. *"+G+"* or","*"+G+"2*), the `"+G+"` position refers to a",G,"coordinate. If set to *paper*, the `"+G+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+y+"). If set to a",G,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+G+"2 domain* refers to the domain of the second",G," axis and a",G,"position of 0.5 refers to the","point between the",t,"and the",y,"of the domain of the","second",G,"axis."].join(" ")}}},48164:function(W){W.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(W){W.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(W){W.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(W){W.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(W){W.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(W){W.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(W){W.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(W,G){G.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],G.STYLE=G.CSS_DECLARATIONS.map(function(t){return t.join(": ")+"; "}).join("")},9616:function(W,G){G.xmlns="http://www.w3.org/2000/xmlns/",G.svg="http://www.w3.org/2000/svg",G.xlink="http://www.w3.org/1999/xlink",G.svgAttrs={xmlns:G.svg,"xmlns:xlink":G.xlink}},64884:function(W,G,t){G.version=t(25788).version,t(88324),t(79288);for(var y=t(24040),D=G.register=y.register,s=t(22448),P=Object.keys(s),M=0;M<P.length;M++){var d=P[M];d.charAt(0)!=="_"&&(G[d]=s[d]),D({moduleType:"apiMethod",name:d,fn:s[d]})}D(t(65875)),D([t(79180),t(56864),t(22676),t(41592),t(7402),t(76908),t(97544),t(49692),t(41152),t(12704),t(64968),t(8932),t(55080),t(2780),t(93024),t(45460)]),D([t(6580),t(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(D(window.PlotlyLocales),delete window.PlotlyLocales),G.Icons=t(9224);var g=t(93024),r=t(7316);G.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},G.Fx={hover:g.hover,unhover:g.unhover,loneHover:g.loneHover,loneUnhover:g.loneUnhover},G.Snapshot=t(78904),G.PlotSchema=t(73060)},9224:function(W){W.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(W,G){G.isLeftAnchor=function(y){return y.xanchor==="left"||y.xanchor==="auto"&&y.x<=.3333333333333333},G.isCenterAnchor=function(y){return y.xanchor==="center"||y.xanchor==="auto"&&y.x>.3333333333333333&&y.x<.6666666666666666},G.isRightAnchor=function(y){return y.xanchor==="right"||y.xanchor==="auto"&&y.x>=.6666666666666666},G.isTopAnchor=function(y){return y.yanchor==="top"||y.yanchor==="auto"&&y.y>=.6666666666666666},G.isMiddleAnchor=function(y){return y.yanchor==="middle"||y.yanchor==="auto"&&y.y>.3333333333333333&&y.y<.6666666666666666},G.isBottomAnchor=function(y){return y.yanchor==="bottom"||y.yanchor==="auto"&&y.y<=.3333333333333333}},11864:function(W,G,t){var y=t(20435),D=y.mod,s=y.modHalf,P=Math.PI,M=2*P;function d(T){return T/180*P}function g(T){return T/P*180}function r(T){return Math.abs(T[1]-T[0])>M-1e-14}function e(T,h){return s(h-T,M)}function o(T,h){return Math.abs(e(T,h))}function n(T,h){if(r(h))return!0;var i,p;h[0]<h[1]?(i=h[0],p=h[1]):(i=h[1],p=h[0]),i=D(i,M),p=D(p,M),i>p&&(p+=M);var w=D(T,M),A=w+M;return w>=i&&w<=p||A>=i&&A<=p}function u(T,h,i,p){if(!n(h,p))return!1;var w,A;return i[0]<i[1]?(w=i[0],A=i[1]):(w=i[1],A=i[0]),T>=w&&T<=A}function f(T,h,i,p,w,A,L){w=w||0,A=A||0;var x=r([i,p]),E,S,a,C,b;x?(E=0,S=P,a=M):i<p?(E=i,a=p):(E=p,a=i),T<h?(C=T,b=h):(C=h,b=T);function z(V,N){return[V*Math.cos(N)+w,A-V*Math.sin(N)]}var k=Math.abs(a-E)<=P?0:1;function U(V,N,O){return"A"+[V,V]+" "+[0,k,O]+" "+z(V,N)}var F;return x?C===null?F="M"+z(b,E)+U(b,S,0)+U(b,a,0)+"Z":F="M"+z(C,E)+U(C,S,0)+U(C,a,0)+"ZM"+z(b,E)+U(b,S,1)+U(b,a,1)+"Z":C===null?(F="M"+z(b,E)+U(b,a,0),L&&(F+="L0,0Z")):F="M"+z(C,E)+"L"+z(b,E)+U(b,a,0)+"L"+z(C,a)+U(C,E,1)+"Z",F}function c(T,h,i,p,w){return f(null,T,h,i,p,w,0)}function m(T,h,i,p,w){return f(null,T,h,i,p,w,1)}function v(T,h,i,p,w,A){return f(T,h,i,p,w,A,1)}W.exports={deg2rad:d,rad2deg:g,angleDelta:e,angleDist:o,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:u,pathArc:c,pathSector:m,pathAnnulus:v}},38116:function(W,G,t){var y=t(83160).decode,D=t(63620),s=Array.isArray,P=ArrayBuffer,M=DataView;function d(f){return P.isView(f)&&!(f instanceof M)}G.isTypedArray=d;function g(f){return s(f)||d(f)}G.isArrayOrTypedArray=g;function r(f){return!g(f[0])}G.isArray1D=r,G.ensureArray=function(f,c){return s(f)||(f=[]),f.length=c,f};var e={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};e.uint8c=e.u1c,e.uint8=e.u1,e.int8=e.i1,e.uint16=e.u2,e.int16=e.i2,e.uint32=e.u4,e.int32=e.i4,e.float32=e.f4,e.float64=e.f8;function o(f){return f.constructor===ArrayBuffer}G.isArrayBuffer=o,G.decodeTypedArraySpec=function(f){var c=[],m=n(f),v=m.dtype,T=e[v];if(!T)throw new Error('Error in dtype: "'+v+'"');var h=T.BYTES_PER_ELEMENT,i=m.bdata;o(i)||(i=y(i));var p=m.shape===void 0?[i.byteLength/h]:(""+m.shape).split(",");p.reverse();var w=p.length,A,L,x=+p[0],E=h*x,S=0;if(w===1)c=new T(i);else if(w===2)for(A=+p[1],L=0;L<A;L++)c[L]=new T(i,S,x),S+=E;else if(w===3){A=+p[1];for(var a=+p[2],C=0;C<a;C++)for(c[C]=[],L=0;L<A;L++)c[C][L]=new T(i,S,x),S+=E}else throw new Error("ndim: "+w+'is not supported with the shape:"'+m.shape+'"');return c.bdata=m.bdata,c.dtype=m.dtype,c.shape=p.reverse().join(","),f._inputArray=c,c},G.isTypedArraySpec=function(f){return D(f)&&f.hasOwnProperty("dtype")&&typeof f.dtype=="string"&&f.hasOwnProperty("bdata")&&(typeof f.bdata=="string"||o(f.bdata))&&(f.shape===void 0||f.hasOwnProperty("shape")&&(typeof f.shape=="string"||typeof f.shape=="number"))};function n(f){return{bdata:f.bdata,dtype:f.dtype,shape:f.shape}}G.concat=function(){var f=[],c=!0,m=0,v,T,h,i,p,w,A,L;for(h=0;h<arguments.length;h++)i=arguments[h],w=i.length,w&&(T?f.push(i):(T=i,p=w),s(i)?v=!1:(c=!1,m?v!==i.constructor&&(v=!1):v=i.constructor),m+=w);if(!m)return[];if(!f.length)return T;if(c)return T.concat.apply(T,f);if(v){for(A=new v(m),A.set(T),h=0;h<f.length;h++)i=f[h],A.set(i,p),p+=i.length;return A}for(A=new Array(m),L=0;L<T.length;L++)A[L]=T[L];for(h=0;h<f.length;h++){for(i=f[h],L=0;L<i.length;L++)A[p+L]=i[L];p+=L}return A},G.maxRowLength=function(f){return u(f,Math.max,0)},G.minRowLength=function(f){return u(f,Math.min,1/0)};function u(f,c,m){if(g(f))if(g(f[0])){for(var v=m,T=0;T<f.length;T++)v=c(v,f[T].length);return v}else return f.length;return 0}},54037:function(W,G,t){var y=t(38248),D=t(39032).BADNUM,s=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;W.exports=function(M){return typeof M=="string"&&(M=M.replace(s,"")),y(M)?Number(M):D}},73696:function(W){W.exports=function(t){var y=t._fullLayout;y._glcanvas&&y._glcanvas.size()&&y._glcanvas.each(function(D){D.regl&&D.regl.clear({color:!0,depth:!0})})}},75352:function(W){W.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},63064:function(W,G,t){var y=t(38248),D=t(49760),s=t(92880).extendFlat,P=t(45464),M=t(88304),d=t(76308),g=t(13448).DESELECTDIM,r=t(22296),e=t(53756).counter,o=t(20435).modHalf,n=t(38116).isArrayOrTypedArray,u=t(38116).isTypedArraySpec,f=t(38116).decodeTypedArraySpec;G.valObjectMeta={data_array:{coerceFunction:function(m,v,T){v.set(n(m)?m:u(m)?f(m):T)}},enumerated:{coerceFunction:function(m,v,T,h){h.coerceNumber&&(m=+m),h.values.indexOf(m)===-1?v.set(T):v.set(m)},validateFunction:function(m,v){v.coerceNumber&&(m=+m);for(var T=v.values,h=0;h<T.length;h++){var i=String(T[h]);if(i.charAt(0)==="/"&&i.charAt(i.length-1)==="/"){var p=new RegExp(i.substr(1,i.length-2));if(p.test(m))return!0}else if(m===T[h])return!0}return!1}},boolean:{coerceFunction:function(m,v,T){m===!0||m===!1?v.set(m):v.set(T)}},number:{coerceFunction:function(m,v,T,h){u(m)&&(m=f(m)),!y(m)||h.min!==void 0&&m<h.min||h.max!==void 0&&m>h.max?v.set(T):v.set(+m)}},integer:{coerceFunction:function(m,v,T,h){if((h.extras||[]).indexOf(m)!==-1){v.set(m);return}u(m)&&(m=f(m)),m%1||!y(m)||h.min!==void 0&&m<h.min||h.max!==void 0&&m>h.max?v.set(T):v.set(+m)}},string:{coerceFunction:function(m,v,T,h){if(typeof m!="string"){var i=typeof m=="number";h.strict===!0||!i?v.set(T):v.set(String(m))}else h.noBlank&&!m?v.set(T):v.set(m)}},color:{coerceFunction:function(m,v,T){u(m)&&(m=f(m)),D(m).isValid()?v.set(m):v.set(T)}},colorlist:{coerceFunction:function(m,v,T){function h(i){return D(i).isValid()}!Array.isArray(m)||!m.length?v.set(T):m.every(h)?v.set(m):v.set(T)}},colorscale:{coerceFunction:function(m,v,T){v.set(M.get(m,T))}},angle:{coerceFunction:function(m,v,T){u(m)&&(m=f(m)),m==="auto"?v.set("auto"):y(m)?v.set(o(+m,360)):v.set(T)}},subplotid:{coerceFunction:function(m,v,T,h){var i=h.regex||e(T);if(typeof m=="string"&&i.test(m)){v.set(m);return}v.set(T)},validateFunction:function(m,v){var T=v.dflt;return m===T?!0:typeof m!="string"?!1:!!e(T).test(m)}},flaglist:{coerceFunction:function(m,v,T,h){if((h.extras||[]).indexOf(m)!==-1){v.set(m);return}if(typeof m!="string"){v.set(T);return}for(var i=m.split("+"),p=0;p<i.length;){var w=i[p];h.flags.indexOf(w)===-1||i.indexOf(w)<p?i.splice(p,1):p++}i.length?v.set(i.join("+")):v.set(T)}},any:{coerceFunction:function(m,v,T){m===void 0?v.set(T):v.set(u(m)?f(m):m)}},info_array:{coerceFunction:function(m,v,T,h){function i(F,V,N){var O,H={set:function(X){O=X}};return N===void 0&&(N=V.dflt),G.valObjectMeta[V.valType].coerceFunction(F,H,N,V),O}if(u(m)&&(m=f(m)),!n(m)){v.set(T);return}var p=h.dimensions===2||h.dimensions==="1-2"&&Array.isArray(m)&&n(m[0]),w=h.items,A=[],L=Array.isArray(w),x=L&&p&&n(w[0]),E=p&&L&&!x,S=L&&!E?w.length:m.length,a,C,b,z,k,U;if(T=Array.isArray(T)?T:[],p)for(a=0;a<S;a++)for(A[a]=[],b=n(m[a])?m[a]:[],E?k=w.length:L?k=w[a].length:k=b.length,C=0;C<k;C++)E?z=w[C]:L?z=w[a][C]:z=w,U=i(b[C],z,(T[a]||[])[C]),U!==void 0&&(A[a][C]=U);else for(a=0;a<S;a++)U=i(m[a],L?w[a]:w,T[a]),U!==void 0&&(A[a]=U);v.set(A)},validateFunction:function(m,v){if(!n(m))return!1;var T=v.items,h=Array.isArray(T),i=v.dimensions===2;if(!v.freeLength&&m.length!==T.length)return!1;for(var p=0;p<m.length;p++)if(i){if(!n(m[p])||!v.freeLength&&m[p].length!==T[p].length)return!1;for(var w=0;w<m[p].length;w++)if(!c(m[p][w],h?T[p][w]:T))return!1}else if(!c(m[p],h?T[p]:T))return!1;return!0}}},G.coerce=function(m,v,T,h,i){var p=r(T,h).get(),w=r(m,h),A=r(v,h),L=w.get(),x=v._template;if(L===void 0&&x&&(L=r(x,h).get(),x=0),i===void 0&&(i=p.dflt),p.arrayOk){if(n(L))return A.set(L),L;if(u(L))return L=f(L),A.set(L),L}var E=G.valObjectMeta[p.valType].coerceFunction;E(L,A,i,p);var S=A.get();return x&&S===i&&!c(L,p)&&(L=r(x,h).get(),E(L,A,i,p),S=A.get()),S},G.coerce2=function(m,v,T,h,i){var p=r(m,h),w=G.coerce(m,v,T,h,i),A=p.get();return A!=null?w:!1},G.coerceFont=function(m,v,T,h){h||(h={}),T=s({},T),T=s(T,h.overrideDflt||{});var i={family:m(v+".family",T.family),size:m(v+".size",T.size),color:m(v+".color",T.color),weight:m(v+".weight",T.weight),style:m(v+".style",T.style)};if(h.noFontVariant||(i.variant=m(v+".variant",T.variant)),h.noFontLineposition||(i.lineposition=m(v+".lineposition",T.lineposition)),h.noFontTextcase||(i.textcase=m(v+".textcase",T.textcase)),!h.noFontShadow){var p=T.shadow;p==="none"&&h.autoShadowDflt&&(p="auto"),i.shadow=m(v+".shadow",p)}return i},G.coercePattern=function(m,v,T,h){var i=m(v+".shape");if(i){m(v+".solidity"),m(v+".size");var p=m(v+".fillmode"),w=p==="overlay";if(!h){var A=m(v+".bgcolor",w?T:void 0);m(v+".fgcolor",w?d.contrast(A):T)}m(v+".fgopacity",w?.5:1)}},G.coerceHoverinfo=function(m,v,T){var h=v._module.attributes,i=h.hoverinfo?h:P,p=i.hoverinfo,w;if(T._dataLength===1){var A=p.dflt==="all"?p.flags.slice():p.dflt.split("+");A.splice(A.indexOf("name"),1),w=A.join("+")}return G.coerce(m,v,i,"hoverinfo",w)},G.coerceSelectionMarkerOpacity=function(m,v){if(m.marker){var T=m.marker.opacity;if(T!==void 0){var h,i;!n(T)&&!m.selected&&!m.unselected&&(h=T,i=g*T),v("selected.marker.opacity",h),v("unselected.marker.opacity",i)}}};function c(m,v){var T=G.valObjectMeta[v.valType];if(v.arrayOk&&n(m))return!0;if(T.validateFunction)return T.validateFunction(m,v);var h={},i=h,p={set:function(w){i=w}};return T.coerceFunction(m,p,h,v),i!==h}G.validate=c},67555:function(W,G,t){var y=t(94336).Yn,D=t(38248),s=t(24248),P=t(20435).mod,M=t(39032),d=M.BADNUM,g=M.ONEDAY,r=M.ONEHOUR,e=M.ONEMIN,o=M.ONESEC,n=M.EPOCHJD,u=t(24040),f=t(94336).E9,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,v=new Date().getFullYear()-70;function T(F){return F&&u.componentsRegistry.calendars&&typeof F=="string"&&F!=="gregorian"}G.dateTick0=function(F,V){var N=h(F,!!V);if(V<2)return N;var O=G.dateTime2ms(N,F);return O+=g*(V-1),G.ms2DateTime(O,0,F)};function h(F,V){return T(F)?V?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[F]:u.getComponentMethod("calendars","CANONICAL_TICK")[F]:V?"2000-01-02":"2000-01-01"}G.dfltRange=function(F){return T(F)?u.getComponentMethod("calendars","DFLTRANGE")[F]:["2000-01-01","2001-01-01"]},G.isJSDate=function(F){return typeof F=="object"&&F!==null&&typeof F.getTime=="function"};var i,p;G.dateTime2ms=function(F,V){if(G.isJSDate(F)){var N=F.getTimezoneOffset()*e,O=(F.getUTCMinutes()-F.getMinutes())*e+(F.getUTCSeconds()-F.getSeconds())*o+(F.getUTCMilliseconds()-F.getMilliseconds());if(O){var H=3*e;N=N-H/2+P(O-N+H/2,H)}return F=Number(F)-N,F>=i&&F<=p?F:d}if(typeof F!="string"&&typeof F!="number")return d;F=String(F);var X=T(V),J=F.charAt(0);X&&(J==="G"||J==="g")&&(F=F.substr(1),V="");var et=X&&V.substr(0,7)==="chinese",it=F.match(et?m:c);if(!it)return d;var ft=it[1],ot=it[3]||"1",Q=Number(it[5]||1),tt=Number(it[7]||0),Z=Number(it[9]||0),q=Number(it[11]||0);if(X){if(ft.length===2)return d;ft=Number(ft);var ut;try{var $=u.getComponentMethod("calendars","getCal")(V);if(et){var j=ot.charAt(ot.length-1)==="i";ot=parseInt(ot,10),ut=$.newDate(ft,$.toMonthIndex(ft,ot,j),Q)}else ut=$.newDate(ft,Number(ot),Q)}catch{return d}return ut?(ut.toJD()-n)*g+tt*r+Z*e+q*o:d}ft.length===2?ft=(Number(ft)+2e3-v)%100+v:ft=Number(ft),ot-=1;var lt=new Date(Date.UTC(2e3,ot,Q,tt,Z));return lt.setUTCFullYear(ft),lt.getUTCMonth()!==ot||lt.getUTCDate()!==Q?d:lt.getTime()+q*o},i=G.MIN_MS=G.dateTime2ms("-9999"),p=G.MAX_MS=G.dateTime2ms("9999-12-31 23:59:59.9999"),G.isDateTime=function(F,V){return G.dateTime2ms(F,V)!==d};function w(F,V){return String(F+Math.pow(10,V)).substr(1)}var A=90*g,L=3*r,x=5*e;G.ms2DateTime=function(F,V,N){if(typeof F!="number"||!(F>=i&&F<=p))return d;V||(V=0);var O=Math.floor(P(F+.05,1)*10),H=Math.round(F-O/10),X,J,et,it,ft,ot;if(T(N)){var Q=Math.floor(H/g)+n,tt=Math.floor(P(F,g));try{X=u.getComponentMethod("calendars","getCal")(N).fromJD(Q).formatDate("yyyy-mm-dd")}catch{X=f("G%Y-%m-%d")(new Date(H))}if(X.charAt(0)==="-")for(;X.length<11;)X="-0"+X.substr(1);else for(;X.length<10;)X="0"+X;J=V<A?Math.floor(tt/r):0,et=V<A?Math.floor(tt%r/e):0,it=V<L?Math.floor(tt%e/o):0,ft=V<x?tt%o*10+O:0}else ot=new Date(H),X=f("%Y-%m-%d")(ot),J=V<A?ot.getUTCHours():0,et=V<A?ot.getUTCMinutes():0,it=V<L?ot.getUTCSeconds():0,ft=V<x?ot.getUTCMilliseconds()*10+O:0;return E(X,J,et,it,ft)},G.ms2DateTimeLocal=function(F){if(!(F>=i+g&&F<=p-g))return d;var V=Math.floor(P(F+.05,1)*10),N=new Date(Math.round(F-V/10)),O=y("%Y-%m-%d")(N),H=N.getHours(),X=N.getMinutes(),J=N.getSeconds(),et=N.getUTCMilliseconds()*10+V;return E(O,H,X,J,et)};function E(F,V,N,O,H){if((V||N||O||H)&&(F+=" "+w(V,2)+":"+w(N,2),(O||H)&&(F+=":"+w(O,2),H))){for(var X=4;H%10===0;)X-=1,H/=10;F+="."+w(H,X)}return F}G.cleanDate=function(F,V,N){if(F===d)return V;if(G.isJSDate(F)||typeof F=="number"&&isFinite(F)){if(T(N))return s.error("JS Dates and milliseconds are incompatible with world calendars",F),V;if(F=G.ms2DateTimeLocal(+F),!F&&V!==void 0)return V}else if(!G.isDateTime(F,N))return s.error("unrecognized date",F),V;return F};var S=/%\d?f/g,a=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function b(F,V,N,O){F=F.replace(S,function(X){var J=Math.min(+X.charAt(1)||6,6),et=(V/1e3%1+2).toFixed(J).substr(2).replace(/0+$/,"")||"0";return et});var H=new Date(Math.floor(V+.05));if(F=F.replace(a,function(){return C[N("%q")(H)]}),T(O))try{F=u.getComponentMethod("calendars","worldCalFmt")(F,V,O)}catch{return"Invalid"}return N(F)(H)}var z=[59,59.9,59.99,59.999,59.9999];function k(F,V){var N=P(F+.05,g),O=w(Math.floor(N/r),2)+":"+w(P(Math.floor(N/e),60),2);if(V!=="M"){D(V)||(V=0);var H=Math.min(P(F/o,60),z[V]),X=(100+H).toFixed(V).substr(1);V>0&&(X=X.replace(/0+$/,"").replace(/[\.]$/,"")),O+=":"+X}return O}G.formatDate=function(F,V,N,O,H,X){if(H=T(H)&&H,!V)if(N==="y")V=X.year;else if(N==="m")V=X.month;else if(N==="d")V=X.dayMonth+`
`+X.year;else return k(F,N)+`
`+b(X.dayMonthYear,F,O,H);return b(V,F,O,H)};var U=3*g;G.incrementMonth=function(F,V,N){N=T(N)&&N;var O=P(F,g);if(F=Math.round(F-O),N)try{var H=Math.round(F/g)+n,X=u.getComponentMethod("calendars","getCal")(N),J=X.fromJD(H);return V%12?X.add(J,V,"m"):X.add(J,V/12,"y"),(J.toJD()-n)*g+O}catch{s.error("invalid ms "+F+" in calendar "+N)}var et=new Date(F+U);return et.setUTCMonth(et.getUTCMonth()+V)+O-U},G.findExactDates=function(F,V){for(var N=0,O=0,H=0,X=0,J,et,it=T(V)&&u.getComponentMethod("calendars","getCal")(V),ft=0;ft<F.length;ft++){if(et=F[ft],!D(et)){X++;continue}if(!(et%g))if(it)try{J=it.fromJD(et/g+n),J.day()===1?J.month()===1?N++:O++:H++}catch{}else J=new Date(et),J.getUTCDate()===1?J.getUTCMonth()===0?N++:O++:H++}O+=N,H+=O;var ot=F.length-X;return{exactYears:N/ot,exactMonths:O/ot,exactDays:H/ot}}},52200:function(W,G,t){var y=t(33428),D=t(24248),s=t(52248),P=t(36524);function M(v){var T;if(typeof v=="string"){if(T=document.getElementById(v),T===null)throw new Error("No DOM element with id '"+v+"' exists on the page.");return T}else if(v==null)throw new Error("DOM element provided is null or undefined");return v}function d(v){var T=y.select(v);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function g(v){var T=v&&v.parentNode;T&&T.removeChild(v)}function r(v,T){e("global",v,T)}function e(v,T,h){var i="plotly.js-style-"+v,p=document.getElementById(i);p||(p=document.createElement("style"),p.setAttribute("id",i),p.appendChild(document.createTextNode("")),document.head.appendChild(p));var w=p.sheet;w.insertRule?w.insertRule(T+"{"+h+"}",0):w.addRule?w.addRule(T,h,0):D.warn("addStyleRule failed")}function o(v){var T="plotly.js-style-"+v,h=document.getElementById(T);h&&g(h)}function n(v){var T=f(v),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(i){var p=u(i);if(p){var w=s.convertCssMatrix(p);h=P.multiply(h,h,w)}}),h}function u(v){var T=window.getComputedStyle(v,null),h=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(i){return+i})}function f(v){for(var T=[];c(v);)T.push(v),v=v.parentNode,typeof ShadowRoot=="function"&&v instanceof ShadowRoot&&(v=v.host);return T}function c(v){return v&&(v instanceof Element||v instanceof HTMLElement)}function m(v,T){return v&&T&&v.top===T.top&&v.left===T.left&&v.right===T.right&&v.bottom===T.bottom}W.exports={getGraphDiv:M,isPlotDiv:d,removeElement:g,addStyleRule:r,addRelatedStyleRule:e,deleteRelatedStyleRule:o,getFullTransformMatrix:n,getElementTransformMatrix:u,getElementAndAncestors:f,equalDomRects:m}},95924:function(W,G,t){var y=t(61252).EventEmitter,D={init:function(s){if(s._ev instanceof y)return s;var P=new y,M=new y;return s._ev=P,s._internalEv=M,s.on=P.on.bind(P),s.once=P.once.bind(P),s.removeListener=P.removeListener.bind(P),s.removeAllListeners=P.removeAllListeners.bind(P),s._internalOn=M.on.bind(M),s._internalOnce=M.once.bind(M),s._removeInternalListener=M.removeListener.bind(M),s._removeAllInternalListeners=M.removeAllListeners.bind(M),s.emit=function(d,g){typeof jQuery<"u"&&jQuery(s).trigger(d,g),P.emit(d,g),M.emit(d,g)},s},triggerHandler:function(s,P,M){var d,g;typeof jQuery<"u"&&(d=jQuery(s).triggerHandler(P,M));var r=s._ev;if(!r)return d;var e=r._events[P];if(!e)return d;function o(u){if(u.listener){if(r.removeListener(P,u.listener),!u.fired)return u.fired=!0,u.listener.apply(r,[M])}else return u.apply(r,[M])}e=Array.isArray(e)?e:[e];var n;for(n=0;n<e.length-1;n++)o(e[n]);return g=o(e[n]),d!==void 0?d:g},purge:function(s){return delete s._ev,delete s.on,delete s.once,delete s.removeListener,delete s.removeAllListeners,delete s.emit,delete s._ev,delete s._internalEv,delete s._internalOn,delete s._internalOnce,delete s._removeInternalListener,delete s._removeAllInternalListeners,s}};W.exports=D},92880:function(W,G,t){var y=t(63620),D=Array.isArray;function s(M,d){var g,r;for(g=0;g<M.length;g++){if(r=M[g],r!==null&&typeof r=="object")return!1;r!==void 0&&(d[g]=r)}return!0}G.extendFlat=function(){return P(arguments,!1,!1,!1)},G.extendDeep=function(){return P(arguments,!0,!1,!1)},G.extendDeepAll=function(){return P(arguments,!0,!0,!1)},G.extendDeepNoArrays=function(){return P(arguments,!0,!1,!0)};function P(M,d,g,r){var e=M[0],o=M.length,n,u,f,c,m,v,T;if(o===2&&D(e)&&D(M[1])&&e.length===0){if(T=s(M[1],e),T)return e;e.splice(0,e.length)}for(var h=1;h<o;h++){n=M[h];for(u in n)f=e[u],c=n[u],r&&D(c)?e[u]=c:d&&c&&(y(c)||(m=D(c)))?(m?(m=!1,v=f&&D(f)?f:[]):v=f&&y(f)?f:{},e[u]=P([v,c],d,g,r)):(typeof c<"u"||g)&&(e[u]=c)}return e}},68944:function(W){W.exports=function(t){for(var y={},D=[],s=0,P=0;P<t.length;P++){var M=t[P];y[M]!==1&&(y[M]=1,D[s++]=M)}return D}},43880:function(W){W.exports=function(s){for(var P=y(s)?t:G,M=[],d=0;d<s.length;d++){var g=s[d];P(g)&&M.push(g)}return M};function G(D){return D.visible===!0}function t(D){var s=D[0].trace;return s.visible===!0&&s._length!==0}function y(D){return Array.isArray(D)&&Array.isArray(D[0])&&D[0][0]&&D[0][0].trace}},27144:function(W,G,t){var y=t(33428),D=t(36116),s=t(40440),P=t(77844),M=t(42428),d=t(35536),g=t(24248),r=t(63620),e=t(22296),o=t(92065),n=Object.keys(D),u={"ISO-3":d,"USA-states":d,"country names":f};function f(w){for(var A=0;A<n.length;A++){var L=n[A],x=new RegExp(D[L]);if(x.test(w.trim().toLowerCase()))return L}return g.log("Unrecognized country name: "+w+"."),!1}function c(w,A,L){if(!A||typeof A!="string")return!1;var x=u[w](A),E,S,a;if(x){if(w==="USA-states")for(E=[],a=0;a<L.length;a++)S=L[a],S.properties&&S.properties.gu&&S.properties.gu==="USA"&&E.push(S);else E=L;for(a=0;a<E.length;a++)if(S=E[a],S.id===x)return S;g.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(w){var A=w.geometry,L=A.coordinates,x=w.id,E=[],S,a,C,b;function z(k){for(var U=0;U<k.length-1;U++)if(k[U][0]>0&&k[U+1][0]<0)return U;return null}switch(x==="RUS"||x==="FJI"?S=function(k){var U;if(z(k)===null)U=k;else for(U=new Array(k.length),b=0;b<k.length;b++)U[b]=[k[b][0]<0?k[b][0]+360:k[b][0],k[b][1]];E.push(o.tester(U))}:x==="ATA"?S=function(k){var U=z(k);if(U===null)return E.push(o.tester(k));var F=new Array(k.length+1),V=0;for(b=0;b<k.length;b++)b>U?F[V++]=[k[b][0]+360,k[b][1]]:b===U?(F[V++]=k[b],F[V++]=[k[b][0],-90]):F[V++]=k[b];var N=o.tester(F);N.pts.pop(),E.push(N)}:S=function(k){E.push(o.tester(k))},A.type){case"MultiPolygon":for(a=0;a<L.length;a++)for(C=0;C<L[a].length;C++)S(L[a][C]);break;case"Polygon":for(a=0;a<L.length;a++)S(L[a]);break}return E}function v(w){var A=w.geojson,L=window.PlotlyGeoAssets||{},x=typeof A=="string"?L[A]:A;return r(x)?x:(g.error("Oops ... something went wrong when fetching "+A),!1)}function T(w){var A=w[0].trace,L=v(A);if(!L)return!1;var x={},E=[],S;for(S=0;S<A._length;S++){var a=w[S];(a.loc||a.loc===0)&&(x[a.loc]=a)}function C(k){var U=e(k,A.featureidkey||"id").get(),F=x[U];if(F){var V=k.geometry;if(V.type==="Polygon"||V.type==="MultiPolygon"){var N={type:"Feature",id:U,geometry:V,properties:{}};N.properties.ct=h(N),F.fIn=k,F.fOut=N,E.push(N)}else g.log(["Location",F.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[U]}switch(L.type){case"FeatureCollection":var b=L.features;for(S=0;S<b.length;S++)C(b[S]);break;case"Feature":C(L);break;default:return g.warn(["Invalid GeoJSON type",(L.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var z in x)g.log(["Location *"+z+"*","does not have a matching feature with id-key","*"+A.featureidkey+"*."].join(" "));return E}function h(w){var A=w.geometry,L;if(A.type==="MultiPolygon")for(var x=A.coordinates,E=0,S=0;S<x.length;S++){var a={type:"Polygon",coordinates:x[S]},C=s.default(a);C>E&&(E=C,L=a)}else L=A;return P.default(L).geometry.coordinates}function i(w){var A=window.PlotlyGeoAssets||{},L=[];function x(b){return new Promise(function(z,k){y.json(b,function(U,F){if(U){delete A[b];var V=U.status===404?'GeoJSON at URL "'+b+'" does not exist.':"Unexpected error while fetching from "+b;return k(new Error(V))}return A[b]=F,z(F)})})}function E(b){return new Promise(function(z,k){var U=0,F=setInterval(function(){if(A[b]&&A[b]!=="pending")return clearInterval(F),z(A[b]);if(U>100)return clearInterval(F),k("Unexpected error while fetching from "+b);U++},50)})}for(var S=0;S<w.length;S++){var a=w[S][0].trace,C=a.geojson;typeof C=="string"&&(A[C]?A[C]==="pending"&&L.push(E(C)):(A[C]="pending",L.push(x(C))))}return L}function p(w){return M.default(w)}W.exports={locationToFeature:c,feature2polygons:m,getTraceGeojson:v,extractTraceFeature:T,fetchTraceGeoData:i,computeBbox:p}},44808:function(W,G,t){var y=t(39032).BADNUM;G.calcTraceToLineCoords=function(D){for(var s=D[0].trace,P=s.connectgaps,M=[],d=[],g=0;g<D.length;g++){var r=D[g],e=r.lonlat;e[0]!==y?d.push(e):!P&&d.length>0&&(M.push(d),d=[])}return d.length>0&&M.push(d),M},G.makeLine=function(D){return D.length===1?{type:"LineString",coordinates:D[0]}:{type:"MultiLineString",coordinates:D}},G.makePolygon=function(D){if(D.length===1)return{type:"Polygon",coordinates:D};for(var s=new Array(D.length),P=0;P<D.length;P++)s[P]=[D[P]];return{type:"MultiPolygon",coordinates:s}},G.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(W,G,t){var y=t(20435).mod;G.segmentsIntersect=D;function D(g,r,e,o,n,u,f,c){var m=e-g,v=n-g,T=f-n,h=o-r,i=u-r,p=c-u,w=m*p-T*h;if(w===0)return null;var A=(v*p-T*i)/w,L=(v*h-m*i)/w;return L<0||L>1||A<0||A>1?null:{x:g+m*A,y:r+h*A}}G.segmentDistance=function(r,e,o,n,u,f,c,m){if(D(r,e,o,n,u,f,c,m))return 0;var v=o-r,T=n-e,h=c-u,i=m-f,p=v*v+T*T,w=h*h+i*i,A=Math.min(s(v,T,p,u-r,f-e),s(v,T,p,c-r,m-e),s(h,i,w,r-u,e-f),s(h,i,w,o-u,n-f));return Math.sqrt(A)};function s(g,r,e,o,n){var u=o*g+n*r;if(u<0)return o*o+n*n;if(u>e){var f=o-g,c=n-r;return f*f+c*c}else{var m=o*r-n*g;return m*m/e}}var P,M,d;G.getTextLocation=function(r,e,o,n){if((r!==M||n!==d)&&(P={},M=r,d=n),P[o])return P[o];var u=r.getPointAtLength(y(o-n/2,e)),f=r.getPointAtLength(y(o+n/2,e)),c=Math.atan((f.y-u.y)/(f.x-u.x)),m=r.getPointAtLength(y(o,e)),v=(m.x*4+u.x+f.x)/6,T=(m.y*4+u.y+f.y)/6,h={x:v,y:T,theta:c};return P[o]=h,h},G.clearLocationCache=function(){M=null},G.getVisibleSegment=function(r,e,o){var n=e.left,u=e.right,f=e.top,c=e.bottom,m=0,v=r.getTotalLength(),T=v,h,i;function p(A){var L=r.getPointAtLength(A);A===0?h=L:A===v&&(i=L);var x=L.x<n?n-L.x:L.x>u?L.x-u:0,E=L.y<f?f-L.y:L.y>c?L.y-c:0;return Math.sqrt(x*x+E*E)}for(var w=p(m);w;){if(m+=w+o,m>T)return;w=p(m)}for(w=p(T);w;){if(T-=w+o,m>T)return;w=p(T)}return{min:m,max:T,len:T-m,total:v,isClosed:m===0&&T===v&&Math.abs(h.x-i.x)<.1&&Math.abs(h.y-i.y)<.1}},G.findPointOnPath=function(r,e,o,n){n=n||{};for(var u=n.pathLength||r.getTotalLength(),f=n.tolerance||.001,c=n.iterationLimit||30,m=r.getPointAtLength(0)[o]>r.getPointAtLength(u)[o]?-1:1,v=0,T=0,h=u,i,p,w;v<c;){if(i=(T+h)/2,p=r.getPointAtLength(i),w=p[o]-e,Math.abs(w)<f)return p;m*w>0?h=i:T=i,v++}return p}},33040:function(W,G,t){var y=t(38248),D=t(49760),s=t(72160),P=t(8932),M=t(22548).defaultLine,d=t(38116).isArrayOrTypedArray,g=s(M),r=1;function e(c,m){var v=c;return v[3]*=m,v}function o(c){if(y(c))return g;var m=s(c);return m.length?m:g}function n(c){return y(c)?c:r}function u(c,m,v){var T=c.color;T&&T._inputArray&&(T=T._inputArray);var h=d(T),i=d(m),p=P.extractOpts(c),w=[],A,L,x,E,S;if(p.colorscale!==void 0?A=P.makeColorScaleFuncFromTrace(c):A=o,h?L=function(C,b){return C[b]===void 0?g:s(A(C[b]))}:L=o,i?x=function(C,b){return C[b]===void 0?r:n(C[b])}:x=n,h||i)for(var a=0;a<v;a++)E=L(T,a),S=x(m,a),w[a]=e(E,S);else w=e(s(T),m);return w}function f(c){var m=P.extractOpts(c),v=m.colorscale;return m.reversescale&&(v=P.flipScale(m.colorscale)),v.map(function(T){var h=T[0],i=D(T[1]),p=i.toRgb();return{index:h,rgb:[p.r,p.g,p.b,p.a]}})}W.exports={formatColor:u,parseColorScale:f}},71688:function(W,G,t){var y=t(35536);function D(s){return[s]}W.exports={keyFun:function(s){return s.key},repeat:D,descend:y,wrap:D,unwrap:function(s){return s[0]}}},35536:function(W){W.exports=function(t){return t}},1396:function(W){W.exports=function(t,y){if(!y)return t;var D=1/Math.abs(y),s=D>1?(D*t+D*y)/D:t+y,P=String(s).length;if(P>16){var M=String(y).length,d=String(t).length;if(P>=d+M){var g=parseFloat(s).toPrecision(12);g.indexOf("e+")===-1&&(s=+g)}}return s}},3400:function(W,G,t){var y=t(33428),D=t(94336).E9,s=t(57624).E9,P=t(38248),M=t(39032),d=M.FP_SAFE,g=-d,r=M.BADNUM,e=W.exports={};e.adjustFormat=function(ut){return!ut||/^\d[.]\df/.test(ut)||/[.]\d%/.test(ut)?ut:ut==="0.f"?"~f":/^\d%/.test(ut)?"~%":/^\ds/.test(ut)?"~s":!/^[~,.0$]/.test(ut)&&/[&fps]/.test(ut)?"~"+ut:ut};var o={};e.warnBadFormat=function(q){var ut=String(q);o[ut]||(o[ut]=1,e.warn('encountered bad format: "'+ut+'"'))},e.noFormat=function(q){return String(q)},e.numberFormat=function(q){var ut;try{ut=s(e.adjustFormat(q))}catch{return e.warnBadFormat(q),e.noFormat}return ut},e.nestedProperty=t(22296),e.keyedContainer=t(37804),e.relativeAttr=t(23193),e.isPlainObject=t(63620),e.toLogRange=t(36896),e.relinkPrivateKeys=t(51528);var n=t(38116);e.isArrayBuffer=n.isArrayBuffer,e.isTypedArray=n.isTypedArray,e.isArrayOrTypedArray=n.isArrayOrTypedArray,e.isArray1D=n.isArray1D,e.ensureArray=n.ensureArray,e.concat=n.concat,e.maxRowLength=n.maxRowLength,e.minRowLength=n.minRowLength;var u=t(20435);e.mod=u.mod,e.modHalf=u.modHalf;var f=t(63064);e.valObjectMeta=f.valObjectMeta,e.coerce=f.coerce,e.coerce2=f.coerce2,e.coerceFont=f.coerceFont,e.coercePattern=f.coercePattern,e.coerceHoverinfo=f.coerceHoverinfo,e.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,e.validate=f.validate;var c=t(67555);e.dateTime2ms=c.dateTime2ms,e.isDateTime=c.isDateTime,e.ms2DateTime=c.ms2DateTime,e.ms2DateTimeLocal=c.ms2DateTimeLocal,e.cleanDate=c.cleanDate,e.isJSDate=c.isJSDate,e.formatDate=c.formatDate,e.incrementMonth=c.incrementMonth,e.dateTick0=c.dateTick0,e.dfltRange=c.dfltRange,e.findExactDates=c.findExactDates,e.MIN_MS=c.MIN_MS,e.MAX_MS=c.MAX_MS;var m=t(14952);e.findBin=m.findBin,e.sorterAsc=m.sorterAsc,e.sorterDes=m.sorterDes,e.distinctVals=m.distinctVals,e.roundUp=m.roundUp,e.sort=m.sort,e.findIndexOfMin=m.findIndexOfMin,e.sortObjectKeys=t(95376);var v=t(63084);e.aggNums=v.aggNums,e.len=v.len,e.mean=v.mean,e.geometricMean=v.geometricMean,e.median=v.median,e.midRange=v.midRange,e.variance=v.variance,e.stdev=v.stdev,e.interp=v.interp;var T=t(52248);e.init2dArray=T.init2dArray,e.transposeRagged=T.transposeRagged,e.dot=T.dot,e.translationMatrix=T.translationMatrix,e.rotationMatrix=T.rotationMatrix,e.rotationXYMatrix=T.rotationXYMatrix,e.apply3DTransform=T.apply3DTransform,e.apply2DTransform=T.apply2DTransform,e.apply2DTransform2=T.apply2DTransform2,e.convertCssMatrix=T.convertCssMatrix,e.inverseTransformMatrix=T.inverseTransformMatrix;var h=t(11864);e.deg2rad=h.deg2rad,e.rad2deg=h.rad2deg,e.angleDelta=h.angleDelta,e.angleDist=h.angleDist,e.isFullCircle=h.isFullCircle,e.isAngleInsideSector=h.isAngleInsideSector,e.isPtInsideSector=h.isPtInsideSector,e.pathArc=h.pathArc,e.pathSector=h.pathSector,e.pathAnnulus=h.pathAnnulus;var i=t(98308);e.isLeftAnchor=i.isLeftAnchor,e.isCenterAnchor=i.isCenterAnchor,e.isRightAnchor=i.isRightAnchor,e.isTopAnchor=i.isTopAnchor,e.isMiddleAnchor=i.isMiddleAnchor,e.isBottomAnchor=i.isBottomAnchor;var p=t(92348);e.segmentsIntersect=p.segmentsIntersect,e.segmentDistance=p.segmentDistance,e.getTextLocation=p.getTextLocation,e.clearLocationCache=p.clearLocationCache,e.getVisibleSegment=p.getVisibleSegment,e.findPointOnPath=p.findPointOnPath;var w=t(92880);e.extendFlat=w.extendFlat,e.extendDeep=w.extendDeep,e.extendDeepAll=w.extendDeepAll,e.extendDeepNoArrays=w.extendDeepNoArrays;var A=t(24248);e.log=A.log,e.warn=A.warn,e.error=A.error;var L=t(53756);e.counterRegex=L.counter;var x=t(91200);e.throttle=x.throttle,e.throttleDone=x.done,e.clearThrottle=x.clear;var E=t(52200);e.getGraphDiv=E.getGraphDiv,e.isPlotDiv=E.isPlotDiv,e.removeElement=E.removeElement,e.addStyleRule=E.addStyleRule,e.addRelatedStyleRule=E.addRelatedStyleRule,e.deleteRelatedStyleRule=E.deleteRelatedStyleRule,e.getFullTransformMatrix=E.getFullTransformMatrix,e.getElementTransformMatrix=E.getElementTransformMatrix,e.getElementAndAncestors=E.getElementAndAncestors,e.equalDomRects=E.equalDomRects,e.clearResponsive=t(75352),e.preserveDrawingBuffer=t(34296),e.makeTraceGroups=t(30988),e._=t(98356),e.notifier=t(41792),e.filterUnique=t(68944),e.filterVisible=t(43880),e.pushUnique=t(52416),e.increment=t(1396),e.cleanNumber=t(54037),e.ensureNumber=function(ut){return P(ut)?(ut=Number(ut),ut>d||ut<g?r:ut):r},e.isIndex=function(q,ut){return ut!==void 0&&q>=ut?!1:P(q)&&q>=0&&q%1===0},e.noop=t(16628),e.identity=t(35536),e.repeat=function(q,ut){for(var $=new Array(ut),j=0;j<ut;j++)$[j]=q;return $},e.swapAttrs=function(q,ut,$,j){$||($="x"),j||(j="y");for(var lt=0;lt<ut.length;lt++){var nt=ut[lt],ht=e.nestedProperty(q,nt.replace("?",$)),mt=e.nestedProperty(q,nt.replace("?",j)),At=ht.get();ht.set(mt.get()),mt.set(At)}},e.raiseToTop=function(ut){ut.parentNode.appendChild(ut)},e.cancelTransition=function(q){return q.transition().duration(0)},e.constrain=function(q,ut,$){return ut>$?Math.max($,Math.min(ut,q)):Math.max(ut,Math.min($,q))},e.bBoxIntersect=function(q,ut,$){return $=$||0,q.left<=ut.right+$&&ut.left<=q.right+$&&q.top<=ut.bottom+$&&ut.top<=q.bottom+$},e.simpleMap=function(q,ut,$,j,lt){for(var nt=q.length,ht=new Array(nt),mt=0;mt<nt;mt++)ht[mt]=ut(q[mt],$,j,lt);return ht},e.randstr=function q(ut,$,j,lt){if(j||(j=16),$===void 0&&($=24),$<=0)return"0";var nt=Math.log(Math.pow(2,$))/Math.log(j),ht="",mt,At,bt;for(mt=2;nt===1/0;mt*=2)nt=Math.log(Math.pow(2,$/mt))/Math.log(j)*mt;var Pt=nt-Math.floor(nt);for(mt=0;mt<Math.floor(nt);mt++)bt=Math.floor(Math.random()*j).toString(j),ht=bt+ht;Pt&&(At=Math.pow(j,Pt),bt=Math.floor(Math.random()*At).toString(j),ht=bt+ht);var _t=parseInt(ht,j);return ut&&ut[ht]||_t!==1/0&&_t>=Math.pow(2,$)?lt>10?(e.warn("randstr failed uniqueness"),ht):q(ut,$,j,(lt||0)+1):ht},e.OptionControl=function(q,ut){q||(q={}),ut||(ut="opt");var $={};return $.optionList=[],$._newoption=function(j){j[ut]=q,$[j.name]=j,$.optionList.push(j)},$["_"+ut]=q,$},e.smooth=function(q,ut){if(ut=Math.round(ut)||0,ut<2)return q;var $=q.length,j=2*$,lt=2*ut-1,nt=new Array(lt),ht=new Array($),mt,At,bt,Pt;for(mt=0;mt<lt;mt++)nt[mt]=(1-Math.cos(Math.PI*(mt+1)/ut))/(2*ut);for(mt=0;mt<$;mt++){for(Pt=0,At=0;At<lt;At++)bt=mt+At+1-ut,bt<-$?bt-=j*Math.round(bt/j):bt>=j&&(bt-=j*Math.floor(bt/j)),bt<0?bt=-1-bt:bt>=$&&(bt=j-1-bt),Pt+=q[bt]*nt[At];ht[mt]=Pt}return ht},e.syncOrAsync=function(q,ut,$){var j,lt;function nt(){return e.syncOrAsync(q,ut,$)}for(;q.length;)if(lt=q.splice(0,1)[0],j=lt(ut),j&&j.then)return j.then(nt);return $&&$(ut)},e.stripTrailingSlash=function(q){return q.substr(-1)==="/"?q.substr(0,q.length-1):q},e.noneOrAll=function(q,ut,$){if(q){var j=!1,lt=!0,nt,ht;for(nt=0;nt<$.length;nt++)ht=q[$[nt]],ht!=null?j=!0:lt=!1;if(j&&!lt)for(nt=0;nt<$.length;nt++)q[$[nt]]=ut[$[nt]]}},e.mergeArray=function(q,ut,$,j){var lt=typeof j=="function";if(e.isArrayOrTypedArray(q))for(var nt=Math.min(q.length,ut.length),ht=0;ht<nt;ht++){var mt=q[ht];ut[ht][$]=lt?j(mt):mt}},e.mergeArrayCastPositive=function(q,ut,$){return e.mergeArray(q,ut,$,function(j){var lt=+j;return isFinite(lt)&&lt>0?lt:0})},e.fillArray=function(q,ut,$,j){if(j=j||e.identity,e.isArrayOrTypedArray(q))for(var lt=0;lt<ut.length;lt++)ut[lt][$]=j(q[lt])},e.castOption=function(q,ut,$,j){j=j||e.identity;var lt=e.nestedProperty(q,$).get();return e.isArrayOrTypedArray(lt)?Array.isArray(ut)&&e.isArrayOrTypedArray(lt[ut[0]])?j(lt[ut[0]][ut[1]]):j(lt[ut]):lt},e.extractOption=function(q,ut,$,j){if($ in q)return q[$];var lt=e.nestedProperty(ut,j).get();if(!Array.isArray(lt))return lt};function S(q){var ut={};for(var $ in q)for(var j=q[$],lt=0;lt<j.length;lt++)ut[j[lt]]=+$;return ut}e.tagSelected=function(q,ut,$){var j=ut.selectedpoints,lt=ut._indexToPoints,nt;lt&&(nt=S(lt));function ht(_t){return _t!==void 0&&_t<q.length}for(var mt=0;mt<j.length;mt++){var At=j[mt];if(e.isIndex(At)||e.isArrayOrTypedArray(At)&&e.isIndex(At[0])&&e.isIndex(At[1])){var bt=nt?nt[At]:At,Pt=$?$[bt]:bt;ht(Pt)&&(q[Pt].selected=1)}}},e.selIndices2selPoints=function(q){var ut=q.selectedpoints,$=q._indexToPoints;if($){for(var j=S($),lt=[],nt=0;nt<ut.length;nt++){var ht=ut[nt];if(e.isIndex(ht)){var mt=j[ht];e.isIndex(mt)&&lt.push(mt)}}return lt}else return ut},e.getTargetArray=function(q,ut){var $=ut.target;if(typeof $=="string"&&$){var j=e.nestedProperty(q,$).get();return e.isArrayOrTypedArray(j)?j:!1}else if(e.isArrayOrTypedArray($))return $;return!1};function a(q,ut,$){var j={};typeof ut!="object"&&(ut={});var lt=$==="pieLike"?-1:3,nt=Object.keys(q),ht,mt,At;for(ht=0;ht<nt.length;ht++)mt=nt[ht],At=q[mt],!(mt.charAt(0)==="_"||typeof At=="function")&&(mt==="module"?j[mt]=At:Array.isArray(At)?mt==="colorscale"||lt===-1?j[mt]=At.slice():j[mt]=At.slice(0,lt):e.isTypedArray(At)?lt===-1?j[mt]=At.subarray():j[mt]=At.subarray(0,lt):At&&typeof At=="object"?j[mt]=a(q[mt],ut[mt],$):j[mt]=At);for(nt=Object.keys(ut),ht=0;ht<nt.length;ht++)mt=nt[ht],At=ut[mt],(typeof At!="object"||!(mt in j)||typeof j[mt]!="object")&&(j[mt]=At);return j}e.minExtend=a,e.titleCase=function(q){return q.charAt(0).toUpperCase()+q.substr(1)},e.containsAny=function(q,ut){for(var $=0;$<ut.length;$++)if(q.indexOf(ut[$])!==-1)return!0;return!1},e.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var C=/Version\/[\d\.]+.*Safari/;e.isSafari=function(){return C.test(window.navigator.userAgent)};var b=/iPad|iPhone|iPod/;e.isIOS=function(){return b.test(window.navigator.userAgent)};var z=/Firefox\/(\d+)\.\d+/;e.getFirefoxVersion=function(){var q=z.exec(window.navigator.userAgent);if(q&&q.length===2){var ut=parseInt(q[1]);if(!isNaN(ut))return ut}return null},e.isD3Selection=function(q){return q instanceof y.selection},e.ensureSingle=function(q,ut,$,j){var lt=q.select(ut+($?"."+$:""));if(lt.size())return lt;var nt=q.append(ut);return $&&nt.classed($,!0),j&&nt.call(j),nt},e.ensureSingleById=function(q,ut,$,j){var lt=q.select(ut+"#"+$);if(lt.size())return lt;var nt=q.append(ut).attr("id",$);return j&&nt.call(j),nt},e.objectFromPath=function(q,ut){for(var $=q.split("."),j,lt=j={},nt=0;nt<$.length;nt++){var ht=$[nt],mt=null,At=$[nt].match(/(.*)\[([0-9]+)\]/);At?(ht=At[1],mt=At[2],j=j[ht]=[],nt===$.length-1?j[mt]=ut:j[mt]={},j=j[mt]):(nt===$.length-1?j[ht]=ut:j[ht]={},j=j[ht])}return lt};var k=/^([^\[\.]+)\.(.+)?/,U=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function F(q){return q.slice(0,2)==="__"}e.expandObjectPaths=function(q){var ut,$,j,lt,nt,ht,mt;if(typeof q=="object"&&!Array.isArray(q)){for($ in q)if(q.hasOwnProperty($))if(ut=$.match(k)){if(lt=q[$],j=ut[1],F(j))continue;delete q[$],q[j]=e.extendDeepNoArrays(q[j]||{},e.objectFromPath($,e.expandObjectPaths(lt))[j])}else if(ut=$.match(U)){if(lt=q[$],j=ut[1],F(j))continue;if(nt=parseInt(ut[2]),delete q[$],q[j]=q[j]||[],ut[3]===".")mt=ut[4],ht=q[j][nt]=q[j][nt]||{},e.extendDeepNoArrays(ht,e.objectFromPath(mt,e.expandObjectPaths(lt)));else{if(F(j))continue;q[j][nt]=e.expandObjectPaths(lt)}}else{if(F($))continue;q[$]=e.expandObjectPaths(q[$])}}return q},e.numSeparate=function(q,ut,$){if($||($=!1),typeof ut!="string"||ut.length===0)throw new Error("Separator string required for formatting!");typeof q=="number"&&(q=String(q));var j=/(\d+)(\d{3})/,lt=ut.charAt(0),nt=ut.charAt(1),ht=q.split("."),mt=ht[0],At=ht.length>1?lt+ht[1]:"";if(nt&&(ht.length>1||mt.length>4||$))for(;j.test(mt);)mt=mt.replace(j,"$1"+nt+"$2");return mt+At},e.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var V=/^\w*$/;e.templateString=function(q,ut){var $={};return q.replace(e.TEMPLATE_STRING_REGEX,function(j,lt){var nt;return V.test(lt)?nt=ut[lt]:($[lt]=$[lt]||e.nestedProperty(ut,lt).get,nt=$[lt]()),e.isValidTextValue(nt)?nt:""})};var N={max:10,count:0,name:"hovertemplate"};e.hovertemplateString=function(){return it.apply(N,arguments)};var O={max:10,count:0,name:"texttemplate"};e.texttemplateString=function(){return it.apply(O,arguments)};var H=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function X(q){var ut=q.match(H);return ut?{key:ut[1],op:ut[2],number:Number(ut[3])}:{key:q,op:null,number:null}}var J={max:10,count:0,name:"texttemplate",parseMultDiv:!0};e.texttemplateStringForShapes=function(){return it.apply(J,arguments)};var et=/^[:|\|]/;function it(q,ut,$){var j=this,lt=arguments;ut||(ut={});var nt={};return q.replace(e.TEMPLATE_STRING_REGEX,function(ht,mt,At){var bt=mt==="xother"||mt==="yother",Pt=mt==="_xother"||mt==="_yother",_t=mt==="_xother_"||mt==="_yother_",Ut=mt==="xother_"||mt==="yother_",St=bt||Pt||Ut||_t,Rt=mt;(Pt||_t)&&(Rt=Rt.substring(1)),(Ut||_t)&&(Rt=Rt.substring(0,Rt.length-1));var Et=null,zt=null;if(j.parseMultDiv){var Ct=X(Rt);Rt=Ct.key,Et=Ct.op,zt=Ct.number}var Wt;if(St){if(Wt=ut[Rt],Wt===void 0)return""}else{var Kt,oe;for(oe=3;oe<lt.length;oe++)if(Kt=lt[oe],!!Kt){if(Kt.hasOwnProperty(Rt)){Wt=Kt[Rt];break}if(V.test(Rt)||(Wt=e.nestedProperty(Kt,Rt).get(),Wt=nt[Rt]||e.nestedProperty(Kt,Rt).get(),Wt&&(nt[Rt]=Wt)),Wt!==void 0)break}}if(Wt!==void 0&&(Et==="*"&&(Wt*=zt),Et==="/"&&(Wt/=zt)),Wt===void 0&&j)return j.count<j.max&&(e.warn("Variable '"+Rt+"' in "+j.name+" could not be found!"),Wt=ht),j.count===j.max&&e.warn("Too many "+j.name+" warnings - additional warnings will be suppressed"),j.count++,ht;if(At){var Jt;if(At[0]===":"&&(Jt=$?$.numberFormat:e.numberFormat,Wt!==""&&(Wt=Jt(At.replace(et,""))(Wt))),At[0]==="|"){Jt=$?$.timeFormat:D;var te=e.dateTime2ms(Wt);Wt=e.formatDate(te,At.replace(et,""),!1,Jt)}}else{var fe=Rt+"Label";ut.hasOwnProperty(fe)&&(Wt=ut[fe])}return St&&(Wt="("+Wt+")",(Pt||_t)&&(Wt=" "+Wt),(Ut||_t)&&(Wt=Wt+" ")),Wt})}var ft=48,ot=57;e.subplotSort=function(q,ut){for(var $=Math.min(q.length,ut.length)+1,j=0,lt=0,nt=0;nt<$;nt++){var ht=q.charCodeAt(nt)||0,mt=ut.charCodeAt(nt)||0,At=ht>=ft&&ht<=ot,bt=mt>=ft&&mt<=ot;if(At&&(j=10*j+ht-ft),bt&&(lt=10*lt+mt-ft),!At||!bt){if(j!==lt)return j-lt;if(ht!==mt)return ht-mt}}return lt-j};var Q=2e9;e.seedPseudoRandom=function(){Q=2e9},e.pseudoRandom=function(){var q=Q;return Q=(69069*Q+1)%4294967296,Math.abs(Q-q)<429496729?e.pseudoRandom():Q/4294967296},e.fillText=function(q,ut,$){var j=Array.isArray($)?function(ht){$.push(ht)}:function(ht){$.text=ht},lt=e.extractOption(q,ut,"htx","hovertext");if(e.isValidTextValue(lt))return j(lt);var nt=e.extractOption(q,ut,"tx","text");if(e.isValidTextValue(nt))return j(nt)},e.isValidTextValue=function(q){return q||q===0},e.formatPercent=function(q,ut){ut=ut||0;for(var $=(Math.round(100*q*Math.pow(10,ut))*Math.pow(.1,ut)).toFixed(ut)+"%",j=0;j<ut;j++)$.indexOf(".")!==-1&&($=$.replace("0%","%"),$=$.replace(".%","%"));return $},e.isHidden=function(q){var ut=window.getComputedStyle(q).display;return!ut||ut==="none"},e.strTranslate=function(q,ut){return q||ut?"translate("+q+","+ut+")":""},e.strRotate=function(q){return q?"rotate("+q+")":""},e.strScale=function(q){return q!==1?"scale("+q+")":""},e.getTextTransform=function(q){var ut=q.noCenter,$=q.textX,j=q.textY,lt=q.targetX,nt=q.targetY,ht=q.anchorX||0,mt=q.anchorY||0,At=q.rotate,bt=q.scale;return bt?bt>1&&(bt=1):bt=0,e.strTranslate(lt-bt*($+ht),nt-bt*(j+mt))+e.strScale(bt)+(At?"rotate("+At+(ut?"":" "+$+" "+j)+")":"")},e.setTransormAndDisplay=function(q,ut){q.attr("transform",e.getTextTransform(ut)),q.style("display",ut.scale?null:"none")},e.ensureUniformFontSize=function(q,ut){var $=e.extendFlat({},ut);return $.size=Math.max(ut.size,q._fullLayout.uniformtext.minsize||0),$},e.join2=function(q,ut,$){var j=q.length;return j>1?q.slice(0,-1).join(ut)+$+q[j-1]:q.join(ut)},e.bigFont=function(q){return Math.round(1.2*q)};var tt=e.getFirefoxVersion(),Z=tt!==null&&tt<86;e.getPositionFromD3Event=function(){return Z?[y.event.layerX,y.event.layerY]:[y.event.offsetX,y.event.offsetY]}},63620:function(W){W.exports=function(t){return window&&window.process&&window.process.versions?Object.prototype.toString.call(t)==="[object Object]":Object.prototype.toString.call(t)==="[object Object]"&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}},37804:function(W,G,t){var y=t(22296),D=/^\w*$/,s=0,P=1,M=2,d=3,g=4;W.exports=function(e,o,n,u){n=n||"name",u=u||"value";var f,c,m,v={};o&&o.length?(m=y(e,o),c=m.get()):c=e,o=o||"";var T={};if(c)for(f=0;f<c.length;f++)T[c[f][n]]=f;var h=D.test(u),i={set:function(p,w){var A=w===null?g:s;if(!c){if(!m||A===g)return;c=[],m.set(c)}var L=T[p];if(L===void 0){if(A===g)return;A=A|d,L=c.length,T[p]=L}else w!==(h?c[L][u]:y(c[L],u).get())&&(A=A|M);var x=c[L]=c[L]||{};return x[n]=p,h?x[u]=w:y(x,u).set(w),w!==null&&(A=A&~g),v[L]=v[L]|A,i},get:function(p){if(c){var w=T[p];if(w!==void 0)return h?c[w][u]:y(c[w],u).get()}},rename:function(p,w){var A=T[p];return A===void 0||(v[A]=v[A]|P,T[w]=A,delete T[p],c[A][n]=w),i},remove:function(p){var w=T[p];if(w===void 0)return i;var A=c[w];if(Object.keys(A).length>2)return v[w]=v[w]|M,i.set(p,null);if(h){for(f=w;f<c.length;f++)v[f]=v[f]|d;for(f=w;f<c.length;f++)T[c[f][n]]--;c.splice(w,1),delete T[p]}else y(A,u).set(null),v[w]=v[w]|M|g;return i},constructUpdate:function(){for(var p,w,A={},L=Object.keys(v),x=0;x<L.length;x++)w=L[x],p=o+"["+w+"]",c[w]?(v[w]&P&&(A[p+"."+n]=c[w][n]),v[w]&M&&(h?A[p+"."+u]=v[w]&g?null:c[w][u]:A[p+"."+u]=v[w]&g?null:y(c[w],u).get())):A[p]=null;return A}};return i}},98356:function(W,G,t){var y=t(24040);W.exports=function(s,P){for(var M=s._context.locale,d=0;d<2;d++){for(var g=s._context.locales,r=0;r<2;r++){var e=(g[M]||{}).dictionary;if(e){var o=e[P];if(o)return o}g=y.localeRegistry}var n=M.split("-")[0];if(n===M)break;M=n}return P}},24248:function(W,G,t){var y=t(20556).dfltConfig,D=t(41792),s=W.exports={};s.log=function(){var P;if(y.logging>1){var M=["LOG:"];for(P=0;P<arguments.length;P++)M.push(arguments[P]);console.trace.apply(console,M)}if(y.notifyOnLogging>1){var d=[];for(P=0;P<arguments.length;P++)d.push(arguments[P]);D(d.join("<br>"),"long")}},s.warn=function(){var P;if(y.logging>0){var M=["WARN:"];for(P=0;P<arguments.length;P++)M.push(arguments[P]);console.trace.apply(console,M)}if(y.notifyOnLogging>0){var d=[];for(P=0;P<arguments.length;P++)d.push(arguments[P]);D(d.join("<br>"),"stick")}},s.error=function(){var P;if(y.logging>0){var M=["ERROR:"];for(P=0;P<arguments.length;P++)M.push(arguments[P]);console.error.apply(console,M)}if(y.notifyOnLogging>0){var d=[];for(P=0;P<arguments.length;P++)d.push(arguments[P]);D(d.join("<br>"),"stick")}}},30988:function(W,G,t){var y=t(33428);W.exports=function(s,P,M){var d=s.selectAll("g."+M.replace(/\s/g,".")).data(P,function(r){return r[0].trace.uid});d.exit().remove(),d.enter().append("g").attr("class",M),d.order();var g=s.classed("rangeplot")?"nodeRangePlot3":"node3";return d.each(function(r){r[0][g]=y.select(this)}),d}},52248:function(W,G,t){var y=t(36524);G.init2dArray=function(D,s){for(var P=new Array(D),M=0;M<D;M++)P[M]=new Array(s);return P},G.transposeRagged=function(D){var s=0,P=D.length,M,d;for(M=0;M<P;M++)s=Math.max(s,D[M].length);var g=new Array(s);for(M=0;M<s;M++)for(g[M]=new Array(P),d=0;d<P;d++)g[M][d]=D[d][M];return g},G.dot=function(D,s){if(!(D.length&&s.length)||D.length!==s.length)return null;var P=D.length,M,d;if(D[0].length)for(M=new Array(P),d=0;d<P;d++)M[d]=G.dot(D[d],s);else if(s[0].length){var g=G.transposeRagged(s);for(M=new Array(g.length),d=0;d<g.length;d++)M[d]=G.dot(D,g[d])}else for(M=0,d=0;d<P;d++)M+=D[d]*s[d];return M},G.translationMatrix=function(D,s){return[[1,0,D],[0,1,s],[0,0,1]]},G.rotationMatrix=function(D){var s=D*Math.PI/180;return[[Math.cos(s),-Math.sin(s),0],[Math.sin(s),Math.cos(s),0],[0,0,1]]},G.rotationXYMatrix=function(D,s,P){return G.dot(G.dot(G.translationMatrix(s,P),G.rotationMatrix(D)),G.translationMatrix(-s,-P))},G.apply3DTransform=function(D){return function(){var s=arguments,P=arguments.length===1?s[0]:[s[0],s[1],s[2]||0];return G.dot(D,[P[0],P[1],P[2],1]).slice(0,3)}},G.apply2DTransform=function(D){return function(){var s=arguments;s.length===3&&(s=s[0]);var P=arguments.length===1?s[0]:[s[0],s[1]];return G.dot(D,[P[0],P[1],1]).slice(0,2)}},G.apply2DTransform2=function(D){var s=G.apply2DTransform(D);return function(P){return s(P.slice(0,2)).concat(s(P.slice(2,4)))}},G.convertCssMatrix=function(D){if(D){var s=D.length;if(s===16)return D;if(s===6)return[D[0],D[1],0,0,D[2],D[3],0,0,0,0,1,0,D[4],D[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},G.inverseTransformMatrix=function(D){var s=[];return y.invert(s,D),[[s[0],s[1],s[2],s[3]],[s[4],s[5],s[6],s[7]],[s[8],s[9],s[10],s[11]],[s[12],s[13],s[14],s[15]]]}},20435:function(W){function G(y,D){var s=y%D;return s<0?s+D:s}function t(y,D){return Math.abs(y)>D/2?y-Math.round(y/D)*D:y}W.exports={mod:G,modHalf:t}},22296:function(W,G,t){var y=t(38248),D=t(38116).isArrayOrTypedArray;W.exports=function(u,f){if(y(f))f=String(f);else if(typeof f!="string"||f.substr(f.length-4)==="[-1]")throw"bad property string";var c=f.split("."),m,v,T,h;for(h=0;h<c.length;h++)if(String(c[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<c.length;){if(m=String(c[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])c[h]=m[1];else if(h===0)c.splice(0,1);else throw"bad property string";for(v=m[2].substr(1,m[2].length-2).split("]["),T=0;T<v.length;T++)h++,c.splice(h,0,Number(v[T]))}h++}return typeof u!="object"?o(u,f,c):{set:d(u,c,f),get:s(u,c),astr:f,parts:c,obj:u}};function s(n,u){return function(){var f=n,c,m,v,T,h;for(T=0;T<u.length-1;T++){if(c=u[T],c===-1){for(m=!0,v=[],h=0;h<f.length;h++)v[h]=s(f[h],u.slice(T+1))(),v[h]!==v[0]&&(m=!1);return m?v[0]:v}if(typeof c=="number"&&!D(f)||(f=f[c],typeof f!="object"||f===null))return}if(!(typeof f!="object"||f===null)&&(v=f[u[T]],v!==null))return v}}var P=/(^|\.)args\[/;function M(n,u){return n===void 0||n===null&&!u.match(P)}function d(n,u,f){return function(c){var m=n,v="",T=M(c,f),h,i;for(i=0;i<u.length-1;i++){if(h=u[i],typeof h=="number"&&!D(m))throw"array index but container is not an array";if(h===-1){if(T=!r(m,u.slice(i+1),c,f),T)break;return}if(!e(m,h,u[i+1],T))break;if(m=m[h],typeof m!="object"||m===null)throw"container is not an object";v=g(v,h)}if(T){if(i===u.length-1&&(delete m[u[i]],Array.isArray(m)&&+u[i]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[u[i]]=c}}function g(n,u){var f=u;return y(u)?f="["+u+"]":n&&(f="."+u),n+f}function r(n,u,f,c){var m=D(f),v=!0,T=f,h=c.replace("-1",0),i=m?!1:M(f,h),p=u[0],w;for(w=0;w<n.length;w++)h=c.replace("-1",w),m&&(T=f[w%f.length],i=M(T,h)),i&&(v=!1),e(n,w,p,i)&&d(n[w],u,c.replace("-1",w))(T);return v}function e(n,u,f,c){if(n[u]===void 0){if(c)return!1;typeof f=="number"?n[u]=[]:n[u]={}}return!0}function o(n,u,f){return{set:function(){throw"bad container"},get:function(){},astr:u,parts:f,obj:n}}},16628:function(W){W.exports=function(){}},41792:function(W,G,t){var y=t(33428),D=t(38248),s=[];W.exports=function(P,M){if(s.indexOf(P)!==-1)return;s.push(P);var d=1e3;D(M)?d=M:M==="long"&&(d=3e3);var g=y.select("body").selectAll(".plotly-notifier").data([0]);g.enter().append("div").classed("plotly-notifier",!0);var r=g.selectAll(".notifier-note").data(s);function e(o){o.duration(700).style("opacity",0).each("end",function(n){var u=s.indexOf(n);u!==-1&&s.splice(u,1),y.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var n=y.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(e)});for(var u=n.append("p"),f=o.split(/<br\s*\/?>/g),c=0;c<f.length;c++)c&&u.append("br"),u.append("span").text(f[c]);M==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(d).call(e)})}},72213:function(W,G,t){var y=t(93972),D="data-savedcursor",s="!!";W.exports=function(M,d){var g=M.attr(D);if(d){if(!g){for(var r=(M.attr("class")||"").split(" "),e=0;e<r.length;e++){var o=r[e];o.indexOf("cursor-")===0&&M.attr(D,o.substr(7)).classed(o,!1)}M.attr(D)||M.attr(D,s)}y(M,d)}else g&&(M.attr(D,null),g===s?y(M):y(M,g))}},92065:function(W,G,t){var y=t(52248).dot,D=t(39032).BADNUM,s=W.exports={};s.tester=function(M){var d=M.slice(),g=d[0][0],r=g,e=d[0][1],o=e,n;for((d[d.length-1][0]!==d[0][0]||d[d.length-1][1]!==d[0][1])&&d.push(d[0]),n=1;n<d.length;n++)g=Math.min(g,d[n][0]),r=Math.max(r,d[n][0]),e=Math.min(e,d[n][1]),o=Math.max(o,d[n][1]);var u=!1,f;d.length===5&&(d[0][0]===d[1][0]?d[2][0]===d[3][0]&&d[0][1]===d[3][1]&&d[1][1]===d[2][1]&&(u=!0,f=function(h){return h[0]===d[0][0]}):d[0][1]===d[1][1]&&d[2][1]===d[3][1]&&d[0][0]===d[3][0]&&d[1][0]===d[2][0]&&(u=!0,f=function(h){return h[1]===d[0][1]}));function c(h,i){var p=h[0],w=h[1];return!(p===D||p<g||p>r||w===D||w<e||w>o||i&&f(h))}function m(h,i){var p=h[0],w=h[1];if(p===D||p<g||p>r||w===D||w<e||w>o)return!1;var A=d.length,L=d[0][0],x=d[0][1],E=0,S,a,C,b,z;for(S=1;S<A;S++)if(a=L,C=x,L=d[S][0],x=d[S][1],b=Math.min(a,L),!(p<b||p>Math.max(a,L)||w>Math.max(C,x)))if(w<Math.min(C,x))p!==b&&E++;else{if(L===a?z=w:z=C+(p-a)*(x-C)/(L-a),w===z)return!(S===1&&i);w<=z&&p!==b&&E++}return E%2===1}var v=!0,T=d[0];for(n=1;n<d.length;n++)if(T[0]!==d[n][0]||T[1]!==d[n][1]){v=!1;break}return{xmin:g,xmax:r,ymin:e,ymax:o,pts:d,contains:u?c:m,isRect:u,degenerate:v}},s.isSegmentBent=function(M,d,g,r){var e=M[d],o=[M[g][0]-e[0],M[g][1]-e[1]],n=y(o,o),u=Math.sqrt(n),f=[-o[1]/u,o[0]/u],c,m,v;for(c=d+1;c<g;c++)if(m=[M[c][0]-e[0],M[c][1]-e[1]],v=y(m,o),v<0||v>n||Math.abs(y(m,f))>r)return!0;return!1},s.filter=function(M,d){var g=[M[0]],r=0,e=0;function o(u){M.push(u);var f=g.length,c=r;g.splice(e+1);for(var m=c+1;m<M.length;m++)(m===M.length-1||s.isSegmentBent(M,c,m+1,d))&&(g.push(M[m]),g.length<f-2&&(r=m,e=g.length-1),c=m)}if(M.length>1){var n=M.pop();o(n)}return{addPt:o,raw:M,filtered:g}}},5048:function(W,G,t){var y=t(16576),D=t(28624);W.exports=function(P,M,d){var g=P._fullLayout,r=!0;return g._glcanvas.each(function(e){if(e.regl){e.regl.preloadCachedCode(d);return}if(!(e.pick&&!g._has("parcoords"))){try{e.regl=D({canvas:this,attributes:{antialias:!e.pick,preserveDrawingBuffer:!0},pixelRatio:P._context.plotGlPixelRatio||t.g.devicePixelRatio,extensions:M||[],cachedCode:d||{}})}catch{r=!1}e.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(o){P&&P.emit&&P.emit("plotly_webglcontextlost",{event:o,layer:e.key})},!1)}}),r||y({container:g._glcontainer.node()}),r}},34296:function(W,G,t){var y=t(38248),D=t(25928);W.exports=function(M){var d;if(M&&M.hasOwnProperty("userAgent")?d=M.userAgent:d=s(),typeof d!="string")return!0;var g=D({ua:{headers:{"user-agent":d}},tablet:!0,featureDetect:!1});if(!g)for(var r=d.split(" "),e=1;e<r.length;e++){var o=r[e];if(o.indexOf("Safari")!==-1)for(var n=e-1;n>-1;n--){var u=r[n];if(u.substr(0,8)==="Version/"){var f=u.substr(8).split(".")[0];if(y(f)&&(f=+f),f>=13)return!0}}}return g};function s(){var P;return typeof navigator<"u"&&(P=navigator.userAgent),P&&P.headers&&typeof P.headers["user-agent"]=="string"&&(P=P.headers["user-agent"]),P}},52416:function(W){W.exports=function(t,y){if(y instanceof RegExp){for(var D=y.toString(),s=0;s<t.length;s++)if(t[s]instanceof RegExp&&t[s].toString()===D)return t;t.push(y)}else(y||y===0)&&t.indexOf(y)===-1&&t.push(y);return t}},94552:function(W,G,t){var y=t(3400),D=t(20556).dfltConfig;function s(M,d){for(var g=[],r,e=0;e<d.length;e++)r=d[e],r===M?g[e]=r:typeof r=="object"?g[e]=Array.isArray(r)?y.extendDeep([],r):y.extendDeepAll({},r):g[e]=r;return g}var P={};P.add=function(M,d,g,r,e){var o,n;if(M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},n=M.undoQueue.index,M.autoplay){M.undoQueue.inSequence||(M.autoplay=!1);return}!M.undoQueue.sequence||M.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},M.undoQueue.queue.splice(n,M.undoQueue.queue.length-n,o),M.undoQueue.index+=1):o=M.undoQueue.queue[n-1],M.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(d),o.undo.args.unshift(g),o.redo.calls.push(r),o.redo.args.push(e)),M.undoQueue.queue.length>D.queueLength&&(M.undoQueue.queue.shift(),M.undoQueue.index--)},P.startSequence=function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!0,M.undoQueue.beginSequence=!0},P.stopSequence=function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!1,M.undoQueue.beginSequence=!1},P.undo=function(d){var g,r;if(!(d.undoQueue===void 0||isNaN(d.undoQueue.index)||d.undoQueue.index<=0)){for(d.undoQueue.index--,g=d.undoQueue.queue[d.undoQueue.index],d.undoQueue.inSequence=!0,r=0;r<g.undo.calls.length;r++)P.plotDo(d,g.undo.calls[r],g.undo.args[r]);d.undoQueue.inSequence=!1,d.autoplay=!1}},P.redo=function(d){var g,r;if(!(d.undoQueue===void 0||isNaN(d.undoQueue.index)||d.undoQueue.index>=d.undoQueue.queue.length)){for(g=d.undoQueue.queue[d.undoQueue.index],d.undoQueue.inSequence=!0,r=0;r<g.redo.calls.length;r++)P.plotDo(d,g.redo.calls[r],g.redo.args[r]);d.undoQueue.inSequence=!1,d.autoplay=!1,d.undoQueue.index++}},P.plotDo=function(M,d,g){M.autoplay=!0,g=s(M,g),d.apply(null,g)},W.exports=P},53756:function(W,G){G.counter=function(t,y,D,s){var P=(y||"")+(D?"":"$"),M=s===!1?"":"^";return t==="xy"?new RegExp(M+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+P):new RegExp(M+t+"([2-9]|[1-9][0-9]+)?"+P)}},23193:function(W){var G=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;W.exports=function(y,D){for(;D;){var s=y.match(G);if(s)y=s[1];else if(y.match(t))y="";else throw new Error("bad relativeAttr call:"+[y,D]);if(D.charAt(0)==="^")D=D.slice(1);else break}return y&&D.charAt(0)!=="["?y+"."+D:y+D}},51528:function(W,G,t){var y=t(38116).isArrayOrTypedArray,D=t(63620);W.exports=function s(P,M){for(var d in M){var g=M[d],r=P[d];if(r!==g)if(d.charAt(0)==="_"||typeof g=="function"){if(d in P)continue;P[d]=g}else if(y(g)&&y(r)&&D(g[0])){if(d==="customdata"||d==="ids")continue;for(var e=Math.min(g.length,r.length),o=0;o<e;o++)r[o]!==g[o]&&D(g[o])&&D(r[o])&&s(r[o],g[o])}else D(g)&&D(r)&&(s(r,g),Object.keys(r).length||delete P[d])}}},14952:function(W,G,t){var y=t(38248),D=t(24248),s=t(35536),P=t(39032).BADNUM,M=1e-9;G.findBin=function(o,n,u){if(y(n.start))return u?Math.ceil((o-n.start)/n.size-M)-1:Math.floor((o-n.start)/n.size+M);var f=0,c=n.length,m=0,v=c>1?(n[c-1]-n[0])/(c-1):1,T,h;for(v>=0?h=u?d:g:h=u?e:r,o+=v*M*(u?-1:1)*(v>=0?1:-1);f<c&&m++<100;)T=Math.floor((f+c)/2),h(n[T],o)?f=T+1:c=T;return m>90&&D.log("Long binary search..."),f-1};function d(o,n){return o<n}function g(o,n){return o<=n}function r(o,n){return o>n}function e(o,n){return o>=n}G.sorterAsc=function(o,n){return o-n},G.sorterDes=function(o,n){return n-o},G.distinctVals=function(o){var n=o.slice();n.sort(G.sorterAsc);var u;for(u=n.length-1;u>-1&&n[u]===P;u--);for(var f=n[u]-n[0]||1,c=f/(u||1)/1e4,m=[],v,T=0;T<=u;T++){var h=n[T],i=h-v;v===void 0?(m.push(h),v=h):i>c&&(f=Math.min(f,i),m.push(h),v=h)}return{vals:m,minDiff:f}},G.roundUp=function(o,n,u){for(var f=0,c=n.length-1,m,v=0,T=u?0:1,h=u?1:0,i=u?Math.ceil:Math.floor;f<c&&v++<100;)m=i((f+c)/2),n[m]<=o?f=m+T:c=m-h;return n[f]},G.sort=function(o,n){for(var u=0,f=0,c=1;c<o.length;c++){var m=n(o[c],o[c-1]);if(m<0?u=1:m>0&&(f=1),u&&f)return o.sort(n)}return f?o:o.reverse()},G.findIndexOfMin=function(o,n){n=n||s;for(var u=1/0,f,c=0;c<o.length;c++){var m=n(o[c]);m<u&&(u=m,f=c)}return f}},93972:function(W){W.exports=function(t,y){(t.attr("class")||"").split(" ").forEach(function(D){D.indexOf("cursor-")===0&&t.classed(D,!1)}),y&&t.classed("cursor-"+y,!0)}},16576:function(W,G,t){var y=t(76308),D=function(){};W.exports=function(P){for(var M in P)typeof P[M]=="function"&&(P[M]=D);P.destroy=function(){P.container.parentNode.removeChild(P.container)};var d=document.createElement("div");d.className="no-webgl",d.style.cursor="pointer",d.style.fontSize="24px",d.style.color=y.defaults[0],d.style.position="absolute",d.style.left=d.style.top="0px",d.style.width=d.style.height="100%",d.style["background-color"]=y.lightLine,d.style["z-index"]=30;var g=document.createElement("p");return g.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",g.style.position="relative",g.style.top="50%",g.style.left="50%",g.style.height="30%",g.style.width="50%",g.style.margin="-15% 0 0 -25%",d.appendChild(g),P.container.appendChild(d),P.container.style.background="#FFFFFF",P.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(W){W.exports=function(t){return Object.keys(t).sort()}},63084:function(W,G,t){var y=t(38248),D=t(38116).isArrayOrTypedArray;G.aggNums=function(s,P,M,d){var g,r;if((!d||d>M.length)&&(d=M.length),y(P)||(P=!1),D(M[0])){for(r=new Array(d),g=0;g<d;g++)r[g]=G.aggNums(s,P,M[g]);M=r}for(g=0;g<d;g++)y(P)?y(M[g])&&(P=s(+P,+M[g])):P=M[g];return P},G.len=function(s){return G.aggNums(function(P){return P+1},0,s)},G.mean=function(s,P){return P||(P=G.len(s)),G.aggNums(function(M,d){return M+d},0,s)/P},G.geometricMean=function(s,P){return P||(P=G.len(s)),Math.pow(G.aggNums(function(M,d){return M*d},1,s),1/P)},G.midRange=function(s){if(!(s===void 0||s.length===0))return(G.aggNums(Math.max,null,s)+G.aggNums(Math.min,null,s))/2},G.variance=function(s,P,M){return P||(P=G.len(s)),y(M)||(M=G.mean(s,P)),G.aggNums(function(d,g){return d+Math.pow(g-M,2)},0,s)/P},G.stdev=function(s,P,M){return Math.sqrt(G.variance(s,P,M))},G.median=function(s){var P=s.slice().sort();return G.interp(P,.5)},G.interp=function(s,P){if(!y(P))throw"n should be a finite number";if(P=P*s.length-.5,P<0)return s[0];if(P>s.length-1)return s[s.length-1];var M=P%1;return M*s[Math.ceil(P)]+(1-M)*s[Math.floor(P)]}},43080:function(W,G,t){var y=t(72160);function D(s){return s?y(s):[0,0,0,1]}W.exports=D},9188:function(W,G,t){var y=t(2264),D=t(43616),s=t(3400),P=null;function M(){if(P!==null)return P;P=!1;var d=s.isIE()||s.isSafari()||s.isIOS();if(window.navigator.userAgent&&!d){var g=Array.from(y.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")P=g.some(function(u){return r.apply(null,u)});else{var e=D.tester.append("image").attr("style",y.STYLE),o=window.getComputedStyle(e.node()),n=o.imageRendering;P=g.some(function(u){var f=u[1];return n===f||n===f.toLowerCase()}),e.remove()}}return P}W.exports=M},72736:function(W,G,t){var y=t(33428),D=t(3400),s=D.strTranslate,P=t(9616),M=t(84284).LINE_SPACING,d=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;G.convertToTspans=function(N,O,H){var X=N.text(),J=!N.attr("data-notex")&&O&&O._context.typesetMath&&typeof MathJax<"u"&&X.match(d),et=y.select(N.node().parentNode);if(et.empty())return;var it=N.attr("class")?N.attr("class").split(" ")[0]:"text";it+="-math",et.selectAll("svg."+it).remove(),et.selectAll("g."+it+"-group").remove(),N.style("display",null).attr({"data-unformatted":X,"data-math":"N"});function ft(){et.empty()||(it=N.attr("class")+"-math",et.select("svg."+it).remove()),N.text("").style("white-space","pre");var ot=k(N.node(),X);ot&&N.style("pointer-events","all"),G.positionText(N),H&&H.call(N)}return J?(O&&O._promises||[]).push(new Promise(function(ot){N.style("display","none");var Q=parseInt(N.node().style.fontSize,10),tt={fontSize:Q};n(J[2],tt,function(Z,q,ut){et.selectAll("svg."+it).remove(),et.selectAll("g."+it+"-group").remove();var $=Z&&Z.select("svg");if(!$||!$.node()){ft(),ot();return}var j=et.append("g").classed(it+"-group",!0).attr({"pointer-events":"none","data-unformatted":X,"data-math":"Y"});j.node().appendChild($.node()),q&&q.node()&&$.node().insertBefore(q.node().cloneNode(!0),$.node().firstChild);var lt=ut.width,nt=ut.height;$.attr({class:it,height:nt,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ht=N.node().style.fill||"black",mt=$.select("g");mt.attr({fill:ht,stroke:ht});var At=mt.node().getBoundingClientRect(),bt=At.width,Pt=At.height;(bt>lt||Pt>nt)&&($.style("overflow","hidden"),At=$.node().getBoundingClientRect(),bt=At.width,Pt=At.height);var _t=+N.attr("x"),Ut=+N.attr("y"),St=Q||N.node().getBoundingClientRect().height,Rt=-St/4;if(it[0]==="y")j.attr({transform:"rotate("+[-90,_t,Ut]+")"+s(-bt/2,Rt-Pt/2)});else if(it[0]==="l")Ut=Rt-Pt/2;else if(it[0]==="a"&&it.indexOf("atitle")!==0)_t=0,Ut=Rt;else{var Et=N.attr("text-anchor");_t=_t-bt*(Et==="middle"?.5:Et==="end"?1:0),Ut=Ut+Rt-Pt/2}$.attr({x:_t,y:Ut}),H&&H.call(N,j),ot(j)})})):ft(),N};var g=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function e(N){return N.replace(g,"\\lt ").replace(r,"\\gt ")}var o=[["$","$"],["\\(","\\)"]];function n(N,O,H){var X=parseInt((MathJax.version||"").split(".")[0]);if(X!==2&&X!==3){D.warn("No MathJax version:",MathJax.version);return}var J,et,it,ft,ot=function(){return et=D.extendDeepAll({},MathJax.Hub.config),it=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:o},displayAlign:"left"})},Q=function(){et=D.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=o},tt=function(){if(J=MathJax.Hub.config.menuSettings.renderer,J!=="SVG")return MathJax.Hub.setRenderer("SVG")},Z=function(){J=MathJax.config.startup.output,J!=="svg"&&(MathJax.config.startup.output="svg")},q=function(){var ht="math-output-"+D.randstr({},64);ft=y.select("body").append("div").attr({id:ht}).style({visibility:"hidden",position:"absolute","font-size":O.fontSize+"px"}).text(e(N));var mt=ft.node();return X===2?MathJax.Hub.Typeset(mt):MathJax.typeset([mt])},ut=function(){var ht=ft.select(X===2?".MathJax_SVG":".MathJax"),mt=!ht.empty()&&ft.select("svg").node();if(!mt)D.log("There was an error in the tex syntax.",N),H();else{var At=mt.getBoundingClientRect(),bt;X===2?bt=y.select("body").select("#MathJax_SVG_glyphs"):bt=ht.select("defs"),H(ht,bt,At)}ft.remove()},$=function(){if(J!=="SVG")return MathJax.Hub.setRenderer(J)},j=function(){J!=="svg"&&(MathJax.config.startup.output=J)},lt=function(){return it!==void 0&&(MathJax.Hub.processSectionDelay=it),MathJax.Hub.Config(et)},nt=function(){MathJax.config=et};X===2?MathJax.Hub.Queue(ot,tt,q,ut,$,lt):X===3&&(Q(),Z(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){q(),ut(),j(),nt()}))}var u={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},c={sub:"-0.21em",sup:"0.42em"},m="",v=["http:","https:","mailto:","",void 0,":"],T=G.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,i=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;G.BR_TAG_ALL=/<br(\s+.*)?>/gi;var w=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,L=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(N,O){if(!N)return null;var H=N.match(O),X=H&&(H[3]||H[4]);return X&&b(X)}var S=/(^|;)\s*color:/;G.plainText=function(N,O){O=O||{};for(var H=O.len!==void 0&&O.len!==-1?O.len:1/0,X=O.allowedTags!==void 0?O.allowedTags:["br"],J="...",et=J.length,it=N.split(h),ft=[],ot="",Q=0,tt=0;tt<it.length;tt++){var Z=it[tt],q=Z.match(i),ut=q&&q[2].toLowerCase();if(ut)X.indexOf(ut)!==-1&&(ft.push(Z),ot=ut);else{var $=Z.length;if(Q+$<H)ft.push(Z),Q+=$;else if(Q<H){var j=H-Q;ot&&(ot!=="br"||j<=et||$<=et)&&ft.pop(),H>et?ft.push(Z.substr(0,j-et)+J):ft.push(Z.substr(0,j));break}ot=""}}return ft.join("")};var a={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},C=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function b(N){return N.replace(C,function(O,H){var X;return H.charAt(0)==="#"?X=z(H.charAt(1)==="x"?parseInt(H.substr(2),16):parseInt(H.substr(1),10)):X=a[H],X||O})}G.convertEntities=b;function z(N){if(!(N>1114111)){var O=String.fromCodePoint;if(O)return O(N);var H=String.fromCharCode;return N<=65535?H(N):H((N>>10)+55232,N%1024+56320)}}function k(N,O){O=O.replace(T," ");var H=!1,X=[],J,et=-1;function it(){et++;var Pt=document.createElementNS(P.svg,"tspan");y.select(Pt).attr({class:"line",dy:et*M+"em"}),N.appendChild(Pt),J=Pt;var _t=X;if(X=[{node:Pt}],_t.length>1)for(var Ut=1;Ut<_t.length;Ut++)ft(_t[Ut])}function ft(Pt){var _t=Pt.type,Ut={},St;if(_t==="a"){St="a";var Rt=Pt.target,Et=Pt.href,zt=Pt.popup;Et&&(Ut={"xlink:xlink:show":Rt==="_blank"||Rt.charAt(0)!=="_"?"new":"replace",target:Rt,"xlink:xlink:href":Et},zt&&(Ut.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+zt+'");return false;'))}else St="tspan";Pt.style&&(Ut.style=Pt.style);var Ct=document.createElementNS(P.svg,St);if(_t==="sup"||_t==="sub"){ot(J,m),J.appendChild(Ct);var Wt=document.createElementNS(P.svg,"tspan");ot(Wt,m),y.select(Wt).attr("dy",c[_t]),Ut.dy=f[_t],J.appendChild(Ct),J.appendChild(Wt)}else J.appendChild(Ct);y.select(Ct).attr(Ut),J=Pt.node=Ct,X.push(Pt)}function ot(Pt,_t){Pt.appendChild(document.createTextNode(_t))}function Q(Pt){if(X.length===1){D.log("Ignoring unexpected end tag </"+Pt+">.",O);return}var _t=X.pop();Pt!==_t.type&&D.log("Start tag <"+_t.type+"> doesnt match end tag <"+Pt+">. Pretending it did match.",O),J=X[X.length-1].node}var tt=p.test(O);tt?it():(J=N,X=[{node:N}]);for(var Z=O.split(h),q=0;q<Z.length;q++){var ut=Z[q],$=ut.match(i),j=$&&$[2].toLowerCase(),lt=u[j];if(j==="br")it();else if(lt===void 0)ot(J,b(ut));else if($[1])Q(j);else{var nt=$[4],ht={type:j},mt=E(nt,w);if(mt?(mt=mt.replace(S,"$1 fill:"),lt&&(mt+=";"+lt)):lt&&(mt=lt),mt&&(ht.style=mt),j==="a"){H=!0;var At=E(nt,A);if(At){var bt=U(At);bt&&(ht.href=bt,ht.target=E(nt,L)||"_blank",ht.popup=E(nt,x))}}ft(ht)}}return H}function U(N){var O=encodeURI(decodeURI(N)),H=document.createElement("a"),X=document.createElement("a");H.href=N,X.href=O;var J=H.protocol,et=X.protocol;return v.indexOf(J)!==-1&&v.indexOf(et)!==-1?O:""}G.sanitizeHTML=function(O){O=O.replace(T," ");for(var H=document.createElement("p"),X=H,J=[],et=O.split(h),it=0;it<et.length;it++){var ft=et[it],ot=ft.match(i),Q=ot&&ot[2].toLowerCase();if(Q in u)if(ot[1])J.length&&(X=J.pop());else{var tt=ot[4],Z=E(tt,w),q=Z?{style:Z}:{};if(Q==="a"){var ut=E(tt,A);if(ut){var $=U(ut);if($){q.href=$;var j=E(tt,L);j&&(q.target=j)}}}var lt=document.createElement(Q);X.appendChild(lt),y.select(lt).attr(q),X=lt,J.push(lt)}else X.appendChild(document.createTextNode(b(ft)))}var nt="innerHTML";return H[nt]},G.lineCount=function(O){return O.selectAll("tspan.line").size()||1},G.positionText=function(O,H,X){return O.each(function(){var J=y.select(this);function et(ot,Q){return Q===void 0?(Q=J.attr(ot),Q===null&&(J.attr(ot,0),Q=0)):J.attr(ot,Q),Q}var it=et("x",H),ft=et("y",X);this.nodeName==="text"&&J.selectAll("tspan.line").attr({x:it,y:ft})})};function F(N,O,H){var X=H.horizontalAlign,J=H.verticalAlign||"top",et=N.node().getBoundingClientRect(),it=O.node().getBoundingClientRect(),ft,ot,Q;return J==="bottom"?ot=function(){return et.bottom-ft.height}:J==="middle"?ot=function(){return et.top+(et.height-ft.height)/2}:ot=function(){return et.top},X==="right"?Q=function(){return et.right-ft.width}:X==="center"?Q=function(){return et.left+(et.width-ft.width)/2}:Q=function(){return et.left},function(){ft=this.node().getBoundingClientRect();var tt=Q()-it.left,Z=ot()-it.top,q=H.gd||{};if(H.gd){q._fullLayout._calcInverseTransform(q);var ut=D.apply3DTransform(q._fullLayout._invTransform)(tt,Z);tt=ut[0],Z=ut[1]}return this.style({top:Z+"px",left:tt+"px","z-index":1e3}),this}}var V="1px ";G.makeTextShadow=function(N){var O=V,H=V,X=V;return O+H+X+N+", -"+O+"-"+H+X+N+", "+O+"-"+H+X+N+", -"+O+H+X+N},G.makeEditable=function(N,O){var H=O.gd,X=O.delegate,J=y.dispatch("edit","input","cancel"),et=X||N;if(N.style({"pointer-events":X?"none":"all"}),N.size()!==1)throw new Error("boo");function it(){ot(),N.style({opacity:0});var Q=et.attr("class"),tt;Q?tt="."+Q.split(" ")[0]+"-math-group":tt="[class*=-math-group]",tt&&y.select(N.node().parentNode).select(tt).style({opacity:0})}function ft(Q){var tt=Q.node(),Z=document.createRange();Z.selectNodeContents(tt);var q=window.getSelection();q.removeAllRanges(),q.addRange(Z),tt.focus()}function ot(){var Q=y.select(H),tt=Q.select(".svg-container"),Z=tt.append("div"),q=N.node().style,ut=parseFloat(q.fontSize||12),$=O.text;$===void 0&&($=N.attr("data-unformatted")),Z.classed("plugin-editable editable",!0).style({position:"absolute","font-family":q.fontFamily||"Arial","font-size":ut,color:O.fill||q.fill||"black",opacity:1,"background-color":O.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ut/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text($).call(F(N,tt,O)).on("blur",function(){H._editing=!1,N.text(this.textContent).style({opacity:1});var j=y.select(this).attr("class"),lt;j?lt="."+j.split(" ")[0]+"-math-group":lt="[class*=-math-group]",lt&&y.select(N.node().parentNode).select(lt).style({opacity:0});var nt=this.textContent;y.select(this).transition().duration(0).remove(),y.select(document).on("mouseup",null),J.edit.call(N,nt)}).on("focus",function(){var j=this;H._editing=!0,y.select(document).on("mouseup",function(){if(y.event.target===j)return!1;document.activeElement===Z.node()&&Z.node().blur()})}).on("keyup",function(){y.event.which===27?(H._editing=!1,N.style({opacity:1}),y.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),J.cancel.call(N,this.textContent)):(J.input.call(N,this.textContent),y.select(this).call(F(N,tt,O)))}).on("keydown",function(){y.event.which===13&&this.blur()}).call(ft)}return O.immediate?it():et.on("click",it),y.rebind(N,J,"on")}},91200:function(W,G){var t={};G.throttle=function(s,P,M){var d=t[s],g=Date.now();if(!d){for(var r in t)t[r].ts<g-6e4&&delete t[r];d=t[s]={ts:0,timer:null}}y(d);function e(){M(),d.ts=Date.now(),d.onDone&&(d.onDone(),d.onDone=null)}if(g>d.ts+P){e();return}d.timer=setTimeout(function(){e(),d.timer=null},P)},G.done=function(D){var s=t[D];return!s||!s.timer?Promise.resolve():new Promise(function(P){var M=s.onDone;s.onDone=function(){M&&M(),P(),s.onDone=null}})},G.clear=function(D){if(D)y(t[D]),delete t[D];else for(var s in t)G.clear(s)};function y(D){D&&D.timer!==null&&(clearTimeout(D.timer),D.timer=null)}},36896:function(W,G,t){var y=t(38248);W.exports=function(s,P){if(s>0)return Math.log(s)/Math.LN10;var M=Math.log(Math.min(P[0],P[1]))/Math.LN10;return y(M)||(M=Math.log(Math.max(P[0],P[1]))/Math.LN10-6),M}},59972:function(W,G,t){var y=W.exports={},D=t(79552).locationmodeToLayer,s=t(55712).NO;y.getTopojsonName=function(P){return[P.scope.replace(/ /g,"-"),"_",P.resolution.toString(),"m"].join("")},y.getTopojsonPath=function(P,M){return P+M+".json"},y.getTopojsonFeatures=function(P,M){var d=D[P.locationmode],g=M.objects[d];return s(M,g).features}},11680:function(W){W.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(W){W.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(W,G,t){var y=t(24040);W.exports=function(s){for(var P=y.layoutArrayContainers,M=y.layoutArrayRegexes,d=s.split("[")[0],g,r,e=0;e<M.length;e++)if(r=s.match(M[e]),r&&r.index===0){g=r[0];break}if(g||(g=P[P.indexOf(d)]),!g)return!1;var o=s.substr(g.length);return o?(r=o.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:g,index:Number(r[1]),property:r[3]||""}:!1):{array:g,index:"",property:""}}},67824:function(W,G,t){var y=t(92880).extendFlat,D=t(63620),s={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},P={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},M=s.flags.slice().concat(["fullReplot"]),d=P.flags.slice().concat("layoutReplot");W.exports={traces:s,layout:P,traceFlags:function(){return g(M)},layoutFlags:function(){return g(d)},update:function(o,n){var u=n.editType;if(u&&u!=="none")for(var f=u.split("+"),c=0;c<f.length;c++)o[f[c]]=!0},overrideAll:r};function g(o){for(var n={},u=0;u<o.length;u++)n[o[u]]=!1;return n}function r(o,n,u){var f=y({},o);for(var c in f){var m=f[c];D(m)&&(f[c]=e(m,n,u,c))}return u==="from-root"&&(f.editType=n),f}function e(o,n,u,f){if(o.valType){var c=y({},o);if(c.editType=n,Array.isArray(o.items)){c.items=new Array(o.items.length);for(var m=0;m<o.items.length;m++)c.items[m]=e(o.items[m],n)}return c}else return r(o,n,f.charAt(0)==="_"?"nested":"from-root")}},93404:function(W,G,t){var y=t(38248),D=t(61784),s=t(24040),P=t(3400),M=t(7316),d=t(79811),g=t(76308),r=d.cleanId,e=d.getFromTrace,o=s.traceIs;G.clearPromiseQueue=function(p){Array.isArray(p._promises)&&p._promises.length>0&&P.log("Clearing previous rejected promises from queue."),p._promises=[]},G.cleanLayout=function(p){var w,A;p||(p={}),p.xaxis1&&(p.xaxis||(p.xaxis=p.xaxis1),delete p.xaxis1),p.yaxis1&&(p.yaxis||(p.yaxis=p.yaxis1),delete p.yaxis1),p.scene1&&(p.scene||(p.scene=p.scene1),delete p.scene1);var L=(M.subplotsRegistry.cartesian||{}).attrRegex,x=(M.subplotsRegistry.polar||{}).attrRegex,E=(M.subplotsRegistry.ternary||{}).attrRegex,S=(M.subplotsRegistry.gl3d||{}).attrRegex,a=Object.keys(p);for(w=0;w<a.length;w++){var C=a[w];if(L&&L.test(C)){var b=p[C];b.anchor&&b.anchor!=="free"&&(b.anchor=r(b.anchor)),b.overlaying&&(b.overlaying=r(b.overlaying)),b.type||(b.isdate?b.type="date":b.islog?b.type="log":b.isdate===!1&&b.islog===!1&&(b.type="linear")),(b.autorange==="withzero"||b.autorange==="tozero")&&(b.autorange=!0,b.rangemode="tozero"),b.insiderange&&delete b.range,delete b.islog,delete b.isdate,delete b.categories,v(b,"domain")&&delete b.domain,b.autotick!==void 0&&(b.tickmode===void 0&&(b.tickmode=b.autotick?"auto":"linear"),delete b.autotick),u(b)}else if(x&&x.test(C)){var z=p[C];u(z.radialaxis)}else if(E&&E.test(C)){var k=p[C];u(k.aaxis),u(k.baxis),u(k.caxis)}else if(S&&S.test(C)){var U=p[C],F=U.cameraposition;if(Array.isArray(F)&&F[0].length===4){var V=F[0],N=F[1],O=F[2],H=D([],V),X=[];for(A=0;A<3;++A)X[A]=N[A]+O*H[2+4*A];U.camera={eye:{x:X[0],y:X[1],z:X[2]},center:{x:N[0],y:N[1],z:N[2]},up:{x:0,y:0,z:1}},delete U.cameraposition}u(U.xaxis),u(U.yaxis),u(U.zaxis)}}var J=Array.isArray(p.annotations)?p.annotations.length:0;for(w=0;w<J;w++){var et=p.annotations[w];P.isPlainObject(et)&&(et.ref&&(et.ref==="paper"?(et.xref="paper",et.yref="paper"):et.ref==="data"&&(et.xref="x",et.yref="y"),delete et.ref),n(et,"xref"),n(et,"yref"))}var it=Array.isArray(p.shapes)?p.shapes.length:0;for(w=0;w<it;w++){var ft=p.shapes[w];P.isPlainObject(ft)&&(n(ft,"xref"),n(ft,"yref"))}var ot=Array.isArray(p.images)?p.images.length:0;for(w=0;w<ot;w++){var Q=p.images[w];P.isPlainObject(Q)&&(n(Q,"xref"),n(Q,"yref"))}var tt=p.legend;return tt&&(tt.x>3?(tt.x=1.02,tt.xanchor="left"):tt.x<-2&&(tt.x=-.02,tt.xanchor="right"),tt.y>3?(tt.y=1.02,tt.yanchor="bottom"):tt.y<-2&&(tt.y=-.02,tt.yanchor="top")),u(p),p.dragmode==="rotate"&&(p.dragmode="orbit"),g.clean(p),p.template&&p.template.layout&&G.cleanLayout(p.template.layout),p};function n(p,w){var A=p[w],L=w.charAt(0);A&&A!=="paper"&&(p[w]=r(A,L,!0))}function u(p){p&&((typeof p.title=="string"||typeof p.title=="number")&&(p.title={text:p.title}),w("titlefont","font"),w("titleposition","position"),w("titleside","side"),w("titleoffset","offset"));function w(A,L){var x=p[A],E=p.title&&p.title[L];x&&!E&&(p.title||(p.title={}),p.title[L]=p[A],delete p[A])}}G.cleanData=function(p){for(var w=0;w<p.length;w++){var A=p[w],L;if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var x=g.defaults,E=A.error_y.color||(o(A,"bar")?g.defaultLine:x[w%x.length]);A.error_y.color=g.addOpacity(g.rgb(E),g.opacity(E)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir==="h"&&(o(A,"bar")||A.type.substr(0,9)==="histogram")&&(A.orientation="h",G.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&G.swapXYData(A),(A.type==="histogramx"||A.type==="histogramy")&&(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=r(A.xaxis,"x")),A.yaxis&&(A.yaxis=r(A.yaxis,"y")),o(A,"gl3d")&&A.scene&&(A.scene=M.subplotsRegistry.gl3d.cleanId(A.scene)),!o(A,"pie-like")&&!o(A,"bar-like"))if(Array.isArray(A.textposition))for(L=0;L<A.textposition.length;L++)A.textposition[L]=m(A.textposition[L]);else A.textposition&&(A.textposition=m(A.textposition));var S=s.getModule(A);if(S&&S.colorbar){var a=S.colorbar.container,C=a?A[a]:A;C&&C.colorscale&&(C.colorscale==="YIGnBu"&&(C.colorscale="YlGnBu"),C.colorscale==="YIOrRd"&&(C.colorscale="YlOrRd"))}if(A.type==="surface"&&P.isPlainObject(A.contours)){var b=["x","y","z"];for(L=0;L<b.length;L++){var z=A.contours[b[L]];P.isPlainObject(z)&&(z.highlightColor&&(z.highlightcolor=z.highlightColor,delete z.highlightColor),z.highlightWidth&&(z.highlightwidth=z.highlightWidth,delete z.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var k=(A.increasing||{}).showlegend!==!1,U=(A.decreasing||{}).showlegend!==!1,F=f(A.increasing),V=f(A.decreasing);if(F!==!1&&V!==!1){var N=c(F,V,k,U);N&&(A.name=N)}else(F||V)&&!A.name&&(A.name=F||V)}if(Array.isArray(A.transforms)){var O=A.transforms;for(L=0;L<O.length;L++){var H=O[L];if(P.isPlainObject(H))switch(H.type){case"filter":H.filtersrc&&(H.target=H.filtersrc,delete H.filtersrc),H.calendar&&(H.valuecalendar||(H.valuecalendar=H.calendar),delete H.calendar);break;case"groupby":if(H.styles=H.styles||H.style,H.styles&&!Array.isArray(H.styles)){var X=H.styles,J=Object.keys(X);H.styles=[];for(var et=0;et<J.length;et++)H.styles.push({target:J[et],value:X[J[et]]})}break}}}v(A,"line")&&delete A.line,"marker"in A&&(v(A.marker,"line")&&delete A.marker.line,v(A,"marker")&&delete A.marker),g.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),u(A),A.colorbar&&u(A.colorbar),A.marker&&A.marker.colorbar&&u(A.marker.colorbar),A.line&&A.line.colorbar&&u(A.line.colorbar),A.aaxis&&u(A.aaxis),A.baxis&&u(A.baxis)}};function f(p){if(!P.isPlainObject(p))return!1;var w=p.name;return delete p.name,delete p.showlegend,(typeof w=="string"||typeof w=="number")&&String(w)}function c(p,w,A,L){if(A&&!L)return p;if(L&&!A||!p.trim())return w;if(!w.trim())return p;var x=Math.min(p.length,w.length),E;for(E=0;E<x&&p.charAt(E)===w.charAt(E);E++);var S=p.substr(0,E);return S.trim()}function m(p){var w="middle",A="center";return typeof p=="string"&&(p.indexOf("top")!==-1?w="top":p.indexOf("bottom")!==-1&&(w="bottom"),p.indexOf("left")!==-1?A="left":p.indexOf("right")!==-1&&(A="right")),w+" "+A}function v(p,w){return w in p&&typeof p[w]=="object"&&Object.keys(p[w]).length===0}G.swapXYData=function(p){var w;if(P.swapAttrs(p,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(p.z)&&Array.isArray(p.z[0])&&(p.transpose?delete p.transpose:p.transpose=!0),p.error_x&&p.error_y){var A=p.error_y,L="copy_ystyle"in A?A.copy_ystyle:!(A.color||A.thickness||A.width);P.swapAttrs(p,["error_?.copy_ystyle"]),L&&P.swapAttrs(p,["error_?.color","error_?.thickness","error_?.width"])}if(typeof p.hoverinfo=="string"){var x=p.hoverinfo.split("+");for(w=0;w<x.length;w++)x[w]==="x"?x[w]="y":x[w]==="y"&&(x[w]="x");p.hoverinfo=x.join("+")}},G.coerceTraceIndices=function(p,w){if(y(w))return[w];if(!Array.isArray(w)||!w.length)return p.data.map(function(x,E){return E});if(Array.isArray(w)){for(var A=[],L=0;L<w.length;L++)P.isIndex(w[L],p.data.length)?A.push(w[L]):P.warn("trace index (",w[L],") is not a number or is out of bounds");return A}return w},G.manageArrayContainers=function(p,w,A){var L=p.obj,x=p.parts,E=x.length,S=x[E-1],a=y(S);if(a&&w===null){var C=x.slice(0,E-1).join("."),b=P.nestedProperty(L,C).get();b.splice(S,1)}else a&&p.get()===void 0&&p.get()===void 0&&(A[p.astr]=null),p.set(w)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(p){var w=p.search(T);if(w>0)return p.substr(0,w)}G.hasParent=function(p,w){for(var A=h(w);A;){if(A in p)return!0;A=h(A)}return!1};var i=["x","y","z"];G.clearAxisTypes=function(p,w,A){for(var L=0;L<w.length;L++)for(var x=p._fullData[L],E=0;E<3;E++){var S=e(p,x,i[E]);if(S&&S.type!=="log"){var a=S._name,C=S._id.substr(1);if(C.substr(0,5)==="scene"){if(A[C]!==void 0)continue;a=C+"."+a}var b=a+".type";A[a]===void 0&&A[b]===void 0&&P.nestedProperty(p.layout,b).set(null)}}}},22448:function(W,G,t){var y=t(36424);G._doPlot=y._doPlot,G.newPlot=y.newPlot,G.restyle=y.restyle,G.relayout=y.relayout,G.redraw=y.redraw,G.update=y.update,G._guiRestyle=y._guiRestyle,G._guiRelayout=y._guiRelayout,G._guiUpdate=y._guiUpdate,G._storeDirectGUIEdit=y._storeDirectGUIEdit,G.react=y.react,G.extendTraces=y.extendTraces,G.prependTraces=y.prependTraces,G.addTraces=y.addTraces,G.deleteTraces=y.deleteTraces,G.moveTraces=y.moveTraces,G.purge=y.purge,G.addFrames=y.addFrames,G.deleteFrames=y.deleteFrames,G.animate=y.animate,G.setPlotConfig=y.setPlotConfig;var D=t(52200).getGraphDiv,s=t(4016).eraseActiveShape;G.deleteActiveShape=function(M){return s(D(M))},G.toImage=t(67024),G.validate=t(21480),G.downloadImage=t(39792);var P=t(94828);G.makeTemplate=P.makeTemplate,G.validateTemplate=P.validateTemplate},17680:function(W,G,t){var y=t(63620),D=t(16628),s=t(24248),P=t(14952).sorterAsc,M=t(24040);G.containerArrayMatch=t(69820);var d=G.isAddVal=function(e){return e==="add"||y(e)},g=G.isRemoveVal=function(e){return e===null||e==="remove"};G.applyContainerArrayChanges=function(e,o,n,u,f){var c=o.astr,m=M.getComponentMethod(c,"supplyLayoutDefaults"),v=M.getComponentMethod(c,"draw"),T=M.getComponentMethod(c,"drawOne"),h=u.replot||u.recalc||m===D||v===D,i=e.layout,p=e._fullLayout;if(n[""]){Object.keys(n).length>1&&s.warn("Full array edits are incompatible with other edits",c);var w=n[""][""];if(g(w))o.set(null);else if(Array.isArray(w))o.set(w);else return s.warn("Unrecognized full array edit value",c,w),!0;return h?!1:(m(i,p),v(e),!0)}var A=Object.keys(n).map(Number).sort(P),L=o.get(),x=L||[],E=f(p,c).get(),S=[],a=-1,C=x.length,b,z,k,U,F,V,N,O;for(b=0;b<A.length;b++){if(k=A[b],U=n[k],F=Object.keys(U),V=U[""],N=d(V),k<0||k>x.length-(N?0:1)){s.warn("index out of range",c,k);continue}if(V!==void 0)F.length>1&&s.warn("Insertion & removal are incompatible with edits to the same index.",c,k),g(V)?S.push(k):N?(V==="add"&&(V={}),x.splice(k,0,V),E&&E.splice(k,0,{})):s.warn("Unrecognized full object edit value",c,k,V),a===-1&&(a=k);else for(z=0;z<F.length;z++)O=c+"["+k+"].",f(x[k],F[z],O).set(U[F[z]])}for(b=S.length-1;b>=0;b--)x.splice(S[b],1),E&&E.splice(S[b],1);if(x.length?L||o.set(x):o.set(null),h)return!1;if(m(i,p),T!==D){var H;if(a===-1)H=A;else{for(C=Math.max(x.length,C),H=[],b=0;b<A.length&&(k=A[b],!(k>=a));b++)H.push(k);for(b=a;b<C;b++)H.push(b)}for(b=0;b<H.length;b++)T(e,H[b])}else v(e);return!0}},36424:function(W,G,t){var y=t(33428),D=t(38248),s=t(52264),P=t(3400),M=P.nestedProperty,d=t(95924),g=t(94552),r=t(24040),e=t(73060),o=t(7316),n=t(54460),u=t(96312),f=t(94724),c=t(43616),m=t(76308),v=t(42464).initInteractions,T=t(9616),h=t(22676).clearOutline,i=t(20556).dfltConfig,p=t(17680),w=t(93404),A=t(39172),L=t(67824),x=t(33816).AX_NAME_PATTERN,E=0,S=5;function a(dt,xt,Ot,jt){var ie;if(dt=P.getGraphDiv(dt),d.init(dt),P.isPlainObject(xt)){var le=xt;xt=le.data,Ot=le.layout,jt=le.config,ie=le.frames}var Ve=d.triggerHandler(dt,"plotly_beforeplot",[xt,Ot,jt]);if(Ve===!1)return Promise.reject();!xt&&!Ot&&!P.isPlotDiv(dt)&&P.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",dt);function je(){if(ie)return G.addFrames(dt,ie)}U(dt,jt),Ot||(Ot={}),y.select(dt).classed("js-plotly-plot",!0),c.makeTester(),Array.isArray(dt._promises)||(dt._promises=[]);var Te=(dt.data||[]).length===0&&Array.isArray(xt);Array.isArray(xt)&&(w.cleanData(xt),Te?dt.data=xt:dt.data.push.apply(dt.data,xt),dt.empty=!1),(!dt.layout||Te)&&(dt.layout=w.cleanLayout(Ot)),o.supplyDefaults(dt);var Le=dt._fullLayout,Ke=Le._has("cartesian");Le._replotting=!0,(Te||Le._shouldCreateBgLayer)&&(Lt(dt),Le._shouldCreateBgLayer&&delete Le._shouldCreateBgLayer),c.initGradients(dt),c.initPatterns(dt),Te&&n.saveShowSpikeInitial(dt);var vr=!dt.calcdata||dt.calcdata.length!==(dt._fullData||[]).length;vr&&o.doCalcdata(dt);for(var ge=0;ge<dt.calcdata.length;ge++)dt.calcdata[ge][0].trace=dt._fullData[ge];dt._context.responsive?dt._responsiveChartHandler||(dt._responsiveChartHandler=function(){P.isHidden(dt)||o.resize(dt)},window.addEventListener("resize",dt._responsiveChartHandler)):P.clearResponsive(dt);var Xe=P.extendFlat({},Le._size),$e=0;function mr(){for(var Fe=Le._basePlotModules,Be=0;Be<Fe.length;Be++)Fe[Be].drawFramework&&Fe[Be].drawFramework(dt);!Le._glcanvas&&Le._has("gl")&&(Le._glcanvas=Le._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),Le._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Je=dt._context.plotGlPixelRatio;if(Le._glcanvas){Le._glcanvas.attr("width",Le.width*Je).attr("height",Le.height*Je).style("width",Le.width+"px").style("height",Le.height+"px");var hr=Le._glcanvas.data()[0].regl;if(hr&&(Math.floor(Le.width*Je)!==hr._gl.drawingBufferWidth||Math.floor(Le.height*Je)!==hr._gl.drawingBufferHeight)){var cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if($e)P.error(cr);else return P.log(cr+" Clearing graph and plotting again."),o.cleanPlot([],{},dt._fullData,Le),o.supplyDefaults(dt),Le=dt._fullLayout,o.doCalcdata(dt),$e++,mr()}}return Le.modebar.orientation==="h"?Le._modebardiv.style("height",null).style("width","100%"):Le._modebardiv.style("width",null).style("height",Le.height+"px"),o.previousPromises(dt)}function or(){if(o.clearAutoMarginIds(dt),A.drawMarginPushers(dt),n.allowAutoMargin(dt),dt._fullLayout.title.text&&dt._fullLayout.title.automargin&&o.allowAutoMargin(dt,"title.automargin"),Le._has("pie"))for(var Fe=dt._fullData,Be=0;Be<Fe.length;Be++){var Je=Fe[Be];Je.type==="pie"&&Je.automargin&&o.allowAutoMargin(dt,"pie."+Je.uid+".automargin")}return o.doAutoMargin(dt),o.previousPromises(dt)}function ye(){if(o.didMarginChange(Xe,Le._size))return P.syncOrAsync([or,A.layoutStyles],dt)}function ue(){if(!vr){be();return}return P.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),be],dt)}function be(){dt._transitioning||(A.doAutoRangeAndConstraints(dt),Te&&n.saveRangeInitial(dt),r.getComponentMethod("rangeslider","calcAutorange")(dt))}function Ee(){return n.draw(dt,Te?"":"redraw")}var _e=[o.previousPromises,je,mr,or,ye];Ke&&_e.push(ue),_e.push(A.layoutStyles),Ke&&_e.push(Ee,function(Be){var Je=Be._fullLayout._insideTickLabelsUpdaterange;if(Je)return Be._fullLayout._insideTickLabelsUpdaterange=void 0,At(Be,Je).then(function(){n.saveRangeInitial(Be,!0)})}),_e.push(A.drawData,A.finalDraw,v,o.addLinks,o.rehover,o.redrag,o.reselect,o.doAutoMargin,o.previousPromises);var Oe=P.syncOrAsync(_e,dt);return(!Oe||!Oe.then)&&(Oe=Promise.resolve()),Oe.then(function(){return C(dt),dt})}function C(dt){var xt=dt._fullLayout;xt._redrawFromAutoMarginCount?xt._redrawFromAutoMarginCount--:dt.emit("plotly_afterplot")}function b(dt){return P.extendFlat(i,dt)}function z(dt,xt){try{dt._fullLayout._paper.style("background",xt)}catch(Ot){P.error(Ot)}}function k(dt,xt){var Ot=m.combine(xt,"white");z(dt,Ot)}function U(dt,xt){if(!dt._context){dt._context=P.extendDeep({},i);var Ot=y.select("base");dt._context._baseUrl=Ot.size()&&Ot.attr("href")?window.location.href.split("#")[0]:""}var jt=dt._context,ie,le,Ve;if(xt){for(le=Object.keys(xt),ie=0;ie<le.length;ie++)Ve=le[ie],!(Ve==="editable"||Ve==="edits")&&Ve in jt&&(Ve==="setBackground"&&xt[Ve]==="opaque"?jt[Ve]=k:jt[Ve]=xt[Ve]);xt.plot3dPixelRatio&&!jt.plotGlPixelRatio&&(jt.plotGlPixelRatio=jt.plot3dPixelRatio);var je=xt.editable;if(je!==void 0)for(jt.editable=je,le=Object.keys(jt.edits),ie=0;ie<le.length;ie++)jt.edits[le[ie]]=je;if(xt.edits)for(le=Object.keys(xt.edits),ie=0;ie<le.length;ie++)Ve=le[ie],Ve in jt.edits&&(jt.edits[Ve]=xt.edits[Ve]);jt._exportedPlot=xt._exportedPlot}jt.staticPlot&&(jt.editable=!1,jt.edits={},jt.autosizable=!1,jt.scrollZoom=!1,jt.doubleClick=!1,jt.showTips=!1,jt.showLink=!1,jt.displayModeBar=!1),jt.displayModeBar==="hover"&&!s&&(jt.displayModeBar=!0),(jt.setBackground==="transparent"||typeof jt.setBackground!="function")&&(jt.setBackground=z),jt._hasZeroHeight=jt._hasZeroHeight||dt.clientHeight===0,jt._hasZeroWidth=jt._hasZeroWidth||dt.clientWidth===0;var Te=jt.scrollZoom,Le=jt._scrollZoom={};if(Te===!0)Le.cartesian=1,Le.gl3d=1,Le.geo=1,Le.mapbox=1;else if(typeof Te=="string"){var Ke=Te.split("+");for(ie=0;ie<Ke.length;ie++)Le[Ke[ie]]=1}else Te!==!1&&(Le.gl3d=1,Le.geo=1,Le.mapbox=1)}function F(dt){if(dt=P.getGraphDiv(dt),!P.isPlotDiv(dt))throw new Error("This element is not a Plotly plot: "+dt);return w.cleanData(dt.data),w.cleanLayout(dt.layout),dt.calcdata=void 0,G._doPlot(dt).then(function(){return dt.emit("plotly_redraw"),dt})}function V(dt,xt,Ot,jt){return dt=P.getGraphDiv(dt),o.cleanPlot([],{},dt._fullData||[],dt._fullLayout||{}),o.purge(dt),G._doPlot(dt,xt,Ot,jt)}function N(dt,xt){var Ot=xt+1,jt=[],ie,le;for(ie=0;ie<dt.length;ie++)le=dt[ie],le<0?jt.push(Ot+le):jt.push(le);return jt}function O(dt,xt,Ot){var jt,ie;for(jt=0;jt<xt.length;jt++){if(ie=xt[jt],ie!==parseInt(ie,10))throw new Error("all values in "+Ot+" must be integers");if(ie>=dt.data.length||ie<-dt.data.length)throw new Error(Ot+" must be valid indices for gd.data.");if(xt.indexOf(ie,jt+1)>-1||ie>=0&&xt.indexOf(-dt.data.length+ie)>-1||ie<0&&xt.indexOf(dt.data.length+ie)>-1)throw new Error("each index in "+Ot+" must be unique.")}}function H(dt,xt,Ot){if(!Array.isArray(dt.data))throw new Error("gd.data must be an array.");if(typeof xt>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(xt)||(xt=[xt]),O(dt,xt,"currentIndices"),typeof Ot<"u"&&!Array.isArray(Ot)&&(Ot=[Ot]),typeof Ot<"u"&&O(dt,Ot,"newIndices"),typeof Ot<"u"&&xt.length!==Ot.length)throw new Error("current and new indices must be of equal length.")}function X(dt,xt,Ot){var jt,ie;if(!Array.isArray(dt.data))throw new Error("gd.data must be an array.");if(typeof xt>"u")throw new Error("traces must be defined.");for(Array.isArray(xt)||(xt=[xt]),jt=0;jt<xt.length;jt++)if(ie=xt[jt],typeof ie!="object"||Array.isArray(ie)||ie===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ot<"u"&&!Array.isArray(Ot)&&(Ot=[Ot]),typeof Ot<"u"&&Ot.length!==xt.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function J(dt,xt,Ot,jt){var ie=P.isPlainObject(jt);if(!Array.isArray(dt.data))throw new Error("gd.data must be an array");if(!P.isPlainObject(xt))throw new Error("update must be a key:value object");if(typeof Ot>"u")throw new Error("indices must be an integer or array of integers");O(dt,Ot,"indices");for(var le in xt){if(!Array.isArray(xt[le])||xt[le].length!==Ot.length)throw new Error("attribute "+le+" must be an array of length equal to indices array length");if(ie&&(!(le in jt)||!Array.isArray(jt[le])||jt[le].length!==xt[le].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function et(dt,xt,Ot,jt){var ie=P.isPlainObject(jt),le=[],Ve,je,Te,Le,Ke;Array.isArray(Ot)||(Ot=[Ot]),Ot=N(Ot,dt.data.length-1);for(var vr in xt)for(var ge=0;ge<Ot.length;ge++){if(Ve=dt.data[Ot[ge]],Te=M(Ve,vr),je=Te.get(),Le=xt[vr][ge],!P.isArrayOrTypedArray(Le))throw new Error("attribute: "+vr+" index: "+ge+" must be an array");if(!P.isArrayOrTypedArray(je))throw new Error("cannot extend missing or non-array attribute: "+vr);if(je.constructor!==Le.constructor)throw new Error("cannot extend array with an array of a different type: "+vr);Ke=ie?jt[vr][ge]:jt,D(Ke)||(Ke=-1),le.push({prop:Te,target:je,insert:Le,maxp:Math.floor(Ke)})}return le}function it(dt,xt,Ot,jt,ie){J(dt,xt,Ot,jt);for(var le=et(dt,xt,Ot,jt),Ve={},je={},Te=0;Te<le.length;Te++){var Le=le[Te].prop,Ke=le[Te].maxp,vr=ie(le[Te].target,le[Te].insert,Ke);Le.set(vr[0]),Array.isArray(Ve[Le.astr])||(Ve[Le.astr]=[]),Ve[Le.astr].push(vr[1]),Array.isArray(je[Le.astr])||(je[Le.astr]=[]),je[Le.astr].push(le[Te].target.length)}return{update:Ve,maxPoints:je}}function ft(dt,xt){var Ot=new dt.constructor(dt.length+xt.length);return Ot.set(dt),Ot.set(xt,dt.length),Ot}function ot(dt,xt,Ot,jt){dt=P.getGraphDiv(dt);function ie(Te,Le,Ke){var vr,ge;if(P.isTypedArray(Te))if(Ke<0){var Xe=new Te.constructor(0),$e=ft(Te,Le);Ke<0?(vr=$e,ge=Xe):(vr=Xe,ge=$e)}else if(vr=new Te.constructor(Ke),ge=new Te.constructor(Te.length+Le.length-Ke),Ke===Le.length)vr.set(Le),ge.set(Te);else if(Ke<Le.length){var mr=Le.length-Ke;vr.set(Le.subarray(mr)),ge.set(Te),ge.set(Le.subarray(0,mr),Te.length)}else{var or=Ke-Le.length,ye=Te.length-or;vr.set(Te.subarray(ye)),vr.set(Le,or),ge.set(Te.subarray(0,ye))}else vr=Te.concat(Le),ge=Ke>=0&&Ke<vr.length?vr.splice(0,vr.length-Ke):[];return[vr,ge]}var le=it(dt,xt,Ot,jt,ie),Ve=G.redraw(dt),je=[dt,le.update,Ot,le.maxPoints];return g.add(dt,G.prependTraces,je,ot,arguments),Ve}function Q(dt,xt,Ot,jt){dt=P.getGraphDiv(dt);function ie(Te,Le,Ke){var vr,ge;if(P.isTypedArray(Te))if(Ke<=0){var Xe=new Te.constructor(0),$e=ft(Le,Te);Ke<0?(vr=$e,ge=Xe):(vr=Xe,ge=$e)}else if(vr=new Te.constructor(Ke),ge=new Te.constructor(Te.length+Le.length-Ke),Ke===Le.length)vr.set(Le),ge.set(Te);else if(Ke<Le.length){var mr=Le.length-Ke;vr.set(Le.subarray(0,mr)),ge.set(Le.subarray(mr)),ge.set(Te,mr)}else{var or=Ke-Le.length;vr.set(Le),vr.set(Te.subarray(0,or),Le.length),ge.set(Te.subarray(or))}else vr=Le.concat(Te),ge=Ke>=0&&Ke<vr.length?vr.splice(Ke,vr.length):[];return[vr,ge]}var le=it(dt,xt,Ot,jt,ie),Ve=G.redraw(dt),je=[dt,le.update,Ot,le.maxPoints];return g.add(dt,G.extendTraces,je,Q,arguments),Ve}function tt(dt,xt,Ot){dt=P.getGraphDiv(dt);var jt=[],ie=G.deleteTraces,le=tt,Ve=[dt,jt],je=[dt,xt],Te,Le;for(X(dt,xt,Ot),Array.isArray(xt)||(xt=[xt]),xt=xt.map(function(Ke){return P.extendFlat({},Ke)}),w.cleanData(xt),Te=0;Te<xt.length;Te++)dt.data.push(xt[Te]);for(Te=0;Te<xt.length;Te++)jt.push(-xt.length+Te);if(typeof Ot>"u")return Le=G.redraw(dt),g.add(dt,ie,Ve,le,je),Le;Array.isArray(Ot)||(Ot=[Ot]);try{H(dt,jt,Ot)}catch(Ke){throw dt.data.splice(dt.data.length-xt.length,xt.length),Ke}return g.startSequence(dt),g.add(dt,ie,Ve,le,je),Le=G.moveTraces(dt,jt,Ot),g.stopSequence(dt),Le}function Z(dt,xt){dt=P.getGraphDiv(dt);var Ot=[],jt=G.addTraces,ie=Z,le=[dt,Ot,xt],Ve=[dt,xt],je,Te;if(typeof xt>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(xt)||(xt=[xt]),O(dt,xt,"indices"),xt=N(xt,dt.data.length-1),xt.sort(P.sorterDes),je=0;je<xt.length;je+=1)Te=dt.data.splice(xt[je],1)[0],Ot.push(Te);var Le=G.redraw(dt);return g.add(dt,jt,le,ie,Ve),Le}function q(dt,xt,Ot){dt=P.getGraphDiv(dt);var jt=[],ie=[],le=q,Ve=q,je=[dt,Ot,xt],Te=[dt,xt,Ot],Le;if(H(dt,xt,Ot),xt=Array.isArray(xt)?xt:[xt],typeof Ot>"u")for(Ot=[],Le=0;Le<xt.length;Le++)Ot.push(-xt.length+Le);for(Ot=Array.isArray(Ot)?Ot:[Ot],xt=N(xt,dt.data.length-1),Ot=N(Ot,dt.data.length-1),Le=0;Le<dt.data.length;Le++)xt.indexOf(Le)===-1&&jt.push(dt.data[Le]);for(Le=0;Le<xt.length;Le++)ie.push({newIndex:Ot[Le],trace:dt.data[xt[Le]]});for(ie.sort(function(vr,ge){return vr.newIndex-ge.newIndex}),Le=0;Le<ie.length;Le+=1)jt.splice(ie[Le].newIndex,0,ie[Le].trace);dt.data=jt;var Ke=G.redraw(dt);return g.add(dt,le,je,Ve,Te),Ke}function ut(dt,xt,Ot,jt){dt=P.getGraphDiv(dt),w.clearPromiseQueue(dt);var ie={};if(typeof xt=="string")ie[xt]=Ot;else if(P.isPlainObject(xt))ie=P.extendFlat({},xt),jt===void 0&&(jt=Ot);else return P.warn("Restyle fail.",xt,Ot,jt),Promise.reject();Object.keys(ie).length&&(dt.changed=!0);var le=w.coerceTraceIndices(dt,jt),Ve=ht(dt,ie,le),je=Ve.flags;je.calc&&(dt.calcdata=void 0),je.clearAxisTypes&&w.clearAxisTypes(dt,le,{});var Te=[];je.fullReplot?Te.push(G._doPlot):(Te.push(o.previousPromises),o.supplyDefaults(dt),je.markerSize&&(o.doCalcdata(dt),Pt(Te)),je.style&&Te.push(A.doTraceStyle),je.colorbars&&Te.push(A.doColorBars),Te.push(C)),Te.push(o.rehover,o.redrag,o.reselect),g.add(dt,ut,[dt,Ve.undoit,Ve.traces],ut,[dt,Ve.redoit,Ve.traces]);var Le=P.syncOrAsync(Te,dt);return(!Le||!Le.then)&&(Le=Promise.resolve()),Le.then(function(){return dt.emit("plotly_restyle",Ve.eventData),dt})}function $(dt){return dt===void 0?null:dt}function j(dt,xt){return xt?function(Ot,jt,ie){var le=M(Ot,jt),Ve=le.set;return le.set=function(je){var Te=(ie||"")+jt;lt(Te,le.get(),je,dt),Ve(je)},le}:M}function lt(dt,xt,Ot,jt){if(Array.isArray(xt)||Array.isArray(Ot))for(var ie=Array.isArray(xt)?xt:[],le=Array.isArray(Ot)?Ot:[],Ve=Math.max(ie.length,le.length),je=0;je<Ve;je++)lt(dt+"["+je+"]",ie[je],le[je],jt);else if(P.isPlainObject(xt)||P.isPlainObject(Ot)){var Te=P.isPlainObject(xt)?xt:{},Le=P.isPlainObject(Ot)?Ot:{},Ke=P.extendFlat({},Te,Le);for(var vr in Ke)lt(dt+"."+vr,Te[vr],Le[vr],jt)}else jt[dt]===void 0&&(jt[dt]=$(xt))}function nt(dt,xt,Ot){for(var jt in Ot){var ie=M(dt,jt);lt(jt,ie.get(),Ot[jt],xt)}}function ht(dt,xt,Ot){var jt=dt._fullLayout,ie=dt._fullData,le=dt.data,Ve=jt._guiEditing,je=j(jt._preGUI,Ve),Te=P.extendDeepAll({},xt),Le;mt(xt);var Ke=L.traceFlags(),vr={},ge={},Xe;function $e(){return Ot.map(function(){})}function mr(nn){var gr=n.id2name(nn);Xe.indexOf(gr)===-1&&Xe.push(gr)}function or(nn){return"LAYOUT"+nn+".autorange"}function ye(nn){return"LAYOUT"+nn+".range"}function ue(nn){for(var gr=nn;gr<ie.length;gr++)if(ie[gr]._input===le[nn])return ie[gr]}function be(nn,gr,Pr){if(Array.isArray(nn)){nn.forEach(function(en){be(en,gr,Pr)});return}if(!(nn in xt||w.hasParent(xt,nn))){var jr;if(nn.substr(0,6)==="LAYOUT")jr=je(dt.layout,nn.replace("LAYOUT",""));else{var _r=Ot[Pr],pn=jt._tracePreGUI[ue(_r)._fullInput.uid];jr=j(pn,Ve)(le[_r],nn)}nn in ge||(ge[nn]=$e()),ge[nn][Pr]===void 0&&(ge[nn][Pr]=$(jr.get())),gr!==void 0&&jr.set(gr)}}function Ee(nn){return function(gr){return ie[gr][nn]}}function _e(nn){return function(gr,Pr){return gr===!1?ie[Ot[Pr]][nn]:null}}for(var Oe in xt){if(w.hasParent(xt,Oe))throw new Error("cannot set "+Oe+" and a parent attribute simultaneously");var Fe=xt[Oe],Be,Je,hr,cr,dr,fr;if((Oe==="autobinx"||Oe==="autobiny")&&(Oe=Oe.charAt(Oe.length-1)+"bins",Array.isArray(Fe)?Fe=Fe.map(_e(Oe)):Fe===!1?Fe=Ot.map(Ee(Oe)):Fe=null),vr[Oe]=Fe,Oe.substr(0,6)==="LAYOUT"){hr=je(dt.layout,Oe.replace("LAYOUT","")),ge[Oe]=[$(hr.get())],hr.set(Array.isArray(Fe)?Fe[0]:Fe),Ke.calc=!0;continue}for(ge[Oe]=$e(),Le=0;Le<Ot.length;Le++){Be=le[Ot[Le]],Je=ue(Ot[Le]);var Lr=jt._tracePreGUI[Je._fullInput.uid];if(hr=j(Lr,Ve)(Be,Oe),cr=hr.get(),dr=Array.isArray(Fe)?Fe[Le%Fe.length]:Fe,dr!==void 0){var xr=hr.parts[hr.parts.length-1],Qt=Oe.substr(0,Oe.length-xr.length-1),re=Qt?Qt+".":"",tr=Qt?M(Je,Qt).get():Je;if(fr=e.getTraceValObject(Je,hr.parts),fr&&fr.impliedEdits&&dr!==null)for(var er in fr.impliedEdits)be(P.relativeAttr(Oe,er),fr.impliedEdits[er],Le);else if((xr==="thicknessmode"||xr==="lenmode")&&cr!==dr&&(dr==="fraction"||dr==="pixels")&&tr){var Ye=jt._size,Pe=tr.orient,Ze=Pe==="top"||Pe==="bottom";if(xr==="thicknessmode"){var nr=Ze?Ye.h:Ye.w;be(re+"thickness",tr.thickness*(dr==="fraction"?1/nr:nr),Le)}else{var Qe=Ze?Ye.w:Ye.h;be(re+"len",tr.len*(dr==="fraction"?1/Qe:Qe),Le)}}else if(Oe==="type"&&(dr==="pie"!=(cr==="pie")||dr==="funnelarea"!=(cr==="funnelarea"))){var We="x",yr="y";(dr==="bar"||cr==="bar")&&Be.orientation==="h"&&(We="y",yr="x"),P.swapAttrs(Be,["?","?src"],"labels",We),P.swapAttrs(Be,["d?","?0"],"label",We),P.swapAttrs(Be,["?","?src"],"values",yr),cr==="pie"||cr==="funnelarea"?(M(Be,"marker.color").set(M(Be,"marker.colors").get()),jt._pielayer.selectAll("g.trace").remove()):r.traceIs(Be,"cartesian")&&M(Be,"marker.colors").set(M(Be,"marker.color").get())}ge[Oe][Le]=$(cr);var Rr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Rr.indexOf(Oe)!==-1){if(Oe==="orientation"){hr.set(dr);var Tr=Be.x&&!Be.y?"h":"v";if((hr.get()||Tr)===Je.orientation)continue}else Oe==="orientationaxes"&&(Be.orientation={v:"h",h:"v"}[Je.orientation]);w.swapXYData(Be),Ke.calc=Ke.clearAxisTypes=!0}else o.dataArrayContainers.indexOf(hr.parts[0])!==-1?(w.manageArrayContainers(hr,dr,ge),Ke.calc=!0):(fr?fr.arrayOk&&!r.traceIs(Je,"regl")&&(P.isArrayOrTypedArray(dr)||P.isArrayOrTypedArray(cr))?Ke.calc=!0:L.update(Ke,fr):Ke.calc=!0,hr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Oe)!==-1&&n.swap(dt,Ot),Oe==="orientationaxes"){var vn=M(dt.layout,"hovermode"),Or=vn.get();Or==="x"?vn.set("y"):Or==="y"?vn.set("x"):Or==="x unified"?vn.set("y unified"):Or==="y unified"&&vn.set("x unified")}if(["orientation","type"].indexOf(Oe)!==-1){for(Xe=[],Le=0;Le<Ot.length;Le++){var En=le[Ot[Le]];r.traceIs(En,"cartesian")&&(mr(En.xaxis||"x"),mr(En.yaxis||"y"))}be(Xe.map(or),!0,0),be(Xe.map(ye),[0,1],0)}}return(Ke.calc||Ke.plot)&&(Ke.fullReplot=!0),{flags:Ke,undoit:ge,redoit:vr,traces:Ot,eventData:P.extendDeepNoArrays([],[Te,Ot])}}function mt(dt){var xt=P.counterRegex("axis",".title",!1,!1),Ot=/colorbar\.title$/,jt=Object.keys(dt),ie,le,Ve;for(ie=0;ie<jt.length;ie++)le=jt[ie],Ve=dt[le],(le==="title"||xt.test(le)||Ot.test(le))&&(typeof Ve=="string"||typeof Ve=="number")?je(le,le.replace("title","title.text")):le.indexOf("titlefont")>-1&&le.indexOf("grouptitlefont")===-1?je(le,le.replace("titlefont","title.font")):le.indexOf("titleposition")>-1?je(le,le.replace("titleposition","title.position")):le.indexOf("titleside")>-1?je(le,le.replace("titleside","title.side")):le.indexOf("titleoffset")>-1&&je(le,le.replace("titleoffset","title.offset"));function je(Te,Le){dt[Le]=dt[Te],delete dt[Te]}}function At(dt,xt,Ot){dt=P.getGraphDiv(dt),w.clearPromiseQueue(dt);var jt={};if(typeof xt=="string")jt[xt]=Ot;else if(P.isPlainObject(xt))jt=P.extendFlat({},xt);else return P.warn("Relayout fail.",xt,Ot),Promise.reject();Object.keys(jt).length&&(dt.changed=!0);var ie=Rt(dt,jt),le=ie.flags;le.calc&&(dt.calcdata=void 0);var Ve=[o.previousPromises];le.layoutReplot?Ve.push(A.layoutReplot):Object.keys(jt).length&&(bt(dt,le,ie)||o.supplyDefaults(dt),le.legend&&Ve.push(A.doLegend),le.layoutstyle&&Ve.push(A.layoutStyles),le.axrange&&Pt(Ve,ie.rangesAltered),le.ticks&&Ve.push(A.doTicksRelayout),le.modebar&&Ve.push(A.doModeBar),le.camera&&Ve.push(A.doCamera),le.colorbars&&Ve.push(A.doColorBars),Ve.push(C)),Ve.push(o.rehover,o.redrag,o.reselect),g.add(dt,At,[dt,ie.undoit],At,[dt,ie.redoit]);var je=P.syncOrAsync(Ve,dt);return(!je||!je.then)&&(je=Promise.resolve(dt)),je.then(function(){return dt.emit("plotly_relayout",ie.eventData),dt})}function bt(dt,xt,Ot){var jt=dt._fullLayout;if(!xt.axrange)return!1;for(var ie in xt)if(ie!=="axrange"&&xt[ie])return!1;var le,Ve,je=function(Xe,$e){return P.coerce(le,Ve,f,Xe,$e)},Te={};for(var Le in Ot.rangesAltered){var Ke=n.id2name(Le);if(le=dt.layout[Ke],Ve=jt[Ke],u(le,Ve,je,Te),Ve._matchGroup){for(var vr in Ve._matchGroup)if(vr!==Le){var ge=jt[n.id2name(vr)];ge.autorange=Ve.autorange,ge.range=Ve.range.slice(),ge._input.range=Ve.range.slice()}}}return!0}function Pt(dt,xt){var Ot=xt?function(jt){var ie=[],le=!0;for(var Ve in xt){var je=n.getFromId(jt,Ve);if(ie.push(Ve),(je.ticklabelposition||"").indexOf("inside")!==-1&&je._anchorAxis&&ie.push(je._anchorAxis._id),je._matchGroup)for(var Te in je._matchGroup)xt[Te]||ie.push(Te)}return n.draw(jt,ie,{skipTitle:le})}:function(jt){return n.draw(jt,"redraw")};dt.push(h,A.doAutoRangeAndConstraints,Ot,A.drawData,A.finalDraw)}var _t=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ut=/^[xyz]axis[0-9]*\.autorange$/,St=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Rt(dt,xt){var Ot=dt.layout,jt=dt._fullLayout,ie=jt._guiEditing,le=j(jt._preGUI,ie),Ve=Object.keys(xt),je=n.list(dt),Te=P.extendDeepAll({},xt),Le={},Ke,vr,ge;for(mt(xt),Ve=Object.keys(xt),vr=0;vr<Ve.length;vr++)if(Ve[vr].indexOf("allaxes")===0){for(ge=0;ge<je.length;ge++){var Xe=je[ge]._id.substr(1),$e=Xe.indexOf("scene")!==-1?Xe+".":"",mr=Ve[vr].replace("allaxes",$e+je[ge]._name);xt[mr]||(xt[mr]=xt[Ve[vr]])}delete xt[Ve[vr]]}var or=L.layoutFlags(),ye={},ue={};function be(pn,en){if(Array.isArray(pn)){pn.forEach(function(Pn){be(Pn,en)});return}if(!(pn in xt||w.hasParent(xt,pn))){var Tn=le(Ot,pn);pn in ue||(ue[pn]=$(Tn.get())),en!==void 0&&Tn.set(en)}}var Ee={},_e;function Oe(pn){var en=n.name2id(pn.split(".")[0]);return Ee[en]=1,en}for(var Fe in xt){if(w.hasParent(xt,Fe))throw new Error("cannot set "+Fe+" and a parent attribute simultaneously");for(var Be=le(Ot,Fe),Je=xt[Fe],hr=Be.parts.length,cr=hr-1;cr>0&&typeof Be.parts[cr]!="string";)cr--;var dr=Be.parts[cr],fr=Be.parts[cr-1]+"."+dr,Lr=Be.parts.slice(0,cr).join("."),xr=M(dt.layout,Lr).get(),Qt=M(jt,Lr).get(),re=Be.get();if(Je!==void 0){ye[Fe]=Je,ue[Fe]=dr==="reverse"?Je:$(re);var tr=e.getLayoutValObject(jt,Be.parts);if(tr&&tr.impliedEdits&&Je!==null)for(var er in tr.impliedEdits)be(P.relativeAttr(Fe,er),tr.impliedEdits[er]);if(["width","height"].indexOf(Fe)!==-1)if(Je){be("autosize",null);var Ye=Fe==="height"?"width":"height";be(Ye,jt[Ye])}else jt[Fe]=dt._initialAutoSize[Fe];else if(Fe==="autosize")be("width",Je?null:jt.width),be("height",Je?null:jt.height);else if(fr.match(_t))Oe(fr),M(jt,Lr+"._inputRange").set(null);else if(fr.match(Ut)){Oe(fr),M(jt,Lr+"._inputRange").set(null);var Pe=M(jt,Lr).get();Pe._inputDomain&&(Pe._input.domain=Pe._inputDomain.slice())}else fr.match(St)&&M(jt,Lr+"._inputDomain").set(null);if(dr==="type"){_e=xr;var Ze=Qt.type==="linear"&&Je==="log",nr=Qt.type==="log"&&Je==="linear";if(Ze||nr){if(!_e||!_e.range)be(Lr+".autorange",!0);else if(Qt.autorange)Ze&&(_e.range=_e.range[1]>_e.range[0]?[1,2]:[2,1]);else{var Qe=_e.range[0],We=_e.range[1];Ze?(Qe<=0&&We<=0&&be(Lr+".autorange",!0),Qe<=0?Qe=We/1e6:We<=0&&(We=Qe/1e6),be(Lr+".range[0]",Math.log(Qe)/Math.LN10),be(Lr+".range[1]",Math.log(We)/Math.LN10)):(be(Lr+".range[0]",Math.pow(10,Qe)),be(Lr+".range[1]",Math.pow(10,We)))}Array.isArray(jt._subplots.polar)&&jt._subplots.polar.length&&jt[Be.parts[0]]&&Be.parts[1]==="radialaxis"&&delete jt[Be.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(dt,Qt,Je,be),r.getComponentMethod("images","convertCoords")(dt,Qt,Je,be)}else be(Lr+".autorange",!0),be(Lr+".range",null);M(jt,Lr+"._inputRange").set(null)}else if(dr.match(x)){var yr=M(jt,Fe).get(),Rr=(Je||{}).type;(!Rr||Rr==="-")&&(Rr="linear"),r.getComponentMethod("annotations","convertCoords")(dt,yr,Rr,be),r.getComponentMethod("images","convertCoords")(dt,yr,Rr,be)}var Tr=p.containerArrayMatch(Fe);if(Tr){Ke=Tr.array,vr=Tr.index;var vn=Tr.property,Or=tr||{editType:"calc"};vr!==""&&vn===""&&(p.isAddVal(Je)?ue[Fe]=null:p.isRemoveVal(Je)?ue[Fe]=(M(Ot,Ke).get()||[])[vr]:P.warn("unrecognized full object value",xt)),L.update(or,Or),Le[Ke]||(Le[Ke]={});var En=Le[Ke][vr];En||(En=Le[Ke][vr]={}),En[vn]=Je,delete xt[Fe]}else dr==="reverse"?(xr.range?xr.range.reverse():(be(Lr+".autorange",!0),xr.range=[1,0]),Qt.autorange?or.calc=!0:or.plot=!0):(Fe==="dragmode"&&(Je===!1&&re!==!1||Je!==!1&&re===!1)||jt._has("scatter-like")&&jt._has("regl")&&Fe==="dragmode"&&(Je==="lasso"||Je==="select")&&!(re==="lasso"||re==="select")||jt._has("gl2d")?or.plot=!0:tr?L.update(or,tr):or.calc=!0,Be.set(Je))}}for(Ke in Le){var nn=p.applyContainerArrayChanges(dt,le(Ot,Ke),Le[Ke],or,le);nn||(or.plot=!0)}for(var gr in Ee){_e=n.getFromId(dt,gr);var Pr=_e&&_e._constraintGroup;if(Pr){or.calc=!0;for(var jr in Pr)Ee[jr]||(n.getFromId(dt,jr)._constraintShrinkable=!0)}}(Et(dt)||xt.height||xt.width)&&(or.plot=!0);var _r=jt.shapes;for(vr=0;vr<_r.length;vr++)if(_r[vr].showlegend){or.calc=!0;break}return(or.plot||or.calc)&&(or.layoutReplot=!0),{flags:or,rangesAltered:Ee,undoit:ue,redoit:ye,eventData:Te}}function Et(dt){var xt=dt._fullLayout,Ot=xt.width,jt=xt.height;return dt.layout.autosize&&o.plotAutoSize(dt,dt.layout,xt),xt.width!==Ot||xt.height!==jt}function zt(dt,xt,Ot,jt){dt=P.getGraphDiv(dt),w.clearPromiseQueue(dt),P.isPlainObject(xt)||(xt={}),P.isPlainObject(Ot)||(Ot={}),Object.keys(xt).length&&(dt.changed=!0),Object.keys(Ot).length&&(dt.changed=!0);var ie=w.coerceTraceIndices(dt,jt),le=ht(dt,P.extendFlat({},xt),ie),Ve=le.flags,je=Rt(dt,P.extendFlat({},Ot)),Te=je.flags;(Ve.calc||Te.calc)&&(dt.calcdata=void 0),Ve.clearAxisTypes&&w.clearAxisTypes(dt,ie,Ot);var Le=[];Te.layoutReplot?Le.push(A.layoutReplot):Ve.fullReplot?Le.push(G._doPlot):(Le.push(o.previousPromises),bt(dt,Te,je)||o.supplyDefaults(dt),Ve.style&&Le.push(A.doTraceStyle),(Ve.colorbars||Te.colorbars)&&Le.push(A.doColorBars),Te.legend&&Le.push(A.doLegend),Te.layoutstyle&&Le.push(A.layoutStyles),Te.axrange&&Pt(Le,je.rangesAltered),Te.ticks&&Le.push(A.doTicksRelayout),Te.modebar&&Le.push(A.doModeBar),Te.camera&&Le.push(A.doCamera),Le.push(C)),Le.push(o.rehover,o.redrag,o.reselect),g.add(dt,zt,[dt,le.undoit,je.undoit,le.traces],zt,[dt,le.redoit,je.redoit,le.traces]);var Ke=P.syncOrAsync(Le,dt);return(!Ke||!Ke.then)&&(Ke=Promise.resolve(dt)),Ke.then(function(){return dt.emit("plotly_update",{data:le.eventData,layout:je.eventData}),dt})}function Ct(dt){return function(Ot){Ot._fullLayout._guiEditing=!0;var jt=dt.apply(null,arguments);return Ot._fullLayout._guiEditing=!1,jt}}var Wt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Kt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function oe(dt,xt){for(var Ot=0;Ot<xt.length;Ot++){var jt=xt[Ot],ie=dt.match(jt.pattern);if(ie){var le=ie[1]||"";return{head:le,tail:dt.substr(le.length+1),attr:jt.attr}}}}function Jt(dt,xt){var Ot=M(xt,dt).get();if(Ot!==void 0)return Ot;var jt=dt.split(".");for(jt.pop();jt.length>1;)if(jt.pop(),Ot=M(xt,jt.join(".")+".uirevision").get(),Ot!==void 0)return Ot;return xt.uirevision}function te(dt,xt){for(var Ot=0;Ot<xt.length;Ot++)if(xt[Ot]._fullInput.uid===dt)return Ot;return-1}function fe(dt,xt,Ot){for(var jt=0;jt<xt.length;jt++)if(xt[jt].uid===dt)return jt;return!xt[Ot]||xt[Ot].uid?-1:Ot}function ve(dt,xt){var Ot=P.isPlainObject(dt),jt=Array.isArray(dt);return Ot||jt?(Ot&&P.isPlainObject(xt)||jt&&Array.isArray(xt))&&JSON.stringify(dt)===JSON.stringify(xt):dt===xt}function de(dt,xt,Ot,jt){var ie=jt._preGUI,le,Ve,je,Te,Le,Ke,vr,ge,Xe,$e,mr=[],or={},ye={};for(le in ie){if(Le=oe(le,Wt),Le){if(Xe=Le.head,$e=Le.tail,Ve=Le.attr||Xe+".uirevision",je=M(jt,Ve).get(),Te=je&&Jt(Ve,xt),Te&&Te===je){if(Ke=ie[le],Ke===null&&(Ke=void 0),vr=M(xt,le),ge=vr.get(),ve(ge,Ke)){ge===void 0&&$e==="autorange"&&mr.push(Xe),vr.set($(M(jt,le).get()));continue}else if($e==="autorange"||$e.substr(0,6)==="range["){var ue=ie[Xe+".range[0]"],be=ie[Xe+".range[1]"],Ee=ie[Xe+".autorange"];if(Ee||Ee===null&&ue===null&&be===null){if(!(Xe in or)){var _e=M(xt,Xe).get();or[Xe]=_e&&(_e.autorange||_e.autorange!==!1&&(!_e.range||_e.range.length!==2))}if(or[Xe]){vr.set($(M(jt,le).get()));continue}}}}}else P.warn("unrecognized GUI edit: "+le);delete ie[le],Le&&Le.tail.substr(0,6)==="range["&&(ye[Le.head]=1)}for(var Oe=0;Oe<mr.length;Oe++){var Fe=mr[Oe];if(ye[Fe]){var Be=M(xt,Fe).get();Be&&delete Be.autorange}}var Je=jt._tracePreGUI;for(var hr in Je){var cr=Je[hr],dr=null,fr;for(le in cr){if(!dr){var Lr=te(hr,Ot);if(Lr<0){delete Je[hr];break}var xr=Ot[Lr];fr=xr._fullInput;var Qt=fe(hr,dt,fr.index);if(Qt<0){delete Je[hr];break}dr=dt[Qt]}if(Le=oe(le,Kt),Le){if(Le.attr?(je=M(jt,Le.attr).get(),Te=je&&Jt(Le.attr,xt)):(je=fr.uirevision,Te=dr.uirevision,Te===void 0&&(Te=xt.uirevision)),Te&&Te===je&&(Ke=cr[le],Ke===null&&(Ke=void 0),vr=M(dr,le),ge=vr.get(),ve(ge,Ke))){vr.set($(M(fr,le).get()));continue}}else P.warn("unrecognized GUI edit: "+le+" in trace uid "+hr);delete cr[le]}}}function xe(dt,xt,Ot,jt){var ie,le;function Ve(){return G.addFrames(dt,ie)}dt=P.getGraphDiv(dt),w.clearPromiseQueue(dt);var je=dt._fullData,Te=dt._fullLayout;if(!P.isPlotDiv(dt)||!je||!Te)le=G.newPlot(dt,xt,Ot,jt);else{if(P.isPlainObject(xt)){var Le=xt;xt=Le.data,Ot=Le.layout,jt=Le.config,ie=Le.frames}var Ke=!1;if(jt){var vr=P.extendDeep({},dt._context);dt._context=void 0,U(dt,jt),Ke=Gt(vr,dt._context)}dt.data=xt||[],w.cleanData(dt.data),dt.layout=Ot||{},w.cleanLayout(dt.layout),de(dt.data,dt.layout,je,Te),o.supplyDefaults(dt,{skipUpdateCalc:!0});var ge=dt._fullData,Xe=dt._fullLayout,$e=Xe.datarevision===void 0,mr=Xe.transition,or=ne(dt,Te,Xe,$e,mr),ye=or.newDataRevision,ue=Me(dt,je,ge,$e,mr,ye);if(Et(dt)&&(or.layoutReplot=!0),ue.calc||or.calc){dt.calcdata=void 0;for(var be=Object.getOwnPropertyNames(Xe),Ee=0;Ee<be.length;Ee++){var _e=be[Ee],Oe=_e.substring(0,5);if(Oe==="xaxis"||Oe==="yaxis"){var Fe=Xe[_e]._emptyCategories;Fe&&Fe()}}}else o.supplyDefaultsUpdateCalc(dt.calcdata,ge);var Be=[];if(ie&&(dt._transitionData={},o.createTransitionData(dt),Be.push(Ve)),Xe.transition&&!Ke&&(ue.anim||or.anim))or.ticks&&Be.push(A.doTicksRelayout),o.doCalcdata(dt),A.doAutoRangeAndConstraints(dt),Be.push(function(){return o.transitionFromReact(dt,ue,or,Te)});else if(ue.fullReplot||or.layoutReplot||Ke)dt._fullLayout._skipDefaults=!0,Be.push(G._doPlot);else{for(var Je in or.arrays){var hr=or.arrays[Je];if(hr.length){var cr=r.getComponentMethod(Je,"drawOne");if(cr!==P.noop)for(var dr=0;dr<hr.length;dr++)cr(dt,hr[dr]);else{var fr=r.getComponentMethod(Je,"draw");if(fr===P.noop)throw new Error("cannot draw components: "+Je);fr(dt)}}}Be.push(o.previousPromises),ue.style&&Be.push(A.doTraceStyle),(ue.colorbars||or.colorbars)&&Be.push(A.doColorBars),or.legend&&Be.push(A.doLegend),or.layoutstyle&&Be.push(A.layoutStyles),or.axrange&&Pt(Be),or.ticks&&Be.push(A.doTicksRelayout),or.modebar&&Be.push(A.doModeBar),or.camera&&Be.push(A.doCamera),Be.push(C)}Be.push(o.rehover,o.redrag,o.reselect),le=P.syncOrAsync(Be,dt),(!le||!le.then)&&(le=Promise.resolve(dt))}return le.then(function(){return dt.emit("plotly_react",{data:xt,layout:Ot}),dt})}function Me(dt,xt,Ot,jt,ie,le){var Ve=xt.length===Ot.length;if(!ie&&!Ve)return{fullReplot:!0,calc:!0};var je=L.traceFlags();je.arrays={},je.nChanges=0,je.nChangesAnim=0;var Te,Le;function Ke(Xe){var $e=e.getTraceValObject(Le,Xe);return!Le._module.animatable&&$e.anim&&($e.anim=!1),$e}var vr={getValObject:Ke,flags:je,immutable:jt,transition:ie,newDataRevision:le,gd:dt},ge={};for(Te=0;Te<xt.length;Te++)if(Ot[Te]){if(Le=Ot[Te]._fullInput,o.hasMakesDataTransform(Le)&&(Le=Ot[Te]),ge[Le.uid])continue;ge[Le.uid]=1,kt(xt[Te]._fullInput,Le,[],vr)}return(je.calc||je.plot)&&(je.fullReplot=!0),ie&&je.nChanges&&je.nChangesAnim&&(je.anim=je.nChanges===je.nChangesAnim&&Ve?"all":"some"),je}function ne(dt,xt,Ot,jt,ie){var le=L.layoutFlags();le.arrays={},le.rangesAltered={},le.nChanges=0,le.nChangesAnim=0;function Ve(Te){return e.getLayoutValObject(Ot,Te)}var je={getValObject:Ve,flags:le,immutable:jt,transition:ie,gd:dt};return kt(xt,Ot,[],je),(le.plot||le.calc)&&(le.layoutReplot=!0),ie&&le.nChanges&&le.nChangesAnim&&(le.anim=le.nChanges===le.nChangesAnim?"all":"some"),le}function kt(dt,xt,Ot,jt){var ie,le,Ve,je=jt.getValObject,Te=jt.flags,Le=jt.immutable,Ke=jt.inArray,vr=jt.arrayIndex;function ge(){var Lr=ie.editType;if(Ke&&Lr.indexOf("arraydraw")!==-1){P.pushUnique(Te.arrays[Ke],vr);return}L.update(Te,ie),Lr!=="none"&&Te.nChanges++,jt.transition&&ie.anim&&Te.nChangesAnim++,(_t.test(Ve)||Ut.test(Ve))&&(Te.rangesAltered[Ot[0]]=1),St.test(Ve)&&M(xt,"_inputDomain").set(null),le==="datarevision"&&(Te.newDataRevision=1)}function Xe(Lr){return Lr.valType==="data_array"||Lr.arrayOk}for(le in dt){if(Te.calc&&!jt.transition)return;var $e=dt[le],mr=xt[le],or=Ot.concat(le);if(Ve=or.join("."),!(le.charAt(0)==="_"||typeof $e=="function"||$e===mr)){if((le==="tick0"||le==="dtick")&&Ot[0]!=="geo"){var ye=xt.tickmode;if(ye==="auto"||ye==="array"||!ye)continue}if(!(le==="range"&&xt.autorange)&&!((le==="zmin"||le==="zmax")&&xt.type==="contourcarpet")&&(ie=je(or),!!ie&&!(ie._compareAsJSON&&JSON.stringify($e)===JSON.stringify(mr)))){var ue=ie.valType,be,Ee=Xe(ie),_e=Array.isArray($e),Oe=Array.isArray(mr);if(_e&&Oe){var Fe="_input_"+le,Be=dt[Fe],Je=xt[Fe];if(Array.isArray(Be)&&Be===Je)continue}if(mr===void 0)Ee&&_e?Te.calc=!0:ge();else if(ie._isLinkedToArray){var hr=[],cr=!1;Ke||(Te.arrays[le]=hr);var dr=Math.min($e.length,mr.length),fr=Math.max($e.length,mr.length);if(dr!==fr)if(ie.editType==="arraydraw")cr=!0;else{ge();continue}for(be=0;be<dr;be++)kt($e[be],mr[be],or.concat(be),P.extendFlat({inArray:le,arrayIndex:be},jt));if(cr)for(be=dr;be<fr;be++)hr.push(be)}else!ue&&P.isPlainObject($e)?kt($e,mr,or,jt):Ee?_e&&Oe?(Le&&(Te.calc=!0),(Le||jt.newDataRevision)&&ge()):_e!==Oe?Te.calc=!0:ge():_e&&Oe?($e.length!==mr.length||String($e)!==String(mr))&&ge():ge()}}}for(le in xt)if(!(le in dt||le.charAt(0)==="_"||typeof xt[le]=="function"))if(ie=je(Ot.concat(le)),Xe(ie)&&Array.isArray(xt[le])){Te.calc=!0;return}else ge()}function Gt(dt,xt){var Ot;for(Ot in dt)if(Ot.charAt(0)!=="_"){var jt=dt[Ot],ie=xt[Ot];if(jt!==ie)if(P.isPlainObject(jt)&&P.isPlainObject(ie)){if(Gt(jt,ie))return!0}else if(Array.isArray(jt)&&Array.isArray(ie)){if(jt.length!==ie.length)return!0;for(var le=0;le<jt.length;le++)if(jt[le]!==ie[le])if(P.isPlainObject(jt[le])&&P.isPlainObject(ie[le])){if(Gt(jt[le],ie[le]))return!0}else return!0}else return!0}}function Yt(dt,xt,Ot){if(dt=P.getGraphDiv(dt),!P.isPlotDiv(dt))throw new Error("This element is not a Plotly plot: "+dt+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var jt=dt._transitionData;jt._frameQueue||(jt._frameQueue=[]),Ot=o.supplyAnimationDefaults(Ot);var ie=Ot.transition,le=Ot.frame;jt._frameWaitingCnt===void 0&&(jt._frameWaitingCnt=0);function Ve(Le){return Array.isArray(ie)?Le>=ie.length?ie[0]:ie[Le]:ie}function je(Le){return Array.isArray(le)?Le>=le.length?le[0]:le[Le]:le}function Te(Le,Ke){var vr=0;return function(){if(Le&&++vr===Ke)return Le()}}return new Promise(function(Le,Ke){function vr(){if(jt._frameQueue.length!==0){for(;jt._frameQueue.length;){var dr=jt._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}dt.emit("plotly_animationinterrupted",[])}}function ge(dr){if(dr.length!==0){for(var fr=0;fr<dr.length;fr++){var Lr;dr[fr].type==="byname"?Lr=o.computeFrame(dt,dr[fr].name):Lr=dr[fr].data;var xr=je(fr),Qt=Ve(fr);Qt.duration=Math.min(Qt.duration,xr.duration);var re={frame:Lr,name:dr[fr].name,frameOpts:xr,transitionOpts:Qt};fr===dr.length-1&&(re.onComplete=Te(Le,2),re.onInterrupt=Ke),jt._frameQueue.push(re)}Ot.mode==="immediate"&&(jt._lastFrameAt=-1/0),jt._animationRaf||mr()}}function Xe(){dt.emit("plotly_animated"),window.cancelAnimationFrame(jt._animationRaf),jt._animationRaf=null}function $e(){jt._currentFrame&&jt._currentFrame.onComplete&&jt._currentFrame.onComplete();var dr=jt._currentFrame=jt._frameQueue.shift();if(dr){var fr=dr.name?dr.name.toString():null;dt._fullLayout._currentFrame=fr,jt._lastFrameAt=Date.now(),jt._timeToNext=dr.frameOpts.duration,o.transition(dt,dr.frame.data,dr.frame.layout,w.coerceTraceIndices(dt,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),dt.emit("plotly_animatingframe",{name:fr,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else Xe()}function mr(){dt.emit("plotly_animating"),jt._lastFrameAt=-1/0,jt._timeToNext=0,jt._runningTransitions=0,jt._currentFrame=null;var dr=function(){jt._animationRaf=window.requestAnimationFrame(dr),Date.now()-jt._lastFrameAt>jt._timeToNext&&$e()};dr()}var or=0;function ye(dr){return Array.isArray(ie)?or>=ie.length?dr.transitionOpts=ie[or]:dr.transitionOpts=ie[0]:dr.transitionOpts=ie,or++,dr}var ue,be,Ee=[],_e=xt==null,Oe=Array.isArray(xt),Fe=!_e&&!Oe&&P.isPlainObject(xt);if(Fe)Ee.push({type:"object",data:ye(P.extendFlat({},xt))});else if(_e||["string","number"].indexOf(typeof xt)!==-1)for(ue=0;ue<jt._frames.length;ue++)be=jt._frames[ue],be&&(_e||String(be.group)===String(xt))&&Ee.push({type:"byname",name:String(be.name),data:ye({name:be.name})});else if(Oe)for(ue=0;ue<xt.length;ue++){var Be=xt[ue];["number","string"].indexOf(typeof Be)!==-1?(Be=String(Be),Ee.push({type:"byname",name:Be,data:ye({name:Be})})):P.isPlainObject(Be)&&Ee.push({type:"object",data:ye(P.extendFlat({},Be))})}for(ue=0;ue<Ee.length;ue++)if(be=Ee[ue],be.type==="byname"&&!jt._frameHash[be.data.name]){P.warn('animate failure: frame not found: "'+be.data.name+'"'),Ke();return}["next","immediate"].indexOf(Ot.mode)!==-1&&vr(),Ot.direction==="reverse"&&Ee.reverse();var Je=dt._fullLayout._currentFrame;if(Je&&Ot.fromcurrent){var hr=-1;for(ue=0;ue<Ee.length;ue++)if(be=Ee[ue],be.type==="byname"&&be.name===Je){hr=ue;break}if(hr>0&&hr<Ee.length-1){var cr=[];for(ue=0;ue<Ee.length;ue++)be=Ee[ue],(Ee[ue].type!=="byname"||ue>hr)&&cr.push(be);Ee=cr}}Ee.length>0?ge(Ee):(dt.emit("plotly_animated"),Le())})}function Zt(dt,xt,Ot){if(dt=P.getGraphDiv(dt),xt==null)return Promise.resolve();if(!P.isPlotDiv(dt))throw new Error("This element is not a Plotly plot: "+dt+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var jt,ie,le,Ve,je=dt._transitionData._frames,Te=dt._transitionData._frameHash;if(!Array.isArray(xt))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+xt);var Le=je.length+xt.length*2,Ke=[],vr={};for(jt=xt.length-1;jt>=0;jt--)if(P.isPlainObject(xt[jt])){var ge=xt[jt].name,Xe=(Te[ge]||vr[ge]||{}).name,$e=xt[jt].name,mr=Te[Xe]||vr[Xe];Xe&&$e&&typeof $e=="number"&&mr&&E<S&&(E++,P.warn('addFrames: overwriting frame "'+(Te[Xe]||vr[Xe]).name+'" with a frame whose name of type "number" also equates to "'+Xe+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===S&&P.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),vr[ge]={name:ge},Ke.push({frame:o.supplyFrameDefaults(xt[jt]),index:Ot&&Ot[jt]!==void 0&&Ot[jt]!==null?Ot[jt]:Le+jt})}Ke.sort(function(Fe,Be){return Fe.index>Be.index?-1:Fe.index<Be.index?1:0});var or=[],ye=[],ue=je.length;for(jt=Ke.length-1;jt>=0;jt--){if(ie=Ke[jt].frame,typeof ie.name=="number"&&P.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ie.name)for(;Te[ie.name="frame "+dt._transitionData._counter++];);if(Te[ie.name]){for(le=0;le<je.length&&(je[le]||{}).name!==ie.name;le++);or.push({type:"replace",index:le,value:ie}),ye.unshift({type:"replace",index:le,value:je[le]})}else Ve=Math.max(0,Math.min(Ke[jt].index,ue)),or.push({type:"insert",index:Ve,value:ie}),ye.unshift({type:"delete",index:Ve}),ue++}var be=o.modifyFrames,Ee=o.modifyFrames,_e=[dt,ye],Oe=[dt,or];return g&&g.add(dt,be,_e,Ee,Oe),o.modifyFrames(dt,or)}function It(dt,xt){if(dt=P.getGraphDiv(dt),!P.isPlotDiv(dt))throw new Error("This element is not a Plotly plot: "+dt);var Ot,jt,ie=dt._transitionData._frames,le=[],Ve=[];if(!xt)for(xt=[],Ot=0;Ot<ie.length;Ot++)xt.push(Ot);for(xt=xt.slice(),xt.sort(),Ot=xt.length-1;Ot>=0;Ot--)jt=xt[Ot],le.push({type:"delete",index:jt}),Ve.unshift({type:"insert",index:jt,value:ie[jt]});var je=o.modifyFrames,Te=o.modifyFrames,Le=[dt,Ve],Ke=[dt,le];return g&&g.add(dt,je,Le,Te,Ke),o.modifyFrames(dt,le)}function Nt(dt){dt=P.getGraphDiv(dt);var xt=dt._fullLayout||{},Ot=dt._fullData||[];return o.cleanPlot([],{},Ot,xt),o.purge(dt),d.purge(dt),xt._container&&xt._container.remove(),delete dt._context,dt}function Ht(dt){var xt=dt._fullLayout,Ot=dt.getBoundingClientRect();if(!P.equalDomRects(Ot,xt._lastBBox)){var jt=xt._invTransform=P.inverseTransformMatrix(P.getFullTransformMatrix(dt));xt._invScaleX=Math.sqrt(jt[0][0]*jt[0][0]+jt[0][1]*jt[0][1]+jt[0][2]*jt[0][2]),xt._invScaleY=Math.sqrt(jt[1][0]*jt[1][0]+jt[1][1]*jt[1][1]+jt[1][2]*jt[1][2]),xt._lastBBox=Ot}}function Lt(dt){var xt=y.select(dt),Ot=dt._fullLayout;if(Ot._calcInverseTransform=Ht,Ot._calcInverseTransform(dt),Ot._container=xt.selectAll(".plot-container").data([0]),Ot._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ot._paperdiv=Ot._container.selectAll(".svg-container").data([0]),Ot._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ot._glcontainer=Ot._paperdiv.selectAll(".gl-container").data([{}]),Ot._glcontainer.enter().append("div").classed("gl-container",!0),Ot._paperdiv.selectAll(".main-svg").remove(),Ot._paperdiv.select(".modebar-container").remove(),Ot._paper=Ot._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ot._toppaper=Ot._paperdiv.append("svg").classed("main-svg",!0),Ot._modebardiv=Ot._paperdiv.append("div"),delete Ot._modeBar,Ot._hoverpaper=Ot._paperdiv.append("svg").classed("main-svg",!0),!Ot._uid){var jt={};y.selectAll("defs").each(function(){this.id&&(jt[this.id.split("-")[1]]=1)}),Ot._uid=P.randstr(jt)}Ot._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),Ot._defs=Ot._paper.append("defs").attr("id","defs-"+Ot._uid),Ot._clips=Ot._defs.append("g").classed("clips",!0),Ot._topdefs=Ot._toppaper.append("defs").attr("id","topdefs-"+Ot._uid),Ot._topclips=Ot._topdefs.append("g").classed("clips",!0),Ot._bgLayer=Ot._paper.append("g").classed("bglayer",!0),Ot._draggers=Ot._paper.append("g").classed("draglayer",!0);var ie=Ot._paper.append("g").classed("layer-below",!0);Ot._imageLowerLayer=ie.append("g").classed("imagelayer",!0),Ot._shapeLowerLayer=ie.append("g").classed("shapelayer",!0),Ot._cartesianlayer=Ot._paper.append("g").classed("cartesianlayer",!0),Ot._polarlayer=Ot._paper.append("g").classed("polarlayer",!0),Ot._smithlayer=Ot._paper.append("g").classed("smithlayer",!0),Ot._ternarylayer=Ot._paper.append("g").classed("ternarylayer",!0),Ot._geolayer=Ot._paper.append("g").classed("geolayer",!0),Ot._funnelarealayer=Ot._paper.append("g").classed("funnelarealayer",!0),Ot._pielayer=Ot._paper.append("g").classed("pielayer",!0),Ot._iciclelayer=Ot._paper.append("g").classed("iciclelayer",!0),Ot._treemaplayer=Ot._paper.append("g").classed("treemaplayer",!0),Ot._sunburstlayer=Ot._paper.append("g").classed("sunburstlayer",!0),Ot._indicatorlayer=Ot._toppaper.append("g").classed("indicatorlayer",!0),Ot._glimages=Ot._paper.append("g").classed("glimages",!0);var le=Ot._toppaper.append("g").classed("layer-above",!0);Ot._imageUpperLayer=le.append("g").classed("imagelayer",!0),Ot._shapeUpperLayer=le.append("g").classed("shapelayer",!0),Ot._selectionLayer=Ot._toppaper.append("g").classed("selectionlayer",!0),Ot._infolayer=Ot._toppaper.append("g").classed("infolayer",!0),Ot._menulayer=Ot._toppaper.append("g").classed("menulayer",!0),Ot._zoomlayer=Ot._toppaper.append("g").classed("zoomlayer",!0),Ot._hoverlayer=Ot._hoverpaper.append("g").classed("hoverlayer",!0),Ot._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),dt.emit("plotly_framework")}G.animate=Yt,G.addFrames=Zt,G.deleteFrames=It,G.addTraces=tt,G.deleteTraces=Z,G.extendTraces=ot,G.moveTraces=q,G.prependTraces=Q,G.newPlot=V,G._doPlot=a,G.purge=Nt,G.react=xe,G.redraw=F,G.relayout=At,G.restyle=ut,G.setPlotConfig=b,G.update=zt,G._guiRelayout=Ct(At),G._guiRestyle=Ct(ut),G._guiUpdate=Ct(zt),G._storeDirectGUIEdit=nt},20556:function(W){var G={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};function y(D,s){for(var P in D){var M=D[P];M.valType?s[P]=M.dflt:(s[P]||(s[P]={}),y(M,s[P]))}}y(G,t),W.exports={configAttributes:G,dfltConfig:t}},73060:function(W,G,t){var y=t(24040),D=t(3400),s=t(45464),P=t(64859),M=t(16672),d=t(85656),g=t(20556).configAttributes,r=t(67824),e=D.extendDeepAll,o=D.isPlainObject,n=D.isArrayOrTypedArray,u=D.nestedProperty,f=D.valObjectMeta,c="_isSubplotObj",m="_isLinkedToArray",v="_arrayAttrRegexps",T="_deprecated",h=[c,m,v,T];G.IS_SUBPLOT_OBJ=c,G.IS_LINKED_TO_ARRAY=m,G.DEPRECATED=T,G.UNDERSCORE_ATTRS=h,G.get=function(){var U={};y.allTypes.forEach(function(V){U[V]=A(V)});var F={};return Object.keys(y.transformsRegistry).forEach(function(V){F[V]=x(V)}),{defs:{valObjects:f,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:U,layout:L(),transforms:F,frames:E(),animation:S(d),config:S(g)}},G.crawl=function(U,F,V,N){var O=V||0;N=N||"",Object.keys(U).forEach(function(H){var X=U[H];if(h.indexOf(H)===-1){var J=(N?N+".":"")+H;F(X,H,U,O,J),!G.isValObject(X)&&o(X)&&H!=="impliedEdits"&&G.crawl(X,F,O+1,J)}})},G.isValObject=function(U){return U&&U.valType!==void 0},G.findArrayAttributes=function(U){var F=[],V=[],N=[],O,H;function X(Q,tt,Z,q){V=V.slice(0,q).concat([tt]),N=N.slice(0,q).concat([Q&&Q._isLinkedToArray]);var ut=Q&&(Q.valType==="data_array"||Q.arrayOk===!0)&&!(V[q-1]==="colorbar"&&(tt==="ticktext"||tt==="tickvals"));ut&&J(O,0,"")}function J(Q,tt,Z){var q=Q[V[tt]],ut=Z+V[tt];if(tt===V.length-1)n(q)&&F.push(H+ut);else if(N[tt]){if(Array.isArray(q))for(var $=0;$<q.length;$++)o(q[$])&&J(q[$],tt+1,ut+"["+$+"].")}else o(q)&&J(q,tt+1,ut+".")}O=U,H="",G.crawl(s,X),U._module&&U._module.attributes&&G.crawl(U._module.attributes,X);var et=U.transforms;if(et)for(var it=0;it<et.length;it++){var ft=et[it],ot=ft._module;ot&&(H="transforms["+it+"].",O=ft,G.crawl(ot.attributes,X))}return F},G.getTraceValObject=function(U,F){var V=F[0],N=1,O,H;if(V==="transforms"){if(F.length===1)return s.transforms;var X=U.transforms;if(!Array.isArray(X)||!X.length)return!1;var J=F[1];if(!w(J)||J>=X.length)return!1;O=(y.transformsRegistry[X[J].type]||{}).attributes,H=O&&O[F[2]],N=3}else{var et=U._module;if(et||(et=(y.modules[U.type||s.type.dflt]||{})._module),!et)return!1;if(O=et.attributes,H=O&&O[V],!H){var it=et.basePlotModule;it&&it.attributes&&(H=it.attributes[V])}H||(H=s[V])}return p(H,F,N)},G.getLayoutValObject=function(U,F){var V=i(U,F[0]);return p(V,F,1)};function i(U,F){var V,N,O,H,X=U._basePlotModules;if(X){var J;for(V=0;V<X.length;V++){if(O=X[V],O.attrRegex&&O.attrRegex.test(F)){if(O.layoutAttrOverrides)return O.layoutAttrOverrides;!J&&O.layoutAttributes&&(J=O.layoutAttributes)}var et=O.baseLayoutAttrOverrides;if(et&&F in et)return et[F]}if(J)return J}var it=U._modules;if(it){for(V=0;V<it.length;V++)if(H=it[V].layoutAttributes,H&&F in H)return H[F]}for(N in y.componentsRegistry){if(O=y.componentsRegistry[N],O.name==="colorscale"&&F.indexOf("coloraxis")===0)return O.layoutAttributes[F];if(!O.schema&&F===O.name)return O.layoutAttributes}return F in P?P[F]:!1}function p(U,F,V){if(!U)return!1;if(U._isLinkedToArray){if(w(F[V]))V++;else if(V<F.length)return!1}for(;V<F.length;V++){var N=U[F[V]];if(o(N))U=N;else break;if(V===F.length-1)break;if(U._isLinkedToArray){if(V++,!w(F[V]))return!1}else if(U.valType==="info_array"){V++;var O=F[V];if(!w(O))return!1;var H=U.items;if(Array.isArray(H)){if(O>=H.length)return!1;if(U.dimensions===2){if(V++,F.length===V)return U;var X=F[V];if(!w(X))return!1;U=H[O][X]}else U=H[O]}else U=H}}return U}function w(U){return U===Math.round(U)&&U>=0}function A(U){var F,V;F=y.modules[U]._module,V=F.basePlotModule;var N={};N.type=null;var O=e({},s),H=e({},F.attributes);G.crawl(H,function(et,it,ft,ot,Q){u(O,Q).set(void 0),et===void 0&&u(H,Q).set(void 0)}),e(N,O),y.traceIs(U,"noOpacity")&&delete N.opacity,y.traceIs(U,"showLegend")||(delete N.showlegend,delete N.legendgroup),y.traceIs(U,"noHover")&&(delete N.hoverinfo,delete N.hoverlabel),F.selectPoints||delete N.selectedpoints,e(N,H),V.attributes&&e(N,V.attributes),N.type=U;var X={meta:F.meta||{},categories:F.categories||{},animatable:!!F.animatable,type:U,attributes:S(N)};if(F.layoutAttributes){var J={};e(J,F.layoutAttributes),X.layoutAttributes=S(J)}return F.animatable||G.crawl(X,function(et){G.isValObject(et)&&"anim"in et&&delete et.anim}),X}function L(){var U={},F,V;e(U,P);for(F in y.subplotsRegistry)if(V=y.subplotsRegistry[F],!!V.layoutAttributes)if(Array.isArray(V.attr))for(var N=0;N<V.attr.length;N++)z(U,V,V.attr[N]);else{var O=V.attr==="subplot"?V.name:V.attr;z(U,V,O)}for(F in y.componentsRegistry){V=y.componentsRegistry[F];var H=V.schema;if(H&&(H.subplots||H.layout)){var X=H.subplots;if(X&&X.xaxis&&!X.yaxis)for(var J in X.xaxis)delete U.yaxis[J];delete U.xaxis.shift,delete U.xaxis.autoshift}else V.name==="colorscale"?e(U,V.layoutAttributes):V.layoutAttributes&&k(U,V.layoutAttributes,V.name)}return{layoutAttributes:S(U)}}function x(U){var F=y.transformsRegistry[U],V=e({},F.attributes);return Object.keys(y.componentsRegistry).forEach(function(N){var O=y.componentsRegistry[N];O.schema&&O.schema.transforms&&O.schema.transforms[U]&&Object.keys(O.schema.transforms[U]).forEach(function(H){k(V,O.schema.transforms[U][H],H)})}),{attributes:S(V)}}function E(){var U={frames:e({},M)};return S(U),U.frames}function S(U){return a(U),C(U),b(U),U}function a(U){function F(N){return{valType:"string",editType:"none"}}function V(N,O,H){G.isValObject(N)?(N.arrayOk===!0||N.valType==="data_array")&&(H[O+"src"]=F()):o(N)&&(N.role="object")}G.crawl(U,V)}function C(U){function F(V,N,O){if(V){var H=V[m];H&&(delete V[m],O[N]={items:{}},O[N].items[H]=V,O[N].role="object")}}G.crawl(U,F)}function b(U){function F(V){for(var N in V)if(o(V[N]))F(V[N]);else if(Array.isArray(V[N]))for(var O=0;O<V[N].length;O++)F(V[N][O]);else V[N]instanceof RegExp&&(V[N]=V[N].toString())}F(U)}function z(U,F,V){var N=u(U,V),O=e({},F.layoutAttributes);O[c]=!0,N.set(O)}function k(U,F,V){var N=u(U,V);N.set(e(N.get()||{},F))}},31780:function(W,G,t){var y=t(3400),D=t(45464),s="templateitemname",P={name:{valType:"string",editType:"none"}};P[s]={valType:"string",editType:"calc"},G.templatedArray=function(g,r){return r._isLinkedToArray=g,r.name=P.name,r[s]=P[s],r},G.traceTemplater=function(g){var r={},e,o;for(e in g)o=g[e],Array.isArray(o)&&o.length&&(r[e]=0);function n(u){e=y.coerce(u,{},D,"type");var f={type:e,_template:null};if(e in r){o=g[e];var c=r[e]%o.length;r[e]++,f._template=o[c]}return f}return{newTrace:n}},G.newContainer=function(g,r,e){var o=g._template,n=o&&(o[r]||e&&o[e]);y.isPlainObject(n)||(n=null);var u=g[r]={_template:n};return u},G.arrayTemplater=function(g,r,e){var o=g._template,n=o&&o[d(r)],u=o&&o[r];(!Array.isArray(u)||!u.length)&&(u=[]);var f={};function c(v){var T={name:v.name,_input:v},h=T[s]=v[s];if(!M(h))return T._template=n,T;for(var i=0;i<u.length;i++){var p=u[i];if(p.name===h)return f[h]=1,T._template=p,T}return T[e]=v[e]||!1,T._template=!1,T}function m(){for(var v=[],T=0;T<u.length;T++){var h=u[T],i=h.name;if(M(i)&&!f[i]){var p={_template:h,name:i,_input:{_templateitemname:i}};p[s]=h[s],v.push(p),f[i]=1}}return v}return{newItem:c,defaultItems:m}};function M(g){return g&&typeof g=="string"}function d(g){var r=g.length-1;return g.charAt(r)!=="s"&&y.warn("bad argument to arrayDefaultKey: "+g),g.substr(0,g.length-1)+"defaults"}G.arrayDefaultKey=d,G.arrayEditor=function(g,r,e){var o=(y.nestedProperty(g,r).get()||[]).length,n=e._index,u=n>=o&&(e._input||{})._templateitemname;u&&(n=o);var f=r+"["+n+"]",c;function m(){c={},u&&(c[f]={},c[f][s]=u)}m();function v(p,w){c[p]=w}function T(p,w){u?y.nestedProperty(c[f],p).set(w):c[f+"."+p]=w}function h(){var p=c;return m(),p}function i(p,w){p&&T(p,w);var A=h();for(var L in A)y.nestedProperty(g,L).set(A[L])}return{modifyBase:v,modifyItem:T,getUpdateObj:h,applyUpdate:i}}},39172:function(W,G,t){var y=t(33428),D=t(24040),s=t(7316),P=t(3400),M=t(72736),d=t(73696),g=t(76308),r=t(43616),e=t(81668),o=t(45460),n=t(54460),u=t(84284),f=t(71888),c=f.enforce,m=f.clean,v=t(19280).doAutoRange,T="start",h="middle",i="end",p=t(33816).zindexSeparator;G.layoutStyles=function(N){return P.syncOrAsync([s.doAutoMargin,A],N)};function w(N,O,H){for(var X=0;X<H.length;X++){var J=H[X][0],et=H[X][1];if(!(J[0]>=N[1]||J[1]<=N[0])&&et[0]<O[1]&&et[1]>O[0])return!0}return!1}function A(N){var O=N._fullLayout,H=O._size,X=H.p,J=n.list(N,"",!0),et,it,ft,ot,Q,tt;if(O._paperdiv.style({width:N._context.responsive&&O.autosize&&!N._context._hasZeroWidth&&!N.layout.width?"100%":O.width+"px",height:N._context.responsive&&O.autosize&&!N._context._hasZeroHeight&&!N.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(r.setSize,O.width,O.height),N._context.setBackground(N,O.paper_bgcolor),G.drawMainTitle(N),o.manage(N),!O._has("cartesian"))return s.previousPromises(N);function Z(Ht,Lt,dt){var xt=Ht._lw/2;if(Ht._id.charAt(0)==="x"){if(Lt){if(dt==="top")return Lt._offset-X-xt}else return H.t+H.h*(1-(Ht.position||0))+xt%1;return Lt._offset+Lt._length+X+xt}if(Lt){if(dt==="right")return Lt._offset+Lt._length+X+xt}else return H.l+H.w*(Ht.position||0)+xt%1;return Lt._offset-X-xt}for(et=0;et<J.length;et++){ot=J[et];var q=ot._anchorAxis;ot._linepositions={},ot._lw=r.crispRound(N,ot.linewidth,1),ot._mainLinePosition=Z(ot,q,ot.side),ot._mainMirrorPosition=ot.mirror&&q?Z(ot,q,u.OPPOSITE_SIDE[ot.side]):null}var ut=[],$=[],j=[],lt=g.opacity(O.paper_bgcolor)===1&&g.opacity(O.plot_bgcolor)===1&&O.paper_bgcolor===O.plot_bgcolor;for(it in O._plots)if(ft=O._plots[it],ft.mainplot)ft.bg&&ft.bg.remove(),ft.bg=void 0;else{var nt=ft.xaxis.domain,ht=ft.yaxis.domain,mt=ft.plotgroup;if(w(nt,ht,j)&&it.indexOf(p)===-1){var At=mt.node(),bt=ft.bg=P.ensureSingle(mt,"rect","bg");At.insertBefore(bt.node(),At.childNodes[0]),$.push(it)}else mt.select("rect.bg").remove(),j.push([nt,ht]),lt||(ut.push(it),$.push(it))}var Pt=O._bgLayer.selectAll(".bg").data(ut);for(Pt.enter().append("rect").classed("bg",!0),Pt.exit().remove(),Pt.each(function(Ht){O._plots[Ht].bg=y.select(this)}),et=0;et<$.length;et++)ft=O._plots[$[et]],Q=ft.xaxis,tt=ft.yaxis,ft.bg&&Q._offset!==void 0&&tt._offset!==void 0&&ft.bg.call(r.setRect,Q._offset-X,tt._offset-X,Q._length+2*X,tt._length+2*X).call(g.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(it in O._plots){ft=O._plots[it],Q=ft.xaxis,tt=ft.yaxis;var _t=ft.clipId="clip"+O._uid+it+"plot",Ut=P.ensureSingleById(O._clips,"clipPath",_t,function(Ht){Ht.classed("plotclip",!0).append("rect")});ft.clipRect=Ut.select("rect").attr({width:Q._length,height:tt._length}),r.setTranslate(ft.plot,Q._offset,tt._offset);var St,Rt;ft._hasClipOnAxisFalse?(St=null,Rt=_t):(St=_t,Rt=null),r.setClipUrl(ft.plot,St,N),ft.layerClipId=Rt}var Et,zt,Ct,Wt,Kt,oe,Jt,te,fe,ve,de,xe,Me;function ne(Ht){return"M"+Et+","+Ht+"H"+zt}function kt(Ht){return"M"+Q._offset+","+Ht+"h"+Q._length}function Gt(Ht){return"M"+Ht+","+te+"V"+Jt}function Yt(Ht){return tt._shift!==void 0&&(Ht+=tt._shift),"M"+Ht+","+tt._offset+"v"+tt._length}function Zt(Ht,Lt,dt){if(!Ht.showline||it!==Ht._mainSubplot)return"";if(!Ht._anchorAxis)return dt(Ht._mainLinePosition);var xt=Lt(Ht._mainLinePosition);return Ht.mirror&&(xt+=Lt(Ht._mainMirrorPosition)),xt}for(it in O._plots){ft=O._plots[it],Q=ft.xaxis,tt=ft.yaxis;var It="M0,0";L(Q,it)&&(Kt=E(Q,"left",tt,J),Et=Q._offset-(Kt?X+Kt:0),oe=E(Q,"right",tt,J),zt=Q._offset+Q._length+(oe?X+oe:0),Ct=Z(Q,tt,"bottom"),Wt=Z(Q,tt,"top"),Me=!Q._anchorAxis||it!==Q._mainSubplot,Me&&(Q.mirror==="allticks"||Q.mirror==="all")&&(Q._linepositions[it]=[Ct,Wt]),It=Zt(Q,ne,kt),Me&&Q.showline&&(Q.mirror==="all"||Q.mirror==="allticks")&&(It+=ne(Ct)+ne(Wt)),ft.xlines.style("stroke-width",Q._lw+"px").call(g.stroke,Q.showline?Q.linecolor:"rgba(0,0,0,0)")),ft.xlines.attr("d",It);var Nt="M0,0";L(tt,it)&&(de=E(tt,"bottom",Q,J),Jt=tt._offset+tt._length+(de?X:0),xe=E(tt,"top",Q,J),te=tt._offset-(xe?X:0),fe=Z(tt,Q,"left"),ve=Z(tt,Q,"right"),Me=!tt._anchorAxis||it!==tt._mainSubplot,Me&&(tt.mirror==="allticks"||tt.mirror==="all")&&(tt._linepositions[it]=[fe,ve]),Nt=Zt(tt,Gt,Yt),Me&&tt.showline&&(tt.mirror==="all"||tt.mirror==="allticks")&&(Nt+=Gt(fe)+Gt(ve)),ft.ylines.style("stroke-width",tt._lw+"px").call(g.stroke,tt.showline?tt.linecolor:"rgba(0,0,0,0)")),ft.ylines.attr("d",Nt)}return n.makeClipPaths(N),s.previousPromises(N)}function L(N,O){return(N.ticks||N.showline)&&(O===N._mainSubplot||N.mirror==="all"||N.mirror==="allticks")}function x(N,O,H){if(!H.showline||!H._lw)return!1;if(H.mirror==="all"||H.mirror==="allticks")return!0;var X=H._anchorAxis;if(!X)return!1;var J=u.FROM_BL[O];return H.side===O?X.domain[J]===N.domain[J]:H.mirror&&X.domain[1-J]===N.domain[1-J]}function E(N,O,H,X){if(x(N,O,H))return H._lw;for(var J=0;J<X.length;J++){var et=X[J];if(et._mainAxis===H._mainAxis&&x(N,O,et))return et._lw}return 0}G.drawMainTitle=function(N){var O=N._fullLayout.title,H=N._fullLayout,X=F(H),J=V(H),et=k(H,J),it=z(H,X);if(e.draw(N,"gtitle",{propContainer:H,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:H._dfltTitle.plot,subtitlePlaceholder:H._dfltTitle.subtitle,attributes:{x:it,y:et,"text-anchor":X,dy:J}}),O.text&&O.automargin){var ft=y.selectAll(".gtitle"),ot=r.bBox(y.selectAll(".g-gtitle").node()).height,Q=C(N,O,ot);if(Q>0){b(N,et,Q,ot),ft.attr({x:it,y:et,"text-anchor":X,dy:U(O.yanchor)}).call(M.positionText,it,et);var tt=(O.text.match(M.BR_TAG_ALL)||[]).length;if(tt){var Z=u.LINE_SPACING*tt+u.MID_SHIFT;O.y===0&&(Z=-Z),ft.selectAll(".line").each(function(){var lt=+this.getAttribute("dy").slice(0,-2)-Z+"em";this.setAttribute("dy",lt)})}var q=y.selectAll(".gtitle-subtitle");if(q.node()){var ut=ft.node().getBBox(),$=ut.y+ut.height,j=$+e.SUBTITLE_PADDING_EM*O.subtitle.font.size;q.attr({x:it,y:j,"text-anchor":X,dy:U(O.yanchor)}).call(M.positionText,it,j)}}}};function S(N,O,H,X,J){var et=O.yref==="paper"?N._fullLayout._size.h:N._fullLayout.height,it=P.isTopAnchor(O)?X:X-J,ft=H==="b"?et-it:it;return P.isTopAnchor(O)&&H==="t"||P.isBottomAnchor(O)&&H==="b"?!1:ft<J}function a(N,O,H,X,J){var et=0;return H==="middle"&&(et+=J/2),N==="t"?(H==="top"&&(et+=J),et+=X-O*X):(H==="bottom"&&(et+=J),et+=O*X),et}function C(N,O,H){var X=O.y,J=O.yanchor,et=X>.5?"t":"b",it=N._fullLayout.margin[et],ft=0;return O.yref==="paper"?ft=H+O.pad.t+O.pad.b:O.yref==="container"&&(ft=a(et,X,J,N._fullLayout.height,H)+O.pad.t+O.pad.b),ft>it?ft:0}function b(N,O,H,X){var J="title.automargin",et=N._fullLayout.title,it=et.y>.5?"t":"b",ft={x:et.x,y:et.y,t:0,b:0},ot={};et.yref==="paper"&&S(N,et,it,O,X)?ft[it]=H:et.yref==="container"&&(ot[it]=H,N._fullLayout._reservedMargin[J]=ot),s.allowAutoMargin(N,J),s.autoMargin(N,J,ft)}function z(N,O){var H=N.title,X=N._size,J=0;switch(O===T?J=H.pad.l:O===i&&(J=-H.pad.r),H.xref){case"paper":return X.l+X.w*H.x+J;case"container":default:return N.width*H.x+J}}function k(N,O){var H=N.title,X=N._size,J=0;if(O==="0em"||!O?J=-H.pad.b:O===u.CAP_SHIFT+"em"&&(J=H.pad.t),H.y==="auto")return X.t/2;switch(H.yref){case"paper":return X.t+X.h-X.h*H.y+J;case"container":default:return N.height-N.height*H.y+J}}function U(N){return N==="top"?u.CAP_SHIFT+.3+"em":N==="bottom"?"-0.3em":u.MID_SHIFT+"em"}function F(N){var O=N.title,H=h;return P.isRightAnchor(O)?H=i:P.isLeftAnchor(O)&&(H=T),H}function V(N){var O=N.title,H="0em";return P.isTopAnchor(O)?H=u.CAP_SHIFT+"em":P.isMiddleAnchor(O)&&(H=u.MID_SHIFT+"em"),H}G.doTraceStyle=function(N){var O=N.calcdata,H=[],X;for(X=0;X<O.length;X++){var J=O[X],et=J[0]||{},it=et.trace||{},ft=it._module||{},ot=ft.arraysToCalcdata;ot&&ot(J,it);var Q=ft.editStyle;Q&&H.push({fn:Q,cd0:et})}if(H.length){for(X=0;X<H.length;X++){var tt=H[X];tt.fn(N,tt.cd0)}d(N),G.redrawReglTraces(N)}return s.style(N),D.getComponentMethod("legend","draw")(N),s.previousPromises(N)},G.doColorBars=function(N){return D.getComponentMethod("colorbar","draw")(N),s.previousPromises(N)},G.layoutReplot=function(N){var O=N.layout;return N.layout=void 0,D.call("_doPlot",N,"",O)},G.doLegend=function(N){return D.getComponentMethod("legend","draw")(N),s.previousPromises(N)},G.doTicksRelayout=function(N){return n.draw(N,"redraw"),N._fullLayout._hasOnlyLargeSploms&&(D.subplotsRegistry.splom.updateGrid(N),d(N),G.redrawReglTraces(N)),G.drawMainTitle(N),s.previousPromises(N)},G.doModeBar=function(N){var O=N._fullLayout;o.manage(N);for(var H=0;H<O._basePlotModules.length;H++){var X=O._basePlotModules[H].updateFx;X&&X(N)}return s.previousPromises(N)},G.doCamera=function(N){for(var O=N._fullLayout,H=O._subplots.gl3d,X=0;X<H.length;X++){var J=O[H[X]],et=J._scene;et.setViewport(J)}},G.drawData=function(N){var O=N._fullLayout;d(N);for(var H=O._basePlotModules,X=0;X<H.length;X++)H[X].plot(N);return G.redrawReglTraces(N),s.style(N),D.getComponentMethod("selections","draw")(N),D.getComponentMethod("shapes","draw")(N),D.getComponentMethod("annotations","draw")(N),D.getComponentMethod("images","draw")(N),O._replotting=!1,s.previousPromises(N)},G.redrawReglTraces=function(N){var O=N._fullLayout;if(O._has("regl")){var H=N._fullData,X=[],J=[],et,it;for(O._hasOnlyLargeSploms&&O._splomGrid.draw(),et=0;et<H.length;et++){var ft=H[et];ft.visible===!0&&ft._length!==0&&(ft.type==="splom"?O._splomScenes[ft.uid].draw():ft.type==="scattergl"?P.pushUnique(X,ft.xaxis+ft.yaxis):ft.type==="scatterpolargl"&&P.pushUnique(J,ft.subplot))}for(et=0;et<X.length;et++)it=O._plots[X[et]],it._scene&&it._scene.draw();for(et=0;et<J.length;et++)it=O[J[et]]._subplot,it._scene&&it._scene.draw()}},G.doAutoRangeAndConstraints=function(N){for(var O=n.list(N,"",!0),H,X={},J=0;J<O.length;J++)if(H=O[J],!X[H._id]){X[H._id]=1,m(N,H),v(N,H);var et=H._matchGroup;if(et)for(var it in et){var ft=n.getFromId(N,it);v(N,ft,H.range),X[it]=1}}c(N)},G.finalDraw=function(N){D.getComponentMethod("rangeslider","draw")(N),D.getComponentMethod("rangeselector","draw")(N)},G.drawMarginPushers=function(N){D.getComponentMethod("legend","draw")(N),D.getComponentMethod("rangeselector","draw")(N),D.getComponentMethod("sliders","draw")(N),D.getComponentMethod("updatemenus","draw")(N),D.getComponentMethod("colorbar","draw")(N)}},94828:function(W,G,t){var y=t(3400),D=y.isPlainObject,s=t(73060),P=t(7316),M=t(45464),d=t(31780),g=t(20556).dfltConfig;G.makeTemplate=function(v){v=y.isPlainObject(v)?v:y.getGraphDiv(v),v=y.extendDeep({_context:g},{data:v.data,layout:v.layout}),P.supplyDefaults(v);var T=v.data||[],h=v.layout||{};h._basePlotModules=v._fullLayout._basePlotModules,h._modules=v._fullLayout._modules;var i={data:{},layout:{}};T.forEach(function(b){var z={};o(b,z,u.bind(null,b));var k=y.coerce(b,{},M,"type"),U=i.data[k];U||(U=i.data[k]=[]),U.push(z)}),o(h,i.layout,n.bind(null,h)),delete i.layout.template;var p=h.template;if(D(p)){var w=p.layout,A,L,x,E,S,a;D(w)&&r(w,i.layout);var C=p.data;if(D(C)){for(L in i.data)if(x=C[L],Array.isArray(x)){for(S=i.data[L],a=S.length,E=x.length,A=0;A<a;A++)r(x[A%E],S[A]);for(A=a;A<E;A++)S.push(y.extendDeep({},x[A]))}for(L in C)L in i.data||(i.data[L]=y.extendDeep([],C[L]))}}return i};function r(v,T){v=y.extendDeep({},v);var h=Object.keys(v).sort(),i,p;function w(S,a,C){if(D(a)&&D(S))r(S,a);else if(Array.isArray(a)&&Array.isArray(S)){var b=d.arrayTemplater({_template:v},C);for(p=0;p<a.length;p++){var z=a[p],k=b.newItem(z)._template;k&&r(k,z)}var U=b.defaultItems();for(p=0;p<U.length;p++)a.push(U[p]._template);for(p=0;p<a.length;p++)delete a[p].templateitemname}}for(i=0;i<h.length;i++){var A=h[i],L=v[A];if(A in T?w(L,T[A],A):T[A]=L,e(A)===A)for(var x in T){var E=e(x);x!==E&&E===A&&!(x in v)&&w(L,T[x],A)}}}function e(v){return v.replace(/[0-9]+$/,"")}function o(v,T,h,i,p){var w=p&&h(p);for(var A in v){var L=v[A],x=f(v,A,i),E=f(v,A,p),S=h(E);if(!S){var a=e(A);a!==A&&(E=f(v,a,p),S=h(E))}if(!(w&&w===S)&&!(!S||S._noTemplating||S.valType==="data_array"||S.arrayOk&&Array.isArray(L)))if(!S.valType&&D(L))o(L,T,h,x,E);else if(S._isLinkedToArray&&Array.isArray(L))for(var C=!1,b=0,z={},k=0;k<L.length;k++){var U=L[k];if(D(U)){var F=U.name;if(F)z[F]||(o(U,T,h,f(L,b,x),f(L,b,E)),b++,z[F]=1);else if(!C){var V=d.arrayDefaultKey(A),N=f(v,V,i),O=f(L,b,x);o(U,T,h,O,f(L,b,E));var H=y.nestedProperty(T,O),X=y.nestedProperty(T,N);X.set(H.get()),H.set(null),C=!0}}}else{var J=y.nestedProperty(T,x);J.set(L)}}}function n(v,T){return s.getLayoutValObject(v,y.nestedProperty({},T).parts)}function u(v,T){return s.getTraceValObject(v,y.nestedProperty({},T).parts)}function f(v,T,h){var i;return h?Array.isArray(v)?i=h+"["+T+"]":i=h+"."+T:i=T,i}G.validateTemplate=function(v,T){var h=y.extendDeep({},{_context:g,data:v.data,layout:v.layout}),i=h.layout||{};D(T)||(T=i.template||{});var p=T.layout,w=T.data,A=[];h.layout=i,h.layout.template=T,P.supplyDefaults(h);var L=h._fullLayout,x=h._fullData,E={};function S(N,O){for(var H in N)if(H.charAt(0)!=="_"&&D(N[H])){var X=e(H),J=[],et;for(et=0;et<O.length;et++)J.push(f(N,H,O[et])),X!==H&&J.push(f(N,X,O[et]));for(et=0;et<J.length;et++)E[J[et]]=1;S(N[H],J)}}function a(N,O){for(var H in N)if(H.indexOf("defaults")===-1&&D(N[H])){var X=f(N,H,O);E[X]?a(N[H],X):A.push({code:"unused",path:X})}}if(D(p)?(S(L,["layout"]),a(p,"layout")):A.push({code:"layout"}),!D(w))A.push({code:"data"});else{for(var C={},b,z=0;z<x.length;z++){var k=x[z];b=k.type,C[b]=(C[b]||0)+1,k._fullInput._template||A.push({code:"missing",index:k._fullInput.index,traceType:b})}for(b in w){var U=w[b].length,F=C[b]||0;U>F?A.push({code:"unused",traceType:b,templateCount:U,dataCount:F}):F>U&&A.push({code:"reused",traceType:b,templateCount:U,dataCount:F})}}function V(N,O){for(var H in N)if(H.charAt(0)!=="_"){var X=N[H],J=f(N,H,O);D(X)?(Array.isArray(N)&&X._template===!1&&X.templateitemname&&A.push({code:"missing",path:J,templateitemname:X.templateitemname}),V(X,J)):Array.isArray(X)&&c(X)&&V(X,J)}}if(V({data:x,layout:L},""),A.length)return A.map(m)};function c(v){for(var T=0;T<v.length;T++)if(D(v[T]))return!0}function m(v){var T;switch(v.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":v.path?T="There are no templates for item "+v.path+" with name "+v.templateitemname:T="There are no templates for trace "+v.index+", of type "+v.traceType+".";break;case"unused":v.path?T="The template item at "+v.path+" was not used in constructing the plot.":v.dataCount?T="Some of the templates of type "+v.traceType+" were not used. The template has "+v.templateCount+" traces, the data only has "+v.dataCount+" of this type.":T="The template has "+v.templateCount+" traces of type "+v.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+v.traceType+" were used more than once. The template has "+v.templateCount+" traces, the data has "+v.dataCount+" of this type.";break}return v.msg=T,v}},67024:function(W,G,t){var y=t(38248),D=t(36424),s=t(7316),P=t(3400),M=t(81792),d=t(37164),g=t(63268),r=t(25788).version,e={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function o(n,u){u=u||{};var f,c,m,v;P.isPlainObject(n)?(f=n.data||[],c=n.layout||{},m=n.config||{},v={}):(n=P.getGraphDiv(n),f=P.extendDeep([],n.data),c=P.extendDeep({},n.layout),m=n._context,v=n._fullLayout||{});function T(F){return!(F in u)||P.validate(u[F],e[F])}if(!T("width")&&u.width!==null||!T("height")&&u.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+P.join2(e.format.values,", "," or ")+".");var h={};function i(F,V){return P.coerce(u,h,e,F,V)}var p=i("format"),w=i("width"),A=i("height"),L=i("scale"),x=i("setBackground"),E=i("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var a=P.extendFlat({},c);w?a.width=w:u.width===null&&y(v.width)&&(a.width=v.width),A?a.height=A:u.height===null&&y(v.height)&&(a.height=v.height);var C=P.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),b=M.getRedrawFunc(S);function z(){return new Promise(function(F){setTimeout(F,M.getDelay(S._fullLayout))})}function k(){return new Promise(function(F,V){var N=d(S,p,L),O=S._fullLayout.width,H=S._fullLayout.height;function X(){D.purge(S),document.body.removeChild(S)}if(p==="full-json"){var J=s.graphJson(S,!1,"keepdata","object",!0,!0);return J.version=r,J=JSON.stringify(J),X(),F(E?J:M.encodeJSON(J))}if(X(),p==="svg")return F(E?N:M.encodeSVG(N));var et=document.createElement("canvas");et.id=P.randstr(),g({format:p,width:O,height:H,scale:L,canvas:et,svg:N,promise:!0}).then(F).catch(V)})}function U(F){return E?F.replace(M.IMAGE_URL_PREFIX,""):F}return new Promise(function(F,V){D.newPlot(S,f,a,C).then(b).then(z).then(k).then(function(N){F(U(N))}).catch(function(N){V(N)})})}W.exports=o},21480:function(W,G,t){var y=t(3400),D=t(7316),s=t(73060),P=t(20556).dfltConfig,M=y.isPlainObject,d=Array.isArray,g=y.isArrayOrTypedArray;W.exports=function(i,p){i===void 0&&(i=[]),p===void 0&&(p={});var w=s.get(),A=[],L={_context:y.extendFlat({},P)},x,E;d(i)?(L.data=y.extendDeep([],i),x=i):(L.data=[],x=[],A.push(u("array","data"))),M(p)?(L.layout=y.extendDeep({},p),E=p):(L.layout={},E={},arguments.length>1&&A.push(u("object","layout"))),D.supplyDefaults(L);for(var S=L._fullData,a=x.length,C=0;C<a;C++){var b=x[C],z=["data",C];if(!M(b)){A.push(u("object",z));continue}var k=S[C],U=k.type,F=w.traces[U].attributes;F.type={valType:"enumerated",values:[U]},k.visible===!1&&b.visible!==!1&&A.push(u("invisible",z)),r(b,k,F,A,z);var V=b.transforms,N=k.transforms;if(V){d(V)||A.push(u("array",z,["transforms"])),z.push("transforms");for(var O=0;O<V.length;O++){var H=["transforms",O],X=V[O].type;if(!M(V[O])){A.push(u("object",z,H));continue}var J=w.transforms[X]?w.transforms[X].attributes:{};J.type={valType:"enumerated",values:Object.keys(w.transforms)},r(V[O],N[O],J,A,z,H)}}}var et=L._fullLayout,it=e(w,S);return r(E,et,it,A,"layout"),A.length===0?void 0:A};function r(h,i,p,w,A,L){L=L||[];for(var x=Object.keys(h),E=0;E<x.length;E++){var S=x[E];if(S!=="transforms"){var a=L.slice();a.push(S);var C=h[S],b=i[S],z=c(p,S),k=(z||{}).valType,U=k==="info_array",F=k==="colorscale",V=(z||{}).items;if(!f(p,S))w.push(u("schema",A,a));else if(M(C)&&M(b)&&k!=="any")r(C,b,z,w,A,a);else if(U&&d(C)){C.length>b.length&&w.push(u("unused",A,a.concat(b.length)));var N=b.length,O=Array.isArray(V);O&&(N=Math.min(N,V.length));var H,X,J,et,it;if(z.dimensions===2)for(X=0;X<N;X++)if(d(C[X])){C[X].length>b[X].length&&w.push(u("unused",A,a.concat(X,b[X].length)));var ft=b[X].length;for(H=0;H<(O?Math.min(ft,V[X].length):ft);H++)J=O?V[X][H]:V,et=C[X][H],it=b[X][H],y.validate(et,J)?it!==et&&it!==+et&&w.push(u("dynamic",A,a.concat(X,H),et,it)):w.push(u("value",A,a.concat(X,H),et))}else w.push(u("array",A,a.concat(X),C[X]));else for(X=0;X<N;X++)J=O?V[X]:V,et=C[X],it=b[X],y.validate(et,J)?it!==et&&it!==+et&&w.push(u("dynamic",A,a.concat(X),et,it)):w.push(u("value",A,a.concat(X),et))}else if(z.items&&!U&&d(C)){var ot=V[Object.keys(V)[0]],Q=[],tt,Z;for(tt=0;tt<b.length;tt++){var q=b[tt]._index||tt;if(Z=a.slice(),Z.push(q),M(C[q])&&M(b[tt])){Q.push(q);var ut=C[q],$=b[tt];M(ut)&&ut.visible!==!1&&$.visible===!1?w.push(u("invisible",A,Z)):r(ut,$,ot,w,A,Z)}}for(tt=0;tt<C.length;tt++)Z=a.slice(),Z.push(tt),M(C[tt])?Q.indexOf(tt)===-1&&w.push(u("unused",A,Z)):w.push(u("object",A,Z,C[tt]))}else!M(C)&&M(b)?w.push(u("object",A,a,C)):!g(C)&&g(b)&&!U&&!F?w.push(u("array",A,a,C)):S in i?y.validate(C,z)?z.valType==="enumerated"&&(z.coerceNumber&&C!==+b||C!==b)&&w.push(u("dynamic",A,a,C,b)):w.push(u("value",A,a,C)):w.push(u("unused",A,a,C))}}return w}function e(h,i){for(var p=h.layout.layoutAttributes,w=0;w<i.length;w++){var A=i[w],L=h.traces[A.type],x=L.layoutAttributes;x&&(A.subplot?y.extendFlat(p[L.attributes.subplot.dflt],x):y.extendFlat(p,x))}return p}var o={object:function(h,i){var p;return h==="layout"&&i===""?p="The layout argument":h[0]==="data"&&i===""?p="Trace "+h[1]+" in the data argument":p=n(h)+"key "+i,p+" must be linked to an object container"},array:function(h,i){var p;return h==="data"?p="The data argument":p=n(h)+"key "+i,p+" must be linked to an array container"},schema:function(h,i){return n(h)+"key "+i+" is not part of the schema"},unused:function(h,i,p){var w=M(p)?"container":"key";return n(h)+w+" "+i+" did not get coerced"},dynamic:function(h,i,p,w){return[n(h)+"key",i,"(set to '"+p+"')","got reset to","'"+w+"'","during defaults."].join(" ")},invisible:function(h,i){return(i?n(h)+"item "+i:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,i,p){return[n(h)+"key "+i,"is set to an invalid value ("+p+")"].join(" ")}};function n(h){return d(h)?"In data trace "+h[1]+", ":"In "+h+", "}function u(h,i,p,w,A){p=p||"";var L,x;d(i)?(L=i[0],x=i[1]):(L=i,x=null);var E=T(p),S=o[h](i,E,w,A);return y.log(S),{code:h,container:L,trace:x,path:p,astr:E,msg:S}}function f(h,i){var p=v(i),w=p.keyMinusId,A=p.id;return w in h&&h[w]._isSubplotObj&&A?!0:i in h}function c(h,i){if(i in h)return h[i];var p=v(i);return h[p.keyMinusId]}var m=y.counterRegex("([a-z]+)");function v(h){var i=h.match(m);return{keyMinusId:i&&i[1],id:i&&i[2]}}function T(h){if(!d(h))return String(h);for(var i="",p=0;p<h.length;p++){var w=h[p];typeof w=="number"?i=i.substr(0,i.length-1)+"["+w+"]":i+=w,p<h.length-1&&(i+=".")}return i}},85656:function(W){W.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(W,G,t){var y=t(3400),D=t(31780);W.exports=function(P,M,d){var g=d.name,r=d.inclusionAttr||"visible",e=M[g],o=y.isArrayOrTypedArray(P[g])?P[g]:[],n=M[g]=[],u=D.arrayTemplater(M,g,r),f,c;for(f=0;f<o.length;f++){var m=o[f];y.isPlainObject(m)?c=u.newItem(m):(c=u.newItem({}),c[r]=!1),c._index=f,c[r]!==!1&&d.handleItemDefaults(m,c,M,d),n.push(c)}var v=u.defaultItems();for(f=0;f<v.length;f++)c=v[f],c._index=n.length,d.handleItemDefaults({},c,M,d,{}),n.push(c);if(y.isArrayOrTypedArray(e)){var T=Math.min(e.length,n.length);for(f=0;f<T;f++)y.relinkPrivateKeys(n[f],e[f])}return n}},45464:function(W,G,t){var y=t(25376),D=t(55756);W.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:y({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:D.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(W,G,t){var y=t(38248),D=t(3400),s=D.dateTime2ms,P=D.incrementMonth,M=t(39032),d=M.ONEAVGMONTH;W.exports=function(r,e,o,n){if(e.type!=="date")return{vals:n};var u=r[o+"periodalignment"];if(!u)return{vals:n};var f=r[o+"period"],c;if(y(f)){if(f=+f,f<=0)return{vals:n}}else if(typeof f=="string"&&f.charAt(0)==="M"){var m=+f.substring(1);if(m>0&&Math.round(m)===m)c=m;else return{vals:n}}for(var v=e.calendar,T=u==="start",h=u==="end",i=r[o+"period0"],p=s(i,v)||0,w=[],A=[],L=[],x=n.length,E=0;E<x;E++){var S=n[E],a,C,b;if(c){for(a=Math.round((S-p)/(c*d)),b=P(p,c*a,v);b>S;)b=P(b,-c,v);for(;b<=S;)b=P(b,c,v);C=P(b,-c,v)}else{for(a=Math.round((S-p)/f),b=p+a*f;b>S;)b-=f;for(;b<=S;)b+=f;C=b-f}w[E]=T?C:h?b:(C+b)/2,A[E]=C,L[E]=b}return{vals:w,starts:A,ends:L}}},26720:function(W){W.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(W,G,t){var y=t(33428),D=t(38248),s=t(3400),P=t(39032).FP_SAFE,M=t(24040),d=t(43616),g=t(79811),r=g.getFromId,e=g.isLinked;W.exports={applyAutorangeOptions:a,getAutoRange:o,makePadFn:u,doAutoRange:v,findExtremes:T,concatExtremes:m};function o(C,b){var z,k,U=[],F=C._fullLayout,V=u(F,b,0),N=u(F,b,1),O=m(C,b),H=O.min,X=O.max;if(H.length===0||X.length===0)return s.simpleMap(b.range,b.r2l);var J=H[0].val,et=X[0].val;for(z=1;z<H.length&&J===et;z++)J=Math.min(J,H[z].val);for(z=1;z<X.length&&J===et;z++)et=Math.max(et,X[z].val);var it=b.autorange,ft=it==="reversed"||it==="min reversed"||it==="max reversed";if(!ft&&b.range){var ot=s.simpleMap(b.range,b.r2l);ft=ot[1]<ot[0]}b.autorange==="reversed"&&(b.autorange=!0);var Q=b.rangemode,tt=Q==="tozero",Z=Q==="nonnegative",q=b._length,ut=q/10,$=0,j,lt,nt,ht,mt,At;for(z=0;z<H.length;z++)for(j=H[z],k=0;k<X.length;k++)lt=X[k],At=lt.val-j.val-n(b,j.val,lt.val),At>0&&(mt=q-V(j)-N(lt),mt>ut?At/mt>$&&(nt=j,ht=lt,$=At/mt):At/q>$&&(nt={val:j.val,nopad:1},ht={val:lt.val,nopad:1},$=At/q));function bt(Rt,Et){return Math.max(Rt,N(Et))}if(J===et){var Pt=J-1,_t=J+1;if(tt)if(J===0)U=[0,1];else{var Ut=(J>0?X:H).reduce(bt,0),St=J/(1-Math.min(.5,Ut/q));U=J>0?[0,St]:[St,0]}else Z?U=[Math.max(0,Pt),Math.max(1,_t)]:U=[Pt,_t]}else tt?(nt.val>=0&&(nt={val:0,nopad:1}),ht.val<=0&&(ht={val:0,nopad:1})):Z&&(nt.val-$*V(nt)<0&&(nt={val:0,nopad:1}),ht.val<=0&&(ht={val:1,nopad:1})),$=(ht.val-nt.val-n(b,j.val,lt.val))/(q-V(nt)-N(ht)),U=[nt.val-$*V(nt),ht.val+$*N(ht)];return U=a(U,b),b.limitRange&&b.limitRange(),ft&&U.reverse(),s.simpleMap(U,b.l2r||Number)}function n(C,b,z){var k=0;if(C.rangebreaks)for(var U=C.locateBreaks(b,z),F=0;F<U.length;F++){var V=U[F];k+=V.max-V.min}return k}function u(C,b,z){var k=.05*b._length,U=b._anchorAxis||{};if((b.ticklabelposition||"").indexOf("inside")!==-1||(U.ticklabelposition||"").indexOf("inside")!==-1){var F=b.isReversed();if(!F){var V=s.simpleMap(b.range,b.r2l);F=V[1]<V[0]}F&&(z=!z)}var N=0;return e(C,b._id)||(N=c(C,b,z)),k=Math.max(N,k),b.constrain==="domain"&&b._inputDomain&&(k*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(H){return H.nopad?0:H.pad+(H.extrapad?k:N)}}var f=3;function c(C,b,z){var k=0,U=b._id.charAt(0)==="x";for(var F in C._plots){var V=C._plots[F];if(!(b._id!==V.xaxis._id&&b._id!==V.yaxis._id)){var N=(U?V.yaxis:V.xaxis)||{};if((N.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(N.side==="left"||N.side==="bottom")||z&&(N.side==="top"||N.side==="right"))){if(N._vals){var O=s.deg2rad(N._tickAngles[N._id+"tick"]||0),H=Math.abs(Math.cos(O)),X=Math.abs(Math.sin(O));if(!N._vals[0].bb){var J=N._id+"tick",et=N._selections[J];et.each(function(Z){var q=y.select(this),ut=q.select(".text-math-group");ut.empty()&&(Z.bb=d.bBox(q.node()))})}for(var it=0;it<N._vals.length;it++){var ft=N._vals[it],ot=ft.bb;if(ot){var Q=2*f+ot.width,tt=2*f+ot.height;k=Math.max(k,U?Math.max(Q*H,tt*X):Math.max(tt*H,Q*X))}}}N.ticks==="inside"&&N.ticklabelposition==="inside"&&(k+=N.ticklen||0)}}}return k}function m(C,b,z){var k=b._id,U=C._fullData,F=C._fullLayout,V=[],N=[],O,H,X;function J(Q,tt){for(O=0;O<tt.length;O++){var Z=Q[tt[O]],q=(Z._extremes||{})[k];if(Z.visible===!0&&q){for(H=0;H<q.min.length;H++)X=q.min[H],h(V,X.val,X.pad,{extrapad:X.extrapad});for(H=0;H<q.max.length;H++)X=q.max[H],i(N,X.val,X.pad,{extrapad:X.extrapad})}}}if(J(U,b._traceIndices),J(F.annotations||[],b._annIndices||[]),J(F.shapes||[],b._shapeIndices||[]),b._matchGroup&&!z){for(var et in b._matchGroup)if(et!==b._id){var it=r(C,et),ft=m(C,it,!0),ot=b._length/it._length;for(H=0;H<ft.min.length;H++)X=ft.min[H],h(V,X.val,X.pad*ot,{extrapad:X.extrapad});for(H=0;H<ft.max.length;H++)X=ft.max[H],i(N,X.val,X.pad*ot,{extrapad:X.extrapad})}}return{min:V,max:N}}function v(C,b,z){if(b.setScale(),b.autorange){b.range=z?z.slice():o(C,b),b._r=b.range.slice(),b._rl=s.simpleMap(b._r,b.r2l);var k=b._input,U={};U[b._attr+".range"]=b.range,U[b._attr+".autorange"]=b.autorange,M.call("_storeDirectGUIEdit",C.layout,C._fullLayout._preGUI,U),k.range=b.range.slice(),k.autorange=b.autorange}var F=b._anchorAxis;if(F&&F.rangeslider){var V=F.rangeslider[b._name];V&&V.rangemode==="auto"&&(V.range=o(C,b)),F._input.rangeslider[b._name]=s.extendFlat({},V)}}function T(C,b,z){z||(z={}),C._m||C.setScale();var k=[],U=[],F=b.length,V=z.padded||!1,N=z.tozero&&(C.type==="linear"||C.type==="-"),O=C.type==="log",H=!1,X=z.vpadLinearized||!1,J,et,it,ft,ot,Q,tt,Z,q;function ut(bt){if(Array.isArray(bt))return H=!0,function(_t){return Math.max(Number(bt[_t]||0),0)};var Pt=Math.max(Number(bt||0),0);return function(){return Pt}}var $=ut((C._m>0?z.ppadplus:z.ppadminus)||z.ppad||0),j=ut((C._m>0?z.ppadminus:z.ppadplus)||z.ppad||0),lt=ut(z.vpadplus||z.vpad),nt=ut(z.vpadminus||z.vpad);if(!H){if(Z=1/0,q=-1/0,O)for(J=0;J<F;J++)et=b[J],et<Z&&et>0&&(Z=et),et>q&&et<P&&(q=et);else for(J=0;J<F;J++)et=b[J],et<Z&&et>-P&&(Z=et),et>q&&et<P&&(q=et);b=[Z,q],F=2}var ht={tozero:N,extrapad:V};function mt(bt){it=b[bt],D(it)&&(Q=$(bt),tt=j(bt),X?(ft=C.c2l(it)-nt(bt),ot=C.c2l(it)+lt(bt)):(Z=it-nt(bt),q=it+lt(bt),O&&Z<q/10&&(Z=q/10),ft=C.c2l(Z),ot=C.c2l(q)),N&&(ft=Math.min(0,ft),ot=Math.max(0,ot)),w(ft)&&h(k,ft,tt,ht),w(ot)&&i(U,ot,Q,ht))}var At=Math.min(6,F);for(J=0;J<At;J++)mt(J);for(J=F-1;J>=At;J--)mt(J);return{min:k,max:U,opts:z}}function h(C,b,z,k){p(C,b,z,k,A)}function i(C,b,z,k){p(C,b,z,k,L)}function p(C,b,z,k,U){for(var F=k.tozero,V=k.extrapad,N=!0,O=0;O<C.length&&N;O++){var H=C[O];if(U(H.val,b)&&H.pad>=z&&(H.extrapad||!V)){N=!1;break}else U(b,H.val)&&H.pad<=z&&(V||!H.extrapad)&&(C.splice(O,1),O--)}if(N){var X=F&&b===0;C.push({val:b,pad:X?0:z,extrapad:X?!1:V})}}function w(C){return D(C)&&Math.abs(C)<P}function A(C,b){return C<=b}function L(C,b){return C>=b}function x(C,b){var z=b.autorangeoptions;return z&&z.minallowed!==void 0&&S(b,z.minallowed,z.maxallowed)?z.minallowed:z&&z.clipmin!==void 0&&S(b,z.clipmin,z.clipmax)?Math.max(C,b.d2l(z.clipmin)):C}function E(C,b){var z=b.autorangeoptions;return z&&z.maxallowed!==void 0&&S(b,z.minallowed,z.maxallowed)?z.maxallowed:z&&z.clipmax!==void 0&&S(b,z.clipmin,z.clipmax)?Math.min(C,b.d2l(z.clipmax)):C}function S(C,b,z){return b!==void 0&&z!==void 0?(b=C.d2l(b),z=C.d2l(z),b<z):!0}function a(C,b){if(!b||!b.autorangeoptions)return C;var z=C[0],k=C[1],U=b.autorangeoptions.include;if(U!==void 0){var F=b.d2l(z),V=b.d2l(k);s.isArrayOrTypedArray(U)||(U=[U]);for(var N=0;N<U.length;N++){var O=b.d2l(U[N]);F>=O&&(F=O,z=O),V<=O&&(V=O,k=O)}}return z=x(z,b),k=E(k,b),[z,k]}},76808:function(W){W.exports=function(t,y,D){var s,P;if(D){var M=y==="reversed"||y==="min reversed"||y==="max reversed";s=D[M?1:0],P=D[M?0:1]}var d=t("autorangeoptions.minallowed",P===null?s:void 0),g=t("autorangeoptions.maxallowed",s===null?P:void 0);d===void 0&&t("autorangeoptions.clipmin"),g===void 0&&t("autorangeoptions.clipmax"),t("autorangeoptions.include")}},54460:function(W,G,t){var y=t(33428),D=t(38248),s=t(7316),P=t(24040),M=t(3400),d=M.strTranslate,g=t(72736),r=t(81668),e=t(76308),o=t(43616),n=t(94724),u=t(98728),f=t(39032),c=f.ONEMAXYEAR,m=f.ONEAVGYEAR,v=f.ONEMINYEAR,T=f.ONEMAXQUARTER,h=f.ONEAVGQUARTER,i=f.ONEMINQUARTER,p=f.ONEMAXMONTH,w=f.ONEAVGMONTH,A=f.ONEMINMONTH,L=f.ONEWEEK,x=f.ONEDAY,E=x/2,S=f.ONEHOUR,a=f.ONEMIN,C=f.ONESEC,b=f.ONEMILLI,z=f.ONEMICROSEC,k=f.MINUS_SIGN,U=f.BADNUM,F={K:"zeroline"},V={K:"gridline",L:"path"},N={K:"minor-gridline",L:"path"},O={K:"tick",L:"path"},H={K:"tick",L:"text"},X={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},J=t(84284),et=J.MID_SHIFT,it=J.CAP_SHIFT,ft=J.LINE_SPACING,ot=J.OPPOSITE_SIDE,Q=3,tt=W.exports={};tt.setConvert=t(78344);var Z=t(52976),q=t(79811),ut=q.idSort,$=q.isLinked;tt.id2name=q.id2name,tt.name2id=q.name2id,tt.cleanId=q.cleanId,tt.list=q.list,tt.listIds=q.listIds,tt.getFromId=q.getFromId,tt.getFromTrace=q.getFromTrace;var j=t(19280);tt.getAutoRange=j.getAutoRange,tt.findExtremes=j.findExtremes;var lt=1e-4;function nt(Qt){var re=(Qt[1]-Qt[0])*lt;return[Qt[0]-re,Qt[1]+re]}tt.coerceRef=function(Qt,re,tr,er,Ye,Pe){var Ze=er.charAt(er.length-1),nr=tr._fullLayout._subplots[Ze+"axis"],Qe=er+"ref",We={};return Ye||(Ye=nr[0]||(typeof Pe=="string"?Pe:Pe[0])),Pe||(Pe=Ye),nr=nr.concat(nr.map(function(yr){return yr+" domain"})),We[Qe]={valType:"enumerated",values:nr.concat(Pe?typeof Pe=="string"?[Pe]:Pe:[]),dflt:Ye},M.coerce(Qt,re,We,Qe)},tt.getRefType=function(Qt){return Qt===void 0?Qt:Qt==="paper"?"paper":Qt==="pixel"?"pixel":/( domain)$/.test(Qt)?"domain":"range"},tt.coercePosition=function(Qt,re,tr,er,Ye,Pe){var Ze,nr,Qe=tt.getRefType(er);if(Qe!=="range")Ze=M.ensureNumber,nr=tr(Ye,Pe);else{var We=tt.getFromId(re,er);Pe=We.fraction2r(Pe),nr=tr(Ye,Pe),Ze=We.cleanPos}Qt[Ye]=Ze(nr)},tt.cleanPosition=function(Qt,re,tr){var er=tr==="paper"||tr==="pixel"?M.ensureNumber:tt.getFromId(re,tr).cleanPos;return er(Qt)},tt.redrawComponents=function(Qt,re){re=re||tt.listIds(Qt);var tr=Qt._fullLayout;function er(Ye,Pe,Ze,nr){for(var Qe=P.getComponentMethod(Ye,Pe),We={},yr=0;yr<re.length;yr++)for(var Rr=tr[tt.id2name(re[yr])],Tr=Rr[Ze],vn=0;vn<Tr.length;vn++){var Or=Tr[vn];if(!We[Or]&&(Qe(Qt,Or),We[Or]=1,nr))return}}er("annotations","drawOne","_annIndices"),er("shapes","drawOne","_shapeIndices"),er("images","draw","_imgIndices",!0),er("selections","drawOne","_selectionIndices")};var ht=tt.getDataConversions=function(Qt,re,tr,er){var Ye,Pe=tr==="x"||tr==="y"||tr==="z"?tr:er;if(M.isArrayOrTypedArray(Pe)){if(Ye={type:Z(er,void 0,{autotypenumbers:Qt._fullLayout.autotypenumbers}),_categories:[]},tt.setConvert(Ye),Ye.type==="category")for(var Ze=0;Ze<er.length;Ze++)Ye.d2c(er[Ze])}else Ye=tt.getFromTrace(Qt,re,Pe);return Ye?{d2c:Ye.d2c,c2d:Ye.c2d}:Pe==="ids"?{d2c:At,c2d:At}:{d2c:mt,c2d:mt}};function mt(Qt){return+Qt}function At(Qt){return String(Qt)}tt.getDataToCoordFunc=function(Qt,re,tr,er){return ht(Qt,re,tr,er).d2c},tt.counterLetter=function(Qt){var re=Qt.charAt(0);if(re==="x")return"y";if(re==="y")return"x"},tt.minDtick=function(Qt,re,tr,er){["log","category","multicategory"].indexOf(Qt.type)!==-1||!er?Qt._minDtick=0:Qt._minDtick===void 0?(Qt._minDtick=re,Qt._forceTick0=tr):Qt._minDtick&&((Qt._minDtick/re+1e-6)%1<2e-6&&((tr-Qt._forceTick0)/re%1+1.000001)%1<2e-6?(Qt._minDtick=re,Qt._forceTick0=tr):((re/Qt._minDtick+1e-6)%1>2e-6||((tr-Qt._forceTick0)/Qt._minDtick%1+1.000001)%1>2e-6)&&(Qt._minDtick=0))},tt.saveRangeInitial=function(Qt,re){for(var tr=tt.list(Qt,"",!0),er=!1,Ye=0;Ye<tr.length;Ye++){var Pe=tr[Ye],Ze=Pe._rangeInitial0===void 0&&Pe._rangeInitial1===void 0,nr=Ze||Pe.range[0]!==Pe._rangeInitial0||Pe.range[1]!==Pe._rangeInitial1,Qe=Pe.autorange;(Ze&&Qe!==!0||re&&nr)&&(Pe._rangeInitial0=Qe==="min"||Qe==="max reversed"?void 0:Pe.range[0],Pe._rangeInitial1=Qe==="max"||Qe==="min reversed"?void 0:Pe.range[1],Pe._autorangeInitial=Qe,er=!0)}return er},tt.saveShowSpikeInitial=function(Qt,re){for(var tr=tt.list(Qt,"",!0),er=!1,Ye="on",Pe=0;Pe<tr.length;Pe++){var Ze=tr[Pe],nr=Ze._showSpikeInitial===void 0,Qe=nr||Ze.showspikes!==Ze._showspikes;(nr||re&&Qe)&&(Ze._showSpikeInitial=Ze.showspikes,er=!0),Ye==="on"&&!Ze.showspikes&&(Ye="off")}return Qt._fullLayout._cartesianSpikesEnabled=Ye,er},tt.autoBin=function(Qt,re,tr,er,Ye,Pe){var Ze=M.aggNums(Math.min,null,Qt),nr=M.aggNums(Math.max,null,Qt);if(re.type==="category"||re.type==="multicategory")return{start:Ze-.5,end:nr+.5,size:Math.max(1,Math.round(Pe)||1),_dataSpan:nr-Ze};Ye||(Ye=re.calendar);var Qe;if(re.type==="log"?Qe={type:"linear",range:[Ze,nr]}:Qe={type:re.type,range:M.simpleMap([Ze,nr],re.c2r,0,Ye),calendar:Ye},tt.setConvert(Qe),Pe=Pe&&u.dtick(Pe,Qe.type),Pe)Qe.dtick=Pe,Qe.tick0=u.tick0(void 0,Qe.type,Ye);else{var We;if(tr)We=(nr-Ze)/tr;else{var yr=M.distinctVals(Qt),Rr=Math.pow(10,Math.floor(Math.log(yr.minDiff)/Math.LN10)),Tr=Rr*M.roundUp(yr.minDiff/Rr,[.9,1.9,4.9,9.9],!0);We=Math.max(Tr,2*M.stdev(Qt)/Math.pow(Qt.length,er?.25:.4)),D(We)||(We=1)}tt.autoTicks(Qe,We)}var vn=Qe.dtick,Or=tt.tickIncrement(tt.tickFirst(Qe),vn,"reverse",Ye),En,nn;if(typeof vn=="number")Or=bt(Or,Qt,Qe,Ze,nr),nn=1+Math.floor((nr-Or)/vn),En=Or+nn*vn;else for(Qe.dtick.charAt(0)==="M"&&(Or=Pt(Or,Qt,vn,Ze,Ye)),En=Or,nn=0;En<=nr;)En=tt.tickIncrement(En,vn,!1,Ye),nn++;return{start:re.c2r(Or,0,Ye),end:re.c2r(En,0,Ye),size:vn,_dataSpan:nr-Ze}};function bt(Qt,re,tr,er,Ye){var Pe=0,Ze=0,nr=0,Qe=0;function We(vn){return(1+(vn-Qt)*100/tr.dtick)%100<2}for(var yr=0;yr<re.length;yr++)re[yr]%1===0?nr++:D(re[yr])||Qe++,We(re[yr])&&Pe++,We(re[yr]+tr.dtick/2)&&Ze++;var Rr=re.length-Qe;if(nr===Rr&&tr.type!=="date")tr.dtick<1?Qt=er-.5*tr.dtick:(Qt-=.5,Qt+tr.dtick<er&&(Qt+=tr.dtick));else if(Ze<Rr*.1&&(Pe>Rr*.3||We(er)||We(Ye))){var Tr=tr.dtick/2;Qt+=Qt+Tr<er?Tr:-Tr}return Qt}function Pt(Qt,re,tr,er,Ye){var Pe=M.findExactDates(re,Ye),Ze=.8;if(Pe.exactDays>Ze){var nr=Number(tr.substr(1));Pe.exactYears>Ze&&nr%12===0?Qt=tt.tickIncrement(Qt,"M6","reverse")+x*1.5:Pe.exactMonths>Ze?Qt=tt.tickIncrement(Qt,"M1","reverse")+x*15.5:Qt-=E;var Qe=tt.tickIncrement(Qt,tr);if(Qe<=er)return Qe}return Qt}tt.prepMinorTicks=function(Qt,re,tr){if(!re.minor.dtick){delete Qt.dtick;var er=re.dtick&&D(re._tmin),Ye;if(er){var Pe=tt.tickIncrement(re._tmin,re.dtick,!0);Ye=[re._tmin,Pe*.99+re._tmin*.01]}else{var Ze=M.simpleMap(re.range,re.r2l);Ye=[Ze[0],.8*Ze[0]+.2*Ze[1]]}if(Qt.range=M.simpleMap(Ye,re.l2r),Qt._isMinor=!0,tt.prepTicks(Qt,tr),er){var nr=D(re.dtick),Qe=D(Qt.dtick),We=nr?re.dtick:+re.dtick.substring(1),yr=Qe?Qt.dtick:+Qt.dtick.substring(1);nr&&Qe?_t(We,yr)?We===2*L&&yr===2*x&&(Qt.dtick=L):We===2*L&&yr===3*x?Qt.dtick=L:We===L&&!(re._input.minor||{}).nticks?Qt.dtick=x:Ut(We/yr,2.5)?Qt.dtick=We/2:Qt.dtick=We:String(re.dtick).charAt(0)==="M"?Qe?Qt.dtick="M1":_t(We,yr)?We>=12&&yr===2&&(Qt.dtick="M3"):Qt.dtick=re.dtick:String(Qt.dtick).charAt(0)==="L"?String(re.dtick).charAt(0)==="L"?_t(We,yr)||(Qt.dtick=Ut(We/yr,2.5)?re.dtick/2:re.dtick):Qt.dtick="D1":Qt.dtick==="D2"&&+re.dtick>1&&(Qt.dtick=1)}Qt.range=re.range}re.minor._tick0Init===void 0&&(Qt.tick0=re.tick0)};function _t(Qt,re){return Math.abs((Qt/re+.5)%1-.5)<.001}function Ut(Qt,re){return Math.abs(Qt/re-1)<.001}tt.prepTicks=function(Qt,re){var tr=M.simpleMap(Qt.range,Qt.r2l,void 0,void 0,re);if(Qt.tickmode==="auto"||!Qt.dtick){var er=Qt.nticks,Ye;er||(Qt.type==="category"||Qt.type==="multicategory"?(Ye=Qt.tickfont?M.bigFont(Qt.tickfont.size||12):15,er=Qt._length/Ye):(Ye=Qt._id.charAt(0)==="y"?40:80,er=M.constrain(Qt._length/Ye,4,9)+1),Qt._name==="radialaxis"&&(er*=2)),Qt.minor&&Qt.minor.tickmode!=="array"||Qt.tickmode==="array"&&(er*=100),Qt._roughDTick=Math.abs(tr[1]-tr[0])/er,tt.autoTicks(Qt,Qt._roughDTick),Qt._minDtick>0&&Qt.dtick<Qt._minDtick*2&&(Qt.dtick=Qt._minDtick,Qt.tick0=Qt.l2r(Qt._forceTick0))}Qt.ticklabelmode==="period"&&Rt(Qt),Qt.tick0||(Qt.tick0=Qt.type==="date"?"2000-01-01":0),Qt.type==="date"&&Qt.dtick<.1&&(Qt.dtick=.1),Me(Qt)};function St(Qt){return+Qt.substring(1)}function Rt(Qt){var re;function tr(){return!(D(Qt.dtick)||Qt.dtick.charAt(0)!=="M")}var er=tr(),Ye=tt.getTickFormat(Qt);if(Ye){var Pe=Qt._dtickInit!==Qt.dtick;/%[fLQsSMX]/.test(Ye)||(/%[HI]/.test(Ye)?(re=S,Pe&&!er&&Qt.dtick<S&&(Qt.dtick=S)):/%p/.test(Ye)?(re=E,Pe&&!er&&Qt.dtick<E&&(Qt.dtick=E)):/%[Aadejuwx]/.test(Ye)?(re=x,Pe&&!er&&Qt.dtick<x&&(Qt.dtick=x)):/%[UVW]/.test(Ye)?(re=L,Pe&&!er&&Qt.dtick<L&&(Qt.dtick=L)):/%[Bbm]/.test(Ye)?(re=w,Pe&&(er?St(Qt.dtick)<1:Qt.dtick<A)&&(Qt.dtick="M1")):/%[q]/.test(Ye)?(re=h,Pe&&(er?St(Qt.dtick)<3:Qt.dtick<i)&&(Qt.dtick="M3")):/%[Yy]/.test(Ye)&&(re=m,Pe&&(er?St(Qt.dtick)<12:Qt.dtick<v)&&(Qt.dtick="M12")))}er=tr(),er&&Qt.tick0===Qt._dowTick0&&(Qt.tick0=Qt._rawTick0),Qt._definedDelta=re}function Et(Qt,re,tr){for(var er=0;er<Qt.length;er++){var Ye=Qt[er].value,Pe=er,Ze=er+1;er<Qt.length-1?(Pe=er,Ze=er+1):er>0?(Pe=er-1,Ze=er):(Pe=er,Ze=er);var nr=Qt[Pe].value,Qe=Qt[Ze].value,We=Math.abs(Qe-nr),yr=tr||We,Rr=0;yr>=v?We>=v&&We<=c?Rr=We:Rr=m:tr===h&&yr>=i?We>=i&&We<=T?Rr=We:Rr=h:yr>=A?We>=A&&We<=p?Rr=We:Rr=w:tr===L&&yr>=L?Rr=L:yr>=x?Rr=x:tr===E&&yr>=E?Rr=E:tr===S&&yr>=S&&(Rr=S);var Tr;Rr>=We&&(Rr=We,Tr=!0);var vn=Ye+Rr;if(re.rangebreaks&&Rr>0){for(var Or=84,En=0,nn=0;nn<Or;nn++){var gr=(nn+.5)/Or;re.maskBreaks(Ye*(1-gr)+gr*vn)!==U&&En++}Rr*=En/Or,Rr||(Qt[er].drop=!0),Tr&&We>L&&(Rr=We)}(Rr>0||er===0)&&(Qt[er].periodX=Ye+Rr/2)}}tt.calcTicks=function(re,tr){for(var er=re.type,Ye=re.calendar,Pe=re.ticklabelstep,Ze=re.ticklabelmode==="period",nr=re.range[0]>re.range[1],Qe=!re.ticklabelindex||M.isArrayOrTypedArray(re.ticklabelindex)?re.ticklabelindex:[re.ticklabelindex],We=M.simpleMap(re.range,re.r2l,void 0,void 0,tr),yr=We[1]<We[0],Rr=Math.min(We[0],We[1]),Tr=Math.max(We[0],We[1]),vn=Math.max(1e3,re._length||0),Or=[],En=[],nn=[],gr=[],Pr=[],jr=re.minor&&(re.minor.ticks||re.minor.showgrid),_r=1;_r>=(jr?0:1);_r--){var pn=!_r;_r?(re._dtickInit=re.dtick,re._tick0Init=re.tick0):(re.minor._dtickInit=re.minor.dtick,re.minor._tick0Init=re.minor.tick0);var en=_r?re:M.extendFlat({},re,re.minor);if(pn?tt.prepMinorTicks(en,re,tr):tt.prepTicks(en,tr),en.tickmode==="array"){_r?(nn=[],Or=Wt(re,!pn)):(gr=[],En=Wt(re,!pn));continue}if(en.tickmode==="sync"){nn=[],Or=Ct(re);continue}var Tn=nt(We),Pn=Tn[0],Gn=Tn[1],gi=D(en.dtick),bi=er==="log"&&!(gi||en.dtick.charAt(0)==="L"),oi=tt.tickFirst(en,tr);if(_r){if(re._tmin=oi,oi<Pn!==yr)break;(er==="category"||er==="multicategory")&&(Gn=yr?Math.max(-.5,Gn):Math.min(re._categories.length-.5,Gn))}var ni=null,Dn=oi,Cr;if(_r){var an;gi?an=re.dtick:er==="date"?typeof re.dtick=="string"&&re.dtick.charAt(0)==="M"&&(an=w*re.dtick.substring(1)):an=re._roughDTick,Cr=Math.round((re.r2l(Dn)-re.r2l(re.tick0))/an)-1}var on=en.dtick;for(en.rangebreaks&&en._tick0Init!==en.tick0&&(Dn=hr(Dn,re),yr||(Dn=tt.tickIncrement(Dn,on,!yr,Ye))),_r&&Ze&&(Dn=tt.tickIncrement(Dn,on,!yr,Ye),Cr--);yr?Dn>=Gn:Dn<=Gn;Dn=tt.tickIncrement(Dn,on,yr,Ye)){if(_r&&Cr++,en.rangebreaks&&!yr){if(Dn<Pn)continue;if(en.maskBreaks(Dn)===U&&hr(Dn,en)>=Tr)break}if(nn.length>vn||Dn===ni)break;ni=Dn;var ln={value:Dn};_r?(bi&&Dn!==(Dn|0)&&(ln.simpleLabel=!0),Pe>1&&Cr%Pe&&(ln.skipLabel=!0),nn.push(ln)):(ln.minor=!0,gr.push(ln))}}if(!gr||gr.length<2)Qe=!1;else{var Bn=(gr[1].value-gr[0].value)*(nr?-1:1);xr(Bn,re.tickformat)||(Qe=!1)}if(!Qe)Pr=nn;else{var gn=nn.concat(gr);Ze&&nn.length&&(gn=gn.slice(1)),gn=gn.sort(function(Un,zn){return Un.value-zn.value}).filter(function(Un,zn,Yn){return zn===0||Un.value!==Yn[zn-1].value});var Cn=gn.map(function(Un,zn){return Un.minor===void 0&&!Un.skipLabel?zn:null}).filter(function(Un){return Un!==null});Cn.forEach(function(Un){Qe.map(function(zn){var Yn=Un+zn;Yn>=0&&Yn<gn.length&&M.pushUnique(Pr,gn[Yn])})})}if(jr){var Nn=re.minor.ticks==="inside"&&re.ticks==="outside"||re.minor.ticks==="outside"&&re.ticks==="inside";if(!Nn){for(var $n=nn.map(function(Un){return Un.value}),vi=[],Di=0;Di<gr.length;Di++){var Ar=gr[Di],Br=Ar.value;if($n.indexOf(Br)===-1){for(var Sr=!1,Nr=0;!Sr&&Nr<nn.length;Nr++)1e7+nn[Nr].value===1e7+Br&&(Sr=!0);Sr||vi.push(Ar)}}gr=vi}}Ze&&Et(Pr,re,re._definedDelta);var un;if(re.rangebreaks){var Rn=re._id.charAt(0)==="y",mn=1;re.tickmode==="auto"&&(mn=re.tickfont?re.tickfont.size:12);var cn=NaN;for(un=nn.length-1;un>-1;un--){if(nn[un].drop){nn.splice(un,1);continue}nn[un].value=hr(nn[un].value,re);var Er=re.c2p(nn[un].value);(Rn?cn>Er-mn:cn<Er+mn)?nn.splice(yr?un+1:un,1):cn=Er}}Je(re)&&Math.abs(We[1]-We[0])===360&&nn.pop(),re._tmax=(nn[nn.length-1]||{}).value,re._prevDateHead="",re._inCalcTicks=!0;var Yr,Gr=function(Un){Un.text="",re._prevDateHead=Yr};nn=nn.concat(gr);function $r(Un,zn){var Yn=tt.tickText(Un,zn.value,!1,zn.simpleLabel),Zn=zn.periodX;return Zn!==void 0&&(Yn.periodX=Zn,(Zn>Tr||Zn<Rr)&&(Zn>Tr&&(Yn.periodX=Tr),Zn<Rr&&(Yn.periodX=Rr),Gr(Yn))),Yn}var wn;for(un=0;un<nn.length;un++){var An=nn[un].minor,On=nn[un].value;An?(Qe&&Pr.indexOf(nn[un])!==-1?wn=$r(re,nn[un]):wn={x:On},wn.minor=!0,En.push(wn)):(Yr=re._prevDateHead,wn=$r(re,nn[un]),(nn[un].skipLabel||Qe&&Pr.indexOf(nn[un])===-1)&&Gr(wn),Or.push(wn))}return Or=Or.concat(En),re._inCalcTicks=!1,Ze&&Or.length&&(Or[0].noTick=!0),Or};function zt(Qt,re){return Qt.rangebreaks&&(re=re.filter(function(tr){return Qt.maskBreaks(tr.x)!==U})),re}function Ct(Qt){var re=Qt._mainAxis,tr=[];if(re._vals){for(var er=0;er<re._vals.length;er++)if(!re._vals[er].noTick){var Ye=re.l2p(re._vals[er].x),Pe=Qt.p2l(Ye),Ze=tt.tickText(Qt,Pe);re._vals[er].minor&&(Ze.minor=!0,Ze.text=""),tr.push(Ze)}}return tr=zt(Qt,tr),tr}function Wt(Qt,re){var tr=M.simpleMap(Qt.range,Qt.r2l),er=nt(tr),Ye=Math.min(er[0],er[1]),Pe=Math.max(er[0],er[1]),Ze=Qt.type==="category"?Qt.d2l_noadd:Qt.d2l;Qt.type==="log"&&String(Qt.dtick).charAt(0)!=="L"&&(Qt.dtick="L"+Math.pow(10,Math.floor(Math.min(Qt.range[0],Qt.range[1]))-1));for(var nr=[],Qe=0;Qe<=1;Qe++)if(!(re!==void 0&&(re&&Qe||re===!1&&!Qe))&&!(Qe&&!Qt.minor)){var We=Qe?Qt.minor.tickvals:Qt.tickvals,yr=Qe?[]:Qt.ticktext;if(We){M.isArrayOrTypedArray(yr)||(yr=[]);for(var Rr=0;Rr<We.length;Rr++){var Tr=Ze(We[Rr]);if(Tr>Ye&&Tr<Pe){var vn=tt.tickText(Qt,Tr,!1,String(yr[Rr]));Qe&&(vn.minor=!0,vn.text=""),nr.push(vn)}}}}return nr=zt(Qt,nr),nr}var Kt=[2,5,10],oe=[1,2,3,6,12],Jt=[1,2,5,10,15,30],te=[1,2,3,7,14],fe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ve=[-.301,0,.301,.699,1],de=[15,30,45,90,180];function xe(Qt,re,tr){return re*M.roundUp(Qt/re,tr)}tt.autoTicks=function(Qt,re,tr){var er;function Ye(Rr){return Math.pow(Rr,Math.floor(Math.log(re)/Math.LN10))}if(Qt.type==="date"){Qt.tick0=M.dateTick0(Qt.calendar,0);var Pe=2*re;if(Pe>m)re/=m,er=Ye(10),Qt.dtick="M"+12*xe(re,er,Kt);else if(Pe>w)re/=w,Qt.dtick="M"+xe(re,1,oe);else if(Pe>x){if(Qt.dtick=xe(re,x,Qt._hasDayOfWeekBreaks?[1,2,7,14]:te),!tr){var Ze=tt.getTickFormat(Qt),nr=Qt.ticklabelmode==="period";nr&&(Qt._rawTick0=Qt.tick0),/%[uVW]/.test(Ze)?Qt.tick0=M.dateTick0(Qt.calendar,2):Qt.tick0=M.dateTick0(Qt.calendar,1),nr&&(Qt._dowTick0=Qt.tick0)}}else Pe>S?Qt.dtick=xe(re,S,oe):Pe>a?Qt.dtick=xe(re,a,Jt):Pe>C?Qt.dtick=xe(re,C,Jt):(er=Ye(10),Qt.dtick=xe(re,er,Kt))}else if(Qt.type==="log"){Qt.tick0=0;var Qe=M.simpleMap(Qt.range,Qt.r2l);if(Qt._isMinor&&(re*=1.5),re>.7)Qt.dtick=Math.ceil(re);else if(Math.abs(Qe[1]-Qe[0])<1){var We=1.5*Math.abs((Qe[1]-Qe[0])/re);re=Math.abs(Math.pow(10,Qe[1])-Math.pow(10,Qe[0]))/We,er=Ye(10),Qt.dtick="L"+xe(re,er,Kt)}else Qt.dtick=re>.3?"D2":"D1"}else Qt.type==="category"||Qt.type==="multicategory"?(Qt.tick0=0,Qt.dtick=Math.ceil(Math.max(re,1))):Je(Qt)?(Qt.tick0=0,er=1,Qt.dtick=xe(re,er,de)):(Qt.tick0=0,er=Ye(10),Qt.dtick=xe(re,er,Kt));if(Qt.dtick===0&&(Qt.dtick=1),!D(Qt.dtick)&&typeof Qt.dtick!="string"){var yr=Qt.dtick;throw Qt.dtick=1,"ax.dtick error: "+String(yr)}};function Me(Qt){var re=Qt.dtick;if(Qt._tickexponent=0,!D(re)&&typeof re!="string"&&(re=1),(Qt.type==="category"||Qt.type==="multicategory")&&(Qt._tickround=null),Qt.type==="date"){var tr=Qt.r2l(Qt.tick0),er=Qt.l2r(tr).replace(/(^-|i)/g,""),Ye=er.length;if(String(re).charAt(0)==="M")Ye>10||er.substr(5)!=="01-01"?Qt._tickround="d":Qt._tickround=+re.substr(1)%12===0?"y":"m";else if(re>=x&&Ye<=10||re>=x*15)Qt._tickround="d";else if(re>=a&&Ye<=16||re>=S)Qt._tickround="M";else if(re>=C&&Ye<=19||re>=a)Qt._tickround="S";else{var Pe=Qt.l2r(tr+re).replace(/^-/,"").length;Qt._tickround=Math.max(Ye,Pe)-20,Qt._tickround<0&&(Qt._tickround=4)}}else if(D(re)||re.charAt(0)==="L"){var Ze=Qt.range.map(Qt.r2d||Number);D(re)||(re=Number(re.substr(1))),Qt._tickround=2-Math.floor(Math.log(re)/Math.LN10+.01);var nr=Math.max(Math.abs(Ze[0]),Math.abs(Ze[1])),Qe=Math.floor(Math.log(nr)/Math.LN10+.01),We=Qt.minexponent===void 0?3:Qt.minexponent;Math.abs(Qe)>We&&(dt(Qt.exponentformat)&&!xt(Qe)?Qt._tickexponent=3*Math.round((Qe-1)/3):Qt._tickexponent=Qe)}else Qt._tickround=null}tt.tickIncrement=function(Qt,re,tr,er){var Ye=tr?-1:1;if(D(re))return M.increment(Qt,Ye*re);var Pe=re.charAt(0),Ze=Ye*Number(re.substr(1));if(Pe==="M")return M.incrementMonth(Qt,Ze,er);if(Pe==="L")return Math.log(Math.pow(10,Qt)+Ze)/Math.LN10;if(Pe==="D"){var nr=re==="D2"?ve:fe,Qe=Qt+Ye*.01,We=M.roundUp(M.mod(Qe,1),nr,tr);return Math.floor(Qe)+Math.log(y.round(Math.pow(10,We),1))/Math.LN10}throw"unrecognized dtick "+String(re)},tt.tickFirst=function(Qt,re){var tr=Qt.r2l||Number,er=M.simpleMap(Qt.range,tr,void 0,void 0,re),Ye=er[1]<er[0],Pe=Ye?Math.floor:Math.ceil,Ze=nt(er)[0],nr=Qt.dtick,Qe=tr(Qt.tick0);if(D(nr)){var We=Pe((Ze-Qe)/nr)*nr+Qe;return(Qt.type==="category"||Qt.type==="multicategory")&&(We=M.constrain(We,0,Qt._categories.length-1)),We}var yr=nr.charAt(0),Rr=Number(nr.substr(1));if(yr==="M"){for(var Tr=0,vn=Qe,Or,En,nn;Tr<10;){if(Or=tt.tickIncrement(vn,nr,Ye,Qt.calendar),(Or-Ze)*(vn-Ze)<=0)return Ye?Math.min(vn,Or):Math.max(vn,Or);En=(Ze-(vn+Or)/2)/(Or-vn),nn=yr+(Math.abs(Math.round(En))||1)*Rr,vn=tt.tickIncrement(vn,nn,En<0?!Ye:Ye,Qt.calendar),Tr++}return M.error("tickFirst did not converge",Qt),vn}else{if(yr==="L")return Math.log(Pe((Math.pow(10,Ze)-Qe)/Rr)*Rr+Qe)/Math.LN10;if(yr==="D"){var gr=nr==="D2"?ve:fe,Pr=M.roundUp(M.mod(Ze,1),gr,Ye);return Math.floor(Ze)+Math.log(y.round(Math.pow(10,Pr),1))/Math.LN10}else throw"unrecognized dtick "+String(nr)}},tt.tickText=function(Qt,re,tr,er){var Ye=ne(Qt,re),Pe=Qt.tickmode==="array",Ze=tr||Pe,nr=Qt.type,Qe=nr==="category"?Qt.d2l_noadd:Qt.d2l,We,yr=function(nn){var gr=Qt.l2p(nn);return gr>=0&&gr<=Qt._length?nn:null};if(Pe&&M.isArrayOrTypedArray(Qt.ticktext)){var Rr=M.simpleMap(Qt.range,Qt.r2l),Tr=(Math.abs(Rr[1]-Rr[0])-(Qt._lBreaks||0))/1e4;for(We=0;We<Qt.ticktext.length&&!(Math.abs(re-Qe(Qt.tickvals[We]))<Tr);We++);if(We<Qt.ticktext.length)return Ye.text=String(Qt.ticktext[We]),Ye.xbnd=[yr(Ye.x-.5),yr(Ye.x+Qt.dtick-.5)],Ye}function vn(nn){if(nn===void 0)return!0;if(tr)return nn==="none";var gr={first:Qt._tmin,last:Qt._tmax}[nn];return nn!=="all"&&re!==gr}var Or=tr?"never":Qt.exponentformat!=="none"&&vn(Qt.showexponent)?"hide":"";if(nr==="date"?kt(Qt,Ye,tr,Ze):nr==="log"?Gt(Qt,Ye,tr,Ze,Or):nr==="category"?Yt(Qt,Ye):nr==="multicategory"?Zt(Qt,Ye,tr):Je(Qt)?Nt(Qt,Ye,tr,Ze,Or):It(Qt,Ye,tr,Ze,Or),er||(Qt.tickprefix&&!vn(Qt.showtickprefix)&&(Ye.text=Qt.tickprefix+Ye.text),Qt.ticksuffix&&!vn(Qt.showticksuffix)&&(Ye.text+=Qt.ticksuffix)),Qt.labelalias&&Qt.labelalias.hasOwnProperty(Ye.text)){var En=Qt.labelalias[Ye.text];typeof En=="string"&&(Ye.text=En)}return(Qt.tickson==="boundaries"||Qt.showdividers)&&(Ye.xbnd=[yr(Ye.x-.5),yr(Ye.x+Qt.dtick-.5)]),Ye},tt.hoverLabelText=function(Qt,re,tr){tr&&(Qt=M.extendFlat({},Qt,{hoverformat:tr}));var er=M.isArrayOrTypedArray(re)?re[0]:re,Ye=M.isArrayOrTypedArray(re)?re[1]:void 0;if(Ye!==void 0&&Ye!==er)return tt.hoverLabelText(Qt,er,tr)+" - "+tt.hoverLabelText(Qt,Ye,tr);var Pe=Qt.type==="log"&&er<=0,Ze=tt.tickText(Qt,Qt.c2l(Pe?-er:er),"hover").text;return Pe?er===0?"0":k+Ze:Ze};function ne(Qt,re,tr){var er=Qt.tickfont||{};return{x:re,dx:0,dy:0,text:tr||"",fontSize:er.size,font:er.family,fontWeight:er.weight,fontStyle:er.style,fontVariant:er.variant,fontTextcase:er.textcase,fontLineposition:er.lineposition,fontShadow:er.shadow,fontColor:er.color}}function kt(Qt,re,tr,er){var Ye=Qt._tickround,Pe=tr&&Qt.hoverformat||tt.getTickFormat(Qt);er=!Pe&&er,er&&(D(Ye)?Ye=4:Ye={y:"m",m:"d",d:"M",M:"S",S:4}[Ye]);var Ze=M.formatDate(re.x,Pe,Ye,Qt._dateFormat,Qt.calendar,Qt._extraFormat),nr,Qe=Ze.indexOf(`
`);if(Qe!==-1&&(nr=Ze.substr(Qe+1),Ze=Ze.substr(0,Qe)),er&&(nr!==void 0&&(Ze==="00:00:00"||Ze==="00:00")?(Ze=nr,nr=""):Ze.length===8&&(Ze=Ze.replace(/:00$/,""))),nr)if(tr)Ye==="d"?Ze+=", "+nr:Ze=nr+(Ze?", "+Ze:"");else if(!Qt._inCalcTicks||Qt._prevDateHead!==nr)Qt._prevDateHead=nr,Ze+="<br>"+nr;else{var We=cr(Qt),yr=Qt._trueSide||Qt.side;(!We&&yr==="top"||We&&yr==="bottom")&&(Ze+="<br> ")}re.text=Ze}function Gt(Qt,re,tr,er,Ye){var Pe=Qt.dtick,Ze=re.x,nr=Qt.tickformat,Qe=typeof Pe=="string"&&Pe.charAt(0);if(Ye==="never"&&(Ye=""),er&&Qe!=="L"&&(Pe="L3",Qe="L"),nr||Qe==="L")re.text=Ot(Math.pow(10,Ze),Qt,Ye,er);else if(D(Pe)||Qe==="D"&&M.mod(Ze+.01,1)<.1){var We=Math.round(Ze),yr=Math.abs(We),Rr=Qt.exponentformat;Rr==="power"||dt(Rr)&&xt(We)?(We===0?re.text=1:We===1?re.text="10":re.text="10<sup>"+(We>1?"":k)+yr+"</sup>",re.fontSize*=1.25):(Rr==="e"||Rr==="E")&&yr>2?re.text="1"+Rr+(We>0?"+":k)+yr:(re.text=Ot(Math.pow(10,Ze),Qt,"","fakehover"),Pe==="D1"&&Qt._id.charAt(0)==="y"&&(re.dy-=re.fontSize/6))}else if(Qe==="D")re.text=String(Math.round(Math.pow(10,M.mod(Ze,1)))),re.fontSize*=.75;else throw"unrecognized dtick "+String(Pe);if(Qt.dtick==="D1"){var Tr=String(re.text).charAt(0);(Tr==="0"||Tr==="1")&&(Qt._id.charAt(0)==="y"?re.dx-=re.fontSize/4:(re.dy+=re.fontSize/2,re.dx+=(Qt.range[1]>Qt.range[0]?1:-1)*re.fontSize*(Ze<0?.5:.25)))}}function Yt(Qt,re){var tr=Qt._categories[Math.round(re.x)];tr===void 0&&(tr=""),re.text=String(tr)}function Zt(Qt,re,tr){var er=Math.round(re.x),Ye=Qt._categories[er]||[],Pe=Ye[1]===void 0?"":String(Ye[1]),Ze=Ye[0]===void 0?"":String(Ye[0]);tr?re.text=Ze+" - "+Pe:(re.text=Pe,re.text2=Ze)}function It(Qt,re,tr,er,Ye){Ye==="never"?Ye="":Qt.showexponent==="all"&&Math.abs(re.x/Qt.dtick)<1e-6&&(Ye="hide"),re.text=Ot(re.x,Qt,Ye,er)}function Nt(Qt,re,tr,er,Ye){if(Qt.thetaunit==="radians"&&!tr){var Pe=re.x/180;if(Pe===0)re.text="0";else{var Ze=Ht(Pe);if(Ze[1]>=100)re.text=Ot(M.deg2rad(re.x),Qt,Ye,er);else{var nr=re.x<0;Ze[1]===1?Ze[0]===1?re.text="":re.text=Ze[0]+"":re.text=["<sup>",Ze[0],"</sup>","","<sub>",Ze[1],"</sub>",""].join(""),nr&&(re.text=k+re.text)}}}else re.text=Ot(re.x,Qt,Ye,er)}function Ht(Qt){function re(nr,Qe){return Math.abs(nr-Qe)<=1e-6}function tr(nr,Qe){return re(Qe,0)?nr:tr(Qe,nr%Qe)}function er(nr){for(var Qe=1;!re(Math.round(nr*Qe)/Qe,nr);)Qe*=10;return Qe}var Ye=er(Qt),Pe=Qt*Ye,Ze=Math.abs(tr(Pe,Ye));return[Math.round(Pe/Ze),Math.round(Ye/Ze)]}var Lt=["f","p","n","","m","","k","M","G","T"];function dt(Qt){return Qt==="SI"||Qt==="B"}function xt(Qt){return Qt>14||Qt<-15}function Ot(Qt,re,tr,er){var Ye=Qt<0,Pe=re._tickround,Ze=tr||re.exponentformat||"B",nr=re._tickexponent,Qe=tt.getTickFormat(re),We=re.separatethousands;if(er){var yr={exponentformat:Ze,minexponent:re.minexponent,dtick:re.showexponent==="none"?re.dtick:D(Qt)&&Math.abs(Qt)||1,range:re.showexponent==="none"?re.range.map(re.r2d):[0,Qt||1]};Me(yr),Pe=(Number(yr._tickround)||0)+4,nr=yr._tickexponent,re.hoverformat&&(Qe=re.hoverformat)}if(Qe)return re._numFormat(Qe)(Qt).replace(/-/g,k);var Rr=Math.pow(10,-Pe)/2;if(Ze==="none"&&(nr=0),Qt=Math.abs(Qt),Qt<Rr)Qt="0",Ye=!1;else{if(Qt+=Rr,nr&&(Qt*=Math.pow(10,-nr),Pe+=nr),Pe===0)Qt=String(Math.floor(Qt));else if(Pe<0){Qt=String(Math.round(Qt)),Qt=Qt.substr(0,Qt.length+Pe);for(var Tr=Pe;Tr<0;Tr++)Qt+="0"}else{Qt=String(Qt);var vn=Qt.indexOf(".")+1;vn&&(Qt=Qt.substr(0,vn+Pe).replace(/\.?0+$/,""))}Qt=M.numSeparate(Qt,re._separators,We)}if(nr&&Ze!=="hide"){dt(Ze)&&xt(nr)&&(Ze="power");var Or;nr<0?Or=k+-nr:Ze!=="power"?Or="+"+nr:Or=String(nr),Ze==="e"||Ze==="E"?Qt+=Ze+Or:Ze==="power"?Qt+="10<sup>"+Or+"</sup>":Ze==="B"&&nr===9?Qt+="B":dt(Ze)&&(Qt+=Lt[nr/3+5])}return Ye?k+Qt:Qt}tt.getTickFormat=function(Qt){var re;function tr(Qe){return typeof Qe!="string"?Qe:Number(Qe.replace("M",""))*w}function er(Qe,We){var yr=["L","D"];if(typeof Qe==typeof We){if(typeof Qe=="number")return Qe-We;var Rr=yr.indexOf(Qe.charAt(0)),Tr=yr.indexOf(We.charAt(0));return Rr===Tr?Number(Qe.replace(/(L|D)/g,""))-Number(We.replace(/(L|D)/g,"")):Rr-Tr}else return typeof Qe=="number"?1:-1}function Ye(Qe,We,yr){var Rr=yr||function(Or){return Or},Tr=We[0],vn=We[1];return(!Tr&&typeof Tr!="number"||Rr(Tr)<=Rr(Qe))&&(!vn&&typeof vn!="number"||Rr(vn)>=Rr(Qe))}function Pe(Qe,We){var yr=We[0]===null,Rr=We[1]===null,Tr=er(Qe,We[0])>=0,vn=er(Qe,We[1])<=0;return(yr||Tr)&&(Rr||vn)}var Ze,nr;if(Qt.tickformatstops&&Qt.tickformatstops.length>0)switch(Qt.type){case"date":case"linear":{for(re=0;re<Qt.tickformatstops.length;re++)if(nr=Qt.tickformatstops[re],nr.enabled&&Ye(Qt.dtick,nr.dtickrange,tr)){Ze=nr;break}break}case"log":{for(re=0;re<Qt.tickformatstops.length;re++)if(nr=Qt.tickformatstops[re],nr.enabled&&Pe(Qt.dtick,nr.dtickrange)){Ze=nr;break}break}}return Ze?Ze.value:Qt.tickformat},tt.getSubplots=function(Qt,re){var tr=Qt._fullLayout._subplots,er=tr.cartesian.concat(tr.gl2d||[]),Ye=re?tt.findSubplotsWithAxis(er,re):er;return Ye.sort(function(Pe,Ze){var nr=Pe.substr(1).split("y"),Qe=Ze.substr(1).split("y");return nr[0]===Qe[0]?+nr[1]-+Qe[1]:+nr[0]-+Qe[0]}),Ye},tt.findSubplotsWithAxis=function(Qt,re){for(var tr=new RegExp(re._id.charAt(0)==="x"?"^"+re._id+"y":re._id+"$"),er=[],Ye=0;Ye<Qt.length;Ye++){var Pe=Qt[Ye];tr.test(Pe)&&er.push(Pe)}return er},tt.makeClipPaths=function(Qt){var re=Qt._fullLayout;if(!re._hasOnlyLargeSploms){var tr={_offset:0,_length:re.width,_id:""},er={_offset:0,_length:re.height,_id:""},Ye=tt.list(Qt,"x",!0),Pe=tt.list(Qt,"y",!0),Ze=[],nr,Qe;for(nr=0;nr<Ye.length;nr++)for(Ze.push({x:Ye[nr],y:er}),Qe=0;Qe<Pe.length;Qe++)nr===0&&Ze.push({x:tr,y:Pe[Qe]}),Ze.push({x:Ye[nr],y:Pe[Qe]});var We=re._clips.selectAll(".axesclip").data(Ze,function(yr){return yr.x._id+yr.y._id});We.enter().append("clipPath").classed("axesclip",!0).attr("id",function(yr){return"clip"+re._uid+yr.x._id+yr.y._id}).append("rect"),We.exit().remove(),We.each(function(yr){y.select(this).select("rect").attr({x:yr.x._offset||0,y:yr.y._offset||0,width:yr.x._length||1,height:yr.y._length||1})})}},tt.draw=function(Qt,re,tr){var er=Qt._fullLayout;re==="redraw"&&er._paper.selectAll("g.subplot").each(function(Qe){var We=Qe[0],yr=er._plots[We];if(yr){var Rr=yr.xaxis,Tr=yr.yaxis;yr.xaxislayer.selectAll("."+Rr._id+"tick").remove(),yr.yaxislayer.selectAll("."+Tr._id+"tick").remove(),yr.xaxislayer.selectAll("."+Rr._id+"tick2").remove(),yr.yaxislayer.selectAll("."+Tr._id+"tick2").remove(),yr.xaxislayer.selectAll("."+Rr._id+"divider").remove(),yr.yaxislayer.selectAll("."+Tr._id+"divider").remove(),yr.minorGridlayer&&yr.minorGridlayer.selectAll("path").remove(),yr.gridlayer&&yr.gridlayer.selectAll("path").remove(),yr.zerolinelayer&&yr.zerolinelayer.selectAll("path").remove(),er._infolayer.select(".g-"+Rr._id+"title").remove(),er._infolayer.select(".g-"+Tr._id+"title").remove()}});var Ye=!re||re==="redraw"?tt.listIds(Qt):re,Pe=tt.list(Qt),Ze=Pe.filter(function(Qe){return Qe.autoshift}).map(function(Qe){return Qe.overlaying});Ye.map(function(Qe){var We=tt.getFromId(Qt,Qe);if(We.tickmode==="sync"&&We.overlaying){var yr=Ye.findIndex(function(Rr){return Rr===We.overlaying});yr>=0&&Ye.unshift(Ye.splice(yr,1).shift())}});var nr={false:{left:0,right:0}};return M.syncOrAsync(Ye.map(function(Qe){return function(){if(Qe){var We=tt.getFromId(Qt,Qe);tr||(tr={}),tr.axShifts=nr,tr.overlayingShiftedAx=Ze;var yr=tt.drawOne(Qt,We,tr);return We._shiftPusher&&fr(We,We._fullDepth||0,nr,!0),We._r=We.range.slice(),We._rl=M.simpleMap(We._r,We.r2l),yr}}}))},tt.drawOne=function(Qt,re,tr){tr=tr||{};var er=tr.axShifts||{},Ye=tr.overlayingShiftedAx||[],Pe,Ze,nr;re.setScale();var Qe=Qt._fullLayout,We=re._id,yr=We.charAt(0),Rr=tt.counterLetter(We),Tr=Qe._plots[re._mainSubplot];if(!Tr)return;if(re._shiftPusher=re.autoshift||Ye.indexOf(re._id)!==-1||Ye.indexOf(re.overlaying)!==-1,re._shiftPusher&re.anchor==="free"){var vn=re.linewidth/2||0;re.ticks==="inside"&&(vn+=re.ticklen),fr(re,vn,er,!0),fr(re,re.shift||0,er,!1)}(tr.skipTitle!==!0||re._shift===void 0)&&(re._shift=Lr(re,er));var Or=Tr[yr+"axislayer"],En=re._mainLinePosition,nn=En+=re._shift,gr=re._mainMirrorPosition,Pr=re._vals=tt.calcTicks(re),jr=[re.mirror,nn,gr].join("_");for(Pe=0;Pe<Pr.length;Pe++)Pr[Pe].axInfo=jr;re._selections={},re._tickAngles&&(re._prevTickAngles=re._tickAngles),re._tickAngles={},re._depth=null;var _r={};function pn(An){var On=We+(An||"tick");return _r[On]||(_r[On]=je(re,On,nn)),_r[On]}if(re.visible){var en=tt.makeTransTickFn(re),Tn=tt.makeTransTickLabelFn(re),Pn,Gn,gi=re.ticks==="inside",bi=re.ticks==="outside";if(re.tickson==="boundaries"){var oi=ie(re,Pr);Gn=tt.clipEnds(re,oi),Pn=gi?Gn:oi}else Gn=tt.clipEnds(re,Pr),Pn=gi&&re.ticklabelmode!=="period"?Gn:Pr;var ni=re._gridVals=Gn,Dn=Ve(re,Pr);if(!Qe._hasOnlyLargeSploms){var Cr=re._subplotsWith,an={};for(Pe=0;Pe<Cr.length;Pe++){Ze=Cr[Pe],nr=Qe._plots[Ze];var on=nr[Rr+"axis"],ln=on._mainAxis._id;if(!an[ln]){an[ln]=1;var Bn=yr==="x"?"M0,"+on._offset+"v"+on._length:"M"+on._offset+",0h"+on._length;tt.drawGrid(Qt,re,{vals:ni,counterAxis:on,layer:nr.gridlayer.select("."+We),minorLayer:nr.minorGridlayer.select("."+We),path:Bn,transFn:en}),tt.drawZeroLine(Qt,re,{counterAxis:on,layer:nr.zerolinelayer,path:Bn,transFn:en})}}}var gn,Cn=tt.getTickSigns(re),Nn=tt.getTickSigns(re,"minor");if(re.ticks||re.minor&&re.minor.ticks){var $n=tt.makeTickPath(re,nn,Cn[2]),vi=tt.makeTickPath(re,nn,Nn[2],{minor:!0}),Di,Ar,Br,Sr;if(re._anchorAxis&&re.mirror&&re.mirror!==!0?(Di=tt.makeTickPath(re,gr,Cn[3]),Ar=tt.makeTickPath(re,gr,Nn[3],{minor:!0}),Br=$n+Di,Sr=vi+Ar):(Di="",Ar="",Br=$n,Sr=vi),re.showdividers&&bi&&re.tickson==="boundaries"){var Nr={};for(Pe=0;Pe<Dn.length;Pe++)Nr[Dn[Pe].x]=1;gn=function(An){return Nr[An.x]?Di:Br}}else gn=function(An){return An.minor?Sr:Br}}if(tt.drawTicks(Qt,re,{vals:Pn,layer:Or,path:gn,transFn:en}),re.mirror==="allticks"){var un=Object.keys(re._linepositions||{});for(Pe=0;Pe<un.length;Pe++){Ze=un[Pe],nr=Qe._plots[Ze];var Rn=re._linepositions[Ze]||[],mn=Rn[0],cn=Rn[1],Er=Rn[2],Yr=tt.makeTickPath(re,mn,Er?Cn[0]:Nn[0],{minor:Er})+tt.makeTickPath(re,cn,Er?Cn[1]:Nn[1],{minor:Er});tt.drawTicks(Qt,re,{vals:Pn,layer:nr[yr+"axislayer"],path:Yr,transFn:en})}}var Gr=[];if(Gr.push(function(){return tt.drawLabels(Qt,re,{vals:Pr,layer:Or,plotinfo:nr,transFn:Tn,labelFns:tt.makeLabelFns(re,nn)})}),re.type==="multicategory"){var $r={x:2,y:10}[yr];Gr.push(function(){var An={x:"height",y:"width"}[yr],On=pn()[An]+$r+(re._tickAngles[We+"tick"]?re.tickfont.size*ft:0);return tt.drawLabels(Qt,re,{vals:le(re,Pr),layer:Or,cls:We+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:en,labelFns:tt.makeLabelFns(re,nn+On*Cn[4])})}),Gr.push(function(){return re._depth=Cn[4]*(pn("tick2")[re.side]-nn),vr(Qt,re,{vals:Dn,layer:Or,path:tt.makeTickPath(re,nn,Cn[4],{len:re._depth}),transFn:en})})}else re.title.hasOwnProperty("standoff")&&Gr.push(function(){re._depth=Cn[4]*(pn()[re.side]-nn)});var wn=P.getComponentMethod("rangeslider","isVisible")(re);return!tr.skipTitle&&!(wn&&re.side==="bottom")&&Gr.push(function(){return Xe(Qt,re)}),Gr.push(function(){var An=re.side.charAt(0),On=ot[re.side].charAt(0),Un=tt.getPxPosition(Qt,re),zn=bi?re.ticklen:0,Yn,Zn,si,Li;(re.automargin||wn||re._shiftPusher)&&(re.type==="multicategory"?Yn=pn("tick2"):(Yn=pn(),yr==="x"&&An==="b"&&(re._depth=Math.max(Yn.width>0?Yn.bottom-Un:0,zn))));var Ma=0,sa=0;if(re._shiftPusher&&(Ma=Math.max(zn,Yn.height>0?An==="l"?Un-Yn.left:Yn.right-Un:0),re.title.text!==Qe._dfltTitle[yr]&&(sa=(re._titleStandoff||0)+(re._titleScoot||0),An==="l"&&(sa+=ge(re))),re._fullDepth=Math.max(Ma,sa)),re.automargin){Zn={x:0,y:0,r:0,l:0,t:0,b:0};var No=[0,1],$o=typeof re._shift=="number"?re._shift:0;if(yr==="x"){if(An==="b"?Zn[An]=re._depth:(Zn[An]=re._depth=Math.max(Yn.width>0?Un-Yn.top:0,zn),No.reverse()),Yn.width>0){var So=Yn.right-(re._offset+re._length);So>0&&(Zn.xr=1,Zn.r=So);var $s=re._offset-Yn.left;$s>0&&(Zn.xl=0,Zn.l=$s)}}else if(An==="l"?(re._depth=Math.max(Yn.height>0?Un-Yn.left:0,zn),Zn[An]=re._depth-$o):(re._depth=Math.max(Yn.height>0?Yn.right-Un:0,zn),Zn[An]=re._depth+$o,No.reverse()),Yn.height>0){var pu=Yn.bottom-(re._offset+re._length);pu>0&&(Zn.yb=0,Zn.b=pu);var Ju=re._offset-Yn.top;Ju>0&&(Zn.yt=1,Zn.t=Ju)}Zn[Rr]=re.anchor==="free"?re.position:re._anchorAxis.domain[No[0]],re.title.text!==Qe._dfltTitle[yr]&&(Zn[An]+=ge(re)+(re.title.standoff||0)),re.mirror&&re.anchor!=="free"&&(si={x:0,y:0,r:0,l:0,t:0,b:0},si[On]=re.linewidth,re.mirror&&re.mirror!==!0&&(si[On]+=zn),re.mirror===!0||re.mirror==="ticks"?si[Rr]=re._anchorAxis.domain[No[1]]:(re.mirror==="all"||re.mirror==="allticks")&&(si[Rr]=[re._counterDomainMin,re._counterDomainMax][No[1]]))}wn&&(Li=P.getComponentMethod("rangeslider","autoMarginOpts")(Qt,re)),typeof re.automargin=="string"&&(jt(Zn,re.automargin),jt(si,re.automargin)),s.autoMargin(Qt,ue(re),Zn),s.autoMargin(Qt,be(re),si),s.autoMargin(Qt,Ee(re),Li)}),M.syncOrAsync(Gr)}};function jt(Qt,re){if(Qt){var tr=Object.keys(X).reduce(function(er,Ye){return re.indexOf(Ye)!==-1&&X[Ye].forEach(function(Pe){er[Pe]=1}),er},{});Object.keys(Qt).forEach(function(er){tr[er]||(er.length===1?Qt[er]=0:delete Qt[er])})}}function ie(Qt,re){var tr=[],er,Ye=function(Pe,Ze){var nr=Pe.xbnd[Ze];nr!==null&&tr.push(M.extendFlat({},Pe,{x:nr}))};if(re.length){for(er=0;er<re.length;er++)Ye(re[er],0);Ye(re[er-1],1)}return tr}function le(Qt,re){for(var tr=[],er={},Ye=0;Ye<re.length;Ye++){var Pe=re[Ye];er[Pe.text2]?er[Pe.text2].push(Pe.x):er[Pe.text2]=[Pe.x]}for(var Ze in er)tr.push(ne(Qt,M.interp(er[Ze],.5),Ze));return tr}function Ve(Qt,re){var tr=[],er,Ye,Pe=re.length&&re[re.length-1].x<re[0].x,Ze=function(Qe,We){var yr=Qe.xbnd[We];yr!==null&&tr.push(M.extendFlat({},Qe,{x:yr}))};if(Qt.showdividers&&re.length){for(er=0;er<re.length;er++){var nr=re[er];nr.text2!==Ye&&Ze(nr,Pe?1:0),Ye=nr.text2}Ze(re[er-1],Pe?0:1)}return tr}function je(Qt,re,tr){var er,Ye,Pe,Ze;if(Qt._selections[re].size())er=1/0,Ye=-1/0,Pe=1/0,Ze=-1/0,Qt._selections[re].each(function(){var Qe=ye(this),We=o.bBox(Qe.node().parentNode);er=Math.min(er,We.top),Ye=Math.max(Ye,We.bottom),Pe=Math.min(Pe,We.left),Ze=Math.max(Ze,We.right)});else{var nr=tt.makeLabelFns(Qt,tr);er=Ye=nr.yFn({dx:0,dy:0,fontSize:0}),Pe=Ze=nr.xFn({dx:0,dy:0,fontSize:0})}return{top:er,bottom:Ye,left:Pe,right:Ze,height:Ye-er,width:Ze-Pe}}tt.getTickSigns=function(Qt,re){var tr=Qt._id.charAt(0),er={x:"top",y:"right"}[tr],Ye=Qt.side===er?1:-1,Pe=[-1,1,Ye,-Ye],Ze=re?(Qt.minor||{}).ticks:Qt.ticks;return Ze!=="inside"==(tr==="x")&&(Pe=Pe.map(function(nr){return-nr})),Qt.side&&Pe.push({l:-1,t:-1,r:1,b:1}[Qt.side.charAt(0)]),Pe},tt.makeTransTickFn=function(Qt){return Qt._id.charAt(0)==="x"?function(re){return d(Qt._offset+Qt.l2p(re.x),0)}:function(re){return d(0,Qt._offset+Qt.l2p(re.x))}},tt.makeTransTickLabelFn=function(Qt){var re=Le(Qt),tr=Qt.ticklabelshift||0,er=Qt.ticklabelstandoff||0,Ye=re[0],Pe=re[1],Ze=Qt.range[0]>Qt.range[1],nr=Qt.ticklabelposition&&Qt.ticklabelposition.indexOf("inside")!==-1,Qe=!nr;if(tr){var We=Ze?-1:1;tr=tr*We}if(er){var yr=Qt.side,Rr=nr&&(yr==="top"||yr==="left")||Qe&&(yr==="bottom"||yr==="right")?1:-1;er=er*Rr}return Qt._id.charAt(0)==="x"?function(Tr){return d(Ye+Qt._offset+Qt.l2p(Te(Tr))+tr,Pe+er)}:function(Tr){return d(Pe+er,Ye+Qt._offset+Qt.l2p(Te(Tr))+tr)}};function Te(Qt){return Qt.periodX!==void 0?Qt.periodX:Qt.x}function Le(Qt){var re=Qt.ticklabelposition||"",tr=function(vn){return re.indexOf(vn)!==-1},er=tr("top"),Ye=tr("left"),Pe=tr("right"),Ze=tr("bottom"),nr=tr("inside"),Qe=Ze||Ye||er||Pe;if(!Qe&&!nr)return[0,0];var We=Qt.side,yr=Qe?(Qt.tickwidth||0)/2:0,Rr=Q,Tr=Qt.tickfont?Qt.tickfont.size:12;return(Ze||er)&&(yr+=Tr*it,Rr+=(Qt.linewidth||0)/2),(Ye||Pe)&&(yr+=(Qt.linewidth||0)/2,Rr+=Q),nr&&We==="top"&&(Rr-=Tr*(1-it)),(Ye||er)&&(yr=-yr),(We==="bottom"||We==="right")&&(Rr=-Rr),[Qe?yr:0,nr?Rr:0]}tt.makeTickPath=function(Qt,re,tr,er){er||(er={});var Ye=er.minor;if(Ye&&!Qt.minor)return"";var Pe=er.len!==void 0?er.len:Ye?Qt.minor.ticklen:Qt.ticklen,Ze=Qt._id.charAt(0),nr=(Qt.linewidth||1)/2;return Ze==="x"?"M0,"+(re+nr*tr)+"v"+Pe*tr:"M"+(re+nr*tr)+",0h"+Pe*tr},tt.makeLabelFns=function(Qt,re,tr){var er=Qt.ticklabelposition||"",Ye=function(oi){return er.indexOf(oi)!==-1},Pe=Ye("top"),Ze=Ye("left"),nr=Ye("right"),Qe=Ye("bottom"),We=Qe||Ze||Pe||nr,yr=Ye("inside"),Rr=er==="inside"&&Qt.ticks==="inside"||!yr&&Qt.ticks==="outside"&&Qt.tickson!=="boundaries",Tr=0,vn=0,Or=Rr?Qt.ticklen:0;if(yr?Or*=-1:We&&(Or=0),Rr&&(Tr+=Or,tr)){var En=M.deg2rad(tr);Tr=Or*Math.cos(En)+1,vn=Or*Math.sin(En)}Qt.showticklabels&&(Rr||Qt.showline)&&(Tr+=.2*Qt.tickfont.size),Tr+=(Qt.linewidth||1)/2*(yr?-1:1);var nn={labelStandoff:Tr,labelShift:vn},gr,Pr,jr,_r,pn=0,en=Qt.side,Tn=Qt._id.charAt(0),Pn=Qt.tickangle,Gn;if(Tn==="x")Gn=!yr&&en==="bottom"||yr&&en==="top",_r=Gn?1:-1,yr&&(_r*=-1),gr=vn*_r,Pr=re+Tr*_r,jr=Gn?1:-.2,Math.abs(Pn)===90&&(yr?jr+=et:Pn===-90&&en==="bottom"?jr=it:Pn===90&&en==="top"?jr=et:jr=.5,pn=et/2*(Pn/90)),nn.xFn=function(oi){return oi.dx+gr+pn*oi.fontSize},nn.yFn=function(oi){return oi.dy+Pr+oi.fontSize*jr},nn.anchorFn=function(oi,ni){if(We){if(Ze)return"end";if(nr)return"start"}return!D(ni)||ni===0||ni===180?"middle":ni*_r<0!==yr?"end":"start"},nn.heightFn=function(oi,ni,Dn){return ni<-60||ni>60?-.5*Dn:Qt.side==="top"!==yr?-Dn:0};else if(Tn==="y"){if(Gn=!yr&&en==="left"||yr&&en==="right",_r=Gn?1:-1,yr&&(_r*=-1),gr=Tr,Pr=vn*_r,jr=0,!yr&&Math.abs(Pn)===90&&(Pn===-90&&en==="left"||Pn===90&&en==="right"?jr=it:jr=.5),yr){var gi=D(Pn)?+Pn:0;if(gi!==0){var bi=M.deg2rad(gi);pn=Math.abs(Math.sin(bi))*it*_r,jr=0}}nn.xFn=function(oi){return oi.dx+re-(gr+oi.fontSize*jr)*_r+pn*oi.fontSize},nn.yFn=function(oi){return oi.dy+Pr+oi.fontSize*et},nn.anchorFn=function(oi,ni){return D(ni)&&Math.abs(ni)===90?"middle":Gn?"end":"start"},nn.heightFn=function(oi,ni,Dn){return Qt.side==="right"&&(ni*=-1),ni<-30?-Dn:ni<30?-.5*Dn:0}}return nn};function Ke(Qt){return[Qt.text,Qt.x,Qt.axInfo,Qt.font,Qt.fontSize,Qt.fontColor].join("_")}tt.drawTicks=function(Qt,re,tr){tr=tr||{};var er=re._id+"tick",Ye=[].concat(re.minor&&re.minor.ticks?tr.vals.filter(function(Ze){return Ze.minor&&!Ze.noTick}):[]).concat(re.ticks?tr.vals.filter(function(Ze){return!Ze.minor&&!Ze.noTick}):[]),Pe=tr.layer.selectAll("path."+er).data(Ye,Ke);Pe.exit().remove(),Pe.enter().append("path").classed(er,1).classed("ticks",1).classed("crisp",tr.crisp!==!1).each(function(Ze){return e.stroke(y.select(this),Ze.minor?re.minor.tickcolor:re.tickcolor)}).style("stroke-width",function(Ze){return o.crispRound(Qt,Ze.minor?re.minor.tickwidth:re.tickwidth,1)+"px"}).attr("d",tr.path).style("display",null),dr(re,[O]),Pe.attr("transform",tr.transFn)},tt.drawGrid=function(Qt,re,tr){if(tr=tr||{},re.tickmode!=="sync"){var er=re._id+"grid",Ye=re.minor&&re.minor.showgrid,Pe=Ye?tr.vals.filter(function(gr){return gr.minor}):[],Ze=re.showgrid?tr.vals.filter(function(gr){return!gr.minor}):[],nr=tr.counterAxis;if(nr&&tt.shouldShowZeroLine(Qt,re,nr))for(var Qe=re.tickmode==="array",We=0;We<Ze.length;We++){var yr=Ze[We].x;if(Qe?!yr:Math.abs(yr)<re.dtick/100)if(Ze=Ze.slice(0,We).concat(Ze.slice(We+1)),Qe)We--;else break}re._gw=o.crispRound(Qt,re.gridwidth,1);for(var Rr=Ye?o.crispRound(Qt,re.minor.gridwidth,1):0,Tr=tr.layer,vn=tr.minorLayer,Or=1;Or>=0;Or--){var En=Or?Tr:vn;if(En){var nn=En.selectAll("path."+er).data(Or?Ze:Pe,Ke);nn.exit().remove(),nn.enter().append("path").classed(er,1).classed("crisp",tr.crisp!==!1),nn.attr("transform",tr.transFn).attr("d",tr.path).each(function(gr){return e.stroke(y.select(this),gr.minor?re.minor.gridcolor:re.gridcolor||"#ddd")}).style("stroke-dasharray",function(gr){return o.dashStyle(gr.minor?re.minor.griddash:re.griddash,gr.minor?re.minor.gridwidth:re.gridwidth)}).style("stroke-width",function(gr){return(gr.minor?Rr:re._gw)+"px"}).style("display",null),typeof tr.path=="function"&&nn.attr("d",tr.path)}}dr(re,[V,N])}},tt.drawZeroLine=function(Qt,re,tr){tr=tr||tr;var er=re._id+"zl",Ye=tt.shouldShowZeroLine(Qt,re,tr.counterAxis),Pe=tr.layer.selectAll("path."+er).data(Ye?[{x:0,id:re._id}]:[]);Pe.exit().remove(),Pe.enter().append("path").classed(er,1).classed("zl",1).classed("crisp",tr.crisp!==!1).each(function(){tr.layer.selectAll("path").sort(function(Ze,nr){return ut(Ze.id,nr.id)})}),Pe.attr("transform",tr.transFn).attr("d",tr.path).call(e.stroke,re.zerolinecolor||e.defaultLine).style("stroke-width",o.crispRound(Qt,re.zerolinewidth,re._gw||1)+"px").style("display",null),dr(re,[F])},tt.drawLabels=function(Qt,re,tr){tr=tr||{};var er=Qt._fullLayout,Ye=re._id,Pe=tr.cls||Ye+"tick",Ze=tr.vals.filter(function(ln){return ln.text}),nr=tr.labelFns,Qe=tr.secondary?0:re.tickangle,We=(re._prevTickAngles||{})[Pe],yr=tr.layer.selectAll("g."+Pe).data(re.showticklabels?Ze:[],Ke),Rr=[];yr.enter().append("g").classed(Pe,1).append("text").attr("text-anchor","middle").each(function(ln){var Bn=y.select(this),gn=Qt._promises.length;Bn.call(g.positionText,nr.xFn(ln),nr.yFn(ln)).call(o.font,{family:ln.font,size:ln.fontSize,color:ln.fontColor,weight:ln.fontWeight,style:ln.fontStyle,variant:ln.fontVariant,textcase:ln.fontTextcase,lineposition:ln.fontLineposition,shadow:ln.fontShadow}).text(ln.text).call(g.convertToTspans,Qt),Qt._promises[gn]?Rr.push(Qt._promises.pop().then(function(){Tr(Bn,Qe)})):Tr(Bn,Qe)}),dr(re,[H]),yr.exit().remove(),tr.repositionOnUpdate&&yr.each(function(ln){y.select(this).select("text").call(g.positionText,nr.xFn(ln),nr.yFn(ln))});function Tr(ln,Bn){ln.each(function(gn){var Cn=y.select(this),Nn=Cn.select(".text-math-group"),$n=nr.anchorFn(gn,Bn),vi=tr.transFn.call(Cn.node(),gn)+(D(Bn)&&+Bn!=0?" rotate("+Bn+","+nr.xFn(gn)+","+(nr.yFn(gn)-gn.fontSize/2)+")":""),Di=g.lineCount(Cn),Ar=ft*gn.fontSize,Br=nr.heightFn(gn,D(Bn)?+Bn:0,(Di-1)*Ar);if(Br&&(vi+=d(0,Br)),Nn.empty()){var Sr=Cn.select("text");Sr.attr({transform:vi,"text-anchor":$n}),Sr.style("opacity",1),re._adjustTickLabelsOverflow&&re._adjustTickLabelsOverflow()}else{var Nr=o.bBox(Nn.node()).width,un=Nr*{end:-.5,start:.5}[$n];Nn.attr("transform",vi+d(un,0))}})}re._adjustTickLabelsOverflow=function(){var ln=re.ticklabeloverflow;if(!(!ln||ln==="allow")){var Bn=ln.indexOf("hide")!==-1,gn=re._id.charAt(0)==="x",Cn=0,Nn=gn?Qt._fullLayout.width:Qt._fullLayout.height;if(ln.indexOf("domain")!==-1){var $n=M.simpleMap(re.range,re.r2l);Cn=re.l2p($n[0])+re._offset,Nn=re.l2p($n[1])+re._offset}var vi=Math.min(Cn,Nn),Di=Math.max(Cn,Nn),Ar=re.side,Br=1/0,Sr=-1/0;yr.each(function(mn){var cn=y.select(this),Er=cn.select(".text-math-group");if(Er.empty()){var Yr=o.bBox(cn.node()),Gr=0;gn?(Yr.right>Di||Yr.left<vi)&&(Gr=1):(Yr.bottom>Di||Yr.top+(re.tickangle?0:mn.fontSize/4)<vi)&&(Gr=1);var $r=cn.select("text");Gr?Bn&&$r.style("opacity",0):($r.style("opacity",1),Ar==="bottom"||Ar==="right"?Br=Math.min(Br,gn?Yr.top:Yr.left):Br=-1/0,Ar==="top"||Ar==="left"?Sr=Math.max(Sr,gn?Yr.bottom:Yr.right):Sr=1/0)}});for(var Nr in er._plots){var un=er._plots[Nr];if(!(re._id!==un.xaxis._id&&re._id!==un.yaxis._id)){var Rn=gn?un.yaxis:un.xaxis;Rn&&(Rn["_visibleLabelMin_"+re._id]=Br,Rn["_visibleLabelMax_"+re._id]=Sr)}}}},re._hideCounterAxisInsideTickLabels=function(ln){var Bn=re._id.charAt(0)==="x",gn=[];for(var Cn in er._plots){var Nn=er._plots[Cn];re._id!==Nn.xaxis._id&&re._id!==Nn.yaxis._id||gn.push(Bn?Nn.yaxis:Nn.xaxis)}gn.forEach(function($n,vi){$n&&cr($n)&&(ln||[F,N,V,O,H]).forEach(function(Di){var Ar=Di.K==="tick"&&Di.L==="text"&&re.ticklabelmode==="period",Br=er._plots[re._mainSubplot],Sr;Di.K===F.K?Sr=Br.zerolinelayer.selectAll("."+re._id+"zl"):Di.K===N.K?Sr=Br.minorGridlayer.selectAll("."+re._id):Di.K===V.K?Sr=Br.gridlayer.selectAll("."+re._id):Sr=Br[re._id.charAt(0)+"axislayer"],Sr.each(function(){var Nr=y.select(this);Di.L&&(Nr=Nr.selectAll(Di.L)),Nr.each(function(un){var Rn=re.l2p(Ar?Te(un):un.x)+re._offset,mn=y.select(this);Rn<re["_visibleLabelMax_"+$n._id]&&Rn>re["_visibleLabelMin_"+$n._id]?mn.style("display","none"):Di.K==="tick"&&!vi&&mn.style("display",null)})})})})},Tr(yr,We+1?We:Qe);function vn(){return Rr.length&&Promise.all(Rr)}var Or=null;function En(){if(Tr(yr,Qe),Ze.length&&re.autotickangles&&(re.type!=="log"||String(re.dtick).charAt(0)!=="D")){Or=re.autotickangles[0];var ln=0,Bn=[],gn,Cn=1;yr.each(function(Yn){ln=Math.max(ln,Yn.fontSize);var Zn=re.l2p(Yn.x),si=ye(this),Li=o.bBox(si.node());Cn=Math.max(Cn,g.lineCount(si)),Bn.push({top:0,bottom:10,height:10,left:Zn-Li.width/2,right:Zn+Li.width/2+2,width:Li.width+2})});var Nn=(re.tickson==="boundaries"||re.showdividers)&&!tr.secondary,$n=Ze.length,vi=Math.abs((Ze[$n-1].x-Ze[0].x)*re._m)/($n-1),Di=Nn?vi/2:vi,Ar=Nn?re.ticklen:ln*1.25*Cn,Br=Math.sqrt(Math.pow(Di,2)+Math.pow(Ar,2)),Sr=Di/Br,Nr=re.autotickangles.map(function(Yn){return Yn*Math.PI/180}),un=Nr.find(function(Yn){return Math.abs(Math.cos(Yn))<=Sr});un===void 0&&(un=Nr.reduce(function(Yn,Zn){return Math.abs(Math.cos(Yn))<Math.abs(Math.cos(Zn))?Yn:Zn},Nr[0]));var Rn=un*(180/Math.PI);if(Nn){var mn=2;for(re.ticks&&(mn+=re.tickwidth/2),gn=0;gn<Bn.length;gn++){var cn=Ze[gn].xbnd,Er=Bn[gn];if(cn[0]!==null&&Er.left-re.l2p(cn[0])<mn||cn[1]!==null&&re.l2p(cn[1])-Er.right<mn){Or=Rn;break}}}else{var Yr=re.ticklabelposition||"",Gr=function(Yn){return Yr.indexOf(Yn)!==-1},$r=Gr("top"),wn=Gr("left"),An=Gr("right"),On=Gr("bottom"),Un=On||wn||$r||An,zn=Un?(re.tickwidth||0)+2*Q:0;for(gn=0;gn<Bn.length-1;gn++)if(M.bBoxIntersect(Bn[gn],Bn[gn+1],zn)){Or=Rn;break}}Or&&Tr(yr,Or)}}re._selections&&(re._selections[Pe]=yr);var nn=[vn];re.automargin&&er._redrawFromAutoMarginCount&&We===90?(Or=We,nn.push(function(){Tr(yr,We)})):nn.push(En),re._tickAngles&&nn.push(function(){re._tickAngles[Pe]=Or===null?D(Qe)?Qe:0:Or});var gr=function(){var ln=0,Bn=0;return yr.each(function(gn,Cn){var Nn=ye(this),$n=Nn.select(".text-math-group");if($n.empty()){var vi;re._vals[Cn]&&(vi=re._vals[Cn].bb||o.bBox(Nn.node()),re._vals[Cn].bb=vi),ln=Math.max(ln,vi.width),Bn=Math.max(Bn,vi.height)}}),{labelsMaxW:ln,labelsMaxH:Bn}},Pr=re._anchorAxis;if(Pr&&(Pr.autorange||Pr.insiderange)&&cr(re)&&!$(er,re._id)&&(er._insideTickLabelsUpdaterange||(er._insideTickLabelsUpdaterange={}),Pr.autorange&&(er._insideTickLabelsUpdaterange[Pr._name+".autorange"]=Pr.autorange,nn.push(gr)),Pr.insiderange)){var jr=gr(),_r=re._id.charAt(0)==="y"?jr.labelsMaxW:jr.labelsMaxH;_r+=2*Q,re.ticklabelposition==="inside"&&(_r+=re.ticklen||0);var pn=re.side==="right"||re.side==="top"?1:-1,en=pn===1?1:0,Tn=pn===1?0:1,Pn=[];Pn[Tn]=Pr.range[Tn];var Gn=Pr.range,gi=Pr.r2p(Gn[en]),bi=Pr.r2p(Gn[Tn]),oi=er._insideTickLabelsUpdaterange[Pr._name+".range"];if(oi){var ni=Pr.r2p(oi[en]),Dn=Pr.r2p(oi[Tn]),Cr=pn*(re._id.charAt(0)==="y"?1:-1);Cr*gi<Cr*ni&&(gi=ni,Pn[en]=Gn[en]=oi[en]),Cr*bi>Cr*Dn&&(bi=Dn,Pn[Tn]=Gn[Tn]=oi[Tn])}var an=Math.abs(bi-gi);an-_r>0?(an-=_r,_r*=1+_r/an):_r=0,re._id.charAt(0)!=="y"&&(_r=-_r),Pn[en]=Pr.p2r(Pr.r2p(Gn[en])+pn*_r),Pr.autorange==="min"||Pr.autorange==="max reversed"?(Pn[0]=null,Pr._rangeInitial0=void 0,Pr._rangeInitial1=void 0):(Pr.autorange==="max"||Pr.autorange==="min reversed")&&(Pn[1]=null,Pr._rangeInitial0=void 0,Pr._rangeInitial1=void 0),er._insideTickLabelsUpdaterange[Pr._name+".range"]=Pn}var on=M.syncOrAsync(nn);return on&&on.then&&Qt._promises.push(on),on};function vr(Qt,re,tr){var er=re._id+"divider",Ye=tr.vals,Pe=tr.layer.selectAll("path."+er).data(Ye,Ke);Pe.exit().remove(),Pe.enter().insert("path",":first-child").classed(er,1).classed("crisp",1).call(e.stroke,re.dividercolor).style("stroke-width",o.crispRound(Qt,re.dividerwidth,1)+"px"),Pe.attr("transform",tr.transFn).attr("d",tr.path)}tt.getPxPosition=function(Qt,re){var tr=Qt._fullLayout._size,er=re._id.charAt(0),Ye=re.side,Pe;if(re.anchor!=="free"?Pe=re._anchorAxis:er==="x"?Pe={_offset:tr.t+(1-(re.position||0))*tr.h,_length:0}:er==="y"&&(Pe={_offset:tr.l+(re.position||0)*tr.w+re._shift,_length:0}),Ye==="top"||Ye==="left")return Pe._offset;if(Ye==="bottom"||Ye==="right")return Pe._offset+Pe._length};function ge(Qt){var re=Qt.title.font.size,tr=(Qt.title.text.match(g.BR_TAG_ALL)||[]).length;return Qt.title.hasOwnProperty("standoff")?re*(it+tr*ft):tr?re*(tr+1)*ft:re}function Xe(Qt,re){var tr=Qt._fullLayout,er=re._id,Ye=er.charAt(0),Pe=re.title.font.size,Ze,nr=(re.title.text.match(g.BR_TAG_ALL)||[]).length;if(re.title.hasOwnProperty("standoff"))re.side==="bottom"||re.side==="right"?Ze=re._depth+re.title.standoff+Pe*it:(re.side==="top"||re.side==="left")&&(Ze=re._depth+re.title.standoff+Pe*(et+nr*ft));else{var Qe=cr(re);if(re.type==="multicategory")Ze=re._depth;else{var We=1.5*Pe;Qe&&(We=.5*Pe,re.ticks==="outside"&&(We+=re.ticklen)),Ze=10+We+(re.linewidth?re.linewidth-1:0)}Qe||(Ye==="x"?Ze+=re.side==="top"?Pe*(re.showticklabels?1:0):Pe*(re.showticklabels?1.5:.5):Ze+=re.side==="right"?Pe*(re.showticklabels?1:.5):Pe*(re.showticklabels?.5:0))}var yr=tt.getPxPosition(Qt,re),Rr,Tr,vn;Ye==="x"?(Tr=re._offset+re._length/2,vn=re.side==="top"?yr-Ze:yr+Ze):(vn=re._offset+re._length/2,Tr=re.side==="right"?yr+Ze:yr-Ze,Rr={rotate:"-90",offset:0});var Or;if(re.type!=="multicategory"){var En=re._selections[re._id+"tick"];if(Or={selection:En,side:re.side},En&&En.node()&&En.node().parentNode){var nn=o.getTranslate(En.node().parentNode);Or.offsetLeft=nn.x,Or.offsetTop=nn.y}re.title.hasOwnProperty("standoff")&&(Or.pad=0)}return re._titleStandoff=Ze,r.draw(Qt,er+"title",{propContainer:re,propName:re._name+".title.text",placeholder:tr._dfltTitle[Ye],avoid:Or,transform:Rr,attributes:{x:Tr,y:vn,"text-anchor":"middle"}})}tt.shouldShowZeroLine=function(Qt,re,tr){var er=M.simpleMap(re.range,re.r2l);return er[0]*er[1]<=0&&re.zeroline&&(re.type==="linear"||re.type==="-")&&!(re.rangebreaks&&re.maskBreaks(0)===U)&&($e(re,0)||!mr(Qt,re,tr,er)||or(Qt,re))},tt.clipEnds=function(Qt,re){return re.filter(function(tr){return $e(Qt,tr.x)})};function $e(Qt,re){var tr=Qt.l2p(re);return tr>1&&tr<Qt._length-1}function mr(Qt,re,tr,er){var Ye=tr._mainAxis;if(!Ye)return;var Pe=Qt._fullLayout,Ze=re._id.charAt(0),nr=tt.counterLetter(re._id),Qe=re._offset+(Math.abs(er[0])<Math.abs(er[1])==(Ze==="x")?0:re._length);function We(Or){if(!Or.showline||!Or.linewidth)return!1;var En=Math.max((Or.linewidth+re.zerolinewidth)/2,1);function nn(jr){return typeof jr=="number"&&Math.abs(jr-Qe)<En}if(nn(Or._mainLinePosition)||nn(Or._mainMirrorPosition))return!0;var gr=Or._linepositions||{};for(var Pr in gr)if(nn(gr[Pr][0])||nn(gr[Pr][1]))return!0}var yr=Pe._plots[tr._mainSubplot];if(!(yr.mainplotinfo||yr).overlays.length)return We(tr);for(var Rr=tt.list(Qt,nr),Tr=0;Tr<Rr.length;Tr++){var vn=Rr[Tr];if(vn._mainAxis===Ye&&We(vn))return!0}}function or(Qt,re){for(var tr=Qt._fullData,er=re._mainSubplot,Ye=re._id.charAt(0),Pe=0;Pe<tr.length;Pe++){var Ze=tr[Pe];if(Ze.visible===!0&&Ze.xaxis+Ze.yaxis===er&&(P.traceIs(Ze,"bar-like")&&Ze.orientation==={x:"h",y:"v"}[Ye]||Ze.fill&&Ze.fill.charAt(Ze.fill.length-1)===Ye))return!0}return!1}function ye(Qt){var re=y.select(Qt),tr=re.select(".text-math-group");return tr.empty()?re.select("text"):tr}tt.allowAutoMargin=function(Qt){for(var re=tt.list(Qt,"",!0),tr=0;tr<re.length;tr++){var er=re[tr];er.automargin&&(s.allowAutoMargin(Qt,ue(er)),er.mirror&&s.allowAutoMargin(Qt,be(er))),P.getComponentMethod("rangeslider","isVisible")(er)&&s.allowAutoMargin(Qt,Ee(er))}};function ue(Qt){return Qt._id+".automargin"}function be(Qt){return ue(Qt)+".mirror"}function Ee(Qt){return Qt._id+".rangeslider"}tt.swap=function(Qt,re){for(var tr=_e(Qt,re),er=0;er<tr.length;er++)Fe(Qt,tr[er].x,tr[er].y)};function _e(Qt,re){var tr=[],er,Ye;for(er=0;er<re.length;er++){var Pe=[],Ze=Qt._fullData[re[er]].xaxis,nr=Qt._fullData[re[er]].yaxis;if(!(!Ze||!nr)){for(Ye=0;Ye<tr.length;Ye++)(tr[Ye].x.indexOf(Ze)!==-1||tr[Ye].y.indexOf(nr)!==-1)&&Pe.push(Ye);if(!Pe.length){tr.push({x:[Ze],y:[nr]});continue}var Qe=tr[Pe[0]],We;if(Pe.length>1)for(Ye=1;Ye<Pe.length;Ye++)We=tr[Pe[Ye]],Oe(Qe.x,We.x),Oe(Qe.y,We.y);Oe(Qe.x,[Ze]),Oe(Qe.y,[nr])}}return tr}function Oe(Qt,re){for(var tr=0;tr<re.length;tr++)Qt.indexOf(re[tr])===-1&&Qt.push(re[tr])}function Fe(Qt,re,tr){var er=[],Ye=[],Pe=Qt.layout,Ze,nr;for(Ze=0;Ze<re.length;Ze++)er.push(tt.getFromId(Qt,re[Ze]));for(Ze=0;Ze<tr.length;Ze++)Ye.push(tt.getFromId(Qt,tr[Ze]));var Qe=Object.keys(n),We=["anchor","domain","overlaying","position","side","tickangle","editType"],yr=["linear","log"];for(Ze=0;Ze<Qe.length;Ze++){var Rr=Qe[Ze],Tr=er[0][Rr],vn=Ye[0][Rr],Or=!0,En=!1,nn=!1;if(!(Rr.charAt(0)==="_"||typeof Tr=="function"||We.indexOf(Rr)!==-1)){for(nr=1;nr<er.length&&Or;nr++){var gr=er[nr][Rr];Rr==="type"&&yr.indexOf(Tr)!==-1&&yr.indexOf(gr)!==-1&&Tr!==gr?En=!0:gr!==Tr&&(Or=!1)}for(nr=1;nr<Ye.length&&Or;nr++){var Pr=Ye[nr][Rr];Rr==="type"&&yr.indexOf(vn)!==-1&&yr.indexOf(Pr)!==-1&&vn!==Pr?nn=!0:Ye[nr][Rr]!==vn&&(Or=!1)}Or&&(En&&(Pe[er[0]._name].type="linear"),nn&&(Pe[Ye[0]._name].type="linear"),Be(Pe,Rr,er,Ye,Qt._fullLayout._dfltTitle))}}for(Ze=0;Ze<Qt._fullLayout.annotations.length;Ze++){var jr=Qt._fullLayout.annotations[Ze];re.indexOf(jr.xref)!==-1&&tr.indexOf(jr.yref)!==-1&&M.swapAttrs(Pe.annotations[Ze],["?"])}}function Be(Qt,re,tr,er,Ye){var Pe=M.nestedProperty,Ze=Pe(Qt[tr[0]._name],re).get(),nr=Pe(Qt[er[0]._name],re).get(),Qe;for(re==="title"&&(Ze&&Ze.text===Ye.x&&(Ze.text=Ye.y),nr&&nr.text===Ye.y&&(nr.text=Ye.x)),Qe=0;Qe<tr.length;Qe++)Pe(Qt,tr[Qe]._name+"."+re).set(nr);for(Qe=0;Qe<er.length;Qe++)Pe(Qt,er[Qe]._name+"."+re).set(Ze)}function Je(Qt){return Qt._id==="angularaxis"}function hr(Qt,re){for(var tr=re._rangebreaks.length,er=0;er<tr;er++){var Ye=re._rangebreaks[er];if(Qt>=Ye.min&&Qt<Ye.max)return Ye.max}return Qt}function cr(Qt){return(Qt.ticklabelposition||"").indexOf("inside")!==-1}function dr(Qt,re){cr(Qt._anchorAxis||{})&&Qt._hideCounterAxisInsideTickLabels&&Qt._hideCounterAxisInsideTickLabels(re)}function fr(Qt,re,tr,er){var Ye=Qt.anchor!=="free"&&(Qt.overlaying===void 0||Qt.overlaying===!1)?Qt._id:Qt.overlaying,Pe;er?Pe=Qt.side==="right"?re:-re:Pe=re,Ye in tr||(tr[Ye]={}),Qt.side in tr[Ye]||(tr[Ye][Qt.side]=0),tr[Ye][Qt.side]+=Pe}function Lr(Qt,re){return Qt.autoshift?re[Qt.overlaying][Qt.side]:Qt.shift||0}function xr(Qt,re){return/%f/.test(re)?Qt>=z:/%L/.test(re)?Qt>=b:/%[SX]/.test(re)?Qt>=C:/%M/.test(re)?Qt>=a:/%[HI]/.test(re)?Qt>=S:/%p/.test(re)?Qt>=E:/%[Aadejuwx]/.test(re)?Qt>=x:/%[UVW]/.test(re)?Qt>=L:/%[Bbm]/.test(re)?Qt>=A:/%[q]/.test(re)?Qt>=i:/%[Yy]/.test(re)?Qt>=v:!0}},52976:function(W,G,t){var y=t(38248),D=t(3400),s=t(39032).BADNUM,P=D.isArrayOrTypedArray,M=D.isDateTime,d=D.cleanNumber,g=Math.round;W.exports=function(m,v,T){var h=m,i=T.noMultiCategory;if(P(h)&&!h.length)return"-";if(!i&&f(h))return"multicategory";if(i&&Array.isArray(h[0])){for(var p=[],w=0;w<h.length;w++)if(P(h[w]))for(var A=0;A<h[w].length;A++)p.push(h[w][A]);h=p}if(o(h,v))return"date";var L=T.autotypenumbers!=="strict";return u(h,L)?"category":e(h,L)?"linear":"-"};function r(c,m){return m?y(c):typeof c=="number"}function e(c,m){for(var v=c.length,T=0;T<v;T++)if(r(c[T],m))return!0;return!1}function o(c,m){for(var v=c.length,T=n(v),h=0,i=0,p={},w=0;w<v;w+=T){var A=g(w),L=c[A],x=String(L);p[x]||(p[x]=1,M(L,m)&&h++,y(L)&&i++)}return h>i*2}function n(c){return Math.max(1,(c-1)/1e3)}function u(c,m){for(var v=c.length,T=n(v),h=0,i=0,p={},w=0;w<v;w+=T){var A=g(w),L=c[A],x=String(L);if(!p[x]){p[x]=1;var E=typeof L;E==="boolean"?i++:(m?d(L)!==s:E==="number")?h++:E==="string"&&i++}}return i>h*2}function f(c){return P(c[0])&&P(c[1])}},28336:function(W,G,t){var y=t(38248),D=t(24040),s=t(3400),P=t(31780),M=t(51272),d=t(94724),g=t(26332),r=t(25404),e=t(95936),o=t(42568),n=t(22416),u=t(42136),f=t(96312),c=t(78344),m=t(33816).WEEKDAY_PATTERN,v=t(33816).HOUR_PATTERN;W.exports=function(w,A,L,x,E){var S=x.letter,a=x.font||{},C=x.splomStash||{},b=L("visible",!x.visibleDflt),z=A._template||{},k=A.type||z.type||"-",U;if(k==="date"){var F=D.getComponentMethod("calendars","handleDefaults");F(w,A,"calendar",x.calendar),x.noTicklabelmode||(U=L("ticklabelmode"))}!x.noTicklabelindex&&(k==="date"||k==="linear")&&L("ticklabelindex");var V="";(!x.noTicklabelposition||k==="multicategory")&&(V=s.coerce(w,A,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:U==="period"?["outside","inside"]:S==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),x.noTicklabeloverflow||L("ticklabeloverflow",V.indexOf("inside")!==-1?"hide past domain":k==="category"||k==="multicategory"?"allow":"hide past div"),c(A,E),f(w,A,L,x),n(w,A,L,x),k!=="category"&&!x.noHover&&L("hoverformat");var N=L("color"),O=N!==d.color.dflt?N:a.color,H=C.label||E._dfltTitle[S];if(o(w,A,L,k,x),!b)return A;L("title.text",H),s.coerceFont(L,"title.font",a,{overrideDflt:{size:s.bigFont(a.size),color:O}}),g(w,A,L,k);var X=x.hasMinor;if(X&&(P.newContainer(A,"minor"),g(w,A,L,k,{isMinor:!0})),e(w,A,L,k,x),r(w,A,L,x),X){var J=x.isMinor;x.isMinor=!0,r(w,A,L,x),x.isMinor=J}u(w,A,L,{dfltColor:N,bgColor:x.bgColor,showGrid:x.showGrid,hasMinor:X,attributes:d}),X&&!A.minor.ticks&&!A.minor.showgrid&&delete A.minor,(A.showline||A.ticks)&&L("mirror");var et=k==="multicategory";if(!x.noTickson&&(k==="category"||et)&&(A.ticks||A.showgrid)){var it;et&&(it="boundaries");var ft=L("tickson",it);ft==="boundaries"&&delete A.ticklabelposition}if(et){var ot=L("showdividers");ot&&(L("dividercolor"),L("dividerwidth"))}if(k==="date")if(M(w,A,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!A.rangebreaks.length)delete A.rangebreaks;else{for(var Q=0;Q<A.rangebreaks.length;Q++)if(A.rangebreaks[Q].pattern===m){A._hasDayOfWeekBreaks=!0;break}if(c(A,E),E._has("scattergl")||E._has("splom"))for(var tt=0;tt<x.data.length;tt++){var Z=x.data[tt];(Z.type==="scattergl"||Z.type==="splom")&&(Z.visible=!1,s.warn(Z.type+" traces do not work on axes with rangebreaks. Setting trace "+Z.index+" to `visible: false`."))}}return A};function T(p,w,A){function L(U,F){return s.coerce(p,w,d.rangebreaks,U,F)}var x=L("enabled");if(x){var E=L("bounds");if(E&&E.length>=2){var S="",a,C;if(E.length===2){for(a=0;a<2;a++)if(C=i(E[a]),C){S=m;break}}var b=L("pattern",S);if(b===m)for(a=0;a<2;a++)C=i(E[a]),C&&(w.bounds[a]=E[a]=C-1);if(b)for(a=0;a<2;a++)switch(C=E[a],b){case m:if(!y(C)){w.enabled=!1;return}if(C=+C,C!==Math.floor(C)||C<0||C>=7){w.enabled=!1;return}w.bounds[a]=E[a]=C;break;case v:if(!y(C)){w.enabled=!1;return}if(C=+C,C<0||C>24){w.enabled=!1;return}w.bounds[a]=E[a]=C;break}if(A.autorange===!1){var z=A.range;if(z[0]<z[1]){if(E[0]<z[0]&&E[1]>z[1]){w.enabled=!1;return}}else if(E[0]>z[0]&&E[1]<z[1]){w.enabled=!1;return}}}else{var k=L("values");if(k&&k.length)L("dvalue");else{w.enabled=!1;return}}}}var h={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function i(p){if(typeof p=="string")return h[p.substr(0,3).toLowerCase()]}},29736:function(W,G,t){var y=t(26880),D=y.FORMAT_LINK,s=y.DATE_FORMAT_LINK;function P(g,r){return{valType:"string",dflt:"",editType:"none",description:(r?M:d)("hover text",g)+["By default the values are formatted using "+(r?"generic number format":"`"+g+"axis.hoverformat`")+"."].join(" ")}}function M(g,r){return["Sets the "+g+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+D+"."].join(" ")}function d(g,r){return M(g,r)+[" And for dates see: "+s+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}W.exports={axisHoverFormat:P,descriptionOnlyNumbers:M,descriptionWithDates:d}},79811:function(W,G,t){var y=t(24040),D=t(33816);G.id2name=function(M){if(!(typeof M!="string"||!M.match(D.AX_ID_PATTERN))){var d=M.split(" ")[0].substr(1);return d==="1"&&(d=""),M.charAt(0)+"axis"+d}},G.name2id=function(M){if(M.match(D.AX_NAME_PATTERN)){var d=M.substr(5);return d==="1"&&(d=""),M.charAt(0)+d}},G.cleanId=function(M,d,g){var r=/( domain)$/.test(M);if(!(typeof M!="string"||!M.match(D.AX_ID_PATTERN))&&!(d&&M.charAt(0)!==d)&&!(r&&!g)){var e=M.split(" ")[0].substr(1).replace(/^0+/,"");return e==="1"&&(e=""),M.charAt(0)+e+(r&&g?" domain":"")}},G.list=function(P,M,d){var g=P._fullLayout;if(!g)return[];var r=G.listIds(P,M),e=new Array(r.length),o;for(o=0;o<r.length;o++){var n=r[o];e[o]=g[n.charAt(0)+"axis"+n.substr(1)]}if(!d){var u=g._subplots.gl3d||[];for(o=0;o<u.length;o++){var f=g[u[o]];M?e.push(f[M+"axis"]):e.push(f.xaxis,f.yaxis,f.zaxis)}}return e},G.listIds=function(P,M){var d=P._fullLayout;if(!d)return[];var g=d._subplots;return M?g[M+"axis"]:g.xaxis.concat(g.yaxis)},G.getFromId=function(P,M,d){var g=P._fullLayout;return M=M===void 0||typeof M!="string"?M:M.replace(" domain",""),d==="x"?M=M.replace(/y[0-9]*/,""):d==="y"&&(M=M.replace(/x[0-9]*/,"")),g[G.id2name(M)]},G.getFromTrace=function(P,M,d){var g=P._fullLayout,r=null;if(y.traceIs(M,"gl3d")){var e=M.scene;e.substr(0,5)==="scene"&&(r=g[e][d+"axis"])}else r=G.getFromId(P,M[d+"axis"]||d);return r},G.idSort=function(P,M){var d=P.charAt(0),g=M.charAt(0);return d!==g?d>g?1:-1:+(P.substr(1)||1)-+(M.substr(1)||1)},G.ref2id=function(P){return/^[xyz]/.test(P)?P.split(" ")[0]:!1};function s(P,M){if(M&&M.length){for(var d=0;d<M.length;d++)if(M[d][P])return!0}return!1}G.isLinked=function(P,M){return s(M,P._axisMatchGroups)||s(M,P._axisConstraintGroups)}},22416:function(W,G,t){var y=t(38116).isTypedArraySpec;function D(s,P){var M=P.dataAttr||s._id.charAt(0),d={},g,r,e;if(P.axData)g=P.axData;else for(g=[],r=0;r<P.data.length;r++){var o=P.data[r];o[M+"axis"]===s._id&&g.push(o)}for(r=0;r<g.length;r++){var n=g[r][M];for(e=0;e<n.length;e++){var u=n[e];u!=null&&(d[u]=1)}}return Object.keys(d)}W.exports=function(P,M,d,g){if(M.type==="category"){var r=P.categoryarray,e=Array.isArray(r)&&r.length>0||y(r),o;e&&(o="array");var n=d("categoryorder",o),u;n==="array"&&(u=d("categoryarray")),!e&&n==="array"&&(n=M.categoryorder="trace"),n==="trace"?M._initialCategories=[]:n==="array"?M._initialCategories=u.slice():(u=D(M,g).sort(),n==="category ascending"?M._initialCategories=u:n==="category descending"&&(M._initialCategories=u.reverse()))}}},98728:function(W,G,t){var y=t(38248),D=t(3400),s=t(39032),P=s.ONEDAY,M=s.ONEWEEK;G.dtick=function(d,g){var r=g==="log",e=g==="date",o=g==="category",n=e?P:1;if(!d)return n;if(y(d))return d=Number(d),d<=0?n:o?Math.max(1,Math.round(d)):e?Math.max(.1,d):d;if(typeof d!="string"||!(e||r))return n;var u=d.charAt(0),f=d.substr(1);return f=y(f)?Number(f):0,f<=0||!(e&&u==="M"&&f===Math.round(f)||r&&u==="L"||r&&u==="D"&&(f===1||f===2))?n:d},G.tick0=function(d,g,r,e){if(g==="date")return D.cleanDate(d,D.dateTick0(r,e%M===0?1:0));if(!(e==="D1"||e==="D2"))return y(d)?Number(d):0}},33816:function(W,G,t){var y=t(53756).counter;W.exports={idRegex:{x:y("x","( domain)?"),y:y("y","( domain)?")},attrRegex:y("[xy]axis"),xAxisMatch:y("xaxis"),yAxisMatch:y("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}},71888:function(W,G,t){var y=t(3400),D=t(19280),s=t(79811).id2name,P=t(94724),M=t(21160),d=t(78344),g=t(39032).ALMOST_EQUAL,r=t(84284).FROM_BL;G.handleDefaults=function(v,T,h){var i=h.axIds,p=h.axHasImage,w=T._axisConstraintGroups=[],A=T._axisMatchGroups=[],L,x,E,S,a,C,b,z;for(L=0;L<i.length;L++)S=s(i[L]),a=v[S],C=T[S],e(a,C,{axIds:i,layoutOut:T,hasImage:p[S]});function k(et,it){for(L=0;L<et.length;L++){x=et[L];for(E in x)T[s(E)][it]=x}}for(k(A,"_matchGroup"),L=0;L<w.length;L++){x=w[L];for(E in x)if(C=T[s(E)],C.fixedrange){for(var U in x){var F=s(U);(v[F]||{}).fixedrange===!1&&y.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),T[F].fixedrange=!0}break}}for(L=0;L<w.length;){x=w[L];for(E in x){C=T[s(E)],C._matchGroup&&Object.keys(C._matchGroup).length===Object.keys(x).length&&(w.splice(L,1),L--);break}L++}k(w,"_constraintGroup");var V=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],N=!1,O=!1;function H(){z=C[b],b==="rangebreaks"&&(O=C._hasDayOfWeekBreaks)}for(L=0;L<A.length;L++){x=A[L];for(var X=0;X<V.length;X++){b=V[X],z=null;var J;for(E in x)if(S=s(E),a=v[S],C=T[S],b in C){if(!C.matches&&(J=C,b in a)){H();break}z===null&&b in a&&H()}if(b==="range"&&z&&a.range&&a.range.length===2&&a.range[0]!==null&&a.range[1]!==null&&(N=!0),b==="autorange"&&z===null&&N&&(z=!1),z===null&&b in J&&(z=J[b]),z!==null)for(E in x)C=T[s(E)],C[b]=b==="range"?z.slice():z,b==="rangebreaks"&&(C._hasDayOfWeekBreaks=O,d(C,T))}}};function e(v,T,h){var i=h.axIds,p=h.layoutOut,w=h.hasImage,A=p._axisConstraintGroups,L=p._axisMatchGroups,x=T._id,E=x.charAt(0),S=((p._splomAxes||{})[E]||{})[x]||{},a=T._id,C=a.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function b(Q,tt){return y.coerce(v,T,P,Q,tt)}b("constrain",w?"domain":"range"),y.coerce(v,T,{constraintoward:{valType:"enumerated",values:C?["left","center","right"]:["bottom","middle","top"],dflt:C?"center":"middle"}},"constraintoward");var z=T.type,k,U,F=[];for(k=0;k<i.length;k++)if(U=i[k],U!==a){var V=p[s(U)];V.type===z&&F.push(U)}var N=n(A,a);if(N){var O=[];for(k=0;k<F.length;k++)U=F[k],N[U]||O.push(U);F=O}var H=F.length,X,J;H&&(v.matches||S.matches)&&(X=y.coerce(v,T,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(S.matches)!==-1?S.matches:void 0}},"matches"));var et=w&&!C?T.anchor:void 0;if(H&&!X&&(v.scaleanchor||et)&&(J=y.coerce(v,T,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",et)),X){T._matchGroup=u(L,a,X,1);var it=p[s(X)],ft=o(p,T)/o(p,it);C!==(X.charAt(0)==="x")&&(ft=(C?"x":"y")+ft),u(A,a,X,ft)}else v.matches&&i.indexOf(v.matches)!==-1&&y.warn("ignored "+T._name+'.matches: "'+v.matches+'" to avoid an infinite loop');if(J){var ot=b("scaleratio");ot||(ot=T.scaleratio=1),u(A,a,J,ot)}else v.scaleanchor&&i.indexOf(v.scaleanchor)!==-1&&y.warn("ignored "+T._name+'.scaleanchor: "'+v.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function o(v,T){var h=T.domain;return h||(h=v[s(T.overlaying)].domain),h[1]-h[0]}function n(v,T){for(var h=0;h<v.length;h++)if(v[h][T])return v[h];return null}function u(v,T,h,i){var p,w,A,L,x,E=n(v,T);E===null?(E={},E[T]=1,x=v.length,v.push(E)):x=v.indexOf(E);var S=Object.keys(E);for(p=0;p<v.length;p++)if(A=v[p],p!==x&&A[h]){var a=A[h];for(w=0;w<S.length;w++)L=S[w],A[L]=f(a,f(i,E[L]));v.splice(x,1);return}if(i!==1)for(w=0;w<S.length;w++){var C=S[w];E[C]=f(i,E[C])}E[h]=1}function f(v,T){var h="",i="",p,w;typeof v=="string"&&(h=v.match(/^[xy]*/)[0],p=h.length,v=+v.substr(p)),typeof T=="string"&&(i=T.match(/^[xy]*/)[0],w=i.length,T=+T.substr(w));var A=v*T;return!p&&!w?A:!p||!w||h.charAt(0)===i.charAt(0)?h+i+v*T:p===w?A:(p>w?h.substr(w):i.substr(p))+A}function c(v,T){for(var h=T._size,i=h.h/h.w,p={},w=Object.keys(v),A=0;A<w.length;A++){var L=w[A],x=v[L];if(typeof x=="string"){var E=x.match(/^[xy]*/)[0],S=E.length;x=+x.substr(S);for(var a=E.charAt(0)==="y"?i:1/i,C=0;C<S;C++)x*=a}p[L]=x}return p}G.enforce=function(T){var h=T._fullLayout,i=h._axisConstraintGroups||[],p,w,A,L,x,E,S,a;for(p=0;p<i.length;p++){A=c(i[p],h);var C=Object.keys(A),b=1/0,z=0,k=1/0,U={},F={},V=!1;for(w=0;w<C.length;w++)L=C[w],F[L]=x=h[s(L)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),U[L]=E=Math.abs(x._m)/A[L],b=Math.min(b,E),(x.constrain==="domain"||!x._constraintShrinkable)&&(k=Math.min(k,E)),delete x._constraintShrinkable,z=Math.max(z,E),x.constrain==="domain"&&(V=!0);if(!(b>g*z&&!V)){for(w=0;w<C.length;w++)if(L=C[w],E=U[L],x=F[L],S=x.constrain,E!==k||S==="domain")if(a=E/k,S==="range")M(x,a);else{var N=x._inputDomain,O=(x.domain[1]-x.domain[0])/(N[1]-N[0]),H=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if(a/=O,a*H<1){x.domain=x._input.domain=N.slice(),M(x,a);continue}if(H<1&&(x.range=x._input.range=x._inputRange.slice(),a*=H),x.autorange){var X=x.r2l(x.range[0]),J=x.r2l(x.range[1]),et=(X+J)/2,it=et,ft=et,ot=Math.abs(J-et),Q=et-ot*a*1.0001,tt=et+ot*a*1.0001,Z=D.makePadFn(h,x,0),q=D.makePadFn(h,x,1);m(x,a);var ut=Math.abs(x._m),$=D.concatExtremes(T,x),j=$.min,lt=$.max,nt,ht;for(ht=0;ht<j.length;ht++)nt=j[ht].val-Z(j[ht])/ut,nt>Q&&nt<it&&(it=nt);for(ht=0;ht<lt.length;ht++)nt=lt[ht].val+q(lt[ht])/ut,nt<tt&&nt>ft&&(ft=nt);var mt=(ft-it)/(2*ot);a/=mt,it=x.l2r(it),ft=x.l2r(ft),x.range=x._input.range=X<J?[it,ft]:[ft,it]}m(x,a)}}}},G.getAxisGroup=function(T,h){for(var i=T._axisMatchGroups,p=0;p<i.length;p++){var w=i[p];if(w[h])return"g"+p}return h},G.clean=function(T,h){if(h._inputDomain){for(var i=!1,p=h._id,w=T._fullLayout._axisConstraintGroups,A=0;A<w.length;A++)if(w[A][p]){i=!0;break}(!i||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function m(v,T){var h=v._inputDomain,i=r[v.constraintoward],p=h[0]+(h[1]-h[0])*i;v.domain=v._input.domain=[p+(h[0]-p)/T,p+(h[1]-p)/T],v.setScale()}},51184:function(W,G,t){var y=t(33428),D=t(3400),s=D.numberFormat,P=t(49760),M=t(89184),d=t(24040),g=D.strTranslate,r=t(72736),e=t(76308),o=t(43616),n=t(93024),u=t(54460),f=t(93972),c=t(86476),m=t(72760),v=m.selectingOrDrawing,T=m.freeMode,h=t(84284).FROM_TL,i=t(73696),p=t(39172).redrawReglTraces,w=t(7316),A=t(79811).getFromId,L=t(22676).prepSelect,x=t(22676).clearOutline,E=t(22676).selectOnClick,S=t(21160),a=t(33816),C=a.MINDRAG,b=a.MINZOOM,z=!0;function k(nt,ht,mt,At,bt,Pt,_t,Ut){var St=nt._fullLayout._zoomlayer,Rt=_t+Ut==="nsew",Et=(_t+Ut).length===1,zt,Ct,Wt,Kt,oe,Jt,te,fe,ve,de,xe,Me,ne,kt,Gt,Yt,Zt,It,Nt,Ht,Lt,dt,xt;mt+=ht.yaxis._shift;function Ot(){if(zt=ht.xaxis,Ct=ht.yaxis,ve=zt._length,de=Ct._length,te=zt._offset,fe=Ct._offset,Wt={},Wt[zt._id]=zt,Kt={},Kt[Ct._id]=Ct,_t&&Ut)for(var Ye=ht.overlays,Pe=0;Pe<Ye.length;Pe++){var Ze=Ye[Pe].xaxis;Wt[Ze._id]=Ze;var nr=Ye[Pe].yaxis;Kt[nr._id]=nr}oe=lt(Wt),Jt=lt(Kt),ne=V(oe,Ut),kt=V(Jt,_t),Gt=!kt&&!ne,Me=$(nt,nt._fullLayout._axisMatchGroups,Wt,Kt),xe=$(nt,nt._fullLayout._axisConstraintGroups,Wt,Kt,Me);var Qe=xe.isSubplotConstrained||Me.isSubplotConstrained;Yt=Ut||Qe,Zt=_t||Qe;var We=nt._fullLayout;It=We._has("scattergl"),Nt=We._has("splom"),Ht=We._has("svg")}Ot();var jt=J(kt+ne,nt._fullLayout.dragmode,Rt),ie=F(ht,_t+Ut+"drag",jt,mt,At,bt,Pt);if(Gt&&!Rt)return ie.onmousedown=null,ie.style.pointerEvents="none",ie;var le={element:ie,gd:nt,plotinfo:ht};le.prepFn=function(Ye,Pe,Ze){var nr=le.dragmode,Qe=nt._fullLayout.dragmode;Qe!==nr&&(le.dragmode=Qe),Ot(),dt=nt._fullLayout._invScaleX,xt=nt._fullLayout._invScaleY,Gt||(Rt?Ye.shiftKey?Qe==="pan"?Qe="zoom":v(Qe)||(Qe="pan"):Ye.ctrlKey&&(Qe="pan"):Qe="pan"),T(Qe)?le.minDrag=1:le.minDrag=void 0,v(Qe)?(le.xaxes=oe,le.yaxes=Jt,L(Ye,Pe,Ze,le,Qe)):(le.clickFn=je,v(nr)&&Ve(),Gt||(Qe==="zoom"?(le.moveFn=be,le.doneFn=_e,le.minDrag=1,ue(Ye,Pe,Ze)):Qe==="pan"&&(le.moveFn=cr,le.doneFn=xr))),nt._fullLayout._redrag=function(){var We=nt._dragdata;if(We&&We.element===ie){var yr=nt._fullLayout.dragmode;v(yr)||(Ot(),Qt([0,0,ve,de]),le.moveFn(We.dx,We.dy))}}};function Ve(){le.plotinfo.selection=!1,x(nt)}function je(Ye,Pe){var Ze=le.gd;if(Ze._fullLayout._activeShapeIndex>=0){Ze._fullLayout._deactivateShape(Ze);return}var nr=Ze._fullLayout.clickmode;if(Q(Ze),Ye===2&&!Et&&Lr(),Rt)nr.indexOf("select")>-1&&E(Pe,Ze,oe,Jt,ht.id,le),nr.indexOf("event")>-1&&n.click(Ze,Pe,ht.id);else if(Ye===1&&Et){var Qe=_t?Ct:zt,We=_t==="s"||Ut==="w"?0:1,yr=Qe._name+".range["+We+"]",Rr=N(Qe,We),Tr="left",vn="middle";if(Qe.fixedrange)return;_t?(vn=_t==="n"?"top":"bottom",Qe.side==="right"&&(Tr="right")):Ut==="e"&&(Tr="right"),Ze._context.showAxisRangeEntryBoxes&&y.select(ie).call(r.makeEditable,{gd:Ze,immediate:!0,background:Ze._fullLayout.paper_bgcolor,text:String(Rr),fill:Qe.tickfont?Qe.tickfont.color:"#444",horizontalAlign:Tr,verticalAlign:vn}).on("edit",function(Or){var En=Qe.d2r(Or);En!==void 0&&d.call("_guiRelayout",Ze,yr,En)})}}c.init(le);var Te,Le,Ke,vr,ge,Xe,$e,mr,or,ye;function ue(Ye,Pe,Ze){var nr=ie.getBoundingClientRect();Te=Pe-nr.left,Le=Ze-nr.top,nt._fullLayout._calcInverseTransform(nt);var Qe=D.apply3DTransform(nt._fullLayout._invTransform)(Te,Le);Te=Qe[0],Le=Qe[1],Ke={l:Te,r:Te,w:0,t:Le,b:Le,h:0},vr=nt._hmpixcount?nt._hmlumcount/nt._hmpixcount:P(nt._fullLayout.plot_bgcolor).getLuminance(),ge="M0,0H"+ve+"V"+de+"H0V0",Xe=!1,$e="xy",ye=!1,mr=et(St,vr,te,fe,ge),or=it(St,te,fe)}function be(Ye,Pe){if(nt._transitioningWithDuration)return!1;var Ze=Math.max(0,Math.min(ve,dt*Ye+Te)),nr=Math.max(0,Math.min(de,xt*Pe+Le)),Qe=Math.abs(Ze-Te),We=Math.abs(nr-Le);Ke.l=Math.min(Te,Ze),Ke.r=Math.max(Te,Ze),Ke.t=Math.min(Le,nr),Ke.b=Math.max(Le,nr);function yr(){$e="",Ke.r=Ke.l,Ke.t=Ke.b,or.attr("d","M0,0Z")}if(xe.isSubplotConstrained)Qe>b||We>b?($e="xy",Qe/ve>We/de?(We=Qe*de/ve,Le>nr?Ke.t=Le-We:Ke.b=Le+We):(Qe=We*ve/de,Te>Ze?Ke.l=Te-Qe:Ke.r=Te+Qe),or.attr("d",ut(Ke))):yr();else if(Me.isSubplotConstrained)if(Qe>b||We>b){$e="xy";var Rr=Math.min(Ke.l/ve,(de-Ke.b)/de),Tr=Math.max(Ke.r/ve,(de-Ke.t)/de);Ke.l=Rr*ve,Ke.r=Tr*ve,Ke.b=(1-Rr)*de,Ke.t=(1-Tr)*de,or.attr("d",ut(Ke))}else yr();else!kt||We<Math.min(Math.max(Qe*.6,C),b)?Qe<C||!ne?yr():(Ke.t=0,Ke.b=de,$e="x",or.attr("d",Z(Ke,Le))):!ne||Qe<Math.min(We*.6,b)?(Ke.l=0,Ke.r=ve,$e="y",or.attr("d",q(Ke,Te))):($e="xy",or.attr("d",ut(Ke)));Ke.w=Ke.r-Ke.l,Ke.h=Ke.b-Ke.t,$e&&(ye=!0),nt._dragged=ye,ft(mr,or,Ke,ge,Xe,vr),Ee(),nt.emit("plotly_relayouting",Lt),Xe=!0}function Ee(){Lt={},($e==="xy"||$e==="x")&&(O(oe,Ke.l/ve,Ke.r/ve,Lt,xe.xaxes),dr("x",Lt)),($e==="xy"||$e==="y")&&(O(Jt,(de-Ke.b)/de,(de-Ke.t)/de,Lt,xe.yaxes),dr("y",Lt))}function _e(){Ee(),Q(nt),xr(),tt(nt)}var Oe=[0,0,ve,de],Fe=null,Be=a.REDRAWDELAY,Je=ht.mainplot?nt._fullLayout._plots[ht.mainplot]:ht;function hr(Ye){if(!nt._context._scrollZoom.cartesian&&!nt._fullLayout._enablescrollzoom)return;if(Ve(),nt._transitioningWithDuration){Ye.preventDefault(),Ye.stopPropagation();return}Ot(),clearTimeout(Fe);var Pe=-Ye.deltaY;if(isFinite(Pe)||(Pe=Ye.wheelDelta/10),!isFinite(Pe)){D.log("Did not find wheel motion attributes: ",Ye);return}var Ze=Math.exp(-Math.min(Math.max(Pe,-20),20)/200),nr=Je.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Qe=(Ye.clientX-nr.left)/nr.width,We=(nr.bottom-Ye.clientY)/nr.height,yr;function Rr(Tr,vn,Or){if(Tr.fixedrange)return;var En=D.simpleMap(Tr.range,Tr.r2l),nn=En[0]+(En[1]-En[0])*vn;function gr(Pr){return Tr.l2r(nn+(Pr-nn)*Or)}Tr.range=En.map(gr)}if(Yt){for(Ut||(Qe=.5),yr=0;yr<oe.length;yr++)Rr(oe[yr],Qe,Ze);dr("x"),Oe[2]*=Ze,Oe[0]+=Oe[2]*Qe*(1/Ze-1)}if(Zt){for(_t||(We=.5),yr=0;yr<Jt.length;yr++)Rr(Jt[yr],We,Ze);dr("y"),Oe[3]*=Ze,Oe[1]+=Oe[3]*(1-We)*(1/Ze-1)}Qt(Oe),fr(),nt.emit("plotly_relayouting",Lt),Fe=setTimeout(function(){nt._fullLayout&&(Oe=[0,0,ve,de],xr())},Be),Ye.preventDefault()}_t.length*Ut.length!==1&&j(ie,hr);function cr(Ye,Pe){if(Ye=Ye*dt,Pe=Pe*xt,nt._transitioningWithDuration)return;if(nt._fullLayout._replotting=!0,ne==="ew"||kt==="ns"){var Ze=ne?-Ye:0,nr=kt?-Pe:0;if(Me.isSubplotConstrained){if(ne&&kt){var Qe=(Ye/ve-Pe/de)/2;Ye=Qe*ve,Pe=-Qe*de,Ze=-Ye,nr=-Pe}kt?Ze=-nr*ve/de:nr=-Ze*de/ve}ne&&(H(oe,Ye),dr("x")),kt&&(H(Jt,Pe),dr("y")),Qt([Ze,nr,ve,de]),fr(),nt.emit("plotly_relayouting",Lt);return}function We(gr,Pr,jr){for(var _r=1-Pr,pn,en,Tn=0;Tn<gr.length;Tn++){var Pn=gr[Tn];if(!Pn.fixedrange){pn=Pn,en=Pn._rl[_r]+(Pn._rl[Pr]-Pn._rl[_r])/X(jr/Pn._length);var Gn=Pn.l2r(en);Gn!==!1&&Gn!==void 0&&(Pn.range[Pr]=Gn)}}return pn._length*(pn._rl[Pr]-en)/(pn._rl[Pr]-pn._rl[_r])}var yr=ne==="w"==(kt==="n")?1:-1;if(ne&&kt&&(xe.isSubplotConstrained||Me.isSubplotConstrained)){var Rr=(Ye/ve+yr*Pe/de)/2;Ye=Rr*ve,Pe=yr*Rr*de}var Tr,vn;if(ne==="w"?Ye=We(oe,0,Ye):ne==="e"?Ye=We(oe,1,-Ye):ne||(Ye=0),kt==="n"?Pe=We(Jt,1,Pe):kt==="s"?Pe=We(Jt,0,-Pe):kt||(Pe=0),Tr=ne==="w"?Ye:0,vn=kt==="n"?Pe:0,xe.isSubplotConstrained&&!Me.isSubplotConstrained||Me.isSubplotConstrained&&ne&&kt&&yr>0){var Or;if(Me.isSubplotConstrained||!ne&&kt.length===1){for(Or=0;Or<oe.length;Or++)oe[Or].range=oe[Or]._r.slice(),S(oe[Or],1-Pe/de);Ye=Pe*ve/de,Tr=Ye/2}if(Me.isSubplotConstrained||!kt&&ne.length===1){for(Or=0;Or<Jt.length;Or++)Jt[Or].range=Jt[Or]._r.slice(),S(Jt[Or],1-Ye/ve);Pe=Ye*de/ve,vn=Pe/2}}(!Me.isSubplotConstrained||!kt)&&dr("x"),(!Me.isSubplotConstrained||!ne)&&dr("y");var En=ve-Ye,nn=de-Pe;Me.isSubplotConstrained&&!(ne&&kt)&&(ne?(vn=Tr?0:Ye*de/ve,nn=En*de/ve):(Tr=vn?0:Pe*ve/de,En=nn*ve/de)),Qt([Tr,vn,En,nn]),fr(),nt.emit("plotly_relayouting",Lt)}function dr(Ye,Pe){for(var Ze=Me.isSubplotConstrained?{x:Jt,y:oe}[Ye]:Me[Ye+"axes"],nr=Me.isSubplotConstrained?{x:oe,y:Jt}[Ye]:[],Qe=0;Qe<Ze.length;Qe++){var We=Ze[Qe],yr=We._id,Rr=Me.xLinks[yr]||Me.yLinks[yr],Tr=nr[0]||Wt[Rr]||Kt[Rr];Tr&&(Pe?(Pe[We._name+".range[0]"]=Pe[Tr._name+".range[0]"],Pe[We._name+".range[1]"]=Pe[Tr._name+".range[1]"]):We.range=Tr.range.slice())}}function fr(){var Ye=[],Pe;function Ze(yr){for(Pe=0;Pe<yr.length;Pe++)yr[Pe].fixedrange||Ye.push(yr[Pe]._id)}function nr(yr,Rr){for(Pe=0;Pe<yr.length;Pe++){var Tr=yr[Pe],vn=Tr[Rr];!Tr.fixedrange&&vn.tickmode==="sync"&&Ye.push(vn._id)}}for(Yt&&(Ze(oe),Ze(xe.xaxes),Ze(Me.xaxes),nr(ht.overlays,"xaxis")),Zt&&(Ze(Jt),Ze(xe.yaxes),Ze(Me.yaxes),nr(ht.overlays,"yaxis")),Lt={},Pe=0;Pe<Ye.length;Pe++){var Qe=Ye[Pe],We=A(nt,Qe);u.drawOne(nt,We,{skipTitle:!0}),Lt[We._name+".range[0]"]=We.range[0],Lt[We._name+".range[1]"]=We.range[1]}u.redrawComponents(nt,Ye)}function Lr(){if(!nt._transitioningWithDuration){var Ye=nt._context.doubleClick,Pe=[];ne&&(Pe=Pe.concat(oe)),kt&&(Pe=Pe.concat(Jt)),Me.xaxes&&(Pe=Pe.concat(Me.xaxes)),Me.yaxes&&(Pe=Pe.concat(Me.yaxes));var Ze={},nr,Qe;if(Ye==="reset+autosize")for(Ye="autosize",Qe=0;Qe<Pe.length;Qe++){nr=Pe[Qe];var We=nr._rangeInitial0,yr=nr._rangeInitial1,Rr=We!==void 0||yr!==void 0;if(Rr&&(We!==void 0&&We!==nr.range[0]||yr!==void 0&&yr!==nr.range[1])||!Rr&&nr.autorange!==!0){Ye="reset";break}}if(Ye==="autosize")for(Qe=0;Qe<Pe.length;Qe++)nr=Pe[Qe],nr.fixedrange||(Ze[nr._name+".autorange"]=!0);else if(Ye==="reset"){for((ne||xe.isSubplotConstrained)&&(Pe=Pe.concat(xe.xaxes)),kt&&!xe.isSubplotConstrained&&(Pe=Pe.concat(xe.yaxes)),xe.isSubplotConstrained&&(ne?kt||(Pe=Pe.concat(Jt)):Pe=Pe.concat(oe)),Qe=0;Qe<Pe.length;Qe++)if(nr=Pe[Qe],!nr.fixedrange){var Tr=nr._name,vn=nr._autorangeInitial;nr._rangeInitial0===void 0&&nr._rangeInitial1===void 0?Ze[Tr+".autorange"]=!0:nr._rangeInitial0===void 0?(Ze[Tr+".autorange"]=vn,Ze[Tr+".range"]=[null,nr._rangeInitial1]):nr._rangeInitial1===void 0?(Ze[Tr+".range"]=[nr._rangeInitial0,null],Ze[Tr+".autorange"]=vn):Ze[Tr+".range"]=[nr._rangeInitial0,nr._rangeInitial1]}}nt.emit("plotly_doubleclick",null),d.call("_guiRelayout",nt,Ze)}}function xr(){Qt([0,0,ve,de]),D.syncOrAsync([w.previousPromises,function(){nt._fullLayout._replotting=!1,d.call("_guiRelayout",nt,Lt)}],nt)}function Qt(Ye){var Pe=nt._fullLayout,Ze=Pe._plots,nr=Pe._subplots.cartesian,Qe,We,yr,Rr;if(Nt&&d.subplotsRegistry.splom.drag(nt),It){for(Qe=0;Qe<nr.length;Qe++)if(We=Ze[nr[Qe]],yr=We.xaxis,Rr=We.yaxis,We._scene){yr.limitRange&&yr.limitRange(),Rr.limitRange&&Rr.limitRange();var Tr=D.simpleMap(yr.range,yr.r2l),vn=D.simpleMap(Rr.range,Rr.r2l);We._scene.update({range:[Tr[0],vn[0],Tr[1],vn[1]]})}}if((Nt||It)&&(i(nt),p(nt)),Ht){var Or=Ye[2]/zt._length,En=Ye[3]/Ct._length;for(Qe=0;Qe<nr.length;Qe++){We=Ze[nr[Qe]],yr=We.xaxis,Rr=We.yaxis;var nn=(Yt||Me.isSubplotConstrained)&&!yr.fixedrange&&Wt[yr._id],gr=(Zt||Me.isSubplotConstrained)&&!Rr.fixedrange&&Kt[Rr._id],Pr,jr,_r,pn;if(nn?(Pr=Or,_r=Ut||Me.isSubplotConstrained?Ye[0]:er(yr,Pr)):Me.xaHash[yr._id]?(Pr=Or,_r=Ye[0]*yr._length/zt._length):Me.yaHash[yr._id]?(Pr=En,_r=kt==="ns"?-Ye[1]*yr._length/Ct._length:er(yr,Pr,{n:"top",s:"bottom"}[kt])):(Pr=re(yr,Or,En),_r=tr(yr,Pr)),Pr>1&&(yr.maxallowed!==void 0&&Yt===(yr.range[0]<yr.range[1]?"e":"w")||yr.minallowed!==void 0&&Yt===(yr.range[0]<yr.range[1]?"w":"e"))&&(Pr=1,_r=0),gr?(jr=En,pn=_t||Me.isSubplotConstrained?Ye[1]:er(Rr,jr)):Me.yaHash[Rr._id]?(jr=En,pn=Ye[1]*Rr._length/Ct._length):Me.xaHash[Rr._id]?(jr=Or,pn=ne==="ew"?-Ye[0]*Rr._length/zt._length:er(Rr,jr,{e:"right",w:"left"}[ne])):(jr=re(Rr,Or,En),pn=tr(Rr,jr)),jr>1&&(Rr.maxallowed!==void 0&&Zt===(Rr.range[0]<Rr.range[1]?"n":"s")||Rr.minallowed!==void 0&&Zt===(Rr.range[0]<Rr.range[1]?"s":"n"))&&(jr=1,pn=0),!(!Pr&&!jr)){Pr||(Pr=1),jr||(jr=1);var en=yr._offset-_r/Pr,Tn=Rr._offset-pn/jr;We.clipRect.call(o.setTranslate,_r,pn).call(o.setScale,Pr,jr),We.plot.call(o.setTranslate,en,Tn).call(o.setScale,1/Pr,1/jr),(Pr!==We.xScaleFactor||jr!==We.yScaleFactor)&&(o.setPointGroupScale(We.zoomScalePts,Pr,jr),o.setTextPointsScale(We.zoomScaleTxt,Pr,jr)),o.hideOutsideRangePoints(We.clipOnAxisFalseTraces,We),We.xScaleFactor=Pr,We.yScaleFactor=jr}}}}function re(Ye,Pe,Ze){return Ye.fixedrange?0:Yt&&xe.xaHash[Ye._id]?Pe:Zt&&(xe.isSubplotConstrained?xe.xaHash:xe.yaHash)[Ye._id]?Ze:0}function tr(Ye,Pe){return Pe?(Ye.range=Ye._r.slice(),S(Ye,Pe),er(Ye,Pe)):0}function er(Ye,Pe,Ze){return Ye._length*(1-Pe)*h[Ze||Ye.constraintoward||"middle"]}return ie}function U(nt,ht,mt,At){var bt=D.ensureSingle(nt.draglayer,ht,mt,function(Pt){Pt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",nt.id)});return bt.call(f,At),bt.node()}function F(nt,ht,mt,At,bt,Pt,_t){var Ut=U(nt,"rect",ht,mt);return y.select(Ut).call(o.setRect,At,bt,Pt,_t),Ut}function V(nt,ht){for(var mt=0;mt<nt.length;mt++)if(!nt[mt].fixedrange)return ht;return""}function N(nt,ht){var mt=nt.range[ht],At=Math.abs(mt-nt.range[1-ht]),bt;return nt.type==="date"?mt:nt.type==="log"?(bt=Math.ceil(Math.max(0,-Math.log(At)/Math.LN10))+3,s("."+bt+"g")(Math.pow(10,mt))):(bt=Math.floor(Math.log(Math.abs(mt))/Math.LN10)-Math.floor(Math.log(At)/Math.LN10)+4,s("."+String(bt)+"g")(mt))}function O(nt,ht,mt,At,bt){for(var Pt=0;Pt<nt.length;Pt++){var _t=nt[Pt];if(!_t.fixedrange)if(_t.rangebreaks){var Ut=_t._id.charAt(0)==="y",St=Ut?1-ht:ht,Rt=Ut?1-mt:mt;At[_t._name+".range[0]"]=_t.l2r(_t.p2l(St*_t._length)),At[_t._name+".range[1]"]=_t.l2r(_t.p2l(Rt*_t._length))}else{var Et=_t._rl[0],zt=_t._rl[1]-Et;At[_t._name+".range[0]"]=_t.l2r(Et+zt*ht),At[_t._name+".range[1]"]=_t.l2r(Et+zt*mt)}}if(bt&&bt.length){var Ct=(ht+(1-mt))/2;O(bt,Ct,1-Ct,At,[])}}function H(nt,ht){for(var mt=0;mt<nt.length;mt++){var At=nt[mt];if(!At.fixedrange){if(At.rangebreaks){var bt=0,Pt=At._length,_t=At.p2l(bt+ht)-At.p2l(bt),Ut=At.p2l(Pt+ht)-At.p2l(Pt),St=(_t+Ut)/2;At.range=[At.l2r(At._rl[0]-St),At.l2r(At._rl[1]-St)]}else At.range=[At.l2r(At._rl[0]-ht/At._m),At.l2r(At._rl[1]-ht/At._m)];At.limitRange&&At.limitRange()}}}function X(nt){return 1-(nt>=0?Math.min(nt,.9):1/(1/Math.max(nt,-.3)+3.222))}function J(nt,ht,mt){return nt?nt==="nsew"?mt?"":ht==="pan"?"move":"crosshair":nt.toLowerCase()+"-resize":"pointer"}function et(nt,ht,mt,At,bt){return nt.append("path").attr("class","zoombox").style({fill:ht>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",g(mt,At)).attr("d",bt+"Z")}function it(nt,ht,mt){return nt.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1,opacity:0}).attr("transform",g(ht,mt)).attr("d","M0,0Z")}function ft(nt,ht,mt,At,bt,Pt){nt.attr("d",At+"M"+mt.l+","+mt.t+"v"+mt.h+"h"+mt.w+"v-"+mt.h+"h-"+mt.w+"Z"),ot(nt,ht,bt,Pt)}function ot(nt,ht,mt,At){mt||(nt.transition().style("fill",At>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ht.transition().style("opacity",1).duration(200))}function Q(nt){y.select(nt).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function tt(nt){z&&nt.data&&nt._context.showTips&&(D.notifier(D._(nt,"Double-click to zoom back out"),"long"),z=!1)}function Z(nt,ht){return"M"+(nt.l-.5)+","+(ht-b-.5)+"h-3v"+(2*b+1)+"h3ZM"+(nt.r+.5)+","+(ht-b-.5)+"h3v"+(2*b+1)+"h-3Z"}function q(nt,ht){return"M"+(ht-b-.5)+","+(nt.t-.5)+"v-3h"+(2*b+1)+"v3ZM"+(ht-b-.5)+","+(nt.b+.5)+"v3h"+(2*b+1)+"v-3Z"}function ut(nt){var ht=Math.floor(Math.min(nt.b-nt.t,nt.r-nt.l,b)/2);return"M"+(nt.l-3.5)+","+(nt.t-.5+ht)+"h3v"+-ht+"h"+ht+"v-3h-"+(ht+3)+"ZM"+(nt.r+3.5)+","+(nt.t-.5+ht)+"h-3v"+-ht+"h"+-ht+"v-3h"+(ht+3)+"ZM"+(nt.r+3.5)+","+(nt.b+.5-ht)+"h-3v"+ht+"h"+-ht+"v3h"+(ht+3)+"ZM"+(nt.l-3.5)+","+(nt.b+.5-ht)+"h3v"+ht+"h"+ht+"v3h-"+(ht+3)+"Z"}function $(nt,ht,mt,At,bt){for(var Pt=!1,_t={},Ut={},St,Rt,Et,zt,Ct=(bt||{}).xaHash,Wt=(bt||{}).yaHash,Kt=0;Kt<ht.length;Kt++){var oe=ht[Kt];for(St in mt)if(oe[St]){for(Et in oe)!(bt&&(Ct[Et]||Wt[Et]))&&!(Et.charAt(0)==="x"?mt:At)[Et]&&(_t[Et]=St);for(Rt in At)!(bt&&(Ct[Rt]||Wt[Rt]))&&oe[Rt]&&(Pt=!0)}for(Rt in At)if(oe[Rt])for(zt in oe)!(bt&&(Ct[zt]||Wt[zt]))&&!(zt.charAt(0)==="x"?mt:At)[zt]&&(Ut[zt]=Rt)}Pt&&(D.extendFlat(_t,Ut),Ut={});var Jt={},te=[];for(Et in _t){var fe=A(nt,Et);te.push(fe),Jt[fe._id]=fe}var ve={},de=[];for(zt in Ut){var xe=A(nt,zt);de.push(xe),ve[xe._id]=xe}return{xaHash:Jt,yaHash:ve,xaxes:te,yaxes:de,xLinks:_t,yLinks:Ut,isSubplotConstrained:Pt}}function j(nt,ht){if(!M)nt.onwheel!==void 0?nt.onwheel=ht:nt.onmousewheel!==void 0?nt.onmousewheel=ht:nt.isAddedWheelEvent||(nt.isAddedWheelEvent=!0,nt.addEventListener("wheel",ht,{passive:!1}));else{var mt=nt.onwheel!==void 0?"wheel":"mousewheel";nt._onwheel&&nt.removeEventListener(mt,nt._onwheel),nt._onwheel=ht,nt.addEventListener(mt,ht,{passive:!1})}}function lt(nt){var ht=[];for(var mt in nt)ht.push(nt[mt]);return ht}W.exports={makeDragBox:k,makeDragger:U,makeRectDragger:F,makeZoombox:et,makeCorners:it,updateZoombox:ft,xyCorners:ut,transitionZoombox:ot,removeZoombox:Q,showDoubleClickNotifier:tt,attachWheelEventHandler:j}},42464:function(W,G,t){var y=t(33428),D=t(93024),s=t(86476),P=t(93972),M=t(51184).makeDragBox,d=t(33816).DRAGGERSIZE;G.initInteractions=function(r){var e=r._fullLayout;if(r._context.staticPlot){y.select(r).selectAll(".drag").remove();return}if(!(!e._has("cartesian")&&!e._has("splom"))){var o=Object.keys(e._plots||{}).sort(function(u,f){if((e._plots[u].mainplot&&!0)===(e._plots[f].mainplot&&!0)){var c=u.split("y"),m=f.split("y");return c[0]===m[0]?Number(c[1]||1)-Number(m[1]||1):Number(c[0]||1)-Number(m[0]||1)}return e._plots[u].mainplot?1:-1});o.forEach(function(u){var f=e._plots[u],c=f.xaxis,m=f.yaxis;if(!f.mainplot){var v=M(r,f,c._offset,m._offset,c._length,m._length,"ns","ew");v.onmousemove=function(i){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===u&&r._fullLayout._plots[u]&&D.hover(r,i,u)},D.hover(r,i,u),r._fullLayout._lasthover=v,r._fullLayout._hoversubplot=u},v.onmouseout=function(i){r._dragging||(r._fullLayout._hoversubplot=null,s.unhover(r,i))},r._context.showAxisDragHandles&&(M(r,f,c._offset-d,m._offset-d,d,d,"n","w"),M(r,f,c._offset+c._length,m._offset-d,d,d,"n","e"),M(r,f,c._offset-d,m._offset+m._length,d,d,"s","w"),M(r,f,c._offset+c._length,m._offset+m._length,d,d,"s","e"))}if(r._context.showAxisDragHandles){if(u===c._mainSubplot){var T=c._mainLinePosition;c.side==="top"&&(T-=d),M(r,f,c._offset+c._length*.1,T,c._length*.8,d,"","ew"),M(r,f,c._offset,T,c._length*.1,d,"","w"),M(r,f,c._offset+c._length*.9,T,c._length*.1,d,"","e")}if(u===m._mainSubplot){var h=m._mainLinePosition;m.side!=="right"&&(h-=d),M(r,f,h,m._offset+m._length*.1,d,m._length*.8,"ns",""),M(r,f,h,m._offset+m._length*.9,d,m._length*.1,"s",""),M(r,f,h,m._offset,d,m._length*.1,"n","")}}});var n=e._hoverlayer.node();n.onmousemove=function(u){u.target=r._fullLayout._lasthover,D.hover(r,u,e._hoversubplot)},n.onclick=function(u){u.target=r._fullLayout._lasthover,D.click(r,u)},n.onmousedown=function(u){r._fullLayout._lasthover.onmousedown(u)},G.updateFx(r)}},G.updateFx=function(g){var r=g._fullLayout,e=r.dragmode==="pan"?"move":"crosshair";P(r._draggers,e)}},36632:function(W,G,t){var y=t(24040),D=t(3400),s=t(79811);W.exports=function(M){return function(g,r){var e=g[M];if(Array.isArray(e))for(var o=y.subplotsRegistry.cartesian,n=o.idRegex,u=r._subplots,f=u.xaxis,c=u.yaxis,m=u.cartesian,v=r._has("cartesian")||r._has("gl2d"),T=0;T<e.length;T++){var h=e[T];if(D.isPlainObject(h)){var i=s.cleanId(h.xref,"x",!1),p=s.cleanId(h.yref,"y",!1),w=n.x.test(i),A=n.y.test(p);if(w||A){v||D.pushUnique(r._basePlotModules,o);var L=!1;w&&f.indexOf(i)===-1&&(f.push(i),L=!0),A&&c.indexOf(p)===-1&&(c.push(p),L=!0),L&&w&&A&&m.push(i+p)}}}}}},57952:function(W,G,t){var y=t(33428),D=t(24040),s=t(3400),P=t(7316),M=t(43616),d=t(84888)._M,g=t(79811),r=t(33816),e=t(9616),o=s.ensureSingle;function n(h,i,p){return s.ensureSingle(h,i,p,function(w){w.datum(p)})}var u=r.zindexSeparator;G.name="cartesian",G.attr=["xaxis","yaxis"],G.idRoot=["x","y"],G.idRegex=r.idRegex,G.attrRegex=r.attrRegex,G.attributes=t(26720),G.layoutAttributes=t(94724),G.supplyLayoutDefaults=t(67352),G.transitionAxes=t(73736),G.finalizeSubplots=function(h,i){var p=i._subplots,w=p.xaxis,A=p.yaxis,L=p.cartesian,x=L.concat(p.gl2d||[]),E={},S={},a,C,b;for(a=0;a<x.length;a++){var z=x[a].split("y");E[z[0]]=1,S["y"+z[1]]=1}for(a=0;a<w.length;a++)C=w[a],E[C]||(b=(h[g.id2name(C)]||{}).anchor,r.idRegex.y.test(b)||(b="y"),L.push(C+b),x.push(C+b),S[b]||(S[b]=1,s.pushUnique(A,b)));for(a=0;a<A.length;a++)b=A[a],S[b]||(C=(h[g.id2name(b)]||{}).anchor,r.idRegex.x.test(C)||(C="x"),L.push(C+b),x.push(C+b),E[C]||(E[C]=1,s.pushUnique(w,C)));if(!x.length){C="",b="";for(var k in h)if(r.attrRegex.test(k)){var U=k.charAt(0);U==="x"?(!C||+k.substr(5)<+C.substr(5))&&(C=k):(!b||+k.substr(5)<+b.substr(5))&&(b=k)}C=C?g.name2id(C):"x",b=b?g.name2id(b):"y",w.push(C),A.push(b),L.push(C+b)}},G.plot=function(h,i,p,w){var A=h._fullLayout,L=A._subplots.cartesian,x=h.calcdata,E;if(!Array.isArray(i))for(i=[],E=0;E<x.length;E++)i.push(E);for(var S=A._zindices,a=0;a<S.length;a++){var C=S[a];for(E=0;E<L.length;E++){var b=L[E],z=A._plots[b];if(a>0){var k=z.id;if(k.indexOf(u)!==-1)continue;k+=u+(a+1),z=s.extendFlat({},z,{id:k,plot:A._cartesianlayer.selectAll(".subplot").select("."+k)})}for(var U=[],F,V=0;V<x.length;V++){var N=x[V],O=N[0].trace;C===(O.zorder||0)&&O.xaxis+O.yaxis===b&&((i.indexOf(O.index)!==-1||O.carpet)&&(F&&F[0].trace.xaxis+F[0].trace.yaxis===b&&["tonextx","tonexty","tonext"].indexOf(O.fill)!==-1&&U.indexOf(F)===-1&&U.push(F),U.push(N)),F=N)}f(h,z,U,p,w)}}};function f(h,i,p,w,A){for(var L=r.traceLayerClasses,x=h._fullLayout,E=x._zindices,S=x._modules,a,C,b,z=[],k=[],U=0;U<E.length;U++)for(var F=E[U],V=0;V<S.length;V++){a=S[V];var N=a.name,O=D.modules[N].categories;if(O.svg){var H=a.layerName||N+"layer",X=H+(U?Number(U)+1:""),J=a.plot;C=d(p,J,F),b=C[0],p=C[1],b.length&&z.push({i:L.indexOf(H),zorder:U,className:X,plotMethod:J,cdModule:b}),O.zoomScale&&k.push("."+X)}}z.sort(function(ft,ot){return(ft.zorder||0)-(ot.zorder||0)||ft.i-ot.i});var et=i.plot.selectAll("g.mlayer").data(z,function(ft){return ft.className});if(et.enter().append("g").attr("class",function(ft){return ft.className}).classed("mlayer",!0).classed("rangeplot",i.isRangePlot),et.exit().remove(),et.order(),et.each(function(ft){var ot=y.select(this),Q=ft.className;ft.plotMethod(h,i,ft.cdModule,ot,w,A),r.clipOnAxisFalseQuery.indexOf("."+Q)===-1&&M.setClipUrl(ot,i.layerClipId,h)}),x._has("scattergl")&&(a=D.getModule("scattergl"),b=d(p,a)[0],a.plot(h,i,b)),!h._context.staticPlot&&(i._hasClipOnAxisFalse&&(i.clipOnAxisFalseTraces=i.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),k.length)){var it=i.plot.selectAll(k.join(",")).selectAll(".trace");i.zoomScalePts=it.selectAll("path.point"),i.zoomScaleTxt=it.selectAll(".textpoint")}}G.clean=function(h,i,p,w){var A=w._plots||{},L=i._plots||{},x=w._subplots||{},E,S,a;if(w._hasOnlyLargeSploms&&!i._hasOnlyLargeSploms)for(a in A)E=A[a],E.plotgroup&&E.plotgroup.remove();var C=w._has&&w._has("gl"),b=i._has&&i._has("gl");if(C&&!b)for(a in A)E=A[a],E._scene&&E._scene.destroy();if(x.xaxis&&x.yaxis){var z=g.listIds({_fullLayout:w});for(S=0;S<z.length;S++){var k=z[S];i[g.id2name(k)]||w._infolayer.selectAll(".g-"+k+"title").remove()}}var U=w._has&&w._has("cartesian"),F=i._has&&i._has("cartesian");if(U&&!F)v(w._cartesianlayer.selectAll(".subplot"),w),w._defs.selectAll(".axesclip").remove(),delete w._axisConstraintGroups,delete w._axisMatchGroups;else if(x.cartesian)for(S=0;S<x.cartesian.length;S++){var V=x.cartesian[S];if(V.indexOf(u)===-1&&!L[V]){var N="."+V+",."+V+"-x,."+V+"-y";w._cartesianlayer.selectAll(N).remove(),T(V,w)}}},G.drawFramework=function(h){var i=h._fullLayout,p=h.calcdata,w,A={};for(w=0;w<p.length;w++){var L=p[w][0],x=L.trace,E=x.zorder||0;A[E]||(A[E]=[]),A[E].push(L)}var S=Object.keys(A).map(Number).sort(s.sorterAsc);S.length||(S=[0]),i._zindices=S;var a=c(h),C=a.length,b=[];for(w=0;w<C;w++)b[w]=a[w].slice();for(var z=1;z<S.length;z++){var k=[];for(w=0;w<C;w++)k[w]=a[w].slice(),k[w][0]+=u+(z+1);b=b.concat(k)}var U=i._cartesianlayer.selectAll(".subplot").data(b,String);U.enter().append("g").attr("class",function(F){return"subplot "+F[0]}),U.order(),U.exit().call(v,i),U.each(function(F){var V=F[0],N=V.indexOf(u),O=N!==-1,H=O?V.slice(0,N):V,X=i._plots[V];X||(X=s.extendFlat({},i._plots[H]),X&&(X.id=V,i._plots[V]=X,i._subplots.cartesian.push(V))),X&&(X.plotgroup=y.select(this),m(h,X),O||(X.draglayer=o(i._draggers,"g",V)))})},G.rangePlot=function(h,i,p){m(h,i),f(h,i,p),P.style(h)};function c(h){var i=h._fullLayout,p=i._zindices.length,w=i._subplots.cartesian,A=w.length,L,x,E,S,a,C,b=[],z=[];for(L=0;L<A;L++){E=w[L],S=i._plots[E],a=S.xaxis,C=S.yaxis;var k=a._mainAxis,U=C._mainAxis,F=k._id+U._id,V=i._plots[F];S.overlays=[],F!==E&&V?(S.mainplot=F,S.mainplotinfo=V,z.push(E)):(S.mainplot=void 0,S.mainplotinfo=void 0,b.push(E))}for(L=0;L<z.length;L++)E=z[L],S=i._plots[E],S.mainplotinfo.overlays.push(S);var N=b.concat(z),O=[];for(L=0;L<A;L++){E=N[L],S=i._plots[E],a=S.xaxis,C=S.yaxis;for(var H=[],X=1;X<=p;X++){var J="";for(X>1&&(J+=u+X),H.push(E+J),x=0;x<S.overlays.length;x++)H.push(S.overlays[x].id+J)}H=H.concat([a.layer,C.layer,a.overlaying||"",C.overlaying||""]),O.push(H)}return O}function m(h,i){var p=i.plotgroup,w=i.id,A=w.indexOf(u),L=A!==-1,x=r.layerValue2layerClass[i.xaxis.layer],E=r.layerValue2layerClass[i.yaxis.layer],S=h._fullLayout._hasOnlyLargeSploms;if(i.mainplot){var b=i.mainplotinfo,z=b.plotgroup,k=w+"-x",U=w+"-y";i.minorGridlayer=b.minorGridlayer,i.gridlayer=b.gridlayer,i.zerolinelayer=b.zerolinelayer,o(b.overlinesBelow,"path",k),o(b.overlinesBelow,"path",U),o(b.overaxesBelow,"g",k),o(b.overaxesBelow,"g",U),i.plot=o(b.overplot,"g",w),o(b.overlinesAbove,"path",k),o(b.overlinesAbove,"path",U),o(b.overaxesAbove,"g",k),o(b.overaxesAbove,"g",U),i.xlines=z.select(".overlines-"+x).select("."+k),i.ylines=z.select(".overlines-"+E).select("."+U),i.xaxislayer=z.select(".overaxes-"+x).select("."+k),i.yaxislayer=z.select(".overaxes-"+E).select("."+U)}else if(S)i.xlines=o(p,"path","xlines-above"),i.ylines=o(p,"path","ylines-above"),i.xaxislayer=o(p,"g","xaxislayer-above"),i.yaxislayer=o(p,"g","yaxislayer-above");else{if(!L){var a=o(p,"g","layer-subplot");i.shapelayer=o(a,"g","shapelayer"),i.imagelayer=o(a,"g","imagelayer"),i.minorGridlayer=o(p,"g","minor-gridlayer"),i.gridlayer=o(p,"g","gridlayer"),i.zerolinelayer=o(p,"g","zerolinelayer");var C=o(p,"g","layer-between");i.shapelayerBetween=o(C,"g","shapelayer"),i.imagelayerBetween=o(C,"g","imagelayer"),o(p,"path","xlines-below"),o(p,"path","ylines-below"),i.overlinesBelow=o(p,"g","overlines-below"),o(p,"g","xaxislayer-below"),o(p,"g","yaxislayer-below"),i.overaxesBelow=o(p,"g","overaxes-below")}i.overplot=o(p,"g","overplot"),i.plot=o(i.overplot,"g",w),L||(i.xlines=o(p,"path","xlines-above"),i.ylines=o(p,"path","ylines-above"),i.overlinesAbove=o(p,"g","overlines-above"),o(p,"g","xaxislayer-above"),o(p,"g","yaxislayer-above"),i.overaxesAbove=o(p,"g","overaxes-above"),i.xlines=p.select(".xlines-"+x),i.ylines=p.select(".ylines-"+E),i.xaxislayer=p.select(".xaxislayer-"+x),i.yaxislayer=p.select(".yaxislayer-"+E))}L||(S||(n(i.minorGridlayer,"g",i.xaxis._id),n(i.minorGridlayer,"g",i.yaxis._id),i.minorGridlayer.selectAll("g").map(function(F){return F[0]}).sort(g.idSort),n(i.gridlayer,"g",i.xaxis._id),n(i.gridlayer,"g",i.yaxis._id),i.gridlayer.selectAll("g").map(function(F){return F[0]}).sort(g.idSort)),i.xlines.style("fill","none").classed("crisp",!0),i.ylines.style("fill","none").classed("crisp",!0))}function v(h,i){if(h){var p={};h.each(function(S){var a=S[0],C=y.select(this);C.remove(),T(a,i),p[a]=!0});for(var w in i._plots)for(var A=i._plots[w],L=A.overlays||[],x=0;x<L.length;x++){var E=L[x];p[E.id]&&E.plot.selectAll(".trace").remove()}}}function T(h,i){i._draggers.selectAll("g."+h).remove(),i._defs.select("#clip"+i._uid+h+"plot").remove()}G.toSVG=function(h){var i=h._fullLayout._glimages,p=y.select(h).selectAll(".svg-container"),w=p.filter(function(L,x){return x===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function A(){var L=this,x=L.toDataURL("image/png"),E=i.append("svg:image");E.attr({xmlns:e.svg,"xlink:href":x,preserveAspectRatio:"none",x:0,y:0,width:L.style.width,height:L.style.height})}w.each(A)},G.updateFx=t(42464).updateFx},94724:function(W,G,t){var y=t(25376),D=t(22548),s=t(98192).u,P=t(92880).extendFlat,M=t(31780).templatedArray,d=t(29736).descriptionWithDates,g=t(39032).ONEDAY,r=t(33816),e=r.HOUR_PATTERN,o=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},u=P({},n,{values:n.values.slice().concat(["sync"])});function f(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var c={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},v={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function h(E){var S={valType:"number",min:0,editType:"ticks"};return E||(S.dflt=5),S}function i(E){var S={valType:"number",min:0,editType:"ticks"};return E||(S.dflt=1),S}var p={valType:"color",dflt:D.defaultLine,editType:"ticks"},w={valType:"color",dflt:D.lightLine,editType:"ticks"};function A(E){var S={valType:"number",min:0,editType:"ticks"};return E||(S.dflt=1),S}var L=P({},s,{editType:"ticks"}),x={valType:"boolean",editType:"ticks"};W.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:D.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:y({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:M("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[o,e,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:g},editType:"calc"}),tickmode:u,nticks:f(),tick0:c,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:v,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:h(),tickwidth:i(),tickcolor:p,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:P({},s,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:y({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:d("tick label")},tickformatstops:M("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:d("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:D.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:x,gridcolor:w,gridwidth:A(),griddash:L,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:D.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:D.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:f("minor"),tick0:c,dtick:m,tickvals:v,ticks:T,ticklen:h("minor"),tickwidth:i("minor"),tickcolor:p,gridcolor:w,gridwidth:A("minor"),griddash:L,showgrid:x,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:y({editType:"ticks"})}}},67352:function(W,G,t){var y=t(3400),D=t(76308),s=t(10624).isUnifiedHover,P=t(41008),M=t(31780),d=t(64859),g=t(94724),r=t(14944),e=t(28336),o=t(71888),n=t(37668),u=t(79811),f=u.id2name,c=u.name2id,m=t(33816).AX_ID_PATTERN,v=t(24040),T=v.traceIs,h=v.getComponentMethod;function i(p,w,A){Array.isArray(p[w])?p[w].push(A):p[w]=[A]}W.exports=function(w,A,L){var x=A.autotypenumbers,E={},S={},a={},C={},b={},z={},k={},U={},F={},V={},N,O;for(N=0;N<L.length;N++){var H=L[N];if(!(!T(H,"cartesian")&&!T(H,"gl2d"))){var X;if(H.xaxis)X=f(H.xaxis),i(E,X,H);else if(H.xaxes)for(O=0;O<H.xaxes.length;O++)i(E,f(H.xaxes[O]),H);var J;if(H.yaxis)J=f(H.yaxis),i(E,J,H);else if(H.yaxes)for(O=0;O<H.yaxes.length;O++)i(E,f(H.yaxes[O]),H);if(H.type==="funnel"?H.orientation==="h"?(X&&(S[X]=!0),J&&(k[J]=!0)):J&&(a[J]=!0):H.type==="image"?(J&&(U[J]=!0),X&&(U[X]=!0)):(J&&(b[J]=!0,z[J]=!0),(!T(H,"carpet")||H.type==="carpet"&&!H._cheater)&&X&&(C[X]=!0)),H.type==="carpet"&&H._cheater&&X&&(S[X]=!0),T(H,"2dMap")&&(F[X]=!0,F[J]=!0),T(H,"oriented")){var et=H.orientation==="h"?J:X;V[et]=!0}}}var it=A._subplots,ft=it.xaxis,ot=it.yaxis,Q=y.simpleMap(ft,f),tt=y.simpleMap(ot,f),Z=Q.concat(tt),q=D.background;ft.length&&ot.length&&(q=y.coerce(w,A,d,"plot_bgcolor"));var ut=D.combine(q,A.paper_bgcolor),$,j,lt,nt,ht;function mt(){var dt=E[$]||[];ht._traceIndices=dt.map(function(xt){return xt._expandedIndex}),ht._annIndices=[],ht._shapeIndices=[],ht._selectionIndices=[],ht._imgIndices=[],ht._subplotsWith=[],ht._counterAxes=[],ht._name=ht._attr=$,ht._id=j}function At(dt,xt){return y.coerce(nt,ht,g,dt,xt)}function bt(dt,xt){return y.coerce2(nt,ht,g,dt,xt)}function Pt(dt){return dt==="x"?ot:ft}function _t(dt,xt){for(var Ot=dt==="x"?Q:tt,jt=[],ie=0;ie<Ot.length;ie++){var le=Ot[ie];le!==xt&&!(w[le]||{}).overlaying&&jt.push(c(le))}return jt}var Ut={x:Pt("x"),y:Pt("y")},St=Ut.x.concat(Ut.y),Rt={},Et=[];function zt(){var dt=nt.matches;m.test(dt)&&St.indexOf(dt)===-1&&(Rt[dt]=nt.type,Et=Object.keys(Rt))}var Ct=P(w,A),Wt=s(Ct);for(N=0;N<Z.length;N++){$=Z[N],j=c($),lt=$.charAt(0),y.isPlainObject(w[$])||(w[$]={}),nt=w[$],ht=M.newContainer(A,$,lt+"axis"),mt();var Kt=lt==="x"&&!C[$]&&S[$]||lt==="y"&&!b[$]&&a[$],oe=lt==="y"&&(!z[$]&&k[$]||U[$]),Jt={hasMinor:!0,letter:lt,font:A.font,outerTicks:F[$],showGrid:!V[$],data:E[$]||[],bgColor:ut,calendar:A.calendar,automargin:!0,visibleDflt:Kt,reverseDflt:oe,autotypenumbersDflt:x,splomStash:((A._splomAxes||{})[lt]||{})[j],noAutotickangles:lt==="y"};At("uirevision",A.uirevision),r(nt,ht,At,Jt),e(nt,ht,At,Jt,A);var te=Wt&&lt===Ct.charAt(0),fe=bt("spikecolor",Wt?ht.color:void 0),ve=bt("spikethickness",Wt?1.5:void 0),de=bt("spikedash",Wt?"dot":void 0),xe=bt("spikemode",Wt?"across":void 0),Me=bt("spikesnap"),ne=At("showspikes",!!te||!!fe||!!ve||!!de||!!xe||!!Me);ne||(delete ht.spikecolor,delete ht.spikethickness,delete ht.spikedash,delete ht.spikemode,delete ht.spikesnap);var kt=f(nt.overlaying),Gt=[0,1];if(A[kt]!==void 0){var Yt=f(A[kt].anchor);A[Yt]!==void 0&&(Gt=A[Yt].domain)}n(nt,ht,At,{letter:lt,counterAxes:Ut[lt],overlayableAxes:_t(lt,$),grid:A.grid,overlayingDomain:Gt}),At("title.standoff"),zt(),ht._input=nt}for(N=0;N<Et.length;){j=Et[N++],$=f(j),lt=$.charAt(0),y.isPlainObject(w[$])||(w[$]={}),nt=w[$],ht=M.newContainer(A,$,lt+"axis"),mt();var Zt={letter:lt,font:A.font,outerTicks:F[$],showGrid:!V[$],data:[],bgColor:ut,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:x,splomStash:((A._splomAxes||{})[lt]||{})[j]};At("uirevision",A.uirevision),ht.type=Rt[j]||"linear",e(nt,ht,At,Zt,A),n(nt,ht,At,{letter:lt,counterAxes:Ut[lt],overlayableAxes:_t(lt,$),grid:A.grid}),At("fixedrange"),zt(),ht._input=nt}var It=h("rangeslider","handleDefaults"),Nt=h("rangeselector","handleDefaults");for(N=0;N<Q.length;N++)$=Q[N],nt=w[$],ht=A[$],It(w,A,$),ht.type==="date"&&Nt(nt,ht,A,tt,ht.calendar),At("fixedrange");for(N=0;N<tt.length;N++){$=tt[N],nt=w[$],ht=A[$];var Ht=A[f(ht.anchor)],Lt=h("rangeslider","isVisible")(Ht);At("fixedrange",Lt)}o.handleDefaults(w,A,{axIds:St.concat(Et).sort(u.idSort),axHasImage:U})}},42136:function(W,G,t){var y=t(49760).mix,D=t(22548),s=t(3400);W.exports=function(M,d,g,r){r=r||{};var e=r.dfltColor;function o(a,C){return s.coerce2(M,d,r.attributes,a,C)}var n=o("linecolor",e),u=o("linewidth"),f=g("showline",r.showLine||!!n||!!u);f||(delete d.linecolor,delete d.linewidth);var c=y(e,r.bgColor,r.blend||D.lightFraction).toRgbString(),m=o("gridcolor",c),v=o("gridwidth"),T=o("griddash"),h=g("showgrid",r.showGrid||!!m||!!v||!!T);if(h||(delete d.gridcolor,delete d.gridwidth,delete d.griddash),r.hasMinor){var i=y(d.gridcolor,r.bgColor,67).toRgbString(),p=o("minor.gridcolor",i),w=o("minor.gridwidth",d.gridwidth||1),A=o("minor.griddash",d.griddash||"solid"),L=g("minor.showgrid",!!p||!!w||!!A);L||(delete d.minor.gridcolor,delete d.minor.gridwidth,delete d.minor.griddash)}if(!r.noZeroLine){var x=o("zerolinecolor",e),E=o("zerolinewidth"),S=g("zeroline",r.showGrid||!!x||!!E);S||(delete d.zerolinecolor,delete d.zerolinewidth)}}},37668:function(W,G,t){var y=t(38248),D=t(3400);W.exports=function(P,M,d,g){var r=g.counterAxes||[],e=g.overlayableAxes||[],o=g.letter,n=g.grid,u=g.overlayingDomain,f,c,m,v,T,h;n&&(c=n._domains[o][n._axisMap[M._id]],f=n._anchors[M._id],c&&(m=n[o+"side"].split(" ")[0],v=n.domain[o][m==="right"||m==="top"?1:0])),c=c||[0,1],f=f||(y(P.position)?"free":r[0]||"free"),m=m||(o==="x"?"bottom":"left"),v=v||0,T=0,h=!1;var i=D.coerce(P,M,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:f}},"anchor"),p=D.coerce(P,M,{side:{valType:"enumerated",values:o==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(i==="free"){if(o==="y"){var w=d("autoshift");w&&(v=p==="left"?u[0]:u[1],h=M.automargin?M.automargin:!0,T=p==="left"?-3:3),d("shift",T)}d("position",v)}d("automargin",h);var A=!1;if(e.length&&(A=D.coerce(P,M,{overlaying:{valType:"enumerated",values:[!1].concat(e),dflt:!1}},"overlaying")),!A){var L=d("domain",c);L[0]>L[1]-.000244140625&&(M.domain=c),D.noneOrAll(P.domain,M.domain,c),M.tickmode==="sync"&&(M.tickmode="auto")}return d("layer"),M}},42568:function(W,G,t){var y=t(85024);W.exports=function(s,P,M,d,g){g||(g={});var r=g.tickSuffixDflt,e=y(s),o=M("tickprefix");o&&M("showtickprefix",e);var n=M("ticksuffix",r);n&&M("showticksuffix",e)}},96312:function(W,G,t){var y=t(76808);W.exports=function(s,P,M,d){var g=P._template||{},r=P.type||g.type||"-";M("minallowed"),M("maxallowed");var e=M("range");if(!e){var o;!d.noInsiderange&&r!=="log"&&(o=M("insiderange"),o&&(o[0]===null||o[1]===null)&&(P.insiderange=!1,o=void 0),o&&(e=M("range",o)))}var n=P.getAutorangeDflt(e,d),u=M("autorange",n),f;e&&(e[0]===null&&e[1]===null||(e[0]===null||e[1]===null)&&(u==="reversed"||u===!0)||e[0]!==null&&(u==="min"||u==="max reversed")||e[1]!==null&&(u==="max"||u==="min reversed"))&&(e=void 0,delete P.range,P.autorange=!0,f=!0),f||(n=P.getAutorangeDflt(e,d),u=M("autorange",n)),u&&(y(M,u,e),(r==="linear"||r==="-")&&M("rangemode")),P.cleanRange()}},21160:function(W,G,t){var y=t(84284).FROM_BL;W.exports=function(s,P,M){M===void 0&&(M=y[s.constraintoward||"center"]);var d=[s.r2l(s.range[0]),s.r2l(s.range[1])],g=d[0]+(d[1]-d[0])*M;s.range=s._input.range=[s.l2r(g+(d[0]-g)*P),s.l2r(g+(d[1]-g)*P)],s.setScale()}},78344:function(W,G,t){var y=t(33428),D=t(94336).E9,s=t(3400),P=s.numberFormat,M=t(38248),d=s.cleanNumber,g=s.ms2DateTime,r=s.dateTime2ms,e=s.ensureNumber,o=s.isArrayOrTypedArray,n=t(39032),u=n.FP_SAFE,f=n.BADNUM,c=n.LOG_CLIP,m=n.ONEWEEK,v=n.ONEDAY,T=n.ONEHOUR,h=n.ONEMIN,i=n.ONESEC,p=t(79811),w=t(33816),A=w.HOUR_PATTERN,L=w.WEEKDAY_PATTERN;function x(S){return Math.pow(10,S)}function E(S){return S!=null}W.exports=function(a,C){C=C||{};var b=a._id||"x",z=b.charAt(0);function k(Z,q){if(Z>0)return Math.log(Z)/Math.LN10;if(Z<=0&&q&&a.range&&a.range.length===2){var ut=a.range[0],$=a.range[1];return .5*(ut+$-2*c*Math.abs(ut-$))}else return f}function U(Z,q,ut,$){if(($||{}).msUTC&&M(Z))return+Z;var j=r(Z,ut||a.calendar);if(j===f)if(M(Z)){Z=+Z;var lt=Math.floor(s.mod(Z+.05,1)*10),nt=Math.round(Z-lt/10);j=r(new Date(nt))+lt/10}else return f;return j}function F(Z,q,ut){return g(Z,q,ut||a.calendar)}function V(Z){return a._categories[Math.round(Z)]}function N(Z){if(E(Z)){if(a._categoriesMap===void 0&&(a._categoriesMap={}),a._categoriesMap[Z]!==void 0)return a._categoriesMap[Z];a._categories.push(typeof Z=="number"?String(Z):Z);var q=a._categories.length-1;return a._categoriesMap[Z]=q,q}return f}function O(Z,q){for(var ut=new Array(q),$=0;$<q;$++){var j=(Z[0]||[])[$],lt=(Z[1]||[])[$];ut[$]=H([j,lt])}return ut}function H(Z){if(a._categoriesMap)return a._categoriesMap[Z]}function X(Z){var q=H(Z);if(q!==void 0)return q;if(M(Z))return+Z}function J(Z){return M(Z)?+Z:H(Z)}function et(Z,q,ut){return y.round(ut+q*Z,2)}function it(Z,q,ut){return(Z-ut)/q}var ft=function(q){return M(q)?et(q,a._m,a._b):f},ot=function(Z){return it(Z,a._m,a._b)};if(a.rangebreaks){var Q=z==="y";ft=function(Z){if(!M(Z))return f;var q=a._rangebreaks.length;if(!q)return et(Z,a._m,a._b);var ut=Q;a.range[0]>a.range[1]&&(ut=!ut);for(var $=ut?-1:1,j=$*Z,lt=0,nt=0;nt<q;nt++){var ht=$*a._rangebreaks[nt].min,mt=$*a._rangebreaks[nt].max;if(j<ht)break;if(j>mt)lt=nt+1;else{lt=j<(ht+mt)/2?nt:nt+1;break}}var At=a._B[lt]||0;return isFinite(At)?et(Z,a._m2,At):0},ot=function(Z){var q=a._rangebreaks.length;if(!q)return it(Z,a._m,a._b);for(var ut=0,$=0;$<q&&!(Z<a._rangebreaks[$].pmin);$++)Z>a._rangebreaks[$].pmax&&(ut=$+1);return it(Z,a._m2,a._B[ut])}}a.c2l=a.type==="log"?k:e,a.l2c=a.type==="log"?x:e,a.l2p=ft,a.p2l=ot,a.c2p=a.type==="log"?function(Z,q){return ft(k(Z,q))}:ft,a.p2c=a.type==="log"?function(Z){return x(ot(Z))}:ot,["linear","-"].indexOf(a.type)!==-1?(a.d2r=a.r2d=a.d2c=a.r2c=a.d2l=a.r2l=d,a.c2d=a.c2r=a.l2d=a.l2r=e,a.d2p=a.r2p=function(Z){return a.l2p(d(Z))},a.p2d=a.p2r=ot,a.cleanPos=e):a.type==="log"?(a.d2r=a.d2l=function(Z,q){return k(d(Z),q)},a.r2d=a.r2c=function(Z){return x(d(Z))},a.d2c=a.r2l=d,a.c2d=a.l2r=e,a.c2r=k,a.l2d=x,a.d2p=function(Z,q){return a.l2p(a.d2r(Z,q))},a.p2d=function(Z){return x(ot(Z))},a.r2p=function(Z){return a.l2p(d(Z))},a.p2r=ot,a.cleanPos=e):a.type==="date"?(a.d2r=a.r2d=s.identity,a.d2c=a.r2c=a.d2l=a.r2l=U,a.c2d=a.c2r=a.l2d=a.l2r=F,a.d2p=a.r2p=function(Z,q,ut){return a.l2p(U(Z,0,ut))},a.p2d=a.p2r=function(Z,q,ut){return F(ot(Z),q,ut)},a.cleanPos=function(Z){return s.cleanDate(Z,f,a.calendar)}):a.type==="category"?(a.d2c=a.d2l=N,a.r2d=a.c2d=a.l2d=V,a.d2r=a.d2l_noadd=X,a.r2c=function(Z){var q=J(Z);return q!==void 0?q:a.fraction2r(.5)},a.l2r=a.c2r=e,a.r2l=J,a.d2p=function(Z){return a.l2p(a.r2c(Z))},a.p2d=function(Z){return V(ot(Z))},a.r2p=a.d2p,a.p2r=ot,a.cleanPos=function(Z){return typeof Z=="string"&&Z!==""?Z:e(Z)}):a.type==="multicategory"&&(a.r2d=a.c2d=a.l2d=V,a.d2r=a.d2l_noadd=X,a.r2c=function(Z){var q=X(Z);return q!==void 0?q:a.fraction2r(.5)},a.r2c_just_indices=H,a.l2r=a.c2r=e,a.r2l=X,a.d2p=function(Z){return a.l2p(a.r2c(Z))},a.p2d=function(Z){return V(ot(Z))},a.r2p=a.d2p,a.p2r=ot,a.cleanPos=function(Z){return Array.isArray(Z)||typeof Z=="string"&&Z!==""?Z:e(Z)},a.setupMultiCategory=function(Z){var q=a._traceIndices,ut,$,j=a._matchGroup;if(j&&a._categories.length===0){for(var lt in j)if(lt!==b){var nt=C[p.id2name(lt)];q=q.concat(nt._traceIndices)}}var ht=[[0,{}],[0,{}]],mt=[];for(ut=0;ut<q.length;ut++){var At=Z[q[ut]];if(z in At){var bt=At[z],Pt=At._length||s.minRowLength(bt);if(o(bt[0])&&o(bt[1]))for($=0;$<Pt;$++){var _t=bt[0][$],Ut=bt[1][$];E(_t)&&E(Ut)&&(mt.push([_t,Ut]),_t in ht[0][1]||(ht[0][1][_t]=ht[0][0]++),Ut in ht[1][1]||(ht[1][1][Ut]=ht[1][0]++))}}}for(mt.sort(function(St,Rt){var Et=ht[0][1],zt=Et[St[0]]-Et[Rt[0]];if(zt)return zt;var Ct=ht[1][1];return Ct[St[1]]-Ct[Rt[1]]}),ut=0;ut<mt.length;ut++)N(mt[ut])}),a.fraction2r=function(Z){var q=a.r2l(a.range[0]),ut=a.r2l(a.range[1]);return a.l2r(q+Z*(ut-q))},a.r2fraction=function(Z){var q=a.r2l(a.range[0]),ut=a.r2l(a.range[1]);return(a.r2l(Z)-q)/(ut-q)},a.limitRange=function(Z){var q=a.minallowed,ut=a.maxallowed;if(!(q===void 0&&ut===void 0)){Z||(Z="range");var $=s.nestedProperty(a,Z).get(),j=s.simpleMap($,a.r2l),lt=j[1]<j[0];lt&&j.reverse();var nt=s.simpleMap([q,ut],a.r2l);if(q!==void 0&&j[0]<nt[0]&&($[lt?1:0]=q),ut!==void 0&&j[1]>nt[1]&&($[lt?0:1]=ut),$[0]===$[1]){var ht=a.l2r(q),mt=a.l2r(ut);if(q!==void 0){var At=ht+1;ut!==void 0&&(At=Math.min(At,mt)),$[lt?1:0]=At}if(ut!==void 0){var bt=mt+1;q!==void 0&&(bt=Math.max(bt,ht)),$[lt?0:1]=bt}}}},a.cleanRange=function(Z,q){a._cleanRange(Z,q),a.limitRange(Z)},a._cleanRange=function(Z,q){q||(q={}),Z||(Z="range");var ut=s.nestedProperty(a,Z).get(),$,j;if(a.type==="date"?j=s.dfltRange(a.calendar):z==="y"?j=w.DFLTRANGEY:a._name==="realaxis"?j=[0,1]:j=q.dfltRange||w.DFLTRANGEX,j=j.slice(),(a.rangemode==="tozero"||a.rangemode==="nonnegative")&&(j[0]=0),!ut||ut.length!==2){s.nestedProperty(a,Z).set(j);return}var lt=ut[0]===null,nt=ut[1]===null;for(a.type==="date"&&!a.autorange&&(ut[0]=s.cleanDate(ut[0],f,a.calendar),ut[1]=s.cleanDate(ut[1],f,a.calendar)),$=0;$<2;$++)if(a.type==="date"){if(!s.isDateTime(ut[$],a.calendar)){a[Z]=j;break}if(a.r2l(ut[0])===a.r2l(ut[1])){var ht=s.constrain(a.r2l(ut[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);ut[0]=a.l2r(ht-1e3),ut[1]=a.l2r(ht+1e3);break}}else{if(!M(ut[$]))if(!(lt||nt)&&M(ut[1-$]))ut[$]=ut[1-$]*($?10:.1);else{a[Z]=j;break}if(ut[$]<-u?ut[$]=-u:ut[$]>u&&(ut[$]=u),ut[0]===ut[1]){var mt=Math.max(1,Math.abs(ut[0]*1e-6));ut[0]-=mt,ut[1]+=mt}}},a.setScale=function(Z){var q=C._size;if(a.overlaying){var ut=p.getFromId({_fullLayout:C},a.overlaying);a.domain=ut.domain}var $=Z&&a._r?"_r":"range",j=a.calendar;a.cleanRange($);var lt=a.r2l(a[$][0],j),nt=a.r2l(a[$][1],j),ht=z==="y";if(ht?(a._offset=q.t+(1-a.domain[1])*q.h,a._length=q.h*(a.domain[1]-a.domain[0]),a._m=a._length/(lt-nt),a._b=-a._m*nt):(a._offset=q.l+a.domain[0]*q.w,a._length=q.w*(a.domain[1]-a.domain[0]),a._m=a._length/(nt-lt),a._b=-a._m*lt),a._rangebreaks=[],a._lBreaks=0,a._m2=0,a._B=[],a.rangebreaks){var mt,At;if(a._rangebreaks=a.locateBreaks(Math.min(lt,nt),Math.max(lt,nt)),a._rangebreaks.length){for(mt=0;mt<a._rangebreaks.length;mt++)At=a._rangebreaks[mt],a._lBreaks+=Math.abs(At.max-At.min);var bt=ht;lt>nt&&(bt=!bt),bt&&a._rangebreaks.reverse();var Pt=bt?-1:1;for(a._m2=Pt*a._length/(Math.abs(nt-lt)-a._lBreaks),a._B.push(-a._m2*(ht?nt:lt)),mt=0;mt<a._rangebreaks.length;mt++)At=a._rangebreaks[mt],a._B.push(a._B[a._B.length-1]-Pt*a._m2*(At.max-At.min));for(mt=0;mt<a._rangebreaks.length;mt++)At=a._rangebreaks[mt],At.pmin=ft(At.min),At.pmax=ft(At.max)}}if(!isFinite(a._m)||!isFinite(a._b)||a._length<0)throw C._replotting=!1,new Error("Something went wrong with axis scaling")},a.maskBreaks=function(Z){var q=a.rangebreaks||[],ut,$,j,lt,nt;q._cachedPatterns||(q._cachedPatterns=q.map(function(Et){return Et.enabled&&Et.bounds?s.simpleMap(Et.bounds,Et.pattern?d:a.d2c):null})),q._cachedValues||(q._cachedValues=q.map(function(Et){return Et.enabled&&Et.values?s.simpleMap(Et.values,a.d2c).sort(s.sorterAsc):null}));for(var ht=0;ht<q.length;ht++){var mt=q[ht];if(mt.enabled){if(mt.bounds){var At=mt.pattern;switch(ut=q._cachedPatterns[ht],$=ut[0],j=ut[1],At){case L:nt=new Date(Z),lt=nt.getUTCDay(),$>j&&(j+=7,lt<$&&(lt+=7));break;case A:nt=new Date(Z);var bt=nt.getUTCHours(),Pt=nt.getUTCMinutes(),_t=nt.getUTCSeconds(),Ut=nt.getUTCMilliseconds();lt=bt+(Pt/60+_t/3600+Ut/36e5),$>j&&(j+=24,lt<$&&(lt+=24));break;case"":lt=Z;break}if(lt>=$&&lt<j)return f}else for(var St=q._cachedValues[ht],Rt=0;Rt<St.length;Rt++)if($=St[Rt],j=$+mt.dvalue,Z>=$&&Z<j)return f}}return Z},a.locateBreaks=function(Z,q){var ut,$,j,lt,nt=[];if(!a.rangebreaks)return nt;var ht=a.rangebreaks.slice().sort(function(Ct,Wt){return Ct.pattern===L&&Wt.pattern===A?-1:Wt.pattern===L&&Ct.pattern===A?1:0}),mt=function(Ct,Wt){if(Ct=s.constrain(Ct,Z,q),Wt=s.constrain(Wt,Z,q),Ct!==Wt){for(var Kt=!0,oe=0;oe<nt.length;oe++){var Jt=nt[oe];Ct<Jt.max&&Wt>=Jt.min&&(Ct<Jt.min&&(Jt.min=Ct),Wt>Jt.max&&(Jt.max=Wt),Kt=!1)}Kt&&nt.push({min:Ct,max:Wt})}};for(ut=0;ut<ht.length;ut++){var At=ht[ut];if(At.enabled)if(At.bounds){var bt=Z,Pt=q;At.pattern&&(bt=Math.floor(bt)),$=s.simpleMap(At.bounds,At.pattern?d:a.r2l),j=$[0],lt=$[1];var _t=new Date(bt),Ut,St;switch(At.pattern){case L:St=m,Ut=((lt<j?7:0)+(lt-j))*v,bt+=j*v-(_t.getUTCDay()*v+_t.getUTCHours()*T+_t.getUTCMinutes()*h+_t.getUTCSeconds()*i+_t.getUTCMilliseconds());break;case A:St=v,Ut=((lt<j?24:0)+(lt-j))*T,bt+=j*T-(_t.getUTCHours()*T+_t.getUTCMinutes()*h+_t.getUTCSeconds()*i+_t.getUTCMilliseconds());break;default:bt=Math.min($[0],$[1]),Pt=Math.max($[0],$[1]),St=Pt-bt,Ut=St}for(var Rt=bt;Rt<Pt;Rt+=St)mt(Rt,Rt+Ut)}else for(var Et=s.simpleMap(At.values,a.d2c),zt=0;zt<Et.length;zt++)j=Et[zt],lt=j+At.dvalue,mt(j,lt)}return nt.sort(function(Ct,Wt){return Ct.min-Wt.min}),nt},a.makeCalcdata=function(Z,q,ut){var $,j,lt,nt,ht=a.type,mt=ht==="date"&&Z[q+"calendar"];if(q in Z){if($=Z[q],nt=Z._length||s.minRowLength($),s.isTypedArray($)&&(ht==="linear"||ht==="log")){if(nt===$.length)return $;if($.subarray)return $.subarray(0,nt)}if(ht==="multicategory")return O($,nt);for(j=new Array(nt),lt=0;lt<nt;lt++)j[lt]=a.d2c($[lt],0,mt,ut)}else{var At=q+"0"in Z?a.d2c(Z[q+"0"],0,mt):0,bt=Z["d"+q]?Number(Z["d"+q]):1;for($=Z[{x:"y",y:"x"}[q]],nt=Z._length||$.length,j=new Array(nt),lt=0;lt<nt;lt++)j[lt]=At+lt*bt}if(a.rangebreaks)for(lt=0;lt<nt;lt++)j[lt]=a.maskBreaks(j[lt]);return j},a.isValidRange=function(Z,q){return Array.isArray(Z)&&Z.length===2&&(q&&Z[0]===null||M(a.r2l(Z[0])))&&(q&&Z[1]===null||M(a.r2l(Z[1])))},a.getAutorangeDflt=function(Z,q){var ut=!a.isValidRange(Z,"nullOk");return ut&&q&&q.reverseDflt?ut="reversed":Z&&(Z[0]===null&&Z[1]===null?ut=!0:Z[0]===null&&Z[1]!==null?ut="min":Z[0]!==null&&Z[1]===null&&(ut="max")),ut},a.isReversed=function(){var Z=a.autorange;return Z==="reversed"||Z==="min reversed"||Z==="max reversed"},a.isPtWithinRange=function(Z,q){var ut=a.c2l(Z[z],null,q),$=a.r2l(a.range[0]),j=a.r2l(a.range[1]);return $<j?$<=ut&&ut<=j:j<=ut&&ut<=$},a._emptyCategories=function(){a._categories=[],a._categoriesMap={}},a.clearCalc=function(){var Z=a._matchGroup;if(Z){var q=null,ut=null;for(var $ in Z){var j=C[p.id2name($)];if(j._categories){q=j._categories,ut=j._categoriesMap;break}}q&&ut?(a._categories=q,a._categoriesMap=ut):a._emptyCategories()}else a._emptyCategories();if(a._initialCategories)for(var lt=0;lt<a._initialCategories.length;lt++)N(a._initialCategories[lt])},a.sortByInitialCategories=function(){var Z=[];if(a._emptyCategories(),a._initialCategories)for(var q=0;q<a._initialCategories.length;q++)N(a._initialCategories[q]);Z=Z.concat(a._traceIndices);var ut=a._matchGroup;for(var $ in ut)if(b!==$){var j=C[p.id2name($)];j._categories=a._categories,j._categoriesMap=a._categoriesMap,Z=Z.concat(j._traceIndices)}return Z};var tt=C._d3locale;a.type==="date"&&(a._dateFormat=tt?tt.timeFormat:D,a._extraFormat=C._extraFormat),a._separators=C.separators,a._numFormat=tt?tt.numberFormat:P,delete a._minDtick,delete a._forceTick0}},85024:function(W){W.exports=function(t){var y=["showexponent","showtickprefix","showticksuffix"],D=y.filter(function(P){return t[P]!==void 0}),s=function(P){return t[P]===t[D[0]]};if(D.every(s)||D.length===1)return t[D[0]]}},95936:function(W,G,t){var y=t(3400),D=t(76308).contrast,s=t(94724),P=t(85024),M=t(51272);W.exports=function(r,e,o,n,u){u||(u={});var f=o("labelalias");y.isPlainObject(f)||delete e.labelalias;var c=P(r),m=o("showticklabels");if(m){u.noTicklabelshift||o("ticklabelshift"),u.noTicklabelstandoff||o("ticklabelstandoff");var v=u.font||{},T=e.color,h=e.ticklabelposition||"",i=h.indexOf("inside")!==-1?D(u.bgColor):T&&T!==s.color.dflt?T:v.color;if(y.coerceFont(o,"tickfont",v,{overrideDflt:{color:i}}),!u.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&o("ticklabelstep"),!u.noAng){var p=o("tickangle");!u.noAutotickangles&&p==="auto"&&o("autotickangles")}if(n!=="category"){var w=o("tickformat");M(r,e,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:d}),e.tickformatstops.length||delete e.tickformatstops,!u.noExp&&!w&&n!=="date"&&(o("showexponent",c),o("exponentformat"),o("minexponent"),o("separatethousands"))}}};function d(g,r){function e(n,u){return y.coerce(g,r,s.tickformatstops,n,u)}var o=e("enabled");o&&(e("dtickrange"),e("value"))}},25404:function(W,G,t){var y=t(3400),D=t(94724);W.exports=function(P,M,d,g){var r=g.isMinor,e=r?P.minor||{}:P,o=r?M.minor:M,n=r?D.minor:D,u=r?"minor.":"",f=y.coerce2(e,o,n,"ticklen",r?(M.ticklen||5)*.6:void 0),c=y.coerce2(e,o,n,"tickwidth",r?M.tickwidth||1:void 0),m=y.coerce2(e,o,n,"tickcolor",(r?M.tickcolor:void 0)||o.color),v=d(u+"ticks",!r&&g.outerTicks||f||c||m?"outside":"");v||(delete o.ticklen,delete o.tickwidth,delete o.tickcolor)}},26332:function(W,G,t){var y=t(98728),D=t(3400).isArrayOrTypedArray,s=t(38116).isTypedArraySpec,P=t(38116).decodeTypedArraySpec;W.exports=function(d,g,r,e,o){o||(o={});var n=o.isMinor,u=n?d.minor||{}:d,f=n?g.minor:g,c=n?"minor.":"";function m(L){var x=u[L];return s(x)&&(x=P(x)),x!==void 0?x:(f._template||{})[L]}var v=m("tick0"),T=m("dtick"),h=m("tickvals"),i=D(h)?"array":T?"linear":"auto",p=r(c+"tickmode",i);if(p==="auto"||p==="sync")r(c+"nticks");else if(p==="linear"){var w=f.dtick=y.dtick(T,e);f.tick0=y.tick0(v,e,g.calendar,w)}else if(e!=="multicategory"){var A=r(c+"tickvals");A===void 0?f.tickmode="auto":n||r("ticktext")}}},73736:function(W,G,t){var y=t(33428),D=t(24040),s=t(3400),P=t(43616),M=t(54460);W.exports=function(g,r,e,o){var n=g._fullLayout;if(r.length===0){M.redrawComponents(g);return}function u(A){var L=A.xaxis,x=A.yaxis;n._defs.select("#"+A.clipId+"> rect").call(P.setTranslate,0,0).call(P.setScale,1,1),A.plot.call(P.setTranslate,L._offset,x._offset).call(P.setScale,1,1);var E=A.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(P.setPointGroupScale,1,1),E.selectAll(".textpoint").call(P.setTextPointsScale,1,1),E.call(P.hideOutsideRangePoints,A)}function f(A,L){var x=A.plotinfo,E=x.xaxis,S=x.yaxis,a=E._length,C=S._length,b=!!A.xr1,z=!!A.yr1,k=[];if(b){var U=s.simpleMap(A.xr0,E.r2l),F=s.simpleMap(A.xr1,E.r2l),V=U[1]-U[0],N=F[1]-F[0];k[0]=(U[0]*(1-L)+L*F[0]-U[0])/(U[1]-U[0])*a,k[2]=a*(1-L+L*N/V),E.range[0]=E.l2r(U[0]*(1-L)+L*F[0]),E.range[1]=E.l2r(U[1]*(1-L)+L*F[1])}else k[0]=0,k[2]=a;if(z){var O=s.simpleMap(A.yr0,S.r2l),H=s.simpleMap(A.yr1,S.r2l),X=O[1]-O[0],J=H[1]-H[0];k[1]=(O[1]*(1-L)+L*H[1]-O[1])/(O[0]-O[1])*C,k[3]=C*(1-L+L*J/X),S.range[0]=E.l2r(O[0]*(1-L)+L*H[0]),S.range[1]=S.l2r(O[1]*(1-L)+L*H[1])}else k[1]=0,k[3]=C;M.drawOne(g,E,{skipTitle:!0}),M.drawOne(g,S,{skipTitle:!0}),M.redrawComponents(g,[E._id,S._id]);var et=b?a/k[2]:1,it=z?C/k[3]:1,ft=b?k[0]:0,ot=z?k[1]:0,Q=b?k[0]/k[2]*a:0,tt=z?k[1]/k[3]*C:0,Z=E._offset-Q,q=S._offset-tt;x.clipRect.call(P.setTranslate,ft,ot).call(P.setScale,1/et,1/it),x.plot.call(P.setTranslate,Z,q).call(P.setScale,et,it),P.setPointGroupScale(x.zoomScalePts,1/et,1/it),P.setTextPointsScale(x.zoomScaleTxt,1/et,1/it)}var c;o&&(c=o());function m(){for(var A={},L=0;L<r.length;L++){var x=r[L],E=x.plotinfo.xaxis,S=x.plotinfo.yaxis;x.xr1&&(A[E._name+".range"]=x.xr1.slice()),x.yr1&&(A[S._name+".range"]=x.yr1.slice())}return c&&c(),D.call("relayout",g,A).then(function(){for(var a=0;a<r.length;a++)u(r[a].plotinfo)})}function v(){for(var A={},L=0;L<r.length;L++){var x=r[L],E=x.plotinfo.xaxis,S=x.plotinfo.yaxis;x.xr0&&(A[E._name+".range"]=x.xr0.slice()),x.yr0&&(A[S._name+".range"]=x.yr0.slice())}return D.call("relayout",g,A).then(function(){for(var a=0;a<r.length;a++)u(r[a].plotinfo)})}var T,h,i,p=y.ease(e.easing);g._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(i),i=null,v()});function w(){h=Date.now();for(var A=Math.min(1,(h-T)/e.duration),L=p(A),x=0;x<r.length;x++)f(r[x],L);h-T>e.duration?(m(),i=window.cancelAnimationFrame(w)):i=window.requestAnimationFrame(w)}return T=Date.now(),i=window.requestAnimationFrame(w),Promise.resolve()}},14944:function(W,G,t){var y=t(24040).traceIs,D=t(52976);W.exports=function(r,e,o,n){o("autotypenumbers",n.autotypenumbersDflt);var u=o("type",(n.splomStash||{}).type);u==="-"&&(s(e,n.data),e.type==="-"?e.type="linear":r.type=e.type)};function s(g,r){if(g.type==="-"){var e=g._id,o=e.charAt(0),n;e.indexOf("scene")!==-1&&(e=o);var u=P(r,e,o);if(u){if(u.type==="histogram"&&o==={v:"y",h:"x"}[u.orientation||"v"]){g.type="linear";return}var f=o+"calendar",c=u[f],m={noMultiCategory:!y(u,"cartesian")||y(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&o==={h:"x",v:"y"}[u.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=g.autotypenumbers,d(u,o)){var v=M(u),T=[];for(n=0;n<r.length;n++){var h=r[n];!y(h,"box-violin")||(h[o+"axis"]||o)!==e||(h[v]!==void 0?T.push(h[v][0]):h.name!==void 0?T.push(h.name):T.push("text"),h[f]!==c&&(c=void 0))}g.type=D(T,c,m)}else if(u.type==="splom"){var i=u.dimensions,p=i[u._axesDim[e]];p.visible&&(g.type=D(p.values,c,m))}else g.type=D(u[o]||[u[o+"0"]],c,m)}}}function P(g,r,e){for(var o=0;o<g.length;o++){var n=g[o];if(n.type==="splom"&&n._length>0&&(n["_"+e+"axes"]||{})[r])return n;if((n[e+"axis"]||e)===r){if(d(n,e))return n;if((n[e]||[]).length||n[e+"0"])return n}}}function M(g){return{v:"x",h:"y"}[g.orientation||"v"]}function d(g,r){var e=M(g),o=y(g,"box-violin"),n=y(g._fullInput||{},"candlestick");return o&&!n&&r===e&&g[e]===void 0&&g[e+"0"]===void 0}},62460:function(W,G,t){var y=t(24040),D=t(3400);G.manageCommandObserver=function(r,e,o,n){var u={},f=!0;e&&e._commandObserver&&(u=e._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var c=G.hasSimpleAPICommandBindings(r,o,u.lookupTable);if(e&&e._commandObserver){if(c)return u;if(e._commandObserver.remove)return e._commandObserver.remove(),e._commandObserver=null,u}if(c){s(r,c,u.cache),u.check=function(){if(f){var h=s(r,c,u.cache);return h.changed&&n&&u.lookupTable[h.value]!==void 0&&(u.disable(),Promise.resolve(n({value:h.value,type:c.type,prop:c.prop,traces:c.traces,index:u.lookupTable[h.value]})).then(u.enable,u.enable)),h.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],v=0;v<m.length;v++)r._internalOn(m[v],u.check);u.remove=function(){for(var T=0;T<m.length;T++)r._removeInternalListener(m[T],u.check)}}else D.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){f=!1},u.enable=function(){f=!0},e&&(e._commandObserver=u),u},G.hasSimpleAPICommandBindings=function(r,e,o){var n,u=e.length,f;for(n=0;n<u;n++){var c,m=e[n],v=m.method,T=m.args;if(Array.isArray(T)||(T=[]),!v)return!1;var h=G.computeAPICommandBindings(r,v,T);if(h.length!==1)return!1;if(!f)f=h[0],Array.isArray(f.traces)&&f.traces.sort();else{if(c=h[0],c.type!==f.type||c.prop!==f.prop)return!1;if(Array.isArray(f.traces))if(Array.isArray(c.traces)){c.traces.sort();for(var i=0;i<f.traces.length;i++)if(f.traces[i]!==c.traces[i])return!1}else return!1;else if(c.prop!==f.prop)return!1}c=h[0];var p=c.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;o&&(o[p]=n)}return f};function s(r,e,o){var n,u,f,c=!1;if(e.type==="data")n=r._fullData[e.traces!==null?e.traces[0]:0];else if(e.type==="layout")n=r._fullLayout;else return!1;return u=D.nestedProperty(n,e.prop).get(),f=o[e.type]=o[e.type]||{},f.hasOwnProperty(e.prop)&&f[e.prop]!==u&&(c=!0),f[e.prop]=u,{changed:c,value:u}}G.executeAPICommand=function(r,e,o){if(e==="skip")return Promise.resolve();var n=y.apiMethodRegistry[e],u=[r];Array.isArray(o)||(o=[]);for(var f=0;f<o.length;f++)u.push(o[f]);return n.apply(null,u).catch(function(c){return D.warn("API call to Plotly."+e+" rejected.",c),Promise.reject(c)})},G.computeAPICommandBindings=function(r,e,o){var n;switch(Array.isArray(o)||(o=[]),e){case"restyle":n=d(r,o);break;case"relayout":n=M(r,o);break;case"update":n=d(r,[o[0],o[2]]).concat(M(r,[o[1]]));break;case"animate":n=P(r,o);break;default:n=[]}return n};function P(r,e){return Array.isArray(e[0])&&e[0].length===1&&["string","number"].indexOf(typeof e[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}function M(r,e){var o=[],n=e[0],u={};if(typeof n=="string")u[n]=e[1];else if(D.isPlainObject(n))u=n;else return o;return g(u,function(f,c,m){o.push({type:"layout",prop:f,value:m})},"",0),o}function d(r,e){var o,n,u,f,c=[];if(n=e[0],u=e[1],o=e[2],f={},typeof n=="string")f[n]=u;else if(D.isPlainObject(n))f=n,o===void 0&&(o=u);else return c;return o===void 0&&(o=null),g(f,function(m,v,T){var h,i;if(Array.isArray(T)){i=T.slice();var p=Math.min(i.length,r.data.length);o&&(p=Math.min(p,o.length)),h=[];for(var w=0;w<p;w++)h[w]=o?o[w]:w}else i=T,h=o?o.slice():null;if(h===null)Array.isArray(i)&&(i=i[0]);else if(Array.isArray(h)){if(!Array.isArray(i)){var A=i;i=[];for(var L=0;L<h.length;L++)i[L]=A}i.length=Math.min(h.length,i.length)}c.push({type:"data",prop:m,traces:h,value:i})},"",0),c}function g(r,e,o,n){Object.keys(r).forEach(function(u){var f=r[u];if(u[0]!=="_"){var c=o+(n>0?".":"")+u;D.isPlainObject(f)?g(f,e,c,n+1):e(c,u,f)}})}},86968:function(W,G,t){var y=t(92880).extendFlat;G.u=function(D,s){D=D||{},s=s||{};var P={valType:"info_array",editType:D.editType,items:[{valType:"number",min:0,max:1,editType:D.editType},{valType:"number",min:0,max:1,editType:D.editType}],dflt:[0,1]};D.name&&D.name+"",D.trace,s.description&&""+s.description;var M={x:y({},P,{}),y:y({},P,{}),editType:D.editType};return D.noGridCell||(M.row={valType:"integer",min:0,dflt:0,editType:D.editType},M.column={valType:"integer",min:0,dflt:0,editType:D.editType}),M},G.Q=function(D,s,P,M){var d=M&&M.x||[0,1],g=M&&M.y||[0,1],r=s.grid;if(r){var e=P("domain.column");e!==void 0&&(e<r.columns?d=r._domains.x[e]:delete D.domain.column);var o=P("domain.row");o!==void 0&&(o<r.rows?g=r._domains.y[o]:delete D.domain.row)}var n=P("domain.x",d),u=P("domain.y",g);n[0]<n[1]||(D.domain.x=d.slice()),u[0]<u[1]||(D.domain.y=g.slice())}},25376:function(W){W.exports=function(G){var t=G.variantValues,y=G.editType,D=G.colorEditType;D===void 0&&(D=y);var s={editType:y,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};G.noNumericWeightValues&&(s.valType="enumerated",s.values=s.extras,s.extras=void 0,s.min=void 0,s.max=void 0);var P={family:{valType:"string",noBlank:!0,strict:!0,editType:y},size:{valType:"number",min:1,editType:y},color:{valType:"color",editType:D},weight:s,style:{editType:y,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:G.noFontVariant?void 0:{editType:y,valType:"enumerated",values:t||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:G.noFontTextcase?void 0:{editType:y,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:G.noFontLineposition?void 0:{editType:y,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:G.noFontShadow?void 0:{editType:y,valType:"string",dflt:G.autoShadowDflt?"auto":"none"},editType:y};return G.autoSize&&(P.size.dflt="auto"),G.autoColor&&(P.color.dflt="auto"),G.arrayOk&&(P.family.arrayOk=!0,P.weight.arrayOk=!0,P.style.arrayOk=!0,G.noFontVariant||(P.variant.arrayOk=!0),G.noFontTextcase||(P.textcase.arrayOk=!0),G.noFontLineposition||(P.lineposition.arrayOk=!0),G.noFontShadow||(P.shadow.arrayOk=!0),P.size.arrayOk=!0,P.color.arrayOk=!0),P}},16672:function(W){W.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(W,G){G.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},G.axesNames=["lonaxis","lataxis"],G.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},G.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},G.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},G.clipPad=.001,G.precision=.1,G.landColor="#F0DC82",G.waterColor="#3399FF",G.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},G.sphereSVG={type:"Sphere"},G.fillLayers={ocean:1,land:1,lakes:1},G.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},G.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],G.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],G.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(W,G,t){var y=t(33428),D=t(83356),s=D.geoPath,P=D.geoDistance,M=t(87108),d=t(24040),g=t(3400),r=g.strTranslate,e=t(76308),o=t(43616),n=t(93024),u=t(7316),f=t(54460),c=t(19280).getAutoRange,m=t(86476),v=t(22676).prepSelect,T=t(22676).clearOutline,h=t(22676).selectOnClick,i=t(79248),p=t(79552),w=t(27144),A=t(59972),L=t(55712).NO;function x(b){this.id=b.id,this.graphDiv=b.graphDiv,this.container=b.container,this.topojsonURL=b.topojsonURL,this.isStatic=b.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=x.prototype;W.exports=function(z){return new x(z)},E.plot=function(b,z,k,U){var F=this;if(U)return F.update(b,z,!0);F._geoCalcData=b,F._fullLayout=z;var V=z[this.id],N=[],O=!1;for(var H in p.layerNameToAdjective)if(H!=="frame"&&V["show"+H]){O=!0;break}for(var X=!1,J=0;J<b.length;J++){var et=b[0][0].trace;et._geo=F,et.locationmode&&(O=!0);var it=et.marker;if(it){var ft=it.angle,ot=it.angleref;(ft||ot==="north"||ot==="previous")&&(X=!0)}}if(this._hasMarkerAngles=X,O){var Q=A.getTopojsonName(V);(F.topojson===null||Q!==F.topojsonName)&&(F.topojsonName=Q,PlotlyGeoAssets.topojson[F.topojsonName]===void 0&&N.push(F.fetchTopojson()))}N=N.concat(w.fetchTraceGeoData(b)),k.push(new Promise(function(tt,Z){Promise.all(N).then(function(){F.topojson=PlotlyGeoAssets.topojson[F.topojsonName],F.update(b,z),tt()}).catch(Z)}))},E.fetchTopojson=function(){var b=this,z=A.getTopojsonPath(b.topojsonURL,b.topojsonName);return new Promise(function(k,U){y.json(z,function(F,V){if(F)return F.status===404?U(new Error(["plotly.js could not find topojson file at",z+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):U(new Error(["unexpected error while fetching topojson file at",z].join(" ")));PlotlyGeoAssets.topojson[b.topojsonName]=V,k()})})},E.update=function(b,z,k){var U=z[this.id];this.hasChoropleth=!1;for(var F=0;F<b.length;F++){var V=b[F],N=V[0].trace;N.type==="choropleth"&&(this.hasChoropleth=!0),N.visible===!0&&N._length>0&&N._module.calcGeoJSON(V,z)}if(!k){var O=this.updateProjection(b,z);if(O)return;(!this.viewInitial||this.scope!==U.scope)&&this.saveViewInitial(U)}this.scope=U.scope,this.updateBaseLayers(z,U),this.updateDims(z,U),this.updateFx(z,U),u.generalUpdatePerTraceModule(this.graphDiv,this,b,U);var H=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=H.selectAll(".point"),this.dataPoints.text=H.selectAll("text"),this.dataPaths.line=H.selectAll(".js-line");var X=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=X.selectAll("path"),this._render()},E.updateProjection=function(b,z){var k=this.graphDiv,U=z[this.id],F=z._size,V=U.domain,N=U.projection,O=U.lonaxis,H=U.lataxis,X=O._ax,J=H._ax,et=this.projection=S(U),it=[[F.l+F.w*V.x[0],F.t+F.h*(1-V.y[1])],[F.l+F.w*V.x[1],F.t+F.h*(1-V.y[0])]],ft=U.center||{},ot=N.rotation||{},Q=O.range||[],tt=H.range||[];if(U.fitbounds){X._length=it[1][0]-it[0][0],J._length=it[1][1]-it[0][1],X.range=c(k,X),J.range=c(k,J);var Z=(X.range[0]+X.range[1])/2,q=(J.range[0]+J.range[1])/2;if(U._isScoped)ft={lon:Z,lat:q};else if(U._isClipped){ft={lon:Z,lat:q},ot={lon:Z,lat:q,roll:ot.roll};var ut=N.type,$=p.lonaxisSpan[ut]/2||180,j=p.lataxisSpan[ut]/2||90;Q=[Z-$,Z+$],tt=[q-j,q+j]}else ft={lon:Z,lat:q},ot={lon:Z,lat:ot.lat,roll:ot.roll}}et.center([ft.lon-ot.lon,ft.lat-ot.lat]).rotate([-ot.lon,-ot.lat,ot.roll]).parallels(N.parallels);var lt=C(Q,tt);et.fitExtent(it,lt);var nt=this.bounds=et.getBounds(lt),ht=this.fitScale=et.scale(),mt=et.translate();if(U.fitbounds){var At=et.getBounds(C(X.range,J.range)),bt=Math.min((nt[1][0]-nt[0][0])/(At[1][0]-At[0][0]),(nt[1][1]-nt[0][1])/(At[1][1]-At[0][1]));isFinite(bt)?et.scale(bt*ht):g.warn("Something went wrong during"+this.id+"fitbounds computations.")}else et.scale(N.scale*ht);var Pt=this.midPt=[(nt[0][0]+nt[1][0])/2,(nt[0][1]+nt[1][1])/2];if(et.translate([mt[0]+(Pt[0]-mt[0]),mt[1]+(Pt[1]-mt[1])]).clipExtent(nt),U._isAlbersUsa){var _t=et([ft.lon,ft.lat]),Ut=et.translate();et.translate([Ut[0]-(_t[0]-Ut[0]),Ut[1]-(_t[1]-Ut[1])])}},E.updateBaseLayers=function(b,z){var k=this,U=k.topojson,F=k.layers,V=k.basePaths;function N(it){return it==="lonaxis"||it==="lataxis"}function O(it){return!!p.lineLayers[it]}function H(it){return!!p.fillLayers[it]}var X=this.hasChoropleth?p.layersForChoropleth:p.layers,J=X.filter(function(it){return O(it)||H(it)?z["show"+it]:N(it)?z[it].showgrid:!0}),et=k.framework.selectAll(".layer").data(J,String);et.exit().each(function(it){delete F[it],delete V[it],y.select(this).remove()}),et.enter().append("g").attr("class",function(it){return"layer "+it}).each(function(it){var ft=F[it]=y.select(this);it==="bg"?k.bgRect=ft.append("rect").style("pointer-events","all"):N(it)?V[it]=ft.append("path").style("fill","none"):it==="backplot"?ft.append("g").classed("choroplethlayer",!0):it==="frontplot"?ft.append("g").classed("scatterlayer",!0):O(it)?V[it]=ft.append("path").style("fill","none").style("stroke-miterlimit",2):H(it)&&(V[it]=ft.append("path").style("stroke","none"))}),et.order(),et.each(function(it){var ft=V[it],ot=p.layerNameToAdjective[it];it==="frame"?ft.datum(p.sphereSVG):O(it)||H(it)?ft.datum(L(U,U.objects[it])):N(it)&&ft.datum(a(it,z,b)).call(e.stroke,z[it].gridcolor).call(o.dashLine,z[it].griddash,z[it].gridwidth),O(it)?ft.call(e.stroke,z[ot+"color"]).call(o.dashLine,"",z[ot+"width"]):H(it)&&ft.call(e.fill,z[ot+"color"])})},E.updateDims=function(b,z){var k=this.bounds,U=(z.framewidth||0)/2,F=k[0][0]-U,V=k[0][1]-U,N=k[1][0]-F+U,O=k[1][1]-V+U;o.setRect(this.clipRect,F,V,N,O),this.bgRect.call(o.setRect,F,V,N,O).call(e.fill,z.bgcolor),this.xaxis._offset=F,this.xaxis._length=N,this.yaxis._offset=V,this.yaxis._length=O},E.updateFx=function(b,z){var k=this,U=k.graphDiv,F=k.bgRect,V=b.dragmode,N=b.clickmode;if(k.isStatic)return;function O(){var et=k.viewInitial,it={};for(var ft in et)it[k.id+"."+ft]=et[ft];d.call("_guiRelayout",U,it),U.emit("plotly_doubleclick",null)}function H(et){return k.projection.invert([et[0]+k.xaxis._offset,et[1]+k.yaxis._offset])}var X=function(et,it){if(it.isRect){var ft=et.range={};ft[k.id]=[H([it.xmin,it.ymin]),H([it.xmax,it.ymax])]}else{var ot=et.lassoPoints={};ot[k.id]=it.map(H)}},J={element:k.bgRect.node(),gd:U,plotinfo:{id:k.id,xaxis:k.xaxis,yaxis:k.yaxis,fillRangeItems:X},xaxes:[k.xaxis],yaxes:[k.yaxis],subplot:k.id,clickFn:function(et){et===2&&T(U)}};V==="pan"?(F.node().onmousedown=null,F.call(i(k,z)),F.on("dblclick.zoom",O),U._context._scrollZoom.geo||F.on("wheel.zoom",null)):(V==="select"||V==="lasso")&&(F.on(".zoom",null),J.prepFn=function(et,it,ft){v(et,it,ft,J,V)},m.init(J)),F.on("mousemove",function(){var et=k.projection.invert(g.getPositionFromD3Event());if(!et)return m.unhover(U,y.event);k.xaxis.p2c=function(){return et[0]},k.yaxis.p2c=function(){return et[1]},n.hover(U,y.event,k.id)}),F.on("mouseout",function(){U._dragging||m.unhover(U,y.event)}),F.on("click",function(){V!=="select"&&V!=="lasso"&&(N.indexOf("select")>-1&&h(y.event,U,[k.xaxis],[k.yaxis],k.id,J),N.indexOf("event")>-1&&n.click(U,y.event))})},E.makeFramework=function(){var b=this,z=b.graphDiv,k=z._fullLayout,U="clip"+k._uid+b.id;b.clipDef=k._clips.append("clipPath").attr("id",U),b.clipRect=b.clipDef.append("rect"),b.framework=y.select(b.container).append("g").attr("class","geo "+b.id).call(o.setClipUrl,U,z),b.project=function(F){var V=b.projection(F);return V?[V[0]-b.xaxis._offset,V[1]-b.yaxis._offset]:[null,null]},b.xaxis={_id:"x",c2p:function(F){return b.project(F)[0]}},b.yaxis={_id:"y",c2p:function(F){return b.project(F)[1]}},b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(b.mockAxis,k)},E.saveViewInitial=function(b){var z=b.center||{},k=b.projection,U=k.rotation||{};this.viewInitial={fitbounds:b.fitbounds,"projection.scale":k.scale};var F;b._isScoped?F={"center.lon":z.lon,"center.lat":z.lat}:b._isClipped?F={"projection.rotation.lon":U.lon,"projection.rotation.lat":U.lat}:F={"center.lon":z.lon,"center.lat":z.lat,"projection.rotation.lon":U.lon},g.extendFlat(this.viewInitial,F)},E.render=function(b){this._hasMarkerAngles&&b?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var b=this.projection,z=b.getPath(),k;function U(V){var N=b(V.lonlat);return N?r(N[0],N[1]):null}function F(V){return b.isLonLatOverEdges(V.lonlat)?"none":null}for(k in this.basePaths)this.basePaths[k].attr("d",z);for(k in this.dataPaths)this.dataPaths[k].attr("d",function(V){return z(V.geojson)});for(k in this.dataPoints)this.dataPoints[k].attr("display",F).attr("transform",U)};function S(b){var z=b.projection,k=z.type,U=p.projNames[k];U="geo"+g.titleCase(U);for(var F=D[U]||M[U],V=F(),N=b._isSatellite?Math.acos(1/z.distance)*180/Math.PI:b._isClipped?p.lonaxisSpan[k]/2:null,O=["center","rotate","parallels","clipExtent"],H=function(et){return et?V:[]},X=0;X<O.length;X++){var J=O[X];typeof V[J]!="function"&&(V[J]=H)}return V.isLonLatOverEdges=function(et){if(V(et)===null)return!0;if(N){var it=V.rotate(),ft=P(et,[-it[0],-it[1]]),ot=N*Math.PI/180;return ft>ot}else return!1},V.getPath=function(){return s().projection(V)},V.getBounds=function(et){return V.getPath().bounds(et)},V.precision(p.precision),b._isSatellite&&V.tilt(z.tilt).distance(z.distance),N&&V.clipAngle(N-p.clipPad),V}function a(b,z,k){var U=1e-6,F=2.5,V=z[b],N=p.scopeDefaults[z.scope],O,H,X;b==="lonaxis"?(O=N.lonaxisRange,H=N.lataxisRange,X=function(q,ut){return[q,ut]}):b==="lataxis"&&(O=N.lataxisRange,H=N.lonaxisRange,X=function(q,ut){return[ut,q]});var J={type:"linear",range:[O[0],O[1]-U],tick0:V.tick0,dtick:V.dtick};f.setConvert(J,k);var et=f.calcTicks(J);!z.isScoped&&b==="lonaxis"&&et.pop();for(var it=et.length,ft=new Array(it),ot=0;ot<it;ot++)for(var Q=et[ot].x,tt=ft[ot]=[],Z=H[0];Z<H[1]+F;Z+=F)tt.push(X(Q,Z));return{type:"MultiLineString",coordinates:ft}}function C(b,z){var k=p.clipPad,U=b[0]+k,F=b[1]-k,V=z[0]+k,N=z[1]-k;U>0&&F<0&&(F+=360);var O=(F-U)/4;return{type:"Polygon",coordinates:[[[U,V],[U,N],[U+O,N],[U+2*O,N],[U+3*O,N],[F,N],[F,V],[F-O,V],[F-2*O,V],[F-3*O,V],[U,V]]]}}},10816:function(W,G,t){var y=t(84888).KY,D=t(3400).counterRegex,s=t(43520),P="geo",M=D(P),d={};d[P]={valType:"subplotid",dflt:P,editType:"calc"};function g(o){for(var n=o._fullLayout,u=o.calcdata,f=n._subplots[P],c=0;c<f.length;c++){var m=f[c],v=y(u,P,m),T=n[m],h=T._subplot;h||(h=s({id:m,graphDiv:o,container:n._geolayer.node(),topojsonURL:o._context.topojsonURL,staticPlot:o._context.staticPlot}),n[m]._subplot=h),h.plot(v,n,o._promises)}}function r(o,n,u,f){for(var c=f._subplots[P]||[],m=0;m<c.length;m++){var v=c[m],T=f[v]._subplot;!n[v]&&T&&(T.framework.remove(),T.clipDef.remove())}}function e(o){for(var n=o._fullLayout,u=n._subplots[P],f=0;f<u.length;f++){var c=n[u[f]],m=c._subplot;m.updateFx(n,c)}}W.exports={attr:P,name:P,idRoot:P,idRegex:M,attrRegex:M,attributes:d,layoutAttributes:t(40384),supplyLayoutDefaults:t(86920),plot:g,updateFx:e,clean:r}},40384:function(W,G,t){var y=t(22548),D=t(86968).u,s=t(98192).u,P=t(79552),M=t(67824).overrideAll,d=t(95376),g={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:y.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:s},r=W.exports=M({domain:D({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:d(P.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:d(P.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:y.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:P.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:P.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:P.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:P.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:y.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:y.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:y.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:y.background},lonaxis:g,lataxis:g},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(W,G,t){var y=t(3400),D=t(168),s=t(84888).op,P=t(79552),M=t(40384),d=P.axesNames;W.exports=function(e,o,n){D(e,o,n,{type:"geo",attributes:M,handleDefaults:g,fullData:n,partition:"y"})};function g(r,e,o,n){var u=s(n.fullData,"geo",n.id),f=u.map(function(tt){return tt._expandedIndex}),c=o("resolution"),m=o("scope"),v=P.scopeDefaults[m],T=o("projection.type",v.projType),h=e._isAlbersUsa=T==="albers usa";h&&(m=e.scope="usa");var i=e._isScoped=m!=="world",p=e._isSatellite=T==="satellite",w=e._isConic=T.indexOf("conic")!==-1||T==="albers",A=e._isClipped=!!P.lonaxisSpan[T];if(r.visible===!1){var L=y.extendDeep({},e._template);L.showcoastlines=!1,L.showcountries=!1,L.showframe=!1,L.showlakes=!1,L.showland=!1,L.showocean=!1,L.showrivers=!1,L.showsubunits=!1,L.lonaxis&&(L.lonaxis.showgrid=!1),L.lataxis&&(L.lataxis.showgrid=!1),e._template=L}for(var x=o("visible"),E,S=0;S<d.length;S++){var a=d[S],C=[30,10][S],b;if(i)b=v[a+"Range"];else{var z=P[a+"Span"],k=(z[T]||z["*"])/2,U=o("projection.rotation."+a.substr(0,3),v.projRotate[S]);b=[U-k,U+k]}var F=o(a+".range",b);o(a+".tick0"),o(a+".dtick",C),E=o(a+".showgrid",x?void 0:!1),E&&(o(a+".gridcolor"),o(a+".gridwidth"),o(a+".griddash")),e[a]._ax={type:"linear",_id:a.slice(0,3),_traceIndices:f,setScale:y.identity,c2l:y.identity,r2l:y.identity,autorange:!0,range:F.slice(),_m:1,_input:{}}}var V=e.lonaxis.range,N=e.lataxis.range,O=V[0],H=V[1];O>0&&H<0&&(H+=360);var X=(O+H)/2,J;if(!h){var et=i?v.projRotate:[X,0,0];J=o("projection.rotation.lon",et[0]),o("projection.rotation.lat",et[1]),o("projection.rotation.roll",et[2]),E=o("showcoastlines",!i&&x),E&&(o("coastlinecolor"),o("coastlinewidth")),E=o("showocean",x?void 0:!1),E&&o("oceancolor")}var it,ft;if(h?(it=-96.6,ft=38.7):(it=i?X:J,ft=(N[0]+N[1])/2),o("center.lon",it),o("center.lat",ft),p&&(o("projection.tilt"),o("projection.distance")),w){var ot=v.projParallels||[0,60];o("projection.parallels",ot)}o("projection.scale"),E=o("showland",x?void 0:!1),E&&o("landcolor"),E=o("showlakes",x?void 0:!1),E&&o("lakecolor"),E=o("showrivers",x?void 0:!1),E&&(o("rivercolor"),o("riverwidth")),E=o("showcountries",i&&m!=="usa"&&x),E&&(o("countrycolor"),o("countrywidth")),(m==="usa"||m==="north america"&&c===50)&&(o("showsubunits",x),o("subunitcolor"),o("subunitwidth")),i||(E=o("showframe",x),E&&(o("framecolor"),o("framewidth"))),o("bgcolor");var Q=o("fitbounds");Q&&(delete e.projection.scale,i?(delete e.center.lon,delete e.center.lat):A?(delete e.center.lon,delete e.center.lat,delete e.projection.rotation.lon,delete e.projection.rotation.lat,delete e.lonaxis.range,delete e.lataxis.range):(delete e.center.lon,delete e.center.lat,delete e.projection.rotation.lon))}},79248:function(W,G,t){var y=t(33428),D=t(3400),s=t(24040),P=Math.PI/180,M=180/Math.PI,d={cursor:"pointer"},g={cursor:"auto"};function r(a,C){var b=a.projection,z;return C._isScoped?z=n:C._isClipped?z=f:z=u,z(a,b)}W.exports=r;function e(a,C){return y.behavior.zoom().translate(C.translate()).scale(C.scale())}function o(a,C,b){var z=a.id,k=a.graphDiv,U=k.layout,F=U[z],V=k._fullLayout,N=V[z],O={},H={};function X(J,et){O[z+"."+J]=D.nestedProperty(F,J).get(),s.call("_storeDirectGUIEdit",U,V._preGUI,O);var it=D.nestedProperty(N,J);it.get()!==et&&(it.set(et),D.nestedProperty(F,J).set(et),H[z+"."+J]=et)}b(X),X("projection.scale",C.scale()/a.fitScale),X("fitbounds",!1),k.emit("plotly_relayout",H)}function n(a,C){var b=e(a,C);function z(){y.select(this).style(d)}function k(){C.scale(y.event.scale).translate(y.event.translate),a.render(!0);var V=C.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/a.fitScale,"geo.center.lon":V[0],"geo.center.lat":V[1]})}function U(V){var N=C.invert(a.midPt);V("center.lon",N[0]),V("center.lat",N[1])}function F(){y.select(this).style(g),o(a,C,U)}return b.on("zoomstart",z).on("zoom",k).on("zoomend",F),b}function u(a,C){var b=e(a,C),z=2,k,U,F,V,N,O,H,X,J;function et(Z){return C.invert(Z)}function it(Z){var q=et(Z);if(!q)return!0;var ut=C(q);return Math.abs(ut[0]-Z[0])>z||Math.abs(ut[1]-Z[1])>z}function ft(){y.select(this).style(d),k=y.mouse(this),U=C.rotate(),F=C.translate(),V=U,N=et(k)}function ot(){if(O=y.mouse(this),it(k)){b.scale(C.scale()),b.translate(C.translate());return}C.scale(y.event.scale),C.translate([F[0],y.event.translate[1]]),N?et(O)&&(X=et(O),H=[V[0]+(X[0]-N[0]),U[1],U[2]],C.rotate(H),V=H):(k=O,N=et(k)),J=!0,a.render(!0);var Z=C.rotate(),q=C.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/a.fitScale,"geo.center.lon":q[0],"geo.center.lat":q[1],"geo.projection.rotation.lon":-Z[0]})}function Q(){y.select(this).style(g),J&&o(a,C,tt)}function tt(Z){var q=C.rotate(),ut=C.invert(a.midPt);Z("projection.rotation.lon",-q[0]),Z("center.lon",ut[0]),Z("center.lat",ut[1])}return b.on("zoomstart",ft).on("zoom",ot).on("zoomend",Q),b}function f(a,C){C.rotate(),C.scale();var b=e(a,C),z=S(b,"zoomstart","zoom","zoomend"),k=0,U=b.on,F;b.on("zoomstart",function(){y.select(this).style(d);var X=y.mouse(this),J=C.rotate(),et=J,it=C.translate(),ft=m(J);F=c(C,X),U.call(b,"zoom",function(){var ot=y.mouse(this);if(C.scale(y.event.scale),!F)X=ot,F=c(C,X);else if(c(C,ot)){C.rotate(J).translate(it);var Q=c(C,ot),tt=T(F,Q),Z=A(v(ft,tt)),q=h(Z,F,et);(!isFinite(q[0])||!isFinite(q[1])||!isFinite(q[2]))&&(q=et),C.rotate(q),et=q}N(z.of(this,arguments))}),V(z.of(this,arguments))}).on("zoomend",function(){y.select(this).style(g),U.call(b,"zoom",null),O(z.of(this,arguments)),o(a,C,H)}).on("zoom.redraw",function(){a.render(!0);var X=C.rotate();a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/a.fitScale,"geo.projection.rotation.lon":-X[0],"geo.projection.rotation.lat":-X[1]})});function V(X){k++||X({type:"zoomstart"})}function N(X){X({type:"zoom"})}function O(X){--k||X({type:"zoomend"})}function H(X){var J=C.rotate();X("projection.rotation.lon",-J[0]),X("projection.rotation.lat",-J[1])}return y.rebind(b,z,"on")}function c(a,C){var b=a.invert(C);return b&&isFinite(b[0])&&isFinite(b[1])&&L(b)}function m(a){var C=.5*a[0]*P,b=.5*a[1]*P,z=.5*a[2]*P,k=Math.sin(C),U=Math.cos(C),F=Math.sin(b),V=Math.cos(b),N=Math.sin(z),O=Math.cos(z);return[U*V*O+k*F*N,k*V*O-U*F*N,U*F*O+k*V*N,U*V*N-k*F*O]}function v(a,C){var b=a[0],z=a[1],k=a[2],U=a[3],F=C[0],V=C[1],N=C[2],O=C[3];return[b*F-z*V-k*N-U*O,b*V+z*F+k*O-U*N,b*N-z*O+k*F+U*V,b*O+z*N-k*V+U*F]}function T(a,C){if(!(!a||!C)){var b=E(a,C),z=Math.sqrt(x(b,b)),k=.5*Math.acos(Math.max(-1,Math.min(1,x(a,C)))),U=Math.sin(k)/z;return z&&[Math.cos(k),b[2]*U,-b[1]*U,b[0]*U]}}function h(a,C,b){var z=w(C,2,a[0]);z=w(z,1,a[1]),z=w(z,0,a[2]-b[2]);var k=C[0],U=C[1],F=C[2],V=z[0],N=z[1],O=z[2],H=Math.atan2(U,k)*M,X=Math.sqrt(k*k+U*U),J,et;Math.abs(N)>X?(et=(N>0?90:-90)-H,J=0):(et=Math.asin(N/X)*M-H,J=Math.sqrt(X*X-N*N));var it=180-et-2*H,ft=(Math.atan2(O,V)-Math.atan2(F,J))*M,ot=(Math.atan2(O,V)-Math.atan2(F,-J))*M,Q=i(b[0],b[1],et,ft),tt=i(b[0],b[1],it,ot);return Q<=tt?[et,ft,b[2]]:[it,ot,b[2]]}function i(a,C,b,z){var k=p(b-a),U=p(z-C);return Math.sqrt(k*k+U*U)}function p(a){return(a%360+540)%360-180}function w(a,C,b){var z=b*P,k=a.slice(),U=C===0?1:0,F=C===2?1:2,V=Math.cos(z),N=Math.sin(z);return k[U]=a[U]*V-a[F]*N,k[F]=a[F]*V+a[U]*N,k}function A(a){return[Math.atan2(2*(a[0]*a[1]+a[2]*a[3]),1-2*(a[1]*a[1]+a[2]*a[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(a[0]*a[2]-a[3]*a[1]))))*M,Math.atan2(2*(a[0]*a[3]+a[1]*a[2]),1-2*(a[2]*a[2]+a[3]*a[3]))*M]}function L(a){var C=a[0]*P,b=a[1]*P,z=Math.cos(b);return[z*Math.cos(C),z*Math.sin(C),Math.sin(b)]}function x(a,C){for(var b=0,z=0,k=a.length;z<k;++z)b+=a[z]*C[z];return b}function E(a,C){return[a[1]*C[2]-a[2]*C[1],a[2]*C[0]-a[0]*C[2],a[0]*C[1]-a[1]*C[0]]}function S(a){for(var C=0,b=arguments.length,z=[];++C<b;)z.push(arguments[C]);var k=y.dispatch.apply(null,z);return k.of=function(U,F){return function(V){var N;try{N=V.sourceEvent=y.event,V.target=a,y.event=V,k[V.type].apply(U,F)}finally{y.event=N}}},k}},84888:function(W,G,t){var y=t(24040),D=t(33816).SUBPLOT_PATTERN;G.KY=function(s,P,M){var d=y.subplotsRegistry[P];if(!d)return[];for(var g=d.attr,r=[],e=0;e<s.length;e++){var o=s[e],n=o[0].trace;n[g]===M&&r.push(o)}return r},G._M=function(s,P,M){var d=[],g=[],r;if(typeof P=="string"?r=y.getModule(P).plot:typeof P=="function"?r=P:r=P.plot,!r)return[d,s];for(var e=M,o=0;o<s.length;o++){var n=s[o],u=n[0].trace,f=u.zorder!==void 0;u.visible!==!0||u._length===0||(u._module&&u._module.plot===r&&(!f||u.zorder===e)?d.push(n):g.push(n))}return[d,g]},G.op=function(P,M,d){if(!y.subplotsRegistry[M])return[];var g=y.subplotsRegistry[M].attr,r=[],e,o,n;if(M==="gl2d"){var u=d.match(D);o="x"+u[1],n="y"+u[2]}for(var f=0;f<P.length;f++)e=P[f],M==="gl2d"&&y.traceIs(e,"gl2d")?e[g[0]]===o&&e[g[1]]===n&&r.push(e):e[g]===d&&r.push(e);return r}},2428:function(W,G,t){var y=t(62644),D=t(97264),s=t(29128),P=t(33816),M=t(89184);W.exports=g;function d(r,e){this.element=r,this.plot=e,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function g(r){var e=r.mouseContainer,o=r.glplot,n=new d(e,o);function u(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function f(){for(var m=r.graphDiv._fullLayout._axisConstraintGroups,v=r.xaxis._id,T=r.yaxis._id,h=0;h<m.length;h++)if(m[h][v]!==-1){if(m[h][T]!==-1)return!0;break}return!1}n.mouseListener=y(e,c),e.addEventListener("touchstart",function(m){var v=s(m.changedTouches[0],e);c(0,v[0],v[1]),c(1,v[0],v[1]),m.preventDefault()},M?{passive:!1}:!1),e.addEventListener("touchmove",function(m){m.preventDefault();var v=s(m.changedTouches[0],e);c(1,v[0],v[1]),m.preventDefault()},M?{passive:!1}:!1),e.addEventListener("touchend",function(m){c(0,n.lastPos[0],n.lastPos[1]),m.preventDefault()},M?{passive:!1}:!1);function c(m,v,T){var h=r.calcDataBox(),i=o.viewBox,p=n.lastPos[0],w=n.lastPos[1],A=P.MINDRAG*o.pixelRatio,L=P.MINZOOM*o.pixelRatio,x,E;v*=o.pixelRatio,T*=o.pixelRatio,T=i[3]-i[1]-T;function S(U,F,V){var N=Math.min(F,V),O=Math.max(F,V);N!==O?(h[U]=N,h[U+2]=O,n.dataBox=h,r.setRanges(h)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(m){var a=v/(i[2]-i[0])*(h[2]-h[0])+h[0],C=T/(i[3]-i[1])*(h[3]-h[1])+h[1];n.boxInited||(n.boxStart[0]=a,n.boxStart[1]=C,n.dragStart[0]=v,n.dragStart[1]=T),n.boxEnd[0]=a,n.boxEnd[1]=C,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var b=Math.abs(n.dragStart[0]-v)<L,z=Math.abs(n.dragStart[1]-T)<L;if(f()&&!(b&&z)){x=n.boxEnd[0]-n.boxStart[0],E=n.boxEnd[1]-n.boxStart[1];var k=(h[3]-h[1])/(h[2]-h[0]);Math.abs(x*k)>Math.abs(E)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(x)*k*(E>=0?1:-1),n.boxEnd[1]<h[1]?(n.boxEnd[1]=h[1],n.boxEnd[0]=n.boxStart[0]+(h[1]-n.boxStart[1])/Math.abs(k)):n.boxEnd[1]>h[3]&&(n.boxEnd[1]=h[3],n.boxEnd[0]=n.boxStart[0]+(h[3]-n.boxStart[1])/Math.abs(k))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(E)/k*(x>=0?1:-1),n.boxEnd[0]<h[0]?(n.boxEnd[0]=h[0],n.boxEnd[1]=n.boxStart[1]+(h[0]-n.boxStart[0])*Math.abs(k)):n.boxEnd[0]>h[2]&&(n.boxEnd[0]=h[2],n.boxEnd[1]=n.boxStart[1]+(h[2]-n.boxStart[0])*Math.abs(k)))}else b&&(n.boxEnd[0]=n.boxStart[0]),z&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(x=n.boxStart[0]!==n.boxEnd[0],E=n.boxStart[1]!==n.boxEnd[1],x||E?(x&&(S(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),E&&(S(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,m?(n.panning||(n.dragStart[0]=v,n.dragStart[1]=T),Math.abs(n.dragStart[0]-v)<A&&(v=n.dragStart[0]),Math.abs(n.dragStart[1]-T)<A&&(T=n.dragStart[1]),x=(p-v)*(h[2]-h[0])/(o.viewBox[2]-o.viewBox[0]),E=(w-T)*(h[3]-h[1])/(o.viewBox[3]-o.viewBox[1]),h[0]+=x,h[2]+=x,h[1]+=E,h[3]+=E,r.setRanges(h),n.panning=!0,n.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=v,n.lastPos[1]=T}return n.wheelListener=D(e,function(m,v){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),h=o.viewBox,i=n.lastPos[0],p=n.lastPos[1],w=Math.exp(5*v/(h[3]-h[1])),A=i/(h[2]-h[0])*(T[2]-T[0])+T[0],L=p/(h[3]-h[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-A)*w+A,T[2]=(T[2]-A)*w+A,T[1]=(T[1]-L)*w+L,T[3]=(T[3]-L)*w+L,r.setRanges(T),n.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(W,G,t){var y=t(54460),D=t(43080);function s(g){this.scene=g,this.gl=g.gl,this.pixelRatio=g.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var P=s.prototype,M=["xaxis","yaxis"];P.merge=function(g){this.titleEnable=!1,this.backgroundColor=D(g.plot_bgcolor);var r,e,o,n,u,f,c,m,v,T,h;for(T=0;T<2;++T){r=M[T];var i=r.charAt(0);for(e=g[this.scene[r]._name],o=e.title.text===this.scene.fullLayout._dfltTitle[i]?"":e.title.text,h=0;h<=2;h+=2)this.labelEnable[T+h]=!1,this.labels[T+h]=o,this.labelColor[T+h]=D(e.title.font.color),this.labelFont[T+h]=e.title.font.family,this.labelSize[T+h]=e.title.font.size,this.labelPad[T+h]=this.getLabelPad(r,e),this.tickEnable[T+h]=!1,this.tickColor[T+h]=D((e.tickfont||{}).color),this.tickAngle[T+h]=e.tickangle==="auto"?0:Math.PI*-e.tickangle/180,this.tickPad[T+h]=this.getTickPad(e),this.tickMarkLength[T+h]=0,this.tickMarkWidth[T+h]=e.tickwidth||0,this.tickMarkColor[T+h]=D(e.tickcolor),this.borderLineEnable[T+h]=!1,this.borderLineColor[T+h]=D(e.linecolor),this.borderLineWidth[T+h]=e.linewidth||0;c=this.hasSharedAxis(e),u=this.hasAxisInDfltPos(r,e)&&!c,f=this.hasAxisInAltrPos(r,e)&&!c,n=e.mirror||!1,m=c?String(n).indexOf("all")!==-1:!!n,v=c?n==="allticks":String(n).indexOf("ticks")!==-1,u?this.labelEnable[T]=!0:f&&(this.labelEnable[T+2]=!0),u?this.tickEnable[T]=e.showticklabels:f&&(this.tickEnable[T+2]=e.showticklabels),(u||m)&&(this.borderLineEnable[T]=e.showline),(f||m)&&(this.borderLineEnable[T+2]=e.showline),(u||v)&&(this.tickMarkLength[T]=this.getTickMarkLength(e)),(f||v)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(e)),this.gridLineEnable[T]=e.showgrid,this.gridLineColor[T]=D(e.gridcolor),this.gridLineWidth[T]=e.gridwidth,this.zeroLineEnable[T]=e.zeroline,this.zeroLineColor[T]=D(e.zerolinecolor),this.zeroLineWidth[T]=e.zerolinewidth}},P.hasSharedAxis=function(g){var r=this.scene,e=r.fullLayout._subplots.gl2d,o=y.findSubplotsWithAxis(e,g);return o.indexOf(r.id)!==0},P.hasAxisInDfltPos=function(g,r){var e=r.side;if(g==="xaxis")return e==="bottom";if(g==="yaxis")return e==="left"},P.hasAxisInAltrPos=function(g,r){var e=r.side;if(g==="xaxis")return e==="top";if(g==="yaxis")return e==="right"},P.getLabelPad=function(g,r){var e=1.5,o=r.title.font.size,n=r.showticklabels;if(g==="xaxis")return r.side==="top"?-10+o*(e+(n?1:0)):-10+o*(e+(n?.5:0));if(g==="yaxis")return r.side==="right"?10+o*(e+(n?1:.5)):10+o*(e+(n?.5:0))},P.getTickPad=function(g){return g.ticks==="outside"?10+g.ticklen:15},P.getTickMarkLength=function(g){if(!g.ticks)return 0;var r=g.ticklen;return g.ticks==="inside"?-r:r};function d(g){return new s(g)}W.exports=d},39952:function(W,G,t){var y=t(67824).overrideAll,D=t(17188),s=t(64859),P=t(9616),M=t(33816),d=t(57952),g=t(65460),r=t(84888).op;G.name="gl2d",G.attr=["xaxis","yaxis"],G.idRoot=["x","y"],G.idRegex=M.idRegex,G.attrRegex=M.attrRegex,G.attributes=t(26720),G.supplyLayoutDefaults=function(e,o,n){o._has("cartesian")||d.supplyLayoutDefaults(e,o,n)},G.layoutAttrOverrides=y(d.layoutAttributes,"plot","from-root"),G.baseLayoutAttrOverrides=y({plot_bgcolor:s.plot_bgcolor,hoverlabel:g.hoverlabel},"plot","nested"),G.plot=function(o){for(var n=o._fullLayout,u=o._fullData,f=n._subplots.gl2d,c=0;c<f.length;c++){var m=f[c],v=n._plots[m],T=r(u,"gl2d",m),h=v._scene2d;h===void 0&&(h=new D({id:m,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio},n),v._scene2d=h),h.plot(T,o.calcdata,n,o.layout)}},G.clean=function(e,o,n,u){for(var f=u._subplots.gl2d||[],c=0;c<f.length;c++){var m=f[c],v=u._plots[m];if(v._scene2d){var T=r(e,"gl2d",m);T.length===0&&(v._scene2d.destroy(),delete u._plots[m])}}d.clean.apply(this,arguments)},G.drawFramework=function(e){e._context.staticPlot||d.drawFramework(e)},G.toSVG=function(e){for(var o=e._fullLayout,n=o._subplots.gl2d,u=0;u<n.length;u++){var f=o._plots[n[u]],c=f._scene2d,m=c.toImage("png"),v=o._glimages.append("svg:image");v.attr({xmlns:P.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),c.destroy()}},G.updateFx=function(e){for(var o=e._fullLayout,n=o._subplots.gl2d,u=0;u<n.length;u++){var f=o._plots[n[u]]._scene2d;f.updateFx(o.dragmode)}}},17188:function(W,G,t){var y=t(24040),D=t(54460),s=t(93024),P=t(67792).gl_plot2d,M=t(67792).gl_spikes2d,d=t(67792).gl_select_box,g=t(5408),r=t(92568),e=t(2428),o=t(16576),n=t(71888),u=n.enforce,f=n.clean,c=t(19280).doAutoRange,m=t(72760),v=m.drawMode,T=m.selectMode,h=["xaxis","yaxis"],i,p,w=t(33816).SUBPLOT_PATTERN;function A(E,S){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(S),this.glplot=P(this.glplotOptions),this.camera=e(this),this.traces={},this.spikes=M(this.glplot),this.selectBox=d(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}W.exports=A;var L=A.prototype;L.makeFramework=function(){if(this.staticPlot){if(!p&&(i=document.createElement("canvas"),p=g({canvas:i,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("Error creating static canvas/context for image server");this.canvas=i,this.gl=p}else{var E=this.container.querySelector(".gl-canvas-focus"),S=g({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S){o(this),this.stopped=!0;return}this.canvas=E,this.gl=S}var a=this.canvas;a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style["pointer-events"]="none",this.updateSize(a);var C=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",C.style["z-index"]=20,C.style["pointer-events"]="none";var b=this.mouseContainer=document.createElement("div");b.style.position="absolute",b.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var z=this.container;z.appendChild(C),z.appendChild(b);var k=this;b.addEventListener("mouseout",function(){k.isMouseOver=!1,k.unhover()}),b.addEventListener("mouseover",function(){k.isMouseOver=!0})},L.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(i),this.updateSize(this.canvas);var S=this.glplot.gl,a=S.drawingBufferWidth,C=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var b=new Uint8Array(a*C*4);S.readPixels(0,0,a,C,S.RGBA,S.UNSIGNED_BYTE,b);for(var z=0,k=C-1;z<k;++z,--k)for(var U=0;U<a;++U)for(var F=0;F<4;++F){var V=b[4*(a*z+U)+F];b[4*(a*z+U)+F]=b[4*(a*k+U)+F],b[4*(a*k+U)+F]=V}var N=document.createElement("canvas");N.width=a,N.height=C;var O=N.getContext("2d",{willReadFrequently:!0}),H=O.createImageData(a,C);H.data.set(b),O.putImageData(H,0,0);var X;switch(E){case"jpeg":X=N.toDataURL("image/jpeg");break;case"webp":X=N.toDataURL("image/webp");break;default:X=N.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(i),X},L.updateSize=function(E){E||(E=this.canvas);var S=this.pixelRatio,a=this.fullLayout,C=a.width,b=a.height,z=Math.ceil(S*C)|0,k=Math.ceil(S*b)|0;return(E.width!==z||E.height!==k)&&(E.width=z,E.height=k),E},L.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[D.calcTicks(this.xaxis),D.calcTicks(this.yaxis)],S=0;S<2;++S)for(var a=0;a<E[S].length;++a)E[S][a].text=E[S][a].text+"";return E};function x(E,S){for(var a=0;a<2;++a){var C=E[a],b=S[a];if(C.length!==b.length)return!0;for(var z=0;z<C.length;++z)if(C[z].x!==b[z].x)return!0}return!1}L.updateRefs=function(E){this.fullLayout=E;var S=this.id.match(w),a="xaxis"+S[1],C="yaxis"+S[2];this.xaxis=this.fullLayout[a],this.yaxis=this.fullLayout[C]},L.relayoutCallback=function(){var E=this.graphDiv,S=this.xaxis,a=this.yaxis,C=E.layout,b={},z=b[S._name+".range"]=S.range.slice(),k=b[a._name+".range"]=a.range.slice();b[S._name+".autorange"]=S.autorange,b[a._name+".autorange"]=a.autorange,y.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,b);var U=C[S._name];U.range=z,U.autorange=S.autorange;var F=C[a._name];F.range=k,F.autorange=a.autorange,b.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",b)},L.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks(),a=this.glplotOptions.ticks;x(S,a)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},L.handleAnnotations=function(){for(var E=this.graphDiv,S=this.fullLayout.annotations,a=0;a<S.length;a++){var C=S[a];C.xref===this.xaxis._id&&C.yref===this.yaxis._id&&y.getComponentMethod("annotations","drawOne")(E,a)}},L.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(S){E[S].dispose(),delete E[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},L.plot=function(E,S,a){var C=this.glplot;this.updateRefs(a),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,S),this.updateFx(a.dragmode);var b=a.width,z=a.height;this.updateSize(this.canvas);var k=this.glplotOptions;k.merge(a),k.screenBox=[0,0,b,z];var U={_fullLayout:{_axisConstraintGroups:a._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:a._size}};f(U,this.xaxis),f(U,this.yaxis);var F=a._size,V=this.xaxis.domain,N=this.yaxis.domain;k.viewBox=[F.l+V[0]*F.w,F.b+N[0]*F.h,b-F.r-(1-V[1])*F.w,z-F.t-(1-N[1])*F.h],this.mouseContainer.style.width=F.w*(V[1]-V[0])+"px",this.mouseContainer.style.height=F.h*(N[1]-N[0])+"px",this.mouseContainer.height=F.h*(N[1]-N[0]),this.mouseContainer.style.left=F.l+V[0]*F.w+"px",this.mouseContainer.style.top=F.t+(1-N[1])*F.h+"px";var O,H;for(H=0;H<2;++H)O=this[h[H]],O._length=k.viewBox[H+2]-k.viewBox[H],c(this.graphDiv,O),O.setScale();u(U),k.ticks=this.computeTickMarks(),k.dataBox=this.calcDataBox(),k.merge(a),C.update(k),this.glplot.draw()},L.calcDataBox=function(){var E=this.xaxis,S=this.yaxis,a=E.range,C=S.range,b=E.r2l,z=S.r2l;return[b(a[0]),z(C[0]),b(a[1]),z(C[1])]},L.setRanges=function(E){var S=this.xaxis,a=this.yaxis,C=S.l2r,b=a.l2r;S.range=[C(E[0]),C(E[2])],a.range=[b(E[1]),b(E[3])]},L.updateTraces=function(E,S){var a=Object.keys(this.traces),C,b,z;this.fullData=E;t:for(C=0;C<a.length;C++){var k=a[C],U=this.traces[k];for(b=0;b<E.length;b++)if(z=E[b],z.uid===k&&z.type===U.type)continue t;U.dispose(),delete this.traces[k]}for(C=0;C<E.length;C++){z=E[C];var F=S[C],V=this.traces[z.uid];V?V.update(z,F):(V=z._module.plot(this,z,F),this.traces[z.uid]=V)}this.glplot.objects.sort(function(N,O){return N._trace.index-O._trace.index})},L.updateFx=function(E){T(E)||v(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},L.emitPointAction=function(E,S){for(var a=E.trace.uid,C=E.pointIndex,b,z=0;z<this.fullData.length;z++)this.fullData[z].uid===a&&(b=this.fullData[z]);var k={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:b.index,pointNumber:C,data:b._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};s.appendArrayPointValue(k,b,C),this.graphDiv.emit(S,{points:[k]})},L.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,S=this.camera,a=S.mouseListener,C=this.lastButtonState===1&&a.buttons===0,b=this.fullLayout;this.lastButtonState=a.buttons,this.cameraChanged();var z=a.x*E.pixelRatio,k=this.canvas.height-E.pixelRatio*a.y,U;if(S.boxEnabled&&b.dragmode==="zoom"){this.selectBox.enabled=!0;for(var F=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],V=0;V<2;V++)S.boxStart[V]===S.boxEnd[V]&&(F[V]=E.dataBox[V],F[V+2]=E.dataBox[V+2]);E.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var N=b._size,O=this.xaxis.domain,H=this.yaxis.domain;U=E.pick(z/E.pixelRatio+N.l+O[0]*N.w,k/E.pixelRatio-(N.t+(1-H[1])*N.h));var X=U&&U.object._trace.handlePick(U);if(X&&C&&this.emitPointAction(X,"plotly_click"),U&&U.object._trace.hoverinfo!=="skip"&&b.hovermode&&X&&(!this.lastPickResult||this.lastPickResult.traceUid!==X.trace.uid||this.lastPickResult.dataCoord[0]!==X.dataCoord[0]||this.lastPickResult.dataCoord[1]!==X.dataCoord[1])){var J=X;this.lastPickResult={traceUid:X.trace?X.trace.uid:null,dataCoord:X.dataCoord.slice()},this.spikes.update({center:U.dataCoord}),J.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(U.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(U.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(X,"plotly_hover");var et=this.fullData[J.trace.index]||{},it=J.pointIndex,ft=s.castHoverinfo(et,b,it);if(ft&&ft!=="all"){var ot=ft.split("+");ot.indexOf("x")===-1&&(J.traceCoord[0]=void 0),ot.indexOf("y")===-1&&(J.traceCoord[1]=void 0),ot.indexOf("z")===-1&&(J.traceCoord[2]=void 0),ot.indexOf("text")===-1&&(J.textLabel=void 0),ot.indexOf("name")===-1&&(J.name=void 0)}s.loneHover({x:J.screenCoord[0],y:J.screenCoord[1],xLabel:this.hoverFormatter("xaxis",J.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",J.traceCoord[1]),zLabel:J.traceCoord[2],text:J.textLabel,name:J.name,color:s.castHoverOption(et,it,"bgcolor")||J.color,borderColor:s.castHoverOption(et,it,"bordercolor"),fontFamily:s.castHoverOption(et,it,"font.family"),fontSize:s.castHoverOption(et,it,"font.size"),fontColor:s.castHoverOption(et,it,"font.color"),nameLength:s.castHoverOption(et,it,"namelength"),textAlign:s.castHoverOption(et,it,"align")},{container:this.svgContainer,gd:this.graphDiv})}}U||this.unhover(),E.draw()}},L.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),s.loneUnhover(this.svgContainer))},L.hoverFormatter=function(E,S){if(S!==void 0){var a=this[E];return D.tickText(a,a.c2l(S),"hover").text}}},12536:function(W,G,t){var y=t(67824).overrideAll,D=t(65460),s=t(98432),P=t(84888).op,M=t(3400),d=t(9616),g="gl3d",r="scene";G.name=g,G.attr=r,G.idRoot=r,G.idRegex=G.attrRegex=M.counterRegex("scene"),G.attributes=t(6636),G.layoutAttributes=t(346),G.baseLayoutAttrOverrides=y({hoverlabel:D.hoverlabel},"plot","nested"),G.supplyLayoutDefaults=t(5208),G.plot=function(o){for(var n=o._fullLayout,u=o._fullData,f=n._subplots[g],c=0;c<f.length;c++){var m=f[c],v=P(u,g,m),T=n[m],h=T.camera,i=T._scene;i||(i=new s({id:m,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio,camera:h},n),T._scene=i),i.viewInitial||(i.viewInitial={up:{x:h.up.x,y:h.up.y,z:h.up.z},eye:{x:h.eye.x,y:h.eye.y,z:h.eye.z},center:{x:h.center.x,y:h.center.y,z:h.center.z}}),i.plot(v,n,o.layout)}},G.clean=function(e,o,n,u){for(var f=u._subplots[g]||[],c=0;c<f.length;c++){var m=f[c];!o[m]&&u[m]._scene&&(u[m]._scene.destroy(),u._infolayer&&u._infolayer.selectAll(".annotation-"+m).remove())}},G.toSVG=function(e){for(var o=e._fullLayout,n=o._subplots[g],u=o._size,f=0;f<n.length;f++){var c=o[n[f]],m=c.domain,v=c._scene,T=v.toImage("png"),h=o._glimages.append("svg:image");h.attr({xmlns:d.svg,"xlink:href":T,x:u.l+u.w*m.x[0],y:u.t+u.h*(1-m.y[1]),width:u.w*(m.x[1]-m.x[0]),height:u.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),v.destroy()}},G.cleanId=function(o){if(o.match(/^scene[0-9]*$/)){var n=o.substr(5);return n==="1"&&(n=""),r+n}},G.updateFx=function(e){for(var o=e._fullLayout,n=o._subplots[g],u=0;u<n.length;u++){var f=o[n[u]]._scene;f.updateFx(o.dragmode,o.hovermode)}}},6636:function(W){W.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(W,G,t){var y=t(76308),D=t(94724),s=t(92880).extendFlat,P=t(67824).overrideAll;W.exports=P({visible:D.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:y.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:D.color,categoryorder:D.categoryorder,categoryarray:D.categoryarray,title:{text:D.title.text,font:D.title.font},type:s({},D.type,{values:["-","linear","log","date","category"]}),autotypenumbers:D.autotypenumbers,autorange:D.autorange,autorangeoptions:{minallowed:D.autorangeoptions.minallowed,maxallowed:D.autorangeoptions.maxallowed,clipmin:D.autorangeoptions.clipmin,clipmax:D.autorangeoptions.clipmax,include:D.autorangeoptions.include,editType:"plot"},rangemode:D.rangemode,minallowed:D.minallowed,maxallowed:D.maxallowed,range:s({},D.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:D.minor.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,mirror:D.mirror,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,tickfont:D.tickfont,tickangle:D.tickangle,tickprefix:D.tickprefix,showtickprefix:D.showtickprefix,ticksuffix:D.ticksuffix,showticksuffix:D.showticksuffix,showexponent:D.showexponent,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,tickformat:D.tickformat,tickformatstops:D.tickformatstops,hoverformat:D.hoverformat,showline:D.showline,linecolor:D.linecolor,linewidth:D.linewidth,showgrid:D.showgrid,gridcolor:s({},D.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:D.gridwidth,zeroline:D.zeroline,zerolinecolor:D.zerolinecolor,zerolinewidth:D.zerolinewidth,_deprecated:{title:D._deprecated.title,titlefont:D._deprecated.titlefont}},"plot","from-root")},64380:function(W,G,t){var y=t(49760).mix,D=t(3400),s=t(31780),P=t(86140),M=t(14944),d=t(28336),g=["xaxis","yaxis","zaxis"],r=100*136/187;W.exports=function(o,n,u){var f,c;function m(h,i){return D.coerce(f,c,P,h,i)}for(var v=0;v<g.length;v++){var T=g[v];f=o[T]||{},c=s.newContainer(n,T),c._id=T[0]+u.scene,c._name=T,M(f,c,m,u),d(f,c,m,{font:u.font,letter:T[0],data:u.data,showGrid:!0,noAutotickangles:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:u.bgColor,calendar:u.calendar},u.fullLayout),m("gridcolor",y(c.color,u.bgColor,r).toRgbString()),m("title.text",T[0]),c.setScale=D.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",c.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},44728:function(W,G,t){var y=t(43080),D=t(3400),s=["xaxis","yaxis","zaxis"];function P(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var M=P.prototype;M.merge=function(g,r){for(var e=this,o=0;o<3;++o){var n=r[s[o]];if(!n.visible){e.tickEnable[o]=!1,e.labelEnable[o]=!1,e.lineEnable[o]=!1,e.lineTickEnable[o]=!1,e.gridEnable[o]=!1,e.zeroEnable[o]=!1,e.backgroundEnable[o]=!1;continue}e.labels[o]=g._meta?D.templateString(n.title.text,g._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(e.labelColor[o]=y(n.title.font.color)),n.title.font.family&&(e.labelFont[o]=n.title.font.family),n.title.font.size&&(e.labelSize[o]=n.title.font.size),n.title.font.weight&&(e.labelFontWeight[o]=n.title.font.weight),n.title.font.style&&(e.labelFontStyle[o]=n.title.font.style),n.title.font.variant&&(e.labelFontVariant[o]=n.title.font.variant)),"showline"in n&&(e.lineEnable[o]=n.showline),"linecolor"in n&&(e.lineColor[o]=y(n.linecolor)),"linewidth"in n&&(e.lineWidth[o]=n.linewidth),"showgrid"in n&&(e.gridEnable[o]=n.showgrid),"gridcolor"in n&&(e.gridColor[o]=y(n.gridcolor)),"gridwidth"in n&&(e.gridWidth[o]=n.gridwidth),n.type==="log"?e.zeroEnable[o]=!1:"zeroline"in n&&(e.zeroEnable[o]=n.zeroline),"zerolinecolor"in n&&(e.zeroLineColor[o]=y(n.zerolinecolor)),"zerolinewidth"in n&&(e.zeroLineWidth[o]=n.zerolinewidth),"ticks"in n&&n.ticks?e.lineTickEnable[o]=!0:e.lineTickEnable[o]=!1,"ticklen"in n&&(e.lineTickLength[o]=e._defaultLineTickLength[o]=n.ticklen),"tickcolor"in n&&(e.lineTickColor[o]=y(n.tickcolor)),"tickwidth"in n&&(e.lineTickWidth[o]=n.tickwidth),"tickangle"in n&&(e.tickAngle[o]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(e.tickEnable[o]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(e.tickColor[o]=y(n.tickfont.color)),n.tickfont.family&&(e.tickFont[o]=n.tickfont.family),n.tickfont.size&&(e.tickSize[o]=n.tickfont.size),n.tickfont.weight&&(e.tickFontWeight[o]=n.tickfont.weight),n.tickfont.style&&(e.tickFontStyle[o]=n.tickfont.style),n.tickfont.variant&&(e.tickFontVariant[o]=n.tickfont.variant)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(e.lineTickMirror[o]=!0,e.lineMirror[o]=!0):n.mirror===!0?(e.lineTickMirror[o]=!1,e.lineMirror[o]=!0):(e.lineTickMirror[o]=!1,e.lineMirror[o]=!1):e.lineMirror[o]=!1,"showbackground"in n&&n.showbackground!==!1?(e.backgroundEnable[o]=!0,e.backgroundColor[o]=y(n.backgroundcolor)):e.backgroundEnable[o]=!1}};function d(g,r){var e=new P;return e.merge(g,r),e}W.exports=d},5208:function(W,G,t){var y=t(3400),D=t(76308),s=t(24040),P=t(168),M=t(64380),d=t(346),g=t(84888).op,r="gl3d";W.exports=function(n,u,f){var c=u._basePlotModules.length>1;function m(v){if(!c){var T=y.validate(n[v],d[v]);if(T)return n[v]}}P(n,u,f,{type:r,attributes:d,handleDefaults:e,fullLayout:u,font:u.font,fullData:f,getDfltFromLayout:m,autotypenumbersDflt:u.autotypenumbers,paper_bgcolor:u.paper_bgcolor,calendar:u.calendar})};function e(o,n,u,f){for(var c=u("bgcolor"),m=D.combine(c,f.paper_bgcolor),v=["up","center","eye"],T=0;T<v.length;T++)u("camera."+v[T]+".x"),u("camera."+v[T]+".y"),u("camera."+v[T]+".z");u("camera.projection.type");var h=!!u("aspectratio.x")&&!!u("aspectratio.y")&&!!u("aspectratio.z"),i=h?"manual":"auto",p=u("aspectmode",i);h||(o.aspectratio=n.aspectratio={x:1,y:1,z:1},p==="manual"&&(n.aspectmode="auto"),o.aspectmode=n.aspectmode);var w=g(f.fullData,r,f.id);M(o,n,{font:f.font,scene:f.id,data:w,bgColor:m,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),s.getComponentMethod("annotations3d","handleDefaults")(o,n,f);var A=f.getDfltFromLayout("dragmode");if(A!==!1&&!A)if(A="orbit",o.camera&&o.camera.up){var L=o.camera.up.x,x=o.camera.up.y,E=o.camera.up.z;E!==0&&(!L||!x||!E||E/Math.sqrt(L*L+x*x+E*E)>.999)&&(A="turntable")}else A="turntable";u("dragmode",A),u("hovermode",f.getDfltFromLayout("hovermode"))}},346:function(W,G,t){var y=t(86140),D=t(86968).u,s=t(92880).extendFlat,P=t(3400).counterRegex;function M(d,g,r){return{x:{valType:"number",dflt:d,editType:"camera"},y:{valType:"number",dflt:g,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}W.exports={_arrayAttrRegexps:[P("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:s(M(0,0,1),{}),center:s(M(0,0,0),{}),eye:s(M(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:D({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:y,yaxis:y,zaxis:y,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(W,G,t){var y=t(43080),D=["xaxis","yaxis","zaxis"];function s(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var P=s.prototype;P.merge=function(d){for(var g=0;g<3;++g){var r=d[D[g]];if(!r.visible){this.enabled[g]=!1,this.drawSides[g]=!1;continue}this.enabled[g]=r.showspikes,this.colors[g]=y(r.spikecolor),this.drawSides[g]=r.spikesides,this.lineWidth[g]=r.spikethickness}};function M(d){var g=new s;return g.merge(d),g}W.exports=M},87152:function(W,G,t){W.exports=M;var y=t(54460),D=t(3400),s=["xaxis","yaxis","zaxis"];function P(d){for(var g=new Array(3),r=0;r<3;++r){for(var e=d[r],o=new Array(e.length),n=0;n<e.length;++n)o[n]=e[n].x;g[r]=o}return g}function M(d){for(var g=d.axesOptions,r=d.glplot.axesPixels,e=d.fullSceneLayout,o=[[],[],[]],n=0;n<3;++n){var u=e[s[n]];if(u._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/d.dataScale[n],Math.abs(u._length)===1/0||isNaN(u._length))o[n]=[];else{u._input_range=u.range.slice(),u.range[0]=r[n].lo/d.dataScale[n],u.range[1]=r[n].hi/d.dataScale[n],u._m=1/(d.dataScale[n]*r[n].pixelsPerDataUnit),u.range[0]===u.range[1]&&(u.range[0]-=1,u.range[1]+=1);var f=u.tickmode;if(u.tickmode==="auto"){u.tickmode="linear";var c=u.nticks||D.constrain(u._length/40,4,9);y.autoTicks(u,Math.abs(u.range[1]-u.range[0])/c)}for(var m=y.calcTicks(u,{msUTC:!0}),v=0;v<m.length;++v)m[v].x=m[v].x*d.dataScale[n],u.type==="date"&&(m[v].text=m[v].text.replace(/\<br\>/g," "));o[n]=m,u.tickmode=f}}g.ticks=o;for(var n=0;n<3;++n){.5*(d.glplot.bounds[0][n]+d.glplot.bounds[1][n]);for(var v=0;v<2;++v)g.bounds[v][n]=d.glplot.bounds[v][n]}d.contourLevels=P(o)}},94424:function(W){function G(y,D){var s=[0,0,0,0],P,M;for(P=0;P<4;++P)for(M=0;M<4;++M)s[M]+=y[4*P+M]*D[P];return s}function t(y,D){var s=G(y.projection,G(y.view,G(y.model,[D[0],D[1],D[2],1])));return s}W.exports=t},98432:function(W,G,t){var y=t(67792).gl_plot3d,D=y.createCamera,s=y.createScene,P=t(5408),M=t(89184),d=t(24040),g=t(3400),r=g.preserveDrawingBuffer(),e=t(54460),o=t(93024),n=t(43080),u=t(16576),f=t(94424),c=t(44728),m=t(9020),v=t(87152),T=t(19280).applyAutorangeOptions,h,i,p=!1;function w(k,U){var F=document.createElement("div"),V=k.container;this.graphDiv=k.graphDiv;var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.style.position="absolute",N.style.top=N.style.left="0px",N.style.width=N.style.height="100%",N.style["z-index"]=20,N.style["pointer-events"]="none",F.appendChild(N),this.svgContainer=N,F.id=k.id,F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",V.appendChild(F),this.fullLayout=U,this.id=k.id||"scene",this.fullSceneLayout=U[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(U,U[this.id]),this.spikeOptions=m(U[this.id]),this.container=F,this.staticMode=!!k.staticPlot,this.pixelRatio=this.pixelRatio||k.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=d.getComponentMethod("annotations3d","convert"),this.drawAnnotations=d.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var A=w.prototype;A.prepareOptions=function(){var k=this,U={canvas:k.canvas,gl:k.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:k.container,axes:k.axesOptions,spikes:k.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:k.camera,pixelRatio:k.pixelRatio};if(k.staticMode){if(!i&&(h=document.createElement("canvas"),i=P({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!i))throw new Error("error creating static canvas/context for image server");U.gl=i,U.canvas=h}return U};var L=!0;A.tryCreatePlot=function(){var k=this,U=k.prepareOptions(),F=!0;try{k.glplot=s(U)}catch{if(k.staticMode||!L||r)F=!1;else{g.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=U.glOptions.preserveDrawingBuffer=!0,k.glplot=s(U)}catch{r=U.glOptions.preserveDrawingBuffer=!1,F=!1}}}return L=!1,F},A.initializeGLCamera=function(){var k=this,U=k.fullSceneLayout.camera,F=U.projection.type==="orthographic";k.camera=D(k.container,{center:[U.center.x,U.center.y,U.center.z],eye:[U.eye.x,U.eye.y,U.eye.z],up:[U.up.x,U.up.y,U.up.z],_ortho:F,zoomMin:.01,zoomMax:100,mode:"orbit"})},A.initializeGLPlot=function(){var k=this;k.initializeGLCamera();var U=k.tryCreatePlot();if(!U)return u(k);k.traces={},k.make4thDimension();var F=k.graphDiv,V=F.layout,N=function(){var H={};return k.isCameraChanged(V)&&(H[k.id+".camera"]=k.getCamera()),k.isAspectChanged(V)&&(H[k.id+".aspectratio"]=k.glplot.getAspectratio(),V[k.id].aspectmode!=="manual"&&(k.fullSceneLayout.aspectmode=V[k.id].aspectmode=H[k.id+".aspectmode"]="manual")),H},O=function(H){if(H.fullSceneLayout.dragmode!==!1){var X=N();H.saveLayout(V),H.graphDiv.emit("plotly_relayout",X)}};return k.glplot.canvas&&(k.glplot.canvas.addEventListener("mouseup",function(){O(k)}),k.glplot.canvas.addEventListener("touchstart",function(){p=!0}),k.glplot.canvas.addEventListener("wheel",function(H){if(F._context._scrollZoom.gl3d){if(k.camera._ortho){var X=H.deltaX>H.deltaY?1.1:.9090909090909091,J=k.glplot.getAspectratio();k.glplot.setAspectratio({x:X*J.x,y:X*J.y,z:X*J.z})}O(k)}},M?{passive:!1}:!1),k.glplot.canvas.addEventListener("mousemove",function(){if(k.fullSceneLayout.dragmode!==!1&&k.camera.mouseListener.buttons!==0){var H=N();k.graphDiv.emit("plotly_relayouting",H)}}),k.staticMode||k.glplot.canvas.addEventListener("webglcontextlost",function(H){F&&F.emit&&F.emit("plotly_webglcontextlost",{event:H,layer:k.id})},!1)),k.glplot.oncontextloss=function(){k.recoverContext()},k.glplot.onrender=function(){k.render()},!0},A.render=function(){var k=this,U=k.graphDiv,F,V=k.svgContainer,N=k.container.getBoundingClientRect();U._fullLayout._calcInverseTransform(U);var O=U._fullLayout._invScaleX,H=U._fullLayout._invScaleY,X=N.width*O,J=N.height*H;V.setAttributeNS(null,"viewBox","0 0 "+X+" "+J),V.setAttributeNS(null,"width",X),V.setAttributeNS(null,"height",J),v(k),k.glplot.axes.update(k.axesOptions);for(var et=Object.keys(k.traces),it=null,ft=k.glplot.selection,ot=0;ot<et.length;++ot)F=k.traces[et[ot]],F.data.hoverinfo!=="skip"&&F.handlePick(ft)&&(it=F),F.setContourLevels&&F.setContourLevels();function Q(Pt,_t,Ut){var St=k.fullSceneLayout[Pt+"axis"];return St.type!=="log"&&(_t=St.d2l(_t)),e.hoverLabelText(St,_t,Ut)}if(it!==null){var tt=f(k.glplot.cameraParams,ft.dataCoordinate);F=it.data;var Z=U._fullData[F.index],q=ft.index,ut={xLabel:Q("x",ft.traceCoordinate[0],F.xhoverformat),yLabel:Q("y",ft.traceCoordinate[1],F.yhoverformat),zLabel:Q("z",ft.traceCoordinate[2],F.zhoverformat)},$=o.castHoverinfo(Z,k.fullLayout,q),j=($||"").split("+"),lt=$&&$==="all";!Z.hovertemplate&&!lt&&(j.indexOf("x")===-1&&(ut.xLabel=void 0),j.indexOf("y")===-1&&(ut.yLabel=void 0),j.indexOf("z")===-1&&(ut.zLabel=void 0),j.indexOf("text")===-1&&(ft.textLabel=void 0),j.indexOf("name")===-1&&(it.name=void 0));var nt,ht=[];F.type==="cone"||F.type==="streamtube"?(ut.uLabel=Q("x",ft.traceCoordinate[3],F.uhoverformat),(lt||j.indexOf("u")!==-1)&&ht.push("u: "+ut.uLabel),ut.vLabel=Q("y",ft.traceCoordinate[4],F.vhoverformat),(lt||j.indexOf("v")!==-1)&&ht.push("v: "+ut.vLabel),ut.wLabel=Q("z",ft.traceCoordinate[5],F.whoverformat),(lt||j.indexOf("w")!==-1)&&ht.push("w: "+ut.wLabel),ut.normLabel=ft.traceCoordinate[6].toPrecision(3),(lt||j.indexOf("norm")!==-1)&&ht.push("norm: "+ut.normLabel),F.type==="streamtube"&&(ut.divergenceLabel=ft.traceCoordinate[7].toPrecision(3),(lt||j.indexOf("divergence")!==-1)&&ht.push("divergence: "+ut.divergenceLabel)),ft.textLabel&&ht.push(ft.textLabel),nt=ht.join("<br>")):F.type==="isosurface"||F.type==="volume"?(ut.valueLabel=e.hoverLabelText(k._mockAxis,k._mockAxis.d2l(ft.traceCoordinate[3]),F.valuehoverformat),ht.push("value: "+ut.valueLabel),ft.textLabel&&ht.push(ft.textLabel),nt=ht.join("<br>")):nt=ft.textLabel;var mt={x:ft.traceCoordinate[0],y:ft.traceCoordinate[1],z:ft.traceCoordinate[2],data:Z._input,fullData:Z,curveNumber:Z.index,pointNumber:q};o.appendArrayPointValue(mt,Z,q),F._module.eventData&&(mt=Z._module.eventData(mt,ft,Z,{},q));var At={points:[mt]};if(k.fullSceneLayout.hovermode){var bt=[];o.loneHover({trace:Z,x:(.5+.5*tt[0]/tt[3])*X,y:(.5-.5*tt[1]/tt[3])*J,xLabel:ut.xLabel,yLabel:ut.yLabel,zLabel:ut.zLabel,text:nt,name:it.name,color:o.castHoverOption(Z,q,"bgcolor")||it.color,borderColor:o.castHoverOption(Z,q,"bordercolor"),fontFamily:o.castHoverOption(Z,q,"font.family"),fontSize:o.castHoverOption(Z,q,"font.size"),fontColor:o.castHoverOption(Z,q,"font.color"),nameLength:o.castHoverOption(Z,q,"namelength"),textAlign:o.castHoverOption(Z,q,"align"),hovertemplate:g.castOption(Z,q,"hovertemplate"),hovertemplateLabels:g.extendFlat({},mt,ut),eventData:[mt]},{container:V,gd:U,inOut_bbox:bt}),mt.bbox=bt[0]}ft.distance<5&&(ft.buttons||p)?U.emit("plotly_click",At):U.emit("plotly_hover",At),this.oldEventData=At}else o.loneUnhover(V),this.oldEventData&&U.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;k.drawAnnotations(k)},A.recoverContext=function(){var k=this;k.glplot.dispose();var U=function(){if(k.glplot.gl.isContextLost()){requestAnimationFrame(U);return}if(!k.initializeGLPlot()){g.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}k.plot.apply(k,k.plotArgs)};requestAnimationFrame(U)};var x=["xaxis","yaxis","zaxis"];function E(k,U,F){for(var V=k.fullSceneLayout,N=0;N<3;N++){var O=x[N],H=O.charAt(0),X=V[O],J=U[H],et=U[H+"calendar"],it=U["_"+H+"length"];if(!g.isArrayOrTypedArray(J))F[0][N]=Math.min(F[0][N],0),F[1][N]=Math.max(F[1][N],it-1);else for(var ft,ot=0;ot<(it||J.length);ot++)if(g.isArrayOrTypedArray(J[ot]))for(var Q=0;Q<J[ot].length;++Q)ft=X.d2l(J[ot][Q],0,et),!isNaN(ft)&&isFinite(ft)&&(F[0][N]=Math.min(F[0][N],ft),F[1][N]=Math.max(F[1][N],ft));else ft=X.d2l(J[ot],0,et),!isNaN(ft)&&isFinite(ft)&&(F[0][N]=Math.min(F[0][N],ft),F[1][N]=Math.max(F[1][N],ft))}}function S(k,U){for(var F=k.fullSceneLayout,V=F.annotations||[],N=0;N<3;N++)for(var O=x[N],H=O.charAt(0),X=F[O],J=0;J<V.length;J++){var et=V[J];if(et.visible){var it=X.r2l(et[H]);!isNaN(it)&&isFinite(it)&&(U[0][N]=Math.min(U[0][N],it),U[1][N]=Math.max(U[1][N],it))}}}A.plot=function(k,U,F){var V=this;if(V.plotArgs=[k,U,F],!V.glplot.contextLost){var N,O,H,X,J,et,it=U[V.id],ft=F[V.id];V.fullLayout=U,V.fullSceneLayout=it,V.axesOptions.merge(U,it),V.spikeOptions.merge(it),V.setViewport(it),V.updateFx(it.dragmode,it.hovermode),V.camera.enableWheel=V.graphDiv._context._scrollZoom.gl3d,V.glplot.setClearColor(n(it.bgcolor)),V.setConvert(J),k?Array.isArray(k)||(k=[k]):k=[];var ot=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(H=0;H<k.length;++H)N=k[H],!(N.visible!==!0||N._length===0)&&E(this,N,ot);S(this,ot);var Q=[1,1,1];for(X=0;X<3;++X)ot[1][X]===ot[0][X]?Q[X]=1:Q[X]=1/(ot[1][X]-ot[0][X]);for(V.dataScale=Q,V.convertAnnotations(this),H=0;H<k.length;++H)N=k[H],!(N.visible!==!0||N._length===0)&&(O=V.traces[N.uid],O?O.data.type===N.type?O.update(N):(O.dispose(),O=N._module.plot(this,N),V.traces[N.uid]=O):(O=N._module.plot(this,N),V.traces[N.uid]=O),O.name=N.name);var tt=Object.keys(V.traces);t:for(H=0;H<tt.length;++H){for(X=0;X<k.length;++X)if(k[X].uid===tt[H]&&k[X].visible===!0&&k[X]._length!==0)continue t;O=V.traces[tt[H]],O.dispose(),delete V.traces[tt[H]]}V.glplot.objects.sort(function(oe,Jt){return oe._trace.data.index-Jt._trace.data.index});var Z=[[0,0,0],[0,0,0]],q={};for(H=0;H<3;++H){J=it[x[H]],et=J.type,et in q?(q[et].acc*=Q[H],q[et].count+=1):q[et]={acc:Q[H],count:1};var ut;if(J.autorange){Z[0][H]=1/0,Z[1][H]=-1/0;var $=V.glplot.objects,j=V.fullSceneLayout.annotations||[],lt=J._name.charAt(0);for(X=0;X<$.length;X++){var nt=$[X],ht=nt.bounds,mt=nt._trace.data._pad||0;nt.constructor.name==="ErrorBars"&&J._lowerLogErrorBound?Z[0][H]=Math.min(Z[0][H],J._lowerLogErrorBound):Z[0][H]=Math.min(Z[0][H],ht[0][H]/Q[H]-mt),Z[1][H]=Math.max(Z[1][H],ht[1][H]/Q[H]+mt)}for(X=0;X<j.length;X++){var At=j[X];if(At.visible){var bt=J.r2l(At[lt]);Z[0][H]=Math.min(Z[0][H],bt),Z[1][H]=Math.max(Z[1][H],bt)}}if("rangemode"in J&&J.rangemode==="tozero"&&(Z[0][H]=Math.min(Z[0][H],0),Z[1][H]=Math.max(Z[1][H],0)),Z[0][H]>Z[1][H])Z[0][H]=-1,Z[1][H]=1;else{var Pt=Z[1][H]-Z[0][H];Z[0][H]-=Pt/32,Z[1][H]+=Pt/32}if(ut=[Z[0][H],Z[1][H]],ut=T(ut,J),Z[0][H]=ut[0],Z[1][H]=ut[1],J.isReversed()){var _t=Z[0][H];Z[0][H]=Z[1][H],Z[1][H]=_t}}else ut=J.range,Z[0][H]=J.r2l(ut[0]),Z[1][H]=J.r2l(ut[1]);Z[0][H]===Z[1][H]&&(Z[0][H]-=1,Z[1][H]+=1),J.range=[Z[0][H],Z[1][H]],J.limitRange(),V.glplot.setBounds(H,{min:J.range[0]*Q[H],max:J.range[1]*Q[H]})}var Ut,St=it.aspectmode;if(St==="cube")Ut=[1,1,1];else if(St==="manual"){var Rt=it.aspectratio;Ut=[Rt.x,Rt.y,Rt.z]}else if(St==="auto"||St==="data"){var Et=[1,1,1];for(H=0;H<3;++H){J=it[x[H]],et=J.type;var zt=q[et];Et[H]=Math.pow(zt.acc,1/zt.count)/Q[H]}St==="data"||Math.max.apply(null,Et)/Math.min.apply(null,Et)<=4?Ut=Et:Ut=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");it.aspectratio.x=ft.aspectratio.x=Ut[0],it.aspectratio.y=ft.aspectratio.y=Ut[1],it.aspectratio.z=ft.aspectratio.z=Ut[2],V.glplot.setAspectratio(it.aspectratio),V.viewInitial.aspectratio||(V.viewInitial.aspectratio={x:it.aspectratio.x,y:it.aspectratio.y,z:it.aspectratio.z}),V.viewInitial.aspectmode||(V.viewInitial.aspectmode=it.aspectmode);var Ct=it.domain||null,Wt=U._size||null;if(Ct&&Wt){var Kt=V.container.style;Kt.position="absolute",Kt.left=Wt.l+Ct.x[0]*Wt.w+"px",Kt.top=Wt.t+(1-Ct.y[1])*Wt.h+"px",Kt.width=Wt.w*(Ct.x[1]-Ct.x[0])+"px",Kt.height=Wt.h*(Ct.y[1]-Ct.y[0])+"px"}V.glplot.redraw()}},A.destroy=function(){var k=this;k.glplot&&(k.camera.mouseListener.enabled=!1,k.container.removeEventListener("wheel",k.camera.wheelListener),k.camera=null,k.glplot.dispose(),k.container.parentNode.removeChild(k.container),k.glplot=null)};function a(k){return[[k.eye.x,k.eye.y,k.eye.z],[k.center.x,k.center.y,k.center.z],[k.up.x,k.up.y,k.up.z]]}function C(k){return{up:{x:k.up[0],y:k.up[1],z:k.up[2]},center:{x:k.center[0],y:k.center[1],z:k.center[2]},eye:{x:k.eye[0],y:k.eye[1],z:k.eye[2]},projection:{type:k._ortho===!0?"orthographic":"perspective"}}}A.getCamera=function(){var k=this;return k.camera.view.recalcMatrix(k.camera.view.lastT()),C(k.camera)},A.setViewport=function(k){var U=this,F=k.camera;U.camera.lookAt.apply(this,a(F)),U.glplot.setAspectratio(k.aspectratio);var V=F.projection.type==="orthographic",N=U.camera._ortho;V!==N&&(U.glplot.redraw(),U.glplot.clearRGBA(),U.glplot.dispose(),U.initializeGLPlot())},A.isCameraChanged=function(k){var U=this,F=U.getCamera(),V=g.nestedProperty(k,U.id+".camera"),N=V.get();function O(et,it,ft,ot){var Q=["up","center","eye"],tt=["x","y","z"];return it[Q[ft]]&&et[Q[ft]][tt[ot]]===it[Q[ft]][tt[ot]]}var H=!1;if(N===void 0)H=!0;else{for(var X=0;X<3;X++)for(var J=0;J<3;J++)if(!O(F,N,X,J)){H=!0;break}(!N.projection||F.projection&&F.projection.type!==N.projection.type)&&(H=!0)}return H},A.isAspectChanged=function(k){var U=this,F=U.glplot.getAspectratio(),V=g.nestedProperty(k,U.id+".aspectratio"),N=V.get();return N===void 0||N.x!==F.x||N.y!==F.y||N.z!==F.z},A.saveLayout=function(k){var U=this,F=U.fullLayout,V,N,O,H,X,J,et=U.isCameraChanged(k),it=U.isAspectChanged(k),ft=et||it;if(ft){var ot={};if(et&&(V=U.getCamera(),N=g.nestedProperty(k,U.id+".camera"),O=N.get(),ot[U.id+".camera"]=O),it&&(H=U.glplot.getAspectratio(),X=g.nestedProperty(k,U.id+".aspectratio"),J=X.get(),ot[U.id+".aspectratio"]=J),d.call("_storeDirectGUIEdit",k,F._preGUI,ot),et){N.set(V);var Q=g.nestedProperty(F,U.id+".camera");Q.set(V)}if(it){X.set(H);var tt=g.nestedProperty(F,U.id+".aspectratio");tt.set(H),U.glplot.redraw()}}return ft},A.updateFx=function(k,U){var F=this,V=F.camera;if(V)if(k==="orbit")V.mode="orbit",V.keyBindingMode="rotate";else if(k==="turntable"){V.up=[0,0,1],V.mode="turntable",V.keyBindingMode="rotate";var N=F.graphDiv,O=N._fullLayout,H=F.fullSceneLayout.camera,X=H.up.x,J=H.up.y,et=H.up.z;if(et/Math.sqrt(X*X+J*J+et*et)<.999){var it=F.id+".camera.up",ft={x:0,y:0,z:1},ot={};ot[it]=ft;var Q=N.layout;d.call("_storeDirectGUIEdit",Q,O._preGUI,ot),H.up=ft,g.nestedProperty(Q,it).set(ft)}}else V.keyBindingMode=k;F.fullSceneLayout.hovermode=U};function b(k,U,F){for(var V=0,N=F-1;V<N;++V,--N)for(var O=0;O<U;++O)for(var H=0;H<4;++H){var X=4*(U*V+O)+H,J=4*(U*N+O)+H,et=k[X];k[X]=k[J],k[J]=et}}function z(k,U,F){for(var V=0;V<F;++V)for(var N=0;N<U;++N){var O=4*(U*V+N),H=k[O+3];if(H>0)for(var X=255/H,J=0;J<3;++J)k[O+J]=Math.min(X*k[O+J],255)}}A.toImage=function(k){var U=this;k||(k="png"),U.staticMode&&U.container.appendChild(h),U.glplot.redraw();var F=U.glplot.gl,V=F.drawingBufferWidth,N=F.drawingBufferHeight;F.bindFramebuffer(F.FRAMEBUFFER,null);var O=new Uint8Array(V*N*4);F.readPixels(0,0,V,N,F.RGBA,F.UNSIGNED_BYTE,O),b(O,V,N),z(O,V,N);var H=document.createElement("canvas");H.width=V,H.height=N;var X=H.getContext("2d",{willReadFrequently:!0}),J=X.createImageData(V,N);J.data.set(O),X.putImageData(J,0,0);var et;switch(k){case"jpeg":et=H.toDataURL("image/jpeg");break;case"webp":et=H.toDataURL("image/webp");break;default:et=H.toDataURL("image/png")}return U.staticMode&&U.container.removeChild(h),et},A.setConvert=function(){for(var k=this,U=0;U<3;U++){var F=k.fullSceneLayout[x[U]];e.setConvert(F,k.fullLayout),F.setScale=g.noop}},A.make4thDimension=function(){var k=this,U=k.graphDiv,F=U._fullLayout;k._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},e.setConvert(k._mockAxis,F)},W.exports=w},52094:function(W){W.exports=function(t,y,D,s){s=s||t.length;for(var P=new Array(s),M=0;M<s;M++)P[M]=[t[M],y[M],D[M]];return P}},64859:function(W,G,t){var y=t(25376),D=t(85656),s=t(22548),P=t(92872),M=t(34200),d=t(66741),g=t(92880).extendFlat,r=y({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=s.defaultLine,W.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:y({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:y({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:g(d({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:s.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:s.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:s.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:P.newshape,activeshape:P.activeshape,newselection:M.newselection,activeselection:M.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:g({},D.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:y({editType:"layoutstyle"})}}},47552:function(W,G,t){var y=t(95376),D="1.13.4",s=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',P=[' <a target="_blank" href="https://carto.com/">Carto</a>',s].join(" "),M=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),d=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),g={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:s,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:P,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:P,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:d,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=y(g);W.exports={requiredVersion:D,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:g,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+D+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(W,G,t){var y=t(3400);W.exports=function(s,P){var M=s.split(" "),d=M[0],g=M[1],r=y.isArrayOrTypedArray(P)?y.mean(P):P,e=.5+r/100,o=1.5+r/100,n=["",""],u=[0,0];switch(d){case"top":n[0]="top",u[1]=-o;break;case"bottom":n[0]="bottom",u[1]=o;break}switch(g){case"left":n[1]="right",u[0]=-e;break;case"right":n[1]="left",u[0]=e;break}var f;return n[0]&&n[1]?f=n.join("-"):n[0]?f=n[0]:n[1]?f=n[1]:f="center",{anchor:f,offset:u}}},33688:function(W,G,t){var y=t(3480),D=t(3400),s=D.strTranslate,P=D.strScale,M=t(84888).KY,d=t(9616),g=t(33428),r=t(43616),e=t(72736),o=t(14440),n="mapbox",u=G.constants=t(47552);G.name=n,G.attr="subplot",G.idRoot=n,G.idRegex=G.attrRegex=D.counterRegex(n),G.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},G.layoutAttributes=t(5232),G.supplyLayoutDefaults=t(5976),G.plot=function(v){var T=v._fullLayout,h=v.calcdata,i=T._subplots[n];if(y.version!==u.requiredVersion)throw new Error(u.wrongVersionErrorMsg);var p=f(v,i);y.accessToken=p;for(var w=0;w<i.length;w++){var A=i[w],L=M(h,n,A),x=T[A],E=x._subplot;E||(E=new o(v,A),T[A]._subplot=E),E.viewInitial||(E.viewInitial={center:D.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),E.plot(L,T,v._promises)}},G.clean=function(m,v,T,h){for(var i=h._subplots[n]||[],p=0;p<i.length;p++){var w=i[p];!v[w]&&h[w]._subplot&&h[w]._subplot.destroy()}},G.toSVG=function(m){for(var v=m._fullLayout,T=v._subplots[n],h=v._size,i=0;i<T.length;i++){var p=v[T[i]],w=p.domain,A=p._subplot,L=A.toImage("png"),x=v._glimages.append("svg:image");x.attr({xmlns:d.svg,"xlink:href":L,x:h.l+h.w*w.x[0],y:h.t+h.h*(1-w.y[1]),width:h.w*(w.x[1]-w.x[0]),height:h.h*(w.y[1]-w.y[0]),preserveAspectRatio:"none"});var E=g.select(p._subplot.div),S=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!S){var a=v._glimages.append("g");a.attr("transform",s(h.l+h.w*w.x[0]+10,h.t+h.h*(1-w.y[0])-31)),a.append("path").attr("d",u.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),a.append("path").attr("d",u.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),a.append("path").attr("d",u.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),a.append("polygon").attr("points",u.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var C=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),b=v._glimages.append("g"),z=b.append("text");z.text(C).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":C});var k=r.bBox(z.node()),U=h.w*(w.x[1]-w.x[0]);if(k.width>U/2){var F=C.split("|").join("<br>");z.text(F).attr("data-unformatted",F).call(e.convertToTspans,m),k=r.bBox(z.node())}z.attr("transform",s(-3,-k.height+8)),b.insert("rect",".static-attribution").attr({x:-k.width-6,y:-k.height-3,width:k.width+6,height:k.height+3,fill:"rgba(255, 255, 255, 0.75)"});var V=1;k.width+6>U&&(V=U/(k.width+6));var N=[h.l+h.w*w.x[1],h.t+h.h*(1-w.y[0])];b.attr("transform",s(N[0],N[1])+P(V))}};function f(m,v){var T=m._fullLayout,h=m._context;if(h.mapboxAccessToken==="")return"";for(var i=[],p=[],w=!1,A=!1,L=0;L<v.length;L++){var x=T[v[L]],E=x.accesstoken;c(x.style)&&(E?D.pushUnique(i,E):(c(x._input.style)&&(D.error("Uses Mapbox map style, but did not set an access token."),w=!0),A=!0)),E&&D.pushUnique(p,E)}if(A){var S=w?u.noAccessTokenErrorMsg:u.missingStyleErrorMsg;throw D.error(S),new Error(S)}return i.length?(i.length>1&&D.warn(u.multipleTokensErrorMsg),i[0]):(p.length&&D.log(["Listed mapbox access token(s)",p.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function c(m){return typeof m=="string"&&(u.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0||m.indexOf("stamen")===0)}G.updateFx=function(m){for(var v=m._fullLayout,T=v._subplots[n],h=0;h<T.length;h++){var i=v[T[h]]._subplot;i.updateFx(v)}}},22360:function(W,G,t){var y=t(3400),D=t(72736).sanitizeHTML,s=t(89032),P=t(47552);function M(o,n){this.subplot=o,this.uid=o.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=P.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var d=M.prototype;d.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=g(n)},d.needsNewImage=function(o){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&o.sourcetype==="image"&&(this.source!==o.source||JSON.stringify(this.coordinates)!==JSON.stringify(o.coordinates))},d.needsNewSource=function(o){return this.sourceType!==o.sourcetype||JSON.stringify(this.source)!==JSON.stringify(o.source)||this.layerType!==o.type},d.needsNewLayer=function(o){return this.layerType!==o.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},d.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},d.updateImage=function(o){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:o.source,coordinates:o.coordinates});var u=this.findFollowingMapboxLayerId(this.lookupBelow());u!==null&&this.subplot.map.moveLayer(this.idLayer,u)},d.updateSource=function(o){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=o.sourcetype,this.source=o.source,!!g(o)){var u=e(o);n.addSource(this.idSource,u)}},d.findFollowingMapboxLayerId=function(o){if(o==="traces")for(var n=this.subplot.getMapLayers(),u=0;u<n.length;u++){var f=n[u].id;if(typeof f=="string"&&f.indexOf(P.traceLayerPrefix)===0){o=f;break}}return o},d.updateLayer=function(o){var n=this.subplot,u=r(o),f=this.lookupBelow(),c=this.findFollowingMapboxLayerId(f);this.removeLayer(),g(o)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":o.sourcelayer||"",type:o.type,minzoom:o.minzoom,maxzoom:o.maxzoom,layout:u.layout,paint:u.paint},c),this.layerType=o.type,this.below=f},d.updateStyle=function(o){if(g(o)){var n=r(o);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},d.removeLayer=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer)},d.dispose=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer),o.getSource(this.idSource)&&o.removeSource(this.idSource)};function g(o){if(!o.visible)return!1;var n=o.source;if(Array.isArray(n)&&n.length>0){for(var u=0;u<n.length;u++)if(typeof n[u]!="string"||n[u].length===0)return!1;return!0}return y.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(o){var n={},u={};switch(o.type){case"circle":y.extendFlat(u,{"circle-radius":o.circle.radius,"circle-color":o.color,"circle-opacity":o.opacity});break;case"line":y.extendFlat(u,{"line-width":o.line.width,"line-color":o.color,"line-opacity":o.opacity,"line-dasharray":o.line.dash});break;case"fill":y.extendFlat(u,{"fill-color":o.color,"fill-outline-color":o.fill.outlinecolor,"fill-opacity":o.opacity});break;case"symbol":var f=o.symbol,c=s(f.textposition,f.iconsize);y.extendFlat(n,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":c.anchor,"text-offset":c.offset,"symbol-placement":f.placement}),y.extendFlat(u,{"icon-color":o.color,"text-color":f.textfont.color,"text-opacity":o.opacity});break;case"raster":y.extendFlat(u,{"raster-fade-duration":0,"raster-opacity":o.opacity});break}return{layout:n,paint:u}}function e(o){var n=o.sourcetype,u=o.source,f={type:n},c;return n==="geojson"?c="data":n==="vector"?c=typeof u=="string"?"url":"tiles":n==="raster"?(c="tiles",f.tileSize=256):n==="image"&&(c="url",f.coordinates=o.coordinates),f[c]=u,o.sourceattribution&&(f.attribution=D(o.sourceattribution)),f}W.exports=function(n,u,f){var c=new M(n,u);return c.update(f),c}},5232:function(W,G,t){var y=t(3400),D=t(76308).defaultLine,s=t(86968).u,P=t(25376),M=t(52904).textposition,d=t(67824).overrideAll,g=t(31780).templatedArray,r=t(47552),e=P({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});e.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var o=W.exports=d({_arrayAttrRegexps:[y.counterRegex("mapbox",".layers",!0)],domain:s({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:g("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:D},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:D}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:e,textposition:y.extendFlat({},M,{arrayOk:!1})}})},"plot","from-root");o.uirevision={valType:"any",editType:"none"}},5976:function(W,G,t){var y=t(3400),D=t(168),s=t(51272),P=t(5232);W.exports=function(r,e,o){D(r,e,o,{type:"mapbox",attributes:P,handleDefaults:M,partition:"y",accessToken:e._mapboxAccessToken})};function M(g,r,e,o){e("accesstoken",o.accessToken),e("style"),e("center.lon"),e("center.lat"),e("zoom"),e("bearing"),e("pitch");var n=e("bounds.west"),u=e("bounds.east"),f=e("bounds.south"),c=e("bounds.north");(n===void 0||u===void 0||f===void 0||c===void 0)&&delete r.bounds,s(g,r,{name:"layers",handleItemDefaults:d}),r._input=g}function d(g,r){function e(m,v){return y.coerce(g,r,P.layers,m,v)}var o=e("visible");if(o){var n=e("sourcetype"),u=n==="raster"||n==="image";e("source"),e("sourceattribution"),n==="vector"&&e("sourcelayer"),n==="image"&&e("coordinates");var f;u&&(f="raster");var c=e("type",f);u&&c!=="raster"&&(c=r.type="raster",y.log("Source types *raster* and *image* must drawn *raster* layer type.")),e("below"),e("color"),e("opacity"),e("minzoom"),e("maxzoom"),c==="circle"&&e("circle.radius"),c==="line"&&(e("line.width"),e("line.dash")),c==="fill"&&e("fill.outlinecolor"),c==="symbol"&&(e("symbol.icon"),e("symbol.iconsize"),e("symbol.text"),y.coerceFont(e,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),e("symbol.textposition"),e("symbol.placement"))}}},14440:function(W,G,t){var y=t(3480),D=t(3400),s=t(27144),P=t(24040),M=t(54460),d=t(86476),g=t(93024),r=t(72760),e=r.drawMode,o=r.selectMode,n=t(22676).prepSelect,u=t(22676).clearOutline,f=t(22676).clearSelectionsCache,c=t(22676).selectOnClick,m=t(47552),v=t(22360);function T(L,x){this.id=x,this.gd=L;var E=L._fullLayout,S=L._context;this.container=E._glcontainer.node(),this.isStatic=S.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var h=T.prototype;h.plot=function(L,x,E){var S=this,a=x[S.id];S.map&&a.accesstoken!==S.accessToken&&(S.map.remove(),S.map=null,S.styleObj=null,S.traceHash={},S.layerList=[]);var C;S.map?C=new Promise(function(b,z){S.updateMap(L,x,b,z)}):C=new Promise(function(b,z){S.createMap(L,x,b,z)}),E.push(C)},h.createMap=function(L,x,E,S){var a=this,C=x[a.id],b=a.styleObj=p(C.style,x);a.accessToken=C.accesstoken;var z=C.bounds,k=z?[[z.west,z.south],[z.east,z.north]]:null,U=a.map=new y.Map({container:a.div,style:b.style,center:A(C.center),zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,maxBounds:k,interactive:!a.isStatic,preserveDrawingBuffer:a.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new y.AttributionControl({compact:!0}));U._canvas.style.left="0px",U._canvas.style.top="0px",a.rejectOnError(S),a.isStatic||a.initFx(L,x);var F=[];F.push(new Promise(function(V){U.once("load",V)})),F=F.concat(s.fetchTraceGeoData(L)),Promise.all(F).then(function(){a.fillBelowLookup(L,x),a.updateData(L),a.updateLayout(x),a.resolveOnRender(E)}).catch(S)},h.updateMap=function(L,x,E,S){var a=this,C=a.map,b=x[this.id];a.rejectOnError(S);var z=[],k=p(b.style,x);JSON.stringify(a.styleObj)!==JSON.stringify(k)&&(a.styleObj=k,C.setStyle(k.style),a.traceHash={},z.push(new Promise(function(U){C.once("styledata",U)}))),z=z.concat(s.fetchTraceGeoData(L)),Promise.all(z).then(function(){a.fillBelowLookup(L,x),a.updateData(L),a.updateLayout(x),a.resolveOnRender(E)}).catch(S)},h.fillBelowLookup=function(L,x){var E=x[this.id],S=E.layers,a,C,b=this.belowLookup={},z=!1;for(a=0;a<L.length;a++){var k=L[a][0].trace,U=k._module;typeof k.below=="string"?C=k.below:U.getBelow&&(C=U.getBelow(k,this)),C===""&&(z=!0),b["trace-"+k.uid]=C||""}for(a=0;a<S.length;a++){var F=S[a];typeof F.below=="string"?C=F.below:z?C="traces":C="",b["layout-"+a]=C}var V={},N,O;for(N in b)C=b[N],V[C]?V[C].push(N):V[C]=[N];for(C in V){var H=V[C];if(H.length>1)for(a=0;a<H.length;a++)N=H[a],N.indexOf("trace-")===0?(O=N.split("trace-")[1],this.traceHash[O]&&(this.traceHash[O].below=null)):N.indexOf("layout-")===0&&(O=N.split("layout-")[1],this.layerList[O]&&(this.layerList[O].below=null))}};var i={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};h.updateData=function(L){var x=this.traceHash,E,S,a,C,b=L.slice().sort(function(V,N){return i[V[0].trace.type]-i[N[0].trace.type]});for(a=0;a<b.length;a++){var z=b[a];S=z[0].trace,E=x[S.uid];var k=!1;E&&(E.type===S.type?(E.update(z),k=!0):E.dispose()),!k&&S._module&&(x[S.uid]=S._module.plot(this,z))}var U=Object.keys(x);t:for(a=0;a<U.length;a++){var F=U[a];for(C=0;C<L.length;C++)if(S=L[C][0].trace,F===S.uid)continue t;E=x[F],E.dispose(),delete x[F]}},h.updateLayout=function(L){var x=this.map,E=L[this.id];!this.dragging&&!this.wheeling&&(x.setCenter(A(E.center)),x.setZoom(E.zoom),x.setBearing(E.bearing),x.setPitch(E.pitch)),this.updateLayers(L),this.updateFramework(L),this.updateFx(L),this.map.resize(),this.gd._context._scrollZoom.mapbox?x.scrollZoom.enable():x.scrollZoom.disable()},h.resolveOnRender=function(L){var x=this.map;x.on("render",function E(){x.loaded()&&(x.off("render",E),setTimeout(L,10))})},h.rejectOnError=function(L){var x=this.map;function E(){L(new Error(m.mapOnErrorMsg))}x.once("error",E),x.once("style.error",E),x.once("source.error",E),x.once("tile.error",E),x.once("layer.error",E)},h.createFramework=function(L){var x=this,E=x.div=document.createElement("div");E.id=x.uid,E.style.position="absolute",x.container.appendChild(E),x.xaxis={_id:"x",c2p:function(S){return x.project(S).x}},x.yaxis={_id:"y",c2p:function(S){return x.project(S).y}},x.updateFramework(L),x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(x.mockAxis,L)},h.initFx=function(L,x){var E=this,S=E.gd,a=E.map;a.on("moveend",function(z){if(E.map){var k=S._fullLayout;if(z.originalEvent||E.wheeling){var U=k[E.id];P.call("_storeDirectGUIEdit",S.layout,k._preGUI,E.getViewEdits(U));var F=E.getView();U._input.center=U.center=F.center,U._input.zoom=U.zoom=F.zoom,U._input.bearing=U.bearing=F.bearing,U._input.pitch=U.pitch=F.pitch,S.emit("plotly_relayout",E.getViewEditsWithDerived(F))}z.originalEvent&&z.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),k._rehover&&k._rehover()}}),a.on("wheel",function(){E.wheeling=!0}),a.on("mousemove",function(z){var k=E.div.getBoundingClientRect(),U=[z.originalEvent.offsetX,z.originalEvent.offsetY];z.target.getBoundingClientRect=function(){return k},E.xaxis.p2c=function(){return a.unproject(U).lng},E.yaxis.p2c=function(){return a.unproject(U).lat},S._fullLayout._rehover=function(){S._fullLayout._hoversubplot===E.id&&S._fullLayout[E.id]&&g.hover(S,z,E.id)},g.hover(S,z,E.id),S._fullLayout._hoversubplot=E.id});function C(){g.loneUnhover(x._hoverlayer)}a.on("dragstart",function(){E.dragging=!0,C()}),a.on("zoomstart",C),a.on("mouseout",function(){S._fullLayout._hoversubplot=null});function b(){var z=E.getView();S.emit("plotly_relayouting",E.getViewEditsWithDerived(z))}a.on("drag",b),a.on("zoom",b),a.on("dblclick",function(){var z=S._fullLayout[E.id];P.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,E.getViewEdits(z));var k=E.viewInitial;a.setCenter(A(k.center)),a.setZoom(k.zoom),a.setBearing(k.bearing),a.setPitch(k.pitch);var U=E.getView();z._input.center=z.center=U.center,z._input.zoom=z.zoom=U.zoom,z._input.bearing=z.bearing=U.bearing,z._input.pitch=z.pitch=U.pitch,S.emit("plotly_doubleclick",null),S.emit("plotly_relayout",E.getViewEditsWithDerived(U))}),E.clearOutline=function(){f(E.dragOptions),u(E.dragOptions.gd)},E.onClickInPanFn=function(z){return function(k){var U=S._fullLayout.clickmode;U.indexOf("select")>-1&&c(k.originalEvent,S,[E.xaxis],[E.yaxis],E.id,z),U.indexOf("event")>-1&&g.click(S,k.originalEvent)}}},h.updateFx=function(L){var x=this,E=x.map,S=x.gd;if(x.isStatic)return;function a(k){var U=x.map.unproject(k);return[U.lng,U.lat]}var C=L.dragmode,b;b=function(k,U){if(U.isRect){var F=k.range={};F[x.id]=[a([U.xmin,U.ymin]),a([U.xmax,U.ymax])]}else{var V=k.lassoPoints={};V[x.id]=U.map(a)}};var z=x.dragOptions;x.dragOptions=D.extendDeep(z||{},{dragmode:L.dragmode,element:x.div,gd:S,plotinfo:{id:x.id,domain:L[x.id].domain,xaxis:x.xaxis,yaxis:x.yaxis,fillRangeItems:b},xaxes:[x.xaxis],yaxes:[x.yaxis],subplot:x.id}),E.off("click",x.onClickInPanHandler),o(C)||e(C)?(E.dragPan.disable(),E.on("zoomstart",x.clearOutline),x.dragOptions.prepFn=function(k,U,F){n(k,U,F,x.dragOptions,C)},d.init(x.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",x.clearOutline),x.div.onmousedown=null,x.div.ontouchstart=null,x.div.removeEventListener("touchstart",x.div._ontouchstart),x.onClickInPanHandler=x.onClickInPanFn(x.dragOptions),E.on("click",x.onClickInPanHandler))},h.updateFramework=function(L){var x=L[this.id].domain,E=L._size,S=this.div.style;S.width=E.w*(x.x[1]-x.x[0])+"px",S.height=E.h*(x.y[1]-x.y[0])+"px",S.left=E.l+x.x[0]*E.w+"px",S.top=E.t+(1-x.y[1])*E.h+"px",this.xaxis._offset=E.l+x.x[0]*E.w,this.xaxis._length=E.w*(x.x[1]-x.x[0]),this.yaxis._offset=E.t+(1-x.y[1])*E.h,this.yaxis._length=E.h*(x.y[1]-x.y[0])},h.updateLayers=function(L){var x=L[this.id],E=x.layers,S=this.layerList,a;if(E.length!==S.length){for(a=0;a<S.length;a++)S[a].dispose();for(S=this.layerList=[],a=0;a<E.length;a++)S.push(v(this,a,E[a]))}else for(a=0;a<E.length;a++)S[a].update(E[a])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},h.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},h.setOptions=function(L,x,E){for(var S in E)this.map[x](L,S,E[S])},h.getMapLayers=function(){return this.map.getStyle().layers},h.addLayer=function(L,x){var E=this.map;if(typeof x=="string"){if(x===""){E.addLayer(L,x);return}for(var S=this.getMapLayers(),a=0;a<S.length;a++)if(x===S[a].id){E.addLayer(L,x);return}D.warn(["Trying to add layer with *below* value",x,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(L)},h.project=function(L){return this.map.project(new y.LngLat(L[0],L[1]))},h.getView=function(){var L=this.map,x=L.getCenter(),E=x.lng,S=x.lat,a={lon:E,lat:S},C=L.getCanvas(),b=parseInt(C.style.width),z=parseInt(C.style.height);return{center:a,zoom:L.getZoom(),bearing:L.getBearing(),pitch:L.getPitch(),_derived:{coordinates:[L.unproject([0,0]).toArray(),L.unproject([b,0]).toArray(),L.unproject([b,z]).toArray(),L.unproject([0,z]).toArray()]}}},h.getViewEdits=function(L){for(var x=this.id,E=["center","zoom","bearing","pitch"],S={},a=0;a<E.length;a++){var C=E[a];S[x+"."+C]=L[C]}return S},h.getViewEditsWithDerived=function(L){var x=this.id,E=this.getViewEdits(L);return E[x+"._derived"]=L._derived,E};function p(L,x){var E={};if(D.isPlainObject(L))E.id=L.id,E.style=L;else if(typeof L=="string")if(E.id=L,m.styleValuesMapbox.indexOf(L)!==-1)E.style=w(L);else if(m.stylesNonMapbox[L]){E.style=m.stylesNonMapbox[L];var S=E.style.sources["plotly-"+L],a=S?S.tiles:void 0;a&&a[0]&&a[0].slice(-9)==="?api_key="&&(a[0]+=x._mapboxAccessToken)}else E.style=L;else E.id=m.styleValueDflt,E.style=w(m.styleValueDflt);return E.transition={duration:0,delay:0},E}function w(L){return m.styleUrlPrefix+L+"-"+m.styleUrlSuffix}function A(L){return[L.lon,L.lat]}W.exports=T},66741:function(W){W.exports=function(G){var t=G.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},7316:function(W,G,t){var y=t(33428),D=t(94336).m_,s=t(57624).SO,P=t(38248),M=t(83160),d=t(24040),g=t(73060),r=t(31780),e=t(3400),o=t(76308),n=t(39032).BADNUM,u=t(79811),f=t(1936).clearOutline,c=t(55308),m=t(85656),v=t(16672),T=t(84888)._M,h=e.relinkPrivateKeys,i=e._,p=W.exports={};e.extendFlat(p,d),p.attributes=t(45464),p.attributes.type.values=p.allTypes,p.fontAttrs=t(25376),p.layoutAttributes=t(64859);var w=p.transformsRegistry,A=t(62460);p.executeAPICommand=A.executeAPICommand,p.computeAPICommandBindings=A.computeAPICommandBindings,p.manageCommandObserver=A.manageCommandObserver,p.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,p.redrawText=function(Z){return Z=e.getGraphDiv(Z),new Promise(function(q){setTimeout(function(){Z._fullLayout&&(d.getComponentMethod("annotations","draw")(Z),d.getComponentMethod("legend","draw")(Z),d.getComponentMethod("colorbar","draw")(Z),q(p.previousPromises(Z)))},300)})},p.resize=function(Z){Z=e.getGraphDiv(Z);var q,ut=new Promise(function($,j){(!Z||e.isHidden(Z))&&j(new Error("Resize must be passed a displayed plot div element.")),Z._redrawTimer&&clearTimeout(Z._redrawTimer),Z._resolveResize&&(q=Z._resolveResize),Z._resolveResize=$,Z._redrawTimer=setTimeout(function(){if(!Z.layout||Z.layout.width&&Z.layout.height||e.isHidden(Z)){$(Z);return}delete Z.layout.width,delete Z.layout.height;var lt=Z.changed;Z.autoplay=!0,d.call("relayout",Z,{autosize:!0}).then(function(){Z.changed=lt,Z._resolveResize===$&&(delete Z._resolveResize,$(Z))})},100)});return q&&q(ut),ut},p.previousPromises=function(Z){if((Z._promises||[]).length)return Promise.all(Z._promises).then(function(){Z._promises=[]})},p.addLinks=function(Z){if(!(!Z._context.showLink&&!Z._context.showSources)){var q=Z._fullLayout,ut=e.ensureSingle(q._paper,"text","js-plot-link-container",function(mt){mt.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:o.defaultLine,"pointer-events":"all"}).each(function(){var At=y.select(this);At.append("tspan").classed("js-link-to-tool",!0),At.append("tspan").classed("js-link-spacer",!0),At.append("tspan").classed("js-sourcelinks",!0)})}),$=ut.node(),j={y:q._paper.attr("height")-9};document.body.contains($)&&$.getComputedTextLength()>=q.width-20?(j["text-anchor"]="start",j.x=5):(j["text-anchor"]="end",j.x=q._paper.attr("width")-7),ut.attr(j);var lt=ut.select(".js-link-to-tool"),nt=ut.select(".js-link-spacer"),ht=ut.select(".js-sourcelinks");Z._context.showSources&&Z._context.showSources(Z),Z._context.showLink&&L(Z,lt),nt.text(lt.text()&&ht.text()?" - ":"")}};function L(Z,q){q.text("");var ut=q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Z._context.linkText+" ");if(Z._context.sendData)ut.on("click",function(){p.sendDataToCloud(Z)});else{var $=window.location.pathname.split("/"),j=window.location.search;ut.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+$[2].split(".")[0]+"/"+$[1]+j})}}p.sendDataToCloud=function(Z){var q=(window.PLOTLYENV||{}).BASE_URL||Z._context.plotlyServerURL;if(q){Z.emit("plotly_beforeexport");var ut=y.select(Z).append("div").attr("id","hiddenform").style("display","none"),$=ut.append("form").attr({action:q+"/external",method:"post",target:"_blank"}),j=$.append("input").attr({type:"text",name:"data"});return j.node().value=p.graphJson(Z,!1,"keepdata"),$.node().submit(),ut.remove(),Z.emit("plotly_afterexport"),!1}};var x=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],E=["year","month","dayMonth","dayMonthYear"];p.supplyDefaults=function(Z,q){var ut=q&&q.skipUpdateCalc,$=Z._fullLayout||{};if($._skipDefaults){delete $._skipDefaults;return}var j=Z._fullLayout={},lt=Z.layout||{},nt=Z._fullData||[],ht=Z._fullData=[],mt=Z.data||[],At=Z.calcdata||[],bt=Z._context||{},Pt;Z._transitionData||p.createTransitionData(Z),j._dfltTitle={plot:i(Z,"Click to enter Plot title"),subtitle:i(Z,"Click to enter Plot subtitle"),x:i(Z,"Click to enter X axis title"),y:i(Z,"Click to enter Y axis title"),colorbar:i(Z,"Click to enter Colorscale title"),annotation:i(Z,"new text")},j._traceWord=i(Z,"trace");var _t=C(Z,x);if(j._mapboxAccessToken=bt.mapboxAccessToken,$._initialAutoSizeIsDone){var Ut=$.width,St=$.height;p.supplyLayoutGlobalDefaults(lt,j,_t),lt.width||(j.width=Ut),lt.height||(j.height=St),p.sanitizeMargins(j)}else{p.supplyLayoutGlobalDefaults(lt,j,_t);var Rt=!lt.width||!lt.height,Et=j.autosize,zt=bt.autosizable,Ct=Rt&&(Et||zt);Ct?p.plotAutoSize(Z,lt,j):Rt&&p.sanitizeMargins(j),!Et&&Rt&&(lt.width=j.width,lt.height=j.height)}j._d3locale=b(_t,j.separators),j._extraFormat=C(Z,E),j._initialAutoSizeIsDone=!0,j._dataLength=mt.length,j._modules=[],j._visibleModules=[],j._basePlotModules=[];var Wt=j._subplots=a(),Kt=j._splomAxes={x:{},y:{}},oe=j._splomSubplots={};j._splomGridDflt={},j._scatterStackOpts={},j._firstScatter={},j._alignmentOpts={},j._colorAxes={},j._requestRangeslider={},j._traceUids=S(nt,mt),j._globalTransforms=(Z._context||{}).globalTransforms,p.supplyDataDefaults(mt,ht,lt,j);var Jt=Object.keys(Kt.x),te=Object.keys(Kt.y);if(Jt.length>1&&te.length>1){for(d.getComponentMethod("grid","sizeDefaults")(lt,j),Pt=0;Pt<Jt.length;Pt++)e.pushUnique(Wt.xaxis,Jt[Pt]);for(Pt=0;Pt<te.length;Pt++)e.pushUnique(Wt.yaxis,te[Pt]);for(var fe in oe)e.pushUnique(Wt.cartesian,fe)}if(j._has=p._hasPlotType.bind(j),nt.length===ht.length)for(Pt=0;Pt<ht.length;Pt++)h(ht[Pt],nt[Pt]);p.supplyLayoutModuleDefaults(lt,j,ht,Z._transitionData);var ve=j._visibleModules,de=[];for(Pt=0;Pt<ve.length;Pt++){var xe=ve[Pt].crossTraceDefaults;xe&&e.pushUnique(de,xe)}for(Pt=0;Pt<de.length;Pt++)de[Pt](ht,j);j._hasOnlyLargeSploms=j._basePlotModules.length===1&&j._basePlotModules[0].name==="splom"&&Jt.length>15&&te.length>15&&j.shapes.length===0&&j.images.length===0,p.linkSubplots(ht,j,nt,$),p.cleanPlot(ht,j,nt,$);var Me=!!($._has&&$._has("gl2d")),ne=!!(j._has&&j._has("gl2d")),kt=!!($._has&&$._has("cartesian")),Gt=!!(j._has&&j._has("cartesian")),Yt=kt||Me,Zt=Gt||ne;Yt&&!Zt?$._bgLayer.remove():Zt&&!Yt&&(j._shouldCreateBgLayer=!0),$._zoomlayer&&!Z._dragging&&f({_fullLayout:$}),z(ht,j),h(j,$),d.getComponentMethod("colorscale","crossTraceDefaults")(ht,j),j._preGUI||(j._preGUI={}),j._tracePreGUI||(j._tracePreGUI={});var It=j._tracePreGUI,Nt={},Ht;for(Ht in It)Nt[Ht]="old";for(Pt=0;Pt<ht.length;Pt++)Ht=ht[Pt]._fullInput.uid,Nt[Ht]||(It[Ht]={}),Nt[Ht]="new";for(Ht in Nt)Nt[Ht]==="old"&&delete It[Ht];N(j),d.getComponentMethod("rangeslider","makeData")(j),!ut&&At.length===ht.length&&p.supplyDefaultsUpdateCalc(At,ht)},p.supplyDefaultsUpdateCalc=function(Z,q){for(var ut=0;ut<q.length;ut++){var $=q[ut],j=(Z[ut]||[])[0];if(j&&j.trace){var lt=j.trace;if(lt._hasCalcTransform){var nt=lt._arrayAttrs,ht,mt,At;for(ht=0;ht<nt.length;ht++)mt=nt[ht],At=e.nestedProperty(lt,mt).get().slice(),e.nestedProperty($,mt).set(At)}j.trace=$}}};function S(Z,q){var ut=q.length,$=[],j,lt;for(j=0;j<Z.length;j++){var nt=Z[j]._fullInput;nt!==lt&&$.push(nt),lt=nt}var ht=$.length,mt=new Array(ut),At={};function bt(Ut,St){mt[St]=Ut,At[Ut]=1}function Pt(Ut,St){if(Ut&&typeof Ut=="string"&&!At[Ut])return bt(Ut,St),!0}for(j=0;j<ut;j++){var _t=q[j].uid;typeof _t=="number"&&(_t=String(_t)),!Pt(_t,j)&&(j<ht&&Pt($[j].uid,j)||bt(e.randstr(At),j))}return mt}function a(){var Z=d.collectableSubplotTypes,q={},ut,$;if(!Z){Z=[];var j=d.subplotsRegistry;for(var lt in j){var nt=j[lt],ht=nt.attr;if(ht&&(Z.push(lt),Array.isArray(ht)))for($=0;$<ht.length;$++)e.pushUnique(Z,ht[$])}}for(ut=0;ut<Z.length;ut++)q[Z[ut]]=[];return q}function C(Z,q){var ut=Z._context.locale;ut||(ut="en-US");var $=!1,j={};function lt(Pt){for(var _t=!0,Ut=0;Ut<q.length;Ut++){var St=q[Ut];j[St]||(Pt[St]?j[St]=Pt[St]:_t=!1)}_t&&($=!0)}for(var nt=0;nt<2;nt++){for(var ht=Z._context.locales,mt=0;mt<2;mt++){var At=(ht[ut]||{}).format;if(At&&(lt(At),$))break;ht=d.localeRegistry}var bt=ut.split("-")[0];if($||bt===ut)break;ut=bt}return $||lt(d.localeRegistry.en.format),j}function b(Z,q){return Z.decimal=q.charAt(0),Z.thousands=q.charAt(1),{numberFormat:function(ut){try{ut=s(Z).format(e.adjustFormat(ut))}catch{return e.warnBadFormat(ut),e.noFormat}return ut},timeFormat:D(Z).utcFormat}}function z(Z,q){var ut,$=[];q.meta&&(ut=q._meta={meta:q.meta,layout:{meta:q.meta}});for(var j=0;j<Z.length;j++){var lt=Z[j];lt.meta?$[lt.index]=lt._meta={meta:lt.meta}:q.meta&&(lt._meta={meta:q.meta}),q.meta&&(lt._meta.layout={meta:q.meta})}$.length&&(ut||(ut=q._meta={}),ut.data=$)}p.createTransitionData=function(Z){Z._transitionData||(Z._transitionData={}),Z._transitionData._frames||(Z._transitionData._frames=[]),Z._transitionData._frameHash||(Z._transitionData._frameHash={}),Z._transitionData._counter||(Z._transitionData._counter=0),Z._transitionData._interruptCallbacks||(Z._transitionData._interruptCallbacks=[])},p._hasPlotType=function(Z){var q,ut=this._basePlotModules||[];for(q=0;q<ut.length;q++)if(ut[q].name===Z)return!0;var $=this._modules||[];for(q=0;q<$.length;q++){var j=$[q].name;if(j===Z)return!0;var lt=d.modules[j];if(lt&&lt.categories[Z])return!0}return!1},p.cleanPlot=function(Z,q,ut,$){var j,lt,nt=$._basePlotModules||[];for(j=0;j<nt.length;j++){var ht=nt[j];ht.clean&&ht.clean(Z,q,ut,$)}var mt=$._has&&$._has("gl"),At=q._has&&q._has("gl");mt&&!At&&$._glcontainer!==void 0&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.selectAll(".no-webgl").remove(),$._glcanvas=null);var bt=!!$._infolayer;t:for(j=0;j<ut.length;j++){var Pt=ut[j],_t=Pt.uid;for(lt=0;lt<Z.length;lt++){var Ut=Z[lt];if(_t===Ut.uid)continue t}bt&&$._infolayer.select(".cb"+_t).remove()}},p.linkSubplots=function(Z,q,ut,$){var j,lt,nt=$._plots||{},ht=q._plots={},mt=q._subplots,At={_fullData:Z,_fullLayout:q},bt=mt.cartesian.concat(mt.gl2d||[]);for(j=0;j<bt.length;j++){var Pt=bt[j],_t=nt[Pt],Ut=u.getFromId(At,Pt,"x"),St=u.getFromId(At,Pt,"y"),Rt;for(_t?Rt=ht[Pt]=_t:(Rt=ht[Pt]={},Rt.id=Pt),Ut._counterAxes.push(St._id),St._counterAxes.push(Ut._id),Ut._subplotsWith.push(Pt),St._subplotsWith.push(Pt),Rt.xaxis=Ut,Rt.yaxis=St,Rt._hasClipOnAxisFalse=!1,lt=0;lt<Z.length;lt++){var Et=Z[lt];if(Et.xaxis===Rt.xaxis._id&&Et.yaxis===Rt.yaxis._id&&Et.cliponaxis===!1){Rt._hasClipOnAxisFalse=!0;break}}}var zt=u.list(At,null,!0),Ct;for(j=0;j<zt.length;j++){Ct=zt[j];var Wt=null;Ct.overlaying&&(Wt=u.getFromId(At,Ct.overlaying),Wt&&Wt.overlaying&&(Ct.overlaying=!1,Wt=null)),Ct._mainAxis=Wt||Ct,Wt&&(Ct.domain=Wt.domain.slice()),Ct._anchorAxis=Ct.anchor==="free"?null:u.getFromId(At,Ct.anchor)}for(j=0;j<zt.length;j++)if(Ct=zt[j],Ct._counterAxes.sort(u.idSort),Ct._subplotsWith.sort(e.subplotSort),Ct._mainSubplot=k(Ct,q),Ct._counterAxes.length&&(Ct.spikemode&&Ct.spikemode.indexOf("across")!==-1||Ct.automargin&&Ct.mirror&&Ct.anchor!=="free"||d.getComponentMethod("rangeslider","isVisible")(Ct))){var Kt=1,oe=0;for(lt=0;lt<Ct._counterAxes.length;lt++){var Jt=u.getFromId(At,Ct._counterAxes[lt]);Kt=Math.min(Kt,Jt.domain[0]),oe=Math.max(oe,Jt.domain[1])}Kt<oe&&(Ct._counterDomainMin=Kt,Ct._counterDomainMax=oe)}};function k(Z,q){var ut={_fullLayout:q},$=Z._id.charAt(0)==="x",j=Z._mainAxis._anchorAxis,lt="",nt="",ht="";if(j&&(ht=j._mainAxis._id,lt=$?Z._id+ht:ht+Z._id),!lt||!q._plots[lt]){lt="";for(var mt=Z._counterAxes,At=0;At<mt.length;At++){var bt=mt[At],Pt=$?Z._id+bt:bt+Z._id;nt||(nt=Pt);var _t=u.getFromId(ut,bt);if(ht&&_t.overlaying===ht){lt=Pt;break}}}return lt||nt}p.clearExpandedTraceDefaultColors=function(Z){var q,ut,$;function j(nt,ht,mt,At){ut[At]=ht,ut.length=At+1,nt.valType==="color"&&nt.dflt===void 0&&q.push(ut.join("."))}for(ut=[],q=Z._module._colorAttrs,q||(Z._module._colorAttrs=q=[],g.crawl(Z._module.attributes,j)),$=0;$<q.length;$++){var lt=e.nestedProperty(Z,"_input."+q[$]);lt.get()||e.nestedProperty(Z,q[$]).set(null)}},p.supplyDataDefaults=function(Z,q,ut,$){var j=$._modules,lt=$._visibleModules,nt=$._basePlotModules,ht=0,mt=0,At,bt,Pt;$._transformModules=[];function _t(te){q.push(te);var fe=te._module;fe&&(e.pushUnique(j,fe),te.visible===!0&&e.pushUnique(lt,fe),e.pushUnique(nt,te._module.basePlotModule),ht++,te._input.visible!==!1&&mt++)}var Ut={},St=[],Rt=(ut.template||{}).data||{},Et=r.traceTemplater(Rt);for(At=0;At<Z.length;At++){if(Pt=Z[At],bt=Et.newTrace(Pt),bt.uid=$._traceUids[At],p.supplyTraceDefaults(Pt,bt,mt,$,At),bt.index=At,bt._input=Pt,bt._expandedIndex=ht,bt.transforms&&bt.transforms.length)for(var zt=Pt.visible!==!1&&bt.visible===!1,Ct=F(bt,q,ut,$),Wt=0;Wt<Ct.length;Wt++){var Kt=Ct[Wt],oe={_template:bt._template,type:bt.type,uid:bt.uid+Wt};zt&&Kt.visible===!1&&delete Kt.visible,p.supplyTraceDefaults(Kt,oe,ht,$,At),h(oe,Kt),oe.index=At,oe._input=Pt,oe._fullInput=bt,oe._expandedIndex=ht,oe._expandedInput=Kt,_t(oe)}else bt._fullInput=bt,bt._expandedInput=bt,_t(bt);d.traceIs(bt,"carpetAxis")&&(Ut[bt.carpet]=bt),d.traceIs(bt,"carpetDependent")&&St.push(At)}for(At=0;At<St.length;At++)if(bt=q[St[At]],!!bt.visible){var Jt=Ut[bt.carpet];if(bt._carpet=Jt,!Jt||!Jt.visible){bt.visible=!1;continue}bt.xaxis=Jt.xaxis,bt.yaxis=Jt.yaxis}},p.supplyAnimationDefaults=function(Z){Z=Z||{};var q,ut={};function $(j,lt){return e.coerce(Z||{},ut,m,j,lt)}if($("mode"),$("direction"),$("fromcurrent"),Array.isArray(Z.frame))for(ut.frame=[],q=0;q<Z.frame.length;q++)ut.frame[q]=p.supplyAnimationFrameDefaults(Z.frame[q]||{});else ut.frame=p.supplyAnimationFrameDefaults(Z.frame||{});if(Array.isArray(Z.transition))for(ut.transition=[],q=0;q<Z.transition.length;q++)ut.transition[q]=p.supplyAnimationTransitionDefaults(Z.transition[q]||{});else ut.transition=p.supplyAnimationTransitionDefaults(Z.transition||{});return ut},p.supplyAnimationFrameDefaults=function(Z){var q={};function ut($,j){return e.coerce(Z||{},q,m.frame,$,j)}return ut("duration"),ut("redraw"),q},p.supplyAnimationTransitionDefaults=function(Z){var q={};function ut($,j){return e.coerce(Z||{},q,m.transition,$,j)}return ut("duration"),ut("easing"),q},p.supplyFrameDefaults=function(Z){var q={};function ut($,j){return e.coerce(Z,q,v,$,j)}return ut("group"),ut("name"),ut("traces"),ut("baseframe"),ut("data"),ut("layout"),q},p.supplyTraceDefaults=function(Z,q,ut,$,j){var lt=$.colorway||o.defaults,nt=lt[ut%lt.length],ht;function mt(Wt,Kt){return e.coerce(Z,q,p.attributes,Wt,Kt)}var At=mt("visible");mt("type"),mt("name",$._traceWord+" "+j),mt("uirevision",$.uirevision);var bt=p.getModule(q);if(q._module=bt,bt){var Pt=bt.basePlotModule,_t=Pt.attr,Ut=Pt.attributes;if(_t&&Ut){var St=$._subplots,Rt="";if(At||Pt.name!=="gl2d"){if(Array.isArray(_t))for(ht=0;ht<_t.length;ht++){var Et=_t[ht],zt=e.coerce(Z,q,Ut,Et);St[Et]&&e.pushUnique(St[Et],zt),Rt+=zt}else Rt=e.coerce(Z,q,Ut,_t);St[Pt.name]&&e.pushUnique(St[Pt.name],Rt)}}}if(At){if(mt("customdata"),mt("ids"),mt("meta"),d.traceIs(q,"showLegend")?(e.coerce(Z,q,bt.attributes.showlegend?bt.attributes:p.attributes,"showlegend"),mt("legend"),mt("legendwidth"),mt("legendgroup"),mt("legendgrouptitle.text"),mt("legendrank"),q._dfltShowLegend=!0):q._dfltShowLegend=!1,bt&&bt.supplyDefaults(Z,q,nt,$),d.traceIs(q,"noOpacity")||mt("opacity"),d.traceIs(q,"notLegendIsolatable")&&(q.visible=!!q.visible),d.traceIs(q,"noHover")||(q.hovertemplate||e.coerceHoverinfo(Z,q,$),q.type!=="parcats"&&d.getComponentMethod("fx","supplyDefaults")(Z,q,nt,$)),bt&&bt.selectPoints){var Ct=mt("selectedpoints");e.isTypedArray(Ct)&&(q.selectedpoints=Array.from(Ct))}p.supplyTransformDefaults(Z,q,$)}return q};function U(Z){var q=Z.transforms;if(Array.isArray(q)&&q.length)for(var ut=0;ut<q.length;ut++){var $=q[ut],j=$._module||w[$.type];if(j&&j.makesData)return!0}return!1}p.hasMakesDataTransform=U,p.supplyTransformDefaults=function(Z,q,ut){if(q._length||U(Z)){var $=ut._globalTransforms||[],j=ut._transformModules||[];if(!(!Array.isArray(Z.transforms)&&$.length===0))for(var lt=Z.transforms||[],nt=$.concat(lt),ht=q.transforms=[],mt=0;mt<nt.length;mt++){var At=nt[mt],bt=At.type,Pt=w[bt],_t,Ut=!(At._module&&At._module===Pt),St=Pt&&typeof Pt.transform=="function";Pt||e.warn("Unrecognized transform type "+bt+"."),Pt&&Pt.supplyDefaults&&(Ut||St)?(_t=Pt.supplyDefaults(At,q,ut,Z),_t.type=bt,_t._module=Pt,e.pushUnique(j,Pt)):_t=e.extendFlat({},At),ht.push(_t)}}};function F(Z,q,ut,$){for(var j=Z.transforms,lt=[Z],nt=0;nt<j.length;nt++){var ht=j[nt],mt=w[ht.type];mt&&mt.transform&&(lt=mt.transform(lt,{transform:ht,fullTrace:Z,fullData:q,layout:ut,fullLayout:$,transformIndex:nt}))}return lt}p.supplyLayoutGlobalDefaults=function(Z,q,ut){function $(Pt,_t){return e.coerce(Z,q,p.layoutAttributes,Pt,_t)}var j=Z.template;e.isPlainObject(j)&&(q.template=j,q._template=j.layout,q._dataTemplate=j.data),$("autotypenumbers");var lt=e.coerceFont($,"font"),nt=lt.size;e.coerceFont($,"title.font",lt,{overrideDflt:{size:Math.round(nt*1.4)}}),$("title.text",q._dfltTitle.plot),$("title.xref");var ht=$("title.yref");$("title.pad.t"),$("title.pad.r"),$("title.pad.b"),$("title.pad.l");var mt=$("title.automargin");$("title.x"),$("title.xanchor"),$("title.y"),$("title.yanchor"),$("title.subtitle.text",q._dfltTitle.subtitle),e.coerceFont($,"title.subtitle.font",lt,{overrideDflt:{size:Math.round(q.title.font.size*.7)}}),mt&&(ht==="paper"&&(q.title.y!==0&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y===0?"top":"bottom")),ht==="container"&&(q.title.y==="auto"&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y<.5?"bottom":"top")));var At=$("uniformtext.mode");At&&$("uniformtext.minsize"),$("autosize",!(Z.width&&Z.height)),$("width"),$("height"),$("minreducedwidth"),$("minreducedheight"),$("margin.l"),$("margin.r"),$("margin.t"),$("margin.b"),$("margin.pad"),$("margin.autoexpand"),Z.width&&Z.height&&p.sanitizeMargins(q),d.getComponentMethod("grid","sizeDefaults")(Z,q),$("paper_bgcolor"),$("separators",ut.decimal+ut.thousands),$("hidesources"),$("colorway"),$("datarevision");var bt=$("uirevision");$("editrevision",bt),$("selectionrevision",bt),d.getComponentMethod("modebar","supplyLayoutDefaults")(Z,q),d.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Z,q,$),d.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Z,q,$),$("meta"),e.isPlainObject(Z.transition)&&($("transition.duration"),$("transition.easing"),$("transition.ordering")),d.getComponentMethod("calendars","handleDefaults")(Z,q,"calendar"),d.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Z,q,$),e.coerce(Z,q,c,"scattermode")};function V(Z){return typeof Z=="string"&&Z.substr(Z.length-2)==="px"&&parseFloat(Z)}p.plotAutoSize=function(q,ut,$){var j=q._context||{},lt=j.frameMargins,nt,ht,mt=e.isPlotDiv(q);if(mt&&q.emit("plotly_autosize"),j.fillFrame)nt=window.innerWidth,ht=window.innerHeight,document.body.style.overflow="hidden";else{var At=mt?window.getComputedStyle(q):{};if(nt=V(At.width)||V(At.maxWidth)||$.width,ht=V(At.height)||V(At.maxHeight)||$.height,P(lt)&&lt>0){var bt=1-2*lt;nt=Math.round(bt*nt),ht=Math.round(bt*ht)}}var Pt=p.layoutAttributes.width.min,_t=p.layoutAttributes.height.min;nt<Pt&&(nt=Pt),ht<_t&&(ht=_t);var Ut=!ut.width&&Math.abs($.width-nt)>1,St=!ut.height&&Math.abs($.height-ht)>1;(St||Ut)&&(Ut&&($.width=nt),St&&($.height=ht)),q._initialAutoSize||(q._initialAutoSize={width:nt,height:ht}),p.sanitizeMargins($)},p.supplyLayoutModuleDefaults=function(Z,q,ut,$){var j=d.componentsRegistry,lt=q._basePlotModules,nt,ht,mt,At=d.subplotsRegistry.cartesian;for(nt in j)mt=j[nt],mt.includeBasePlot&&mt.includeBasePlot(Z,q);lt.length||lt.push(At),q._has("cartesian")&&(d.getComponentMethod("grid","contentDefaults")(Z,q),At.finalizeSubplots(Z,q));for(var bt in q._subplots)q._subplots[bt].sort(e.subplotSort);for(ht=0;ht<lt.length;ht++)mt=lt[ht],mt.supplyLayoutDefaults&&mt.supplyLayoutDefaults(Z,q,ut);var Pt=q._modules;for(ht=0;ht<Pt.length;ht++)mt=Pt[ht],mt.supplyLayoutDefaults&&mt.supplyLayoutDefaults(Z,q,ut);var _t=q._transformModules;for(ht=0;ht<_t.length;ht++)mt=_t[ht],mt.supplyLayoutDefaults&&mt.supplyLayoutDefaults(Z,q,ut,$);for(nt in j)mt=j[nt],mt.supplyLayoutDefaults&&mt.supplyLayoutDefaults(Z,q,ut)},p.purge=function(Z){var q=Z._fullLayout||{};q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.remove(),q._glcanvas=null),q._modeBar&&q._modeBar.destroy(),Z._transitionData&&(Z._transitionData._interruptCallbacks&&(Z._transitionData._interruptCallbacks.length=0),Z._transitionData._animationRaf&&window.cancelAnimationFrame(Z._transitionData._animationRaf)),e.clearThrottle(),e.clearResponsive(Z),delete Z.data,delete Z.layout,delete Z._fullData,delete Z._fullLayout,delete Z.calcdata,delete Z.empty,delete Z.fid,delete Z.undoqueue,delete Z.undonum,delete Z.autoplay,delete Z.changed,delete Z._promises,delete Z._redrawTimer,delete Z._hmlumcount,delete Z._hmpixcount,delete Z._transitionData,delete Z._transitioning,delete Z._initialAutoSize,delete Z._transitioningWithDuration,delete Z._dragging,delete Z._dragged,delete Z._dragdata,delete Z._hoverdata,delete Z._snapshotInProgress,delete Z._editing,delete Z._mouseDownTime,delete Z._legendMouseDownTime,Z.removeAllListeners&&Z.removeAllListeners()},p.style=function(Z){var q=Z._fullLayout._visibleModules,ut=[],$;for($=0;$<q.length;$++){var j=q[$];j.style&&e.pushUnique(ut,j.style)}for($=0;$<ut.length;$++)ut[$](Z)},p.sanitizeMargins=function(Z){if(!(!Z||!Z.margin)){var q=Z.width,ut=Z.height,$=Z.margin,j=q-($.l+$.r),lt=ut-($.t+$.b),nt;j<0&&(nt=(q-1)/($.l+$.r),$.l=Math.floor(nt*$.l),$.r=Math.floor(nt*$.r)),lt<0&&(nt=(ut-1)/($.t+$.b),$.t=Math.floor(nt*$.t),$.b=Math.floor(nt*$.b))}},p.clearAutoMarginIds=function(Z){Z._fullLayout._pushmarginIds={}},p.allowAutoMargin=function(Z,q){Z._fullLayout._pushmarginIds[q]=1};function N(Z){var q=Z.margin;if(!Z._size){var ut=Z._size={l:Math.round(q.l),r:Math.round(q.r),t:Math.round(q.t),b:Math.round(q.b),p:Math.round(q.pad)};ut.w=Math.round(Z.width)-ut.l-ut.r,ut.h=Math.round(Z.height)-ut.t-ut.b}Z._pushmargin||(Z._pushmargin={}),Z._pushmarginIds||(Z._pushmarginIds={}),Z._reservedMargin||(Z._reservedMargin={})}var O=2,H=2;p.autoMargin=function(Z,q,ut){var $=Z._fullLayout,j=$.width,lt=$.height,nt=$.margin,ht=$.minreducedwidth,mt=$.minreducedheight,At=e.constrain(j-nt.l-nt.r,O,ht),bt=e.constrain(lt-nt.t-nt.b,H,mt),Pt=Math.max(0,j-At),_t=Math.max(0,lt-bt),Ut=$._pushmargin,St=$._pushmarginIds;if(nt.autoexpand!==!1){if(!ut)delete Ut[q],delete St[q];else{var Rt=ut.pad;if(Rt===void 0&&(Rt=Math.min(12,nt.l,nt.r,nt.t,nt.b)),Pt){var Et=(ut.l+ut.r)/Pt;Et>1&&(ut.l/=Et,ut.r/=Et)}if(_t){var zt=(ut.t+ut.b)/_t;zt>1&&(ut.t/=zt,ut.b/=zt)}var Ct=ut.xl!==void 0?ut.xl:ut.x,Wt=ut.xr!==void 0?ut.xr:ut.x,Kt=ut.yt!==void 0?ut.yt:ut.y,oe=ut.yb!==void 0?ut.yb:ut.y;Ut[q]={l:{val:Ct,size:ut.l+Rt},r:{val:Wt,size:ut.r+Rt},b:{val:oe,size:ut.b+Rt},t:{val:Kt,size:ut.t+Rt}},St[q]=1}if(!$._replotting)return p.doAutoMargin(Z)}};function X(Z){if("_redrawFromAutoMarginCount"in Z._fullLayout)return!1;var q=u.list(Z,"",!0);for(var ut in q)if(q[ut].autoshift||q[ut].shift)return!0;return!1}p.doAutoMargin=function(Z){var q=Z._fullLayout,ut=q.width,$=q.height;q._size||(q._size={}),N(q);var j=q._size,lt=q.margin,nt={t:0,b:0,l:0,r:0},ht=e.extendFlat({},j),mt=lt.l,At=lt.r,bt=lt.t,Pt=lt.b,_t=q._pushmargin,Ut=q._pushmarginIds,St=q.minreducedwidth,Rt=q.minreducedheight;if(lt.autoexpand!==!1){for(var Et in _t)Ut[Et]||delete _t[Et];var zt=Z._fullLayout._reservedMargin;for(var Ct in zt)for(var Wt in zt[Ct]){var Kt=zt[Ct][Wt];nt[Wt]=Math.max(nt[Wt],Kt)}_t.base={l:{val:0,size:mt},r:{val:1,size:At},t:{val:1,size:bt},b:{val:0,size:Pt}};for(var oe in nt){var Jt=0;for(var te in _t)te!=="base"&&P(_t[te][oe].size)&&(Jt=_t[te][oe].size>Jt?_t[te][oe].size:Jt);var fe=Math.max(0,lt[oe]-Jt);nt[oe]=Math.max(0,nt[oe]-fe)}for(var ve in _t){var de=_t[ve].l||{},xe=_t[ve].b||{},Me=de.val,ne=de.size,kt=xe.val,Gt=xe.size,Yt=ut-nt.r-nt.l,Zt=$-nt.t-nt.b;for(var It in _t){if(P(ne)&&_t[It].r){var Nt=_t[It].r.val,Ht=_t[It].r.size;if(Nt>Me){var Lt=(ne*Nt+(Ht-Yt)*Me)/(Nt-Me),dt=(Ht*(1-Me)+(ne-Yt)*(1-Nt))/(Nt-Me);Lt+dt>mt+At&&(mt=Lt,At=dt)}}if(P(Gt)&&_t[It].t){var xt=_t[It].t.val,Ot=_t[It].t.size;if(xt>kt){var jt=(Gt*xt+(Ot-Zt)*kt)/(xt-kt),ie=(Ot*(1-kt)+(Gt-Zt)*(1-xt))/(xt-kt);jt+ie>Pt+bt&&(Pt=jt,bt=ie)}}}}}var le=e.constrain(ut-lt.l-lt.r,O,St),Ve=e.constrain($-lt.t-lt.b,H,Rt),je=Math.max(0,ut-le),Te=Math.max(0,$-Ve);if(je){var Le=(mt+At)/je;Le>1&&(mt/=Le,At/=Le)}if(Te){var Ke=(Pt+bt)/Te;Ke>1&&(Pt/=Ke,bt/=Ke)}if(j.l=Math.round(mt)+nt.l,j.r=Math.round(At)+nt.r,j.t=Math.round(bt)+nt.t,j.b=Math.round(Pt)+nt.b,j.p=Math.round(lt.pad),j.w=Math.round(ut)-j.l-j.r,j.h=Math.round($)-j.t-j.b,!q._replotting&&(p.didMarginChange(ht,j)||X(Z))){"_redrawFromAutoMarginCount"in q?q._redrawFromAutoMarginCount++:q._redrawFromAutoMarginCount=1;var vr=3*(1+Object.keys(Ut).length);if(q._redrawFromAutoMarginCount<vr)return d.call("_doPlot",Z);q._size=ht,e.warn("Too many auto-margin redraws.")}J(Z)};function J(Z){var q=u.list(Z,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ut){for(var $=0;$<q.length;$++){var j=q[$][ut];j&&j()}})}var et=["l","r","t","b","p","w","h"];p.didMarginChange=function(Z,q){for(var ut=0;ut<et.length;ut++){var $=et[ut],j=Z[$],lt=q[$];if(!P(j)||Math.abs(lt-j)>1)return!0}return!1},p.graphJson=function(Z,q,ut,$,j,lt){(j&&q&&!Z._fullData||j&&!q&&!Z._fullLayout)&&p.supplyDefaults(Z);var nt=j?Z._fullData:Z.data,ht=j?Z._fullLayout:Z.layout,mt=(Z._transitionData||{})._frames;function At(_t,Ut){if(typeof _t=="function")return Ut?"_function_":null;if(e.isPlainObject(_t)){var St={},Rt;return Object.keys(_t).sort().forEach(function(Wt){if(["_","["].indexOf(Wt.charAt(0))===-1){if(typeof _t[Wt]=="function"){Ut&&(St[Wt]="_function");return}if(ut==="keepdata"){if(Wt.substr(Wt.length-3)==="src")return}else if(ut==="keepstream"){if(Rt=_t[Wt+"src"],typeof Rt=="string"&&Rt.indexOf(":")>0&&!e.isPlainObject(_t.stream))return}else if(ut!=="keepall"&&(Rt=_t[Wt+"src"],typeof Rt=="string"&&Rt.indexOf(":")>0))return;St[Wt]=At(_t[Wt],Ut)}}),St}var Et=Array.isArray(_t),zt=e.isTypedArray(_t);if((Et||zt)&&_t.dtype&&_t.shape){var Ct=_t.bdata;return At({dtype:_t.dtype,shape:_t.shape,bdata:e.isArrayBuffer(Ct)?M.encode(Ct):Ct},Ut)}return Et?_t.map(function(Wt){return At(Wt,Ut)}):zt?e.simpleMap(_t,e.identity):e.isJSDate(_t)?e.ms2DateTimeLocal(+_t):_t}var bt={data:(nt||[]).map(function(_t){var Ut=At(_t);return q&&delete Ut.fit,Ut})};if(!q&&(bt.layout=At(ht),j)){var Pt=ht._size;bt.layout.computed={margin:{b:Pt.b,l:Pt.l,r:Pt.r,t:Pt.t}}}return mt&&(bt.frames=At(mt)),lt&&(bt.config=At(Z._context,!0)),$==="object"?bt:JSON.stringify(bt)},p.modifyFrames=function(Z,q){var ut,$,j,lt=Z._transitionData._frames,nt=Z._transitionData._frameHash;for(ut=0;ut<q.length;ut++)switch($=q[ut],$.type){case"replace":j=$.value;var ht=(lt[$.index]||{}).name,mt=j.name;lt[$.index]=nt[mt]=j,mt!==ht&&(delete nt[ht],nt[mt]=j);break;case"insert":j=$.value,nt[j.name]=j,lt.splice($.index,0,j);break;case"delete":j=lt[$.index],delete nt[j.name],lt.splice($.index,1);break}return Promise.resolve()},p.computeFrame=function(Z,q){var ut=Z._transitionData._frameHash,$,j,lt,nt;if(!q)throw new Error("computeFrame must be given a string frame name");var ht=ut[q.toString()];if(!ht)return!1;for(var mt=[ht],At=[ht.name];ht.baseframe&&(ht=ut[ht.baseframe.toString()])&&At.indexOf(ht.name)===-1;)mt.push(ht),At.push(ht.name);for(var bt={};ht=mt.pop();)if(ht.layout&&(bt.layout=p.extendLayout(bt.layout,ht.layout)),ht.data){if(bt.data||(bt.data=[]),j=ht.traces,!j)for(j=[],$=0;$<ht.data.length;$++)j[$]=$;for(bt.traces||(bt.traces=[]),$=0;$<ht.data.length;$++)lt=j[$],lt!=null&&(nt=bt.traces.indexOf(lt),nt===-1&&(nt=bt.data.length,bt.traces[nt]=lt),bt.data[nt]=p.extendTrace(bt.data[nt],ht.data[$]))}return bt},p.recomputeFrameHash=function(Z){for(var q=Z._transitionData._frameHash={},ut=Z._transitionData._frames,$=0;$<ut.length;$++){var j=ut[$];j&&j.name&&(q[j.name]=j)}},p.extendObjectWithContainers=function(Z,q,ut){var $,j,lt,nt,ht,mt,At,bt,Pt=e.extendDeepNoArrays({},q||{}),_t=e.expandObjectPaths(Pt),Ut={};if(ut&&ut.length)for(lt=0;lt<ut.length;lt++)$=e.nestedProperty(_t,ut[lt]),j=$.get(),j===void 0?e.nestedProperty(Ut,ut[lt]).set(null):($.set(null),e.nestedProperty(Ut,ut[lt]).set(j));if(Z=e.extendDeepNoArrays(Z||{},_t),ut&&ut.length){for(lt=0;lt<ut.length;lt++)if(ht=e.nestedProperty(Ut,ut[lt]),At=ht.get(),!!At){for(mt=e.nestedProperty(Z,ut[lt]),bt=mt.get(),Array.isArray(bt)||(bt=[],mt.set(bt)),nt=0;nt<At.length;nt++){var St=At[nt];St===null?bt[nt]=null:bt[nt]=p.extendObjectWithContainers(bt[nt],St)}mt.set(bt)}}return Z},p.dataArrayContainers=["transforms","dimensions"],p.layoutArrayContainers=d.layoutArrayContainers,p.extendTrace=function(Z,q){return p.extendObjectWithContainers(Z,q,p.dataArrayContainers)},p.extendLayout=function(Z,q){return p.extendObjectWithContainers(Z,q,p.layoutArrayContainers)},p.transition=function(Z,q,ut,$,j,lt){var nt={redraw:j.redraw},ht={},mt=[];return nt.prepareFn=function(){for(var At=Array.isArray(q)?q.length:0,bt=$.slice(0,At),Pt=0;Pt<bt.length;Pt++){var _t=bt[Pt],Ut=Z._fullData[_t],St=Ut._module;if(St){if(St.animatable){var Rt=St.basePlotModule.name;ht[Rt]||(ht[Rt]=[]),ht[Rt].push(_t)}Z.data[bt[Pt]]=p.extendTrace(Z.data[bt[Pt]],q[Pt])}}var Et=e.expandObjectPaths(e.extendDeepNoArrays({},ut)),zt=/^[xy]axis[0-9]*$/;for(var Ct in Et)zt.test(Ct)&&delete Et[Ct].range;p.extendLayout(Z.layout,Et),delete Z.calcdata,p.supplyDefaults(Z),p.doCalcdata(Z);var Wt=e.expandObjectPaths(ut);if(Wt){var Kt=Z._fullLayout._plots;for(var oe in Kt){var Jt=Kt[oe],te=Jt.xaxis,fe=Jt.yaxis,ve=te.range.slice(),de=fe.range.slice(),xe=null,Me=null,ne=null,kt=null;Array.isArray(Wt[te._name+".range"])?xe=Wt[te._name+".range"].slice():Array.isArray((Wt[te._name]||{}).range)&&(xe=Wt[te._name].range.slice()),Array.isArray(Wt[fe._name+".range"])?Me=Wt[fe._name+".range"].slice():Array.isArray((Wt[fe._name]||{}).range)&&(Me=Wt[fe._name].range.slice()),ve&&xe&&(te.r2l(ve[0])!==te.r2l(xe[0])||te.r2l(ve[1])!==te.r2l(xe[1]))&&(ne={xr0:ve,xr1:xe}),de&&Me&&(fe.r2l(de[0])!==fe.r2l(Me[0])||fe.r2l(de[1])!==fe.r2l(Me[1]))&&(kt={yr0:de,yr1:Me}),(ne||kt)&&mt.push(e.extendFlat({plotinfo:Jt},ne,kt))}}return Promise.resolve()},nt.runFn=function(At){var bt,Pt=Z._fullLayout._basePlotModules,_t=mt.length,Ut;if(ut)for(Ut=0;Ut<Pt.length;Ut++)Pt[Ut].transitionAxes&&Pt[Ut].transitionAxes(Z,mt,lt,At);_t?(bt=e.extendFlat({},lt),bt.duration=0,delete ht.cartesian):bt=lt;for(var St in ht){var Rt=ht[St],Et=Z._fullData[Rt[0]]._module;Et.basePlotModule.plot(Z,Rt,bt,At)}},it(Z,lt,nt)},p.transitionFromReact=function(Z,q,ut,$){var j=Z._fullLayout,lt=j.transition,nt={},ht=[];return nt.prepareFn=function(){var mt=j._plots;nt.redraw=!1,q.anim==="some"&&(nt.redraw=!0),ut.anim==="some"&&(nt.redraw=!0);for(var At in mt){var bt=mt[At],Pt=bt.xaxis,_t=bt.yaxis,Ut=$[Pt._name].range.slice(),St=$[_t._name].range.slice(),Rt=Pt.range.slice(),Et=_t.range.slice();Pt.setScale(),_t.setScale();var zt=null,Ct=null;(Pt.r2l(Ut[0])!==Pt.r2l(Rt[0])||Pt.r2l(Ut[1])!==Pt.r2l(Rt[1]))&&(zt={xr0:Ut,xr1:Rt}),(_t.r2l(St[0])!==_t.r2l(Et[0])||_t.r2l(St[1])!==_t.r2l(Et[1]))&&(Ct={yr0:St,yr1:Et}),(zt||Ct)&&ht.push(e.extendFlat({plotinfo:bt},zt,Ct))}return Promise.resolve()},nt.runFn=function(mt){for(var At=Z._fullData,bt=Z._fullLayout,Pt=bt._basePlotModules,_t,Ut,St,Rt=[],Et=0;Et<At.length;Et++)Rt.push(Et);function zt(){if(Z._fullLayout)for(var Wt=0;Wt<Pt.length;Wt++)Pt[Wt].transitionAxes&&Pt[Wt].transitionAxes(Z,ht,_t,mt)}function Ct(){if(Z._fullLayout)for(var Wt=0;Wt<Pt.length;Wt++)Pt[Wt].plot(Z,St,Ut,mt)}ht.length&&q.anim?lt.ordering==="traces first"?(_t=e.extendFlat({},lt,{duration:0}),St=Rt,Ut=lt,setTimeout(zt,lt.duration),Ct()):(_t=lt,St=null,Ut=e.extendFlat({},lt,{duration:0}),setTimeout(Ct,_t.duration),zt()):ht.length?(_t=lt,zt()):q.anim&&(St=Rt,Ut=lt,Ct())},it(Z,lt,nt)};function it(Z,q,ut){var $=!1;function j(Pt){var _t=Promise.resolve();if(!Pt)return _t;for(;Pt.length;)_t=_t.then(Pt.shift());return _t}function lt(Pt){if(Pt)for(;Pt.length;)Pt.shift()}function nt(){return Z.emit("plotly_transitioning",[]),new Promise(function(Pt){Z._transitioning=!0,q.duration>0&&(Z._transitioningWithDuration=!0),Z._transitionData._interruptCallbacks.push(function(){$=!0}),ut.redraw&&Z._transitionData._interruptCallbacks.push(function(){return d.call("redraw",Z)}),Z._transitionData._interruptCallbacks.push(function(){Z.emit("plotly_transitioninterrupted",[])});var _t=0,Ut=0;function St(){return _t++,function(){Ut++,!$&&Ut===_t&&ht(Pt)}}ut.runFn(St),setTimeout(St())})}function ht(Pt){if(Z._transitionData)return lt(Z._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(ut.redraw)return d.call("redraw",Z)}).then(function(){Z._transitioning=!1,Z._transitioningWithDuration=!1,Z.emit("plotly_transitioned",[])}).then(Pt)}function mt(){if(Z._transitionData)return Z._transitioning=!1,j(Z._transitionData._interruptCallbacks)}var At=[p.previousPromises,mt,ut.prepareFn,p.rehover,p.reselect,nt],bt=e.syncOrAsync(At,Z);return(!bt||!bt.then)&&(bt=Promise.resolve()),bt.then(function(){return Z})}p.doCalcdata=function(Z,q){var ut=u.list(Z),$=Z._fullData,j=Z._fullLayout,lt,nt,ht,mt,At=new Array($.length),bt=(Z.calcdata||[]).slice();for(Z.calcdata=At,j._numBoxes=0,j._numViolins=0,j._violinScaleGroupStats={},Z._hmpixcount=0,Z._hmlumcount=0,j._piecolormap={},j._sunburstcolormap={},j._treemapcolormap={},j._iciclecolormap={},j._funnelareacolormap={},ht=0;ht<$.length;ht++)if(Array.isArray(q)&&q.indexOf(ht)===-1){At[ht]=bt[ht];continue}for(ht=0;ht<$.length;ht++)lt=$[ht],lt._arrayAttrs=g.findArrayAttributes(lt),lt._extremes={};var Pt=j._subplots.polar||[];for(ht=0;ht<Pt.length;ht++)ut.push(j[Pt[ht]].radialaxis,j[Pt[ht]].angularaxis);for(var _t in j._colorAxes){var Ut=j[_t];Ut.cauto!==!1&&(delete Ut.cmin,delete Ut.cmax)}var St=!1;function Rt(Ct){if(lt=$[Ct],nt=lt._module,lt.visible===!0&&lt.transforms){if(nt&&nt.calc){var Wt=nt.calc(Z,lt);Wt[0]&&Wt[0].t&&Wt[0].t._scene&&delete Wt[0].t._scene.dirty}for(mt=0;mt<lt.transforms.length;mt++){var Kt=lt.transforms[mt];nt=w[Kt.type],nt&&nt.calcTransform&&(lt._hasCalcTransform=!0,St=!0,nt.calcTransform(Z,lt,Kt))}}}function Et(Ct,Wt){if(lt=$[Ct],nt=lt._module,!!nt.isContainer===Wt){var Kt=[];if(lt.visible===!0&&lt._length!==0){delete lt._indexToPoints;var oe=lt.transforms||[];for(mt=oe.length-1;mt>=0;mt--)if(oe[mt].enabled){lt._indexToPoints=oe[mt]._indexToPoints;break}nt&&nt.calc&&(Kt=nt.calc(Z,lt))}(!Array.isArray(Kt)||!Kt[0])&&(Kt=[{x:n,y:n}]),Kt[0].t||(Kt[0].t={}),Kt[0].trace=lt,At[Ct]=Kt}}for(Q(ut,$,j),ht=0;ht<$.length;ht++)Et(ht,!0);for(ht=0;ht<$.length;ht++)Rt(ht);for(St&&Q(ut,$,j),ht=0;ht<$.length;ht++)Et(ht,!0);for(ht=0;ht<$.length;ht++)Et(ht,!1);tt(Z);var zt=ot(ut,Z);if(zt.length){for(j._numBoxes=0,j._numViolins=0,ht=0;ht<zt.length;ht++)Et(zt[ht],!0);for(ht=0;ht<zt.length;ht++)Et(zt[ht],!1);tt(Z)}d.getComponentMethod("fx","calc")(Z),d.getComponentMethod("errorbars","calc")(Z)};var ft=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function ot(Z,q){var ut=[],$,j,lt,nt,ht;function mt(It,Nt,Ht){var Lt=Nt._id.charAt(0);if(It==="histogram2dcontour"){var dt=Nt._counterAxes[0],xt=u.getFromId(q,dt),Ot=Lt==="x"||dt==="x"&&xt.type==="category",jt=Lt==="y"||dt==="y"&&xt.type==="category";return function(ie,le){return ie===0||le===0||Ot&&ie===Ht[le].length-1||jt&&le===Ht.length-1?-1:(Lt==="y"?le:ie)-1}}else return function(ie,le){return Lt==="y"?le:ie}}var At={min:function(It){return e.aggNums(Math.min,null,It)},max:function(It){return e.aggNums(Math.max,null,It)},sum:function(It){return e.aggNums(function(Nt,Ht){return Nt+Ht},null,It)},total:function(It){return e.aggNums(function(Nt,Ht){return Nt+Ht},null,It)},mean:function(It){return e.mean(It)},"geometric mean":function(It){return e.geometricMean(It)},median:function(It){return e.median(It)}};function bt(It,Nt){return It[1]-Nt[1]}function Pt(It,Nt){return Nt[1]-It[1]}for($=0;$<Z.length;$++){var _t=Z[$];if(_t.type==="category"){var Ut=_t.categoryorder.match(ft);if(Ut){var St=Ut[1],Rt=Ut[2],Et=_t._id.charAt(0),zt=Et==="x",Ct=[];for(j=0;j<_t._categories.length;j++)Ct.push([_t._categories[j],[]]);for(j=0;j<_t._traceIndices.length;j++){var Wt=_t._traceIndices[j],Kt=q._fullData[Wt];if(Kt.visible===!0){var oe=Kt.type;d.traceIs(Kt,"histogram")&&(delete Kt._xautoBinFinished,delete Kt._yautoBinFinished);var Jt=oe==="splom",te=oe==="scattergl",fe=q.calcdata[Wt];for(lt=0;lt<fe.length;lt++){var ve=fe[lt],de,xe;if(Jt){var Me=Kt._axesDim[_t._id];if(!zt){var ne=Kt._diag[Me][0];ne&&(_t=q._fullLayout[u.id2name(ne)])}var kt=ve.trace.dimensions[Me].values;for(nt=0;nt<kt.length;nt++)for(de=_t._categoriesMap[kt[nt]],ht=0;ht<ve.trace.dimensions.length;ht++)if(ht!==Me){var Gt=ve.trace.dimensions[ht];Ct[de][1].push(Gt.values[nt])}}else if(te){for(nt=0;nt<ve.t.x.length;nt++)zt?(de=ve.t.x[nt],xe=ve.t.y[nt]):(de=ve.t.y[nt],xe=ve.t.x[nt]),Ct[de][1].push(xe);ve.t&&ve.t._scene&&delete ve.t._scene.dirty}else if(ve.hasOwnProperty("z")){xe=ve.z;var Yt=mt(Kt.type,_t,xe);for(nt=0;nt<xe.length;nt++)for(ht=0;ht<xe[nt].length;ht++)de=Yt(ht,nt),de+1&&Ct[de][1].push(xe[nt][ht])}else for(de=ve.p,de===void 0&&(de=ve[Et]),xe=ve.s,xe===void 0&&(xe=ve.v),xe===void 0&&(xe=zt?ve.y:ve.x),Array.isArray(xe)||(xe===void 0?xe=[]:xe=[xe]),nt=0;nt<xe.length;nt++)Ct[de][1].push(xe[nt])}}}_t._categoriesValue=Ct;var Zt=[];for(j=0;j<Ct.length;j++)Zt.push([Ct[j][0],At[St](Ct[j][1])]);Zt.sort(Rt==="descending"?Pt:bt),_t._categoriesAggregatedValue=Zt,_t._initialCategories=Zt.map(function(It){return It[0]}),ut=ut.concat(_t.sortByInitialCategories())}}}return ut}function Q(Z,q,ut){var $={};function j(mt){mt.clearCalc(),mt.type==="multicategory"&&mt.setupMultiCategory(q),$[mt._id]=1}e.simpleMap(Z,j);for(var lt=ut._axisMatchGroups||[],nt=0;nt<lt.length;nt++)for(var ht in lt[nt])$[ht]||j(ut[u.id2name(ht)])}function tt(Z){var q=Z._fullLayout,ut=q._visibleModules,$={},j,lt,nt;for(lt=0;lt<ut.length;lt++){var ht=ut[lt],mt=ht.crossTraceCalc;if(mt){var At=ht.basePlotModule.name;$[At]?e.pushUnique($[At],mt):$[At]=[mt]}}for(nt in $){var bt=$[nt],Pt=q._subplots[nt];if(Array.isArray(Pt))for(j=0;j<Pt.length;j++){var _t=Pt[j],Ut=nt==="cartesian"?q._plots[_t]:q[_t];for(lt=0;lt<bt.length;lt++)bt[lt](Z,Ut,_t)}else for(lt=0;lt<bt.length;lt++)bt[lt](Z)}}p.rehover=function(Z){Z._fullLayout._rehover&&Z._fullLayout._rehover()},p.redrag=function(Z){Z._fullLayout._redrag&&Z._fullLayout._redrag()},p.reselect=function(Z){var q=Z._fullLayout,ut=(Z.layout||{}).selections,$=q._previousSelections;q._previousSelections=ut;var j=q._reselect||JSON.stringify(ut)!==JSON.stringify($);d.getComponentMethod("selections","reselect")(Z,j)},p.generalUpdatePerTraceModule=function(Z,q,ut,$){var j=q.traceHash,lt={},nt;for(nt=0;nt<ut.length;nt++){var ht=ut[nt],mt=ht[0].trace;mt.visible&&(lt[mt.type]=lt[mt.type]||[],lt[mt.type].push(ht))}for(var At in j)if(!lt[At]){var bt=j[At][0],Pt=bt[0].trace;Pt.visible=!1,lt[At]=[bt]}for(var _t in lt){var Ut=lt[_t],St=Ut[0][0].trace._module;St.plot(Z,q,e.filterVisible(Ut),$)}q.traceHash=lt},p.plotBasePlot=function(Z,q,ut,$,j){var lt=d.getModule(Z),nt=T(q.calcdata,lt)[0];lt.plot(q,nt,$,j)},p.cleanBasePlot=function(Z,q,ut,$,j){var lt=j._has&&j._has(Z),nt=ut._has&&ut._has(Z);lt&&!nt&&j["_"+Z+"layer"].selectAll("g.trace").remove()}},39360:function(W){W.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(W,G,t){var y=t(3400),D=t(92065).tester,s=y.findIndexOfMin,P=y.isAngleInsideSector,M=y.angleDelta,d=y.angleDist;function g(i,p,w,A,L){if(!P(p,A))return!1;var x,E;w[0]<w[1]?(x=w[0],E=w[1]):(x=w[1],E=w[0]);var S=D(u(x,A[0],A[1],L)),a=D(u(E,A[0],A[1],L)),C=[i*Math.cos(p),i*Math.sin(p)];return a.contains(C)&&!S.contains(C)}function r(i,p,w,A){var L,x,E=A[0],S=A[1],a=m(Math.sin(p)-Math.sin(i)),C=m(Math.cos(p)-Math.cos(i)),b=Math.tan(w),z=m(1/b),k=a/C,U=S-k*E;return z?a&&C?(L=U/(b-k),x=b*L):C?(L=S*z,x=S):(L=E,x=E*b):a&&C?(L=0,x=U):C?(L=0,x=S):L=x=NaN,[L,x]}function e(i,p,w,A){var L=-p*w,x=p*p+1,E=2*(p*L-w),S=L*L+w*w-i*i,a=Math.sqrt(E*E-4*x*S),C=(-E+a)/(2*x),b=(-E-a)/(2*x);return[[C,p*C+L+A],[b,p*b+L+A]]}function o(i,p){var w=p.length,A=new Array(w+1),L;for(L=0;L<w;L++){var x=p[L];A[L]=[i*Math.cos(x),i*Math.sin(x)]}return A[L]=A[0].slice(),A}function n(i,p,w,A){var L=A.length,x=[],E,S;function a(O){return[i*Math.cos(O),i*Math.sin(O)]}function C(O,H,X){return r(O,H,X,a(O))}function b(O){return y.mod(O,L)}function z(O){return P(O,[p,w])}var k=s(A,function(O){return z(O)?d(O,p):1/0}),U=C(A[k],A[b(k-1)],p);for(x.push(U),E=k,S=0;S<L;E++,S++){var F=A[b(E)];if(!z(F))break;x.push(a(F))}var V=s(A,function(O){return z(O)?d(O,w):1/0}),N=C(A[V],A[b(V+1)],w);return x.push(N),x.push([0,0]),x.push(x[0].slice()),x}function u(i,p,w,A){return y.isFullCircle([p,w])?o(i,A):n(i,p,w,A)}function f(i,p,w,A){for(var L=1/0,x=1/0,E=u(i,p,w,A),S=0;S<E.length;S++){var a=E[S];L=Math.min(L,a[0]),x=Math.min(x,-a[1])}return[L,x]}function c(i,p){var w=function(x){var E=M(x,i);return E>0?E:1/0},A=s(p,w),L=y.mod(A+1,p.length);return[p[A],p[L]]}function m(i){return Math.abs(i)>1e-10?i:0}function v(i,p,w){p=p||0,w=w||0;for(var A=i.length,L=new Array(A),x=0;x<A;x++){var E=i[x];L[x]=[p+E[0],w-E[1]]}return L}function T(i,p,w,A,L,x){var E=u(i,p,w,A);return"M"+v(E,L,x).join("L")}function h(i,p,w,A,L,x,E){var S,a;i<p?(S=i,a=p):(S=p,a=i);var C=v(u(S,w,A,L),x,E),b=v(u(a,w,A,L),x,E);return"M"+b.reverse().join("L")+"M"+C.join("L")}W.exports={isPtInsidePolygon:g,findPolygonOffset:f,findEnclosingVertexAngles:c,findIntersectionXY:r,findXYatLength:e,clampTiny:m,pathPolygon:T,pathPolygonAnnulus:h}},40872:function(W,G,t){var y=t(84888).KY,D=t(3400).counterRegex,s=t(62400),P=t(39360),M=P.attr,d=P.name,g=D(d),r={};r[M]={valType:"subplotid",dflt:d,editType:"calc"};function e(n){for(var u=n._fullLayout,f=n.calcdata,c=u._subplots[d],m=0;m<c.length;m++){var v=c[m],T=y(f,d,v),h=u[v]._subplot;h||(h=s(n,v),u[v]._subplot=h),h.plot(T,u,n._promises)}}function o(n,u,f,c){for(var m=c._subplots[d]||[],v=c._has&&c._has("gl"),T=u._has&&u._has("gl"),h=v&&!T,i=0;i<m.length;i++){var p=m[i],w=c[p]._subplot;if(!u[p]&&w){w.framework.remove(),w.layers["radial-axis-title"].remove();for(var A in w.clipPaths)w.clipPaths[A].remove()}h&&w._scene&&(w._scene.destroy(),w._scene=null)}}W.exports={attr:M,name:d,idRoot:d,idRegex:g,attrRegex:g,attributes:r,layoutAttributes:t(95300),supplyLayoutDefaults:t(84380),plot:e,clean:o,toSVG:t(57952).toSVG}},95300:function(W,G,t){var y=t(22548),D=t(94724),s=t(86968).u,P=t(3400).extendFlat,M=t(67824).overrideAll,d=M({color:D.color,showline:P({},D.showline,{dflt:!0}),linecolor:D.linecolor,linewidth:D.linewidth,showgrid:P({},D.showgrid,{dflt:!0}),gridcolor:D.gridcolor,gridwidth:D.gridwidth,griddash:D.griddash},"plot","from-root"),g=M({tickmode:D.minor.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,ticklabelstep:D.ticklabelstep,showticklabels:D.showticklabels,labelalias:D.labelalias,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,showexponent:D.showexponent,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,tickfont:D.tickfont,tickangle:D.tickangle,tickformat:D.tickformat,tickformatstops:D.tickformatstops,layer:D.layer},"plot","from-root"),r={visible:P({},D.visible,{dflt:!0}),type:P({},D.type,{values:["-","linear","log","date","category"]}),autotypenumbers:D.autotypenumbers,autorangeoptions:{minallowed:D.autorangeoptions.minallowed,maxallowed:D.autorangeoptions.maxallowed,clipmin:D.autorangeoptions.clipmin,clipmax:D.autorangeoptions.clipmax,include:D.autorangeoptions.include,editType:"plot"},autorange:P({},D.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:P({},D.minallowed,{editType:"plot"}),maxallowed:P({},D.maxallowed,{editType:"plot"}),range:P({},D.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:D.categoryorder,categoryarray:D.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:D.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:P({},D.title.text,{editType:"plot",dflt:""}),font:P({},D.title.font,{editType:"plot"}),editType:"plot"},hoverformat:D.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:D._deprecated.title,titlefont:D._deprecated.titlefont}};P(r,d,g);var e={visible:P({},D.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:D.autotypenumbers,categoryorder:D.categoryorder,categoryarray:D.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:D.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};P(e,d,g),W.exports={domain:s({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:y.background},radialaxis:r,angularaxis:e,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(W,G,t){var y=t(3400),D=t(76308),s=t(31780),P=t(168),M=t(84888).op,d=t(26332),g=t(25404),r=t(95936),e=t(42568),o=t(22416),n=t(42136),u=t(76808),f=t(52976),c=t(95300),m=t(57696),v=t(39360),T=v.axisNames;function h(p,w,A,L){var x=A("bgcolor");L.bgColor=D.combine(x,L.paper_bgcolor);var E=A("sector");A("hole");var S=M(L.fullData,v.name,L.id),a=L.layoutOut,C;function b(ht,mt){return A(C+"."+ht,mt)}for(var z=0;z<T.length;z++){C=T[z],y.isPlainObject(p[C])||(p[C]={});var k=p[C],U=s.newContainer(w,C);U._id=U._name=C,U._attr=L.id+"."+C,U._traceIndices=S.map(function(ht){return ht._expandedIndex});var F=v.axisName2dataArray[C],V=i(k,U,b,S,F,L);o(k,U,b,{axData:S,dataAttr:F});var N=b("visible");switch(m(U,w,a),b("uirevision",w.uirevision),U._m=1,C){case"radialaxis":b("minallowed"),b("maxallowed");var O=b("range"),H=U.getAutorangeDflt(O),X=b("autorange",H),J;O&&(O[0]===null&&O[1]===null||(O[0]===null||O[1]===null)&&(X==="reversed"||X===!0)||O[0]!==null&&(X==="min"||X==="max reversed")||O[1]!==null&&(X==="max"||X==="min reversed"))&&(O=void 0,delete U.range,U.autorange=!0,J=!0),J||(H=U.getAutorangeDflt(O),X=b("autorange",H)),k.autorange=X,X&&(u(b,X,O),(V==="linear"||V==="-")&&b("rangemode"),U.isReversed()&&(U._m=-1)),U.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(V==="date"){y.log("Polar plots do not support date angular axes yet.");for(var et=0;et<S.length;et++)S[et].visible=!1;V=k.type=U.type="linear"}b(V==="linear"?"thetaunit":"period");var it=b("direction");b("rotation",{counterclockwise:0,clockwise:90}[it]);break}if(e(k,U,b,U.type,{tickSuffixDflt:U.thetaunit==="degrees"?"":void 0}),N){var ft,ot,Q,tt,Z,q,ut,$,j,lt,nt=L.font||{};ft=b("color"),ot=ft===k.color?ft:nt.color,Q=nt.size,tt=nt.family,Z=nt.weight,q=nt.style,ut=nt.variant,$=nt.textcase,j=nt.lineposition,lt=nt.shadow,d(k,U,b,U.type),r(k,U,b,U.type,{font:{weight:Z,style:q,variant:ut,textcase:$,lineposition:j,shadow:lt,color:ot,size:Q,family:tt},noAutotickangles:C==="angularaxis",noTicklabelshift:!0,noTicklabelstandoff:!0}),g(k,U,b,{outerTicks:!0}),n(k,U,b,{dfltColor:ft,bgColor:L.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[C]}),b("layer"),C==="radialaxis"&&(b("side"),b("angle",E[0]),b("title.text"),y.coerceFont(b,"title.font",{weight:Z,style:q,variant:ut,textcase:$,lineposition:j,shadow:lt,color:ot,size:y.bigFont(Q),family:tt}))}V!=="category"&&b("hoverformat"),U._input=k}w.angularaxis.type==="category"&&A("gridshape")}function i(p,w,A,L,x,E){var S=A("autotypenumbers",E.autotypenumbersDflt),a=A("type");if(a==="-"){for(var C,b=0;b<L.length;b++)if(L[b].visible){C=L[b];break}C&&C[x]&&(w.type=f(C[x],"gregorian",{noMultiCategory:!0,autotypenumbers:S})),w.type==="-"?w.type="linear":p.type=w.type}return w.type}W.exports=function(w,A,L){P(w,A,L,{type:v.name,attributes:c,handleDefaults:h,font:A.font,autotypenumbersDflt:A.autotypenumbers,paper_bgcolor:A.paper_bgcolor,fullData:L,layoutOut:A})}},62400:function(W,G,t){var y=t(33428),D=t(49760),s=t(24040),P=t(3400),M=P.strRotate,d=P.strTranslate,g=t(76308),r=t(43616),e=t(7316),o=t(54460),n=t(78344),u=t(57696),f=t(19280).doAutoRange,c=t(51184),m=t(86476),v=t(93024),T=t(81668),h=t(22676).prepSelect,i=t(22676).selectOnClick,p=t(22676).clearOutline,w=t(93972),A=t(73696),L=t(39172).redrawReglTraces,x=t(84284).MID_SHIFT,E=t(39360),S=t(57384),a=t(36416),C=a.smith,b=a.reactanceArc,z=a.resistanceArc,k=a.smithTransform,U=P._,F=P.mod,V=P.deg2rad,N=P.rad2deg;function O(ft,ot,Q){this.isSmith=Q||!1,this.id=ot,this.gd=ft,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var tt=ft._fullLayout,Z="clip"+tt._uid+ot;this.clipIds.forTraces=Z+"-for-traces",this.clipPaths.forTraces=tt._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=tt["_"+(Q?"smith":"polar")+"layer"].append("g").attr("class",ot),this.getHole=function(q){return this.isSmith?0:q.hole},this.getSector=function(q){return this.isSmith?[0,360]:q.sector},this.getRadial=function(q){return this.isSmith?q.realaxis:q.radialaxis},this.getAngular=function(q){return this.isSmith?q.imaginaryaxis:q.angularaxis},Q||(this.radialTickLayout=null,this.angularTickLayout=null)}var H=O.prototype;W.exports=function(ot,Q,tt){return new O(ot,Q,tt)},H.plot=function(ft,ot){for(var Q=this,tt=ot[Q.id],Z=!1,q=0;q<ft.length;q++){var ut=ft[q][0].trace;if(ut.cliponaxis===!1){Z=!0;break}}Q._hasClipOnAxisFalse=Z,Q.updateLayers(ot,tt),Q.updateLayout(ot,tt),e.generalUpdatePerTraceModule(Q.gd,Q,ft,tt),Q.updateFx(ot,tt),Q.isSmith&&(delete tt.realaxis.range,delete tt.imaginaryaxis.range)},H.updateLayers=function(ft,ot){var Q=this,tt=Q.isSmith,Z=Q.layers,q=Q.getRadial(ot),ut=Q.getAngular(ot),$=E.layerNames,j=$.indexOf("frontplot"),lt=$.slice(0,j),nt=ut.layer==="below traces",ht=q.layer==="below traces";nt&&lt.push("angular-line"),ht&&lt.push("radial-line"),nt&&lt.push("angular-axis"),ht&&lt.push("radial-axis"),lt.push("frontplot"),nt||lt.push("angular-line"),ht||lt.push("radial-line"),nt||lt.push("angular-axis"),ht||lt.push("radial-axis");var mt=(tt?"smith":"polar")+"sublayer",At=Q.framework.selectAll("."+mt).data(lt,String);At.enter().append("g").attr("class",function(bt){return mt+" "+bt}).each(function(bt){var Pt=Z[bt]=y.select(this);switch(bt){case"frontplot":tt||Pt.append("g").classed("barlayer",!0),Pt.append("g").classed("scatterlayer",!0);break;case"backplot":Pt.append("g").classed("maplayer",!0);break;case"plotbg":Z.bg=Pt.append("path");break;case"radial-grid":Pt.style("fill","none");break;case"angular-grid":Pt.style("fill","none");break;case"radial-line":Pt.append("line").style("fill","none");break;case"angular-line":Pt.append("path").style("fill","none");break}}),At.order()},H.updateLayout=function(ft,ot){var Q=this,tt=Q.layers,Z=ft._size,q=Q.getRadial(ot),ut=Q.getAngular(ot),$=ot.domain.x,j=ot.domain.y;Q.xOffset=Z.l+Z.w*$[0],Q.yOffset=Z.t+Z.h*(1-j[1]);var lt=Q.xLength=Z.w*($[1]-$[0]),nt=Q.yLength=Z.h*(j[1]-j[0]),ht=Q.getSector(ot);Q.sectorInRad=ht.map(V);var mt=Q.sectorBBox=J(ht),At=mt[2]-mt[0],bt=mt[3]-mt[1],Pt=nt/lt,_t=Math.abs(bt/At),Ut,St,Rt,Et,zt;Pt>_t?(Ut=lt,St=lt*_t,zt=(nt-St)/Z.h/2,Rt=[$[0],$[1]],Et=[j[0]+zt,j[1]-zt]):(Ut=nt/_t,St=nt,zt=(lt-Ut)/Z.w/2,Rt=[$[0]+zt,$[1]-zt],Et=[j[0],j[1]]),Q.xLength2=Ut,Q.yLength2=St,Q.xDomain2=Rt,Q.yDomain2=Et;var Ct=Q.xOffset2=Z.l+Z.w*Rt[0],Wt=Q.yOffset2=Z.t+Z.h*(1-Et[1]),Kt=Q.radius=Ut/At,oe=Q.innerRadius=Q.getHole(ot)*Kt,Jt=Q.cx=Ct-Kt*mt[0],te=Q.cy=Wt+Kt*mt[3],fe=Q.cxx=Jt-Ct,ve=Q.cyy=te-Wt,de=q.side,xe;de==="counterclockwise"?(xe=de,de="top"):de==="clockwise"&&(xe=de,de="bottom"),Q.radialAxis=Q.mockAxis(ft,ot,q,{_id:"x",side:de,_trueSide:xe,domain:[oe/Z.w,Kt/Z.w]}),Q.angularAxis=Q.mockAxis(ft,ot,ut,{side:"right",domain:[0,Math.PI],autorange:!1}),Q.doAutoRange(ft,ot),Q.updateAngularAxis(ft,ot),Q.updateRadialAxis(ft,ot),Q.updateRadialAxisTitle(ft,ot),Q.xaxis=Q.mockCartesianAxis(ft,ot,{_id:"x",domain:Rt}),Q.yaxis=Q.mockCartesianAxis(ft,ot,{_id:"y",domain:Et});var Me=Q.pathSubplot();Q.clipPaths.forTraces.select("path").attr("d",Me).attr("transform",d(fe,ve)),tt.frontplot.attr("transform",d(Ct,Wt)).call(r.setClipUrl,Q._hasClipOnAxisFalse?null:Q.clipIds.forTraces,Q.gd),tt.bg.attr("d",Me).attr("transform",d(Jt,te)).call(g.fill,ot.bgcolor)},H.mockAxis=function(ft,ot,Q,tt){var Z=P.extendFlat({},Q,tt);return u(Z,ot,ft),Z},H.mockCartesianAxis=function(ft,ot,Q){var tt=this,Z=tt.isSmith,q=Q._id,ut=P.extendFlat({type:"linear"},Q);n(ut,ft);var $={x:[0,2],y:[1,3]};return ut.setRange=function(){var j=tt.sectorBBox,lt=$[q],nt=tt.radialAxis._rl,ht=(nt[1]-nt[0])/(1-tt.getHole(ot));ut.range=[j[lt[0]]*ht,j[lt[1]]*ht]},ut.isPtWithinRange=q==="x"&&!Z?function(j){return tt.isPtInside(j)}:function(){return!0},ut.setRange(),ut.setScale(),ut},H.doAutoRange=function(ft,ot){var Q=this,tt=Q.gd,Z=Q.radialAxis,q=Q.getRadial(ot);f(tt,Z);var ut=Z.range;if(q.range=ut.slice(),q._input.range=ut.slice(),Z._rl=[Z.r2l(ut[0],null,"gregorian"),Z.r2l(ut[1],null,"gregorian")],Z.minallowed!==void 0){var $=Z.r2l(Z.minallowed);Z._rl[0]>Z._rl[1]?Z._rl[1]=Math.max(Z._rl[1],$):Z._rl[0]=Math.max(Z._rl[0],$)}if(Z.maxallowed!==void 0){var j=Z.r2l(Z.maxallowed);Z._rl[0]<Z._rl[1]?Z._rl[1]=Math.min(Z._rl[1],j):Z._rl[0]=Math.min(Z._rl[0],j)}},H.updateRadialAxis=function(ft,ot){var Q=this,tt=Q.gd,Z=Q.layers,q=Q.radius,ut=Q.innerRadius,$=Q.cx,j=Q.cy,lt=Q.getRadial(ot),nt=F(Q.getSector(ot)[0],360),ht=Q.radialAxis,mt=ut<q,At=Q.isSmith;At||(Q.fillViewInitialKey("radialaxis.angle",lt.angle),Q.fillViewInitialKey("radialaxis.range",ht.range.slice()),ht.setGeometry()),ht.tickangle==="auto"&&nt>90&&nt<=270&&(ht.tickangle=180);var bt=At?function(Kt){var oe=k(Q,C([Kt.x,0]));return d(oe[0]-$,oe[1]-j)}:function(Kt){return d(ht.l2p(Kt.x)+ut,0)},Pt=At?function(Kt){return z(Q,Kt.x,-1/0,1/0)}:function(Kt){return Q.pathArc(ht.r2p(Kt.x)+ut)},_t=X(lt);if(Q.radialTickLayout!==_t&&(Z["radial-axis"].selectAll(".xtick").remove(),Q.radialTickLayout=_t),mt){ht.setScale();var Ut=0,St=At?(ht.tickvals||[]).filter(function(Kt){return Kt>=0}).map(function(Kt){return o.tickText(ht,Kt,!0,!1)}):o.calcTicks(ht),Rt=At?St:o.clipEnds(ht,St),Et=o.getTickSigns(ht)[2];At&&((ht.ticks==="top"&&ht.side==="bottom"||ht.ticks==="bottom"&&ht.side==="top")&&(Et=-Et),ht.ticks==="top"&&ht.side==="top"&&(Ut=-ht.ticklen),ht.ticks==="bottom"&&ht.side==="bottom"&&(Ut=ht.ticklen)),o.drawTicks(tt,ht,{vals:St,layer:Z["radial-axis"],path:o.makeTickPath(ht,0,Et),transFn:bt,crisp:!1}),o.drawGrid(tt,ht,{vals:Rt,layer:Z["radial-grid"],path:Pt,transFn:P.noop,crisp:!1}),o.drawLabels(tt,ht,{vals:St,layer:Z["radial-axis"],transFn:bt,labelFns:o.makeLabelFns(ht,Ut)})}var zt=Q.radialAxisAngle=Q.vangles?N(et(V(lt.angle),Q.vangles)):lt.angle,Ct=d($,j),Wt=Ct+M(-zt);it(Z["radial-axis"],mt&&(lt.showticklabels||lt.ticks),{transform:Wt}),it(Z["radial-grid"],mt&&lt.showgrid,{transform:At?"":Ct}),it(Z["radial-line"].select("line"),mt&&lt.showline,{x1:At?-q:ut,y1:0,x2:q,y2:0,transform:Wt}).attr("stroke-width",lt.linewidth).call(g.stroke,lt.linecolor)},H.updateRadialAxisTitle=function(ft,ot,Q){if(!this.isSmith){var tt=this,Z=tt.gd,q=tt.radius,ut=tt.cx,$=tt.cy,j=tt.getRadial(ot),lt=tt.id+"title",nt=0;if(j.title){var ht=r.bBox(tt.layers["radial-axis"].node()).height,mt=j.title.font.size,At=j.side;nt=At==="top"?mt:At==="counterclockwise"?-(ht+mt*.4):ht+mt*.8}var bt=Q!==void 0?Q:tt.radialAxisAngle,Pt=V(bt),_t=Math.cos(Pt),Ut=Math.sin(Pt),St=ut+q/2*_t+nt*Ut,Rt=$-q/2*Ut+nt*_t;tt.layers["radial-axis-title"]=T.draw(Z,lt,{propContainer:j,propName:tt.id+".radialaxis.title",placeholder:U(Z,"Click to enter radial axis title"),attributes:{x:St,y:Rt,"text-anchor":"middle"},transform:{rotate:-bt}})}},H.updateAngularAxis=function(ft,ot){var Q=this,tt=Q.gd,Z=Q.layers,q=Q.radius,ut=Q.innerRadius,$=Q.cx,j=Q.cy,lt=Q.getAngular(ot),nt=Q.angularAxis,ht=Q.isSmith;ht||(Q.fillViewInitialKey("angularaxis.rotation",lt.rotation),nt.setGeometry(),nt.setScale());var mt=ht?function(oe){var Jt=k(Q,C([0,oe.x]));return Math.atan2(Jt[0]-$,Jt[1]-j)-Math.PI/2}:function(oe){return nt.t2g(oe.x)};nt.type==="linear"&&nt.thetaunit==="radians"&&(nt.tick0=N(nt.tick0),nt.dtick=N(nt.dtick));var At=function(oe){return d($+q*Math.cos(oe),j-q*Math.sin(oe))},bt=ht?function(oe){var Jt=k(Q,C([0,oe.x]));return d(Jt[0],Jt[1])}:function(oe){return At(mt(oe))},Pt=ht?function(oe){var Jt=k(Q,C([0,oe.x])),te=Math.atan2(Jt[0]-$,Jt[1]-j)-Math.PI/2;return d(Jt[0],Jt[1])+M(-N(te))}:function(oe){var Jt=mt(oe);return At(Jt)+M(-N(Jt))},_t=ht?function(oe){return b(Q,oe.x,0,1/0)}:function(oe){var Jt=mt(oe),te=Math.cos(Jt),fe=Math.sin(Jt);return"M"+[$+ut*te,j-ut*fe]+"L"+[$+q*te,j-q*fe]},Ut=o.makeLabelFns(nt,0),St=Ut.labelStandoff,Rt={};Rt.xFn=function(oe){var Jt=mt(oe);return Math.cos(Jt)*St},Rt.yFn=function(oe){var Jt=mt(oe),te=Math.sin(Jt)>0?.2:1;return-Math.sin(Jt)*(St+oe.fontSize*te)+Math.abs(Math.cos(Jt))*(oe.fontSize*x)},Rt.anchorFn=function(oe){var Jt=mt(oe),te=Math.cos(Jt);return Math.abs(te)<.1?"middle":te>0?"start":"end"},Rt.heightFn=function(oe,Jt,te){var fe=mt(oe);return-.5*(1+Math.sin(fe))*te};var Et=X(lt);Q.angularTickLayout!==Et&&(Z["angular-axis"].selectAll("."+nt._id+"tick").remove(),Q.angularTickLayout=Et);var zt=ht?[1/0].concat(nt.tickvals||[]).map(function(oe){return o.tickText(nt,oe,!0,!1)}):o.calcTicks(nt);ht&&(zt[0].text="",zt[0].fontSize*=1.75);var Ct;if(ot.gridshape==="linear"?(Ct=zt.map(mt),P.angleDelta(Ct[0],Ct[1])<0&&(Ct=Ct.slice().reverse())):Ct=null,Q.vangles=Ct,nt.type==="category"&&(zt=zt.filter(function(oe){return P.isAngleInsideSector(mt(oe),Q.sectorInRad)})),nt.visible){var Wt=nt.ticks==="inside"?-1:1,Kt=(nt.linewidth||1)/2;o.drawTicks(tt,nt,{vals:zt,layer:Z["angular-axis"],path:"M"+Wt*Kt+",0h"+Wt*nt.ticklen,transFn:Pt,crisp:!1}),o.drawGrid(tt,nt,{vals:zt,layer:Z["angular-grid"],path:_t,transFn:P.noop,crisp:!1}),o.drawLabels(tt,nt,{vals:zt,layer:Z["angular-axis"],repositionOnUpdate:!0,transFn:bt,labelFns:Rt})}it(Z["angular-line"].select("path"),lt.showline,{d:Q.pathSubplot(),transform:d($,j)}).attr("stroke-width",lt.linewidth).call(g.stroke,lt.linecolor)},H.updateFx=function(ft,ot){if(!this.gd._context.staticPlot){var Q=!this.isSmith;Q&&(this.updateAngularDrag(ft),this.updateRadialDrag(ft,ot,0),this.updateRadialDrag(ft,ot,1)),this.updateHoverAndMainDrag(ft)}},H.updateHoverAndMainDrag=function(ft){var ot=this,Q=ot.isSmith,tt=ot.gd,Z=ot.layers,q=ft._zoomlayer,ut=E.MINZOOM,$=E.OFFEDGE,j=ot.radius,lt=ot.innerRadius,nt=ot.cx,ht=ot.cy,mt=ot.cxx,At=ot.cyy,bt=ot.sectorInRad,Pt=ot.vangles,_t=ot.radialAxis,Ut=S.clampTiny,St=S.findXYatLength,Rt=S.findEnclosingVertexAngles,Et=E.cornerHalfWidth,zt=E.cornerLen/2,Ct,Wt,Kt=c.makeDragger(Z,"path","maindrag",ft.dragmode===!1?"none":"crosshair");y.select(Kt).attr("d",ot.pathSubplot()).attr("transform",d(nt,ht)),Kt.onmousemove=function(Te){v.hover(tt,Te,ot.id),tt._fullLayout._lasthover=Kt,tt._fullLayout._hoversubplot=ot.id},Kt.onmouseout=function(Te){tt._dragging||m.unhover(tt,Te)};var oe={element:Kt,gd:tt,subplot:ot.id,plotinfo:{id:ot.id,xaxis:ot.xaxis,yaxis:ot.yaxis},xaxes:[ot.xaxis],yaxes:[ot.yaxis]},Jt,te,fe,ve,de,xe,Me,ne,kt;function Gt(Te,Le){return Math.sqrt(Te*Te+Le*Le)}function Yt(Te,Le){return Gt(Te-mt,Le-At)}function Zt(Te,Le){return Math.atan2(At-Le,Te-mt)}function It(Te,Le){return[Te*Math.cos(Le),Te*Math.sin(-Le)]}function Nt(Te,Le){if(Te===0)return ot.pathSector(2*Et);var Ke=zt/Te,vr=Le-Ke,ge=Le+Ke,Xe=Math.max(0,Math.min(Te,j)),$e=Xe-Et,mr=Xe+Et;return"M"+It($e,vr)+"A"+[$e,$e]+" 0,0,0 "+It($e,ge)+"L"+It(mr,ge)+"A"+[mr,mr]+" 0,0,1 "+It(mr,vr)+"Z"}function Ht(Te,Le,Ke){if(Te===0)return ot.pathSector(2*Et);var vr=It(Te,Le),ge=It(Te,Ke),Xe=Ut((vr[0]+ge[0])/2),$e=Ut((vr[1]+ge[1])/2),mr,or;if(Xe&&$e){var ye=$e/Xe,ue=-1/ye,be=St(Et,ye,Xe,$e);mr=St(zt,ue,be[0][0],be[0][1]),or=St(zt,ue,be[1][0],be[1][1])}else{var Ee,_e;$e?(Ee=zt,_e=Et):(Ee=Et,_e=zt),mr=[[Xe-Ee,$e-_e],[Xe+Ee,$e-_e]],or=[[Xe-Ee,$e+_e],[Xe+Ee,$e+_e]]}return"M"+mr.join("L")+"L"+or.reverse().join("L")+"Z"}function Lt(){fe=null,ve=null,de=ot.pathSubplot(),xe=!1;var Te=tt._fullLayout[ot.id];Me=D(Te.bgcolor).getLuminance(),ne=c.makeZoombox(q,Me,nt,ht,de),ne.attr("fill-rule","evenodd"),kt=c.makeCorners(q,nt,ht),p(tt)}function dt(Te,Le){return Le=Math.max(Math.min(Le,j),lt),Te<$?Te=0:j-Te<$?Te=j:Le<$?Le=0:j-Le<$&&(Le=j),Math.abs(Le-Te)>ut?(Te<Le?(fe=Te,ve=Le):(fe=Le,ve=Te),!0):(fe=null,ve=null,!1)}function xt(Te,Le){Te=Te||de,Le=Le||"M0,0Z",ne.attr("d",Te),kt.attr("d",Le),c.transitionZoombox(ne,kt,xe,Me),xe=!0;var Ke={};Ve(Ke),tt.emit("plotly_relayouting",Ke)}function Ot(Te,Le){Te=Te*Ct,Le=Le*Wt;var Ke=Jt+Te,vr=te+Le,ge=Yt(Jt,te),Xe=Math.min(Yt(Ke,vr),j),$e=Zt(Jt,te),mr,or;dt(ge,Xe)&&(mr=de+ot.pathSector(ve),fe&&(mr+=ot.pathSector(fe)),or=Nt(fe,$e)+Nt(ve,$e)),xt(mr,or)}function jt(Te,Le,Ke,vr){var ge=S.findIntersectionXY(Ke,vr,Ke,[Te-mt,At-Le]);return Gt(ge[0],ge[1])}function ie(Te,Le){var Ke=Jt+Te,vr=te+Le,ge=Zt(Jt,te),Xe=Zt(Ke,vr),$e=Rt(ge,Pt),mr=Rt(Xe,Pt),or=jt(Jt,te,$e[0],$e[1]),ye=Math.min(jt(Ke,vr,mr[0],mr[1]),j),ue,be;dt(or,ye)&&(ue=de+ot.pathSector(ve),fe&&(ue+=ot.pathSector(fe)),be=[Ht(fe,$e[0],$e[1]),Ht(ve,$e[0],$e[1])].join(" ")),xt(ue,be)}function le(){if(c.removeZoombox(tt),!(fe===null||ve===null)){var Te={};Ve(Te),c.showDoubleClickNotifier(tt),s.call("_guiRelayout",tt,Te)}}function Ve(Te){var Le=_t._rl,Ke=(Le[1]-Le[0])/(1-lt/j)/j,vr=[Le[0]+(fe-lt)*Ke,Le[0]+(ve-lt)*Ke];Te[ot.id+".radialaxis.range"]=vr}function je(Te,Le){var Ke=tt._fullLayout.clickmode;if(c.removeZoombox(tt),Te===2){var vr={};for(var ge in ot.viewInitial)vr[ot.id+"."+ge]=ot.viewInitial[ge];tt.emit("plotly_doubleclick",null),s.call("_guiRelayout",tt,vr)}Ke.indexOf("select")>-1&&Te===1&&i(Le,tt,[ot.xaxis],[ot.yaxis],ot.id,oe),Ke.indexOf("event")>-1&&v.click(tt,Le,ot.id)}oe.prepFn=function(Te,Le,Ke){var vr=tt._fullLayout.dragmode,ge=Kt.getBoundingClientRect();tt._fullLayout._calcInverseTransform(tt);var Xe=tt._fullLayout._invTransform;Ct=tt._fullLayout._invScaleX,Wt=tt._fullLayout._invScaleY;var $e=P.apply3DTransform(Xe)(Le-ge.left,Ke-ge.top);if(Jt=$e[0],te=$e[1],Pt){var mr=S.findPolygonOffset(j,bt[0],bt[1],Pt);Jt+=mt+mr[0],te+=At+mr[1]}switch(vr){case"zoom":oe.clickFn=je,Q||(Pt?oe.moveFn=ie:oe.moveFn=Ot,oe.doneFn=le,Lt());break;case"select":case"lasso":h(Te,Le,Ke,oe,vr);break}},m.init(oe)},H.updateRadialDrag=function(ft,ot,Q){var tt=this,Z=tt.gd,q=tt.layers,ut=tt.radius,$=tt.innerRadius,j=tt.cx,lt=tt.cy,nt=tt.radialAxis,ht=E.radialDragBoxSize,mt=ht/2;if(!nt.visible)return;var At=V(tt.radialAxisAngle),bt=nt._rl,Pt=bt[0],_t=bt[1],Ut=bt[Q],St=.75*(bt[1]-bt[0])/(1-tt.getHole(ot))/ut,Rt,Et,zt;Q?(Rt=j+(ut+mt)*Math.cos(At),Et=lt-(ut+mt)*Math.sin(At),zt="radialdrag"):(Rt=j+($-mt)*Math.cos(At),Et=lt-($-mt)*Math.sin(At),zt="radialdrag-inner");var Ct=c.makeRectDragger(q,zt,"crosshair",-mt,-mt,ht,ht),Wt={element:Ct,gd:Z};ft.dragmode===!1&&(Wt.dragmode=!1),it(y.select(Ct),nt.visible&&$<ut,{transform:d(Rt,Et)});var Kt,oe,Jt;function te(Me,ne){if(Kt)Kt(Me,ne);else{var kt=[Me,-ne],Gt=[Math.cos(At),Math.sin(At)],Yt=Math.abs(P.dot(kt,Gt)/Math.sqrt(P.dot(kt,kt)));isNaN(Yt)||(Kt=Yt<.5?de:xe)}var Zt={};fe(Zt),Z.emit("plotly_relayouting",Zt)}function fe(Me){oe!==null?Me[tt.id+".radialaxis.angle"]=oe:Jt!==null&&(Me[tt.id+".radialaxis.range["+Q+"]"]=Jt)}function ve(){oe!==null?s.call("_guiRelayout",Z,tt.id+".radialaxis.angle",oe):Jt!==null&&s.call("_guiRelayout",Z,tt.id+".radialaxis.range["+Q+"]",Jt)}function de(Me,ne){if(Q!==0){var kt=Rt+Me,Gt=Et+ne;oe=Math.atan2(lt-Gt,kt-j),tt.vangles&&(oe=et(oe,tt.vangles)),oe=N(oe);var Yt=d(j,lt)+M(-oe);q["radial-axis"].attr("transform",Yt),q["radial-line"].select("line").attr("transform",Yt);var Zt=tt.gd._fullLayout,It=Zt[tt.id];tt.updateRadialAxisTitle(Zt,It,oe)}}function xe(Me,ne){var kt=P.dot([Me,-ne],[Math.cos(At),Math.sin(At)]);if(Jt=Ut-St*kt,St>0!=(Q?Jt>Pt:Jt<_t)){Jt=null;return}var Gt=Z._fullLayout,Yt=Gt[tt.id];nt.range[Q]=Jt,nt._rl[Q]=Jt,tt.updateRadialAxis(Gt,Yt),tt.xaxis.setRange(),tt.xaxis.setScale(),tt.yaxis.setRange(),tt.yaxis.setScale();var Zt=!1;for(var It in tt.traceHash){var Nt=tt.traceHash[It],Ht=P.filterVisible(Nt),Lt=Nt[0][0].trace._module;Lt.plot(Z,tt,Ht,Yt),s.traceIs(It,"gl")&&Ht.length&&(Zt=!0)}Zt&&(A(Z),L(Z))}Wt.prepFn=function(){Kt=null,oe=null,Jt=null,Wt.moveFn=te,Wt.doneFn=ve,p(Z)},Wt.clampFn=function(Me,ne){return Math.sqrt(Me*Me+ne*ne)<E.MINDRAG&&(Me=0,ne=0),[Me,ne]},m.init(Wt)},H.updateAngularDrag=function(ft){var ot=this,Q=ot.gd,tt=ot.layers,Z=ot.radius,q=ot.angularAxis,ut=ot.cx,$=ot.cy,j=ot.cxx,lt=ot.cyy,nt=E.angularDragBoxSize,ht=c.makeDragger(tt,"path","angulardrag",ft.dragmode===!1?"none":"move"),mt={element:ht,gd:Q};ft.dragmode===!1?mt.dragmode=!1:y.select(ht).attr("d",ot.pathAnnulus(Z,Z+nt)).attr("transform",d(ut,$)).call(w,"move");function At(Jt,te){return Math.atan2(lt+nt-te,Jt-j-nt)}var bt=tt.frontplot.select(".scatterlayer").selectAll(".trace"),Pt=bt.selectAll(".point"),_t=bt.selectAll(".textpoint"),Ut,St,Rt,Et,zt,Ct;function Wt(Jt,te){var fe=ot.gd._fullLayout,ve=fe[ot.id],de=Ut+Jt*ft._invScaleX,xe=St+te*ft._invScaleY,Me=At(de,xe),ne=N(Me-Ct);if(Et=Rt+ne,tt.frontplot.attr("transform",d(ot.xOffset2,ot.yOffset2)+M([-ne,j,lt])),ot.vangles){zt=ot.radialAxisAngle+ne;var kt=d(ut,$)+M(-ne),Gt=d(ut,$)+M(-zt);tt.bg.attr("transform",kt),tt["radial-grid"].attr("transform",kt),tt["radial-axis"].attr("transform",Gt),tt["radial-line"].select("line").attr("transform",Gt),ot.updateRadialAxisTitle(fe,ve,zt)}else ot.clipPaths.forTraces.select("path").attr("transform",d(j,lt)+M(ne));Pt.each(function(){var dt=y.select(this),xt=r.getTranslate(dt);dt.attr("transform",d(xt.x,xt.y)+M([ne]))}),_t.each(function(){var dt=y.select(this),xt=dt.select("text"),Ot=r.getTranslate(dt);dt.attr("transform",M([ne,xt.attr("x"),xt.attr("y")])+d(Ot.x,Ot.y))}),q.rotation=P.modHalf(Et,360),ot.updateAngularAxis(fe,ve),ot._hasClipOnAxisFalse&&!P.isFullCircle(ot.sectorInRad)&&bt.call(r.hideOutsideRangePoints,ot);var Yt=!1;for(var Zt in ot.traceHash)if(s.traceIs(Zt,"gl")){var It=ot.traceHash[Zt],Nt=P.filterVisible(It),Ht=It[0][0].trace._module;Ht.plot(Q,ot,Nt,ve),Nt.length&&(Yt=!0)}Yt&&(A(Q),L(Q));var Lt={};Kt(Lt),Q.emit("plotly_relayouting",Lt)}function Kt(Jt){Jt[ot.id+".angularaxis.rotation"]=Et,ot.vangles&&(Jt[ot.id+".radialaxis.angle"]=zt)}function oe(){_t.select("text").attr("transform",null);var Jt={};Kt(Jt),s.call("_guiRelayout",Q,Jt)}mt.prepFn=function(Jt,te,fe){var ve=ft[ot.id];Rt=ve.angularaxis.rotation;var de=ht.getBoundingClientRect();Ut=te-de.left,St=fe-de.top,Q._fullLayout._calcInverseTransform(Q);var xe=P.apply3DTransform(ft._invTransform)(Ut,St);Ut=xe[0],St=xe[1],Ct=At(Ut,St),mt.moveFn=Wt,mt.doneFn=oe,p(Q)},ot.vangles&&!P.isFullCircle(ot.sectorInRad)&&(mt.prepFn=P.noop,w(y.select(ht),null)),m.init(mt)},H.isPtInside=function(ft){if(this.isSmith)return!0;var ot=this.sectorInRad,Q=this.vangles,tt=this.angularAxis.c2g(ft.theta),Z=this.radialAxis,q=Z.c2l(ft.r),ut=Z._rl,$=Q?S.isPtInsidePolygon:P.isPtInsideSector;return $(q,tt,ut,ot,Q)},H.pathArc=function(ft){var ot=this.sectorInRad,Q=this.vangles,tt=Q?S.pathPolygon:P.pathArc;return tt(ft,ot[0],ot[1],Q)},H.pathSector=function(ft){var ot=this.sectorInRad,Q=this.vangles,tt=Q?S.pathPolygon:P.pathSector;return tt(ft,ot[0],ot[1],Q)},H.pathAnnulus=function(ft,ot){var Q=this.sectorInRad,tt=this.vangles,Z=tt?S.pathPolygonAnnulus:P.pathAnnulus;return Z(ft,ot,Q[0],Q[1],tt)},H.pathSubplot=function(){var ft=this.innerRadius,ot=this.radius;return ft?this.pathAnnulus(ft,ot):this.pathSector(ot)},H.fillViewInitialKey=function(ft,ot){ft in this.viewInitial||(this.viewInitial[ft]=ot)};function X(ft){var ot=ft.ticks+String(ft.ticklen)+String(ft.showticklabels);return"side"in ft&&(ot+=ft.side),ot}function J(ft){var ot=ft[0],Q=ft[1],tt=Q-ot,Z=F(ot,360),q=Z+tt,ut=Math.cos(V(Z)),$=Math.sin(V(Z)),j=Math.cos(V(q)),lt=Math.sin(V(q)),nt,ht,mt,At;return Z<=90&&q>=90||Z>90&&q>=450?At=1:$<=0&&lt<=0?At=0:At=Math.max($,lt),Z<=180&&q>=180||Z>180&&q>=540?nt=-1:ut>=0&&j>=0?nt=0:nt=Math.min(ut,j),Z<=270&&q>=270||Z>270&&q>=630?ht=-1:$>=0&&lt>=0?ht=0:ht=Math.min($,lt),q>=360?mt=1:ut<=0&&j<=0?mt=0:mt=Math.max(ut,j),[nt,ht,mt,At]}function et(ft,ot){var Q=function(Z){return P.angleDist(ft,Z)},tt=P.findIndexOfMin(ot,Q);return ot[tt]}function it(ft,ot,Q){return ot?(ft.attr("display",null),ft.attr(Q)):ft&&ft.attr("display","none"),ft}},57696:function(W,G,t){var y=t(3400),D=t(78344),s=y.deg2rad,P=y.rad2deg;W.exports=function(o,n,u){switch(D(o,u),o._id){case"x":case"radialaxis":M(o,n);break;case"angularaxis":r(o,n);break}};function M(e,o){var n=o._subplot;e.setGeometry=function(){var u=e._rl[0],f=e._rl[1],c=n.innerRadius,m=(n.radius-c)/(f-u),v=c/m,T=u>f?function(h){return h<=0}:function(h){return h>=0};e.c2g=function(h){var i=e.c2l(h)-u;return(T(i)?i:0)+v},e.g2c=function(h){return e.l2c(h+u-v)},e.g2p=function(h){return h*m},e.c2p=function(h){return e.g2p(e.c2g(h))}}}function d(e,o){return o==="degrees"?s(e):e}function g(e,o){return o==="degrees"?P(e):e}function r(e,o){var n=e.type;if(n==="linear"){var u=e.d2c,f=e.c2d;e.d2c=function(c,m){return d(u(c),m)},e.c2d=function(c,m){return f(g(c,m))}}e.makeCalcdata=function(c,m){var v=c[m],T=c._length,h,i,p=function(E){return e.d2c(E,c.thetaunit)};if(v)for(h=new Array(T),i=0;i<T;i++)h[i]=p(v[i]);else{var w=m+"0",A="d"+m,L=w in c?p(c[w]):0,x=c[A]?p(c[A]):(e.period||2*Math.PI)/T;for(h=new Array(T),i=0;i<T;i++)h[i]=L+i*x}return h},e.setGeometry=function(){var c=o.sector,m=c.map(s),v={clockwise:-1,counterclockwise:1}[e.direction],T=s(e.rotation),h=function(S){return v*S+T},i=function(S){return(S-T)/v},p,w,A,L;switch(n){case"linear":w=p=y.identity,L=s,A=P,e.range=y.isFullCircle(m)?[c[0],c[0]+360]:m.map(i).map(P);break;case"category":var x=e._categories.length,E=e.period?Math.max(e.period,x):x;E===0&&(E=1),w=L=function(S){return S*2*Math.PI/E},p=A=function(S){return S*E/Math.PI/2},e.range=[0,E];break}e.c2g=function(S){return h(w(S))},e.g2c=function(S){return p(i(S))},e.t2g=function(S){return h(L(S))},e.g2t=function(S){return A(i(S))}}}},55012:function(W){W.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(W){function G(M){return M<0?-1:M>0?1:0}function t(M){var d=M[0],g=M[1];if(!isFinite(d)||!isFinite(g))return[1,0];var r=(d+1)*(d+1)+g*g;return[(d*d+g*g-1)/r,2*g/r]}function y(M,d){var g=d[0],r=d[1];return[g*M.radius+M.cx,-r*M.radius+M.cy]}function D(M,d){return d*M.radius}function s(M,d,g,r){var e=y(M,t([g,d])),o=e[0],n=e[1],u=y(M,t([r,d])),f=u[0],c=u[1];if(d===0)return["M"+o+","+n,"L"+f+","+c].join(" ");var m=D(M,1/Math.abs(d));return["M"+o+","+n,"A"+m+","+m+" 0 0,"+(d<0?1:0)+" "+f+","+c].join(" ")}function P(M,d,g,r){var e=D(M,1/(d+1)),o=y(M,t([d,g])),n=o[0],u=o[1],f=y(M,t([d,r])),c=f[0],m=f[1];if(G(g)!==G(r)){var v=y(M,t([d,0])),T=v[0],h=v[1];return["M"+n+","+u,"A"+e+","+e+" 0 0,"+(0<g?0:1)+" "+T+","+h,"A"+e+","+e+" 0 0,"+(r<0?0:1)+c+","+m].join(" ")}return["M"+n+","+u,"A"+e+","+e+" 0 0,"+(r<g?0:1)+" "+c+","+m].join(" ")}W.exports={smith:t,reactanceArc:s,resistanceArc:P,smithTransform:y}},47788:function(W,G,t){var y=t(84888).KY,D=t(3400).counterRegex,s=t(62400),P=t(55012),M=P.attr,d=P.name,g=D(d),r={};r[M]={valType:"subplotid",dflt:d,editType:"calc"};function e(n){for(var u=n._fullLayout,f=n.calcdata,c=u._subplots[d],m=0;m<c.length;m++){var v=c[m],T=y(f,d,v),h=u[v]._subplot;h||(h=s(n,v,!0),u[v]._subplot=h),h.plot(T,u,n._promises)}}function o(n,u,f,c){for(var m=c._subplots[d]||[],v=0;v<m.length;v++){var T=m[v],h=c[T]._subplot;if(!u[T]&&h){h.framework.remove();for(var i in h.clipPaths)h.clipPaths[i].remove()}}}W.exports={attr:M,name:d,idRoot:d,idRegex:g,attrRegex:g,attributes:r,layoutAttributes:t(6183),supplyLayoutDefaults:t(22836),plot:e,clean:o,toSVG:t(57952).toSVG}},6183:function(W,G,t){var y=t(22548),D=t(94724),s=t(86968).u,P=t(3400).extendFlat,M=t(67824).overrideAll,d=M({color:D.color,showline:P({},D.showline,{dflt:!0}),linecolor:D.linecolor,linewidth:D.linewidth,showgrid:P({},D.showgrid,{dflt:!0}),gridcolor:D.gridcolor,gridwidth:D.gridwidth,griddash:D.griddash},"plot","from-root"),g=M({ticklen:D.ticklen,tickwidth:P({},D.tickwidth,{dflt:2}),tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,tickfont:D.tickfont,tickformat:D.tickformat,hoverformat:D.hoverformat,layer:D.layer},"plot","from-root"),r=P({visible:P({},D.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:P({},D.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},d,g),e=P({visible:P({},D.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:D.ticks,editType:"calc"},d,g);W.exports={domain:s({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:y.background},realaxis:r,imaginaryaxis:e,editType:"calc"}},22836:function(W,G,t){var y=t(3400),D=t(76308),s=t(31780),P=t(168),M=t(84888).op,d=t(42568),g=t(95936),r=t(42136),e=t(78344),o=t(6183),n=t(55012),u=n.axisNames,f=m(function(v){return y.isTypedArray(v)&&(v=Array.from(v)),v.slice().reverse().map(function(T){return-T}).concat([0]).concat(v)},String);function c(v,T,h,i){var p=h("bgcolor");i.bgColor=D.combine(p,i.paper_bgcolor);var w=M(i.fullData,n.name,i.id),A=i.layoutOut,L;function x(H,X){return h(L+"."+H,X)}for(var E=0;E<u.length;E++){L=u[E],y.isPlainObject(v[L])||(v[L]={});var S=v[L],a=s.newContainer(T,L);a._id=a._name=L,a._attr=i.id+"."+L,a._traceIndices=w.map(function(H){return H._expandedIndex});var C=x("visible");if(a.type="linear",e(a,A),d(S,a,x,a.type),C){var b=L==="realaxis";if(b&&x("side"),b)x("tickvals");else{var z=f(T.realaxis.tickvals||o.realaxis.tickvals.dflt);x("tickvals",z)}y.isTypedArray(a.tickvals)&&(a.tickvals=Array.from(a.tickvals));var k,U,F,V,N=i.font||{};C&&(k=x("color"),U=k===S.color?k:N.color,F=N.size,V=N.family),g(S,a,x,a.type,{noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noAng:!b,noExp:!0,font:{color:U,size:F,family:V}}),y.coerce2(v,T,o,L+".ticklen"),y.coerce2(v,T,o,L+".tickwidth"),y.coerce2(v,T,o,L+".tickcolor",T.color);var O=x("ticks");O||(delete T[L].ticklen,delete T[L].tickwidth,delete T[L].tickcolor),r(S,a,x,{dfltColor:k,bgColor:i.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:o[L]}),x("layer")}x("hoverformat"),delete a.type,a._input=S}}W.exports=function(T,h,i){P(T,h,i,{noUirevision:!0,type:n.name,attributes:o,handleDefaults:c,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:i,layoutOut:h})};function m(v,T){var h={};return function(i){var p=T?T(i):i;if(p in h)return h[p];var w=v(i);return h[p]=w,w}}},168:function(W,G,t){var y=t(3400),D=t(31780),s=t(86968).Q;W.exports=function(M,d,g,r){var e=r.type,o=r.attributes,n=r.handleDefaults,u=r.partition||"x",f=d._subplots[e],c=f.length,m=c&&f[0].replace(/\d+$/,""),v,T;function h(A,L){return y.coerce(v,T,o,A,L)}for(var i=0;i<c;i++){var p=f[i];M[p]?v=M[p]:v=M[p]={},T=D.newContainer(d,p,m),r.noUirevision||h("uirevision",d.uirevision);var w={};w[u]=[i/c,(i+1)/c],s(T,d,h,w),r.id=p,n(v,T,h,r)}}},21776:function(W,G,t){var y=t(26880);y.FORMAT_LINK,y.DATE_FORMAT_LINK;function D(s){var P=s.description?" "+s.description:"",M=s.keys||[];if(M.length>0){for(var d=[],g=0;g<M.length;g++)d[g]="`"+M[g]+"`";P=P+"Finally, the template string has access to ",M.length===1?P=P+"variable "+d[0]:P=P+"variables "+d.slice(0,-1).join(", ")+" and "+d.slice(-1)+"."}return P}G.Ks=function(s,P){s=s||{},P=P||{},D(P);var M={valType:"string",dflt:"",editType:s.editType||"none"};return s.arrayOk!==!1&&(M.arrayOk=!0),M},G.Gw=function(s,P){s=s||{},P=P||{},D(P);var M={valType:"string",dflt:"",editType:s.editType||"calc"};return s.arrayOk!==!1&&(M.arrayOk=!0),M},G.ye=function(s,P){s=s||{},P=P||{},s.newshape,D(P);var M={valType:"string",dflt:"",editType:s.editType||"arraydraw"};return M}},19352:function(W,G,t){var y=t(24696),D=t(84888).KY,s=t(3400).counterRegex,P="ternary";G.name=P;var M=G.attr="subplot";G.idRoot=P,G.idRegex=G.attrRegex=s(P);var d=G.attributes={};d[M]={valType:"subplotid",dflt:"ternary",editType:"calc"},G.layoutAttributes=t(86379),G.supplyLayoutDefaults=t(38536),G.plot=function(r){for(var e=r._fullLayout,o=r.calcdata,n=e._subplots[P],u=0;u<n.length;u++){var f=n[u],c=D(o,P,f),m=e[f]._subplot;m||(m=new y({id:f,graphDiv:r,container:e._ternarylayer.node()},e),e[f]._subplot=m),m.plot(c,e,r._promises)}},G.clean=function(g,r,e,o){for(var n=o._subplots[P]||[],u=0;u<n.length;u++){var f=n[u],c=o[f]._subplot;!r[f]&&c&&(c.plotContainer.remove(),c.clipDef.remove(),c.clipDefRelative.remove(),c.layers["a-title"].remove(),c.layers["b-title"].remove(),c.layers["c-title"].remove())}}},86379:function(W,G,t){var y=t(22548),D=t(86968).u,s=t(94724),P=t(67824).overrideAll,M=t(92880).extendFlat,d={title:{text:s.title.text,font:s.title.font},color:s.color,tickmode:s.minor.tickmode,nticks:M({},s.nticks,{dflt:6,min:1}),tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:s.ticks,ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,showtickprefix:s.showtickprefix,tickprefix:s.tickprefix,showticksuffix:s.showticksuffix,ticksuffix:s.ticksuffix,showexponent:s.showexponent,exponentformat:s.exponentformat,minexponent:s.minexponent,separatethousands:s.separatethousands,tickfont:s.tickfont,tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,hoverformat:s.hoverformat,showline:M({},s.showline,{dflt:!0}),linecolor:s.linecolor,linewidth:s.linewidth,showgrid:M({},s.showgrid,{dflt:!0}),gridcolor:s.gridcolor,gridwidth:s.gridwidth,griddash:s.griddash,layer:s.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:s._deprecated.title,titlefont:s._deprecated.titlefont}},g=W.exports=P({domain:D({name:"ternary"}),bgcolor:{valType:"color",dflt:y.background},sum:{valType:"number",dflt:1,min:0},aaxis:d,baxis:d,caxis:d},"plot","from-root");g.uirevision={valType:"any",editType:"none"},g.aaxis.uirevision=g.baxis.uirevision=g.caxis.uirevision={valType:"any",editType:"none"}},38536:function(W,G,t){var y=t(76308),D=t(31780),s=t(3400),P=t(168),M=t(95936),d=t(42568),g=t(25404),r=t(26332),e=t(42136),o=t(86379),n=["aaxis","baxis","caxis"];W.exports=function(m,v,T){P(m,v,T,{type:"ternary",attributes:o,handleDefaults:u,font:v.font,paper_bgcolor:v.paper_bgcolor})};function u(c,m,v,T){var h=v("bgcolor"),i=v("sum");T.bgColor=y.combine(h,T.paper_bgcolor);for(var p,w,A,L=0;L<n.length;L++)p=n[L],w=c[p]||{},A=D.newContainer(m,p),A._name=p,f(w,A,T,m);var x=m.aaxis,E=m.baxis,S=m.caxis;x.min+E.min+S.min>=i&&(x.min=0,E.min=0,S.min=0,c.aaxis&&delete c.aaxis.min,c.baxis&&delete c.baxis.min,c.caxis&&delete c.caxis.min)}function f(c,m,v,T){var h=o[m._name];function i(a,C){return s.coerce(c,m,h,a,C)}i("uirevision",T.uirevision),m.type="linear";var p=i("color"),w=p!==h.color.dflt?p:v.font.color,A=m._name,L=A.charAt(0).toUpperCase(),x="Component "+L,E=i("title.text",x);m._hovertitle=E===x?E:L,s.coerceFont(i,"title.font",v.font,{overrideDflt:{size:s.bigFont(v.font.size),color:w}}),i("min"),r(c,m,i,"linear"),d(c,m,i,"linear"),M(c,m,i,"linear",{noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0}),g(c,m,i,{outerTicks:!0});var S=i("showticklabels");S&&(s.coerceFont(i,"tickfont",v.font,{overrideDflt:{color:w}}),i("tickangle"),i("tickformat")),e(c,m,i,{dfltColor:p,bgColor:v.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h}),i("hoverformat"),i("layer")}},24696:function(W,G,t){var y=t(33428),D=t(49760),s=t(24040),P=t(3400),M=P.strTranslate,d=P._,g=t(76308),r=t(43616),e=t(78344),o=t(92880).extendFlat,n=t(7316),u=t(54460),f=t(86476),c=t(93024),m=t(72760),v=m.freeMode,T=m.rectMode,h=t(81668),i=t(22676).prepSelect,p=t(22676).selectOnClick,w=t(22676).clearOutline,A=t(22676).clearSelectionsCache,L=t(33816);function x(N,O){this.id=N.id,this.graphDiv=N.graphDiv,this.init(O),this.makeFramework(O),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}W.exports=x;var E=x.prototype;E.init=function(N){this.container=N._ternarylayer,this.defs=N._defs,this.layoutId=N._uid,this.traceHash={},this.layers={}},E.plot=function(N,O){var H=this,X=O[H.id],J=O._size;H._hasClipOnAxisFalse=!1;for(var et=0;et<N.length;et++){var it=N[et][0].trace;if(it.cliponaxis===!1){H._hasClipOnAxisFalse=!0;break}}H.updateLayers(X),H.adjustLayout(X,J),n.generalUpdatePerTraceModule(H.graphDiv,H,N,X),H.layers.plotbg.select("path").call(g.fill,X.bgcolor)},E.makeFramework=function(N){var O=this,H=O.graphDiv,X=N[O.id],J=O.clipId="clip"+O.layoutId+O.id,et=O.clipIdRelative="clip-relative"+O.layoutId+O.id;O.clipDef=P.ensureSingleById(N._clips,"clipPath",J,function(it){it.append("path").attr("d","M0,0Z")}),O.clipDefRelative=P.ensureSingleById(N._clips,"clipPath",et,function(it){it.append("path").attr("d","M0,0Z")}),O.plotContainer=P.ensureSingle(O.container,"g",O.id),O.updateLayers(X),r.setClipUrl(O.layers.backplot,J,H),r.setClipUrl(O.layers.grids,J,H)},E.updateLayers=function(N){var O=this,H=O.layers,X=["draglayer","plotbg","backplot","grids"];N.aaxis.layer==="below traces"&&X.push("aaxis","aline"),N.baxis.layer==="below traces"&&X.push("baxis","bline"),N.caxis.layer==="below traces"&&X.push("caxis","cline"),X.push("frontplot"),N.aaxis.layer==="above traces"&&X.push("aaxis","aline"),N.baxis.layer==="above traces"&&X.push("baxis","bline"),N.caxis.layer==="above traces"&&X.push("caxis","cline");var J=O.plotContainer.selectAll("g.toplevel").data(X,String),et=["agrid","bgrid","cgrid"];J.enter().append("g").attr("class",function(it){return"toplevel "+it}).each(function(it){var ft=y.select(this);H[it]=ft,it==="frontplot"?ft.append("g").classed("scatterlayer",!0):it==="backplot"?ft.append("g").classed("maplayer",!0):it==="plotbg"?ft.append("path").attr("d","M0,0Z"):it==="aline"||it==="bline"||it==="cline"?ft.append("path"):it==="grids"&&et.forEach(function(ot){H[ot]=ft.append("g").classed("grid "+ot,!0)})}),J.order()};var S=Math.sqrt(4/3);E.adjustLayout=function(N,O){var H=this,X=N.domain,J=(X.x[0]+X.x[1])/2,et=(X.y[0]+X.y[1])/2,it=X.x[1]-X.x[0],ft=X.y[1]-X.y[0],ot=it*O.w,Q=ft*O.h,tt=N.sum,Z=N.aaxis.min,q=N.baxis.min,ut=N.caxis.min,$,j,lt,nt,ht,mt;ot>S*Q?(nt=Q,lt=nt*S):(lt=ot,nt=lt/S),ht=it*lt/ot,mt=ft*nt/Q,$=O.l+O.w*J-lt/2,j=O.t+O.h*(1-et)-nt/2,H.x0=$,H.y0=j,H.w=lt,H.h=nt,H.sum=tt,H.xaxis={type:"linear",range:[Z+2*ut-tt,tt-Z-2*q],domain:[J-ht/2,J+ht/2],_id:"x"},e(H.xaxis,H.graphDiv._fullLayout),H.xaxis.setScale(),H.xaxis.isPtWithinRange=function(Wt){return Wt.a>=H.aaxis.range[0]&&Wt.a<=H.aaxis.range[1]&&Wt.b>=H.baxis.range[1]&&Wt.b<=H.baxis.range[0]&&Wt.c>=H.caxis.range[1]&&Wt.c<=H.caxis.range[0]},H.yaxis={type:"linear",range:[Z,tt-q-ut],domain:[et-mt/2,et+mt/2],_id:"y"},e(H.yaxis,H.graphDiv._fullLayout),H.yaxis.setScale(),H.yaxis.isPtWithinRange=function(){return!0};var At=H.yaxis.domain[0],bt=H.aaxis=o({},N.aaxis,{range:[Z,tt-q-ut],side:"left",tickangle:(+N.aaxis.tickangle||0)-30,domain:[At,At+mt*S],anchor:"free",position:0,_id:"y",_length:lt});e(bt,H.graphDiv._fullLayout),bt.setScale();var Pt=H.baxis=o({},N.baxis,{range:[tt-Z-ut,q],side:"bottom",domain:H.xaxis.domain,anchor:"free",position:0,_id:"x",_length:lt});e(Pt,H.graphDiv._fullLayout),Pt.setScale();var _t=H.caxis=o({},N.caxis,{range:[tt-Z-q,ut],side:"right",tickangle:(+N.caxis.tickangle||0)+30,domain:[At,At+mt*S],anchor:"free",position:0,_id:"y",_length:lt});e(_t,H.graphDiv._fullLayout),_t.setScale();var Ut="M"+$+","+(j+nt)+"h"+lt+"l-"+lt/2+",-"+nt+"Z";H.clipDef.select("path").attr("d",Ut),H.layers.plotbg.select("path").attr("d",Ut);var St="M0,"+nt+"h"+lt+"l-"+lt/2+",-"+nt+"Z";H.clipDefRelative.select("path").attr("d",St);var Rt=M($,j);H.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Rt),H.clipDefRelative.select("path").attr("transform",null);var Et=M($-Pt._offset,j+nt);H.layers.baxis.attr("transform",Et),H.layers.bgrid.attr("transform",Et);var zt=M($+lt/2,j)+"rotate(30)"+M(0,-bt._offset);H.layers.aaxis.attr("transform",zt),H.layers.agrid.attr("transform",zt);var Ct=M($+lt/2,j)+"rotate(-30)"+M(0,-_t._offset);H.layers.caxis.attr("transform",Ct),H.layers.cgrid.attr("transform",Ct),H.drawAxes(!0),H.layers.aline.select("path").attr("d",bt.showline?"M"+$+","+(j+nt)+"l"+lt/2+",-"+nt:"M0,0").call(g.stroke,bt.linecolor||"#000").style("stroke-width",(bt.linewidth||0)+"px"),H.layers.bline.select("path").attr("d",Pt.showline?"M"+$+","+(j+nt)+"h"+lt:"M0,0").call(g.stroke,Pt.linecolor||"#000").style("stroke-width",(Pt.linewidth||0)+"px"),H.layers.cline.select("path").attr("d",_t.showline?"M"+($+lt/2)+","+j+"l"+lt/2+","+nt:"M0,0").call(g.stroke,_t.linecolor||"#000").style("stroke-width",(_t.linewidth||0)+"px"),H.graphDiv._context.staticPlot||H.initInteractions(),r.setClipUrl(H.layers.frontplot,H._hasClipOnAxisFalse?null:H.clipId,H.graphDiv)},E.drawAxes=function(N){var O=this,H=O.graphDiv,X=O.id.substr(7)+"title",J=O.layers,et=O.aaxis,it=O.baxis,ft=O.caxis;if(O.drawAx(et),O.drawAx(it),O.drawAx(ft),N){var ot=Math.max(et.showticklabels?et.tickfont.size/2:0,(ft.showticklabels?ft.tickfont.size*.75:0)+(ft.ticks==="outside"?ft.ticklen*.87:0)),Q=(it.showticklabels?it.tickfont.size:0)+(it.ticks==="outside"?it.ticklen:0)+3;J["a-title"]=h.draw(H,"a"+X,{propContainer:et,propName:O.id+".aaxis.title",placeholder:d(H,"Click to enter Component A title"),attributes:{x:O.x0+O.w/2,y:O.y0-et.title.font.size/3-ot,"text-anchor":"middle"}}),J["b-title"]=h.draw(H,"b"+X,{propContainer:it,propName:O.id+".baxis.title",placeholder:d(H,"Click to enter Component B title"),attributes:{x:O.x0-Q,y:O.y0+O.h+it.title.font.size*.83+Q,"text-anchor":"middle"}}),J["c-title"]=h.draw(H,"c"+X,{propContainer:ft,propName:O.id+".caxis.title",placeholder:d(H,"Click to enter Component C title"),attributes:{x:O.x0+O.w+Q,y:O.y0+O.h+ft.title.font.size*.83+Q,"text-anchor":"middle"}})}},E.drawAx=function(N){var O=this,H=O.graphDiv,X=N._name,J=X.charAt(0),et=N._id,it=O.layers[X],ft=30,ot=J+"tickLayout",Q=a(N);O[ot]!==Q&&(it.selectAll("."+et+"tick").remove(),O[ot]=Q),N.setScale();var tt=u.calcTicks(N),Z=u.clipEnds(N,tt),q=u.makeTransTickFn(N),ut=u.getTickSigns(N)[2],$=P.deg2rad(ft),j=ut*(N.linewidth||1)/2,lt=ut*N.ticklen,nt=O.w,ht=O.h,mt=J==="b"?"M0,"+j+"l"+Math.sin($)*lt+","+Math.cos($)*lt:"M"+j+",0l"+Math.cos($)*lt+","+-Math.sin($)*lt,At={a:"M0,0l"+ht+",-"+nt/2,b:"M0,0l-"+nt/2+",-"+ht,c:"M0,0l-"+ht+","+nt/2}[J];u.drawTicks(H,N,{vals:N.ticks==="inside"?Z:tt,layer:it,path:mt,transFn:q,crisp:!1}),u.drawGrid(H,N,{vals:Z,layer:O.layers[J+"grid"],path:At,transFn:q,crisp:!1}),u.drawLabels(H,N,{vals:tt,layer:it,transFn:q,labelFns:u.makeLabelFns(N,0,ft)})};function a(N){return N.ticks+String(N.ticklen)+String(N.showticklabels)}var C=L.MINZOOM/2+.87,b="m-0.87,.5h"+C+"v3h-"+(C+5.2)+"l"+(C/2+2.6)+",-"+(C*.87+4.5)+"l2.6,1.5l-"+C/2+","+C*.87+"Z",z="m0.87,.5h-"+C+"v3h"+(C+5.2)+"l-"+(C/2+2.6)+",-"+(C*.87+4.5)+"l-2.6,1.5l"+C/2+","+C*.87+"Z",k="m0,1l"+C/2+","+C*.87+"l2.6,-1.5l-"+(C/2+2.6)+",-"+(C*.87+4.5)+"l-"+(C/2+2.6)+","+(C*.87+4.5)+"l2.6,1.5l"+C/2+",-"+C*.87+"Z",U="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",F=!0;E.clearOutline=function(){A(this.dragOptions),w(this.dragOptions.gd)},E.initInteractions=function(){var N=this,O=N.layers.plotbg.select("path").node(),H=N.graphDiv,X=H._fullLayout._zoomlayer,J,et;this.dragOptions={element:O,gd:H,plotinfo:{id:N.id,domain:H._fullLayout[N.id].domain,xaxis:N.xaxis,yaxis:N.yaxis},subplot:N.id,prepFn:function(Et,zt,Ct){N.dragOptions.xaxes=[N.xaxis],N.dragOptions.yaxes=[N.yaxis],J=H._fullLayout._invScaleX,et=H._fullLayout._invScaleY;var Wt=N.dragOptions.dragmode=H._fullLayout.dragmode;v(Wt)?N.dragOptions.minDrag=1:N.dragOptions.minDrag=void 0,Wt==="zoom"?(N.dragOptions.moveFn=Pt,N.dragOptions.clickFn=nt,N.dragOptions.doneFn=_t,ht(Et,zt,Ct)):Wt==="pan"?(N.dragOptions.moveFn=St,N.dragOptions.clickFn=nt,N.dragOptions.doneFn=Rt,Ut(),N.clearOutline(H)):(T(Wt)||v(Wt))&&i(Et,zt,Ct,N.dragOptions,Wt)}};var it,ft,ot,Q,tt,Z,q,ut,$,j;function lt(Et){var zt={};return zt[N.id+".aaxis.min"]=Et.a,zt[N.id+".baxis.min"]=Et.b,zt[N.id+".caxis.min"]=Et.c,zt}function nt(Et,zt){var Ct=H._fullLayout.clickmode;V(H),Et===2&&(H.emit("plotly_doubleclick",null),s.call("_guiRelayout",H,lt({a:0,b:0,c:0}))),Ct.indexOf("select")>-1&&Et===1&&p(zt,H,[N.xaxis],[N.yaxis],N.id,N.dragOptions),Ct.indexOf("event")>-1&&c.click(H,zt,N.id)}function ht(Et,zt,Ct){var Wt=O.getBoundingClientRect();it=zt-Wt.left,ft=Ct-Wt.top,H._fullLayout._calcInverseTransform(H);var Kt=H._fullLayout._invTransform,oe=P.apply3DTransform(Kt)(it,ft);it=oe[0],ft=oe[1],ot={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},tt=ot,Q=N.aaxis.range[1]-ot.a,Z=D(N.graphDiv._fullLayout[N.id].bgcolor).getLuminance(),q="M0,"+N.h+"L"+N.w/2+", 0L"+N.w+","+N.h+"Z",ut=!1,$=X.append("path").attr("class","zoombox").attr("transform",M(N.x0,N.y0)).style({fill:Z>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",q),j=X.append("path").attr("class","zoombox-corners").attr("transform",M(N.x0,N.y0)).style({fill:g.background,stroke:g.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),N.clearOutline(H)}function mt(Et,zt){return 1-zt/N.h}function At(Et,zt){return 1-(Et+(N.h-zt)/Math.sqrt(3))/N.w}function bt(Et,zt){return(Et-(N.h-zt)/Math.sqrt(3))/N.w}function Pt(Et,zt){var Ct=it+Et*J,Wt=ft+zt*et,Kt=Math.max(0,Math.min(1,mt(it,ft),mt(Ct,Wt))),oe=Math.max(0,Math.min(1,At(it,ft),At(Ct,Wt))),Jt=Math.max(0,Math.min(1,bt(it,ft),bt(Ct,Wt))),te=(Kt/2+Jt)*N.w,fe=(1-Kt/2-oe)*N.w,ve=(te+fe)/2,de=fe-te,xe=(1-Kt)*N.h,Me=xe-de/S;de<L.MINZOOM?(tt=ot,$.attr("d",q),j.attr("d","M0,0Z")):(tt={a:ot.a+Kt*Q,b:ot.b+oe*Q,c:ot.c+Jt*Q},$.attr("d",q+"M"+te+","+xe+"H"+fe+"L"+ve+","+Me+"L"+te+","+xe+"Z"),j.attr("d","M"+it+","+ft+U+"M"+te+","+xe+b+"M"+fe+","+xe+z+"M"+ve+","+Me+k)),ut||($.transition().style("fill",Z>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200),ut=!0),H.emit("plotly_relayouting",lt(tt))}function _t(){V(H),tt!==ot&&(s.call("_guiRelayout",H,lt(tt)),F&&H.data&&H._context.showTips&&(P.notifier(d(H,"Double-click to zoom back out"),"long"),F=!1))}function Ut(){ot={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},tt=ot}function St(Et,zt){var Ct=Et/N.xaxis._m,Wt=zt/N.yaxis._m;tt={a:ot.a-Wt,b:ot.b+(Ct+Wt)/2,c:ot.c-(Ct-Wt)/2};var Kt=[tt.a,tt.b,tt.c].sort(P.sorterAsc),oe={a:Kt.indexOf(tt.a),b:Kt.indexOf(tt.b),c:Kt.indexOf(tt.c)};Kt[0]<0&&(Kt[1]+Kt[0]/2<0?(Kt[2]+=Kt[0]+Kt[1],Kt[0]=Kt[1]=0):(Kt[2]+=Kt[0]/2,Kt[1]+=Kt[0]/2,Kt[0]=0),tt={a:Kt[oe.a],b:Kt[oe.b],c:Kt[oe.c]},zt=(ot.a-tt.a)*N.yaxis._m,Et=(ot.c-tt.c-ot.b+tt.b)*N.xaxis._m);var Jt=M(N.x0+Et,N.y0+zt);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Jt);var te=M(-Et,-zt);N.clipDefRelative.select("path").attr("transform",te),N.aaxis.range=[tt.a,N.sum-tt.b-tt.c],N.baxis.range=[N.sum-tt.a-tt.c,tt.b],N.caxis.range=[N.sum-tt.a-tt.b,tt.c],N.drawAxes(!1),N._hasClipOnAxisFalse&&N.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,N),H.emit("plotly_relayouting",lt(tt))}function Rt(){s.call("_guiRelayout",H,lt(tt))}O.onmousemove=function(Et){c.hover(H,Et,N.id),H._fullLayout._lasthover=O,H._fullLayout._hoversubplot=N.id},O.onmouseout=function(Et){H._dragging||f.unhover(H,Et)},f.init(this.dragOptions)};function V(N){y.select(N).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(W,G,t){var y=t(24248),D=t(16628),s=t(52416),P=t(63620),M=t(52200).addStyleRule,d=t(92880),g=t(45464),r=t(64859),e=d.extendFlat,o=d.extendDeepAll;G.modules={},G.allCategories={},G.allTypes=[],G.subplotsRegistry={},G.transformsRegistry={},G.componentsRegistry={},G.layoutArrayContainers=[],G.layoutArrayRegexes=[],G.traceLayoutAttributes={},G.localeRegistry={},G.apiMethodRegistry={},G.collectableSubplotTypes=null,G.register=function(A){if(G.collectableSubplotTypes=null,A)A&&!Array.isArray(A)&&(A=[A]);else throw new Error("No argument passed to Plotly.register.");for(var L=0;L<A.length;L++){var x=A[L];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":n(x);break;case"transform":c(x);break;case"component":f(x);break;case"locale":m(x);break;case"apiMethod":var E=x.name;G.apiMethodRegistry[E]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},G.getModule=function(w){var A=G.modules[p(w)];return A?A._module:!1},G.traceIs=function(w,A){if(w=p(w),w==="various")return!1;var L=G.modules[w];return L||(w&&y.log("Unrecognized trace type "+w+"."),L=G.modules[g.type.dflt]),!!L.categories[A]},G.getTransformIndices=function(w,A){for(var L=[],x=w.transforms||[],E=0;E<x.length;E++)x[E].type===A&&L.push(E);return L},G.hasTransform=function(w,A){for(var L=w.transforms||[],x=0;x<L.length;x++)if(L[x].type===A)return!0;return!1},G.getComponentMethod=function(w,A){var L=G.componentsRegistry[w];return L&&L[A]||D},G.call=function(){var w=arguments[0],A=[].slice.call(arguments,1);return G.apiMethodRegistry[w].apply(null,A)};function n(w){var A=w.name,L=w.categories,x=w.meta;if(G.modules[A]){y.log("Type "+A+" already registered");return}G.subplotsRegistry[w.basePlotModule.name]||u(w.basePlotModule);for(var E={},S=0;S<L.length;S++)E[L[S]]=!0,G.allCategories[L[S]]=!0;G.modules[A]={_module:w,categories:E},x&&Object.keys(x).length&&(G.modules[A].meta=x),G.allTypes.push(A);for(var a in G.componentsRegistry)T(a,A);w.layoutAttributes&&e(G.traceLayoutAttributes,w.layoutAttributes);var C=w.basePlotModule,b=C.name;if(b==="mapbox"){var z=C.constants.styleRules;for(var k in z)M(".js-plotly-plot .plotly .mapboxgl-"+k,z[k])}(b==="geo"||b==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function u(w){var A=w.name;if(G.subplotsRegistry[A]){y.log("Plot type "+A+" already registered.");return}v(w),G.subplotsRegistry[A]=w;for(var L in G.componentsRegistry)i(L,w.name)}function f(w){if(typeof w.name!="string")throw new Error("Component module *name* must be a string.");var A=w.name;G.componentsRegistry[A]=w,w.layoutAttributes&&(w.layoutAttributes._isLinkedToArray&&s(G.layoutArrayContainers,A),v(w));for(var L in G.modules)T(A,L);for(var x in G.subplotsRegistry)i(A,x);for(var E in G.transformsRegistry)h(A,E);w.schema&&w.schema.layout&&o(r,w.schema.layout)}function c(w){if(typeof w.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+w.name,L=typeof w.transform=="function",x=typeof w.calcTransform=="function";if(!L&&!x)throw new Error(A+" is missing a *transform* or *calcTransform* method.");L&&x&&y.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),P(w.attributes)||y.log(A+" registered without an *attributes* object."),typeof w.supplyDefaults!="function"&&y.log(A+" registered without a *supplyDefaults* method."),G.transformsRegistry[w.name]=w;for(var E in G.componentsRegistry)h(E,w.name)}function m(w){var A=w.name,L=A.split("-")[0],x=w.dictionary,E=w.format,S=x&&Object.keys(x).length,a=E&&Object.keys(E).length,C=G.localeRegistry,b=C[A];if(b||(C[A]=b={}),L!==A){var z=C[L];z||(C[L]=z={}),S&&z.dictionary===b.dictionary&&(z.dictionary=x),a&&z.format===b.format&&(z.format=E)}S&&(b.dictionary=x),a&&(b.format=E)}function v(w){if(w.layoutAttributes){var A=w.layoutAttributes._arrayAttrRegexps;if(A)for(var L=0;L<A.length;L++)s(G.layoutArrayRegexes,A[L])}}function T(w,A){var L=G.componentsRegistry[w].schema;if(!(!L||!L.traces)){var x=L.traces[A];x&&o(G.modules[A]._module.attributes,x)}}function h(w,A){var L=G.componentsRegistry[w].schema;if(!(!L||!L.transforms)){var x=L.transforms[A];x&&o(G.transformsRegistry[A].attributes,x)}}function i(w,A){var L=G.componentsRegistry[w].schema;if(!(!L||!L.subplots)){var x=G.subplotsRegistry[A],E=x.layoutAttributes,S=x.attr==="subplot"?x.name:x.attr;Array.isArray(S)&&(S=S[0]);var a=L.subplots[S];E&&a&&o(E,a)}}function p(w){return typeof w=="object"&&(w=w.type),w}},91536:function(W,G,t){var y=t(24040),D=t(3400),s=D.extendFlat,P=D.extendDeep;function M(g){var r;switch(g){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function d(g){var r=["xaxis","yaxis","zaxis"];return r.indexOf(g.slice(0,5))>-1}W.exports=function(r,e){var o,n=r.data,u=r.layout,f=P([],n),c=P({},u,M(e.tileClass)),m=r._context||{};if(e.width&&(c.width=e.width),e.height&&(c.height=e.height),e.tileClass==="thumbnail"||e.tileClass==="themes__thumb"){c.annotations=[];var v=Object.keys(c);for(o=0;o<v.length;o++)d(v[o])&&(c[v[o]].title={text:""});for(o=0;o<f.length;o++){var T=f[o];T.showscale=!1,T.marker&&(T.marker.showscale=!1),y.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(e.annotations))for(o=0;o<e.annotations.length;o++)c.annotations.push(e.annotations[o]);var h=Object.keys(c).filter(function(L){return L.match(/^scene\d*$/)});if(h.length){var i={};for(e.tileClass==="thumbnail"&&(i={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),o=0;o<h.length;o++){var p=c[h[o]];p.xaxis||(p.xaxis={}),p.yaxis||(p.yaxis={}),p.zaxis||(p.zaxis={}),s(p.xaxis,i),s(p.yaxis,i),s(p.zaxis,i),p._scene=null}}var w=document.createElement("div");e.tileClass&&(w.className=e.tileClass);var A={gd:w,td:w,layout:c,data:f,config:{staticPlot:e.staticPlot===void 0?!0:e.staticPlot,plotGlPixelRatio:e.plotGlPixelRatio===void 0?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return e.setBackground!=="transparent"&&(A.config.setBackground=e.setBackground||"opaque"),A.gd.defaultLayout=M(e.tileClass),A}},39792:function(W,G,t){var y=t(3400),D=t(67024),s=t(48616),P=t(81792);function M(d,g){var r;return y.isPlainObject(d)||(r=y.getGraphDiv(d)),g=g||{},g.format=g.format||"png",g.width=g.width||null,g.height=g.height||null,g.imageDataOnly=!0,new Promise(function(e,o){r&&r._snapshotInProgress&&o(new Error("Snapshotting already in progress.")),y.isIE()&&g.format!=="svg"&&o(new Error(P.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=D(d,g),u=g.filename||d.fn||"newplot";u+="."+g.format.replace("-","."),n.then(function(f){return r&&(r._snapshotInProgress=!1),s(f,u,g.format)}).then(function(f){e(f)}).catch(function(f){r&&(r._snapshotInProgress=!1),o(f)})})}W.exports=M},48616:function(W,G,t){var y=t(3400),D=t(81792);function s(P,M,d){var g=document.createElement("a"),r="download"in g,e=new Promise(function(o,n){var u,f;if(y.isIE())return u=D.createBlob(P,"svg"),window.navigator.msSaveBlob(u,M),u=null,o(M);if(r)return u=D.createBlob(P,d),f=D.createObjectURL(u),g.href=f,g.download=M,document.body.appendChild(g),g.click(),document.body.removeChild(g),D.revokeObjectURL(f),u=null,o(M);if(y.isSafari()){var c=d==="svg"?",":";base64,";return D.octetStream(c+encodeURIComponent(P)),o(M)}n(new Error("download error"))});return e}W.exports=s},81792:function(W,G,t){var y=t(24040);G.getDelay=function(P){return P._has&&(P._has("gl3d")||P._has("gl2d")||P._has("mapbox"))?500:0},G.getRedrawFunc=function(P){return function(){y.getComponentMethod("colorbar","draw")(P)}},G.encodeSVG=function(P){return"data:image/svg+xml,"+encodeURIComponent(P)},G.encodeJSON=function(P){return"data:application/json,"+encodeURIComponent(P)};var D=window.URL||window.webkitURL;G.createObjectURL=function(P){return D.createObjectURL(P)},G.revokeObjectURL=function(P){return D.revokeObjectURL(P)},G.createBlob=function(P,M){if(M==="svg")return new window.Blob([P],{type:"image/svg+xml;charset=utf-8"});if(M==="full-json")return new window.Blob([P],{type:"application/json;charset=utf-8"});var d=s(window.atob(P));return new window.Blob([d],{type:"image/"+M})},G.octetStream=function(P){document.location.href="data:application/octet-stream"+P};function s(P){for(var M=P.length,d=new ArrayBuffer(M),g=new Uint8Array(d),r=0;r<M;r++)g[r]=P.charCodeAt(r);return d}G.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,G.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(W,G,t){var y=t(81792),D={getDelay:y.getDelay,getRedrawFunc:y.getRedrawFunc,clone:t(91536),toSVG:t(37164),svgToImg:t(63268),toImage:t(61808),downloadImage:t(39792)};W.exports=D},63268:function(W,G,t){var y=t(3400),D=t(61252).EventEmitter,s=t(81792);function P(M){var d=M.emitter||new D,g=new Promise(function(r,e){var o=window.Image,n=M.svg,u=M.format||"png";if(y.isIE()&&u!=="svg"){var f=new Error(s.MSG_IE_BAD_FORMAT);return e(f),M.promise?g:d.emit("error",f)}var c=M.canvas,m=M.scale||1,v=M.width||300,T=M.height||150,h=m*v,i=m*T,p=c.getContext("2d",{willReadFrequently:!0}),w=new o,A,L;u==="svg"||y.isSafari()?L=s.encodeSVG(n):(A=s.createBlob(n,"svg"),L=s.createObjectURL(A)),c.width=h,c.height=i,w.onload=function(){var x;switch(A=null,s.revokeObjectURL(L),u!=="svg"&&p.drawImage(w,0,0,h,i),u){case"jpeg":x=c.toDataURL("image/jpeg");break;case"png":x=c.toDataURL("image/png");break;case"webp":x=c.toDataURL("image/webp");break;case"svg":x=L;break;default:var E="Image format is not jpeg, png, svg or webp.";if(e(new Error(E)),!M.promise)return d.emit("error",E)}r(x),M.promise||d.emit("success",x)},w.onerror=function(x){if(A=null,s.revokeObjectURL(L),e(x),!M.promise)return d.emit("error",x)},w.src=L});return M.promise?g:d}W.exports=P},61808:function(W,G,t){var y=t(61252).EventEmitter,D=t(24040),s=t(3400),P=t(81792),M=t(91536),d=t(37164),g=t(63268);function r(e,o){var n=new y,u=M(e,{format:"png"}),f=u.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);function c(){var v=P.getDelay(f._fullLayout);setTimeout(function(){var T=d(f),h=document.createElement("canvas");h.id=s.randstr(),n=g({format:o.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:h,emitter:n,svg:T}),n.clean=function(){f&&document.body.removeChild(f)}},v)}var m=P.getRedrawFunc(f);return D.call("_doPlot",f,u.data,u.layout,u.config).then(m).then(c).catch(function(v){n.emit("error",v)}),n}W.exports=r},37164:function(W,G,t){var y=t(33428),D=t(3400),s=t(43616),P=t(76308),M=t(9616),d=/"/g,g="TOBESTRIPPED",r=new RegExp('("'+g+")|("+g+'")',"g");function e(n){var u=y.select("body").append("div").style({display:"none"}).html(""),f=n.replace(/(&[^;]*;)/gi,function(c){return c==="&lt;"?"&#60;":c==="&rt;"?"&#62;":c.indexOf("<")!==-1||c.indexOf(">")!==-1?"":u.html(c).text()});return u.remove(),f}function o(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}W.exports=function(u,f,c){var m=u._fullLayout,v=m._paper,T=m._toppaper,h=m.width,i=m.height,p;v.insert("rect",":first-child").call(s.setRect,0,0,h,i).call(P.fill,m.paper_bgcolor);var w=m._basePlotModules||[];for(p=0;p<w.length;p++){var A=w[p];A.toSVG&&A.toSVG(u)}if(T){var L=T.node().childNodes,x=Array.prototype.slice.call(L);for(p=0;p<x.length;p++){var E=x[p];E.childNodes.length&&v.node().appendChild(E)}}m._draggers&&m._draggers.remove(),v.node().style.background="",v.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var a=y.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){a.remove();return}else a.style({visibility:null,display:null});var C=this.style.fontFamily;C&&C.indexOf('"')!==-1&&a.style("font-family",C.replace(d,g));var b=this.style.fontWeight;b&&(b==="normal"||b==="400")&&a.style("font-weight",void 0);var z=this.style.fontStyle;z&&z==="normal"&&a.style("font-style",void 0);var k=this.style.fontVariant;k&&k==="normal"&&a.style("font-variant",void 0)}),v.selectAll(".gradient_filled,.pattern_filled").each(function(){var a=y.select(this),C=this.style.fill;C&&C.indexOf("url(")!==-1&&a.style("fill",C.replace(d,g));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&a.style("stroke",b.replace(d,g))}),(f==="pdf"||f==="eps")&&v.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),v.node().setAttributeNS(M.xmlns,"xmlns",M.svg),v.node().setAttributeNS(M.xmlns,"xmlns:xlink",M.xlink),f==="svg"&&c&&(v.attr("width",c*h),v.attr("height",c*i),v.attr("viewBox","0 0 "+h+" "+i));var S=new window.XMLSerializer().serializeToString(v.node());return S=e(S),S=o(S),S=S.replace(r,"'"),D.isIE()&&(S=S.replace(/"/gi,"'"),S=S.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),S=S.replace(/(\\')/gi,'"')),S}},84664:function(W,G,t){var y=t(3400);W.exports=function(s,P){for(var M=0;M<s.length;M++)s[M].i=M;y.mergeArray(P.text,s,"tx"),y.mergeArray(P.hovertext,s,"htx");var d=P.marker;if(d){y.mergeArray(d.opacity,s,"mo",!0),y.mergeArray(d.color,s,"mc");var g=d.line;g&&(y.mergeArray(g.color,s,"mlc"),y.mergeArrayCastPositive(g.width,s,"mlw"))}}},20832:function(W,G,t){var y=t(52904),D=t(29736).axisHoverFormat,s=t(21776).Ks,P=t(21776).Gw,M=t(49084),d=t(25376),g=t(78048),r=t(98192).c,e=t(92880).extendFlat,o=d({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=y.marker,u=n.line,f=e({},u.width,{dflt:0}),c=e({width:f,editType:"calc"},M("marker.line")),m=e({line:c,editType:"calc"},M("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});W.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:D("x"),yhoverformat:D("y"),text:y.text,texttemplate:P({editType:"plot"},{keys:g.eventDataKeys}),hovertext:y.hovertext,hovertemplate:s({},{keys:g.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:e({},o,{}),insidetextfont:e({},o,{}),outsidetextfont:e({},o,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:e({},y.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:{marker:{opacity:y.selected.marker.opacity,color:y.selected.marker.color,editType:"style"},textfont:y.selected.textfont,editType:"style"},unselected:{marker:{opacity:y.unselected.marker.opacity,color:y.unselected.marker.color,editType:"style"},textfont:y.unselected.textfont,editType:"style"},zorder:y.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(W,G,t){var y=t(54460),D=t(1220),s=t(94288).hasColorscale,P=t(47128),M=t(84664),d=t(4500);W.exports=function(r,e){var o=y.getFromId(r,e.xaxis||"x"),n=y.getFromId(r,e.yaxis||"y"),u,f,c,m,v,T,h={msUTC:!!(e.base||e.base===0)};e.orientation==="h"?(u=o.makeCalcdata(e,"x",h),c=n.makeCalcdata(e,"y"),m=D(e,n,"y",c),v=!!e.yperiodalignment,T="y"):(u=n.makeCalcdata(e,"y",h),c=o.makeCalcdata(e,"x"),m=D(e,o,"x",c),v=!!e.xperiodalignment,T="x"),f=m.vals;for(var i=Math.min(f.length,u.length),p=new Array(i),w=0;w<i;w++)p[w]={p:f[w],s:u[w]},v&&(p[w].orig_p=c[w],p[w][T+"End"]=m.ends[w],p[w][T+"Start"]=m.starts[w]),e.ids&&(p[w].id=String(e.ids[w]));return s(e,"marker")&&P(r,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),s(e,"marker.line")&&P(r,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(p,e),d(p,e),p}},78048:function(W){W.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(W,G,t){var y=t(38248),D=t(3400).isArrayOrTypedArray,s=t(39032).BADNUM,P=t(24040),M=t(54460),d=t(71888).getAxisGroup,g=t(72592);function r(b,z){for(var k=z.xaxis,U=z.yaxis,F=b._fullLayout,V=b._fullData,N=b.calcdata,O=[],H=[],X=0;X<V.length;X++){var J=V[X];if(J.visible===!0&&P.traceIs(J,"bar")&&J.xaxis===k._id&&J.yaxis===U._id&&(J.orientation==="h"?O.push(N[X]):H.push(N[X]),J._computePh))for(var et=b.calcdata[X],it=0;it<et.length;it++)typeof et[it].ph0=="function"&&(et[it].ph0=et[it].ph0()),typeof et[it].ph1=="function"&&(et[it].ph1=et[it].ph1())}var ft={xCat:k.type==="category"||k.type==="multicategory",yCat:U.type==="category"||U.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};e(b,k,U,H,ft),e(b,U,k,O,ft)}function e(b,z,k,U,F){if(U.length){var V,N,O,H,X;switch(u(k,U),F.mode){case"overlay":f(z,k,U,F);break;case"group":for(V=[],N=[],O=0;O<U.length;O++)H=U[O],X=H[0].trace,X.offset===void 0?N.push(H):V.push(H);N.length&&c(b,z,k,N,F),V.length&&f(z,k,V,F);break;case"stack":case"relative":for(V=[],N=[],O=0;O<U.length;O++)H=U[O],X=H[0].trace,X.base===void 0?N.push(H):V.push(H);n(N),N.length&&m(b,z,k,N,F),V.length&&f(z,k,V,F);break}o(U),a(U,z)}}function o(b){var z,k,U,F,V,N,O;for(z=0;z<b.length;z++)k=b[z],U=k[0].trace,F=k[0].t,F.cornerradiusvalue===void 0&&(V=U.marker?U.marker.cornerradius:void 0,V!==void 0&&(N=y(V)?+V:+V.slice(0,-1),O=y(V)?"px":"%",F.cornerradiusvalue=N,F.cornerradiusform=O))}function n(b){if(!(b.length<2)){var z,k,U,F,V,N,O;for(z=0;z<b.length&&(k=b[z],U=k[0].trace,V=U.marker?U.marker.cornerradius:void 0,V===void 0);z++);if(V!==void 0)for(N=y(V)?+V:+V.slice(0,-1),O=y(V)?"px":"%",z=0;z<b.length;z++)k=b[z],F=k[0].t,F.cornerradiusvalue=N,F.cornerradiusform=O}}function u(b,z){var k,U;for(k=0;k<z.length;k++){var F=z[k],V=F[0].trace,N=V.type==="funnel"?V._base:V.base,O,H=V.orientation==="h"?V.xcalendar:V.ycalendar,X=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(D(N)){for(U=0;U<Math.min(N.length,F.length);U++)O=X(N[U],0,H),y(O)?(F[U].b=+O,F[U].hasB=1):F[U].b=0;for(;U<F.length;U++)F[U].b=0}else{O=X(N,0,H);var J=y(O);for(O=J?O:0,U=0;U<F.length;U++)F[U].b=O,J&&(F[U].hasB=1)}}}function f(b,z,k,U){for(var F=0;F<k.length;F++){var V=k[F],N=new g([V],{posAxis:b,sepNegVal:!1,overlapNoMerge:!U.norm});v(b,N,U),U.norm?(L(N),E(z,N,U)):w(z,N)}}function c(b,z,k,U,F){var V=new g(U,{posAxis:z,sepNegVal:!1,overlapNoMerge:!F.norm});T(b,z,V,F),x(V,z),F.norm?(L(V),E(k,V,F)):w(k,V)}function m(b,z,k,U,F){var V=new g(U,{posAxis:z,sepNegVal:F.mode==="relative",overlapNoMerge:!(F.norm||F.mode==="stack"||F.mode==="relative")});v(z,V,F),A(k,V,F);for(var N=0;N<U.length;N++)for(var O=U[N],H=0;H<O.length;H++){var X=O[H];if(X.s!==s){var J=X.b+X.s===V.get(X.p,X.s);J&&(X._outmost=!0)}}F.norm&&E(k,V,F)}function v(b,z,k){for(var U=z.minDiff,F=z.traces,V=U*(1-k.gap),N=V,O=N*(1-(k.groupgap||0)),H=-O/2,X=0;X<F.length;X++){var J=F[X],et=J[0].t;et.barwidth=O,et.poffset=H,et.bargroupwidth=V,et.bardelta=U}z.binWidth=F[0][0].t.barwidth/100,h(z),i(b,z),p(b,z)}function T(b,z,k,U){for(var F=b._fullLayout,V=k.positions,N=k.distinctPositions,O=k.minDiff,H=k.traces,X=H.length,J=V.length!==N.length,et=O*(1-U.gap),it=d(F,z._id)+H[0][0].trace.orientation,ft=F._alignmentOpts[it]||{},ot=0;ot<X;ot++){var Q=H[ot],tt=Q[0].trace,Z=ft[tt.alignmentgroup]||{},q=Object.keys(Z.offsetGroups||{}).length,ut;q?ut=et/q:ut=J?et/X:et;var $=ut*(1-(U.groupgap||0)),j;q?j=((2*tt._offsetIndex+1-q)*ut-$)/2:j=J?((2*ot+1-X)*ut-$)/2:-$/2;var lt=Q[0].t;lt.barwidth=$,lt.poffset=j,lt.bargroupwidth=et,lt.bardelta=O}k.binWidth=H[0][0].t.barwidth/100,h(k),i(z,k),p(z,k,J)}function h(b){var z=b.traces,k,U;for(k=0;k<z.length;k++){var F=z[k],V=F[0],N=V.trace,O=V.t,H=N._offset||N.offset,X=O.poffset,J;if(D(H)){for(J=Array.prototype.slice.call(H,0,F.length),U=0;U<J.length;U++)y(J[U])||(J[U]=X);for(U=J.length;U<F.length;U++)J.push(X);O.poffset=J}else H!==void 0&&(O.poffset=H);var et=N._width||N.width,it=O.barwidth;if(D(et)){var ft=Array.prototype.slice.call(et,0,F.length);for(U=0;U<ft.length;U++)y(ft[U])||(ft[U]=it);for(U=ft.length;U<F.length;U++)ft.push(it);if(O.barwidth=ft,H===void 0){for(J=[],U=0;U<F.length;U++)J.push(X+(it-ft[U])/2);O.poffset=J}}else et!==void 0&&(O.barwidth=et,H===void 0&&(O.poffset=X+(it-et)/2))}}function i(b,z){for(var k=z.traces,U=C(b),F=0;F<k.length;F++)for(var V=k[F],N=V[0].t,O=N.poffset,H=D(O),X=N.barwidth,J=D(X),et=0;et<V.length;et++){var it=V[et],ft=it.w=J?X[et]:X;it.p===void 0&&(it.p=it[U],it["orig_"+U]=it[U]);var ot=(H?O[et]:O)+ft/2;it[U]=it.p+ot}}function p(b,z,k){var U=z.traces,F=z.minDiff,V=F/2;M.minDtick(b,z.minDiff,z.distinctPositions[0],k);for(var N=0;N<U.length;N++){var O=U[N],H=O[0],X=H.trace,J=[],et,it,ft,ot;for(ot=0;ot<O.length;ot++)et=O[ot],it=et.p-V,ft=et.p+V,J.push(it,ft);if(X.width||X.offset){var Q=H.t,tt=Q.poffset,Z=Q.barwidth,q=D(tt),ut=D(Z);for(ot=0;ot<O.length;ot++){et=O[ot];var $=q?tt[ot]:tt,j=ut?Z[ot]:Z;it=et.p+$,ft=it+j,J.push(it,ft)}}X._extremes[b._id]=M.findExtremes(b,J,{padded:!1})}}function w(b,z){for(var k=z.traces,U=C(b),F=0;F<k.length;F++){for(var V=k[F],N=V[0].trace,O=N.type==="scatter",H=N.orientation==="v",X=[],J=!1,et=0;et<V.length;et++){var it=V[et],ft=O?0:it.b,ot=O?H?it.y:it.x:ft+it.s;it[U]=ot,X.push(ot),it.hasB&&X.push(ft),(!it.hasB||!it.b)&&(J=!0)}N._extremes[b._id]=M.findExtremes(b,X,{tozero:J,padded:!0})}}function A(b,z,k){var U=C(b),F=z.traces,V,N,O,H,X,J;for(H=0;H<F.length;H++)if(V=F[H],N=V[0].trace,N.type==="funnel")for(X=0;X<V.length;X++)J=V[X],J.s!==s&&z.put(J.p,-.5*J.s);for(H=0;H<F.length;H++){V=F[H],N=V[0].trace,O=N.type==="funnel";var et=[];for(X=0;X<V.length;X++)if(J=V[X],J.s!==s){var it;O?it=J.s:it=J.s+J.b;var ft=z.put(J.p,it),ot=ft+it;J.b=ft,J[U]=ot,k.norm||(et.push(ot),J.hasB&&et.push(ft))}k.norm||(N._extremes[b._id]=M.findExtremes(b,et,{tozero:!0,padded:!0}))}}function L(b){for(var z=b.traces,k=0;k<z.length;k++)for(var U=z[k],F=0;F<U.length;F++){var V=U[F];V.s!==s&&b.put(V.p,V.b+V.s)}}function x(b,z){for(var k=b.traces,U=0;U<k.length;U++){var F=k[U],V=F[0].trace;if(V.base===void 0)for(var N=new g([F],{posAxis:z,sepNegVal:!0,overlapNoMerge:!0}),O=0;O<F.length;O++){var H=F[O];if(H.p!==s){var X=N.put(H.p,H.b+H.s);X&&(H.b=X)}}}}function E(b,z,k){var U=z.traces,F=C(b),V=k.norm==="fraction"?1:100,N=V/1e9,O=b.l2c(b.c2l(0)),H=k.mode==="stack"?V:O;function X(j){return y(b.c2l(j))&&(j<O-N||j>H+N||!y(O))}for(var J=0;J<U.length;J++){for(var et=U[J],it=et[0].trace,ft=[],ot=!1,Q=!1,tt=0;tt<et.length;tt++){var Z=et[tt];if(Z.s!==s){var q=Math.abs(V/z.get(Z.p,Z.s));Z.b*=q,Z.s*=q;var ut=Z.b,$=ut+Z.s;Z[F]=$,ft.push($),Q=Q||X($),Z.hasB&&(ft.push(ut),Q=Q||X(ut)),(!Z.hasB||!Z.b)&&(ot=!0)}}it._extremes[b._id]=M.findExtremes(b,ft,{tozero:ot,padded:Q})}}function S(b,z,k,U){for(var F=C(U),V=0;V<b.length;V++)for(var N=b[V],O=0;O<N.length;O++){var H=N[O],X=H[F];H._sMin=z[X],H._sMax=k[X]}}function a(b,z){var k=C(z),U={},F,V,N,O=1/0,H=-1/0;for(F=0;F<b.length;F++)for(N=b[F],V=0;V<N.length;V++){var X=N[V].p;y(X)&&(O=Math.min(O,X),H=Math.max(H,X))}var J=1e4/(H-O),et=U.round=function(ht){return String(Math.round(J*(ht-O)))},it={},ft={},ot=b.some(function(ht){var mt=ht[0].trace;return"marker"in mt&&mt.marker.cornerradius});for(F=0;F<b.length;F++){N=b[F],N[0].t.extents=U;var Q=N[0].t.poffset,tt=D(Q);for(V=0;V<N.length;V++){var Z=N[V],q=Z[k]-Z.w/2;if(y(q)){var ut=Z[k]+Z.w/2,$=et(Z.p);U[$]?U[$]=[Math.min(q,U[$][0]),Math.max(ut,U[$][1])]:U[$]=[q,ut]}if(Z.p0=Z.p+(tt?Q[V]:Q),Z.p1=Z.p0+Z.w,Z.s0=Z.b,Z.s1=Z.s0+Z.s,ot){var j=Math.min(Z.s0,Z.s1)||0,lt=Math.max(Z.s0,Z.s1)||0,nt=Z[k];it[nt]=nt in it?Math.min(it[nt],j):j,ft[nt]=nt in ft?Math.max(ft[nt],lt):lt}}}ot&&S(b,it,ft,z)}function C(b){return b._id.charAt(0)}W.exports={crossTraceCalc:r,setGroupPositions:e}},31508:function(W,G,t){var y=t(38248),D=t(3400),s=t(76308),P=t(24040),M=t(43980),d=t(31147),g=t(55592),r=t(20011),e=t(20832),o=D.coerceFont;function n(m,v,T,h){function i(x,E){return D.coerce(m,v,e,x,E)}var p=M(m,v,h,i);if(!p){v.visible=!1;return}d(m,v,h,i),i("xhoverformat"),i("yhoverformat"),i("zorder"),i("orientation",v.x&&!v.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var w=i("textposition");c(m,v,h,i,w,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),g(m,v,i,T,h);var A=(v.marker.line||{}).color,L=P.getComponentMethod("errorbars","supplyDefaults");L(m,v,A||s.defaultLine,{axis:"y"}),L(m,v,A||s.defaultLine,{axis:"x",inherit:"y"}),D.coerceSelectionMarkerOpacity(v,i)}function u(m,v){var T,h;function i(A,L){return D.coerce(h._input,h,e,A,L)}for(var p=0;p<m.length;p++)if(h=m[p],h.type==="bar"){T=h._input;var w=i("marker.cornerradius",v.barcornerradius);h.marker&&(h.marker.cornerradius=f(w)),v.barmode==="group"&&r(T,h,v,i)}}function f(m){if(y(m)){if(m=+m,m>=0)return m}else if(typeof m=="string"&&(m=m.trim(),m.slice(-1)==="%"&&y(m.slice(0,-1))&&(m=+m.slice(0,-1),m>=0)))return m+"%"}function c(m,v,T,h,i,p){p=p||{};var w=p.moduleHasSelected!==!1,A=p.moduleHasUnselected!==!1,L=p.moduleHasConstrain!==!1,x=p.moduleHasCliponaxis!==!1,E=p.moduleHasTextangle!==!1,S=p.moduleHasInsideanchor!==!1,a=!!p.hasPathbar,C=Array.isArray(i)||i==="auto",b=C||i==="inside",z=C||i==="outside";if(b||z){var k=o(h,"textfont",T.font),U=D.extendFlat({},k),F=m.textfont&&m.textfont.color,V=!F;if(V&&delete U.color,o(h,"insidetextfont",U),a){var N=D.extendFlat({},k);V&&delete N.color,o(h,"pathbar.textfont",N)}z&&o(h,"outsidetextfont",k),w&&h("selected.textfont.color"),A&&h("unselected.textfont.color"),L&&h("constraintext"),x&&h("cliponaxis"),E&&h("textangle"),h("texttemplate")}b&&S&&h("insidetextanchor")}W.exports={supplyDefaults:n,crossTraceDefaults:u,handleText:c,validateCornerradius:f}},52160:function(W){W.exports=function(t,y,D){return t.x="xVal"in y?y.xVal:y.x,t.y="yVal"in y?y.yVal:y.y,y.xa&&(t.xaxis=y.xa),y.ya&&(t.yaxis=y.ya),D.orientation==="h"?(t.label=t.y,t.value=t.x):(t.label=t.x,t.value=t.y),t}},60444:function(W,G,t){var y=t(38248),D=t(49760),s=t(3400).isArrayOrTypedArray;G.coerceString=function(P,M,d){if(typeof M=="string"){if(M||!P.noBlank)return M}else if((typeof M=="number"||M===!0)&&!P.strict)return String(M);return d!==void 0?d:P.dflt},G.coerceNumber=function(P,M,d){if(y(M)){M=+M;var g=P.min,r=P.max,e=g!==void 0&&M<g||r!==void 0&&M>r;if(!e)return M}return d!==void 0?d:P.dflt},G.coerceColor=function(P,M,d){return D(M).isValid()?M:d!==void 0?d:P.dflt},G.coerceEnumerated=function(P,M,d){return P.coerceNumber&&(M=+M),P.values.indexOf(M)!==-1?M:d!==void 0?d:P.dflt},G.getValue=function(P,M){var d;return s(P)?M<P.length&&(d=P[M]):d=P,d},G.getLineWidth=function(P,M){var d=0<M.mlw?M.mlw:s(P.marker.line.width)?0:P.marker.line.width;return d}},63400:function(W,G,t){var y=t(93024),D=t(24040),s=t(76308),P=t(3400).fillText,M=t(60444).getLineWidth,d=t(54460).hoverLabelText,g=t(39032).BADNUM;function r(n,u,f,c,m){var v=e(n,u,f,c,m);if(v){var T=v.cd,h=T[0].trace,i=T[v.index];return v.color=o(h,i),D.getComponentMethod("errorbars","hoverInfo")(i,h,v),[v]}}function e(n,u,f,c,m){var v=n.cd,T=v[0].trace,h=v[0].t,i=c==="closest",p=T.type==="waterfall",w=n.maxHoverDistance,A=n.maxSpikeDistance,L,x,E,S,a,C,b;T.orientation==="h"?(L=f,x=u,E="y",S="x",a=ft,C=J):(L=u,x=f,E="x",S="y",C=ft,a=J);var z=T[E+"period"],k=i||z;function U(ht){return V(ht,-1)}function F(ht){return V(ht,1)}function V(ht,mt){var At=ht.w;return ht[E]+mt*At/2}function N(ht){return ht[E+"End"]-ht[E+"Start"]}var O=i?U:z?function(ht){return ht.p-N(ht)/2}:function(ht){return Math.min(U(ht),ht.p-h.bardelta/2)},H=i?F:z?function(ht){return ht.p+N(ht)/2}:function(ht){return Math.max(F(ht),ht.p+h.bardelta/2)};function X(ht,mt,At){return m.finiteRange&&(At=0),y.inbox(ht-L,mt-L,At+Math.min(1,Math.abs(mt-ht)/b)-1)}function J(ht){return X(O(ht),H(ht),w)}function et(ht){return X(U(ht),F(ht),A)}function it(ht){var mt=ht[S];if(p){var At=Math.abs(ht.rawS)||0;x>0?mt+=At:x<0&&(mt-=At)}return mt}function ft(ht){var mt=x,At=ht.b,bt=it(ht);return y.inbox(At-mt,bt-mt,w+(bt-mt)/(bt-At)-1)}function ot(ht){var mt=x,At=ht.b,bt=it(ht);return y.inbox(At-mt,bt-mt,A+(bt-mt)/(bt-At)-1)}var Q=n[E+"a"],tt=n[S+"a"];b=Math.abs(Q.r2c(Q.range[1])-Q.r2c(Q.range[0]));function Z(ht){return(a(ht)+C(ht))/2}var q=y.getDistanceFunction(c,a,C,Z);if(y.getClosest(v,q,n),n.index!==!1&&v[n.index].p!==g){k||(O=function(ht){return Math.min(U(ht),ht.p-h.bargroupwidth/2)},H=function(ht){return Math.max(F(ht),ht.p+h.bargroupwidth/2)});var ut=n.index,$=v[ut],j=T.base?$.b+$.s:$.s;n[S+"0"]=n[S+"1"]=tt.c2p($[S],!0),n[S+"LabelVal"]=j;var lt=h.extents[h.extents.round($.p)];n[E+"0"]=Q.c2p(i?O($):lt[0],!0),n[E+"1"]=Q.c2p(i?H($):lt[1],!0);var nt=$.orig_p!==void 0;return n[E+"LabelVal"]=nt?$.orig_p:$.p,n.labelLabel=d(Q,n[E+"LabelVal"],T[E+"hoverformat"]),n.valueLabel=d(tt,n[S+"LabelVal"],T[S+"hoverformat"]),n.baseLabel=d(tt,$.b,T[S+"hoverformat"]),n.spikeDistance=(ot($)+et($))/2,n[E+"Spike"]=Q.c2p($.p,!0),P($,T,n),n.hovertemplate=T.hovertemplate,n}}function o(n,u){var f=u.mcc||n.marker.color,c=u.mlcc||n.marker.line.color,m=M(n,u);if(s.opacity(f))return f;if(s.opacity(c)&&m)return c}W.exports={hoverPoints:r,hoverOnBars:e,getTraceColor:o}},51132:function(W,G,t){W.exports={attributes:t(20832),layoutAttributes:t(39324),supplyDefaults:t(31508).supplyDefaults,crossTraceDefaults:t(31508).crossTraceDefaults,supplyLayoutDefaults:t(37156),calc:t(71820),crossTraceCalc:t(96376).crossTraceCalc,colorbar:t(5528),arraysToCalcdata:t(84664),plot:t(98184).plot,style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,hoverPoints:t(63400).hoverPoints,eventData:t(52160),selectPoints:t(45784),moduleType:"trace",name:"bar",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(W){W.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(W,G,t){var y=t(24040),D=t(54460),s=t(3400),P=t(39324),M=t(31508).validateCornerradius;W.exports=function(d,g,r){function e(p,w){return s.coerce(d,g,P,p,w)}for(var o=!1,n=!1,u=!1,f={},c=e("barmode"),m=0;m<r.length;m++){var v=r[m];if(y.traceIs(v,"bar")&&v.visible)o=!0;else continue;if(c==="group"){var T=v.xaxis+v.yaxis;f[T]&&(u=!0),f[T]=!0}if(v.visible&&v.type==="histogram"){var h=D.getFromId({_fullLayout:g},v[v.orientation==="v"?"xaxis":"yaxis"]);h.type!=="category"&&(n=!0)}}if(!o){delete g.barmode;return}c!=="overlay"&&e("barnorm"),e("bargap",n&&!u?0:.2),e("bargroupgap");var i=e("barcornerradius");g.barcornerradius=M(i)}},98184:function(W,G,t){var y=t(33428),D=t(38248),s=t(3400),P=t(72736),M=t(76308),d=t(43616),g=t(24040),r=t(54460).tickText,e=t(82744),o=e.recordMinTextSize,n=e.clearMinTextSize,u=t(60100),f=t(60444),c=t(78048),m=t(20832),v=m.text,T=m.textposition,h=t(10624).appendArrayPointValue,i=c.TEXTPAD;function p(J){return J.id}function w(J){if(J.ids)return p}function A(J){return(J>0)-(J<0)}function L(J,et){return J<et?1:-1}function x(J,et,it,ft){var ot=[],Q=[],tt=ft?et:it,Z=ft?it:et;return ot[0]=tt.c2p(J.s0,!0),Q[0]=Z.c2p(J.p0,!0),ot[1]=tt.c2p(J.s1,!0),Q[1]=Z.c2p(J.p1,!0),ft?[ot,Q]:[Q,ot]}function E(J,et,it,ft){if(!et.uniformtext.mode&&S(it)){var ot;return ft&&(ot=ft()),J.transition().duration(it.duration).ease(it.easing).each("end",function(){ot&&ot()}).each("interrupt",function(){ot&&ot()})}else return J}function S(J){return J&&J.duration>0}function a(J,et,it,ft,ot,Q){var tt=et.xaxis,Z=et.yaxis,q=J._fullLayout,ut=J._context.staticPlot;ot||(ot={mode:q.barmode,norm:q.barmode,gap:q.bargap,groupgap:q.bargroupgap},n("bar",q));var $=s.makeTraceGroups(ft,it,"trace bars").each(function(j){var lt=y.select(this),nt=j[0].trace,ht=j[0].t,mt=nt.type==="waterfall",At=nt.type==="funnel",bt=nt.type==="histogram",Pt=nt.type==="bar",_t=Pt||At,Ut=0;mt&&nt.connector.visible&&nt.connector.mode==="between"&&(Ut=nt.connector.line.width/2);var St=nt.orientation==="h",Rt=S(ot),Et=s.ensureSingle(lt,"g","points"),zt=w(nt),Ct=Et.selectAll("g.point").data(s.identity,zt);Ct.enter().append("g").classed("point",!0),Ct.exit().remove(),Ct.each(function(Kt,oe){var Jt=y.select(this),te=x(Kt,tt,Z,St),fe=te[0][0],ve=te[0][1],de=te[1][0],xe=te[1][1],Me=(St?ve-fe:xe-de)===0;Me&&_t&&f.getLineWidth(nt,Kt)&&(Me=!1),Me||(Me=!D(fe)||!D(ve)||!D(de)||!D(xe)),Kt.isBlank=Me,Me&&(St?ve=fe:xe=de),Ut&&!Me&&(St?(fe-=L(fe,ve)*Ut,ve+=L(fe,ve)*Ut):(de-=L(de,xe)*Ut,xe+=L(de,xe)*Ut));var ne,kt;if(nt.type==="waterfall"){if(!Me){var Gt=nt[Kt.dir].marker;ne=Gt.line.width,kt=Gt.color}}else ne=f.getLineWidth(nt,Kt),kt=Kt.mc||nt.marker.color;function Yt(ue){var be=y.round(ne/2%1,2);return ot.gap===0&&ot.groupgap===0?y.round(Math.round(ue)-be,2):ue}function Zt(ue,be,Ee){return Ee&&ue===be?ue:Math.abs(ue-be)>=2?Yt(ue):ue>be?Math.ceil(ue):Math.floor(ue)}var It=M.opacity(kt),Nt=It<1||ne>.01?Yt:Zt;J._context.staticPlot||(fe=Nt(fe,ve,St),ve=Nt(ve,fe,St),de=Nt(de,xe,!St),xe=Nt(xe,de,!St));var Ht=St?tt.c2p:Z.c2p,Lt;Kt.s0>0?Lt=Kt._sMax:Kt.s0<0?Lt=Kt._sMin:Lt=Kt.s1>0?Kt._sMax:Kt._sMin;function dt(ue,be){if(!ue)return 0;var Ee=Math.abs(St?xe-de:ve-fe),_e=Math.abs(St?ve-fe:xe-de),Oe=Nt(Math.abs(Ht(Lt,!0)-Ht(0,!0))),Fe=Kt.hasB?Math.min(Ee/2,_e/2):Math.min(Ee/2,Oe),Be;if(be==="%"){var Je=Math.min(50,ue);Be=Ee*(Je/100)}else Be=ue;return Nt(Math.max(Math.min(Be,Fe),0))}var xt=Pt||bt?dt(ht.cornerradiusvalue,ht.cornerradiusform):0,Ot,jt,ie="M"+fe+","+de+"V"+xe+"H"+ve+"V"+de+"Z",le=0;if(xt&&Kt.s){var Ve=A(Kt.s0)===0||A(Kt.s)===A(Kt.s0)?Kt.s1:Kt.s0;if(le=Nt(Kt.hasB?0:Math.abs(Ht(Lt,!0)-Ht(Ve,!0))),le<xt){var je=L(fe,ve),Te=L(de,xe),Le=je===-Te?1:0;if(St)if(Kt.hasB)Ot="M"+(fe+xt*je)+","+de+"A "+xt+","+xt+" 0 0 "+Le+" "+fe+","+(de+xt*Te)+"V"+(xe-xt*Te)+"A "+xt+","+xt+" 0 0 "+Le+" "+(fe+xt*je)+","+xe+"H"+(ve-xt*je)+"A "+xt+","+xt+" 0 0 "+Le+" "+ve+","+(xe-xt*Te)+"V"+(de+xt*Te)+"A "+xt+","+xt+" 0 0 "+Le+" "+(ve-xt*je)+","+de+"Z";else{jt=Math.abs(ve-fe)+le;var Ke=jt<xt?xt-Math.sqrt(jt*(2*xt-jt)):0,vr=le>0?Math.sqrt(le*(2*xt-le)):0,ge=je>0?Math.max:Math.min;Ot="M"+fe+","+de+"V"+(xe-Ke*Te)+"H"+ge(ve-(xt-le)*je,fe)+"A "+xt+","+xt+" 0 0 "+Le+" "+ve+","+(xe-xt*Te-vr)+"V"+(de+xt*Te+vr)+"A "+xt+","+xt+" 0 0 "+Le+" "+ge(ve-(xt-le)*je,fe)+","+(de+Ke*Te)+"Z"}else if(Kt.hasB)Ot="M"+(fe+xt*je)+","+de+"A "+xt+","+xt+" 0 0 "+Le+" "+fe+","+(de+xt*Te)+"V"+(xe-xt*Te)+"A "+xt+","+xt+" 0 0 "+Le+" "+(fe+xt*je)+","+xe+"H"+(ve-xt*je)+"A "+xt+","+xt+" 0 0 "+Le+" "+ve+","+(xe-xt*Te)+"V"+(de+xt*Te)+"A "+xt+","+xt+" 0 0 "+Le+" "+(ve-xt*je)+","+de+"Z";else{jt=Math.abs(xe-de)+le;var Xe=jt<xt?xt-Math.sqrt(jt*(2*xt-jt)):0,$e=le>0?Math.sqrt(le*(2*xt-le)):0,mr=Te>0?Math.max:Math.min;Ot="M"+(fe+Xe*je)+","+de+"V"+mr(xe-(xt-le)*Te,de)+"A "+xt+","+xt+" 0 0 "+Le+" "+(fe+xt*je-$e)+","+xe+"H"+(ve-xt*je+$e)+"A "+xt+","+xt+" 0 0 "+Le+" "+(ve-Xe*je)+","+mr(xe-(xt-le)*Te,de)+"V"+de+"Z"}}else Ot=ie}else Ot=ie;var or=E(s.ensureSingle(Jt,"path"),q,ot,Q);if(or.style("vector-effect",ut?"none":"non-scaling-stroke").attr("d",isNaN((ve-fe)*(xe-de))||Me&&J._context.staticPlot?"M0,0Z":Ot).call(d.setClipUrl,et.layerClipId,J),!q.uniformtext.mode&&Rt){var ye=d.makePointStyleFns(nt);d.singlePointStyle(Kt,or,nt,ye,J)}C(J,et,Jt,j,oe,fe,ve,de,xe,xt,le,ot,Q),et.layerClipId&&d.hideOutsideRangePoint(Kt,Jt.select("text"),tt,Z,nt.xcalendar,nt.ycalendar)});var Wt=nt.cliponaxis===!1;d.setClipUrl(lt,Wt?null:et.layerClipId,J)});g.getComponentMethod("errorbars","plot")(J,$,et,ot)}function C(J,et,it,ft,ot,Q,tt,Z,q,ut,$,j,lt){var nt=et.xaxis,ht=et.yaxis,mt=J._fullLayout,At;function bt(jt,ie,le){var Ve=s.ensureSingle(jt,"text").text(ie).attr({class:"bartext bartext-"+At,"text-anchor":"middle","data-notex":1}).call(d.font,le).call(P.convertToTspans,J);return Ve}var Pt=ft[0].trace,_t=Pt.orientation==="h",Ut=N(mt,ft,ot,nt,ht);At=O(Pt,ot);var St=j.mode==="stack"||j.mode==="relative",Rt=ft[ot],Et=!St||Rt._outmost,zt=Rt.hasB,Ct=ut&&ut-$>i;if(!Ut||At==="none"||(Rt.isBlank||Q===tt||Z===q)&&(At==="auto"||At==="inside")){it.select("text").remove();return}var Wt=mt.font,Kt=u.getBarColor(ft[ot],Pt),oe=u.getInsideTextFont(Pt,ot,Wt,Kt),Jt=u.getOutsideTextFont(Pt,ot,Wt),te=Pt.insidetextanchor||"end",fe=it.datum();_t?nt.type==="log"&&fe.s0<=0&&(nt.range[0]<nt.range[1]?Q=0:Q=nt._length):ht.type==="log"&&fe.s0<=0&&(ht.range[0]<ht.range[1]?Z=ht._length:Z=0);var ve=Math.abs(tt-Q),de=Math.abs(q-Z),xe=ve-2*i,Me=de-2*i,ne,kt,Gt,Yt,Zt;if(At==="outside"&&!Et&&!Rt.hasB&&(At="inside"),At==="auto")if(Et){At="inside",Zt=s.ensureUniformFontSize(J,oe),ne=bt(it,Ut,Zt),kt=d.bBox(ne.node()),Gt=kt.width,Yt=kt.height;var It=Gt>0&&Yt>0,Nt;Ct?zt?Nt=b(xe-2*ut,Me,Gt,Yt,_t)||b(xe,Me-2*ut,Gt,Yt,_t):_t?Nt=b(xe-(ut-$),Me,Gt,Yt,_t)||b(xe,Me-2*(ut-$),Gt,Yt,_t):Nt=b(xe,Me-(ut-$),Gt,Yt,_t)||b(xe-2*(ut-$),Me,Gt,Yt,_t):Nt=b(xe,Me,Gt,Yt,_t),It&&Nt?At="inside":(At="outside",ne.remove(),ne=null)}else At="inside";if(!ne){Zt=s.ensureUniformFontSize(J,At==="outside"?Jt:oe),ne=bt(it,Ut,Zt);var Ht=ne.attr("transform");if(ne.attr("transform",""),kt=d.bBox(ne.node()),Gt=kt.width,Yt=kt.height,ne.attr("transform",Ht),Gt<=0||Yt<=0){ne.remove();return}}var Lt=Pt.textangle,dt,xt;At==="outside"?(xt=Pt.constraintext==="both"||Pt.constraintext==="outside",dt=V(Q,tt,Z,q,kt,{isHorizontal:_t,constrained:xt,angle:Lt})):(xt=Pt.constraintext==="both"||Pt.constraintext==="inside",dt=U(Q,tt,Z,q,kt,{isHorizontal:_t,constrained:xt,angle:Lt,anchor:te,hasB:zt,r:ut,overhead:$})),dt.fontSize=Zt.size,o(Pt.type==="histogram"?"bar":Pt.type,dt,mt),Rt.transform=dt;var Ot=E(ne,mt,j,lt);s.setTransormAndDisplay(Ot,dt)}function b(J,et,it,ft,ot){if(J<0||et<0)return!1;var Q=it<=J&&ft<=et,tt=it<=et&&ft<=J,Z=ot?J>=it*(et/ft):et>=ft*(J/it);return Q||tt||Z}function z(J){return J==="auto"?0:J}function k(J,et){var it=Math.PI/180*et,ft=Math.abs(Math.sin(it)),ot=Math.abs(Math.cos(it));return{x:J.width*ot+J.height*ft,y:J.width*ft+J.height*ot}}function U(J,et,it,ft,ot,Q){var tt=!!Q.isHorizontal,Z=!!Q.constrained,q=Q.angle||0,ut=Q.anchor,$=ut==="end",j=ut==="start",lt=Q.leftToRight||0,nt=(lt+1)/2,ht=1-nt,mt=Q.hasB,At=Q.r,bt=Q.overhead,Pt=ot.width,_t=ot.height,Ut=Math.abs(et-J),St=Math.abs(ft-it),Rt=Ut>2*i&&St>2*i?i:0;Ut-=2*Rt,St-=2*Rt;var Et=z(q);q==="auto"&&!(Pt<=Ut&&_t<=St)&&(Pt>Ut||_t>St)&&(!(Pt>St||_t>Ut)||Pt<_t!=Ut<St)&&(Et+=90);var zt=k(ot,Et),Ct,Wt;if(At&&At-bt>i){var Kt=F(J,et,it,ft,zt,At,bt,tt,mt);Ct=Kt.scale,Wt=Kt.pad}else Ct=1,Z&&(Ct=Math.min(1,Ut/zt.x,St/zt.y)),Wt=0;var oe=ot.left*ht+ot.right*nt,Jt=(ot.top+ot.bottom)/2,te=(J+i)*ht+(et-i)*nt,fe=(it+ft)/2,ve=0,de=0;if(j||$){var xe=(tt?zt.x:zt.y)/2;At&&($||mt)&&(Rt+=Wt);var Me=tt?L(J,et):L(it,ft);tt?j?(te=J+Me*Rt,ve=-Me*xe):(te=et-Me*Rt,ve=Me*xe):j?(fe=it+Me*Rt,de=-Me*xe):(fe=ft-Me*Rt,de=Me*xe)}return{textX:oe,textY:Jt,targetX:te,targetY:fe,anchorX:ve,anchorY:de,scale:Ct,rotate:Et}}function F(J,et,it,ft,ot,Q,tt,Z,q){var ut=Math.max(0,Math.abs(et-J)-2*i),$=Math.max(0,Math.abs(ft-it)-2*i),j=Q-i,lt=tt?j-Math.sqrt(j*j-(j-tt)*(j-tt)):j,nt=q?j*2:Z?j-tt:2*lt,ht=q?j*2:Z?2*lt:j-tt,mt,At,bt,Pt,_t;return ot.y/ot.x>=$/(ut-nt)?Pt=$/ot.y:ot.y/ot.x<=($-ht)/ut?Pt=ut/ot.x:!q&&Z?(mt=ot.x*ot.x+ot.y*ot.y/4,At=-2*ot.x*(ut-j)-ot.y*($/2-j),bt=(ut-j)*(ut-j)+($/2-j)*($/2-j)-j*j,Pt=(-At+Math.sqrt(At*At-4*mt*bt))/(2*mt)):q?(mt=(ot.x*ot.x+ot.y*ot.y)/4,At=-ot.x*(ut/2-j)-ot.y*($/2-j),bt=(ut/2-j)*(ut/2-j)+($/2-j)*($/2-j)-j*j,Pt=(-At+Math.sqrt(At*At-4*mt*bt))/(2*mt)):(mt=ot.x*ot.x/4+ot.y*ot.y,At=-ot.x*(ut/2-j)-2*ot.y*($-j),bt=(ut/2-j)*(ut/2-j)+($-j)*($-j)-j*j,Pt=(-At+Math.sqrt(At*At-4*mt*bt))/(2*mt)),Pt=Math.min(1,Pt),Z?_t=Math.max(0,j-Math.sqrt(Math.max(0,j*j-(j-($-ot.y*Pt)/2)*(j-($-ot.y*Pt)/2)))-tt):_t=Math.max(0,j-Math.sqrt(Math.max(0,j*j-(j-(ut-ot.x*Pt)/2)*(j-(ut-ot.x*Pt)/2)))-tt),{scale:Pt,pad:_t}}function V(J,et,it,ft,ot,Q){var tt=!!Q.isHorizontal,Z=!!Q.constrained,q=Q.angle||0,ut=ot.width,$=ot.height,j=Math.abs(et-J),lt=Math.abs(ft-it),nt;tt?nt=lt>2*i?i:0:nt=j>2*i?i:0;var ht=1;Z&&(ht=tt?Math.min(1,lt/$):Math.min(1,j/ut));var mt=z(q),At=k(ot,mt),bt=(tt?At.x:At.y)/2,Pt=(ot.left+ot.right)/2,_t=(ot.top+ot.bottom)/2,Ut=(J+et)/2,St=(it+ft)/2,Rt=0,Et=0,zt=tt?L(et,J):L(it,ft);return tt?(Ut=et-zt*nt,Rt=zt*bt):(St=ft+zt*nt,Et=-zt*bt),{textX:Pt,textY:_t,targetX:Ut,targetY:St,anchorX:Rt,anchorY:Et,scale:ht,rotate:mt}}function N(J,et,it,ft,ot){var Q=et[0].trace,tt=Q.texttemplate,Z;return tt?Z=H(J,et,it,ft,ot):Q.textinfo?Z=X(et,it,ft,ot):Z=f.getValue(Q.text,it),f.coerceString(v,Z)}function O(J,et){var it=f.getValue(J.textposition,et);return f.coerceEnumerated(T,it)}function H(J,et,it,ft,ot){var Q=et[0].trace,tt=s.castOption(Q,it,"texttemplate");if(!tt)return"";var Z=Q.type==="histogram",q=Q.type==="waterfall",ut=Q.type==="funnel",$=Q.orientation==="h",j,lt,nt,ht;$?(j="y",lt=ot,nt="x",ht=ft):(j="x",lt=ft,nt="y",ht=ot);function mt(Rt){return r(lt,lt.c2l(Rt),!0).text}function At(Rt){return r(ht,ht.c2l(Rt),!0).text}var bt=et[it],Pt={};Pt.label=bt.p,Pt.labelLabel=Pt[j+"Label"]=mt(bt.p);var _t=s.castOption(Q,bt.i,"text");(_t===0||_t)&&(Pt.text=_t),Pt.value=bt.s,Pt.valueLabel=Pt[nt+"Label"]=At(bt.s);var Ut={};h(Ut,Q,bt.i),(Z||Ut.x===void 0)&&(Ut.x=$?Pt.value:Pt.label),(Z||Ut.y===void 0)&&(Ut.y=$?Pt.label:Pt.value),(Z||Ut.xLabel===void 0)&&(Ut.xLabel=$?Pt.valueLabel:Pt.labelLabel),(Z||Ut.yLabel===void 0)&&(Ut.yLabel=$?Pt.labelLabel:Pt.valueLabel),q&&(Pt.delta=+bt.rawS||bt.s,Pt.deltaLabel=At(Pt.delta),Pt.final=bt.v,Pt.finalLabel=At(Pt.final),Pt.initial=Pt.final-Pt.delta,Pt.initialLabel=At(Pt.initial)),ut&&(Pt.value=bt.s,Pt.valueLabel=At(Pt.value),Pt.percentInitial=bt.begR,Pt.percentInitialLabel=s.formatPercent(bt.begR),Pt.percentPrevious=bt.difR,Pt.percentPreviousLabel=s.formatPercent(bt.difR),Pt.percentTotal=bt.sumR,Pt.percenTotalLabel=s.formatPercent(bt.sumR));var St=s.castOption(Q,bt.i,"customdata");return St&&(Pt.customdata=St),s.texttemplateString(tt,Pt,J._d3locale,Ut,Pt,Q._meta||{})}function X(J,et,it,ft){var ot=J[0].trace,Q=ot.orientation==="h",tt=ot.type==="waterfall",Z=ot.type==="funnel";function q(St){var Rt=Q?ft:it;return r(Rt,St,!0).text}function ut(St){var Rt=Q?it:ft;return r(Rt,+St,!0).text}var $=ot.textinfo,j=J[et],lt=$.split("+"),nt=[],ht,mt=function(St){return lt.indexOf(St)!==-1};if(mt("label")&&nt.push(q(J[et].p)),mt("text")&&(ht=s.castOption(ot,j.i,"text"),(ht===0||ht)&&nt.push(ht)),tt){var At=+j.rawS||j.s,bt=j.v,Pt=bt-At;mt("initial")&&nt.push(ut(Pt)),mt("delta")&&nt.push(ut(At)),mt("final")&&nt.push(ut(bt))}if(Z){mt("value")&&nt.push(ut(j.s));var _t=0;mt("percent initial")&&_t++,mt("percent previous")&&_t++,mt("percent total")&&_t++;var Ut=_t>1;mt("percent initial")&&(ht=s.formatPercent(j.begR),Ut&&(ht+=" of initial"),nt.push(ht)),mt("percent previous")&&(ht=s.formatPercent(j.difR),Ut&&(ht+=" of previous"),nt.push(ht)),mt("percent total")&&(ht=s.formatPercent(j.sumR),Ut&&(ht+=" of total"),nt.push(ht))}return nt.join("<br>")}W.exports={plot:a,toMoveInsideBar:U}},45784:function(W){W.exports=function(y,D){var s=y.cd,P=y.xaxis,M=y.yaxis,d=s[0].trace,g=d.type==="funnel",r=d.orientation==="h",e=[],o;if(D===!1)for(o=0;o<s.length;o++)s[o].selected=0;else for(o=0;o<s.length;o++){var n=s[o],u="ct"in n?n.ct:G(n,P,M,r,g);D.contains(u,!1,o,y)?(e.push({pointNumber:o,x:P.c2d(n.x),y:M.c2d(n.y)}),n.selected=1):n.selected=0}return e};function G(t,y,D,s,P){var M=y.c2p(s?t.s0:t.p0,!0),d=y.c2p(s?t.s1:t.p1,!0),g=D.c2p(s?t.p0:t.s0,!0),r=D.c2p(s?t.p1:t.s1,!0);return P?[(M+d)/2,(g+r)/2]:s?[d,(g+r)/2]:[(M+d)/2,r]}},72592:function(W,G,t){W.exports=D;var y=t(3400).distinctVals;function D(s,P){this.traces=s,this.sepNegVal=P.sepNegVal,this.overlapNoMerge=P.overlapNoMerge;for(var M=1/0,d=P.posAxis._id.charAt(0),g=[],r=0;r<s.length;r++){for(var e=s[r],o=0;o<e.length;o++){var n=e[o],u=n.p;u===void 0&&(u=n[d]),u!==void 0&&g.push(u)}e[0]&&e[0].width1&&(M=Math.min(e[0].width1,M))}this.positions=g;var f=y(g);this.distinctPositions=f.vals,f.vals.length===1&&M!==1/0?this.minDiff=M:this.minDiff=Math.min(f.minDiff,M);var c=(P.posAxis||{}).type;(c==="category"||c==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}D.prototype.put=function(P,M){var d=this.getLabel(P,M),g=this.bins[d]||0;return this.bins[d]=g+M,g},D.prototype.get=function(P,M){var d=this.getLabel(P,M);return this.bins[d]||0},D.prototype.getLabel=function(P,M){var d=M<0&&this.sepNegVal?"v":"^",g=this.overlapNoMerge?P:Math.round(P/this.binWidth);return d+g}},60100:function(W,G,t){var y=t(33428),D=t(76308),s=t(43616),P=t(3400),M=t(24040),d=t(82744).resizeText,g=t(20832),r=g.textfont,e=g.insidetextfont,o=g.outsidetextfont,n=t(60444);function u(x){var E=y.select(x).selectAll('g[class^="barlayer"]').selectAll("g.trace");d(x,E,"bar");var S=E.size(),a=x._fullLayout;E.style("opacity",function(C){return C[0].trace.opacity}).each(function(C){(a.barmode==="stack"&&S>1||a.bargap===0&&a.bargroupgap===0&&!C[0].trace.marker.line.width)&&y.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(C){var b=y.select(this),z=C[0].trace;f(b,z,x)}),M.getComponentMethod("errorbars","style")(E)}function f(x,E,S){s.pointStyle(x.selectAll("path"),E,S),c(x,E,S)}function c(x,E,S){x.selectAll("text").each(function(a){var C=y.select(this),b=P.ensureUniformFontSize(S,h(C,a,E,S));s.font(C,b)})}function m(x,E,S){var a=E[0].trace;a.selectedpoints?v(S,a,x):(f(S,a,x),M.getComponentMethod("errorbars","style")(S))}function v(x,E,S){s.selectedPointStyle(x.selectAll("path"),E),T(x.selectAll("text"),E,S)}function T(x,E,S){x.each(function(a){var C=y.select(this),b;if(a.selected){b=P.ensureUniformFontSize(S,h(C,a,E,S));var z=E.selected.textfont&&E.selected.textfont.color;z&&(b.color=z),s.font(C,b)}else s.selectedTextStyle(C,E)})}function h(x,E,S,a){var C=a._fullLayout.font,b=S.textfont;if(x.classed("bartext-inside")){var z=L(E,S);b=p(S,E.i,C,z)}else x.classed("bartext-outside")&&(b=w(S,E.i,C));return b}function i(x,E,S){return A(r,x.textfont,E,S)}function p(x,E,S,a){var C=i(x,E,S),b=x._input.textfont===void 0||x._input.textfont.color===void 0||Array.isArray(x.textfont.color)&&x.textfont.color[E]===void 0;return b&&(C={color:D.contrast(a),family:C.family,size:C.size,weight:C.weight,style:C.style,variant:C.variant,textcase:C.textcase,lineposition:C.lineposition,shadow:C.shadow}),A(e,x.insidetextfont,E,C)}function w(x,E,S){var a=i(x,E,S);return A(o,x.outsidetextfont,E,a)}function A(x,E,S,a){E=E||{};var C=n.getValue(E.family,S),b=n.getValue(E.size,S),z=n.getValue(E.color,S),k=n.getValue(E.weight,S),U=n.getValue(E.style,S),F=n.getValue(E.variant,S),V=n.getValue(E.textcase,S),N=n.getValue(E.lineposition,S),O=n.getValue(E.shadow,S);return{family:n.coerceString(x.family,C,a.family),size:n.coerceNumber(x.size,b,a.size),color:n.coerceColor(x.color,z,a.color),weight:n.coerceString(x.weight,k,a.weight),style:n.coerceString(x.style,U,a.style),variant:n.coerceString(x.variant,F,a.variant),textcase:n.coerceString(x.variant,V,a.textcase),lineposition:n.coerceString(x.variant,N,a.lineposition),shadow:n.coerceString(x.variant,O,a.shadow)}}function L(x,E){return E.type==="waterfall"?E[x.dir].marker.color:x.mcc||x.mc||E.marker.color}W.exports={style:u,styleTextPoints:c,styleOnSelect:m,getInsideTextFont:p,getOutsideTextFont:w,getBarColor:L,resizeText:d}},55592:function(W,G,t){var y=t(76308),D=t(94288).hasColorscale,s=t(27260),P=t(3400).coercePattern;W.exports=function(d,g,r,e,o){var n=r("marker.color",e),u=D(d,"marker");u&&s(d,g,o,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",y.defaultLine),D(d,"marker.line")&&s(d,g,o,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),P(r,"marker.pattern",n,u),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(W,G,t){var y=t(33428),D=t(3400);function s(g,r,e){var o=g._fullLayout,n=o["_"+e+"Text_minsize"];if(n){var u=o.uniformtext.mode==="hide",f;switch(e){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}r.selectAll(f).each(function(c){var m=c.transform;if(m){m.scale=u&&m.hide?0:n/m.fontSize;var v=y.select(this).select("text");D.setTransormAndDisplay(v,m)}})}}function P(g,r,e){if(e.uniformtext.mode){var o=d(g),n=e.uniformtext.minsize,u=r.scale*r.fontSize;r.hide=u<n,e[o]=e[o]||1/0,r.hide||(e[o]=Math.min(e[o],Math.max(u,n)))}}function M(g,r){var e=d(g);r[e]=void 0}function d(g){return"_"+g+"Text_minsize"}W.exports={recordMinTextSize:P,clearMinTextSize:M,resizeText:s}},78100:function(W,G,t){var y=t(21776).Ks,D=t(92880).extendFlat,s=t(8319),P=t(20832);W.exports={r:s.r,theta:s.theta,r0:s.r0,dr:s.dr,theta0:s.theta0,dtheta:s.dtheta,thetaunit:s.thetaunit,base:D({},P.base,{}),offset:D({},P.offset,{}),width:D({},P.width,{}),text:D({},P.text,{}),hovertext:D({},P.hovertext,{}),marker:M(),hoverinfo:s.hoverinfo,hovertemplate:y(),selected:P.selected,unselected:P.unselected};function M(){var d=D({},P.marker);return delete d.cornerradius,d}},47056:function(W,G,t){var y=t(94288).hasColorscale,D=t(47128),s=t(3400).isArrayOrTypedArray,P=t(84664),M=t(96376).setGroupPositions,d=t(4500),g=t(24040).traceIs,r=t(3400).extendFlat;function e(n,u){for(var f=n._fullLayout,c=u.subplot,m=f[c].radialaxis,v=f[c].angularaxis,T=m.makeCalcdata(u,"r"),h=v.makeCalcdata(u,"theta"),i=u._length,p=new Array(i),w=T,A=h,L=0;L<i;L++)p[L]={p:A[L],s:w[L]};function x(E){var S=u[E];S!==void 0&&(u["_"+E]=s(S)?v.makeCalcdata(u,E):v.d2c(S,u.thetaunit))}return v.type==="linear"&&(x("width"),x("offset")),y(u,"marker")&&D(n,u,{vals:u.marker.color,containerStr:"marker",cLetter:"c"}),y(u,"marker.line")&&D(n,u,{vals:u.marker.line.color,containerStr:"marker.line",cLetter:"c"}),P(p,u),d(p,u),p}function o(n,u,f){for(var c=n.calcdata,m=[],v=0;v<c.length;v++){var T=c[v],h=T[0].trace;h.visible===!0&&g(h,"bar")&&h.subplot===f&&m.push(T)}var i=r({},u.radialaxis,{_id:"x"}),p=u.angularaxis;M(n,p,i,m,{mode:u.barmode,norm:u.barnorm,gap:u.bargap,groupgap:u.bargroupgap})}W.exports={calc:e,crossTraceCalc:o}},70384:function(W,G,t){var y=t(3400),D=t(85968).handleRThetaDefaults,s=t(55592),P=t(78100);W.exports=function(d,g,r,e){function o(u,f){return y.coerce(d,g,P,u,f)}var n=D(d,g,e,o);if(!n){g.visible=!1;return}o("thetaunit"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate"),s(d,g,o,r,e),y.coerceSelectionMarkerOpacity(g,o)}},68896:function(W,G,t){var y=t(93024),D=t(3400),s=t(63400).getTraceColor,P=D.fillText,M=t(8504).makeHoverPointText,d=t(57384).isPtInsidePolygon;W.exports=function(r,e,o){var n=r.cd,u=n[0].trace,f=r.subplot,c=f.radialAxis,m=f.angularAxis,v=f.vangles,T=v?d:D.isPtInsideSector,h=r.maxHoverDistance,i=m._period||2*Math.PI,p=Math.abs(c.g2p(Math.sqrt(e*e+o*o))),w=Math.atan2(o,e);c.range[0]>c.range[1]&&(w+=Math.PI);var A=function(S){return T(p,w,[S.rp0,S.rp1],[S.thetag0,S.thetag1],v)?h+Math.min(1,Math.abs(S.thetag1-S.thetag0)/i)-1+(S.rp1-p)/(S.rp1-S.rp0)-1:1/0};if(y.getClosest(n,A,r),r.index!==!1){var L=r.index,x=n[L];r.x0=r.x1=x.ct[0],r.y0=r.y1=x.ct[1];var E=D.extendFlat({},x,{r:x.s,theta:x.p});return P(x,u,r),M(E,u,f,r),r.hovertemplate=u.hovertemplate,r.color=s(u,x),r.xLabelVal=r.yLabelVal=void 0,x.s<0&&(r.idealAlign="left"),[r]}}},94456:function(W,G,t){W.exports={moduleType:"trace",name:"barpolar",basePlotModule:t(40872),categories:["polar","bar","showLegend"],attributes:t(78100),layoutAttributes:t(9320),supplyDefaults:t(70384),supplyLayoutDefaults:t(89580),calc:t(47056).calc,crossTraceCalc:t(47056).crossTraceCalc,plot:t(42040),colorbar:t(5528),formatLabels:t(22852),style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,hoverPoints:t(68896),selectPoints:t(45784),meta:{}}},9320:function(W){W.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(W,G,t){var y=t(3400),D=t(9320);W.exports=function(s,P,M){var d={},g;function r(n,u){return y.coerce(s[g]||{},P[g],D,n,u)}for(var e=0;e<M.length;e++){var o=M[e];o.type==="barpolar"&&o.visible===!0&&(g=o.subplot,d[g]||(r("barmode"),r("bargap"),d[g]=1))}}},42040:function(W,G,t){var y=t(33428),D=t(38248),s=t(3400),P=t(43616),M=t(57384);W.exports=function(r,e,o){var n=r._context.staticPlot,u=e.xaxis,f=e.yaxis,c=e.radialAxis,m=e.angularAxis,v=d(e),T=e.layers.frontplot.select("g.barlayer");s.makeTraceGroups(T,o,"trace bars").each(function(){var h=y.select(this),i=s.ensureSingle(h,"g","points"),p=i.selectAll("g.point").data(s.identity);p.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),p.exit().remove(),p.each(function(w){var A=y.select(this),L=w.rp0=c.c2p(w.s0),x=w.rp1=c.c2p(w.s1),E=w.thetag0=m.c2g(w.p0),S=w.thetag1=m.c2g(w.p1),a;if(!D(L)||!D(x)||!D(E)||!D(S)||L===x||E===S)a="M0,0Z";else{var C=c.c2g(w.s1),b=(E+S)/2;w.ct=[u.c2p(C*Math.cos(b)),f.c2p(C*Math.sin(b))],a=v(L,x,E,S)}s.ensureSingle(A,"path").attr("d",a)}),P.setClipUrl(h,e._hasClipOnAxisFalse?e.clipIds.forTraces:null,r)})};function d(g){var r=g.cxx,e=g.cyy;return g.vangles?function(o,n,u,f){var c,m;s.angleDelta(u,f)>0?(c=u,m=f):(c=f,m=u);var v=M.findEnclosingVertexAngles(c,g.vangles)[0],T=M.findEnclosingVertexAngles(m,g.vangles)[1],h=[v,(c+m)/2,T];return M.pathPolygonAnnulus(o,n,c,m,h,r,e)}:function(o,n,u,f){return s.pathAnnulus(o,n,u,f,r,e)}}},63188:function(W,G,t){var y=t(98304),D=t(52904),s=t(20832),P=t(22548),M=t(29736).axisHoverFormat,d=t(21776).Ks,g=t(92880).extendFlat,r=D.marker,e=r.line;W.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:g({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:g({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:g({},r.angle,{arrayOk:!1,editType:"calc"}),size:g({},r.size,{arrayOk:!1,editType:"calc"}),color:g({},r.color,{arrayOk:!1,editType:"style"}),line:{color:g({},e.color,{arrayOk:!1,dflt:P.defaultLine,editType:"style"}),width:g({},e.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:y(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:s.offsetgroup,alignmentgroup:s.alignmentgroup,selected:{marker:D.selected.marker,editType:"style"},unselected:{marker:D.unselected.marker,editType:"style"},text:g({},D.text,{}),hovertext:g({},D.hovertext,{}),hovertemplate:d({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:D.zorder}},62555:function(W,G,t){var y=t(38248),D=t(54460),s=t(1220),P=t(3400),M=t(39032).BADNUM,d=P._;W.exports=function(w,A){var L=w._fullLayout,x=D.getFromId(w,A.xaxis||"x"),E=D.getFromId(w,A.yaxis||"y"),S=[],a=A.type==="violin"?"_numViolins":"_numBoxes",C,b,z,k,U,F,V;A.orientation==="h"?(z=x,k="x",U=E,F="y",V=!!A.yperiodalignment):(z=E,k="y",U=x,F="x",V=!!A.xperiodalignment);var N=g(A,F,U,L[a]),O=N[0],H=N[1],X=P.distinctVals(O,U),J=X.vals,et=X.minDiff/2,it,ft,ot,Q,tt,Z,q=(A.boxpoints||A.points)==="all"?P.identity:function(Me){return Me.v<it.lf||Me.v>it.uf};if(A._hasPreCompStats){var ut=A[k],$=function(Me){return z.d2c((A[Me]||[])[C])},j=1/0,lt=-1/0;for(C=0;C<A._length;C++){var nt=O[C];if(y(nt)){if(it={},it.pos=it[F]=nt,V&&H&&(it.orig_p=H[C]),it.q1=$("q1"),it.med=$("median"),it.q3=$("q3"),ft=[],ut&&P.isArrayOrTypedArray(ut[C]))for(b=0;b<ut[C].length;b++)Z=z.d2c(ut[C][b]),Z!==M&&(tt={v:Z,i:[C,b]},n(tt,A,[C,b]),ft.push(tt));if(it.pts=ft.sort(f),ot=it[k]=ft.map(c),Q=ot.length,it.med!==M&&it.q1!==M&&it.q3!==M&&it.med>=it.q1&&it.q3>=it.med){var ht=$("lowerfence");it.lf=ht!==M&&ht<=it.q1?ht:m(it,ot,Q);var mt=$("upperfence");it.uf=mt!==M&&mt>=it.q3?mt:v(it,ot,Q);var At=$("mean");it.mean=At!==M?At:Q?P.mean(ot,Q):(it.q1+it.q3)/2;var bt=$("sd");it.sd=At!==M&&bt>=0?bt:Q?P.stdev(ot,Q,it.mean):it.q3-it.q1,it.lo=T(it),it.uo=h(it);var Pt=$("notchspan");Pt=Pt!==M&&Pt>0?Pt:i(it,Q),it.ln=it.med-Pt,it.un=it.med+Pt;var _t=it.lf,Ut=it.uf;A.boxpoints&&ot.length&&(_t=Math.min(_t,ot[0]),Ut=Math.max(Ut,ot[Q-1])),A.notched&&(_t=Math.min(_t,it.ln),Ut=Math.max(Ut,it.un)),it.min=_t,it.max=Ut}else{P.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+it.q1,"median = "+it.med,"q3 = "+it.q3].join(`
`));var St;it.med!==M?St=it.med:it.q1!==M?it.q3!==M?St=(it.q1+it.q3)/2:St=it.q1:it.q3!==M?St=it.q3:St=0,it.med=St,it.q1=it.q3=St,it.lf=it.uf=St,it.mean=it.sd=St,it.ln=it.un=St,it.min=it.max=St}j=Math.min(j,it.min),lt=Math.max(lt,it.max),it.pts2=ft.filter(q),S.push(it)}}A._extremes[z._id]=D.findExtremes(z,[j,lt],{padded:!0})}else{var Rt=z.makeCalcdata(A,k),Et=r(J,et),zt=J.length,Ct=e(zt);for(C=0;C<A._length;C++)if(Z=Rt[C],!!y(Z)){var Wt=P.findBin(O[C],Et);Wt>=0&&Wt<zt&&(tt={v:Z,i:C},n(tt,A,C),Ct[Wt].push(tt))}var Kt=1/0,oe=-1/0,Jt=A.quartilemethod,te=Jt==="exclusive",fe=Jt==="inclusive";for(C=0;C<zt;C++)if(Ct[C].length>0){if(it={},it.pos=it[F]=J[C],ft=it.pts=Ct[C].sort(f),ot=it[k]=ft.map(c),Q=ot.length,it.min=ot[0],it.max=ot[Q-1],it.mean=P.mean(ot,Q),it.sd=P.stdev(ot,Q,it.mean)*A.sdmultiple,it.med=P.interp(ot,.5),Q%2&&(te||fe)){var ve,de;te?(ve=ot.slice(0,Q/2),de=ot.slice(Q/2+1)):fe&&(ve=ot.slice(0,Q/2+1),de=ot.slice(Q/2)),it.q1=P.interp(ve,.5),it.q3=P.interp(de,.5)}else it.q1=P.interp(ot,.25),it.q3=P.interp(ot,.75);it.lf=m(it,ot,Q),it.uf=v(it,ot,Q),it.lo=T(it),it.uo=h(it);var xe=i(it,Q);it.ln=it.med-xe,it.un=it.med+xe,Kt=Math.min(Kt,it.ln),oe=Math.max(oe,it.un),it.pts2=ft.filter(q),S.push(it)}A.notched&&P.isTypedArray(Rt)&&(Rt=Array.from(Rt)),A._extremes[z._id]=D.findExtremes(z,A.notched?Rt.concat([Kt,oe]):Rt,{padded:!0})}return u(S,A),S.length>0?(S[0].t={num:L[a],dPos:et,posLetter:F,valLetter:k,labels:{med:d(w,"median:"),min:d(w,"min:"),q1:d(w,"q1:"),q3:d(w,"q3:"),max:d(w,"max:"),mean:A.boxmean==="sd"||A.sizemode==="sd"?d(w,"mean  :").replace("",A.sdmultiple===1?"":A.sdmultiple+""):d(w,"mean:"),lf:d(w,"lower fence:"),uf:d(w,"upper fence:")}},L[a]++,S):[{t:{empty:!0}}]};function g(p,w,A,L){var x=w in p,E=w+"0"in p,S="d"+w in p;if(x||E&&S){var a=A.makeCalcdata(p,w),C=s(p,A,w,a).vals;return[C,a]}var b;E?b=p[w+"0"]:"name"in p&&(A.type==="category"||y(p.name)&&["linear","log"].indexOf(A.type)!==-1||P.isDateTime(p.name)&&A.type==="date")?b=p.name:b=L;for(var z=A.type==="multicategory"?A.r2c_just_indices(b):A.d2c(b,0,p[w+"calendar"]),k=p._length,U=new Array(k),F=0;F<k;F++)U[F]=z;return[U]}function r(p,w){for(var A=p.length,L=new Array(A+1),x=0;x<A;x++)L[x]=p[x]-w;return L[A]=p[A-1]+w,L}function e(p){for(var w=new Array(p),A=0;A<p;A++)w[A]=[];return w}var o={text:"tx",hovertext:"htx"};function n(p,w,A){for(var L in o)P.isArrayOrTypedArray(w[L])&&(Array.isArray(A)?P.isArrayOrTypedArray(w[L][A[0]])&&(p[o[L]]=w[L][A[0]][A[1]]):p[o[L]]=w[L][A])}function u(p,w){if(P.isArrayOrTypedArray(w.selectedpoints))for(var A=0;A<p.length;A++){for(var L=p[A].pts||[],x={},E=0;E<L.length;E++)x[L[E].i]=E;P.tagSelected(L,w,x)}}function f(p,w){return p.v-w.v}function c(p){return p.v}function m(p,w,A){return A===0?p.q1:Math.min(p.q1,w[Math.min(P.findBin(2.5*p.q1-1.5*p.q3,w,!0)+1,A-1)])}function v(p,w,A){return A===0?p.q3:Math.max(p.q3,w[Math.max(P.findBin(2.5*p.q3-1.5*p.q1,w),0)])}function T(p){return 4*p.q1-3*p.q3}function h(p){return 4*p.q3-3*p.q1}function i(p,w){return w===0?0:1.57*(p.q3-p.q1)/Math.sqrt(w)}},96404:function(W,G,t){var y=t(54460),D=t(3400),s=t(71888).getAxisGroup,P=["v","h"];function M(g,r){for(var e=g.calcdata,o=r.xaxis,n=r.yaxis,u=0;u<P.length;u++){for(var f=P[u],c=f==="h"?n:o,m=[],v=0;v<e.length;v++){var T=e[v],h=T[0].t,i=T[0].trace;i.visible===!0&&(i.type==="box"||i.type==="candlestick")&&!h.empty&&(i.orientation||"v")===f&&i.xaxis===o._id&&i.yaxis===n._id&&m.push(v)}d("box",g,m,c)}}function d(g,r,e,o){var n=r.calcdata,u=r._fullLayout,f=o._id,c=f.charAt(0),m,v,T,h=[],i=0;for(m=0;m<e.length;m++)for(T=n[e[m]],v=0;v<T.length;v++)h.push(o.c2l(T[v].pos,!0)),i+=(T[v].pts2||[]).length;if(h.length){var p=D.distinctVals(h);(o.type==="category"||o.type==="multicategory")&&(p.minDiff=1);var w=p.minDiff/2;y.minDtick(o,p.minDiff,p.vals[0],!0);var A=g==="violin"?"_numViolins":"_numBoxes",L=u[A],x=u[g+"mode"]==="group"&&L>1,E=1-u[g+"gap"],S=1-u[g+"groupgap"];for(m=0;m<e.length;m++){T=n[e[m]];var a=T[0].trace,C=T[0].t,b=a.width,z=a.side,k,U,F,V;if(b)k=U=V=b/2,F=0;else if(k=w,x){var N=s(u,o._id)+a.orientation,O=u._alignmentOpts[N]||{},H=O[a.alignmentgroup]||{},X=Object.keys(H.offsetGroups||{}).length,J=X||L,et=X?a._offsetIndex:C.num;U=k*E*S/J,F=2*k*(-.5+(et+.5)/J)*E,V=k*E/J}else U=k*E*S,F=0,V=k;C.dPos=k,C.bPos=F,C.bdPos=U,C.wHover=V;var it,ft,ot=F+U,Q,tt,Z,q,ut,$,j=!!b,lt=(a.boxpoints||a.points)&&i>0;if(z==="positive"?(it=k*(b?1:.5),Q=ot,ft=Q=F):z==="negative"?(it=Q=F,ft=k*(b?1:.5),tt=ot):(it=ft=k,Q=tt=ot),lt){var nt=a.pointpos,ht=a.jitter,mt=a.marker.size/2,At=0;nt+ht>=0&&(At=ot*(nt+ht),At>it?(j=!0,ut=mt,Z=At):At>Q&&(ut=mt,Z=it)),At<=it&&(Z=it);var bt=0;nt-ht<=0&&(bt=-ot*(nt-ht),bt>ft?(j=!0,$=mt,q=bt):bt>tt&&($=mt,q=ft)),bt<=ft&&(q=ft)}else Z=it,q=ft;var Pt=new Array(T.length);for(v=0;v<T.length;v++)Pt[v]=T[v].pos;a._extremes[f]=y.findExtremes(o,Pt,{padded:j,vpadminus:q,vpadplus:Z,vpadLinearized:!0,ppadminus:{x:$,y:ut}[c],ppadplus:{x:ut,y:$}[c]})}}}W.exports={crossTraceCalc:M,setPositionOffset:d}},90624:function(W,G,t){var y=t(3400),D=t(24040),s=t(76308),P=t(31147),M=t(20011),d=t(52976),g=t(63188);function r(u,f,c,m){function v(S,a){return y.coerce(u,f,g,S,a)}if(e(u,f,v,m),f.visible!==!1){P(u,f,m,v),v("xhoverformat"),v("yhoverformat");var T=f._hasPreCompStats;T&&(v("lowerfence"),v("upperfence")),v("line.color",(u.marker||{}).color||c),v("line.width"),v("fillcolor",s.addOpacity(f.line.color,.5));var h=!1;if(T){var i=v("mean"),p=v("sd");i&&i.length&&(h=!0,p&&p.length&&(h="sd"))}v("whiskerwidth");var w=v("sizemode"),A;w==="quartiles"&&(A=v("boxmean",h)),v("showwhiskers",w==="quartiles"),(w==="sd"||A==="sd")&&v("sdmultiple"),v("width"),v("quartilemethod");var L=!1;if(T){var x=v("notchspan");x&&x.length&&(L=!0)}else y.validate(u.notchwidth,g.notchwidth)&&(L=!0);var E=v("notched",L);E&&v("notchwidth"),o(u,f,v,{prefix:"box"}),v("zorder")}}function e(u,f,c,m){function v(X){var J=0;return X&&X.length&&(J+=1,y.isArrayOrTypedArray(X[0])&&X[0].length&&(J+=1)),J}function T(X){return y.validate(u[X],g[X])}var h=c("y"),i=c("x"),p;if(f.type==="box"){var w=c("q1"),A=c("median"),L=c("q3");f._hasPreCompStats=w&&w.length&&A&&A.length&&L&&L.length,p=Math.min(y.minRowLength(w),y.minRowLength(A),y.minRowLength(L))}var x=v(h),E=v(i),S=x&&y.minRowLength(h),a=E&&y.minRowLength(i),C=m.calendar,b={autotypenumbers:m.autotypenumbers},z,k;if(f._hasPreCompStats)switch(String(E)+String(x)){case"00":var U=T("x0")||T("dx"),F=T("y0")||T("dy");F&&!U?z="h":z="v",k=p;break;case"10":z="v",k=Math.min(p,a);break;case"20":z="h",k=Math.min(p,i.length);break;case"01":z="h",k=Math.min(p,S);break;case"02":z="v",k=Math.min(p,h.length);break;case"12":z="v",k=Math.min(p,a,h.length);break;case"21":z="h",k=Math.min(p,i.length,S);break;case"11":k=0;break;case"22":var V=!1,N;for(N=0;N<i.length;N++)if(d(i[N],C,b)==="category"){V=!0;break}if(V)z="v",k=Math.min(p,a,h.length);else{for(N=0;N<h.length;N++)if(d(h[N],C,b)==="category"){V=!0;break}V?(z="h",k=Math.min(p,i.length,S)):(z="v",k=Math.min(p,a,h.length))}break}else x>0?(z="v",E>0?k=Math.min(a,S):k=Math.min(S)):E>0?(z="h",k=Math.min(a)):k=0;if(!k){f.visible=!1;return}f._length=k;var O=c("orientation",z);f._hasPreCompStats?O==="v"&&E===0?(c("x0",0),c("dx",1)):O==="h"&&x===0&&(c("y0",0),c("dy",1)):O==="v"&&E===0?c("x0"):O==="h"&&x===0&&c("y0");var H=D.getComponentMethod("calendars","handleTraceDefaults");H(u,f,["x","y"],m)}function o(u,f,c,m){var v=m.prefix,T=y.coerce2(u,f,g,"marker.outliercolor"),h=c("marker.line.outliercolor"),i="outliers";f._hasPreCompStats?i="all":(T||h)&&(i="suspectedoutliers");var p=c(v+"points",i);p?(c("jitter",p==="all"?.3:0),c("pointpos",p==="all"?-1.5:0),c("marker.symbol"),c("marker.opacity"),c("marker.size"),c("marker.angle"),c("marker.color",f.line.color),c("marker.line.color"),c("marker.line.width"),p==="suspectedoutliers"&&(c("marker.line.outliercolor",f.marker.color),c("marker.line.outlierwidth")),c("selected.marker.color"),c("unselected.marker.color"),c("selected.marker.size"),c("unselected.marker.size"),c("text"),c("hovertext")):delete f.marker;var w=c("hoveron");(w==="all"||w.indexOf("points")!==-1)&&c("hovertemplate"),y.coerceSelectionMarkerOpacity(f,c)}function n(u,f){var c,m;function v(i){return y.coerce(m._input,m,g,i)}for(var T=0;T<u.length;T++){m=u[T];var h=m.type;(h==="box"||h==="violin")&&(c=m._input,f[h+"mode"]==="group"&&M(c,m,f,v))}}W.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:e,handlePointsDefaults:o}},10392:function(W){W.exports=function(t,y){return y.hoverOnBox&&(t.hoverOnBox=y.hoverOnBox),"xVal"in y&&(t.x=y.xVal),"yVal"in y&&(t.y=y.yVal),y.xa&&(t.xaxis=y.xa),y.ya&&(t.yaxis=y.ya),t}},27576:function(W,G,t){var y=t(54460),D=t(3400),s=t(93024),P=t(76308),M=D.fillText;function d(e,o,n,u){var f=e.cd,c=f[0].trace,m=c.hoveron,v=[],T;return m.indexOf("boxes")!==-1&&(v=v.concat(g(e,o,n,u))),m.indexOf("points")!==-1&&(T=r(e,o,n)),u==="closest"?T?[T]:v:(T&&v.push(T),v)}function g(e,o,n,u){var f=e.cd,c=e.xa,m=e.ya,v=f[0].trace,T=f[0].t,h=v.type==="violin",i,p,w,A,L,x,E,S,a,C,b,z=T.bdPos,k,U,F=T.wHover,V=function(bt){return w.c2l(bt.pos)+T.bPos-w.c2l(x)};h&&v.side!=="both"?(v.side==="positive"&&(a=function(bt){var Pt=V(bt);return s.inbox(Pt,Pt+F,C)},k=z,U=0),v.side==="negative"&&(a=function(bt){var Pt=V(bt);return s.inbox(Pt-F,Pt,C)},k=0,U=z)):(a=function(bt){var Pt=V(bt);return s.inbox(Pt-F,Pt+F,C)},k=U=z);var N;h?N=function(bt){return s.inbox(bt.span[0]-L,bt.span[1]-L,C)}:N=function(bt){return s.inbox(bt.min-L,bt.max-L,C)},v.orientation==="h"?(L=o,x=n,E=N,S=a,i="y",w=m,p="x",A=c):(L=n,x=o,E=a,S=N,i="x",w=c,p="y",A=m);var O=Math.min(1,z/Math.abs(w.r2c(w.range[1])-w.r2c(w.range[0])));C=e.maxHoverDistance-O,b=e.maxSpikeDistance-O;function H(bt){return(E(bt)+S(bt))/2}var X=s.getDistanceFunction(u,E,S,H);if(s.getClosest(f,X,e),e.index===!1)return[];var J=f[e.index],et=v.line.color,it=(v.marker||{}).color;P.opacity(et)&&v.line.width?e.color=et:P.opacity(it)&&v.boxpoints?e.color=it:e.color=v.fillcolor,e[i+"0"]=w.c2p(J.pos+T.bPos-U,!0),e[i+"1"]=w.c2p(J.pos+T.bPos+k,!0),e[i+"LabelVal"]=J.orig_p!==void 0?J.orig_p:J.pos;var ft=i+"Spike";e.spikeDistance=H(J)*b/C,e[ft]=w.c2p(J.pos,!0);var ot=v.boxmean||v.sizemode==="sd"||(v.meanline||{}).visible,Q=v.boxpoints||v.points,tt=Q&&ot?["max","uf","q3","med","mean","q1","lf","min"]:Q&&!ot?["max","uf","q3","med","q1","lf","min"]:!Q&&ot?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Z=A.range[1]<A.range[0];v.orientation===(Z?"v":"h")&&tt.reverse();for(var q=e.spikeDistance,ut=e[ft],$=[],j=0;j<tt.length;j++){var lt=tt[j];if(lt in J){var nt=J[lt],ht=A.c2p(nt,!0),mt=D.extendFlat({},e);mt.attr=lt,mt[p+"0"]=mt[p+"1"]=ht,mt[p+"LabelVal"]=nt,mt[p+"Label"]=(T.labels?T.labels[lt]+" ":"")+y.hoverLabelText(A,nt,v[p+"hoverformat"]),mt.hoverOnBox=!0,lt==="mean"&&"sd"in J&&(v.boxmean==="sd"||v.sizemode==="sd")&&(mt[p+"err"]=J.sd),mt.hovertemplate=!1,$.push(mt)}}e.name="",e.spikeDistance=void 0,e[ft]=void 0;for(var At=0;At<$.length;At++)$[At].attr!=="med"?($[At].name="",$[At].spikeDistance=void 0,$[At][ft]=void 0):($[At].spikeDistance=q,$[At][ft]=ut);return $}function r(e,o,n){for(var u=e.cd,f=e.xa,c=e.ya,m=u[0].trace,v=f.c2p(o),T=c.c2p(n),h,i=function(N){var O=Math.max(3,N.mrc||0);return Math.max(Math.abs(f.c2p(N.x)-v)-O,1-3/O)},p=function(N){var O=Math.max(3,N.mrc||0);return Math.max(Math.abs(c.c2p(N.y)-T)-O,1-3/O)},w=s.quadrature(i,p),A=!1,L,x,E=0;E<u.length;E++){L=u[E];for(var S=0;S<(L.pts||[]).length;S++){x=L.pts[S];var a=w(x);a<=e.distance&&(e.distance=a,A=[E,S])}}if(!A)return!1;L=u[A[0]],x=L.pts[A[1]];var C=f.c2p(x.x,!0),b=c.c2p(x.y,!0),z=x.mrc||1;h=D.extendFlat({},e,{index:x.i,color:(m.marker||{}).color,name:m.name,x0:C-z,x1:C+z,y0:b-z,y1:b+z,spikeDistance:e.distance,hovertemplate:m.hovertemplate});var k=L.orig_p,U=k!==void 0?k:L.pos,F;m.orientation==="h"?(F=c,h.xLabelVal=x.x,h.yLabelVal=U):(F=f,h.xLabelVal=U,h.yLabelVal=x.y);var V=F._id.charAt(0);return h[V+"Spike"]=F.c2p(L.pos,!0),M(x,m,h),h}W.exports={hoverPoints:d,hoverOnBoxes:g,hoverOnPoints:r}},67244:function(W,G,t){W.exports={attributes:t(63188),layoutAttributes:t(16560),supplyDefaults:t(90624).supplyDefaults,crossTraceDefaults:t(90624).crossTraceDefaults,supplyLayoutDefaults:t(68832).supplyLayoutDefaults,calc:t(62555),crossTraceCalc:t(96404).crossTraceCalc,plot:t(18728).plot,style:t(25776).style,styleOnSelect:t(25776).styleOnSelect,hoverPoints:t(27576).hoverPoints,eventData:t(10392),selectPoints:t(8264),moduleType:"trace",name:"box",basePlotModule:t(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(W){W.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(W,G,t){var y=t(24040),D=t(3400),s=t(16560);function P(d,g,r,e,o){for(var n=o+"Layout",u=!1,f=0;f<r.length;f++){var c=r[f];if(y.traceIs(c,n)){u=!0;break}}u&&(e(o+"mode"),e(o+"gap"),e(o+"groupgap"))}function M(d,g,r){function e(o,n){return D.coerce(d,g,s,o,n)}P(d,g,r,e,"box")}W.exports={supplyLayoutDefaults:M,_supply:P}},18728:function(W,G,t){var y=t(33428),D=t(3400),s=t(43616),P=5,M=.01;function d(o,n,u,f){var c=o._context.staticPlot,m=n.xaxis,v=n.yaxis;D.makeTraceGroups(f,u,"trace boxes").each(function(T){var h=y.select(this),i=T[0],p=i.t,w=i.trace;if(p.wdPos=p.bdPos*w.whiskerwidth,w.visible!==!0||p.empty){h.remove();return}var A,L;w.orientation==="h"?(A=v,L=m):(A=m,L=v),g(h,{pos:A,val:L},w,p,c),r(h,{x:m,y:v},w,p),e(h,{pos:A,val:L},w,p)})}function g(o,n,u,f,c){var m=u.orientation==="h",v=n.val,T=n.pos,h=!!T.rangebreaks,i=f.bPos,p=f.wdPos||0,w=f.bPosPxOffset||0,A=u.whiskerwidth||0,L=u.showwhiskers!==!1,x=u.notched||!1,E=x?1-2*u.notchwidth:1,S,a;Array.isArray(f.bdPos)?(S=f.bdPos[0],a=f.bdPos[1]):(S=f.bdPos,a=f.bdPos);var C=o.selectAll("path.box").data(u.type!=="violin"||u.box.visible?D.identity:[]);C.enter().append("path").style("vector-effect",c?"none":"non-scaling-stroke").attr("class","box"),C.exit().remove(),C.each(function(b){if(b.empty)return y.select(this).attr("d","M0,0Z");var z=T.c2l(b.pos+i,!0),k=T.l2p(z-S)+w,U=T.l2p(z+a)+w,F=h?(k+U)/2:T.l2p(z)+w,V=u.whiskerwidth,N=h?k*V+(1-V)*F:T.l2p(z-p)+w,O=h?U*V+(1-V)*F:T.l2p(z+p)+w,H=T.l2p(z-S*E)+w,X=T.l2p(z+a*E)+w,J=u.sizemode==="sd",et=v.c2p(J?b.mean-b.sd:b.q1,!0),it=J?v.c2p(b.mean+b.sd,!0):v.c2p(b.q3,!0),ft=D.constrain(J?v.c2p(b.mean,!0):v.c2p(b.med,!0),Math.min(et,it)+1,Math.max(et,it)-1),ot=b.lf===void 0||u.boxpoints===!1||J,Q=v.c2p(ot?b.min:b.lf,!0),tt=v.c2p(ot?b.max:b.uf,!0),Z=v.c2p(b.ln,!0),q=v.c2p(b.un,!0);m?y.select(this).attr("d","M"+ft+","+H+"V"+X+"M"+et+","+k+"V"+U+(x?"H"+Z+"L"+ft+","+X+"L"+q+","+U:"")+"H"+it+"V"+k+(x?"H"+q+"L"+ft+","+H+"L"+Z+","+k:"")+"Z"+(L?"M"+et+","+F+"H"+Q+"M"+it+","+F+"H"+tt+(A===0?"":"M"+Q+","+N+"V"+O+"M"+tt+","+N+"V"+O):"")):y.select(this).attr("d","M"+H+","+ft+"H"+X+"M"+k+","+et+"H"+U+(x?"V"+Z+"L"+X+","+ft+"L"+U+","+q:"")+"V"+it+"H"+k+(x?"V"+q+"L"+H+","+ft+"L"+k+","+Z:"")+"Z"+(L?"M"+F+","+et+"V"+Q+"M"+F+","+it+"V"+tt+(A===0?"":"M"+N+","+Q+"H"+O+"M"+N+","+tt+"H"+O):""))})}function r(o,n,u,f){var c=n.x,m=n.y,v=f.bdPos,T=f.bPos,h=u.boxpoints||u.points;D.seedPseudoRandom();var i=function(A){return A.forEach(function(L){L.t=f,L.trace=u}),A},p=o.selectAll("g.points").data(h?i:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var w=p.selectAll("path").data(function(A){var L,x=A.pts2,E=Math.max((A.max-A.min)/10,A.q3-A.q1),S=E*1e-9,a=E*M,C=[],b=0,z;if(u.jitter){if(E===0)for(b=1,C=new Array(x.length),L=0;L<x.length;L++)C[L]=1;else for(L=0;L<x.length;L++){var k=Math.max(0,L-P),U=x[k].v,F=Math.min(x.length-1,L+P),V=x[F].v;h!=="all"&&(x[L].v<A.lf?V=Math.min(V,A.lf):U=Math.max(U,A.uf));var N=Math.sqrt(a*(F-k)/(V-U+S))||0;N=D.constrain(Math.abs(N),0,1),C.push(N),b=Math.max(N,b)}z=u.jitter*2/(b||1)}for(L=0;L<x.length;L++){var O=x[L],H=O.v,X=u.jitter?z*C[L]*(D.pseudoRandom()-.5):0,J=A.pos+T+v*(u.pointpos+X);u.orientation==="h"?(O.y=J,O.x=H):(O.x=J,O.y=H),h==="suspectedoutliers"&&H<A.uo&&H>A.lo&&(O.so=!0)}return x});w.enter().append("path").classed("point",!0),w.exit().remove(),w.call(s.translatePoints,c,m)}function e(o,n,u,f){var c=n.val,m=n.pos,v=!!m.rangebreaks,T=f.bPos,h=f.bPosPxOffset||0,i=u.boxmean||(u.meanline||{}).visible,p,w;Array.isArray(f.bdPos)?(p=f.bdPos[0],w=f.bdPos[1]):(p=f.bdPos,w=f.bdPos);var A=o.selectAll("path.mean").data(u.type==="box"&&u.boxmean||u.type==="violin"&&u.box.visible&&u.meanline.visible?D.identity:[]);A.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),A.exit().remove(),A.each(function(L){var x=m.c2l(L.pos+T,!0),E=m.l2p(x-p)+h,S=m.l2p(x+w)+h,a=v?(E+S)/2:m.l2p(x)+h,C=c.c2p(L.mean,!0),b=c.c2p(L.mean-L.sd,!0),z=c.c2p(L.mean+L.sd,!0);u.orientation==="h"?y.select(this).attr("d","M"+C+","+E+"V"+S+(i==="sd"?"m0,0L"+b+","+a+"L"+C+","+E+"L"+z+","+a+"Z":"")):y.select(this).attr("d","M"+E+","+C+"H"+S+(i==="sd"?"m0,0L"+a+","+b+"L"+E+","+C+"L"+a+","+z+"Z":""))})}W.exports={plot:d,plotBoxAndWhiskers:g,plotPoints:r,plotBoxMean:e}},8264:function(W){W.exports=function(t,y){var D=t.cd,s=t.xaxis,P=t.yaxis,M=[],d,g;if(y===!1)for(d=0;d<D.length;d++)for(g=0;g<(D[d].pts||[]).length;g++)D[d].pts[g].selected=0;else for(d=0;d<D.length;d++)for(g=0;g<(D[d].pts||[]).length;g++){var r=D[d].pts[g],e=s.c2p(r.x),o=P.c2p(r.y);y.contains([e,o],null,r.i,t)?(M.push({pointNumber:r.i,x:s.c2d(r.x),y:P.c2d(r.y)}),r.selected=1):r.selected=0}return M}},25776:function(W,G,t){var y=t(33428),D=t(76308),s=t(43616);function P(d,g,r){var e=r||y.select(d).selectAll("g.trace.boxes");e.style("opacity",function(o){return o[0].trace.opacity}),e.each(function(o){var n=y.select(this),u=o[0].trace,f=u.line.width;function c(T,h,i,p){T.style("stroke-width",h+"px").call(D.stroke,i).call(D.fill,p)}var m=n.selectAll("path.box");if(u.type==="candlestick")m.each(function(T){if(!T.empty){var h=y.select(this),i=u[T.dir];c(h,i.line.width,i.line.color,i.fillcolor),h.style("opacity",u.selectedpoints&&!T.selected?.3:1)}});else{c(m,f,u.line.color,u.fillcolor),n.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(D.stroke,u.line.color);var v=n.selectAll("path.point");s.pointStyle(v,u,d)}})}function M(d,g,r){var e=g[0].trace,o=r.selectAll("path.point");e.selectedpoints?s.selectedPointStyle(o,e):s.pointStyle(o,e,d)}W.exports={style:P,styleOnSelect:M}},64216:function(W,G,t){var y=t(3400).extendFlat,D=t(29736).axisHoverFormat,s=t(20279),P=t(63188);function M(d){return{line:{color:y({},P.line.color,{dflt:d}),width:P.line.width,editType:"style"},fillcolor:P.fillcolor,editType:"style"}}W.exports={xperiod:s.xperiod,xperiod0:s.xperiod0,xperiodalignment:s.xperiodalignment,xhoverformat:D("x"),yhoverformat:D("y"),x:s.x,open:s.open,high:s.high,low:s.low,close:s.close,line:{width:y({},P.line.width,{}),editType:"style"},increasing:M(s.increasing.line.color.dflt),decreasing:M(s.decreasing.line.color.dflt),text:s.text,hovertext:s.hovertext,whiskerwidth:y({},P.whiskerwidth,{dflt:0}),hoverlabel:s.hoverlabel,zorder:P.zorder}},46283:function(W,G,t){var y=t(3400),D=t(54460),s=t(1220),P=t(42812).calcCommon;W.exports=function(d,g){var r=d._fullLayout,e=D.getFromId(d,g.xaxis),o=D.getFromId(d,g.yaxis),n=e.makeCalcdata(g,"x"),u=s(g,e,"x",n).vals,f=P(d,g,n,u,o,M);return f.length?(y.extendFlat(f[0].t,{num:r._numBoxes,dPos:y.distinctVals(u).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,f):[{t:{empty:!0}}]};function M(d,g,r,e){return{min:r,q1:Math.min(d,e),med:e,q3:Math.max(d,e),max:g}}},64588:function(W,G,t){var y=t(3400),D=t(76308),s=t(52744),P=t(31147),M=t(64216);W.exports=function(r,e,o,n){function u(c,m){return y.coerce(r,e,M,c,m)}var f=s(r,e,u,n);if(!f){e.visible=!1;return}P(r,e,n,u,{x:!0}),u("xhoverformat"),u("yhoverformat"),u("line.width"),d(r,e,u,"increasing"),d(r,e,u,"decreasing"),u("text"),u("hovertext"),u("whiskerwidth"),n._requestRangeslider[e.xaxis]=!0,u("zorder")};function d(g,r,e,o){var n=e(o+".line.color");e(o+".line.width",r.line.width),e(o+".fillcolor",D.addOpacity(n,.5))}},61712:function(W,G,t){W.exports={moduleType:"trace",name:"candlestick",basePlotModule:t(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:t(64216),layoutAttributes:t(16560),supplyLayoutDefaults:t(68832).supplyLayoutDefaults,crossTraceCalc:t(96404).crossTraceCalc,supplyDefaults:t(64588),calc:t(46283),plot:t(18728).plot,layerName:"boxlayer",style:t(25776).style,hoverPoints:t(18720).hoverPoints,selectPoints:t(97384)}},93504:function(W,G,t){var y=t(63856),D=t(31780);W.exports=function(M,d,g,r,e){var o=r("a");o||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),s(M,d,g,e)};function s(P,M,d,g){var r=["aaxis","baxis"];r.forEach(function(e){var o=e.charAt(0),n=P[e]||{},u=D.newContainer(M,e),f={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,tickfont:"x",id:o+"axis",letter:o,font:M.font,name:e,data:P[o],calendar:M.calendar,dfltColor:g,bgColor:d.paper_bgcolor,autotypenumbersDflt:d.autotypenumbers,fullLayout:d};y(n,u,f),u._categories=u._categories||[],!P[e]&&n.type!=="-"&&(P[e]={type:n.type})})}},51676:function(W,G,t){var y=t(3400).isArrayOrTypedArray;W.exports=function(s){return D(s,0)};function D(s,P){if(!y(s)||P>=10)return null;for(var M=1/0,d=-1/0,g=s.length,r=0;r<g;r++){var e=s[r];if(y(e)){var o=D(e,P+1);o&&(M=Math.min(o[0],M),d=Math.max(o[1],d))}else M=Math.min(e,M),d=Math.max(e,d)}return[M,d]}},85720:function(W,G,t){var y=t(25376),D=t(98692),s=t(22548),P=y({editType:"calc"}),M=t(52904).zorder;P.family.dflt='"Open Sans", verdana, arial, sans-serif',P.size.dflt=12,P.color.dflt=s.defaultLine,W.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:D,baxis:D,font:P,color:{valType:"color",dflt:s.defaultLine,editType:"plot"},transforms:void 0,zorder:M}},77712:function(W,G,t){var y=t(3400).isArrayOrTypedArray;W.exports=function(D,s,P,M){var d,g,r,e,o,n,u,f,c,m,v,T,h,i=y(P)?"a":"b",p=i==="a"?D.aaxis:D.baxis,w=p.smoothing,A=i==="a"?D.a2i:D.b2j,L=i==="a"?P:M,x=i==="a"?M:P,E=i==="a"?s.a.length:s.b.length,S=i==="a"?s.b.length:s.a.length,a=Math.floor(i==="a"?D.b2j(x):D.a2i(x)),C=i==="a"?function(et){return D.evalxy([],et,a)}:function(et){return D.evalxy([],a,et)};w&&(r=Math.max(0,Math.min(S-2,a)),e=a-r,g=i==="a"?function(et,it){return D.dxydi([],et,r,it,e)}:function(et,it){return D.dxydj([],r,et,e,it)});var b=A(L[0]),z=A(L[1]),k=b<z?1:-1,U=(z-b)*1e-8,F=k>0?Math.floor:Math.ceil,V=k>0?Math.ceil:Math.floor,N=k>0?Math.min:Math.max,O=k>0?Math.max:Math.min,H=F(b+U),X=V(z-U);u=C(b);var J=[[u]];for(d=H;d*k<X*k;d+=k)o=[],v=O(b,d),T=N(z,d+k),h=T-v,n=Math.max(0,Math.min(E-2,Math.floor(.5*(v+T)))),f=C(T),w&&(c=g(n,v-n),m=g(n,T-n),o.push([u[0]+c[0]/3*h,u[1]+c[1]/3*h]),o.push([f[0]-m[0]/3*h,f[1]-m[1]/3*h])),o.push(f),J.push(o),u=f;return J}},98692:function(W,G,t){var y=t(25376),D=t(22548),s=t(94724),P=t(29736).descriptionWithDates,M=t(67824).overrideAll,d=t(98192).u,g=t(92880).extendFlat;W.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:y({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:s.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:g({},s.labelalias,{editType:"calc"}),tickfont:y({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:P("tick label")},tickformatstops:M(s.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:D.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:g({},d,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:g({},d,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:D.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:y({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(W,G,t){var y=t(85720),D=t(76308).addOpacity,s=t(24040),P=t(3400),M=t(26332),d=t(95936),g=t(42568),r=t(22416),e=t(78344),o=t(52976);W.exports=function(f,c,m){var v=m.letter,T=m.font||{},h=y[v+"axis"];function i(H,X){return P.coerce(f,c,h,H,X)}function p(H,X){return P.coerce2(f,c,h,H,X)}m.name&&(c._name=m.name,c._id=m.name),i("autotypenumbers",m.autotypenumbersDflt);var w=i("type");if(w==="-"&&(m.data&&n(c,m.data),c.type==="-"?c.type="linear":w=f.type=c.type),i("smoothing"),i("cheatertype"),i("showticklabels"),i("labelprefix",v+" = "),i("labelsuffix"),i("showtickprefix"),i("showticksuffix"),i("separatethousands"),i("tickformat"),i("exponentformat"),i("minexponent"),i("showexponent"),i("categoryorder"),i("tickmode"),i("tickvals"),i("ticktext"),i("tick0"),i("dtick"),c.tickmode==="array"&&(i("arraytick0"),i("arraydtick")),i("labelpadding"),c._hovertitle=v,w==="date"){var A=s.getComponentMethod("calendars","handleDefaults");A(f,c,"calendar",m.calendar)}e(c,m.fullLayout),c.c2p=P.identity;var L=i("color",m.dfltColor),x=L===f.color?L:T.color,E=i("title.text");E&&(P.coerceFont(i,"title.font",T,{overrideDflt:{size:P.bigFont(T.size),color:x}}),i("title.offset")),i("tickangle");var S=i("autorange",!c.isValidRange(f.range));S&&i("rangemode"),i("range"),c.cleanRange(),i("fixedrange"),M(f,c,i,w),g(f,c,i,w,m),d(f,c,i,w,m),r(f,c,i,{data:m.data,dataAttr:v});var a=p("gridcolor",D(L,.3)),C=p("gridwidth"),b=p("griddash"),z=i("showgrid");z||(delete c.gridcolor,delete c.gridwidth,delete c.griddash);var k=p("startlinecolor",L),U=p("startlinewidth",C),F=i("startline",c.showgrid||!!k||!!U);F||(delete c.startlinecolor,delete c.startlinewidth);var V=p("endlinecolor",L),N=p("endlinewidth",C),O=i("endline",c.showgrid||!!V||!!N);return O||(delete c.endlinecolor,delete c.endlinewidth),z?(i("minorgridcount"),i("minorgridwidth",C),i("minorgriddash",b),i("minorgridcolor",D(a,.06)),c.minorgridcount||(delete c.minorgridwidth,delete c.minorgriddash,delete c.minorgridcolor)):(delete c.gridcolor,delete c.gridwidth,delete c.griddash),c.showticklabels==="none"&&(delete c.tickfont,delete c.tickangle,delete c.showexponent,delete c.exponentformat,delete c.minexponent,delete c.tickformat,delete c.showticksuffix,delete c.showtickprefix),c.showticksuffix||delete c.ticksuffix,c.showtickprefix||delete c.tickprefix,i("tickmode"),c};function n(u,f){if(u.type==="-"){var c=u._id,m=c.charAt(0),v=m+"calendar",T=u[v];u.type=o(f,T,{autotypenumbers:u.autotypenumbers})}}},58744:function(W,G,t){var y=t(54460),D=t(3400).isArray1D,s=t(60776),P=t(51676),M=t(19216),d=t(14724),g=t(24944),r=t(26136),e=t(51512),o=t(2872),n=t(81e3);W.exports=function(f,c){var m=y.getFromId(f,c.xaxis),v=y.getFromId(f,c.yaxis),T=c.aaxis,h=c.baxis,i=c.x,p=c.y,w=[];i&&D(i)&&w.push("x"),p&&D(p)&&w.push("y"),w.length&&o(c,T,h,"a","b",w);var A=c._a=c._a||c.a,L=c._b=c._b||c.b;i=c._x||c.x,p=c._y||c.y;var x={};if(c._cheater){var E=T.cheatertype==="index"?A.length:A,S=h.cheatertype==="index"?L.length:L;i=s(E,S,c.cheaterslope)}c._x=i=r(i),c._y=p=r(p),e(i,A,L),e(p,A,L),n(c),c.setScale();var a=P(i),C=P(p),b=.5*(a[1]-a[0]),z=.5*(a[1]+a[0]),k=.5*(C[1]-C[0]),U=.5*(C[1]+C[0]),F=1.3;return a=[z-b*F,z+b*F],C=[U-k*F,U+k*F],c._extremes[m._id]=y.findExtremes(m,a,{padded:!0}),c._extremes[v._id]=y.findExtremes(v,C,{padded:!0}),M(c,"a","b"),M(c,"b","a"),d(c,T),d(c,h),x.clipsegments=g(c._xctrl,c._yctrl,T,h),x.x=i,x.y=p,x.a=A,x.b=L,[x]}},24944:function(W){W.exports=function(t,y,D,s){var P,M,d,g=[],r=!!D.smoothing,e=!!s.smoothing,o=t[0].length-1,n=t.length-1;for(P=0,M=[],d=[];P<=o;P++)M[P]=t[0][P],d[P]=y[0][P];for(g.push({x:M,y:d,bicubic:r}),P=0,M=[],d=[];P<=n;P++)M[P]=t[P][o],d[P]=y[P][o];for(g.push({x:M,y:d,bicubic:e}),P=o,M=[],d=[];P>=0;P--)M[o-P]=t[n][P],d[o-P]=y[n][P];for(g.push({x:M,y:d,bicubic:r}),P=n,M=[],d=[];P>=0;P--)M[n-P]=t[P][0],d[n-P]=y[P][0];return g.push({x:M,y:d,bicubic:e}),g}},19216:function(W,G,t){var y=t(54460),D=t(92880).extendFlat;W.exports=function(P,M,d){var g,r,e,o,n,u,f,c,m,v,T,h,i,p,w=P["_"+M],A=P[M+"axis"],L=A._gridlines=[],x=A._minorgridlines=[],E=A._boundarylines=[],S=P["_"+d],a=P[d+"axis"];A.tickmode==="array"&&(A.tickvals=w.slice());var C=P._xctrl,b=P._yctrl,z=C[0].length,k=C.length,U=P._a.length,F=P._b.length;y.prepTicks(A),A.tickmode==="array"&&delete A.tickvals;var V=A.smoothing?3:1;function N(H){var X,J,et,it,ft,ot,Q,tt,Z,q,ut,$,j=[],lt=[],nt={};if(M==="b")for(J=P.b2j(H),et=Math.floor(Math.max(0,Math.min(F-2,J))),it=J-et,nt.length=F,nt.crossLength=U,nt.xy=function(ht){return P.evalxy([],ht,J)},nt.dxy=function(ht,mt){return P.dxydi([],ht,et,mt,it)},X=0;X<U;X++)ot=Math.min(U-2,X),Q=X-ot,tt=P.evalxy([],X,J),a.smoothing&&X>0&&(Z=P.dxydi([],X-1,et,0,it),j.push(ft[0]+Z[0]/3),lt.push(ft[1]+Z[1]/3),q=P.dxydi([],X-1,et,1,it),j.push(tt[0]-q[0]/3),lt.push(tt[1]-q[1]/3)),j.push(tt[0]),lt.push(tt[1]),ft=tt;else for(X=P.a2i(H),ot=Math.floor(Math.max(0,Math.min(U-2,X))),Q=X-ot,nt.length=U,nt.crossLength=F,nt.xy=function(ht){return P.evalxy([],X,ht)},nt.dxy=function(ht,mt){return P.dxydj([],ot,ht,Q,mt)},J=0;J<F;J++)et=Math.min(F-2,J),it=J-et,tt=P.evalxy([],X,J),a.smoothing&&J>0&&(ut=P.dxydj([],ot,J-1,Q,0),j.push(ft[0]+ut[0]/3),lt.push(ft[1]+ut[1]/3),$=P.dxydj([],ot,J-1,Q,1),j.push(tt[0]-$[0]/3),lt.push(tt[1]-$[1]/3)),j.push(tt[0]),lt.push(tt[1]),ft=tt;return nt.axisLetter=M,nt.axis=A,nt.crossAxis=a,nt.value=H,nt.constvar=d,nt.index=c,nt.x=j,nt.y=lt,nt.smoothing=a.smoothing,nt}function O(H){var X,J,et,it,ft,ot=[],Q=[],tt={};if(tt.length=w.length,tt.crossLength=S.length,M==="b")for(et=Math.max(0,Math.min(F-2,H)),ft=Math.min(1,Math.max(0,H-et)),tt.xy=function(Z){return P.evalxy([],Z,H)},tt.dxy=function(Z,q){return P.dxydi([],Z,et,q,ft)},X=0;X<z;X++)ot[X]=C[H*V][X],Q[X]=b[H*V][X];else for(J=Math.max(0,Math.min(U-2,H)),it=Math.min(1,Math.max(0,H-J)),tt.xy=function(Z){return P.evalxy([],H,Z)},tt.dxy=function(Z,q){return P.dxydj([],J,Z,it,q)},X=0;X<k;X++)ot[X]=C[X][H*V],Q[X]=b[X][H*V];return tt.axisLetter=M,tt.axis=A,tt.crossAxis=a,tt.value=w[H],tt.constvar=d,tt.index=H,tt.x=ot,tt.y=Q,tt.smoothing=a.smoothing,tt}if(A.tickmode==="array"){for(o=5e-15,n=[Math.floor((w.length-1-A.arraytick0)/A.arraydtick*(1+o)),Math.ceil(-A.arraytick0/A.arraydtick/(1+o))].sort(function(H,X){return H-X}),u=n[0]-1,f=n[1]+1,c=u;c<f;c++)r=A.arraytick0+A.arraydtick*c,!(r<0||r>w.length-1)&&L.push(D(O(r),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(c=u;c<f;c++)if(e=A.arraytick0+A.arraydtick*c,T=Math.min(e+A.arraydtick,w.length-1),!(e<0||e>w.length-1)&&!(T<0||T>w.length-1))for(h=w[e],i=w[T],g=0;g<A.minorgridcount;g++)p=T-e,!(p<=0)&&(v=h+(i-h)*(g+1)/(A.minorgridcount+1)*(A.arraydtick/p),!(v<w[0]||v>w[w.length-1])&&x.push(D(N(v),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash})));A.startline&&E.push(D(O(0),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&E.push(D(O(w.length-1),{color:A.endlinecolor,width:A.endlinewidth}))}else{for(o=5e-15,n=[Math.floor((w[w.length-1]-A.tick0)/A.dtick*(1+o)),Math.ceil((w[0]-A.tick0)/A.dtick/(1+o))].sort(function(H,X){return H-X}),u=n[0],f=n[1],c=u;c<=f;c++)m=A.tick0+A.dtick*c,L.push(D(N(m),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(c=u-1;c<f+1;c++)for(m=A.tick0+A.dtick*c,g=0;g<A.minorgridcount;g++)v=m+A.dtick*(g+1)/(A.minorgridcount+1),!(v<w[0]||v>w[w.length-1])&&x.push(D(N(v),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash}));A.startline&&E.push(D(N(w[0]),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&E.push(D(N(w[w.length-1]),{color:A.endlinecolor,width:A.endlinewidth}))}}},14724:function(W,G,t){var y=t(54460),D=t(92880).extendFlat;W.exports=function(P,M){var d,g,r,e,o,n=M._labels=[],u=M._gridlines;for(d=0;d<u.length;d++)o=u[d],["start","both"].indexOf(M.showticklabels)!==-1&&(g=y.tickText(M,o.value),D(g,{prefix:r,suffix:e,endAnchor:!0,xy:o.xy(0),dxy:o.dxy(0,0),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:d===0,isLast:d===u.length-1}),n.push(g)),["end","both"].indexOf(M.showticklabels)!==-1&&(g=y.tickText(M,o.value),D(g,{endAnchor:!1,xy:o.xy(o.crossLength-1),dxy:o.dxy(o.crossLength-2,1),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:d===0,isLast:d===u.length-1}),n.push(g))}},62284:function(W){var G=.5;W.exports=function(y,D,s,P){var M=y[0]-D[0],d=y[1]-D[1],g=s[0]-D[0],r=s[1]-D[1],e=Math.pow(M*M+d*d,G/2),o=Math.pow(g*g+r*r,G/2),n=(o*o*M-e*e*g)*P,u=(o*o*d-e*e*r)*P,f=o*(e+o)*3,c=e*(e+o)*3;return[[D[0]+(f&&n/f),D[1]+(f&&u/f)],[D[0]-(c&&n/c),D[1]-(c&&u/c)]]}},60776:function(W,G,t){var y=t(3400).isArrayOrTypedArray;W.exports=function(D,s,P){var M,d,g,r,e,o,n=[],u=y(D)?D.length:D,f=y(s)?s.length:s,c=y(D)?D:null,m=y(s)?s:null;c&&(g=(c.length-1)/(c[c.length-1]-c[0])/(u-1)),m&&(r=(m.length-1)/(m[m.length-1]-m[0])/(f-1));var v,T=1/0,h=-1/0;for(d=0;d<f;d++)for(n[d]=[],o=m?(m[d]-m[0])*r:d/(f-1),M=0;M<u;M++)e=c?(c[M]-c[0])*g:M/(u-1),v=e-o*P,T=Math.min(v,T),h=Math.max(v,h),n[d][M]=v;var i=1/(h-T),p=-T*i;for(d=0;d<f;d++)for(M=0;M<u;M++)n[d][M]=i*n[d][M]+p;return n}},30180:function(W,G,t){var y=t(62284),D=t(3400).ensureArray;function s(P,M,d){var g=-.5*d[0]+1.5*M[0],r=-.5*d[1]+1.5*M[1];return[(2*g+P[0])/3,(2*r+P[1])/3]}W.exports=function(M,d,g,r,e,o){var n,u,f,c,m,v,T,h,i,p,w=g[0].length,A=g.length,L=e?3*w-2:w,x=o?3*A-2:A;for(M=D(M,x),d=D(d,x),f=0;f<x;f++)M[f]=D(M[f],L),d[f]=D(d[f],L);for(u=0,c=0;u<A;u++,c+=o?3:1)for(m=M[c],v=d[c],T=g[u],h=r[u],n=0,f=0;n<w;n++,f+=e?3:1)m[f]=T[n],v[f]=h[n];if(e)for(u=0,c=0;u<A;u++,c+=o?3:1){for(n=1,f=3;n<w-1;n++,f+=3)i=y([g[u][n-1],r[u][n-1]],[g[u][n],r[u][n]],[g[u][n+1],r[u][n+1]],e),M[c][f-1]=i[0][0],d[c][f-1]=i[0][1],M[c][f+1]=i[1][0],d[c][f+1]=i[1][1];p=s([M[c][0],d[c][0]],[M[c][2],d[c][2]],[M[c][3],d[c][3]]),M[c][1]=p[0],d[c][1]=p[1],p=s([M[c][L-1],d[c][L-1]],[M[c][L-3],d[c][L-3]],[M[c][L-4],d[c][L-4]]),M[c][L-2]=p[0],d[c][L-2]=p[1]}if(o)for(f=0;f<L;f++){for(c=3;c<x-3;c+=3)i=y([M[c-3][f],d[c-3][f]],[M[c][f],d[c][f]],[M[c+3][f],d[c+3][f]],o),M[c-1][f]=i[0][0],d[c-1][f]=i[0][1],M[c+1][f]=i[1][0],d[c+1][f]=i[1][1];p=s([M[0][f],d[0][f]],[M[2][f],d[2][f]],[M[3][f],d[3][f]]),M[1][f]=p[0],d[1][f]=p[1],p=s([M[x-1][f],d[x-1][f]],[M[x-3][f],d[x-3][f]],[M[x-4][f],d[x-4][f]]),M[x-2][f]=p[0],d[x-2][f]=p[1]}if(e&&o)for(c=1;c<x;c+=(c+1)%3===0?2:1){for(f=3;f<L-3;f+=3)i=y([M[c][f-3],d[c][f-3]],[M[c][f],d[c][f]],[M[c][f+3],d[c][f+3]],e),M[c][f-1]=.5*(M[c][f-1]+i[0][0]),d[c][f-1]=.5*(d[c][f-1]+i[0][1]),M[c][f+1]=.5*(M[c][f+1]+i[1][0]),d[c][f+1]=.5*(d[c][f+1]+i[1][1]);p=s([M[c][0],d[c][0]],[M[c][2],d[c][2]],[M[c][3],d[c][3]]),M[c][1]=.5*(M[c][1]+p[0]),d[c][1]=.5*(d[c][1]+p[1]),p=s([M[c][L-1],d[c][L-1]],[M[c][L-3],d[c][L-3]],[M[c][L-4],d[c][L-4]]),M[c][L-2]=.5*(M[c][L-2]+p[0]),d[c][L-2]=.5*(d[c][L-2]+p[1])}return[M,d]}},24588:function(W){W.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(W){W.exports=function(G,t,y){return t&&y?function(D,s,P,M,d){D||(D=[]);var g,r,e,o,n,u;s*=3,P*=3;var f=M*M,c=1-M,m=c*c,v=c*M*2,T=-3*m,h=3*(m-v),i=3*(v-f),p=3*f,w=d*d,A=w*d,L=1-d,x=L*L,E=x*L;for(u=0;u<G.length;u++)n=G[u],g=T*n[P][s]+h*n[P][s+1]+i*n[P][s+2]+p*n[P][s+3],r=T*n[P+1][s]+h*n[P+1][s+1]+i*n[P+1][s+2]+p*n[P+1][s+3],e=T*n[P+2][s]+h*n[P+2][s+1]+i*n[P+2][s+2]+p*n[P+2][s+3],o=T*n[P+3][s]+h*n[P+3][s+1]+i*n[P+3][s+2]+p*n[P+3][s+3],D[u]=E*g+3*(x*d*r+L*w*e)+A*o;return D}:t?function(D,s,P,M,d){D||(D=[]);var g,r,e,o;s*=3;var n=M*M,u=1-M,f=u*u,c=u*M*2,m=-3*f,v=3*(f-c),T=3*(c-n),h=3*n,i=1-d;for(e=0;e<G.length;e++)o=G[e],g=m*o[P][s]+v*o[P][s+1]+T*o[P][s+2]+h*o[P][s+3],r=m*o[P+1][s]+v*o[P+1][s+1]+T*o[P+1][s+2]+h*o[P+1][s+3],D[e]=i*g+d*r;return D}:y?function(D,s,P,M,d){D||(D=[]);var g,r,e,o,n,u;P*=3;var f=d*d,c=f*d,m=1-d,v=m*m,T=v*m;for(n=0;n<G.length;n++)u=G[n],g=u[P][s+1]-u[P][s],r=u[P+1][s+1]-u[P+1][s],e=u[P+2][s+1]-u[P+2][s],o=u[P+3][s+1]-u[P+3][s],D[n]=T*g+3*(v*d*r+m*f*e)+c*o;return D}:function(D,s,P,M,d){D||(D=[]);var g,r,e,o,n=1-d;for(e=0;e<G.length;e++)o=G[e],g=o[P][s+1]-o[P][s],r=o[P+1][s+1]-o[P+1][s],D[e]=n*g+d*r;return D}}},24464:function(W){W.exports=function(G,t,y){return t&&y?function(D,s,P,M,d){D||(D=[]);var g,r,e,o,n,u;s*=3,P*=3;var f=M*M,c=f*M,m=1-M,v=m*m,T=v*m,h=d*d,i=1-d,p=i*i,w=i*d*2,A=-3*p,L=3*(p-w),x=3*(w-h),E=3*h;for(u=0;u<G.length;u++)n=G[u],g=A*n[P][s]+L*n[P+1][s]+x*n[P+2][s]+E*n[P+3][s],r=A*n[P][s+1]+L*n[P+1][s+1]+x*n[P+2][s+1]+E*n[P+3][s+1],e=A*n[P][s+2]+L*n[P+1][s+2]+x*n[P+2][s+2]+E*n[P+3][s+2],o=A*n[P][s+3]+L*n[P+1][s+3]+x*n[P+2][s+3]+E*n[P+3][s+3],D[u]=T*g+3*(v*M*r+m*f*e)+c*o;return D}:t?function(D,s,P,M,d){D||(D=[]);var g,r,e,o,n,u;s*=3;var f=d*d,c=f*d,m=1-d,v=m*m,T=v*m;for(n=0;n<G.length;n++)u=G[n],g=u[P+1][s]-u[P][s],r=u[P+1][s+1]-u[P][s+1],e=u[P+1][s+2]-u[P][s+2],o=u[P+1][s+3]-u[P][s+3],D[n]=T*g+3*(v*d*r+m*f*e)+c*o;return D}:y?function(D,s,P,M,d){D||(D=[]);var g,r,e,o;P*=3;var n=1-M,u=d*d,f=1-d,c=f*f,m=f*d*2,v=-3*c,T=3*(c-m),h=3*(m-u),i=3*u;for(e=0;e<G.length;e++)o=G[e],g=v*o[P][s]+T*o[P+1][s]+h*o[P+2][s]+i*o[P+3][s],r=v*o[P][s+1]+T*o[P+1][s+1]+h*o[P+2][s+1]+i*o[P+3][s+1],D[e]=n*g+M*r;return D}:function(D,s,P,M,d){D||(D=[]);var g,r,e,o,n=1-M;for(e=0;e<G.length;e++)o=G[e],g=o[P+1][s]-o[P][s],r=o[P+1][s+1]-o[P][s+1],D[e]=n*g+M*r;return D}}},29056:function(W){W.exports=function(G,t,y,D,s){var P=t-2,M=y-2;return D&&s?function(d,g,r){d||(d=[]);var e,o,n,u,f,c,m=Math.max(0,Math.min(Math.floor(g),P)),v=Math.max(0,Math.min(Math.floor(r),M)),T=Math.max(0,Math.min(1,g-m)),h=Math.max(0,Math.min(1,r-v));m*=3,v*=3;var i=T*T,p=i*T,w=1-T,A=w*w,L=A*w,x=h*h,E=x*h,S=1-h,a=S*S,C=a*S;for(c=0;c<G.length;c++)f=G[c],e=L*f[v][m]+3*(A*T*f[v][m+1]+w*i*f[v][m+2])+p*f[v][m+3],o=L*f[v+1][m]+3*(A*T*f[v+1][m+1]+w*i*f[v+1][m+2])+p*f[v+1][m+3],n=L*f[v+2][m]+3*(A*T*f[v+2][m+1]+w*i*f[v+2][m+2])+p*f[v+2][m+3],u=L*f[v+3][m]+3*(A*T*f[v+3][m+1]+w*i*f[v+3][m+2])+p*f[v+3][m+3],d[c]=C*e+3*(a*h*o+S*x*n)+E*u;return d}:D?function(d,g,r){d||(d=[]);var e=Math.max(0,Math.min(Math.floor(g),P)),o=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,g-e)),u=Math.max(0,Math.min(1,r-o)),f,c,m,v,T,h;e*=3;var i=n*n,p=i*n,w=1-n,A=w*w,L=A*w,x=1-u;for(T=0;T<G.length;T++)h=G[T],f=x*h[o][e]+u*h[o+1][e],c=x*h[o][e+1]+u*h[o+1][e+1],m=x*h[o][e+2]+u*h[o+1][e+1],v=x*h[o][e+3]+u*h[o+1][e+1],d[T]=L*f+3*(A*n*c+w*i*m)+p*v;return d}:s?function(d,g,r){d||(d=[]);var e=Math.max(0,Math.min(Math.floor(g),P)),o=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,g-e)),u=Math.max(0,Math.min(1,r-o)),f,c,m,v,T,h;o*=3;var i=u*u,p=i*u,w=1-u,A=w*w,L=A*w,x=1-n;for(T=0;T<G.length;T++)h=G[T],f=x*h[o][e]+n*h[o][e+1],c=x*h[o+1][e]+n*h[o+1][e+1],m=x*h[o+2][e]+n*h[o+2][e+1],v=x*h[o+3][e]+n*h[o+3][e+1],d[T]=L*f+3*(A*u*c+w*i*m)+p*v;return d}:function(d,g,r){d||(d=[]);var e=Math.max(0,Math.min(Math.floor(g),P)),o=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,g-e)),u=Math.max(0,Math.min(1,r-o)),f,c,m,v,T=1-u,h=1-n;for(m=0;m<G.length;m++)v=G[m],f=h*v[o][e]+n*v[o][e+1],c=h*v[o+1][e]+n*v[o+1][e+1],d[m]=T*f+u*c;return d}}},38356:function(W,G,t){var y=t(3400),D=t(86411),s=t(93504),P=t(85720),M=t(22548);W.exports=function(g,r,e,o){function n(c,m){return y.coerce(g,r,P,c,m)}r._clipPathId="clip"+r.uid+"carpet";var u=n("color",M.defaultLine);if(y.coerceFont(n,"font",o.font),n("carpet"),s(g,r,o,n,u),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var f=D(g,r,n);f||(r.visible=!1),r._cheater&&n("cheaterslope"),n("zorder")}},95856:function(W,G,t){W.exports={attributes:t(85720),supplyDefaults:t(38356),plot:t(164),calc:t(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:t(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(W){W.exports=function(G,t){for(var y=G._fullData.length,D,s=0;s<y;s++){var P=G._fullData[s];if(P.index!==t.index&&P.type==="carpet"&&(D||(D=P),P.carpet===t.carpet))return P}return D}},53416:function(W){W.exports=function(t,y,D){if(t.length===0)return"";var s,P=[],M=D?3:1;for(s=0;s<t.length;s+=M)P.push(t[s]+","+y[s]),D&&s<t.length-M&&(P.push("C"),P.push([t[s+1]+","+y[s+1],t[s+2]+","+y[s+2]+" "].join(" ")));return P.join(D?"":"L")}},87072:function(W,G,t){var y=t(3400).isArrayOrTypedArray;W.exports=function(s,P,M){var d;for(y(s)?s.length>P.length&&(s=s.slice(0,P.length)):s=[],d=0;d<P.length;d++)s[d]=M(P[d]);return s}},15584:function(W){W.exports=function(t,y,D,s,P,M){var d=P[0]*t.dpdx(y),g=P[1]*t.dpdy(D),r=1,e=1;if(M){var o=Math.sqrt(P[0]*P[0]+P[1]*P[1]),n=Math.sqrt(M[0]*M[0]+M[1]*M[1]),u=(P[0]*M[0]+P[1]*M[1])/o/n;e=Math.max(0,u)}var f=Math.atan2(g,d)*180/Math.PI;return f<-90?(f+=180,r=-r):f>90&&(f-=180,r=-r),{angle:f,flip:r,p:t.c2p(s,y,D),offsetMultplier:e}}},164:function(W,G,t){var y=t(33428),D=t(43616),s=t(87072),P=t(53416),M=t(15584),d=t(72736),g=t(3400),r=g.strRotate,e=g.strTranslate,o=t(84284);W.exports=function(i,p,w,A){var L=i._context.staticPlot,x=p.xaxis,E=p.yaxis,S=i._fullLayout,a=S._clips;g.makeTraceGroups(A,w,"trace").each(function(C){var b=y.select(this),z=C[0],k=z.trace,U=k.aaxis,F=k.baxis,V=g.ensureSingle(b,"g","minorlayer"),N=g.ensureSingle(b,"g","majorlayer"),O=g.ensureSingle(b,"g","boundarylayer"),H=g.ensureSingle(b,"g","labellayer");b.style("opacity",k.opacity),u(x,E,N,U,"a",U._gridlines,!0),u(x,E,N,F,"b",F._gridlines,!0),u(x,E,V,U,"a",U._minorgridlines,!0),u(x,E,V,F,"b",F._minorgridlines,!0),u(x,E,O,U,"a-boundary",U._boundarylines,L),u(x,E,O,F,"b-boundary",F._boundarylines,L);var X=f(i,x,E,k,z,H,U._labels,"a-label"),J=f(i,x,E,k,z,H,F._labels,"b-label");c(i,H,k,z,x,E,X,J),n(k,z,a,x,E)})};function n(h,i,p,w,A){var L,x,E,S,a=p.select("#"+h._clipPathId);a.size()||(a=p.append("clipPath").classed("carpetclip",!0));var C=g.ensureSingle(a,"path","carpetboundary"),b=i.clipsegments,z=[];for(S=0;S<b.length;S++)L=b[S],x=s([],L.x,w.c2p),E=s([],L.y,A.c2p),z.push(P(x,E,L.bicubic));var k="M"+z.join("L")+"Z";a.attr("id",h._clipPathId),C.attr("d",k)}function u(h,i,p,w,A,L,x){var E="const-"+A+"-lines",S=p.selectAll("."+E).data(L);S.enter().append("path").classed(E,!0).style("vector-effect",x?"none":"non-scaling-stroke"),S.each(function(a){var C=a,b=C.x,z=C.y,k=s([],b,h.c2p),U=s([],z,i.c2p),F="M"+P(k,U,C.smoothing),V=y.select(this);V.attr("d",F).style("stroke-width",C.width).style("stroke",C.color).style("stroke-dasharray",D.dashStyle(C.dash,C.width)).style("fill","none")}),S.exit().remove()}function f(h,i,p,w,A,L,x,E){var S=L.selectAll("text."+E).data(x);S.enter().append("text").classed(E,!0);var a=0,C={};return S.each(function(b,z){var k;if(b.axis.tickangle==="auto")k=M(w,i,p,b.xy,b.dxy);else{var U=(b.axis.tickangle+180)*Math.PI/180;k=M(w,i,p,b.xy,[Math.cos(U),Math.sin(U)])}z||(C={angle:k.angle,flip:k.flip});var F=(b.endAnchor?-1:1)*k.flip,V=y.select(this).attr({"text-anchor":F>0?"start":"end","data-notex":1}).call(D.font,b.font).text(b.text).call(d.convertToTspans,h),N=D.bBox(this);V.attr("transform",e(k.p[0],k.p[1])+r(k.angle)+e(b.axis.labelpadding*F,N.height*.3)),a=Math.max(a,N.width+b.axis.labelpadding)}),S.exit().remove(),C.maxExtent=a,C}function c(h,i,p,w,A,L,x,E){var S,a,C,b,z=g.aggNums(Math.min,null,p.a),k=g.aggNums(Math.max,null,p.a),U=g.aggNums(Math.min,null,p.b),F=g.aggNums(Math.max,null,p.b);S=.5*(z+k),a=U,C=p.ab2xy(S,a,!0),b=p.dxyda_rough(S,a),x.angle===void 0&&g.extendFlat(x,M(p,A,L,C,p.dxydb_rough(S,a))),T(h,i,p,w,C,b,p.aaxis,A,L,x,"a-title"),S=z,a=.5*(U+F),C=p.ab2xy(S,a,!0),b=p.dxydb_rough(S,a),E.angle===void 0&&g.extendFlat(E,M(p,A,L,C,p.dxyda_rough(S,a))),T(h,i,p,w,C,b,p.baxis,A,L,E,"b-title")}var m=o.LINE_SPACING,v=(1-o.MID_SHIFT)/m+1;function T(h,i,p,w,A,L,x,E,S,a,C){var b=[];x.title.text&&b.push(x.title.text);var z=i.selectAll("text."+C).data(b),k=a.maxExtent;z.enter().append("text").classed(C,!0),z.each(function(){var U=M(p,E,S,A,L);["start","both"].indexOf(x.showticklabels)===-1&&(k=0);var F=x.title.font.size;k+=F+x.title.offset;var V=a.angle+(a.flip<0?180:0),N=(V-U.angle+450)%360,O=N>90&&N<270,H=y.select(this);H.text(x.title.text).call(d.convertToTspans,h),O&&(k=(-d.lineCount(H)+v)*m*F-k),H.attr("transform",e(U.p[0],U.p[1])+r(U.angle)+e(0,k)).attr("text-anchor","middle").call(D.font,x.title.font)}),z.exit().remove()}},81e3:function(W,G,t){var y=t(24588),D=t(14952).findBin,s=t(30180),P=t(29056),M=t(26435),d=t(24464);W.exports=function(r){var e=r._a,o=r._b,n=e.length,u=o.length,f=r.aaxis,c=r.baxis,m=e[0],v=e[n-1],T=o[0],h=o[u-1],i=e[e.length-1]-e[0],p=o[o.length-1]-o[0],w=i*y.RELATIVE_CULL_TOLERANCE,A=p*y.RELATIVE_CULL_TOLERANCE;m-=w,v+=w,T-=A,h+=A,r.isVisible=function(L,x){return L>m&&L<v&&x>T&&x<h},r.isOccluded=function(L,x){return L<m||L>v||x<T||x>h},r.setScale=function(){var L=r._x,x=r._y,E=s(r._xctrl,r._yctrl,L,x,f.smoothing,c.smoothing);r._xctrl=E[0],r._yctrl=E[1],r.evalxy=P([r._xctrl,r._yctrl],n,u,f.smoothing,c.smoothing),r.dxydi=M([r._xctrl,r._yctrl],f.smoothing,c.smoothing),r.dxydj=d([r._xctrl,r._yctrl],f.smoothing,c.smoothing)},r.i2a=function(L){var x=Math.max(0,Math.floor(L[0]),n-2),E=L[0]-x;return(1-E)*e[x]+E*e[x+1]},r.j2b=function(L){var x=Math.max(0,Math.floor(L[1]),n-2),E=L[1]-x;return(1-E)*o[x]+E*o[x+1]},r.ij2ab=function(L){return[r.i2a(L[0]),r.j2b(L[1])]},r.a2i=function(L){var x=Math.max(0,Math.min(D(L,e),n-2)),E=e[x],S=e[x+1];return Math.max(0,Math.min(n-1,x+(L-E)/(S-E)))},r.b2j=function(L){var x=Math.max(0,Math.min(D(L,o),u-2)),E=o[x],S=o[x+1];return Math.max(0,Math.min(u-1,x+(L-E)/(S-E)))},r.ab2ij=function(L){return[r.a2i(L[0]),r.b2j(L[1])]},r.i2c=function(L,x){return r.evalxy([],L,x)},r.ab2xy=function(L,x,E){if(!E&&(L<e[0]||L>e[n-1]|x<o[0]||x>o[u-1]))return[!1,!1];var S=r.a2i(L),a=r.b2j(x),C=r.evalxy([],S,a);if(E){var b=0,z=0,k=[],U,F,V,N;L<e[0]?(U=0,F=0,b=(L-e[0])/(e[1]-e[0])):L>e[n-1]?(U=n-2,F=1,b=(L-e[n-1])/(e[n-1]-e[n-2])):(U=Math.max(0,Math.min(n-2,Math.floor(S))),F=S-U),x<o[0]?(V=0,N=0,z=(x-o[0])/(o[1]-o[0])):x>o[u-1]?(V=u-2,N=1,z=(x-o[u-1])/(o[u-1]-o[u-2])):(V=Math.max(0,Math.min(u-2,Math.floor(a))),N=a-V),b&&(r.dxydi(k,U,V,F,N),C[0]+=k[0]*b,C[1]+=k[1]*b),z&&(r.dxydj(k,U,V,F,N),C[0]+=k[0]*z,C[1]+=k[1]*z)}return C},r.c2p=function(L,x,E){return[x.c2p(L[0]),E.c2p(L[1])]},r.p2x=function(L,x,E){return[x.p2c(L[0]),E.p2c(L[1])]},r.dadi=function(L){var x=Math.max(0,Math.min(e.length-2,L));return e[x+1]-e[x]},r.dbdj=function(L){var x=Math.max(0,Math.min(o.length-2,L));return o[x+1]-o[x]},r.dxyda=function(L,x,E,S){var a=r.dxydi(null,L,x,E,S),C=r.dadi(L,E);return[a[0]/C,a[1]/C]},r.dxydb=function(L,x,E,S){var a=r.dxydj(null,L,x,E,S),C=r.dbdj(x,S);return[a[0]/C,a[1]/C]},r.dxyda_rough=function(L,x,E){var S=i*(E||.1),a=r.ab2xy(L+S,x,!0),C=r.ab2xy(L-S,x,!0);return[(a[0]-C[0])*.5/S,(a[1]-C[1])*.5/S]},r.dxydb_rough=function(L,x,E){var S=p*(E||.1),a=r.ab2xy(L,x+S,!0),C=r.ab2xy(L,x-S,!0);return[(a[0]-C[0])*.5/S,(a[1]-C[1])*.5/S]},r.dpdx=function(L){return L._m},r.dpdy=function(L){return L._m}}},51512:function(W,G,t){var y=t(3400);W.exports=function(s,P,M){var d,g,r,e=[],o=[],n=s[0].length,u=s.length;function f(J,et){var it=0,ft,ot=0;return J>0&&(ft=s[et][J-1])!==void 0&&(ot++,it+=ft),J<n-1&&(ft=s[et][J+1])!==void 0&&(ot++,it+=ft),et>0&&(ft=s[et-1][J])!==void 0&&(ot++,it+=ft),et<u-1&&(ft=s[et+1][J])!==void 0&&(ot++,it+=ft),it/Math.max(1,ot)}var c=0;for(d=0;d<n;d++)for(g=0;g<u;g++)s[g][d]===void 0&&(e.push(d),o.push(g),s[g][d]=f(d,g)),c=Math.max(c,Math.abs(s[g][d]));if(!e.length)return s;var m,v,T,h,i,p,w,A,L,x,E,S=1e-5,a=0,C=100,b=0,z=e.length;do{for(a=0,r=0;r<z;r++){d=e[r],g=o[r];var k=0,U=0,F,V,N,O,H,X;d===0?(H=Math.min(n-1,2),N=P[H],O=P[1],F=s[g][H],V=s[g][1],U+=V+(V-F)*(P[0]-O)/(O-N),k++):d===n-1&&(H=Math.max(0,n-3),N=P[H],O=P[n-2],F=s[g][H],V=s[g][n-2],U+=V+(V-F)*(P[n-1]-O)/(O-N),k++),(d===0||d===n-1)&&g>0&&g<u-1&&(m=M[g+1]-M[g],v=M[g]-M[g-1],U+=(v*s[g+1][d]+m*s[g-1][d])/(v+m),k++),g===0?(X=Math.min(u-1,2),N=M[X],O=M[1],F=s[X][d],V=s[1][d],U+=V+(V-F)*(M[0]-O)/(O-N),k++):g===u-1&&(X=Math.max(0,u-3),N=M[X],O=M[u-2],F=s[X][d],V=s[u-2][d],U+=V+(V-F)*(M[u-1]-O)/(O-N),k++),(g===0||g===u-1)&&d>0&&d<n-1&&(m=P[d+1]-P[d],v=P[d]-P[d-1],U+=(v*s[g][d+1]+m*s[g][d-1])/(v+m),k++),k?U/=k:(T=P[d+1]-P[d],h=P[d]-P[d-1],i=M[g+1]-M[g],p=M[g]-M[g-1],w=T*h*(T+h),A=i*p*(i+p),U=(w*(p*s[g+1][d]+i*s[g-1][d])+A*(h*s[g][d+1]+T*s[g][d-1]))/(A*(h+T)+w*(p+i))),L=U-s[g][d],x=L/c,a+=x*x,E=k?0:.85,s[g][d]+=L*(1+E)}a=Math.sqrt(a)}while(b++<C&&a>S);return y.log("Smoother converged to",a,"after",b,"iterations"),s}},86411:function(W,G,t){var y=t(3400).isArray1D;W.exports=function(s,P,M){var d=M("x"),g=d&&d.length,r=M("y"),e=r&&r.length;if(!g&&!e)return!1;if(P._cheater=!d,(!g||y(d))&&(!e||y(r))){var o=g?d.length:1/0;e&&(o=Math.min(o,r.length)),P.a&&P.a.length&&(o=Math.min(o,P.a.length)),P.b&&P.b.length&&(o=Math.min(o,P.b.length)),P._length=o}else P._length=null;return!0}},83372:function(W,G,t){var y=t(21776).Ks,D=t(6096),s=t(49084),P=t(45464),M=t(22548).defaultLine,d=t(92880).extendFlat,g=D.marker.line;W.exports=d({locations:{valType:"data_array",editType:"calc"},locationmode:D.locationmode,z:{valType:"data_array",editType:"calc"},geojson:d({},D.geojson,{}),featureidkey:D.featureidkey,text:d({},D.text,{}),hovertext:d({},D.hovertext,{}),marker:{line:{color:d({},g.color,{dflt:M}),width:d({},g.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:D.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:D.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:d({},P.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:y(),showlegend:d({},P.showlegend,{dflt:!1})},s("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(W,G,t){var y=t(38248),D=t(39032).BADNUM,s=t(47128),P=t(20148),M=t(4500);function d(g){return g&&typeof g=="string"}W.exports=function(r,e){var o=e._length,n=new Array(o),u;e.geojson?u=function(T){return d(T)||y(T)}:u=d;for(var f=0;f<o;f++){var c=n[f]={},m=e.locations[f],v=e.z[f];u(m)&&y(v)?(c.loc=m,c.z=v):(c.loc=null,c.z=D),c.index=f}return P(n,e),s(r,e,{vals:e.z,containerStr:"",cLetter:"z"}),M(n,e),n}},30972:function(W,G,t){var y=t(3400),D=t(27260),s=t(83372);W.exports=function(M,d,g,r){function e(v,T){return y.coerce(M,d,s,v,T)}var o=e("locations"),n=e("z");if(!(o&&o.length&&y.isArrayOrTypedArray(n)&&n.length)){d.visible=!1;return}d._length=Math.min(o.length,n.length);var u=e("geojson"),f;(typeof u=="string"&&u!==""||y.isPlainObject(u))&&(f="geojson-id");var c=e("locationmode",f);c==="geojson-id"&&e("featureidkey"),e("text"),e("hovertext"),e("hovertemplate");var m=e("marker.line.width");m&&e("marker.line.color"),e("marker.opacity"),D(M,d,r,e,{prefix:"",cLetter:"z"}),y.coerceSelectionMarkerOpacity(d,e)}},52428:function(W){W.exports=function(t,y,D,s,P){t.location=y.location,t.z=y.z;var M=s[P];return M.fIn&&M.fIn.properties&&(t.properties=M.fIn.properties),t.ct=M.ct,t}},69224:function(W,G,t){var y=t(54460),D=t(83372),s=t(3400).fillText;W.exports=function(d,g,r){var e=d.cd,o=e[0].trace,n=d.subplot,u,f,c,m,v=[g,r],T=[g+360,r];for(f=0;f<e.length;f++)if(u=e[f],m=!1,u._polygons){for(c=0;c<u._polygons.length;c++)u._polygons[c].contains(v)&&(m=!m),u._polygons[c].contains(T)&&(m=!m);if(m)break}if(!(!m||!u))return d.x0=d.x1=d.xa.c2p(u.ct),d.y0=d.y1=d.ya.c2p(u.ct),d.index=u.index,d.location=u.loc,d.z=u.z,d.zLabel=y.tickText(n.mockAxis,n.mockAxis.c2l(u.z),"hover").text,d.hovertemplate=u.hovertemplate,P(d,o,u),[d]};function P(M,d,g){if(!d.hovertemplate){var r=g.hi||d.hoverinfo,e=String(g.loc),o=r==="all"?D.hoverinfo.flags:r.split("+"),n=o.indexOf("name")!==-1,u=o.indexOf("location")!==-1,f=o.indexOf("z")!==-1,c=o.indexOf("text")!==-1,m=!n&&u,v=[];m?M.nameOverride=e:(n&&(M.nameOverride=d.name),u&&v.push(e)),f&&v.push(M.zLabel),c&&s(g,d,v),M.extraText=v.join("<br>")}}},54272:function(W,G,t){W.exports={attributes:t(83372),supplyDefaults:t(30972),colorbar:t(96288),calc:t(7924),calcGeoJSON:t(88364).calcGeoJSON,plot:t(88364).plot,style:t(7947).style,styleOnSelect:t(7947).styleOnSelect,hoverPoints:t(69224),eventData:t(52428),selectPoints:t(17328),moduleType:"trace",name:"choropleth",basePlotModule:t(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(W,G,t){var y=t(33428),D=t(3400),s=t(27144),P=t(59972).getTopojsonFeatures,M=t(19280).findExtremes,d=t(7947).style;function g(e,o,n){var u=o.layers.backplot.select(".choroplethlayer");D.makeTraceGroups(u,n,"trace choropleth").each(function(f){var c=y.select(this),m=c.selectAll("path.choroplethlocation").data(D.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),d(e,f)})}function r(e,o){for(var n=e[0].trace,u=o[n.geo],f=u._subplot,c=n.locationmode,m=n._length,v=c==="geojson-id"?s.extractTraceFeature(e):P(n,f.topojson),T=[],h=[],i=0;i<m;i++){var p=e[i],w=c==="geojson-id"?p.fOut:s.locationToFeature(c,p.loc,v);if(w){p.geojson=w,p.ct=w.properties.ct,p._polygons=s.feature2polygons(w);var A=s.computeBbox(w);T.push(A[0],A[2]),h.push(A[1],A[3])}else p.geojson=null}if(u.fitbounds==="geojson"&&c==="geojson-id"){var L=s.computeBbox(s.getTraceGeojson(n));T=[L[0],L[2]],h=[L[1],L[3]]}var x={padded:!0};n._extremes.lon=M(u.lonaxis._ax,T,x),n._extremes.lat=M(u.lataxis._ax,h,x)}W.exports={calcGeoJSON:r,plot:g}},17328:function(W){W.exports=function(t,y){var D=t.cd,s=t.xaxis,P=t.yaxis,M=[],d,g,r,e,o;if(y===!1)for(d=0;d<D.length;d++)D[d].selected=0;else for(d=0;d<D.length;d++)g=D[d],r=g.ct,r&&(e=s.c2p(r),o=P.c2p(r),y.contains([e,o],null,d,t)?(M.push({pointNumber:d,lon:r[0],lat:r[1]}),g.selected=1):g.selected=0);return M}},7947:function(W,G,t){var y=t(33428),D=t(76308),s=t(43616),P=t(8932);function M(r,e){e&&d(r,e)}function d(r,e){var o=e[0].trace,n=e[0].node3,u=n.selectAll(".choroplethlocation"),f=o.marker||{},c=f.line||{},m=P.makeColorScaleFuncFromTrace(o);u.each(function(v){y.select(this).attr("fill",m(v.z)).call(D.stroke,v.mlc||c.color).call(s.dashLine,"",v.mlw||c.width||0).style("opacity",f.opacity)}),s.selectedPointStyle(u,o)}function g(r,e){var o=e[0].node3,n=e[0].trace;n.selectedpoints?s.selectedPointStyle(o.selectAll(".choroplethlocation"),n):d(r,e)}W.exports={style:M,styleOnSelect:g}},45608:function(W,G,t){var y=t(83372),D=t(49084),s=t(21776).Ks,P=t(45464),M=t(92880).extendFlat;W.exports=M({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:M({},y.featureidkey,{}),below:{valType:"string",editType:"plot"},text:y.text,hovertext:y.hovertext,marker:{line:{color:M({},y.marker.line.color,{editType:"plot"}),width:M({},y.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:M({},y.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:M({},y.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:M({},y.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:y.hoverinfo,hovertemplate:s({},{keys:["properties"]}),showlegend:M({},P.showlegend,{dflt:!1})},D("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(W,G,t){var y=t(38248),D=t(3400),s=t(8932),P=t(43616),M=t(44808).makeBlank,d=t(27144);function g(e){var o=e[0].trace,n=o.visible===!0&&o._length!==0,u={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},c=o._opts={fill:u,line:f,geojson:M()};if(!n)return c;var m=d.extractTraceFeature(e);if(!m)return c;var v=s.makeColorScaleFuncFromTrace(o),T=o.marker,h=T.line||{},i;D.isArrayOrTypedArray(T.opacity)&&(i=function(a){var C=a.mo;return y(C)?+D.constrain(C,0,1):0});var p;D.isArrayOrTypedArray(h.color)&&(p=function(a){return a.mlc});var w;D.isArrayOrTypedArray(h.width)&&(w=function(a){return a.mlw});for(var A=0;A<e.length;A++){var L=e[A],x=L.fOut;if(x){var E=x.properties;E.fc=v(L.z),i&&(E.mo=i(L)),p&&(E.mlc=p(L)),w&&(E.mlw=w(L)),L.ct=E.ct,L._polygons=d.feature2polygons(x)}}var S=i?{type:"identity",property:"mo"}:T.opacity;return D.extendFlat(u.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),D.extendFlat(f.paint,{"line-color":p?{type:"identity",property:"mlc"}:h.color,"line-width":w?{type:"identity",property:"mlw"}:h.width,"line-opacity":S}),u.layout.visibility="visible",f.layout.visibility="visible",c.geojson={type:"FeatureCollection",features:m},r(e),c}function r(e){var o=e[0].trace,n=o._opts,u;if(o.selectedpoints){for(var f=P.makeSelectedPointStyleFns(o),c=0;c<e.length;c++){var m=e[c];m.fOut&&(m.fOut.properties.mo2=f.selectedOpacityFn(m))}u={type:"identity",property:"mo2"}}else u=D.isArrayOrTypedArray(o.marker.opacity)?{type:"identity",property:"mo"}:o.marker.opacity;return D.extendFlat(n.fill.paint,{"fill-opacity":u}),D.extendFlat(n.line.paint,{"line-opacity":u}),n}W.exports={convert:g,convertOnSelect:r}},9352:function(W,G,t){var y=t(3400),D=t(27260),s=t(45608);W.exports=function(M,d,g,r){function e(c,m){return y.coerce(M,d,s,c,m)}var o=e("locations"),n=e("z"),u=e("geojson");if(!y.isArrayOrTypedArray(o)||!o.length||!y.isArrayOrTypedArray(n)||!n.length||!(typeof u=="string"&&u!==""||y.isPlainObject(u))){d.visible=!1;return}e("featureidkey"),d._length=Math.min(o.length,n.length),e("below"),e("text"),e("hovertext"),e("hovertemplate");var f=e("marker.line.width");f&&e("marker.line.color"),e("marker.opacity"),D(M,d,r,e,{prefix:"",cLetter:"z"}),y.coerceSelectionMarkerOpacity(d,e)}},85404:function(W,G,t){W.exports={attributes:t(45608),supplyDefaults:t(9352),colorbar:t(96288),calc:t(7924),plot:t(61288),hoverPoints:t(69224),eventData:t(52428),selectPoints:t(17328),styleOnSelect:function(y,D){if(D){var s=D[0].trace;s._glTrace.updateOnSelect(D)}},getBelow:function(y,D){for(var s=D.getMapLayers(),P=s.length-2;P>=0;P--){var M=s[P].id;if(typeof M=="string"&&M.indexOf("water")===0){for(var d=P+1;d<s.length;d++)if(M=s[d].id,typeof M=="string"&&M.indexOf("plotly-")===-1)return M}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:t(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(W,G,t){var y=t(13504).convert,D=t(13504).convertOnSelect,s=t(47552).traceLayerPrefix;function P(d,g){this.type="choroplethmapbox",this.subplot=d,this.uid=g,this.sourceId="source-"+g,this.layerList=[["fill",s+g+"-fill"],["line",s+g+"-line"]],this.below=null}var M=P.prototype;M.update=function(d){this._update(y(d)),d[0].trace._glTrace=this},M.updateOnSelect=function(d){this._update(D(d))},M._update=function(d){var g=this.subplot,r=this.layerList,e=g.belowLookup["trace-"+this.uid];g.map.getSource(this.sourceId).setData(d.geojson),e!==this.below&&(this._removeLayers(),this._addLayers(d,e),this.below=e);for(var o=0;o<r.length;o++){var n=r[o],u=n[0],f=n[1],c=d[u];g.setOptions(f,"setLayoutProperty",c.layout),c.layout.visibility==="visible"&&g.setOptions(f,"setPaintProperty",c.paint)}},M._addLayers=function(d,g){for(var r=this.subplot,e=this.layerList,o=this.sourceId,n=0;n<e.length;n++){var u=e[n],f=u[0],c=d[f];r.addLayer({type:f,id:u[1],source:o,layout:c.layout,paint:c.paint},g)}},M._removeLayers=function(){for(var d=this.subplot.map,g=this.layerList,r=g.length-1;r>=0;r--)d.removeLayer(g[r][1])},M.dispose=function(){var d=this.subplot.map;this._removeLayers(),d.removeSource(this.sourceId)},W.exports=function(g,r){var e=r[0].trace,o=new P(g,e.uid),n=o.sourceId,u=y(r),f=o.below=g.belowLookup["trace-"+e.uid];return g.map.addSource(n,{type:"geojson",data:u.geojson}),o._addLayers(u,f),r[0].trace._glTrace=o,o}},86040:function(W,G,t){var y=t(49084),D=t(29736).axisHoverFormat,s=t(21776).Ks,P=t(52948),M=t(45464),d=t(92880).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:s({editType:"calc"},{keys:["norm"]}),uhoverformat:D("u",1),vhoverformat:D("v",1),whoverformat:D("w",1),xhoverformat:D("x"),yhoverformat:D("y"),zhoverformat:D("z"),showlegend:d({},M.showlegend,{dflt:!1})};d(g,y("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(e){g[e]=P[e]}),g.hoverinfo=d({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,W.exports=g},83344:function(W,G,t){var y=t(47128);W.exports=function(s,P){for(var M=P.u,d=P.v,g=P.w,r=Math.min(P.x.length,P.y.length,P.z.length,M.length,d.length,g.length),e=-1/0,o=1/0,n=0;n<r;n++){var u=M[n],f=d[n],c=g[n],m=Math.sqrt(u*u+f*f+c*c);e=Math.max(e,m),o=Math.min(o,m)}P._len=r,P._normMax=e,y(s,P,{vals:[o,e],containerStr:"",cLetter:"c"})}},6648:function(W,G,t){var y=t(67792).gl_cone3d,D=t(67792).gl_cone3d.createConeMesh,s=t(3400).simpleMap,P=t(33040).parseColorScale,M=t(8932).extractOpts,d=t(3400).isArrayOrTypedArray,g=t(52094);function r(m,v){this.scene=m,this.uid=v,this.mesh=null,this.data=null}var e=r.prototype;e.handlePick=function(m){if(m.object===this.mesh){var v=m.index=m.data.index,T=this.data.x[v],h=this.data.y[v],i=this.data.z[v],p=this.data.u[v],w=this.data.v[v],A=this.data.w[v];m.traceCoordinate=[T,h,i,p,w,A,Math.sqrt(p*p+w*w+A*A)];var L=this.data.hovertext||this.data.text;return d(L)&&L[v]!==void 0?m.textLabel=L[v]:L&&(m.textLabel=L),!0}};var o={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},u={tip:1,tail:1,cm:.75,center:.5};function f(m,v){var T=m.fullSceneLayout,h=m.dataScale,i={};function p(E,S){var a=T[S],C=h[o[S]];return s(E,function(b){return a.d2l(b)*C})}i.vectors=g(p(v.u,"xaxis"),p(v.v,"yaxis"),p(v.w,"zaxis"),v._len),i.positions=g(p(v.x,"xaxis"),p(v.y,"yaxis"),p(v.z,"zaxis"),v._len);var w=M(v);i.colormap=P(v),i.vertexIntensityBounds=[w.min/v._normMax,w.max/v._normMax],i.coneOffset=n[v.anchor];var A=v.sizemode;A==="scaled"?i.coneSize=v.sizeref||.5:A==="absolute"?i.coneSize=v.sizeref&&v._normMax?v.sizeref/v._normMax:.5:A==="raw"&&(i.coneSize=v.sizeref),i.coneSizemode=A;var L=y(i),x=v.lightposition;return L.lightPosition=[x.x,x.y,x.z],L.ambient=v.lighting.ambient,L.diffuse=v.lighting.diffuse,L.specular=v.lighting.specular,L.roughness=v.lighting.roughness,L.fresnel=v.lighting.fresnel,L.opacity=v.opacity,v._pad=u[v.anchor]*L.vectorScale*L.coneScale*v._normMax,L}e.update=function(m){this.data=m;var v=f(this.scene,m);this.mesh.update(v)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(m,v){var T=m.glplot.gl,h=f(m,v),i=D(T,h),p=new r(m,v.uid);return p.mesh=i,p.data=v,i._trace=p,m.glplot.add(i),p}W.exports=c},86096:function(W,G,t){var y=t(3400),D=t(27260),s=t(86040);W.exports=function(M,d,g,r){function e(T,h){return y.coerce(M,d,s,T,h)}var o=e("u"),n=e("v"),u=e("w"),f=e("x"),c=e("y"),m=e("z");if(!o||!o.length||!n||!n.length||!u||!u.length||!f||!f.length||!c||!c.length||!m||!m.length){d.visible=!1;return}var v=e("sizemode");e("sizeref",v==="raw"?1:.5),e("anchor"),e("lighting.ambient"),e("lighting.diffuse"),e("lighting.specular"),e("lighting.roughness"),e("lighting.fresnel"),e("lightposition.x"),e("lightposition.y"),e("lightposition.z"),D(M,d,r,e,{prefix:"",cLetter:"c"}),e("text"),e("hovertext"),e("hovertemplate"),e("uhoverformat"),e("vhoverformat"),e("whoverformat"),e("xhoverformat"),e("yhoverformat"),e("zhoverformat"),d._length=null}},26048:function(W,G,t){W.exports={moduleType:"trace",name:"cone",basePlotModule:t(12536),categories:["gl3d","showLegend"],attributes:t(86040),supplyDefaults:t(86096),colorbar:{min:"cmin",max:"cmax"},calc:t(83344),plot:t(6648),eventData:function(y,D){return y.norm=D.traceCoordinate[6],y},meta:{}}},67104:function(W,G,t){var y=t(83328),D=t(52904),s=t(29736),P=s.axisHoverFormat,M=s.descriptionOnlyNumbers,d=t(49084),g=t(98192).u,r=t(25376),e=t(92880).extendFlat,o=t(69104),n=o.COMPARISON_OPS2,u=o.INTERVAL_OPS,f=D.line;W.exports=e({z:y.z,x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,text:y.text,hovertext:y.hovertext,transpose:y.transpose,xtype:y.xtype,ytype:y.ytype,xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:y.hovertemplate,texttemplate:e({},y.texttemplate,{}),textfont:e({},y.textfont,{}),hoverongaps:y.hoverongaps,connectgaps:e({},y.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:M("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(u),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:e({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:g,smoothing:e({},f.smoothing,{}),editType:"plot"},zorder:D.zorder},d("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(W,G,t){var y=t(8932),D=t(19512),s=t(54444),P=t(46960);W.exports=function(d,g){var r=D(d,g),e=r[0].z;s(g,e);var o=g.contours,n=y.extractOpts(g),u;if(o.coloring==="heatmap"&&n.auto&&g.autocontour===!1){var f=o.start,c=P(o),m=o.size||1,v=Math.floor((c-f)/m)+1;isFinite(m)||(m=1,v=1);var T=f-m/2,h=T+v*m;u=[T,h]}else u=e;return y.calc(d,g,{vals:u,cLetter:"z"}),r}},56008:function(W){W.exports=function(G,t){var y=G[0],D=y.z,s;switch(t.type){case"levels":var P=Math.min(D[0][0],D[0][1]);for(s=0;s<G.length;s++){var M=G[s];M.prefixBoundary=!M.edgepaths.length&&(P>M.level||M.starts.length&&P===M.level)}break;case"constraint":if(y.prefixBoundary=!1,y.edgepaths.length)return;var d=y.x.length,g=y.y.length,r=-1/0,e=1/0;for(s=0;s<g;s++)e=Math.min(e,D[s][0]),e=Math.min(e,D[s][d-1]),r=Math.max(r,D[s][0]),r=Math.max(r,D[s][d-1]);for(s=1;s<d-1;s++)e=Math.min(e,D[0][s]),e=Math.min(e,D[g-1][s]),r=Math.max(r,D[0][s]),r=Math.max(r,D[g-1][s]);var o=t.value,n,u;switch(t._operation){case">":o>r&&(y.prefixBoundary=!0);break;case"<":(o<e||y.starts.length&&o===e)&&(y.prefixBoundary=!0);break;case"[]":n=Math.min(o[0],o[1]),u=Math.max(o[0],o[1]),(u<e||n>r||y.starts.length&&u===e)&&(y.prefixBoundary=!0);break;case"][":n=Math.min(o[0],o[1]),u=Math.max(o[0],o[1]),n<e&&u>r&&(y.prefixBoundary=!0);break}break}}},55296:function(W,G,t){var y=t(8932),D=t(41076),s=t(46960);function P(M,d,g){var r=d.contours,e=d.line,o=r.size||1,n=r.coloring,u=D(d,{isColorbar:!0});if(n==="heatmap"){var f=y.extractOpts(d);g._fillgradient=f.reversescale?y.flipScale(f.colorscale):f.colorscale,g._zrange=[f.min,f.max]}else n==="fill"&&(g._fillcolor=u);g._line={color:n==="lines"?u:e.color,width:r.showlines!==!1?e.width:0,dash:e.dash},g._levels={start:r.start,end:s(r),size:o}}W.exports={min:"zmin",max:"zmax",calc:P}},93252:function(W){W.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(W,G,t){var y=t(38248),D=t(17428),s=t(76308),P=s.addOpacity,M=s.opacity,d=t(69104),g=t(3400).isArrayOrTypedArray,r=d.CONSTRAINT_REDUCTION,e=d.COMPARISON_OPS2;W.exports=function(u,f,c,m,v,T){var h=f.contours,i,p,w,A=c("contours.operation");if(h._operation=r[A],o(c,h),A==="="?i=h.showlines=!0:(i=c("contours.showlines"),w=c("fillcolor",P((u.line||{}).color||v,.5))),i){var L=w&&M(w)?P(f.fillcolor,1):v;p=c("line.color",L),c("line.width",2),c("line.dash")}c("line.smoothing"),D(c,m,p,T)};function o(n,u){var f;e.indexOf(u.operation)===-1?(n("contours.value",[0,1]),g(u.value)?u.value.length>2?u.value=u.value.slice(2):u.length===0?u.value=[0,1]:u.length<2?(f=parseFloat(u.value[0]),u.value=[f,f+1]):u.value=[parseFloat(u.value[0]),parseFloat(u.value[1])]:y(u.value)&&(f=parseFloat(u.value),u.value=[f,f+1])):(n("contours.value",0),y(u.value)||(g(u.value)?u.value=parseFloat(u.value[0]):u.value=0))}},3212:function(W,G,t){var y=t(69104),D=t(38248);W.exports={"[]":P("[]"),"][":P("]["),">":M(">"),"<":M("<"),"=":M("=")};function s(d,g){var r=Array.isArray(g),e;function o(n){return D(n)?+n:null}return y.COMPARISON_OPS2.indexOf(d)!==-1?e=o(r?g[0]:g):y.INTERVAL_OPS.indexOf(d)!==-1?e=r?[o(g[0]),o(g[1])]:[o(g),o(g)]:y.SET_OPS.indexOf(d)!==-1&&(e=r?g.map(o):[o(g)]),e}function P(d){return function(g){g=s(d,g);var r=Math.min(g[0],g[1]),e=Math.max(g[0],g[1]);return{start:r,end:e,size:e-r}}}function M(d){return function(g){return g=s(d,g),{start:g,end:1/0,size:1/0}}}},84952:function(W){W.exports=function(t,y,D,s){var P=s("contours.start"),M=s("contours.end"),d=P===!1||M===!1,g=D("contours.size"),r;d?r=y.autocontour=!0:r=D("autocontour",!1),(r||!g)&&D("ncontours")}},82172:function(W,G,t){var y=t(3400);W.exports=function(s,P){var M,d,g,r=function(n){return n.reverse()},e=function(n){return n};switch(P){case"=":case"<":return s;case">":for(s.length!==1&&y.warn("Contour data invalid for the specified inequality operation."),d=s[0],M=0;M<d.edgepaths.length;M++)d.edgepaths[M]=r(d.edgepaths[M]);for(M=0;M<d.paths.length;M++)d.paths[M]=r(d.paths[M]);for(M=0;M<d.starts.length;M++)d.starts[M]=r(d.starts[M]);return s;case"][":var o=r;r=e,e=o;case"[]":for(s.length!==2&&y.warn("Contour data invalid for the specified inequality range operation."),d=D(s[0]),g=D(s[1]),M=0;M<d.edgepaths.length;M++)d.edgepaths[M]=r(d.edgepaths[M]);for(M=0;M<d.paths.length;M++)d.paths[M]=r(d.paths[M]);for(M=0;M<d.starts.length;M++)d.starts[M]=r(d.starts[M]);for(;g.edgepaths.length;)d.edgepaths.push(e(g.edgepaths.shift()));for(;g.paths.length;)d.paths.push(e(g.paths.shift()));for(;g.starts.length;)d.starts.push(e(g.starts.shift()));return[d]}};function D(s){return y.extendFlat({},s,{edgepaths:y.extendDeep([],s.edgepaths),paths:y.extendDeep([],s.paths),starts:y.extendDeep([],s.starts)})}},57004:function(W,G,t){var y=t(3400),D=t(51264),s=t(31147),P=t(95536),M=t(84952),d=t(97680),g=t(39096),r=t(67104);W.exports=function(o,n,u,f){function c(h,i){return y.coerce(o,n,r,h,i)}function m(h){return y.coerce2(o,n,r,h)}var v=D(o,n,c,f);if(!v){n.visible=!1;return}s(o,n,f,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hoverongaps"),c("hovertemplate");var T=c("contours.type")==="constraint";c("connectgaps",y.isArray1D(n.z)),T?P(o,n,c,f,u):(M(o,n,c,m),d(o,n,c,f)),n.contours&&n.contours.coloring==="heatmap"&&g(c,f),c("zorder")}},61512:function(W,G,t){var y=t(3400),D=t(3212),s=t(46960);W.exports=function(M,d,g){for(var r=M.type==="constraint"?D[M._operation](M.value):M,e=r.size,o=[],n=s(r),u=g.trace._carpetTrace,f=u?{xaxis:u.aaxis,yaxis:u.baxis,x:g.a,y:g.b}:{xaxis:d.xaxis,yaxis:d.yaxis,x:g.x,y:g.y},c=r.start;c<n;c+=e)if(o.push(y.extendFlat({level:c,crossings:{},starts:[],edgepaths:[],paths:[],z:g.z,smoothing:g.trace.line.smoothing},f)),o.length>1e3){y.warn("Too many contours, clipping at 1000",M);break}return o}},46960:function(W){W.exports=function(t){return t.end+t.size/1e6}},88748:function(W,G,t){var y=t(3400),D=t(93252);W.exports=function(e,o,n){var u,f,c,m,v;for(o=o||.01,n=n||.01,c=0;c<e.length;c++){for(m=e[c],v=0;v<m.starts.length;v++)f=m.starts[v],M(m,f,"edge",o,n);for(u=0;Object.keys(m.crossings).length&&u<1e4;)u++,f=Object.keys(m.crossings)[0].split(",").map(Number),M(m,f,void 0,o,n);u===1e4&&y.log("Infinite loop in contour?")}};function s(r,e,o,n){return Math.abs(r[0]-e[0])<o&&Math.abs(r[1]-e[1])<n}function P(r,e){var o=r[2]-e[2],n=r[3]-e[3];return Math.sqrt(o*o+n*n)}function M(r,e,o,n,u){var f=e.join(","),c=r.crossings[f],m=d(c,o,e),v=[g(r,e,[-m[0],-m[1]])],T=r.z.length,h=r.z[0].length,i=e.slice(),p=m.slice(),w;for(w=0;w<1e4;w++){if(c>20?(c=D.CHOOSESADDLE[c][(m[0]||m[1])<0?0:1],r.crossings[f]=D.SADDLEREMAINDER[c]):delete r.crossings[f],m=D.NEWDELTA[c],!m){y.log("Found bad marching index:",c,e,r.level);break}v.push(g(r,e,m)),e[0]+=m[0],e[1]+=m[1],f=e.join(","),s(v[v.length-1],v[v.length-2],n,u)&&v.pop();var A=m[0]&&(e[0]<0||e[0]>h-2)||m[1]&&(e[1]<0||e[1]>T-2),L=e[0]===i[0]&&e[1]===i[1]&&m[0]===p[0]&&m[1]===p[1];if(L||o&&A)break;c=r.crossings[f]}w===1e4&&y.log("Infinite loop in contour?");var x=s(v[0],v[v.length-1],n,u),E=0,S=.2*r.smoothing,a=[],C=0,b,z,k,U,F,V,N,O,H,X,J;for(w=1;w<v.length;w++)N=P(v[w],v[w-1]),E+=N,a.push(N);var et=E/a.length*S;function it(Q){return v[Q%v.length]}for(w=v.length-2;w>=C;w--)if(b=a[w],b<et){for(k=0,z=w-1;z>=C&&b+a[z]<et;z--)b+=a[z];if(x&&w===v.length-2)for(k=0;k<z&&b+a[k]<et;k++)b+=a[k];F=w-z+k+1,V=Math.floor((w+z+k+2)/2),!x&&w===v.length-2?U=v[v.length-1]:!x&&z===-1?U=v[0]:F%2?U=it(V):U=[(it(V)[0]+it(V+1)[0])/2,(it(V)[1]+it(V+1)[1])/2],v.splice(z+1,w-z+1,U),w=z+1,k&&(C=k),x&&(w===v.length-2?v[k]=v[v.length-1]:w===0&&(v[v.length-1]=v[0]))}for(v.splice(0,C),w=0;w<v.length;w++)v[w].length=2;if(!(v.length<2))if(x)v.pop(),r.paths.push(v);else{o||y.log("Unclosed interior contour?",r.level,i.join(","),v.join("L"));var ft=!1;for(O=0;O<r.edgepaths.length;O++)if(X=r.edgepaths[O],!ft&&s(X[0],v[v.length-1],n,u)){v.pop(),ft=!0;var ot=!1;for(H=0;H<r.edgepaths.length;H++)if(J=r.edgepaths[H],s(J[J.length-1],v[0],n,u)){ot=!0,v.shift(),r.edgepaths.splice(O,1),H===O?r.paths.push(v.concat(J)):(H>O&&H--,r.edgepaths[H]=J.concat(v,X));break}ot||(r.edgepaths[O]=v.concat(X))}for(O=0;O<r.edgepaths.length&&!ft;O++)X=r.edgepaths[O],s(X[X.length-1],v[0],n,u)&&(v.shift(),r.edgepaths[O]=X.concat(v),ft=!0);ft||r.edgepaths.push(v)}}function d(r,e,o){var n=0,u=0;return r>20&&e?r===208||r===1114?n=o[0]===0?1:-1:u=o[1]===0?1:-1:D.BOTTOMSTART.indexOf(r)!==-1?u=1:D.LEFTSTART.indexOf(r)!==-1?n=1:D.TOPSTART.indexOf(r)!==-1?u=-1:n=-1,[n,u]}function g(r,e,o){var n=e[0]+Math.max(o[0],0),u=e[1]+Math.max(o[1],0),f=r.z[u][n],c=r.xaxis,m=r.yaxis;if(o[1]){var v=(r.level-f)/(r.z[u][n+1]-f),T=(v!==1?(1-v)*c.c2l(r.x[n]):0)+(v!==0?v*c.c2l(r.x[n+1]):0);return[c.c2p(c.l2c(T),!0),m.c2p(r.y[u],!0),n+v,u]}else{var h=(r.level-f)/(r.z[u+1][n]-f),i=(h!==1?(1-h)*m.c2l(r.y[u]):0)+(h!==0?h*m.c2l(r.y[u+1]):0);return[c.c2p(r.x[n],!0),m.c2p(m.l2c(i),!0),n,u+h]}}},38200:function(W,G,t){var y=t(76308),D=t(55512);W.exports=function(P,M,d,g,r){r||(r={}),r.isContour=!0;var e=D(P,M,d,g,r);return e&&e.forEach(function(o){var n=o.trace;n.contours.type==="constraint"&&(n.fillcolor&&y.opacity(n.fillcolor)?o.color=y.addOpacity(n.fillcolor,1):n.contours.showlines&&y.opacity(n.line.color)&&(o.color=y.addOpacity(n.line.color,1)))}),e}},66240:function(W,G,t){W.exports={attributes:t(67104),supplyDefaults:t(57004),calc:t(20688),plot:t(23676).plot,style:t(52440),colorbar:t(55296),hoverPoints:t(38200),moduleType:"trace",name:"contour",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(W,G,t){var y=t(3400);W.exports=function(s,P,M,d){d||(d={});var g=s("contours.showlabels");if(g){var r=P.font;y.coerceFont(s,"contours.labelfont",r,{overrideDflt:{color:M}}),s("contours.labelformat")}d.hasHover!==!1&&s("zhoverformat")}},41076:function(W,G,t){var y=t(33428),D=t(8932),s=t(46960);W.exports=function(M){var d=M.contours,g=d.start,r=s(d),e=d.size||1,o=Math.floor((r-g)/e)+1,n=d.coloring==="lines"?0:1,u=D.extractOpts(M);isFinite(e)||(e=1,o=1);var f=u.reversescale?D.flipScale(u.colorscale):u.colorscale,c=f.length,m=new Array(c),v=new Array(c),T,h,i=u.min,p=u.max;if(d.coloring==="heatmap"){for(h=0;h<c;h++)T=f[h],m[h]=T[0]*(p-i)+i,v[h]=T[1];var w=y.extent([i,p,d.start,d.start+e*(o-1)]),A=w[i<p?0:1],L=w[i<p?1:0];A!==i&&(m.splice(0,0,A),v.splice(0,0,v[0])),L!==p&&(m.push(L),v.push(v[v.length-1]))}else{var x=M._input&&typeof M._input.zmin=="number"&&typeof M._input.zmax=="number";for(x&&(g<=i||r>=p)&&(g<=i&&(g=i),r>=p&&(r=p),o=Math.floor((r-g)/e)+1,n=0),h=0;h<c;h++)T=f[h],m[h]=(T[0]*(o+n-1)-n/2)*e+g,v[h]=T[1];(x||M.autocontour)&&(m[0]>i&&(m.unshift(i),v.unshift(v[0])),m[m.length-1]<p&&(m.push(p),v.push(v[v.length-1])))}return D.makeColorScaleFunc({domain:m,range:v},{noNumericCheck:!0})}},72424:function(W,G,t){var y=t(93252);W.exports=function(P){var M=P[0].z,d=M.length,g=M[0].length,r=d===2||g===2,e,o,n,u,f,c,m,v,T;for(o=0;o<d-1;o++)for(u=[],o===0&&(u=u.concat(y.BOTTOMSTART)),o===d-2&&(u=u.concat(y.TOPSTART)),e=0;e<g-1;e++)for(n=u.slice(),e===0&&(n=n.concat(y.LEFTSTART)),e===g-2&&(n=n.concat(y.RIGHTSTART)),f=e+","+o,c=[[M[o][e],M[o][e+1]],[M[o+1][e],M[o+1][e+1]]],T=0;T<P.length;T++)v=P[T],m=D(v.level,c),m&&(v.crossings[f]=m,n.indexOf(m)!==-1&&(v.starts.push([e,o]),r&&n.indexOf(m,n.indexOf(m)+1)!==-1&&v.starts.push([e,o])))};function D(s,P){var M=(P[0][0]>s?0:1)+(P[0][1]>s?0:2)+(P[1][1]>s?0:4)+(P[1][0]>s?0:8);if(M===5||M===10){var d=(P[0][0]+P[0][1]+P[1][0]+P[1][1])/4;return s>d?M===5?713:1114:M===5?104:208}return M===15?0:M}},23676:function(W,G,t){var y=t(33428),D=t(3400),s=t(43616),P=t(8932),M=t(72736),d=t(54460),g=t(78344),r=t(41420),e=t(72424),o=t(88748),n=t(61512),u=t(82172),f=t(56008),c=t(93252),m=c.LABELOPTIMIZER;G.plot=function(x,E,S,a){var C=E.xaxis,b=E.yaxis;D.makeTraceGroups(a,S,"contour").each(function(z){var k=y.select(this),U=z[0],F=U.trace,V=U.x,N=U.y,O=F.contours,H=n(O,E,U),X=D.ensureSingle(k,"g","heatmapcoloring"),J=[];O.coloring==="heatmap"&&(J=[z]),r(x,E,J,X),e(H),o(H);var et=C.c2p(V[0],!0),it=C.c2p(V[V.length-1],!0),ft=b.c2p(N[0],!0),ot=b.c2p(N[N.length-1],!0),Q=[[et,ot],[it,ot],[it,ft],[et,ft]],tt=H;O.type==="constraint"&&(tt=u(H,O._operation)),v(k,Q,O),T(k,tt,Q,O),i(k,H,x,U,O),w(k,E,x,U,Q)})};function v(L,x,E){var S=D.ensureSingle(L,"g","contourbg"),a=S.selectAll("path").data(E.coloring==="fill"?[0]:[]);a.enter().append("path"),a.exit().remove(),a.attr("d","M"+x.join("L")+"Z").style("stroke","none")}function T(L,x,E,S){var a=S.coloring==="fill"||S.type==="constraint"&&S._operation!=="=",C="M"+E.join("L")+"Z";a&&f(x,S);var b=D.ensureSingle(L,"g","contourfill"),z=b.selectAll("path").data(a?x:[]);z.enter().append("path"),z.exit().remove(),z.each(function(k){var U=(k.prefixBoundary?C:"")+h(k,E);U?y.select(this).attr("d",U).style("stroke","none"):y.select(this).remove()})}function h(L,x){var E="",S=0,a=L.edgepaths.map(function(et,it){return it}),C=!0,b,z,k,U,F,V;function N(et){return Math.abs(et[1]-x[0][1])<.01}function O(et){return Math.abs(et[1]-x[2][1])<.01}function H(et){return Math.abs(et[0]-x[0][0])<.01}function X(et){return Math.abs(et[0]-x[2][0])<.01}for(;a.length;){for(V=s.smoothopen(L.edgepaths[S],L.smoothing),E+=C?V:V.replace(/^M/,"L"),a.splice(a.indexOf(S),1),b=L.edgepaths[S][L.edgepaths[S].length-1],U=-1,k=0;k<4;k++){if(!b){D.log("Missing end?",S,L);break}for(N(b)&&!X(b)?z=x[1]:H(b)?z=x[0]:O(b)?z=x[3]:X(b)&&(z=x[2]),F=0;F<L.edgepaths.length;F++){var J=L.edgepaths[F][0];Math.abs(b[0]-z[0])<.01?Math.abs(b[0]-J[0])<.01&&(J[1]-b[1])*(z[1]-J[1])>=0&&(z=J,U=F):Math.abs(b[1]-z[1])<.01?Math.abs(b[1]-J[1])<.01&&(J[0]-b[0])*(z[0]-J[0])>=0&&(z=J,U=F):D.log("endpt to newendpt is not vert. or horz.",b,z,J)}if(b=z,U>=0)break;E+="L"+z}if(U===L.edgepaths.length){D.log("unclosed perimeter path");break}S=U,C=a.indexOf(S)===-1,C&&(S=a[0],E+="Z")}for(S=0;S<L.paths.length;S++)E+=s.smoothclosed(L.paths[S],L.smoothing);return E}function i(L,x,E,S,a){var C=E._context.staticPlot,b=D.ensureSingle(L,"g","contourlines"),z=a.showlines!==!1,k=a.showlabels,U=z&&k,F=G.createLines(b,z||k,x,C),V=G.createLineClip(b,U,E,S.trace.uid),N=L.selectAll("g.contourlabels").data(k?[0]:[]);if(N.exit().remove(),N.enter().append("g").classed("contourlabels",!0),k){var O=[],H=[];D.clearLocationCache();var X=G.labelFormatter(E,S),J=s.tester.append("text").attr("data-notex",1).call(s.font,a.labelfont),et=x[0].xaxis,it=x[0].yaxis,ft=et._length,ot=it._length,Q=et.range,tt=it.range,Z=D.aggNums(Math.min,null,S.x),q=D.aggNums(Math.max,null,S.x),ut=D.aggNums(Math.min,null,S.y),$=D.aggNums(Math.max,null,S.y),j=Math.max(et.c2p(Z,!0),0),lt=Math.min(et.c2p(q,!0),ft),nt=Math.max(it.c2p($,!0),0),ht=Math.min(it.c2p(ut,!0),ot),mt={};Q[0]<Q[1]?(mt.left=j,mt.right=lt):(mt.left=lt,mt.right=j),tt[0]<tt[1]?(mt.top=nt,mt.bottom=ht):(mt.top=ht,mt.bottom=nt),mt.middle=(mt.top+mt.bottom)/2,mt.center=(mt.left+mt.right)/2,O.push([[mt.left,mt.top],[mt.right,mt.top],[mt.right,mt.bottom],[mt.left,mt.bottom]]);var At=Math.sqrt(ft*ft+ot*ot),bt=c.LABELDISTANCE*At/Math.max(1,x.length/c.LABELINCREASE);F.each(function(Pt){var _t=G.calcTextOpts(Pt.level,X,J,E);y.select(this).selectAll("path").each(function(){var Ut=this,St=D.getVisibleSegment(Ut,mt,_t.height/2);if(St&&!(St.len<(_t.width+_t.height)*c.LABELMIN))for(var Rt=Math.min(Math.ceil(St.len/bt),c.LABELMAX),Et=0;Et<Rt;Et++){var zt=G.findBestTextLocation(Ut,St,_t,H,mt);if(!zt)break;G.addLabelData(zt,_t,H,O)}})}),J.remove(),G.drawLabels(N,H,E,V,U?O:null)}k&&!z&&F.remove()}G.createLines=function(L,x,E,S){var a=E[0].smoothing,C=L.selectAll("g.contourlevel").data(x?E:[]);if(C.exit().remove(),C.enter().append("g").classed("contourlevel",!0),x){var b=C.selectAll("path.openline").data(function(k){return k.pedgepaths||k.edgepaths});b.exit().remove(),b.enter().append("path").classed("openline",!0),b.attr("d",function(k){return s.smoothopen(k,a)}).style("stroke-miterlimit",1).style("vector-effect",S?"none":"non-scaling-stroke");var z=C.selectAll("path.closedline").data(function(k){return k.ppaths||k.paths});z.exit().remove(),z.enter().append("path").classed("closedline",!0),z.attr("d",function(k){return s.smoothclosed(k,a)}).style("stroke-miterlimit",1).style("vector-effect",S?"none":"non-scaling-stroke")}return C},G.createLineClip=function(L,x,E,S){var a=E._fullLayout._clips,C=x?"clipline"+S:null,b=a.selectAll("#"+C).data(x?[0]:[]);return b.exit().remove(),b.enter().append("clipPath").classed("contourlineclip",!0).attr("id",C),s.setClipUrl(L,C,E),b},G.labelFormatter=function(L,x){var E=L._fullLayout,S=x.trace,a=S.contours,C={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(a.labelformat)C.tickformat=a.labelformat,g(C,E);else{var b=P.extractOpts(S);if(b&&b.colorbar&&b.colorbar._axis)C=b.colorbar._axis;else{if(a.type==="constraint"){var z=a.value;D.isArrayOrTypedArray(z)?C.range=[z[0],z[z.length-1]]:C.range=[z,z]}else C.range=[a.start,a.end],C.nticks=(a.end-a.start)/a.size;C.range[0]===C.range[1]&&(C.range[1]+=C.range[0]||1),C.nticks||(C.nticks=1e3),g(C,E),d.prepTicks(C),C._tmin=null,C._tmax=null}}return function(k){return d.tickText(C,k).text}},G.calcTextOpts=function(L,x,E,S){var a=x(L);E.text(a).call(M.convertToTspans,S);var C=E.node(),b=s.bBox(C,!0);return{text:a,width:b.width,height:b.height,fontSize:+C.style["font-size"].replace("px",""),level:L,dy:(b.top+b.bottom)/2}},G.findBestTextLocation=function(L,x,E,S,a){var C=E.width,b,z,k,U,F;x.isClosed?(z=x.len/m.INITIALSEARCHPOINTS,b=x.min+z/2,k=x.max):(z=(x.len-C)/(m.INITIALSEARCHPOINTS+1),b=x.min+z+C/2,k=x.max-(z+C)/2);for(var V=1/0,N=0;N<m.ITERATIONS;N++){for(var O=b;O<k;O+=z){var H=D.getTextLocation(L,x.total,O,C),X=p(H,E,S,a);X<V&&(V=X,F=H,U=O)}if(V>m.MAXCOST*2)break;N&&(z/=2),b=U-z/2,k=b+z*1.5}if(V<=m.MAXCOST)return F};function p(L,x,E,S){var a=x.width/2,C=x.height/2,b=L.x,z=L.y,k=L.theta,U=Math.cos(k)*a,F=Math.sin(k)*a,V=(b>S.center?S.right-b:b-S.left)/(U+Math.abs(Math.sin(k)*C)),N=(z>S.middle?S.bottom-z:z-S.top)/(Math.abs(F)+Math.cos(k)*C);if(V<1||N<1)return 1/0;var O=m.EDGECOST*(1/(V-1)+1/(N-1));O+=m.ANGLECOST*k*k;for(var H=b-U,X=z-F,J=b+U,et=z+F,it=0;it<E.length;it++){var ft=E[it],ot=Math.cos(ft.theta)*ft.width/2,Q=Math.sin(ft.theta)*ft.width/2,tt=D.segmentDistance(H,X,J,et,ft.x-ot,ft.y-Q,ft.x+ot,ft.y+Q)*2/(x.height+ft.height),Z=ft.level===x.level,q=Z?m.SAMELEVELDISTANCE:1;if(tt<=q)return 1/0;var ut=m.NEIGHBORCOST*(Z?m.SAMELEVELFACTOR:1);O+=ut/(tt-q)}return O}G.addLabelData=function(L,x,E,S){var a=x.fontSize,C=x.width+a/3,b=Math.max(0,x.height-a/3),z=L.x,k=L.y,U=L.theta,F=Math.sin(U),V=Math.cos(U),N=function(H,X){return[z+H*V-X*F,k+H*F+X*V]},O=[N(-C/2,-b/2),N(-C/2,b/2),N(C/2,b/2),N(C/2,-b/2)];E.push({text:x.text,x:z,y:k,dy:x.dy,theta:U,level:x.level,width:C,height:b}),S.push(O)},G.drawLabels=function(L,x,E,S,a){var C=L.selectAll("text").data(x,function(U){return U.text+","+U.x+","+U.y+","+U.theta});if(C.exit().remove(),C.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(U){var F=U.x+Math.sin(U.theta)*U.dy,V=U.y-Math.cos(U.theta)*U.dy;y.select(this).text(U.text).attr({x:F,y:V,transform:"rotate("+180*U.theta/Math.PI+" "+F+" "+V+")"}).call(M.convertToTspans,E)}),a){for(var b="",z=0;z<a.length;z++)b+="M"+a[z].join("L")+"Z";var k=D.ensureSingle(S,"path","");k.attr("d",b)}};function w(L,x,E,S,a){var C=S.trace,b=E._fullLayout._clips,z="clip"+C.uid,k=b.selectAll("#"+z).data(C.connectgaps?[]:[0]);if(k.enter().append("clipPath").classed("contourclip",!0).attr("id",z),k.exit().remove(),C.connectgaps===!1){var U={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:x.xaxis,yaxis:x.yaxis,x:S.x,y:S.y,z:A(S),smoothing:0};e([U]),o([U]),f([U],{type:"levels"});var F=D.ensureSingle(k,"path","");F.attr("d",(U.prefixBoundary?"M"+a.join("L")+"Z":"")+h(U,a))}else z=null;s.setClipUrl(L,z,E)}function A(L){var x=L.trace._emptypoints,E=[],S=L.z.length,a=L.z[0].length,C,b=[],z;for(C=0;C<a;C++)b.push(1);for(C=0;C<S;C++)E.push(b.slice());for(C=0;C<x.length;C++)z=x[C],E[z[0]][z[1]]=0;return L.zmask=E,E}},54444:function(W,G,t){var y=t(54460),D=t(3400);W.exports=function(M,d){var g=M.contours;if(M.autocontour){var r=M.zmin,e=M.zmax;(M.zauto||r===void 0)&&(r=D.aggNums(Math.min,null,d)),(M.zauto||e===void 0)&&(e=D.aggNums(Math.max,null,d));var o=s(r,e,M.ncontours);g.size=o.dtick,g.start=y.tickFirst(o),o.range.reverse(),g.end=y.tickFirst(o),g.start===r&&(g.start+=g.size),g.end===e&&(g.end-=g.size),g.start>g.end&&(g.start=g.end=(g.start+g.end)/2),M._input.contours||(M._input.contours={}),D.extendFlat(M._input.contours,{start:g.start,end:g.end,size:g.size}),M._input.autocontour=!0}else if(g.type!=="constraint"){var n=g.start,u=g.end,f=M._input.contours;if(n>u&&(g.start=f.start=u,u=g.end=f.end=n,n=g.start),!(g.size>0)){var c;n===u?c=1:c=s(n,u,M.ncontours).dtick,f.size=g.size=c}}};function s(P,M,d){var g={type:"linear",range:[P,M]};return y.autoTicks(g,(M-P)/(d||15)),g}},52440:function(W,G,t){var y=t(33428),D=t(43616),s=t(41648),P=t(41076);W.exports=function(d){var g=y.select(d).selectAll("g.contour");g.style("opacity",function(r){return r[0].trace.opacity}),g.each(function(r){var e=y.select(this),o=r[0].trace,n=o.contours,u=o.line,f=n.size||1,c=n.start,m=n.type==="constraint",v=!m&&n.coloring==="lines",T=!m&&n.coloring==="fill",h=v||T?P(o):null;e.selectAll("g.contourlevel").each(function(w){y.select(this).selectAll("path").call(D.lineGroupStyle,u.width,v?h(w.level):u.color,u.dash)});var i=n.labelfont;if(e.selectAll("g.contourlabels text").each(function(w){D.font(y.select(this),{weight:i.weight,style:i.style,variant:i.variant,textcase:i.textcase,lineposition:i.lineposition,shadow:i.shadow,family:i.family,size:i.size,color:i.color||(v?h(w.level):u.color)})}),m)e.selectAll("g.contourfill path").style("fill",o.fillcolor);else if(T){var p;e.selectAll("g.contourfill path").style("fill",function(w){return p===void 0&&(p=w.level),h(w.level+.5*f)}),p===void 0&&(p=c),e.selectAll("g.contourbg path").style("fill",h(p-.5*f))}}),s(d)}},97680:function(W,G,t){var y=t(27260),D=t(17428);W.exports=function(P,M,d,g,r){var e=d("contours.coloring"),o,n="";e==="fill"&&(o=d("contours.showlines")),o!==!1&&(e!=="lines"&&(n=d("line.color","#000")),d("line.width",.5),d("line.dash")),e!=="none"&&(P.showlegend!==!0&&(M.showlegend=!1),M._dfltShowLegend=!1,y(P,M,g,d,{prefix:"",cLetter:"z"})),d("line.smoothing"),D(d,g,n,r)}},37960:function(W,G,t){var y=t(83328),D=t(67104),s=t(49084),P=t(92880).extendFlat,M=D.contours;W.exports=P({carpet:{valType:"string",editType:"calc"},z:y.z,a:y.x,a0:y.x0,da:y.dx,b:y.y,b0:y.y0,db:y.dy,text:y.text,hovertext:y.hovertext,transpose:y.transpose,atype:y.xtype,btype:y.ytype,fillcolor:D.fillcolor,autocontour:D.autocontour,ncontours:D.ncontours,contours:{type:M.type,start:M.start,end:M.end,size:M.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:M.showlines,showlabels:M.showlabels,labelfont:M.labelfont,labelformat:M.labelformat,operation:M.operation,value:M.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:D.line.color,width:D.line.width,dash:D.line.dash,smoothing:D.line.smoothing,editType:"plot"},zorder:D.zorder,transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},30572:function(W,G,t){var y=t(47128),D=t(3400),s=t(2872),P=t(26136),M=t(70448),d=t(11240),g=t(35744),r=t(3252),e=t(50948),o=t(54444);W.exports=function(f,c){var m=c._carpetTrace=e(f,c);if(!(!m||!m.visible||m.visible==="legendonly")){if(!c.a||!c.b){var v=f.data[m.index],T=f.data[c.index];T.a||(T.a=v.a),T.b||(T.b=v.b),r(T,c,c._defaultColor,f._fullLayout)}var h=n(f,c);return o(c,c._z),h}};function n(u,f){var c=f._carpetTrace,m=c.aaxis,v=c.baxis,T,h,i,p,w,A,L;m._minDtick=0,v._minDtick=0,D.isArray1D(f.z)&&s(f,m,v,"a","b",["z"]),T=f._a=f._a||f.a,p=f._b=f._b||f.b,T=T?m.makeCalcdata(f,"_a"):[],p=p?v.makeCalcdata(f,"_b"):[],h=f.a0||0,i=f.da||1,w=f.b0||0,A=f.db||1,L=f._z=P(f._z||f.z,f.transpose),f._emptypoints=d(L),M(L,f._emptypoints);var x=D.maxRowLength(L),E=f.xtype==="scaled"?"":T,S=g(f,E,h,i,x,m),a=f.ytype==="scaled"?"":p,C=g(f,a,w,A,L.length,v),b={a:S,b:C,z:L};return f.contours.type==="levels"&&f.contours.coloring!=="none"&&y(u,f,{vals:L,containerStr:"",cLetter:"z"}),[b]}},3252:function(W,G,t){var y=t(3400),D=t(51264),s=t(37960),P=t(95536),M=t(84952),d=t(97680);W.exports=function(r,e,o,n){function u(v,T){return y.coerce(r,e,s,v,T)}function f(v){return y.coerce2(r,e,s,v)}if(u("carpet"),r.a&&r.b){var c=D(r,e,u,n,"a","b");if(!c){e.visible=!1;return}u("text");var m=u("contours.type")==="constraint";m?P(r,e,u,n,o,{hasHover:!1}):(M(r,e,u,f),d(r,e,u,n,{hasHover:!1}))}else e._defaultColor=o,e._length=null;u("zorder")}},40448:function(W,G,t){W.exports={attributes:t(37960),supplyDefaults:t(3252),colorbar:t(55296),calc:t(30572),plot:t(94440),style:t(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:t(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(W,G,t){var y=t(33428),D=t(87072),s=t(53416),P=t(43616),M=t(3400),d=t(72424),g=t(88748),r=t(23676),e=t(93252),o=t(82172),n=t(61512),u=t(56008),f=t(50948),c=t(77712);W.exports=function(E,S,a,C){var b=S.xaxis,z=S.yaxis;M.makeTraceGroups(C,a,"contour").each(function(k){var U=y.select(this),F=k[0],V=F.trace,N=V._carpetTrace=f(E,V),O=E.calcdata[N.index][0];if(!N.visible||N.visible==="legendonly")return;var H=F.a,X=F.b,J=V.contours,et=n(J,S,F),it=J.type==="constraint",ft=J._operation,ot=it?ft==="="?"lines":"fill":J.coloring;function Q(At){var bt=N.ab2xy(At[0],At[1],!0);return[b.c2p(bt[0]),z.c2p(bt[1])]}var tt=[[H[0],X[X.length-1]],[H[H.length-1],X[X.length-1]],[H[H.length-1],X[0]],[H[0],X[0]]];d(et);var Z=(H[H.length-1]-H[0])*1e-8,q=(X[X.length-1]-X[0])*1e-8;g(et,Z,q);var ut=et;J.type==="constraint"&&(ut=o(et,ft)),m(et,Q);var $,j,lt,nt,ht=[];for(nt=O.clipsegments.length-1;nt>=0;nt--)$=O.clipsegments[nt],j=D([],$.x,b.c2p),lt=D([],$.y,z.c2p),j.reverse(),lt.reverse(),ht.push(s(j,lt,$.bicubic));var mt="M"+ht.join("L")+"Z";w(U,O.clipsegments,b,z,it,ot),A(V,U,b,z,ut,tt,Q,N,O,ot,mt),v(U,et,E,F,J,S,N),P.setClipUrl(U,N._clipPathId,E)})};function m(x,E){var S,a,C,b,z,k,U,F,V;for(S=0;S<x.length;S++){for(b=x[S],z=b.pedgepaths=[],k=b.ppaths=[],a=0;a<b.edgepaths.length;a++){for(V=b.edgepaths[a],U=[],C=0;C<V.length;C++)U[C]=E(V[C]);z.push(U)}for(a=0;a<b.paths.length;a++){for(V=b.paths[a],F=[],C=0;C<V.length;C++)F[C]=E(V[C]);k.push(F)}}}function v(x,E,S,a,C,b,z){var k=S._context.staticPlot,U=M.ensureSingle(x,"g","contourlines"),F=C.showlines!==!1,V=C.showlabels,N=F&&V,O=r.createLines(U,F||V,E,k),H=r.createLineClip(U,N,S,a.trace.uid),X=x.selectAll("g.contourlabels").data(V?[0]:[]);if(X.exit().remove(),X.enter().append("g").classed("contourlabels",!0),V){var J=b.xaxis,et=b.yaxis,it=J._length,ft=et._length,ot=[[[0,0],[it,0],[it,ft],[0,ft]]],Q=[];M.clearLocationCache();var tt=r.labelFormatter(S,a),Z=P.tester.append("text").attr("data-notex",1).call(P.font,C.labelfont),q={left:0,right:it,center:it/2,top:0,bottom:ft,middle:ft/2},ut=Math.sqrt(it*it+ft*ft),$=e.LABELDISTANCE*ut/Math.max(1,E.length/e.LABELINCREASE);O.each(function(j){var lt=r.calcTextOpts(j.level,tt,Z,S);y.select(this).selectAll("path").each(function(nt){var ht=this,mt=M.getVisibleSegment(ht,q,lt.height/2);if(mt&&(T(ht,nt,j,mt,z,lt.height),!(mt.len<(lt.width+lt.height)*e.LABELMIN)))for(var At=Math.min(Math.ceil(mt.len/$),e.LABELMAX),bt=0;bt<At;bt++){var Pt=r.findBestTextLocation(ht,mt,lt,Q,q);if(!Pt)break;r.addLabelData(Pt,lt,Q,ot)}})}),Z.remove(),r.drawLabels(X,Q,S,H,N?ot:null)}V&&!F&&O.remove()}function T(x,E,S,a,C,b){for(var z,k=0;k<S.pedgepaths.length;k++)E===S.pedgepaths[k]&&(z=S.edgepaths[k]);if(!z)return;var U=C.a[0],F=C.a[C.a.length-1],V=C.b[0],N=C.b[C.b.length-1];function O(it,ft){var ot=0,Q,tt=.1;return(Math.abs(it[0]-U)<tt||Math.abs(it[0]-F)<tt)&&(Q=i(C.dxydb_rough(it[0],it[1],tt)),ot=Math.max(ot,b*p(ft,Q)/2)),(Math.abs(it[1]-V)<tt||Math.abs(it[1]-N)<tt)&&(Q=i(C.dxyda_rough(it[0],it[1],tt)),ot=Math.max(ot,b*p(ft,Q)/2)),ot}var H=h(x,0,1),X=h(x,a.total,a.total-1),J=O(z[0],H),et=a.total-O(z[z.length-1],X);a.min<J&&(a.min=J),a.max>et&&(a.max=et),a.len=a.max-a.min}function h(x,E,S){var a=x.getPointAtLength(E),C=x.getPointAtLength(S),b=C.x-a.x,z=C.y-a.y,k=Math.sqrt(b*b+z*z);return[b/k,z/k]}function i(x){var E=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/E,x[1]/E]}function p(x,E){var S=Math.abs(x[0]*E[0]+x[1]*E[1]),a=Math.sqrt(1-S*S);return a/S}function w(x,E,S,a,C,b){var z,k,U,F,V=M.ensureSingle(x,"g","contourbg"),N=V.selectAll("path").data(b==="fill"&&!C?[0]:[]);N.enter().append("path"),N.exit().remove();var O=[];for(F=0;F<E.length;F++)z=E[F],k=D([],z.x,S.c2p),U=D([],z.y,a.c2p),O.push(s(k,U,z.bicubic));N.attr("d","M"+O.join("L")+"Z").style("stroke","none")}function A(x,E,S,a,C,b,z,k,U,F,V){var N=F==="fill";N&&u(C,x.contours);var O=M.ensureSingle(E,"g","contourfill"),H=O.selectAll("path").data(N?C:[]);H.enter().append("path"),H.exit().remove(),H.each(function(X){var J=(X.prefixBoundary?V:"")+L(x,X,b,z,k,U,S,a);J?y.select(this).attr("d",J).style("stroke","none"):y.select(this).remove()})}function L(x,E,S,a,C,b,z,k){var U,F="",V=E.edgepaths.map(function(lt,nt){return nt}),N=!0,O,H,X,J,et,it,ft=Math.abs(S[0][0]-S[2][0])*1e-4,ot=Math.abs(S[0][1]-S[2][1])*1e-4;function Q(lt){return Math.abs(lt[1]-S[0][1])<ot}function tt(lt){return Math.abs(lt[1]-S[2][1])<ot}function Z(lt){return Math.abs(lt[0]-S[0][0])<ft}function q(lt){return Math.abs(lt[0]-S[2][0])<ft}function ut(lt,nt){var ht,mt,At,bt,Pt="";for(Q(lt)&&!q(lt)||tt(lt)&&!Z(lt)?(bt=C.aaxis,At=c(C,b,[lt[0],nt[0]],.5*(lt[1]+nt[1]))):(bt=C.baxis,At=c(C,b,.5*(lt[0]+nt[0]),[lt[1],nt[1]])),ht=1;ht<At.length;ht++)for(Pt+=bt.smoothing?"C":"L",mt=0;mt<At[ht].length;mt++){var _t=At[ht][mt];Pt+=[z.c2p(_t[0]),k.c2p(_t[1])]+" "}return Pt}for(U=0,O=null;V.length;){var $=E.edgepaths[U][0];for(O&&(F+=ut(O,$)),it=P.smoothopen(E.edgepaths[U].map(a),E.smoothing),F+=N?it:it.replace(/^M/,"L"),V.splice(V.indexOf(U),1),O=E.edgepaths[U][E.edgepaths[U].length-1],J=-1,X=0;X<4;X++){if(!O){M.log("Missing end?",U,E);break}for(Q(O)&&!q(O)?H=S[1]:Z(O)?H=S[0]:tt(O)?H=S[3]:q(O)&&(H=S[2]),et=0;et<E.edgepaths.length;et++){var j=E.edgepaths[et][0];Math.abs(O[0]-H[0])<ft?Math.abs(O[0]-j[0])<ft&&(j[1]-O[1])*(H[1]-j[1])>=0&&(H=j,J=et):Math.abs(O[1]-H[1])<ot?Math.abs(O[1]-j[1])<ot&&(j[0]-O[0])*(H[0]-j[0])>=0&&(H=j,J=et):M.log("endpt to newendpt is not vert. or horz.",O,H,j)}if(J>=0)break;F+=ut(O,H),O=H}if(J===E.edgepaths.length){M.log("unclosed perimeter path");break}U=J,N=V.indexOf(U)===-1,N&&(U=V[0],F+=ut(O,H)+"Z",O=null)}for(U=0;U<E.paths.length;U++)F+=P.smoothclosed(E.paths[U].map(a),E.smoothing);return F}},33928:function(W,G,t){var y=t(49084),D=t(21776).Ks,s=t(45464),P=t(31512),M=t(92880).extendFlat;W.exports=M({lon:P.lon,lat:P.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:P.text,hovertext:P.hovertext,hoverinfo:M({},s.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:D(),showlegend:M({},s.showlegend,{dflt:!1})},y("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(W,G,t){var y=t(38248),D=t(3400).isArrayOrTypedArray,s=t(39032).BADNUM,P=t(47128),M=t(3400)._;W.exports=function(g,r){for(var e=r._length,o=new Array(e),n=r.z,u=D(n)&&n.length,f=0;f<e;f++){var c=o[f]={},m=r.lon[f],v=r.lat[f];if(c.lonlat=y(m)&&y(v)?[+m,+v]:[s,s],u){var T=n[f];c.z=y(T)?T:s}}return P(g,r,{vals:u?n:[0,1],containerStr:"",cLetter:"z"}),e&&(o[0].t={labels:{lat:M(g,"lat:")+" ",lon:M(g,"lon:")+" "}}),o}},4629:function(W,G,t){var y=t(38248),D=t(3400),s=t(76308),P=t(8932),M=t(39032).BADNUM,d=t(44808).makeBlank;W.exports=function(r){var e=r[0].trace,o=e.visible===!0&&e._length!==0,n={layout:{visibility:"none"},paint:{}},u=e._opts={heatmap:n,geojson:d()};if(!o)return u;var f=[],c,m=e.z,v=e.radius,T=D.isArrayOrTypedArray(m)&&m.length,h=D.isArrayOrTypedArray(v);for(c=0;c<r.length;c++){var i=r[c],p=i.lonlat;if(p[0]!==M){var w={};if(T){var A=i.z;w.z=A!==M?A:0}h&&(w.r=y(v[c])&&v[c]>0?+v[c]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:p},properties:w})}}var L=P.extractOpts(e),x=L.reversescale?P.flipScale(L.colorscale):L.colorscale,E=x[0][1],S=s.opacity(E)<1?E:s.addOpacity(E,0),a=["interpolate",["linear"],["heatmap-density"],0,S];for(c=1;c<x.length;c++)a.push(x[c][0],x[c][1]);var C=["interpolate",["linear"],["get","z"],L.min,0,L.max,1];return D.extendFlat(u.heatmap.paint,{"heatmap-weight":T?C:1/(L.max-L.min),"heatmap-color":a,"heatmap-radius":h?{type:"identity",property:"r"}:e.radius,"heatmap-opacity":e.opacity}),u.geojson={type:"FeatureCollection",features:f},u.heatmap.layout.visibility="visible",u}},97664:function(W,G,t){var y=t(3400),D=t(27260),s=t(33928);W.exports=function(M,d,g,r){function e(f,c){return y.coerce(M,d,s,f,c)}var o=e("lon")||[],n=e("lat")||[],u=Math.min(o.length,n.length);if(!u){d.visible=!1;return}d._length=u,e("z"),e("radius"),e("below"),e("text"),e("hovertext"),e("hovertemplate"),D(M,d,r,e,{prefix:"",cLetter:"z"})}},96176:function(W){W.exports=function(t,y){return t.lon=y.lon,t.lat=y.lat,t.z=y.z,t}},25336:function(W,G,t){var y=t(54460),D=t(63312).hoverPoints,s=t(63312).getExtraText;W.exports=function(M,d,g){var r=D(M,d,g);if(r){var e=r[0],o=e.cd,n=o[0].trace,u=o[e.index];if(delete e.color,"z"in u){var f=e.subplot.mockAxis;e.z=u.z,e.zLabel=y.tickText(f,f.c2l(u.z),"hover").text}return e.extraText=s(n,u,o[0].t.labels),[e]}}},15088:function(W,G,t){W.exports={attributes:t(33928),supplyDefaults:t(97664),colorbar:t(96288),formatLabels:t(11960),calc:t(90876),plot:t(35256),hoverPoints:t(25336),eventData:t(96176),getBelow:function(y,D){for(var s=D.getMapLayers(),P=0;P<s.length;P++){var M=s[P],d=M.id;if(M.type==="symbol"&&typeof d=="string"&&d.indexOf("plotly-")===-1)return d}},moduleType:"trace",name:"densitymapbox",basePlotModule:t(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(W,G,t){var y=t(4629),D=t(47552).traceLayerPrefix;function s(M,d){this.type="densitymapbox",this.subplot=M,this.uid=d,this.sourceId="source-"+d,this.layerList=[["heatmap",D+d+"-heatmap"]],this.below=null}var P=s.prototype;P.update=function(M){var d=this.subplot,g=this.layerList,r=y(M),e=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(r.geojson),e!==this.below&&(this._removeLayers(),this._addLayers(r,e),this.below=e);for(var o=0;o<g.length;o++){var n=g[o],u=n[0],f=n[1],c=r[u];d.setOptions(f,"setLayoutProperty",c.layout),c.layout.visibility==="visible"&&d.setOptions(f,"setPaintProperty",c.paint)}},P._addLayers=function(M,d){for(var g=this.subplot,r=this.layerList,e=this.sourceId,o=0;o<r.length;o++){var n=r[o],u=n[0],f=M[u];g.addLayer({type:u,id:n[1],source:e,layout:f.layout,paint:f.paint},d)}},P._removeLayers=function(){for(var M=this.subplot.map,d=this.layerList,g=d.length-1;g>=0;g--)M.removeLayer(d[g][1])},P.dispose=function(){var M=this.subplot.map;this._removeLayers(),M.removeSource(this.sourceId)},W.exports=function(d,g){var r=g[0].trace,e=new s(d,r.uid),o=e.sourceId,n=y(g),u=e.below=d.belowLookup["trace-"+r.uid];return d.map.addSource(o,{type:"geojson",data:n.geojson}),e._addLayers(n,u),e}},74248:function(W,G,t){var y=t(3400);W.exports=function(s,P){for(var M=0;M<s.length;M++)s[M].i=M;y.mergeArray(P.text,s,"tx"),y.mergeArray(P.hovertext,s,"htx");var d=P.marker;if(d){y.mergeArray(d.opacity,s,"mo"),y.mergeArray(d.color,s,"mc");var g=d.line;g&&(y.mergeArray(g.color,s,"mlc"),y.mergeArrayCastPositive(g.width,s,"mlw"))}}},20088:function(W,G,t){var y=t(20832),D=t(52904).line,s=t(45464),P=t(29736).axisHoverFormat,M=t(21776).Ks,d=t(21776).Gw,g=t(74732),r=t(92880).extendFlat,e=t(76308);W.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),hovertext:y.hovertext,hovertemplate:M({},{keys:g.eventDataKeys}),hoverinfo:r({},s.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:d({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),text:y.text,textposition:y.textposition,insidetextanchor:r({},y.insidetextanchor,{dflt:"middle"}),textangle:r({},y.textangle,{dflt:0}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:r({},y.orientation,{}),offset:r({},y.offset,{arrayOk:!1}),width:r({},y.width,{arrayOk:!1}),marker:o(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},D.color,{dflt:e.defaultLine}),width:r({},D.width,{dflt:0,editType:"plot"}),dash:D.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,zorder:y.zorder};function o(){var n=r({},y.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(W,G,t){var y=t(54460),D=t(1220),s=t(74248),P=t(4500),M=t(39032).BADNUM;W.exports=function(r,e){var o=y.getFromId(r,e.xaxis||"x"),n=y.getFromId(r,e.yaxis||"y"),u,f,c,m,v,T,h,i;e.orientation==="h"?(u=o.makeCalcdata(e,"x"),c=n.makeCalcdata(e,"y"),m=D(e,n,"y",c),v=!!e.yperiodalignment,T="y"):(u=n.makeCalcdata(e,"y"),c=o.makeCalcdata(e,"x"),m=D(e,o,"x",c),v=!!e.xperiodalignment,T="x"),f=m.vals;var p=Math.min(f.length,u.length),w=new Array(p);for(e._base=[],h=0;h<p;h++){u[h]<0&&(u[h]=M);var A=!1;u[h]!==M&&h+1<p&&u[h+1]!==M&&(A=!0),i=w[h]={p:f[h],s:u[h],cNext:A},e._base[h]=-.5*i.s,v&&(w[h].orig_p=c[h],w[h][T+"End"]=m.ends[h],w[h][T+"Start"]=m.starts[h]),e.ids&&(i.id=String(e.ids[h])),h===0&&(w[0].vTotal=0),w[0].vTotal+=d(i.s),i.begR=d(i.s)/d(w[0].s)}var L;for(h=0;h<p;h++)i=w[h],i.s!==M&&(i.sumR=i.s/w[0].vTotal,i.difR=L!==void 0?i.s/L:1,L=i.s);return s(w,e),P(w,e),w};function d(g){return g===M?0:g}},74732:function(W){W.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(W,G,t){var y=t(96376).setGroupPositions;W.exports=function(s,P){var M=s._fullLayout,d=s._fullData,g=s.calcdata,r=P.xaxis,e=P.yaxis,o=[],n=[],u=[],f,c;for(c=0;c<d.length;c++){var m=d[c],v=m.orientation==="h";m.visible===!0&&m.xaxis===r._id&&m.yaxis===e._id&&m.type==="funnel"&&(f=g[c],v?u.push(f):n.push(f),o.push(f))}var T={mode:M.funnelmode,norm:M.funnelnorm,gap:M.funnelgap,groupgap:M.funnelgroupgap};for(y(s,r,e,n,T),y(s,e,r,u,T),c=0;c<o.length;c++){f=o[c];for(var h=0;h<f.length;h++)h+1<f.length&&(f[h].nextP0=f[h+1].p0,f[h].nextS0=f[h+1].s0,f[h].nextP1=f[h+1].p1,f[h].nextS1=f[h+1].s1)}}},45432:function(W,G,t){var y=t(3400),D=t(20011),s=t(31508).handleText,P=t(43980),M=t(31147),d=t(20088),g=t(76308);function r(n,u,f,c){function m(A,L){return y.coerce(n,u,d,A,L)}var v=P(n,u,c,m);if(!v){u.visible=!1;return}M(n,u,c,m),m("xhoverformat"),m("yhoverformat"),m("orientation",u.y&&!u.x?"v":"h"),m("offset"),m("width");var T=m("text");m("hovertext"),m("hovertemplate");var h=m("textposition");s(n,u,c,m,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u.textposition!=="none"&&!u.texttemplate&&m("textinfo",y.isArrayOrTypedArray(T)?"text+value":"value");var i=m("marker.color",f);m("marker.line.color",g.defaultLine),m("marker.line.width");var p=m("connector.visible");if(p){m("connector.fillcolor",e(i));var w=m("connector.line.width");w&&(m("connector.line.color"),m("connector.line.dash"))}m("zorder")}function e(n){var u=y.isArrayOrTypedArray(n)?"#000":n;return g.addOpacity(u,.5*g.opacity(u))}function o(n,u){var f,c;function m(T){return y.coerce(c._input,c,d,T)}if(u.funnelmode==="group")for(var v=0;v<n.length;v++)c=n[v],f=c._input,D(f,c,u,m)}W.exports={supplyDefaults:r,crossTraceDefaults:o}},34580:function(W){W.exports=function(t,y){return t.x="xVal"in y?y.xVal:y.x,t.y="yVal"in y?y.yVal:y.y,"percentInitial"in y&&(t.percentInitial=y.percentInitial),"percentPrevious"in y&&(t.percentPrevious=y.percentPrevious),"percentTotal"in y&&(t.percentTotal=y.percentTotal),y.xa&&(t.xaxis=y.xa),y.ya&&(t.yaxis=y.ya),t}},31488:function(W,G,t){var y=t(76308).opacity,D=t(63400).hoverOnBars,s=t(3400).formatPercent;W.exports=function(d,g,r,e,o){var n=D(d,g,r,e,o);if(n){var u=n.cd,f=u[0].trace,c=f.orientation==="h",m=n.index,v=u[m],T=c?"x":"y";n[T+"LabelVal"]=v.s,n.percentInitial=v.begR,n.percentInitialLabel=s(v.begR,1),n.percentPrevious=v.difR,n.percentPreviousLabel=s(v.difR,1),n.percentTotal=v.sumR,n.percentTotalLabel=s(v.sumR,1);var h=v.hi||f.hoverinfo,i=[];if(h&&h!=="none"&&h!=="skip"){var p=h==="all",w=h.split("+"),A=function(L){return p||w.indexOf(L)!==-1};A("percent initial")&&i.push(n.percentInitialLabel+" of initial"),A("percent previous")&&i.push(n.percentPreviousLabel+" of previous"),A("percent total")&&i.push(n.percentTotalLabel+" of total")}return n.extraText=i.join("<br>"),n.color=P(f,v),[n]}};function P(M,d){var g=M.marker,r=d.mc||g.color,e=d.mlc||g.line.color,o=d.mlw||g.line.width;if(y(r))return r;if(y(e)&&o)return e}},94704:function(W,G,t){W.exports={attributes:t(20088),layoutAttributes:t(7076),supplyDefaults:t(45432).supplyDefaults,crossTraceDefaults:t(45432).crossTraceDefaults,supplyLayoutDefaults:t(11631),calc:t(23096),crossTraceCalc:t(4804),plot:t(42200),style:t(44544).style,hoverPoints:t(31488),eventData:t(34580),selectPoints:t(45784),moduleType:"trace",name:"funnel",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(W){W.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(W,G,t){var y=t(3400),D=t(7076);W.exports=function(s,P,M){var d=!1;function g(o,n){return y.coerce(s,P,D,o,n)}for(var r=0;r<M.length;r++){var e=M[r];if(e.visible&&e.type==="funnel"){d=!0;break}}d&&(g("funnelmode"),g("funnelgap",.2),g("funnelgroupgap"))}},42200:function(W,G,t){var y=t(33428),D=t(3400),s=t(43616),P=t(39032).BADNUM,M=t(98184),d=t(82744).clearMinTextSize;W.exports=function(n,u,f,c){var m=n._fullLayout;d("funnel",m),g(n,u,f,c),r(n,u,f,c),M.plot(n,u,f,c,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function g(o,n,u,f){var c=n.xaxis,m=n.yaxis;D.makeTraceGroups(f,u,"trace bars").each(function(v){var T=y.select(this),h=v[0].trace,i=D.ensureSingle(T,"g","regions");if(!h.connector||!h.connector.visible){i.remove();return}var p=h.orientation==="h",w=i.selectAll("g.region").data(D.identity);w.enter().append("g").classed("region",!0),w.exit().remove();var A=w.size();w.each(function(L,x){if(!(x!==A-1&&!L.cNext)){var E=e(L,c,m,p),S=E[0],a=E[1],C="";S[0]!==P&&a[0]!==P&&S[1]!==P&&a[1]!==P&&S[2]!==P&&a[2]!==P&&S[3]!==P&&a[3]!==P&&(p?C+="M"+S[0]+","+a[1]+"L"+S[2]+","+a[2]+"H"+S[3]+"L"+S[1]+","+a[1]+"Z":C+="M"+S[1]+","+a[1]+"L"+S[2]+","+a[3]+"V"+a[2]+"L"+S[1]+","+a[0]+"Z"),C===""&&(C="M0,0Z"),D.ensureSingle(y.select(this),"path").attr("d",C).call(s.setClipUrl,n.layerClipId,o)}})})}function r(o,n,u,f){var c=n.xaxis,m=n.yaxis;D.makeTraceGroups(f,u,"trace bars").each(function(v){var T=y.select(this),h=v[0].trace,i=D.ensureSingle(T,"g","lines");if(!h.connector||!h.connector.visible||!h.connector.line.width){i.remove();return}var p=h.orientation==="h",w=i.selectAll("g.line").data(D.identity);w.enter().append("g").classed("line",!0),w.exit().remove();var A=w.size();w.each(function(L,x){if(!(x!==A-1&&!L.cNext)){var E=e(L,c,m,p),S=E[0],a=E[1],C="";S[3]!==void 0&&a[3]!==void 0&&(p?(C+="M"+S[0]+","+a[1]+"L"+S[2]+","+a[2],C+="M"+S[1]+","+a[1]+"L"+S[3]+","+a[2]):(C+="M"+S[1]+","+a[1]+"L"+S[2]+","+a[3],C+="M"+S[1]+","+a[0]+"L"+S[2]+","+a[2])),C===""&&(C="M0,0Z"),D.ensureSingle(y.select(this),"path").attr("d",C).call(s.setClipUrl,n.layerClipId,o)}})})}function e(o,n,u,f){var c=[],m=[],v=f?n:u,T=f?u:n;return c[0]=v.c2p(o.s0,!0),m[0]=T.c2p(o.p0,!0),c[1]=v.c2p(o.s1,!0),m[1]=T.c2p(o.p1,!0),c[2]=v.c2p(o.nextS0,!0),m[2]=T.c2p(o.nextP0,!0),c[3]=v.c2p(o.nextS1,!0),m[3]=T.c2p(o.nextP1,!0),f?[c,m]:[m,c]}},44544:function(W,G,t){var y=t(33428),D=t(43616),s=t(76308),P=t(13448).DESELECTDIM,M=t(60100),d=t(82744).resizeText,g=M.styleTextPoints;function r(e,o,n){var u=n||y.select(e).selectAll('g[class^="funnellayer"]').selectAll("g.trace");d(e,u,"funnel"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var c=y.select(this),m=f[0].trace;c.selectAll(".point > path").each(function(v){if(!v.isBlank){var T=m.marker;y.select(this).call(s.fill,v.mc||T.color).call(s.stroke,v.mlc||T.line.color).call(D.dashLine,T.line.dash,v.mlw||T.line.width).style("opacity",m.selectedpoints&&!v.selected?P:1)}}),g(c,m,e),c.selectAll(".regions").each(function(){y.select(this).selectAll("path").style("stroke-width",0).call(s.fill,m.connector.fillcolor)}),c.selectAll(".lines").each(function(){var v=m.connector.line;D.lineGroupStyle(y.select(this).selectAll("path"),v.width,v.color,v.dash)})})}W.exports={style:r}},22332:function(W,G,t){var y=t(74996),D=t(45464),s=t(86968).u,P=t(21776).Ks,M=t(21776).Gw,d=t(92880).extendFlat;W.exports={labels:y.labels,label0:y.label0,dlabel:y.dlabel,values:y.values,marker:{colors:y.marker.colors,line:{color:d({},y.marker.line.color,{dflt:null}),width:d({},y.marker.line.width,{dflt:1}),editType:"calc"},pattern:y.marker.pattern,editType:"calc"},text:y.text,hovertext:y.hovertext,scalegroup:d({},y.scalegroup,{}),textinfo:d({},y.textinfo,{flags:["label","text","value","percent"]}),texttemplate:M({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:d({},D.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:P({},{keys:["label","color","value","text","percent"]}),textposition:d({},y.textposition,{values:["inside","none"],dflt:"inside"}),textfont:y.textfont,insidetextfont:y.insidetextfont,title:{text:y.title.text,font:y.title.font,position:d({},y.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:s({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(W,G,t){var y=t(7316);G.name="funnelarea",G.plot=function(D,s,P,M){y.plotBasePlot(G.name,D,s,P,M)},G.clean=function(D,s,P,M){y.cleanBasePlot(G.name,D,s,P,M)}},54e3:function(W,G,t){var y=t(45768);function D(P,M){return y.calc(P,M)}function s(P){y.crossTraceCalc(P,{type:"funnelarea"})}W.exports={calc:D,crossTraceCalc:s}},92688:function(W,G,t){var y=t(3400),D=t(22332),s=t(86968).Q,P=t(31508).handleText,M=t(74174).handleLabelsAndValues,d=t(74174).handleMarkerDefaults;W.exports=function(r,e,o,n){function u(A,L){return y.coerce(r,e,D,A,L)}var f=u("labels"),c=u("values"),m=M(f,c),v=m.len;if(e._hasLabels=m.hasLabels,e._hasValues=m.hasValues,!e._hasLabels&&e._hasValues&&(u("label0"),u("dlabel")),!v){e.visible=!1;return}e._length=v,d(r,e,n,u),u("scalegroup");var T=u("text"),h=u("texttemplate"),i;if(h||(i=u("textinfo",Array.isArray(T)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),h||i&&i!=="none"){var p=u("textposition");P(r,e,n,u,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else i==="none"&&u("textposition","none");s(e,n,u);var w=u("title.text");w&&(u("title.position"),y.coerceFont(u,"title.font",n.font)),u("aspectratio"),u("baseratio")}},62396:function(W,G,t){W.exports={moduleType:"trace",name:"funnelarea",basePlotModule:t(91248),categories:["pie-like","funnelarea","showLegend"],attributes:t(22332),layoutAttributes:t(61280),supplyDefaults:t(92688),supplyLayoutDefaults:t(35384),calc:t(54e3).calc,crossTraceCalc:t(54e3).crossTraceCalc,plot:t(39472),style:t(62096),styleOne:t(10528),meta:{}}},61280:function(W,G,t){var y=t(85204).hiddenlabels;W.exports={hiddenlabels:y,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(W,G,t){var y=t(3400),D=t(61280);W.exports=function(P,M){function d(g,r){return y.coerce(P,M,D,g,r)}d("hiddenlabels"),d("funnelareacolorway",M.colorway),d("extendfunnelareacolors")}},39472:function(W,G,t){var y=t(33428),D=t(43616),s=t(3400),P=s.strScale,M=s.strTranslate,d=t(72736),g=t(98184),r=g.toMoveInsideBar,e=t(82744),o=e.recordMinTextSize,n=e.clearMinTextSize,u=t(69656),f=t(37820),c=f.attachFxHandlers,m=f.determineInsideTextFont,v=f.layoutAreas,T=f.prerenderTitles,h=f.positionTitleOutside,i=f.formatSliceLabel;W.exports=function(x,E){var S=x._context.staticPlot,a=x._fullLayout;n("funnelarea",a),T(E,x),v(E,a._size),s.makeTraceGroups(a._funnelarealayer,E,"trace").each(function(C){var b=y.select(this),z=C[0],k=z.trace;A(C),b.each(function(){var U=y.select(this).selectAll("g.slice").data(C);U.enter().append("g").classed("slice",!0),U.exit().remove(),U.each(function(V,N){if(V.hidden){y.select(this).selectAll("path,g").remove();return}V.pointNumber=V.i,V.curveNumber=k.index;var O=z.cx,H=z.cy,X=y.select(this),J=X.selectAll("path.surface").data([V]);J.enter().append("path").classed("surface",!0).style({"pointer-events":S?"none":"all"}),X.call(c,x,C);var et="M"+(O+V.TR[0])+","+(H+V.TR[1])+p(V.TR,V.BR)+p(V.BR,V.BL)+p(V.BL,V.TL)+"Z";J.attr("d",et),i(x,V,z);var it=u.castOption(k.textposition,V.pts),ft=X.selectAll("g.slicetext").data(V.text&&it!=="none"?[0]:[]);ft.enter().append("g").classed("slicetext",!0),ft.exit().remove(),ft.each(function(){var ot=s.ensureSingle(y.select(this),"text","",function(lt){lt.attr("data-notex",1)}),Q=s.ensureUniformFontSize(x,m(k,V,a.font));ot.text(V.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(D.font,Q).call(d.convertToTspans,x);var tt=D.bBox(ot.node()),Z,q,ut,$=Math.min(V.BL[1],V.BR[1])+H,j=Math.max(V.TL[1],V.TR[1])+H;q=Math.max(V.TL[0],V.BL[0])+O,ut=Math.min(V.TR[0],V.BR[0])+O,Z=r(q,ut,$,j,tt,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),Z.fontSize=Q.size,o(k.type,Z,a),C[N].transform=Z,s.setTransormAndDisplay(ot,Z)})});var F=y.select(this).selectAll("g.titletext").data(k.title.text?[0]:[]);F.enter().append("g").classed("titletext",!0),F.exit().remove(),F.each(function(){var V=s.ensureSingle(y.select(this),"text","",function(H){H.attr("data-notex",1)}),N=k.title.text;k._meta&&(N=s.templateString(N,k._meta)),V.text(N).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(D.font,k.title.font).call(d.convertToTspans,x);var O=h(z,a._size);V.attr("transform",M(O.x,O.y)+P(Math.min(1,O.scale))+M(O.tx,O.ty))})})})};function p(L,x){var E=x[0]-L[0],S=x[1]-L[1];return"l"+E+","+S}function w(L,x){return[.5*(L[0]+x[0]),.5*(L[1]+x[1])]}function A(L){if(!L.length)return;var x=L[0],E=x.trace,S=E.aspectratio,a=E.baseratio;a>.999&&(a=.999);var C=Math.pow(a,2),b=x.vTotal,z=b*C/(1-C),k=b,U=z/b;function F(){var nt=Math.sqrt(U);return{x:nt,y:-nt}}function V(){var nt=F();return[nt.x,nt.y]}var N,O=[];O.push(V());var H,X;for(H=L.length-1;H>-1;H--)if(X=L[H],!X.hidden){var J=X.v/k;U+=J,O.push(V())}var et=1/0,it=-1/0;for(H=0;H<O.length;H++)N=O[H],et=Math.min(et,N[1]),it=Math.max(it,N[1]);for(H=0;H<O.length;H++)O[H][1]-=(it+et)/2;var ft=O[O.length-1][0],ot=x.r,Q=(it-et)/2,tt=ot/ft,Z=ot/Q*S;for(x.r=Z*Q,H=0;H<O.length;H++)O[H][0]*=tt,O[H][1]*=Z;N=O[0];var q=[-N[0],N[1]],ut=[N[0],N[1]],$=0;for(H=L.length-1;H>-1;H--)if(X=L[H],!X.hidden){$+=1;var j=O[$][0],lt=O[$][1];X.TL=[-j,lt],X.TR=[j,lt],X.BL=q,X.BR=ut,X.pxmid=w(X.TR,X.BR),q=X.TL,ut=X.TR}}},62096:function(W,G,t){var y=t(33428),D=t(10528),s=t(82744).resizeText;W.exports=function(M){var d=M._fullLayout._funnelarealayer.selectAll(".trace");s(M,d,"funnelarea"),d.each(function(g){var r=g[0],e=r.trace,o=y.select(this);o.style({opacity:e.opacity}),o.selectAll("path.surface").each(function(n){y.select(this).call(D,n,e,M)})})}},83328:function(W,G,t){var y=t(52904),D=t(45464),s=t(25376),P=t(29736).axisHoverFormat,M=t(21776).Ks,d=t(21776).Gw,g=t(49084),r=t(92880).extendFlat;W.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},y.x,{impliedEdits:{xtype:"array"}}),x0:r({},y.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},y.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},y.y,{impliedEdits:{ytype:"array"}}),y0:r({},y.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},y.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},y.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},y.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},y.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},y.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},y.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},y.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:M(),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:s({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},D.showlegend,{dflt:!1}),zorder:y.zorder},{transforms:void 0},g("",{cLetter:"z",autoColorDflt:!1}))},19512:function(W,G,t){var y=t(24040),D=t(3400),s=t(54460),P=t(1220),M=t(55480),d=t(47128),g=t(2872),r=t(26136),e=t(70448),o=t(11240),n=t(35744),u=t(39032).BADNUM;W.exports=function(v,T){var h=s.getFromId(v,T.xaxis||"x"),i=s.getFromId(v,T.yaxis||"y"),p=y.traceIs(T,"contour"),w=y.traceIs(T,"histogram"),A=y.traceIs(T,"gl2d"),L=p?"best":T.zsmooth,x,E,S,a,C,b,z,k,U,F,V;if(h._minDtick=0,i._minDtick=0,w)V=M(v,T),a=V.orig_x,x=V.x,E=V.x0,S=V.dx,k=V.orig_y,C=V.y,b=V.y0,z=V.dy,U=V.z;else{var N=T.z;D.isArray1D(N)?(g(T,h,i,"x","y",["z"]),x=T._x,C=T._y,N=T._z):(a=T.x?h.makeCalcdata(T,"x"):[],k=T.y?i.makeCalcdata(T,"y"):[],x=P(T,h,"x",a).vals,C=P(T,i,"y",k).vals,T._x=x,T._y=C),E=T.x0,S=T.dx,b=T.y0,z=T.dy,U=r(N,T,h,i)}(h.rangebreaks||i.rangebreaks)&&(U=c(x,C,U),w||(x=f(x),C=f(C),T._x=x,T._y=C)),!w&&(p||T.connectgaps)&&(T._emptypoints=o(U),e(U,T._emptypoints));function O(tt){L=T._input.zsmooth=T.zsmooth=!1,D.warn('cannot use zsmooth: "fast": '+tt)}function H(tt){if(tt.length>1){var Z=(tt[tt.length-1]-tt[0])/(tt.length-1),q=Math.abs(Z/100);for(F=0;F<tt.length-1;F++)if(Math.abs(tt[F+1]-tt[F]-Z)>q)return!1}return!0}T._islinear=!1,h.type==="log"||i.type==="log"?L==="fast"&&O("log axis found"):H(x)?H(C)?T._islinear=!0:L==="fast"&&O("y scale is not linear"):L==="fast"&&O("x scale is not linear");var X=D.maxRowLength(U),J=T.xtype==="scaled"?"":x,et=n(T,J,E,S,X,h),it=T.ytype==="scaled"?"":C,ft=n(T,it,b,z,U.length,i);A||(T._extremes[h._id]=s.findExtremes(h,et),T._extremes[i._id]=s.findExtremes(i,ft));var ot={x:et,y:ft,z:U,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&a&&(ot.orig_x=a),T.yperiodalignment&&k&&(ot.orig_y=k),J&&J.length===et.length-1&&(ot.xCenter=J),it&&it.length===ft.length-1&&(ot.yCenter=it),w&&(ot.xRanges=V.xRanges,ot.yRanges=V.yRanges,ot.pts=V.pts),p||d(v,T,{vals:U,cLetter:"z"}),p&&T.contours&&T.contours.coloring==="heatmap"){var Q={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};ot.xfill=n(Q,J,E,S,X,h),ot.yfill=n(Q,it,b,z,U.length,i)}return[ot]};function f(m){for(var v=[],T=m.length,h=0;h<T;h++){var i=m[h];i!==u&&v.push(i)}return v}function c(m,v,T){for(var h=[],i=-1,p=0;p<T.length;p++)if(v[p]!==u){i++,h[i]=[];for(var w=0;w<T[p].length;w++)m[w]!==u&&h[i].push(T[p][w])}return h}},26136:function(W,G,t){var y=t(38248),D=t(3400),s=t(39032).BADNUM;W.exports=function(M,d,g,r){var e,o,n,u,f,c;function m(w){if(y(w))return+w}if(d&&d.transpose){for(e=0,f=0;f<M.length;f++)e=Math.max(e,M[f].length);if(e===0)return!1;n=function(w){return w.length},u=function(w,A,L){return(w[L]||[])[A]}}else e=M.length,n=function(w,A){return w[A].length},u=function(w,A,L){return(w[A]||[])[L]};var v=function(w,A,L){return A===s||L===s?s:u(w,A,L)};function T(w){if(d&&d.type!=="carpet"&&d.type!=="contourcarpet"&&w&&w.type==="category"&&d["_"+w._id.charAt(0)].length){var A=w._id.charAt(0),L={},x=d["_"+A+"CategoryMap"]||d[A];for(f=0;f<x.length;f++)L[x[f]]=f;return function(E){var S=L[w._categories[E]];return S+1?S:s}}else return D.identity}var h=T(g),i=T(r);r&&r.type==="category"&&(e=r._categories.length);var p=new Array(e);for(f=0;f<e;f++)for(g&&g.type==="category"?o=g._categories.length:o=n(M,f),p[f]=new Array(o),c=0;c<o;c++)p[f][c]=m(v(M,i(f),h(c)));return p}},96288:function(W){W.exports={min:"zmin",max:"zmax"}},2872:function(W,G,t){var y=t(3400),D=t(39032).BADNUM,s=t(1220);W.exports=function(M,d,g,r,e,o){var n=M._length,u=d.makeCalcdata(M,r),f=g.makeCalcdata(M,e);u=s(M,d,r,u).vals,f=s(M,g,e,f).vals;var c=M.text,m=c!==void 0&&y.isArray1D(c),v=M.hovertext,T=v!==void 0&&y.isArray1D(v),h,i,p=y.distinctVals(u),w=p.vals,A=y.distinctVals(f),L=A.vals,x=[],E,S,a=L.length,C=w.length;for(h=0;h<o.length;h++)x[h]=y.init2dArray(a,C);m&&(E=y.init2dArray(a,C)),T&&(S=y.init2dArray(a,C));var b=y.init2dArray(a,C);for(h=0;h<n;h++)if(u[h]!==D&&f[h]!==D){var z=y.findBin(u[h]+p.minDiff/2,w),k=y.findBin(f[h]+A.minDiff/2,L);for(i=0;i<o.length;i++){var U=o[i],F=M[U],V=x[i];V[k][z]=F[h],b[k][z]=h}m&&(E[k][z]=c[h]),T&&(S[k][z]=v[h])}for(M["_"+r]=w,M["_"+e]=L,i=0;i<o.length;i++)M["_"+o[i]]=x[i];m&&(M._text=E),T&&(M._hovertext=S),d&&d.type==="category"&&(M["_"+r+"CategoryMap"]=w.map(function(N){return d._categories[N]})),g&&g.type==="category"&&(M["_"+e+"CategoryMap"]=L.map(function(N){return g._categories[N]})),M._after2before=b}},24480:function(W,G,t){var y=t(3400),D=t(51264),s=t(39096),P=t(31147),M=t(82748),d=t(27260),g=t(83328);W.exports=function(e,o,n,u){function f(m,v){return y.coerce(e,o,g,m,v)}var c=D(e,o,f,u);if(!c){o.visible=!1;return}P(e,o,u,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),s(f,u),M(e,o,f,u),f("hoverongaps"),f("connectgaps",y.isArray1D(o.z)&&o.zsmooth!==!1),d(e,o,u,f,{prefix:"",cLetter:"z"}),f("zorder")}},11240:function(W,G,t){var y=t(3400).maxRowLength;W.exports=function(s){var P=[],M={},d=[],g=s[0],r=[],e=[0,0,0],o=y(s),n,u,f,c,m,v,T,h;for(u=0;u<s.length;u++)for(n=r,r=g,g=s[u+1]||[],f=0;f<o;f++)r[f]===void 0&&(v=(r[f-1]!==void 0?1:0)+(r[f+1]!==void 0?1:0)+(n[f]!==void 0?1:0)+(g[f]!==void 0?1:0),v?(u===0&&v++,f===0&&v++,u===s.length-1&&v++,f===r.length-1&&v++,v<4&&(M[[u,f]]=[u,f,v]),P.push([u,f,v])):d.push([u,f]));for(;d.length;){for(T={},h=!1,m=d.length-1;m>=0;m--)c=d[m],u=c[0],f=c[1],v=((M[[u-1,f]]||e)[2]+(M[[u+1,f]]||e)[2]+(M[[u,f-1]]||e)[2]+(M[[u,f+1]]||e)[2])/20,v&&(T[c]=[u,f,v],d.splice(m,1),h=!0);if(!h)throw"findEmpties iterated with no new neighbors";for(c in T)M[c]=T[c],P.push(T[c])}return P.sort(function(i,p){return p[2]-i[2]})}},55512:function(W,G,t){var y=t(93024),D=t(3400),s=D.isArrayOrTypedArray,P=t(54460),M=t(8932).extractOpts;W.exports=function(g,r,e,o,n){n||(n={});var u=n.isContour,f=g.cd[0],c=f.trace,m=g.xa,v=g.ya,T=f.x,h=f.y,i=f.z,p=f.xCenter,w=f.yCenter,A=f.zmask,L=c.zhoverformat,x=T,E=h,S,a,C,b;if(g.index!==!1){try{C=Math.round(g.index[1]),b=Math.round(g.index[0])}catch{D.error("Error hovering on heatmap, pointNumber must be [row,col], found:",g.index);return}if(C<0||C>=i[0].length||b<0||b>i.length)return}else{if(y.inbox(r-T[0],r-T[T.length-1],0)>0||y.inbox(e-h[0],e-h[h.length-1],0)>0)return;if(u){var z;for(x=[2*T[0]-T[1]],z=1;z<T.length;z++)x.push((T[z]+T[z-1])/2);for(x.push([2*T[T.length-1]-T[T.length-2]]),E=[2*h[0]-h[1]],z=1;z<h.length;z++)E.push((h[z]+h[z-1])/2);E.push([2*h[h.length-1]-h[h.length-2]])}C=Math.max(0,Math.min(x.length-2,D.findBin(r,x))),b=Math.max(0,Math.min(E.length-2,D.findBin(e,E)))}var k=m.c2p(T[C]),U=m.c2p(T[C+1]),F=v.c2p(h[b]),V=v.c2p(h[b+1]),N,O;u?(N=f.orig_x||T,O=f.orig_y||h,U=k,S=N[C],V=F,a=O[b]):(N=f.orig_x||p||T,O=f.orig_y||w||h,S=p?N[C]:(N[C]+N[C+1])/2,a=w?O[b]:(O[b]+O[b+1])/2,m&&m.type==="category"&&(S=T[C]),v&&v.type==="category"&&(a=h[b]),c.zsmooth&&(k=U=m.c2p(S),F=V=v.c2p(a)));var H=i[b][C];if(A&&!A[b][C]&&(H=void 0),!(H===void 0&&!c.hoverongaps)){var X;s(f.hovertext)&&s(f.hovertext[b])?X=f.hovertext[b][C]:s(f.text)&&s(f.text[b])&&(X=f.text[b][C]);var J=M(c),et={type:"linear",range:[J.min,J.max],hoverformat:L,_separators:m._separators,_numFormat:m._numFormat},it=P.tickText(et,H,"hover").text;return[D.extendFlat(g,{index:c._after2before?c._after2before[b][C]:[b,C],distance:g.maxHoverDistance,spikeDistance:g.maxSpikeDistance,x0:k,x1:U,y0:F,y1:V,xLabelVal:S,yLabelVal:a,zLabelVal:H,zLabel:it,text:X})]}}},81932:function(W,G,t){W.exports={attributes:t(83328),supplyDefaults:t(24480),calc:t(19512),plot:t(41420),colorbar:t(96288),style:t(41648),hoverPoints:t(55512),moduleType:"trace",name:"heatmap",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(W,G,t){var y=t(3400),D=.01,s=[[-1,0],[1,0],[0,-1],[0,1]];function P(d){return .5-.25*Math.min(1,d*.5)}W.exports=function(g,r){var e=1,o;for(M(g,r),o=0;o<r.length&&!(r[o][2]<4);o++);for(r=r.slice(o),o=0;o<100&&e>D;o++)e=M(g,r,P(e));return e>D&&y.log("interp2d didn't converge quickly",e),g};function M(d,g,r){var e=0,o,n,u,f,c,m,v,T,h,i,p,w,A;for(f=0;f<g.length;f++){for(o=g[f],n=o[0],u=o[1],p=d[n][u],i=0,h=0,c=0;c<4;c++)m=s[c],v=d[n+m[0]],v&&(T=v[u+m[1]],T!==void 0&&(i===0?w=A=T:(w=Math.min(w,T),A=Math.max(A,T)),h++,i+=T));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";d[n][u]=i/h,p===void 0?h<4&&(e=1):(d[n][u]=(1+r)*d[n][u]-r*p,A>w&&(e=Math.max(e,Math.abs(d[n][u]-p)/(A-w))))}return e}},39096:function(W,G,t){var y=t(3400);W.exports=function(s,P){s("texttemplate");var M=y.extendFlat({},P.font,{color:"auto",size:"auto"});y.coerceFont(s,"textfont",M)}},35744:function(W,G,t){var y=t(24040),D=t(3400).isArrayOrTypedArray;W.exports=function(P,M,d,g,r,e){var o=[],n=y.traceIs(P,"contour"),u=y.traceIs(P,"histogram"),f=y.traceIs(P,"gl2d"),c,m,v,T=D(M)&&M.length>1;if(T&&!u&&e.type!=="category"){var h=M.length;if(h<=r){if(n||f)o=Array.from(M).slice(0,r);else if(r===1)e.type==="log"?o=[.5*M[0],2*M[0]]:o=[M[0]-.5,M[0]+.5];else if(e.type==="log"){for(o=[Math.pow(M[0],1.5)/Math.pow(M[1],.5)],v=1;v<h;v++)o.push(Math.sqrt(M[v-1]*M[v]));o.push(Math.pow(M[h-1],1.5)/Math.pow(M[h-2],.5))}else{for(o=[1.5*M[0]-.5*M[1]],v=1;v<h;v++)o.push((M[v-1]+M[v])*.5);o.push(1.5*M[h-1]-.5*M[h-2])}if(h<r){var i=o[o.length-1],p;if(e.type==="log")for(p=i/o[o.length-2],v=h;v<r;v++)i*=p,o.push(i);else for(p=i-o[o.length-2],v=h;v<r;v++)i+=p,o.push(i)}}else return n?M.slice(0,r):M.slice(0,r+1)}else{var w=P[e._id.charAt(0)+"calendar"];if(u)c=e.r2c(d,0,w);else if(D(M)&&M.length===1)c=M[0];else if(d===void 0)c=0;else{var A=e.type==="log"?e.d2c:e.r2c;c=A(d,0,w)}for(m=g||1,v=n||f?0:-.5;v<r;v++)o.push(c+m*v)}return o}},41420:function(W,G,t){var y=t(33428),D=t(49760),s=t(24040),P=t(43616),M=t(54460),d=t(3400),g=t(72736),r=t(76688),e=t(76308),o=t(8932).extractOpts,n=t(8932).makeColorScaleFuncFromTrace,u=t(9616),f=t(84284),c=f.LINE_SPACING,m=t(9188),v=t(2264).STYLE,T="heatmap-label";function h(L){return L.selectAll("g."+T)}function i(L){h(L).remove()}W.exports=function(L,x,E,S){var a=x.xaxis,C=x.yaxis;d.makeTraceGroups(S,E,"hm").each(function(b){var z=y.select(this),k=b[0],U=k.trace,F=U.xgap||0,V=U.ygap||0,N=k.z,O=k.x,H=k.y,X=k.xCenter,J=k.yCenter,et=s.traceIs(U,"contour"),it=et?"best":U.zsmooth,ft=N.length,ot=d.maxRowLength(N),Q=!1,tt=!1,Z,q,ut,$,j,lt,nt,ht;for(lt=0;Z===void 0&&lt<O.length-1;)Z=a.c2p(O[lt]),lt++;for(lt=O.length-1;q===void 0&&lt>0;)q=a.c2p(O[lt]),lt--;for(q<Z&&(ut=q,q=Z,Z=ut,Q=!0),lt=0;$===void 0&&lt<H.length-1;)$=C.c2p(H[lt]),lt++;for(lt=H.length-1;j===void 0&&lt>0;)j=C.c2p(H[lt]),lt--;j<$&&(ut=$,$=j,j=ut,tt=!0),et&&(X=O,J=H,O=k.xfill,H=k.yfill);var mt="default";if(it?mt=it==="best"?"smooth":"fast":U._islinear&&F===0&&V===0&&m()&&(mt="fast"),mt!=="fast"){var At=it==="best"?0:.5;Z=Math.max(-At*a._length,Z),q=Math.min((1+At)*a._length,q),$=Math.max(-At*C._length,$),j=Math.min((1+At)*C._length,j)}var bt=Math.round(q-Z),Pt=Math.round(j-$),_t=Z>=a._length||q<=0||$>=C._length||j<=0;if(_t){var Ut=z.selectAll("image").data([]);Ut.exit().remove(),i(z);return}var St,Rt;mt==="fast"?(St=ot,Rt=ft):(St=bt,Rt=Pt);var Et=document.createElement("canvas");Et.width=St,Et.height=Rt;var zt=Et.getContext("2d",{willReadFrequently:!0}),Ct=n(U,{noNumericCheck:!0,returnArray:!0}),Wt,Kt;mt==="fast"?(Wt=Q?function(_r){return ot-1-_r}:d.identity,Kt=tt?function(_r){return ft-1-_r}:d.identity):(Wt=function(_r){return d.constrain(Math.round(a.c2p(O[_r])-Z),0,bt)},Kt=function(_r){return d.constrain(Math.round(C.c2p(H[_r])-$),0,Pt)});var oe=Kt(0),Jt=[oe,oe],te=Q?0:1,fe=tt?0:1,ve=0,de=0,xe=0,Me=0,ne,kt,Gt,Yt,Zt;function It(_r,pn){if(_r!==void 0){var en=Ct(_r);return en[0]=Math.round(en[0]),en[1]=Math.round(en[1]),en[2]=Math.round(en[2]),ve+=pn,de+=en[0]*pn,xe+=en[1]*pn,Me+=en[2]*pn,en}return[0,0,0,0]}function Nt(_r,pn,en,Tn){var Pn=_r[en.bin0];if(Pn===void 0)return It(void 0,1);var Gn=_r[en.bin1],gi=pn[en.bin0],bi=pn[en.bin1],oi=Gn-Pn||0,ni=gi-Pn||0,Dn;return Gn===void 0?bi===void 0?Dn=0:gi===void 0?Dn=2*(bi-Pn):Dn=(2*bi-gi-Pn)*2/3:bi===void 0?gi===void 0?Dn=0:Dn=(2*Pn-Gn-gi)*2/3:gi===void 0?Dn=(2*bi-Gn-Pn)*2/3:Dn=bi+Pn-Gn-gi,It(Pn+en.frac*oi+Tn.frac*(ni+en.frac*Dn))}if(mt!=="default"){var Ht=0,Lt;try{Lt=new Uint8Array(St*Rt*4)}catch{Lt=new Array(St*Rt*4)}if(mt==="smooth"){var dt=X||O,xt=J||H,Ot=new Array(dt.length),jt=new Array(xt.length),ie=new Array(bt),le=X?w:p,Ve=J?w:p,je,Te,Le;for(lt=0;lt<dt.length;lt++)Ot[lt]=Math.round(a.c2p(dt[lt])-Z);for(lt=0;lt<xt.length;lt++)jt[lt]=Math.round(C.c2p(xt[lt])-$);for(lt=0;lt<bt;lt++)ie[lt]=le(lt,Ot);for(nt=0;nt<Pt;nt++)for(je=Ve(nt,jt),Te=N[je.bin0],Le=N[je.bin1],lt=0;lt<bt;lt++,Ht+=4)Zt=Nt(Te,Le,ie[lt],je),A(Lt,Ht,Zt)}else for(nt=0;nt<ft;nt++)for(Yt=N[nt],Jt=Kt(nt),lt=0;lt<ot;lt++)Zt=It(Yt[lt],1),Ht=(Jt*ot+Wt(lt))*4,A(Lt,Ht,Zt);var Ke=zt.createImageData(St,Rt);try{Ke.data.set(Lt)}catch{var vr=Ke.data,ge=vr.length;for(nt=0;nt<ge;nt++)vr[nt]=Lt[nt]}zt.putImageData(Ke,0,0)}else{var Xe=Math.floor(F/2),$e=Math.floor(V/2);for(nt=0;nt<ft;nt++)if(Yt=N[nt],Jt.reverse(),Jt[fe]=Kt(nt+1),!(Jt[0]===Jt[1]||Jt[0]===void 0||Jt[1]===void 0))for(kt=Wt(0),ne=[kt,kt],lt=0;lt<ot;lt++)ne.reverse(),ne[te]=Wt(lt+1),!(ne[0]===ne[1]||ne[0]===void 0||ne[1]===void 0)&&(Gt=Yt[lt],Zt=It(Gt,(ne[1]-ne[0])*(Jt[1]-Jt[0])),zt.fillStyle="rgba("+Zt.join(",")+")",zt.fillRect(ne[0]+Xe,Jt[0]+$e,ne[1]-ne[0]-F,Jt[1]-Jt[0]-V))}de=Math.round(de/ve),xe=Math.round(xe/ve),Me=Math.round(Me/ve);var mr=D("rgb("+de+","+xe+","+Me+")");L._hmpixcount=(L._hmpixcount||0)+ve,L._hmlumcount=(L._hmlumcount||0)+ve*mr.getLuminance();var or=z.selectAll("image").data(b);or.enter().append("svg:image").attr({xmlns:u.svg,preserveAspectRatio:"none"}),or.attr({height:Pt,width:bt,x:Z,y:$,"xlink:href":Et.toDataURL("image/png")}),mt==="fast"&&!it&&or.attr("style",v),i(z);var ye=U.texttemplate;if(ye){var ue=o(U),be={type:"linear",range:[ue.min,ue.max],_separators:a._separators,_numFormat:a._numFormat},Ee=U.type==="histogram2dcontour",_e=U.type==="contour",Oe=_e?1:0,Fe=_e?ft-1:ft,Be=_e?1:0,Je=_e?ot-1:ot,hr=[];for(lt=Oe;lt<Fe;lt++){var cr;if(_e)cr=k.y[lt];else if(Ee){if(lt===0||lt===ft-1)continue;cr=k.y[lt]}else if(k.yCenter)cr=k.yCenter[lt];else{if(lt+1===ft&&k.y[lt+1]===void 0)continue;cr=(k.y[lt]+k.y[lt+1])/2}var dr=Math.round(C.c2p(cr));if(!(0>dr||dr>C._length))for(nt=Be;nt<Je;nt++){var fr;if(_e)fr=k.x[nt];else if(Ee){if(nt===0||nt===ot-1)continue;fr=k.x[nt]}else if(k.xCenter)fr=k.xCenter[nt];else{if(nt+1===ot&&k.x[nt+1]===void 0)continue;fr=(k.x[nt]+k.x[nt+1])/2}var Lr=Math.round(a.c2p(fr));if(!(0>Lr||Lr>a._length)){var xr=r({x:fr,y:cr},U,L._fullLayout);xr.x=fr,xr.y=cr;var Qt=k.z[lt][nt];Qt===void 0?(xr.z="",xr.zLabel=""):(xr.z=Qt,xr.zLabel=M.tickText(be,Qt,"hover").text);var re=k.text&&k.text[lt]&&k.text[lt][nt];(re===void 0||re===!1)&&(re=""),xr.text=re;var tr=d.texttemplateString(ye,xr,L._fullLayout._d3locale,xr,U._meta||{});if(tr){var er=tr.split("<br>"),Ye=er.length,Pe=0;for(ht=0;ht<Ye;ht++)Pe=Math.max(Pe,er[ht].length);hr.push({l:Ye,c:Pe,t:tr,x:Lr,y:dr,z:Qt})}}}}var Ze=U.textfont,nr=Ze.size,Qe=L._fullLayout.font.size;if(!nr||nr==="auto"){var We=1/0,yr=1/0,Rr=0,Tr=0;for(ht=0;ht<hr.length;ht++){var vn=hr[ht];if(Rr=Math.max(Rr,vn.l),Tr=Math.max(Tr,vn.c),ht<hr.length-1){var Or=hr[ht+1],En=Math.abs(Or.x-vn.x),nn=Math.abs(Or.y-vn.y);En&&(We=Math.min(We,En)),nn&&(yr=Math.min(yr,nn))}}!isFinite(We)||!isFinite(yr)?nr=Qe:(We-=F,yr-=V,We/=Tr,yr/=Rr,We/=c/2,yr/=c,nr=Math.min(Math.floor(We),Math.floor(yr),Qe))}if(nr<=0||!isFinite(nr))return;var gr=function(_r){return _r.x},Pr=function(_r){return _r.y-nr*(_r.l*c/2-1)},jr=h(z).data(hr);jr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(_r){var pn=y.select(this),en=Ze.color;(!en||en==="auto")&&(en=e.contrast(_r.z===void 0?L._fullLayout.plot_bgcolor:"rgba("+Ct(_r.z).join()+")")),pn.attr("data-notex",1).call(g.positionText,gr(_r),Pr(_r)).call(P.font,{family:Ze.family,size:nr,color:en,weight:Ze.weight,style:Ze.style,variant:Ze.variant,textcase:Ze.textcase,lineposition:Ze.lineposition,shadow:Ze.shadow}).text(_r.t).call(g.convertToTspans,L)})}})};function p(L,x){var E=x.length-2,S=d.constrain(d.findBin(L,x),0,E),a=x[S],C=x[S+1],b=d.constrain(S+(L-a)/(C-a)-.5,0,E),z=Math.round(b),k=Math.abs(b-z);return!b||b===E||!k?{bin0:z,bin1:z,frac:0}:{bin0:z,frac:k,bin1:Math.round(z+k/(b-z))}}function w(L,x){var E=x.length-1,S=d.constrain(d.findBin(L,x),0,E),a=x[S],C=x[S+1],b=(L-a)/(C-a)||0;return b<=0?{bin0:S,bin1:S,frac:0}:b<.5?{bin0:S,bin1:S+1,frac:b}:{bin0:S+1,bin1:S,frac:1-b}}function A(L,x,E){L[x]=E[0],L[x+1]=E[1],L[x+2]=E[2],L[x+3]=Math.round(E[3]*255)}},41648:function(W,G,t){var y=t(33428);W.exports=function(s){y.select(s).selectAll(".hm image").style("opacity",function(P){return P.trace.opacity})}},82748:function(W){W.exports=function(t,y,D){var s=D("zsmooth");s===!1&&(D("xgap"),D("ygap")),D("zhoverformat")}},51264:function(W,G,t){var y=t(38248),D=t(3400),s=t(24040);W.exports=function(g,r,e,o,n,u){var f=e("z");n=n||"x",u=u||"y";var c,m;if(f===void 0||!f.length)return 0;if(D.isArray1D(f)){c=e(n),m=e(u);var v=D.minRowLength(c),T=D.minRowLength(m);if(v===0||T===0)return 0;r._length=Math.min(v,T,f.length)}else{if(c=P(n,e),m=P(u,e),!M(f))return 0;e("transpose"),r._length=null}if(g.type==="heatmapgl")return!0;var h=s.getComponentMethod("calendars","handleTraceDefaults");return h(g,r,[n,u],o),!0};function P(d,g){var r=g(d),e=r?g(d+"type","array"):"scaled";return e==="scaled"&&(g(d+"0"),g("d"+d)),r}function M(d){for(var g=!0,r=!1,e=!1,o,n=0;n<d.length;n++){if(o=d[n],!D.isArrayOrTypedArray(o)){g=!1;break}o.length>0&&(r=!0);for(var u=0;u<o.length;u++)if(y(o[u])){e=!0;break}}return g&&r&&e}},74512:function(W,G,t){for(var y=t(83328),D=t(49084),s=t(92880).extendFlat,P=t(67824).overrideAll,M=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],d={},g=0;g<M.length;g++){var r=M[g];d[r]=y[r]}d.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},s(d,D("",{cLetter:"z",autoColorDflt:!1})),W.exports=P(d,"calc","nested")},84656:function(W,G,t){var y=t(67792).gl_heatmap2d,D=t(54460),s=t(43080);function P(r,e){this.scene=r,this.uid=e,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=y(r.glplot,this.options),this.heatmap._trace=this}var M=P.prototype;M.handlePick=function(r){var e=this.options,o=e.shape,n=r.pointId,u=n%o[0],f=Math.floor(n/o[0]),c=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[e.x[u],e.y[f],e.z[c]],textLabel:this.textLabels[n],name:this.name,pointIndex:[f,u],hoverinfo:this.hoverinfo}},M.update=function(r,e){var o=e[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=o.z;this.options.z=[].concat.apply([],n);var u=n[0].length,f=n.length;this.options.shape=[u,f],this.options.x=o.x,this.options.y=o.y,this.options.zsmooth=r.zsmooth;var c=d(r);this.options.colorLevels=c.colorLevels,this.options.colorValues=c.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var m=this.scene.xaxis,v=this.scene.yaxis,T,h;r.zsmooth===!1&&(T={ppad:o.x[1]-o.x[0]},h={ppad:o.y[1]-o.y[0]}),r._extremes[m._id]=D.findExtremes(m,o.x,T),r._extremes[v._id]=D.findExtremes(v,o.y,h)},M.dispose=function(){this.heatmap.dispose()};function d(r){for(var e=r.colorscale,o=r.zmin,n=r.zmax,u=e.length,f=new Array(u),c=new Array(4*u),m=0;m<u;m++){var v=e[m],T=s(v[1]);f[m]=o+v[0]*(n-o);for(var h=0;h<4;h++)c[4*m+h]=T[h]}return{colorLevels:f,colorValues:c}}function g(r,e,o){var n=new P(r,e.uid);return n.update(e,o),n}W.exports=g},86464:function(W,G,t){var y=t(3400),D=t(51264),s=t(27260),P=t(74512);W.exports=function(d,g,r,e){function o(u,f){return y.coerce(d,g,P,u,f)}var n=D(d,g,o,e);if(!n){g.visible=!1;return}o("text"),o("zsmooth"),s(d,g,e,o,{prefix:"",cLetter:"z"})}},45536:function(W,G,t){W.exports={attributes:t(74512),supplyDefaults:t(86464),colorbar:t(96288),calc:t(19512),plot:t(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:t(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(W,G,t){var y=t(20832),D=t(29736).axisHoverFormat,s=t(21776).Ks,P=t(21776).Gw,M=t(25376),d=t(11120),g=t(73316),r=t(92880).extendFlat;W.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:D("x"),yhoverformat:D("y"),text:r({},y.text,{}),hovertext:r({},y.hovertext,{}),orientation:y.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:d("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:d("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:s({},{keys:g.eventDataKeys}),texttemplate:P({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},y.textposition,{arrayOk:!1}),textfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:y.insidetextanchor,textangle:y.textangle,cliponaxis:y.cliponaxis,constraintext:y.constraintext,marker:y.marker,offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:y.selected,unselected:y.unselected,_deprecated:{bardir:y._deprecated.bardir},zorder:y.zorder}},2e3:function(W){W.exports=function(t,y){for(var D=t.length,s=0,P=0;P<D;P++)y[P]?(t[P]/=y[P],s+=t[P]):t[P]=null;return s}},11120:function(W){W.exports=function(t,y){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(W,G,t){var y=t(38248);W.exports={count:function(D,s,P){return P[D]++,1},sum:function(D,s,P,M){var d=M[s];return y(d)?(d=Number(d),P[D]+=d,d):0},avg:function(D,s,P,M,d){var g=M[s];return y(g)&&(g=Number(g),P[D]+=g,d[D]++),0},min:function(D,s,P,M){var d=M[s];if(y(d))if(d=Number(d),y(P[D])){if(P[D]>d){var g=d-P[D];return P[D]=d,g}}else return P[D]=d,d;return 0},max:function(D,s,P,M){var d=M[s];if(y(d))if(d=Number(d),y(P[D])){if(P[D]<d){var g=d-P[D];return P[D]=d,g}}else return P[D]=d,d;return 0}}},67712:function(W,G,t){var y=t(39032),D=y.ONEAVGYEAR,s=y.ONEAVGMONTH,P=y.ONEDAY,M=y.ONEHOUR,d=y.ONEMIN,g=y.ONESEC,r=t(54460).tickIncrement;W.exports=function(c,m,v,T,h){var i=-1.1*m,p=-.1*m,w=c-p,A=v[0],L=v[1],x=Math.min(e(A+p,A+w,T,h),e(L+p,L+w,T,h)),E=Math.min(e(A+i,A+p,T,h),e(L+i,L+p,T,h)),S,a;if(x>E&&E<Math.abs(L-A)/4e3?(S=x,a=!1):(S=Math.min(x,E),a=!0),T.type==="date"&&S>P){var C=S===D?1:6,b=S===D?"M12":"M1";return function(z,k){var U=T.c2d(z,D,h),F=U.indexOf("-",C);F>0&&(U=U.substr(0,F));var V=T.d2c(U,0,h);if(V<z){var N=r(V,b,!1,h);(V+N)/2<z+c&&(V=N)}return k&&a?r(V,b,!0,h):V}}return function(z,k){var U=S*Math.round(z/S);return U+S/10<z&&U+S*.9<z+c&&(U+=S),k&&a&&(U-=S),U}};function e(f,c,m,v){if(f*c<=0)return 1/0;for(var T=Math.abs(c-f),h=m.type==="date",i=o(T,h),p=0;p<10;p++){var w=o(i*80,h);if(i===w)break;if(n(w,f,c,h,m,v))i=w;else break}return i}function o(f,c){return c&&f>g?f>P?f>D*1.1?D:f>s*1.1?s:P:f>M?M:f>d?d:g:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function n(f,c,m,v,T,h){if(v&&f>P){var i=u(c,T,h),p=u(m,T,h),w=f===D?0:1;return i[w]!==p[w]}return Math.floor(m/f)-Math.floor(c/f)>.1}function u(f,c,m){var v=c.c2d(f,D,m).split("-");return v[0]===""&&(v.unshift(),v[0]="-"+v[0]),v}},35852:function(W,G,t){var y=t(38248),D=t(3400),s=t(24040),P=t(54460),M=t(84664),d=t(16964),g=t(10648),r=t(2e3),e=t(67712);function o(m,v){var T=[],h=[],i=v.orientation==="h",p=P.getFromId(m,i?v.yaxis:v.xaxis),w=i?"y":"x",A={x:"y",y:"x"}[w],L=v[w+"calendar"],x=v.cumulative,E,S=n(m,v,p,w),a=S[0],C=S[1],b=typeof a.size=="string",z=[],k=b?z:a,U=[],F=[],V=[],N=0,O=v.histnorm,H=v.histfunc,X=O.indexOf("density")!==-1,J,et,it;x.enabled&&X&&(O=O.replace(/ ?density$/,""),X=!1);var ft=H==="max"||H==="min",ot=ft?null:0,Q=d.count,tt=g[O],Z=!1,q=function(zt){return p.r2c(zt,0,L)},ut;for(D.isArrayOrTypedArray(v[A])&&H!=="count"&&(ut=v[A],Z=H==="avg",Q=d[H]),E=q(a.start),et=q(a.end)+(E-P.tickIncrement(E,a.size,!1,L))/1e6;E<et&&T.length<1e6&&(J=P.tickIncrement(E,a.size,!1,L),T.push((E+J)/2),h.push(ot),V.push([]),z.push(E),X&&U.push(1/(J-E)),Z&&F.push(0),!(J<=E));)E=J;z.push(E),!b&&p.type==="date"&&(k={start:q(k.start),end:q(k.end),size:k.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var $=v["_"+w+"bingroup"],j={leftGap:1/0,rightGap:1/0};$&&(m._fullLayout._roundFnOpts[$]||(m._fullLayout._roundFnOpts[$]=j),j=m._fullLayout._roundFnOpts[$]);var lt=h.length,nt=!0,ht=j.leftGap,mt=j.rightGap,At={};for(E=0;E<C.length;E++){var bt=C[E];it=D.findBin(bt,k),it>=0&&it<lt&&(N+=Q(it,E,h,ut,F),nt&&V[it].length&&bt!==C[V[it][0]]&&(nt=!1),V[it].push(E),At[E]=it,ht=Math.min(ht,bt-z[it]),mt=Math.min(mt,z[it+1]-bt))}j.leftGap=ht,j.rightGap=mt;var Pt;nt||(Pt=function(zt,Ct){return function(){var Wt=m._fullLayout._roundFnOpts[$];return e(Wt.leftGap,Wt.rightGap,z,p,L)(zt,Ct)}}),Z&&(N=r(h,F)),tt&&tt(h,N,U),x.enabled&&c(h,x.direction,x.currentbin);var _t=Math.min(T.length,h.length),Ut=[],St=0,Rt=_t-1;for(E=0;E<_t;E++)if(h[E]){St=E;break}for(E=_t-1;E>=St;E--)if(h[E]){Rt=E;break}for(E=St;E<=Rt;E++)if(y(T[E])&&y(h[E])){var Et={p:T[E],s:h[E],b:0};x.enabled||(Et.pts=V[E],nt?Et.ph0=Et.ph1=V[E].length?C[V[E][0]]:T[E]:(v._computePh=!0,Et.ph0=Pt(z[E]),Et.ph1=Pt(z[E+1],!0))),Ut.push(Et)}return Ut.length===1&&(Ut[0].width1=P.tickIncrement(Ut[0].p,a.size,!1,L)-Ut[0].p),M(Ut,v),D.isArrayOrTypedArray(v.selectedpoints)&&D.tagSelected(Ut,v,At),Ut}function n(m,v,T,h,i){var p=h+"bins",w=m._fullLayout,A=v["_"+h+"bingroup"],L=w._histogramBinOpts[A],x=w.barmode==="overlay",E,S,a,C,b,z,k,U=function(bt){return T.r2c(bt,0,C)},F=function(bt){return T.c2r(bt,0,C)},V=T.type==="date"?function(bt){return bt||bt===0?D.cleanDate(bt,null,C):null}:function(bt){return y(bt)?Number(bt):null};function N(bt,Pt,_t){Pt[bt+"Found"]?(Pt[bt]=V(Pt[bt]),Pt[bt]===null&&(Pt[bt]=_t[bt])):(z[bt]=Pt[bt]=_t[bt],D.nestedProperty(S[0],p+"."+bt).set(_t[bt]))}if(v["_"+h+"autoBinFinished"])delete v["_"+h+"autoBinFinished"];else{S=L.traces;var O=[],H=!0,X=!1,J=!1;for(E=0;E<S.length;E++)if(a=S[E],a.visible){var et=L.dirs[E];b=a["_"+et+"pos0"]=T.makeCalcdata(a,et),O=D.concat(O,b),delete a["_"+h+"autoBinFinished"],v.visible===!0&&(H?H=!1:(delete a._autoBin,a["_"+h+"autoBinFinished"]=1),s.traceIs(a,"2dMap")&&(X=!0),a.type==="histogram2dcontour"&&(J=!0))}C=S[0][h+"calendar"];var it=P.autoBin(O,T,L.nbins,X,C,L.sizeFound&&L.size),ft=S[0]._autoBin={};if(z=ft[L.dirs[0]]={},J&&(L.size||(it.start=F(P.tickIncrement(U(it.start),it.size,!0,C))),L.end===void 0&&(it.end=F(P.tickIncrement(U(it.end),it.size,!1,C)))),x&&!s.traceIs(v,"2dMap")&&it._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&v.bingroup===""&&typeof v.xbins>"u"){if(i)return[it,b,!0];it=u(m,v,T,h,p)}k=a.cumulative||{},k.enabled&&k.currentbin!=="include"&&(k.direction==="decreasing"?it.start=F(P.tickIncrement(U(it.start),it.size,!0,C)):it.end=F(P.tickIncrement(U(it.end),it.size,!1,C))),L.size=it.size,L.sizeFound||(z.size=it.size,D.nestedProperty(S[0],p+".size").set(it.size)),N("start",L,it),N("end",L,it)}b=v["_"+h+"pos0"],delete v["_"+h+"pos0"];var ot=v._input[p]||{},Q=D.extendFlat({},L),tt=L.start,Z=T.r2l(ot.start),q=Z!==void 0;if((L.startFound||q)&&Z!==T.r2l(tt)){var ut=q?Z:D.aggNums(Math.min,null,b),$={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:L.size,tick0:tt,calendar:C,range:[ut,P.tickIncrement(ut,L.size,!1,C)].map(T.l2r)},j=P.tickFirst($);j>T.r2l(ut)&&(j=P.tickIncrement(j,L.size,!0,C)),Q.start=T.l2r(j),q||D.nestedProperty(v,p+".start").set(Q.start)}var lt=L.end,nt=T.r2l(ot.end),ht=nt!==void 0;if((L.endFound||ht)&&nt!==T.r2l(lt)){var mt=ht?nt:D.aggNums(Math.max,null,b);Q.end=T.l2r(mt),ht||D.nestedProperty(v,p+".start").set(Q.end)}var At="autobin"+h;return v._input[At]===!1&&(v._input[p]=D.extendFlat({},v[p]||{}),delete v._input[At],delete v[At]),[Q,b]}function u(m,v,T,h,i){var p=m._fullLayout,w=f(m,v),A=!1,L=1/0,x=[v],E,S,a;for(E=0;E<w.length;E++)if(S=w[E],S===v)A=!0;else if(!A)a=p._histogramBinOpts[S["_"+h+"bingroup"]],L=Math.min(L,a.size||S[i].size);else{var C=n(m,S,T,h,!0),b=C[0],z=C[2];S["_"+h+"autoBinFinished"]=1,S["_"+h+"pos0"]=C[1],z?x.push(S):L=Math.min(L,b.size)}var k=new Array(x.length);for(E=0;E<x.length;E++)for(var U=x[E]["_"+h+"pos0"],F=0;F<U.length;F++)if(U[F]!==void 0){k[E]=U[F];break}for(isFinite(L)||(L=D.distinctVals(k).minDiff),E=0;E<x.length;E++){S=x[E];var V=S[h+"calendar"],N={start:T.c2r(k[E]-L/2,0,V),end:T.c2r(k[E]+L/2,0,V),size:L};S._input[i]=S[i]=N,a=p._histogramBinOpts[S["_"+h+"bingroup"]],a&&D.extendFlat(a,N)}return v[i]}function f(m,v){for(var T=v.xaxis,h=v.yaxis,i=v.orientation,p=[],w=m._fullData,A=0;A<w.length;A++){var L=w[A];L.type==="histogram"&&L.visible===!0&&L.orientation===i&&L.xaxis===T&&L.yaxis===h&&p.push(L)}return p}function c(m,v,T){var h,i,p;function w(L){p=m[L],m[L]/=2}function A(L){i=m[L],m[L]=p+i/2,p+=i}if(T==="half")if(v==="increasing")for(w(0),h=1;h<m.length;h++)A(h);else for(w(m.length-1),h=m.length-2;h>=0;h--)A(h);else if(v==="increasing"){for(h=1;h<m.length;h++)m[h]+=m[h-1];T==="exclude"&&(m.unshift(0),m.pop())}else{for(h=m.length-2;h>=0;h--)m[h]+=m[h+1];T==="exclude"&&(m.push(0),m.shift())}}W.exports={calc:o,calcAllAutoBins:n}},73316:function(W){W.exports={eventDataKeys:["binNumber"]}},80536:function(W,G,t){var y=t(3400),D=t(79811),s=t(24040).traceIs,P=t(20011),M=t(31508).validateCornerradius,d=y.nestedProperty,g=t(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],e=["x","y"];W.exports=function(n,u){var f=u._histogramBinOpts={},c=[],m={},v=[],T,h,i,p,w,A,L;function x(it,ft){return y.coerce(T._input,T,T._module.attributes,it,ft)}function E(it){return it.orientation==="v"?"x":"y"}function S(it,ft){var ot=D.getFromTrace({_fullLayout:u},it,ft);return ot.type}function a(it,ft,ot){var Q=it.uid+"__"+ot;ft||(ft=Q);var tt=S(it,ot),Z=it[ot+"calendar"]||"",q=f[ft],ut=!0;q&&(tt===q.axType&&Z===q.calendar?(ut=!1,q.traces.push(it),q.dirs.push(ot)):(ft=Q,tt!==q.axType&&y.warn(["Attempted to group the bins of trace",it.index,"set on a","type:"+tt,"axis","with bins on","type:"+q.axType,"axis."].join(" ")),Z!==q.calendar&&y.warn(["Attempted to group the bins of trace",it.index,"set with a",Z,"calendar","with bins",q.calendar?"on a "+q.calendar+" calendar":"w/o a set calendar"].join(" ")))),ut&&(f[ft]={traces:[it],dirs:[ot],axType:tt,calendar:it[ot+"calendar"]||""}),it["_"+ot+"bingroup"]=ft}for(w=0;w<n.length;w++)if(T=n[w],s(T,"histogram")){if(c.push(T),delete T._xautoBinFinished,delete T._yautoBinFinished,T.type==="histogram"){var C=x("marker.cornerradius",u.barcornerradius);T.marker&&(T.marker.cornerradius=M(C))}s(T,"2dMap")||P(T._input,T,u,x)}var b=u._alignmentOpts||{};for(w=0;w<c.length;w++){if(T=c[w],i="",!s(T,"2dMap")){if(p=E(T),u.barmode==="group"&&T.alignmentgroup){var z=T[p+"axis"],k=g(u,z)+T.orientation;(b[k]||{})[T.alignmentgroup]&&(i=k)}!i&&u.barmode!=="overlay"&&(i=g(u,T.xaxis)+g(u,T.yaxis)+E(T))}i?(m[i]||(m[i]=[]),m[i].push(T)):v.push(T)}for(i in m){if(h=m[i],h.length===1){v.push(h[0]);continue}var U=!1;for(h.length&&(T=h[0],U=x("bingroup")),i=U||i,w=0;w<h.length;w++){T=h[w];var F=T._input.bingroup;F&&F!==i&&y.warn(["Trace",T.index,"must match","within bingroup",i+".","Ignoring its bingroup:",F,"setting."].join(" ")),T.bingroup=i,a(T,i,E(T))}}for(w=0;w<v.length;w++){T=v[w];var V=x("bingroup");if(s(T,"2dMap"))for(L=0;L<2;L++){p=e[L];var N=x(p+"bingroup",V?V+"__"+p:null);a(T,N,p)}else a(T,V,E(T))}for(i in f){var O=f[i];for(h=O.traces,A=0;A<r.length;A++){var H=r[A],X=H.name,J,et;if(!(X==="nbins"&&O.sizeFound)){for(w=0;w<h.length;w++){if(T=h[w],p=O.dirs[w],J=H.aStr[p],d(T._input,J).get()!==void 0){O[X]=x(J),O[X+"Found"]=!0;break}et=(T._autoBin||{})[p]||{},et[X]&&d(T,J).set(et[X])}if(X==="start"||X==="end")for(;w<h.length;w++)T=h[w],T["_"+p+"bingroup"]&&(et=(T._autoBin||{})[p]||{},x(J,et[X]));X==="nbins"&&!O.sizeFound&&!O.nbinsFound&&(T=h[0],O[X]=x(J))}}}}},6616:function(W,G,t){var y=t(24040),D=t(3400),s=t(76308),P=t(31508).handleText,M=t(55592),d=t(40196);W.exports=function(r,e,o,n){function u(E,S){return D.coerce(r,e,d,E,S)}var f=u("x"),c=u("y"),m=u("cumulative.enabled");m&&(u("cumulative.direction"),u("cumulative.currentbin")),u("text");var v=u("textposition");P(r,e,n,u,v,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat");var T=u("orientation",c&&!f?"h":"v"),h=T==="v"?"x":"y",i=T==="v"?"y":"x",p=f&&c?Math.min(D.minRowLength(f)&&D.minRowLength(c)):D.minRowLength(e[h]||[]);if(!p){e.visible=!1;return}e._length=p;var w=y.getComponentMethod("calendars","handleTraceDefaults");w(r,e,["x","y"],n);var A=e[i];A&&u("histfunc"),u("histnorm"),u("autobin"+h),M(r,e,u,o,n),D.coerceSelectionMarkerOpacity(e,u);var L=(e.marker.line||{}).color,x=y.getComponentMethod("errorbars","supplyDefaults");x(r,e,L||s.defaultLine,{axis:"y"}),x(r,e,L||s.defaultLine,{axis:"x",inherit:"y"}),u("zorder")}},84980:function(W){W.exports=function(t,y,D,s,P){if(t.x="xVal"in y?y.xVal:y.x,t.y="yVal"in y?y.yVal:y.y,"zLabelVal"in y&&(t.z=y.zLabelVal),y.xa&&(t.xaxis=y.xa),y.ya&&(t.yaxis=y.ya),!(D.cumulative||{}).enabled){var M=Array.isArray(P)?s[0].pts[P[0]][P[1]]:s[P].pts;t.pointNumbers=M,t.binNumber=t.pointNumber,delete t.pointNumber,delete t.pointIndex;var d;if(D._indexToPoints){d=[];for(var g=0;g<M.length;g++)d=d.concat(D._indexToPoints[M[g]])}else d=M;t.pointIndices=d}return t}},43339:function(W,G,t){var y=t(63400).hoverPoints,D=t(54460).hoverLabelText;W.exports=function(P,M,d,g,r){var e=y(P,M,d,g,r);if(e){P=e[0];var o=P.cd[P.index],n=P.cd[0].trace;if(!n.cumulative.enabled){var u=n.orientation==="h"?"y":"x";P[u+"Label"]=D(P[u+"a"],[o.ph0,o.ph1],n[u+"hoverformat"])}return e}}},42600:function(W,G,t){W.exports={attributes:t(40196),layoutAttributes:t(39324),supplyDefaults:t(6616),crossTraceDefaults:t(80536),supplyLayoutDefaults:t(37156),calc:t(35852).calc,crossTraceCalc:t(96376).crossTraceCalc,plot:t(98184).plot,layerName:"barlayer",style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,colorbar:t(5528),hoverPoints:t(43339),selectPoints:t(45784),eventData:t(84980),moduleType:"trace",name:"histogram",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(W){W.exports={percent:function(G,t){for(var y=G.length,D=100/t,s=0;s<y;s++)G[s]*=D},probability:function(G,t){for(var y=G.length,D=0;D<y;D++)G[D]/=t},density:function(G,t,y,D){var s=G.length;D=D||1;for(var P=0;P<s;P++)G[P]*=y[P]*D},"probability density":function(G,t,y,D){var s=G.length;D&&(t/=D);for(var P=0;P<s;P++)G[P]*=y[P]/t}}},37008:function(W,G,t){var y=t(40196),D=t(11120),s=t(83328),P=t(45464),M=t(29736).axisHoverFormat,d=t(21776).Ks,g=t(21776).Gw,r=t(49084),e=t(92880).extendFlat;W.exports=e({x:y.x,y:y.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:y.histnorm,histfunc:y.histfunc,nbinsx:y.nbinsx,xbins:D("x"),nbinsy:y.nbinsy,ybins:D("y"),autobinx:y.autobinx,autobiny:y.autobiny,bingroup:e({},y.bingroup,{}),xbingroup:e({},y.bingroup,{}),ybingroup:e({},y.bingroup,{}),xgap:s.xgap,ygap:s.ygap,zsmooth:s.zsmooth,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:d({},{keys:"z"}),texttemplate:g({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:s.textfont,showlegend:e({},P.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(W,G,t){var y=t(3400),D=t(54460),s=t(16964),P=t(10648),M=t(2e3),d=t(67712),g=t(35852).calcAllAutoBins;W.exports=function(u,f){var c=D.getFromId(u,f.xaxis),m=D.getFromId(u,f.yaxis),v=f.xcalendar,T=f.ycalendar,h=function(Zt){return c.r2c(Zt,0,v)},i=function(Zt){return m.r2c(Zt,0,T)},p=function(Zt){return c.c2r(Zt,0,v)},w=function(Zt){return m.c2r(Zt,0,T)},A,L,x,E,S=g(u,f,c,"x"),a=S[0],C=S[1],b=g(u,f,m,"y"),z=b[0],k=b[1],U=f._length;C.length>U&&C.splice(U,C.length-U),k.length>U&&k.splice(U,k.length-U);var F=[],V=[],N=[],O=typeof a.size=="string",H=typeof z.size=="string",X=[],J=[],et=O?X:a,it=H?J:z,ft=0,ot=[],Q=[],tt=f.histnorm,Z=f.histfunc,q=tt.indexOf("density")!==-1,ut=Z==="max"||Z==="min",$=ut?null:0,j=s.count,lt=P[tt],nt=!1,ht=[],mt=[],At="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";At&&Z!=="count"&&(nt=Z==="avg",j=s[Z]);var bt=a.size,Pt=h(a.start),_t=h(a.end)+(Pt-D.tickIncrement(Pt,bt,!1,v))/1e6;for(A=Pt;A<_t;A=D.tickIncrement(A,bt,!1,v))V.push($),X.push(A),nt&&N.push(0);X.push(A);var Ut=V.length,St=(A-Pt)/Ut,Rt=p(Pt+St/2),Et=z.size,zt=i(z.start),Ct=i(z.end)+(zt-D.tickIncrement(zt,Et,!1,T))/1e6;for(A=zt;A<Ct;A=D.tickIncrement(A,Et,!1,T)){F.push(V.slice()),J.push(A);var Wt=new Array(Ut);for(L=0;L<Ut;L++)Wt[L]=[];Q.push(Wt),nt&&ot.push(N.slice())}J.push(A);var Kt=F.length,oe=(A-zt)/Kt,Jt=w(zt+oe/2);q&&(ht=r(V.length,et,St,O),mt=r(F.length,it,oe,H)),!O&&c.type==="date"&&(et=e(h,et)),!H&&m.type==="date"&&(it=e(i,it));var te=!0,fe=!0,ve=new Array(Ut),de=new Array(Kt),xe=1/0,Me=1/0,ne=1/0,kt=1/0;for(A=0;A<U;A++){var Gt=C[A],Yt=k[A];x=y.findBin(Gt,et),E=y.findBin(Yt,it),x>=0&&x<Ut&&E>=0&&E<Kt&&(ft+=j(x,A,F[E],At,ot[E]),Q[E][x].push(A),te&&(ve[x]===void 0?ve[x]=Gt:ve[x]!==Gt&&(te=!1)),fe&&(de[E]===void 0?de[E]=Yt:de[E]!==Yt&&(fe=!1)),xe=Math.min(xe,Gt-X[x]),Me=Math.min(Me,X[x+1]-Gt),ne=Math.min(ne,Yt-J[E]),kt=Math.min(kt,J[E+1]-Yt))}if(nt)for(E=0;E<Kt;E++)ft+=M(F[E],ot[E]);if(lt)for(E=0;E<Kt;E++)lt(F[E],ft,ht,mt[E]);return{x:C,xRanges:o(X,te&&ve,xe,Me,c,v),x0:Rt,dx:St,y:k,yRanges:o(J,fe&&de,ne,kt,m,T),y0:Jt,dy:oe,z:F,pts:Q}};function r(n,u,f,c){var m=new Array(n),v;if(c)for(v=0;v<n;v++)m[v]=1/(u[v+1]-u[v]);else{var T=1/f;for(v=0;v<n;v++)m[v]=T}return m}function e(n,u){return{start:n(u.start),end:n(u.end),size:u.size}}function o(n,u,f,c,m,v){var T,h=n.length-1,i=new Array(h),p=d(f,c,n,m,v);for(T=0;T<h;T++){var w=(u||[])[T];i[T]=w===void 0?[p(n[T]),p(n[T+1],!0)]:[w,w]}return i}},99784:function(W,G,t){var y=t(3400),D=t(56408),s=t(82748),P=t(27260),M=t(39096),d=t(37008);W.exports=function(r,e,o,n){function u(f,c){return y.coerce(r,e,d,f,c)}D(r,e,u,n),e.visible!==!1&&(s(r,e,u,n),P(r,e,n,u,{prefix:"",cLetter:"z"}),u("hovertemplate"),M(u,n),u("xhoverformat"),u("yhoverformat"))}},59576:function(W,G,t){var y=t(55512),D=t(54460).hoverLabelText;W.exports=function(P,M,d,g,r){var e=y(P,M,d,g,r);if(e){P=e[0];var o=P.index,n=o[0],u=o[1],f=P.cd[0],c=f.trace,m=f.xRanges[u],v=f.yRanges[n];return P.xLabel=D(P.xa,[m[0],m[1]],c.xhoverformat),P.yLabel=D(P.ya,[v[0],v[1]],c.yhoverformat),e}}},21536:function(W,G,t){W.exports={attributes:t(37008),supplyDefaults:t(99784),crossTraceDefaults:t(80536),calc:t(19512),plot:t(41420),layerName:"heatmaplayer",colorbar:t(96288),style:t(41648),hoverPoints:t(59576),eventData:t(84980),moduleType:"trace",name:"histogram2d",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(W,G,t){var y=t(24040),D=t(3400);W.exports=function(P,M,d,g){var r=d("x"),e=d("y"),o=D.minRowLength(r),n=D.minRowLength(e);if(!o||!n){M.visible=!1;return}M._length=Math.min(o,n);var u=y.getComponentMethod("calendars","handleTraceDefaults");u(P,M,["x","y"],g);var f=d("z")||d("marker.color");f&&d("histfunc"),d("histnorm"),d("autobinx"),d("autobiny")}},81220:function(W,G,t){var y=t(37008),D=t(67104),s=t(49084),P=t(29736).axisHoverFormat,M=t(92880).extendFlat;W.exports=M({x:y.x,y:y.y,z:y.z,marker:y.marker,histnorm:y.histnorm,histfunc:y.histfunc,nbinsx:y.nbinsx,xbins:y.xbins,nbinsy:y.nbinsy,ybins:y.ybins,autobinx:y.autobinx,autobiny:y.autobiny,bingroup:y.bingroup,xbingroup:y.xbingroup,ybingroup:y.ybingroup,autocontour:D.autocontour,ncontours:D.ncontours,contours:D.contours,line:{color:D.line.color,width:M({},D.line.width,{dflt:.5}),dash:D.line.dash,smoothing:D.line.smoothing,editType:"plot"},xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:y.hovertemplate,texttemplate:D.texttemplate,textfont:D.textfont},s("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(W,G,t){var y=t(3400),D=t(56408),s=t(84952),P=t(97680),M=t(39096),d=t(81220);W.exports=function(r,e,o,n){function u(c,m){return y.coerce(r,e,d,c,m)}function f(c){return y.coerce2(r,e,d,c)}D(r,e,u,n),e.visible!==!1&&(s(r,e,u,f),P(r,e,u,n),u("xhoverformat"),u("yhoverformat"),u("hovertemplate"),e.contours&&e.contours.coloring==="heatmap"&&M(u,n))}},65664:function(W,G,t){W.exports={attributes:t(81220),supplyDefaults:t(3704),crossTraceDefaults:t(80536),calc:t(20688),plot:t(23676).plot,layerName:"contourlayer",style:t(52440),colorbar:t(55296),hoverPoints:t(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(W,G,t){var y=t(21776).Ks,D=t(21776).Gw,s=t(49084),P=t(86968).u,M=t(74996),d=t(424),g=t(40516),r=t(32984),e=t(92880).extendFlat,o=t(98192).c;W.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:g.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:e({colors:d.marker.colors,line:d.marker.line,pattern:o,editType:"calc"},s("marker",{colorAttr:"colors",anim:!1})),leaf:d.leaf,pathbar:g.pathbar,text:M.text,textinfo:d.textinfo,texttemplate:D({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:d.hoverinfo,hovertemplate:y({},{keys:r.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:g.outsidetextfont,textposition:g.textposition,sort:M.sort,root:d.root,domain:P({name:"icicle",trace:!0,editType:"calc"})}},59564:function(W,G,t){var y=t(7316);G.name="icicle",G.plot=function(D,s,P,M){y.plotBasePlot(G.name,D,s,P,M)},G.clean=function(D,s,P,M){y.cleanBasePlot(G.name,D,s,P,M)}},73876:function(W,G,t){var y=t(3776);G.r=function(D,s){return y.calc(D,s)},G.q=function(D){return y._runCrossTraceCalc("icicle",D)}},7045:function(W,G,t){var y=t(3400),D=t(97376),s=t(76308),P=t(86968).Q,M=t(31508).handleText,d=t(78048).TEXTPAD,g=t(74174).handleMarkerDefaults,r=t(8932),e=r.hasColorscale,o=r.handleDefaults;W.exports=function(u,f,c,m){function v(x,E){return y.coerce(u,f,D,x,E)}var T=v("labels"),h=v("parents");if(!T||!T.length||!h||!h.length){f.visible=!1;return}var i=v("values");i&&i.length?v("branchvalues"):v("count"),v("level"),v("maxdepth"),v("tiling.orientation"),v("tiling.flip"),v("tiling.pad");var p=v("text");v("texttemplate"),f.texttemplate||v("textinfo",y.isArrayOrTypedArray(p)?"text+label":"label"),v("hovertext"),v("hovertemplate");var w=v("pathbar.visible"),A="auto";M(u,f,m,v,A,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),v("textposition"),g(u,f,m,v);var L=f._hasColorscale=e(u,"marker","colors")||(u.marker||{}).coloraxis;L&&o(u,f,m,v,{prefix:"marker.",cLetter:"c"}),v("leaf.opacity",L?1:.7),f._hovered={marker:{line:{width:2,color:s.contrast(m.paper_bgcolor)}}},w&&(v("pathbar.thickness",f.pathbar.textfont.size+2*d),v("pathbar.side"),v("pathbar.edgeshape")),v("sort"),v("root.color"),P(f,m,v),f._length=null}},67880:function(W,G,t){var y=t(33428),D=t(3400),s=t(43616),P=t(72736),M=t(25132),d=t(47192).styleOne,g=t(32984),r=t(78176),e=t(45716),o=t(96488).formatSliceLabel,n=!1;W.exports=function(f,c,m,v,T){var h=T.width,i=T.height,p=T.viewX,w=T.viewY,A=T.pathSlice,L=T.toMoveInsideSlice,x=T.strTransform,E=T.hasTransition,S=T.handleSlicesExit,a=T.makeUpdateSliceInterpolator,C=T.makeUpdateTextInterpolator,b=T.prevEntry,z={},k=f._context.staticPlot,U=f._fullLayout,F=c[0],V=F.trace,N=V.textposition.indexOf("left")!==-1,O=V.textposition.indexOf("right")!==-1,H=V.textposition.indexOf("bottom")!==-1,X=M(m,[h,i],{flipX:V.tiling.flip.indexOf("x")>-1,flipY:V.tiling.flip.indexOf("y")>-1,orientation:V.tiling.orientation,pad:{inner:V.tiling.pad},maxDepth:V._maxDepth}),J=X.descendants(),et=1/0,it=-1/0;J.forEach(function(Z){var q=Z.depth;q>=V._maxDepth?(Z.x0=Z.x1=(Z.x0+Z.x1)/2,Z.y0=Z.y1=(Z.y0+Z.y1)/2):(et=Math.min(et,q),it=Math.max(it,q))}),v=v.data(J,r.getPtId),V._maxVisibleLayers=isFinite(it)?it-et+1:0,v.enter().append("g").classed("slice",!0),S(v,n,z,[h,i],A),v.order();var ft=null;if(E&&b){var ot=r.getPtId(b);v.each(function(Z){ft===null&&r.getPtId(Z)===ot&&(ft={x0:Z.x0,x1:Z.x1,y0:Z.y0,y1:Z.y1})})}var Q=function(){return ft||{x0:0,x1:h,y0:0,y1:i}},tt=v;return E&&(tt=tt.transition().each("end",function(){var Z=y.select(this);r.setSliceCursor(Z,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),tt.each(function(Z){Z._x0=p(Z.x0),Z._x1=p(Z.x1),Z._y0=w(Z.y0),Z._y1=w(Z.y1),Z._hoverX=p(Z.x1-V.tiling.pad),Z._hoverY=w(H?Z.y1-V.tiling.pad/2:Z.y0+V.tiling.pad/2);var q=y.select(this),ut=D.ensureSingle(q,"path","surface",function(nt){nt.style("pointer-events",k?"none":"all")});E?ut.transition().attrTween("d",function(nt){var ht=a(nt,n,Q(),[h,i],{orientation:V.tiling.orientation,flipX:V.tiling.flip.indexOf("x")>-1,flipY:V.tiling.flip.indexOf("y")>-1});return function(mt){return A(ht(mt))}}):ut.attr("d",A),q.call(e,m,f,c,{styleOne:d,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),ut.call(d,Z,V,f,{hovered:!1}),Z.x0===Z.x1||Z.y0===Z.y1?Z._text="":Z._text=o(Z,m,V,c,U)||"";var $=D.ensureSingle(q,"g","slicetext"),j=D.ensureSingle($,"text","",function(nt){nt.attr("data-notex",1)}),lt=D.ensureUniformFontSize(f,r.determineTextFont(V,Z,U.font));j.text(Z._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":N?"start":"middle").call(s.font,lt).call(P.convertToTspans,f),Z.textBB=s.bBox(j.node()),Z.transform=L(Z,{fontSize:lt.size}),Z.transform.fontSize=lt.size,E?j.transition().attrTween("transform",function(nt){var ht=C(nt,n,Q(),[h,i]);return function(mt){return x(ht(mt))}}):j.attr("transform",x(Z))}),ft}},29044:function(W,G,t){W.exports={moduleType:"trace",name:"icicle",basePlotModule:t(59564),categories:[],animatable:!0,attributes:t(97376),layoutAttributes:t(90676),supplyDefaults:t(7045),supplyLayoutDefaults:t(4304),calc:t(73876).r,crossTraceCalc:t(73876).q,plot:t(38364),style:t(47192).style,colorbar:t(5528),meta:{}}},90676:function(W){W.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(W,G,t){var y=t(3400),D=t(90676);W.exports=function(P,M){function d(g,r){return y.coerce(P,M,D,g,r)}d("iciclecolorway",M.colorway),d("extendiciclecolors")}},25132:function(W,G,t){var y=t(74148),D=t(83024);W.exports=function(P,M,d){var g=d.flipX,r=d.flipY,e=d.orientation==="h",o=d.maxDepth,n=M[0],u=M[1];o&&(n=(P.height+1)*M[0]/Math.min(P.height+1,o),u=(P.height+1)*M[1]/Math.min(P.height+1,o));var f=y.partition().padding(d.pad.inner).size(e?[M[1],n]:[M[0],u])(P);return(e||g||r)&&D(f,M,{swapXY:e,flipX:g,flipY:r}),f}},38364:function(W,G,t){var y=t(95808),D=t(67880);W.exports=function(P,M,d,g){return y(P,M,d,g,{type:"icicle",drawDescendants:D})}},47192:function(W,G,t){var y=t(33428),D=t(76308),s=t(3400),P=t(82744).resizeText,M=t(60404);function d(r){var e=r._fullLayout._iciclelayer.selectAll(".trace");P(r,e,"icicle"),e.each(function(o){var n=y.select(this),u=o[0],f=u.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(c){y.select(this).call(g,c,f,r)})})}function g(r,e,o,n){var u=e.data.data,f=!e.children,c=u.i,m=s.castOption(o,c,"marker.line.color")||D.defaultLine,v=s.castOption(o,c,"marker.line.width")||0;r.call(M,e,o,n).style("stroke-width",v).call(D.stroke,m).style("opacity",f?o.leaf.opacity:null)}W.exports={style:d,styleOne:g}},95188:function(W,G,t){for(var y=t(45464),D=t(52904).zorder,s=t(21776).Ks,P=t(92880).extendFlat,M=t(47797).colormodel,d=["rgb","rgba","rgba256","hsl","hsla"],g=[],r=[],e=0;e<d.length;e++){var o=M[d[e]];g.push("For the `"+d[e]+"` colormodel, it is ["+(o.zminDflt||o.min).join(", ")+"]."),r.push("For the `"+d[e]+"` colormodel, it is ["+(o.zmaxDflt||o.max).join(", ")+"].")}W.exports=P({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:d,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:P({},y.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:s({},{keys:["z","color","colormodel"]}),zorder:D,transforms:void 0})},93336:function(W,G,t){var y=t(3400),D=t(47797),s=t(38248),P=t(54460),M=t(3400).maxRowLength,d=t(18712).i;W.exports=function(n,u){var f,c;if(u._hasZ)f=u.z.length,c=M(u.z);else if(u._hasSource){var m=d(u.source);f=m.height,c=m.width}var v=P.getFromId(n,u.xaxis||"x"),T=P.getFromId(n,u.yaxis||"y"),h=v.d2c(u.x0)-u.dx/2,i=T.d2c(u.y0)-u.dy/2,p,w=[h,h+c*u.dx],A=[i,i+f*u.dy];if(v&&v.type==="log")for(p=0;p<c;p++)w.push(h+p*u.dx);if(T&&T.type==="log")for(p=0;p<f;p++)A.push(i+p*u.dy);u._extremes[v._id]=P.findExtremes(v,w),u._extremes[T._id]=P.findExtremes(T,A),u._scaler=e(u);var L={x0:h,y0:i,z:u.z,w:c,h:f};return[L]};function g(o,n,u,f){return function(c){return y.constrain((c-o)*n,u,f)}}function r(o,n){return function(u){return y.constrain(u,o,n)}}function e(o){var n=D.colormodel[o.colormodel],u=n.colormodel||o.colormodel,f=u.length;o._sArray=[];for(var c=0;c<f;c++)n.min[c]!==o.zmin[c]||n.max[c]!==o.zmax[c]?o._sArray.push(g(o.zmin[c],(n.max[c]-n.min[c])/(o.zmax[c]-o.zmin[c]),n.min[c],n.max[c])):o._sArray.push(r(n.min[c],n.max[c]));return function(m){for(var v=m.slice(0,f),T=0;T<f;T++){var h=v[T];if(!s(h))return!1;v[T]=o._sArray[T](h)}return v}}},47797:function(W){W.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(G){return G.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(G){return G.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(G){return G.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(G){var t=G.slice(0,3);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(G){var t=G.slice(0,4);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["","%","%",""]}}}},13188:function(W,G,t){var y=t(3400),D=t(95188),s=t(47797),P=t(81792).IMAGE_URL_PREFIX;W.exports=function(d,g){function r(n,u){return y.coerce(d,g,D,n,u)}r("source"),g.source&&!g.source.match(P)&&delete g.source,g._hasSource=!!g.source;var e=r("z");if(g._hasZ=!(e===void 0||!e.length||!e[0]||!e[0].length),!g._hasZ&&!g._hasSource){g.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var o;g._hasZ?(r("colormodel","rgb"),o=s.colormodel[g.colormodel],r("zmin",o.zminDflt||o.min),r("zmax",o.zmaxDflt||o.max)):g._hasSource&&(g.colormodel="rgba256",o=s.colormodel[g.colormodel],g.zmin=o.zminDflt,g.zmax=o.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),g._length=null,r("zorder")}},79972:function(W){W.exports=function(t,y){return"xVal"in y&&(t.x=y.xVal),"yVal"in y&&(t.y=y.yVal),y.xa&&(t.xaxis=y.xa),y.ya&&(t.yaxis=y.ya),t.color=y.color,t.colormodel=y.trace.colormodel,t.z||(t.z=y.color),t}},18712:function(W,G,t){var y=t(19480),D=t(81792).IMAGE_URL_PREFIX,s=t(33576).Buffer;G.i=function(P){var M=P.replace(D,""),d=new s(M,"base64");return y(d)}},24892:function(W,G,t){var y=t(93024),D=t(3400),s=D.isArrayOrTypedArray,P=t(47797);W.exports=function(d,g,r){var e=d.cd[0],o=e.trace,n=d.xa,u=d.ya;if(!(y.inbox(g-e.x0,g-(e.x0+e.w*o.dx),0)>0||y.inbox(r-e.y0,r-(e.y0+e.h*o.dy),0)>0)){var f=Math.floor((g-e.x0)/o.dx),c=Math.floor(Math.abs(r-e.y0)/o.dy),m;if(o._hasZ?m=e.z[c][f]:o._hasSource&&(m=o._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(f,c,1,1).data),!!m){var v=e.hi||o.hoverinfo,T;if(v){var h=v.split("+");h.indexOf("all")!==-1&&(h=["color"]),h.indexOf("color")!==-1&&(T=!0)}var i=P.colormodel[o.colormodel],p=i.colormodel||o.colormodel,w=p.length,A=o._scaler(m),L=i.suffix,x=[];(o.hovertemplate||T)&&(x.push("["+[A[0]+L[0],A[1]+L[1],A[2]+L[2]].join(", ")),w===4&&x.push(", "+A[3]+L[3]),x.push("]"),x=x.join(""),d.extraText=p.toUpperCase()+": "+x);var E;s(o.hovertext)&&s(o.hovertext[c])?E=o.hovertext[c][f]:s(o.text)&&s(o.text[c])&&(E=o.text[c][f]);var S=u.c2p(e.y0+(c+.5)*o.dy),a=e.x0+(f+.5)*o.dx,C=e.y0+(c+.5)*o.dy,b="["+m.slice(0,o.colormodel.length).join(", ")+"]";return[D.extendFlat(d,{index:[c,f],x0:n.c2p(e.x0+f*o.dx),x1:n.c2p(e.x0+(f+1)*o.dx),y0:S,y1:S,color:A,xVal:a,xLabelVal:a,yVal:C,yLabelVal:C,zLabelVal:b,text:E,hovertemplateLabels:{zLabel:b,colorLabel:x,"color[0]Label":A[0]+L[0],"color[1]Label":A[1]+L[1],"color[2]Label":A[2]+L[2],"color[3]Label":A[3]+L[3]}})]}}}},48928:function(W,G,t){W.exports={attributes:t(95188),supplyDefaults:t(13188),calc:t(93336),plot:t(63715),style:t(28576),hoverPoints:t(24892),eventData:t(79972),moduleType:"trace",name:"image",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(W,G,t){var y=t(33428),D=t(3400),s=D.strTranslate,P=t(9616),M=t(47797),d=t(9188),g=t(2264).STYLE;W.exports=function(e,o,n,u){var f=o.xaxis,c=o.yaxis,m=!e._context._exportedPlot&&d();D.makeTraceGroups(u,n,"im").each(function(v){var T=y.select(this),h=v[0],i=h.trace,p=(i.zsmooth==="fast"||i.zsmooth===!1&&m)&&!i._hasZ&&i._hasSource&&f.type==="linear"&&c.type==="linear";i._realImage=p;var w=h.z,A=h.x0,L=h.y0,x=h.w,E=h.h,S=i.dx,a=i.dy,C,b,z,k,U,F;for(F=0;C===void 0&&F<x;)C=f.c2p(A+F*S),F++;for(F=x;b===void 0&&F>0;)b=f.c2p(A+F*S),F--;for(F=0;k===void 0&&F<E;)k=c.c2p(L+F*a),F++;for(F=E;U===void 0&&F>0;)U=c.c2p(L+F*a),F--;if(b<C&&(z=b,b=C,C=z),U<k&&(z=k,k=U,U=z),!p){var V=.5;C=Math.max(-V*f._length,C),b=Math.min((1+V)*f._length,b),k=Math.max(-V*c._length,k),U=Math.min((1+V)*c._length,U)}var N=Math.round(b-C),O=Math.round(U-k),H=N<=0||O<=0;if(H){var X=T.selectAll("image").data([]);X.exit().remove();return}function J($){var j=document.createElement("canvas");j.width=N,j.height=O;var lt=j.getContext("2d",{willReadFrequently:!0}),nt=function(zt){return D.constrain(Math.round(f.c2p(A+zt*S)-C),0,N)},ht=function(zt){return D.constrain(Math.round(c.c2p(L+zt*a)-k),0,O)},mt=M.colormodel[i.colormodel],At=mt.colormodel||i.colormodel,bt=mt.fmt,Pt;for(F=0;F<h.w;F++){var _t=nt(F),Ut=nt(F+1);if(!(Ut===_t||isNaN(Ut)||isNaN(_t)))for(var St=0;St<h.h;St++){var Rt=ht(St),Et=ht(St+1);Et===Rt||isNaN(Et)||isNaN(Rt)||!$(F,St)||(Pt=i._scaler($(F,St)),Pt?lt.fillStyle=At+"("+bt(Pt).join(",")+")":lt.fillStyle="rgba(0,0,0,0)",lt.fillRect(_t,Rt,Ut-_t,Et-Rt))}}return j}var et=T.selectAll("image").data([v]);et.enter().append("svg:image").attr({xmlns:P.svg,preserveAspectRatio:"none"}),et.exit().remove();var it=i.zsmooth===!1?g:"";if(p){var ft=D.simpleMap(f.range,f.r2l),ot=D.simpleMap(c.range,c.r2l),Q=ft[1]<ft[0],tt=ot[1]>ot[0];if(Q||tt){var Z=C+N/2,q=k+O/2;it+="transform:"+s(Z+"px",q+"px")+"scale("+(Q?-1:1)+","+(tt?-1:1)+")"+s(-Z+"px",-q+"px")+";"}}et.attr("style",it);var ut=new Promise(function($){if(i._hasZ)$();else if(i._hasSource)if(i._canvas&&i._canvas.el.width===x&&i._canvas.el.height===E&&i._canvas.source===i.source)$();else{var j=document.createElement("canvas");j.width=x,j.height=E;var lt=j.getContext("2d",{willReadFrequently:!0});i._image=i._image||new Image;var nt=i._image;nt.onload=function(){lt.drawImage(nt,0,0),i._canvas={el:j,source:i.source},$()},nt.setAttribute("src",i.source)}}).then(function(){var $,j;if(i._hasZ)j=J(function(ht,mt){var At=w[mt][ht];return D.isTypedArray(At)&&(At=Array.from(At)),At}),$=j.toDataURL("image/png");else if(i._hasSource)if(p)$=i.source;else{var lt=i._canvas.el.getContext("2d",{willReadFrequently:!0}),nt=lt.getImageData(0,0,x,E).data;j=J(function(ht,mt){var At=4*(mt*x+ht);return[nt[At],nt[At+1],nt[At+2],nt[At+3]]}),$=j.toDataURL("image/png")}et.attr({"xlink:href":$,height:O,width:N,x:C,y:k})});e._promises.push(ut)})}},28576:function(W,G,t){var y=t(33428);W.exports=function(s){y.select(s).selectAll(".im image").style("opacity",function(P){return P[0].trace.opacity})}},89864:function(W,G,t){var y=t(92880).extendFlat,D=t(92880).extendDeep,s=t(67824).overrideAll,P=t(25376),M=t(22548),d=t(86968).u,g=t(94724),r=t(31780).templatedArray,e=t(48164),o=t(29736).descriptionOnlyNumbers,n=P({editType:"plot",colorEditType:"plot"}),u={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:M.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},c=r("step",D({},u,{range:f}));W.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:d({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:y({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:o("value")},font:y({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:o("value")},increasing:{symbol:{valType:"string",dflt:e.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:e.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:e.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:e.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:y({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:D({},u,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:s({range:f,visible:y({},g.visible,{dflt:!0}),tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:y({},g.ticks,{dflt:"outside"}),ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:P({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,editType:"plot"},"plot"),steps:c,threshold:{line:{color:y({},u.line.color,{}),width:y({},u.line.width,{dflt:1}),editType:"plot"},thickness:y({},u.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(W,G,t){var y=t(7316);G.name="indicator",G.plot=function(D,s,P,M){y.plotBasePlot(G.name,D,s,P,M)},G.clean=function(D,s,P,M){y.cleanBasePlot(G.name,D,s,P,M)}},79136:function(W){function G(t,y){var D=[],s=y.value;typeof y._lastValue!="number"&&(y._lastValue=y.value);var P=y._lastValue,M=P;return y._hasDelta&&typeof y.delta.reference=="number"&&(M=y.delta.reference),D[0]={y:s,lastY:P,delta:s-M,relativeDelta:(s-M)/M},D}W.exports={calc:G}},12096:function(W){W.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(W,G,t){var y=t(3400),D=t(89864),s=t(86968).Q,P=t(31780),M=t(51272),d=t(12096),g=t(26332),r=t(25404),e=t(95936),o=t(42568);function n(f,c,m,v){function T(N,O){return y.coerce(f,c,D,N,O)}s(c,v,T),T("mode"),c._hasNumber=c.mode.indexOf("number")!==-1,c._hasDelta=c.mode.indexOf("delta")!==-1,c._hasGauge=c.mode.indexOf("gauge")!==-1;var h=T("value");c._range=[0,typeof h=="number"?1.5*h:1];var i=new Array(2),p;if(c._hasNumber){T("number.valueformat");var w=y.extendFlat({},v.font);w.size=void 0,y.coerceFont(T,"number.font",w),c.number.font.size===void 0&&(c.number.font.size=d.defaultNumberFontSize,i[0]=!0),T("number.prefix"),T("number.suffix"),p=c.number.font.size}var A;if(c._hasDelta){var L=y.extendFlat({},v.font);L.size=void 0,y.coerceFont(T,"delta.font",L),c.delta.font.size===void 0&&(c.delta.font.size=(c._hasNumber?.5:1)*(p||d.defaultNumberFontSize),i[1]=!0),T("delta.reference",c.value),T("delta.relative"),T("delta.valueformat",c.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),A=c.delta.font.size}c._scaleNumbers=(!c._hasNumber||i[0])&&(!c._hasDelta||i[1])||!1;var x=y.extendFlat({},v.font);x.size=.25*(p||A||d.defaultNumberFontSize),y.coerceFont(T,"title.font",x),T("title.text");var E,S,a,C;function b(N,O){return y.coerce(E,S,D.gauge,N,O)}function z(N,O){return y.coerce(a,C,D.gauge.axis,N,O)}if(c._hasGauge){E=f.gauge,E||(E={}),S=P.newContainer(c,"gauge"),b("shape");var k=c._isBullet=c.gauge.shape==="bullet";k||T("title.align","center");var U=c._isAngular=c.gauge.shape==="angular";U||T("align","center"),b("bgcolor",v.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var F=d.valueThickness*(c.gauge.shape==="bullet"?.5:1);b("bar.thickness",F),M(E,S,{name:"steps",handleItemDefaults:u}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),a={},E&&(a=E.axis||{}),C=P.newContainer(S,"axis"),z("visible"),c._range=z("range",c._range);var V={font:v.font,noAutotickangles:!0,outerTicks:!0,noTicklabelshift:!0,noTicklabelstandoff:!0};g(a,C,z,"linear"),o(a,C,z,"linear",V),e(a,C,z,"linear",V),r(a,C,z,V)}else T("title.align","center"),T("align","center"),c._isAngular=c._isBullet=!1;c._length=null}function u(f,c){function m(v,T){return y.coerce(f,c,D.gauge.steps,v,T)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}W.exports={supplyDefaults:n}},43480:function(W,G,t){W.exports={moduleType:"trace",name:"indicator",basePlotModule:t(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:t(89864),supplyDefaults:t(20424).supplyDefaults,calc:t(79136).calc,plot:t(97864),meta:{}}},97864:function(W,G,t){var y=t(33428),D=t(67756).qy,s=t(67756).Gz,P=t(3400),M=P.strScale,d=P.strTranslate,g=P.rad2deg,r=t(84284).MID_SHIFT,e=t(43616),o=t(12096),n=t(72736),u=t(54460),f=t(28336),c=t(37668),m=t(94724),v=t(76308),T={left:"start",center:"middle",right:"end"},h={left:0,center:.5,right:1},i=/[yzafpnmkMGTPEZY]/;function p(k){return k&&k.duration>0}W.exports=function(U,F,V,N){var O=U._fullLayout,H;p(V)&&N&&(H=N()),P.makeTraceGroups(O._indicatorlayer,F,"trace").each(function(X){var J=X[0],et=J.trace,it=y.select(this),ft=et._hasGauge,ot=et._isAngular,Q=et._isBullet,tt=et.domain,Z={w:O._size.w*(tt.x[1]-tt.x[0]),h:O._size.h*(tt.y[1]-tt.y[0]),l:O._size.l+O._size.w*tt.x[0],r:O._size.r+O._size.w*(1-tt.x[1]),t:O._size.t+O._size.h*(1-tt.y[1]),b:O._size.b+O._size.h*tt.y[0]},q=Z.l+Z.w/2,ut=Z.t+Z.h/2,$=Math.min(Z.w/2,Z.h),j=o.innerRadius*$,lt,nt,ht,mt=et.align||"center";if(nt=ut,!ft)lt=Z.l+h[mt]*Z.w,ht=function(Ct){return a(Ct,Z.w,Z.h)};else if(ot&&(lt=q,nt=ut+$/2,ht=function(Ct){return C(Ct,.9*j)}),Q){var At=o.bulletPadding,bt=1-o.bulletNumberDomainSize+At;lt=Z.l+(bt+(1-bt)*h[mt])*Z.w,ht=function(Ct){return a(Ct,(o.bulletNumberDomainSize-At)*Z.w,Z.h)}}L(U,it,X,{numbersX:lt,numbersY:nt,numbersScaler:ht,transitionOpts:V,onComplete:H});var Pt,_t;ft&&(Pt={range:et.gauge.axis.range,color:et.gauge.bgcolor,line:{color:et.gauge.bordercolor,width:0},thickness:1},_t={range:et.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:et.gauge.bordercolor,width:et.gauge.borderwidth},thickness:1});var Ut=it.selectAll("g.angular").data(ot?X:[]);Ut.exit().remove();var St=it.selectAll("g.angularaxis").data(ot?X:[]);St.exit().remove(),ot&&A(U,it,X,{radius:$,innerRadius:j,gauge:Ut,layer:St,size:Z,gaugeBg:Pt,gaugeOutline:_t,transitionOpts:V,onComplete:H});var Rt=it.selectAll("g.bullet").data(Q?X:[]);Rt.exit().remove();var Et=it.selectAll("g.bulletaxis").data(Q?X:[]);Et.exit().remove(),Q&&w(U,it,X,{gauge:Rt,layer:Et,size:Z,gaugeBg:Pt,gaugeOutline:_t,transitionOpts:V,onComplete:H});var zt=it.selectAll("text.title").data(X);zt.exit().remove(),zt.enter().append("text").classed("title",!0),zt.attr("text-anchor",function(){return Q?T.right:T[et.title.align]}).text(et.title.text).call(e.font,et.title.font).call(n.convertToTspans,U),zt.attr("transform",function(){var Ct=Z.l+Z.w*h[et.title.align],Wt,Kt=o.titlePadding,oe=e.bBox(zt.node());if(ft){if(ot)if(et.gauge.axis.visible){var Jt=e.bBox(St.node());Wt=Jt.top-Kt-oe.bottom}else Wt=Z.t+Z.h/2-$/2-oe.bottom-Kt;Q&&(Wt=nt-(oe.top+oe.bottom)/2,Ct=Z.l-o.bulletPadding*Z.w)}else Wt=et._numbersTop-Kt-oe.bottom;return d(Ct,Wt)})})};function w(k,U,F,V){var N=F[0].trace,O=V.gauge,H=V.layer,X=V.gaugeBg,J=V.gaugeOutline,et=V.size,it=N.domain,ft=V.transitionOpts,ot=V.onComplete,Q,tt,Z,q,ut;O.enter().append("g").classed("bullet",!0),O.attr("transform",d(et.l,et.t)),H.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),H.selectAll("g.xbulletaxistick,path,text").remove();var $=et.h,j=N.gauge.bar.thickness*$,lt=it.x[0],nt=it.x[0]+(it.x[1]-it.x[0])*(N._hasNumber||N._hasDelta?1-o.bulletNumberDomainSize:1);Q=S(k,N.gauge.axis),Q._id="xbulletaxis",Q.domain=[lt,nt],Q.setScale(),tt=u.calcTicks(Q),Z=u.makeTransTickFn(Q),q=u.getTickSigns(Q)[2],ut=et.t+et.h,Q.visible&&(u.drawTicks(k,Q,{vals:Q.ticks==="inside"?u.clipEnds(Q,tt):tt,layer:H,path:u.makeTickPath(Q,ut,q),transFn:Z}),u.drawLabels(k,Q,{vals:tt,layer:H,transFn:Z,labelFns:u.makeLabelFns(Q,ut)}));function ht(St){St.attr("width",function(Rt){return Math.max(0,Q.c2p(Rt.range[1])-Q.c2p(Rt.range[0]))}).attr("x",function(Rt){return Q.c2p(Rt.range[0])}).attr("y",function(Rt){return .5*(1-Rt.thickness)*$}).attr("height",function(Rt){return Rt.thickness*$})}var mt=[X].concat(N.gauge.steps),At=O.selectAll("g.bg-bullet").data(mt);At.enter().append("g").classed("bg-bullet",!0).append("rect"),At.select("rect").call(ht).call(x),At.exit().remove();var bt=O.selectAll("g.value-bullet").data([N.gauge.bar]);bt.enter().append("g").classed("value-bullet",!0).append("rect"),bt.select("rect").attr("height",j).attr("y",($-j)/2).call(x),p(ft)?bt.select("rect").transition().duration(ft.duration).ease(ft.easing).each("end",function(){ot&&ot()}).each("interrupt",function(){ot&&ot()}).attr("width",Math.max(0,Q.c2p(Math.min(N.gauge.axis.range[1],F[0].y)))):bt.select("rect").attr("width",typeof F[0].y=="number"?Math.max(0,Q.c2p(Math.min(N.gauge.axis.range[1],F[0].y))):0),bt.exit().remove();var Pt=F.filter(function(){return N.gauge.threshold.value||N.gauge.threshold.value===0}),_t=O.selectAll("g.threshold-bullet").data(Pt);_t.enter().append("g").classed("threshold-bullet",!0).append("line"),_t.select("line").attr("x1",Q.c2p(N.gauge.threshold.value)).attr("x2",Q.c2p(N.gauge.threshold.value)).attr("y1",(1-N.gauge.threshold.thickness)/2*$).attr("y2",(1-(1-N.gauge.threshold.thickness)/2)*$).call(v.stroke,N.gauge.threshold.line.color).style("stroke-width",N.gauge.threshold.line.width),_t.exit().remove();var Ut=O.selectAll("g.gauge-outline").data([J]);Ut.enter().append("g").classed("gauge-outline",!0).append("rect"),Ut.select("rect").call(ht).call(x),Ut.exit().remove()}function A(k,U,F,V){var N=F[0].trace,O=V.size,H=V.radius,X=V.innerRadius,J=V.gaugeBg,et=V.gaugeOutline,it=[O.l+O.w/2,O.t+O.h/2+H/2],ft=V.gauge,ot=V.layer,Q=V.transitionOpts,tt=V.onComplete,Z=Math.PI/2;function q(te){var fe=N.gauge.axis.range[0],ve=N.gauge.axis.range[1],de=(te-fe)/(ve-fe)*Math.PI-Z;return de<-Z?-Z:de>Z?Z:de}function ut(te){return y.svg.arc().innerRadius((X+H)/2-te/2*(H-X)).outerRadius((X+H)/2+te/2*(H-X)).startAngle(-Z)}function $(te){te.attr("d",function(fe){return ut(fe.thickness).startAngle(q(fe.range[0])).endAngle(q(fe.range[1]))()})}var j,lt,nt,ht;ft.enter().append("g").classed("angular",!0),ft.attr("transform",d(it[0],it[1])),ot.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),ot.selectAll("g.xangularaxistick,path,text").remove(),j=S(k,N.gauge.axis),j.type="linear",j.range=N.gauge.axis.range,j._id="xangularaxis",j.ticklabeloverflow="allow",j.setScale();var mt=function(te){return(j.range[0]-te.x)/(j.range[1]-j.range[0])*Math.PI+Math.PI},At={},bt=u.makeLabelFns(j,0),Pt=bt.labelStandoff;At.xFn=function(te){var fe=mt(te);return Math.cos(fe)*Pt},At.yFn=function(te){var fe=mt(te),ve=Math.sin(fe)>0?.2:1;return-Math.sin(fe)*(Pt+te.fontSize*ve)+Math.abs(Math.cos(fe))*(te.fontSize*r)},At.anchorFn=function(te){var fe=mt(te),ve=Math.cos(fe);return Math.abs(ve)<.1?"middle":ve>0?"start":"end"},At.heightFn=function(te,fe,ve){var de=mt(te);return-.5*(1+Math.sin(de))*ve};var _t=function(te){return d(it[0]+H*Math.cos(te),it[1]-H*Math.sin(te))};nt=function(te){return _t(mt(te))};var Ut=function(te){var fe=mt(te);return _t(fe)+"rotate("+-g(fe)+")"};if(lt=u.calcTicks(j),ht=u.getTickSigns(j)[2],j.visible){ht=j.ticks==="inside"?-1:1;var St=(j.linewidth||1)/2;u.drawTicks(k,j,{vals:lt,layer:ot,path:"M"+ht*St+",0h"+ht*j.ticklen,transFn:Ut}),u.drawLabels(k,j,{vals:lt,layer:ot,transFn:nt,labelFns:At})}var Rt=[J].concat(N.gauge.steps),Et=ft.selectAll("g.bg-arc").data(Rt);Et.enter().append("g").classed("bg-arc",!0).append("path"),Et.select("path").call($).call(x),Et.exit().remove();var zt=ut(N.gauge.bar.thickness),Ct=ft.selectAll("g.value-arc").data([N.gauge.bar]);Ct.enter().append("g").classed("value-arc",!0).append("path");var Wt=Ct.select("path");p(Q)?(Wt.transition().duration(Q.duration).ease(Q.easing).each("end",function(){tt&&tt()}).each("interrupt",function(){tt&&tt()}).attrTween("d",E(zt,q(F[0].lastY),q(F[0].y))),N._lastValue=F[0].y):Wt.attr("d",typeof F[0].y=="number"?zt.endAngle(q(F[0].y)):"M0,0Z"),Wt.call(x),Ct.exit().remove(),Rt=[];var Kt=N.gauge.threshold.value;(Kt||Kt===0)&&Rt.push({range:[Kt,Kt],color:N.gauge.threshold.color,line:{color:N.gauge.threshold.line.color,width:N.gauge.threshold.line.width},thickness:N.gauge.threshold.thickness});var oe=ft.selectAll("g.threshold-arc").data(Rt);oe.enter().append("g").classed("threshold-arc",!0).append("path"),oe.select("path").call($).call(x),oe.exit().remove();var Jt=ft.selectAll("g.gauge-outline").data([et]);Jt.enter().append("g").classed("gauge-outline",!0).append("path"),Jt.select("path").call($).call(x),Jt.exit().remove()}function L(k,U,F,V){var N=F[0].trace,O=V.numbersX,H=V.numbersY,X=N.align||"center",J=T[X],et=V.transitionOpts,it=V.onComplete,ft=P.ensureSingle(U,"g","numbers"),ot,Q,tt,Z=[];N._hasNumber&&Z.push("number"),N._hasDelta&&(Z.push("delta"),N.delta.position==="left"&&Z.reverse());var q=ft.selectAll("text").data(Z);q.enter().append("text"),q.attr("text-anchor",function(){return J}).attr("class",function(_t){return _t}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),q.exit().remove();function ut(_t,Ut,St,Rt){if(_t.match("s")&&St>=0!=Rt>=0&&!Ut(St).slice(-1).match(i)&&!Ut(Rt).slice(-1).match(i)){var Et=_t.slice().replace("s","f").replace(/\d+/,function(Ct){return parseInt(Ct)-1}),zt=S(k,{tickformat:Et});return function(Ct){return Math.abs(Ct)<1?u.tickText(zt,Ct).text:Ut(Ct)}}else return Ut}function $(){var _t=S(k,{tickformat:N.number.valueformat},N._range);_t.setScale(),u.prepTicks(_t);var Ut=function(Ct){return u.tickText(_t,Ct).text},St=N.number.suffix,Rt=N.number.prefix,Et=ft.select("text.number");function zt(){var Ct=typeof F[0].y=="number"?Rt+Ut(F[0].y)+St:"-";Et.text(Ct).call(e.font,N.number.font).call(n.convertToTspans,k)}return p(et)?Et.transition().duration(et.duration).ease(et.easing).each("end",function(){zt(),it&&it()}).each("interrupt",function(){zt(),it&&it()}).attrTween("text",function(){var Ct=y.select(this),Wt=s(F[0].lastY,F[0].y);N._lastValue=F[0].y;var Kt=ut(N.number.valueformat,Ut,F[0].lastY,F[0].y);return function(oe){Ct.text(Rt+Kt(Wt(oe))+St)}}):zt(),ot=b(Rt+Ut(F[0].y)+St,N.number.font,J,k),Et}function j(){var _t=S(k,{tickformat:N.delta.valueformat},N._range);_t.setScale(),u.prepTicks(_t);var Ut=function(oe){return u.tickText(_t,oe).text},St=N.delta.suffix,Rt=N.delta.prefix,Et=function(oe){var Jt=N.delta.relative?oe.relativeDelta:oe.delta;return Jt},zt=function(oe,Jt){return oe===0||typeof oe!="number"||isNaN(oe)?"-":(oe>0?N.delta.increasing.symbol:N.delta.decreasing.symbol)+Rt+Jt(oe)+St},Ct=function(oe){return oe.delta>=0?N.delta.increasing.color:N.delta.decreasing.color};N._deltaLastValue===void 0&&(N._deltaLastValue=Et(F[0]));var Wt=ft.select("text.delta");Wt.call(e.font,N.delta.font).call(v.fill,Ct({delta:N._deltaLastValue}));function Kt(){Wt.text(zt(Et(F[0]),Ut)).call(v.fill,Ct(F[0])).call(n.convertToTspans,k)}return p(et)?Wt.transition().duration(et.duration).ease(et.easing).tween("text",function(){var oe=y.select(this),Jt=Et(F[0]),te=N._deltaLastValue,fe=ut(N.delta.valueformat,Ut,te,Jt),ve=s(te,Jt);return N._deltaLastValue=Jt,function(de){oe.text(zt(ve(de),fe)),oe.call(v.fill,Ct({delta:ve(de)}))}}).each("end",function(){Kt(),it&&it()}).each("interrupt",function(){Kt(),it&&it()}):Kt(),Q=b(zt(Et(F[0]),Ut),N.delta.font,J,k),Wt}var lt=N.mode+N.align,nt;if(N._hasDelta&&(nt=j(),lt+=N.delta.position+N.delta.font.size+N.delta.font.family+N.delta.valueformat,lt+=N.delta.increasing.symbol+N.delta.decreasing.symbol,tt=Q),N._hasNumber&&($(),lt+=N.number.font.size+N.number.font.family+N.number.valueformat+N.number.suffix+N.number.prefix,tt=ot),N._hasDelta&&N._hasNumber){var ht=[(ot.left+ot.right)/2,(ot.top+ot.bottom)/2],mt=[(Q.left+Q.right)/2,(Q.top+Q.bottom)/2],At,bt,Pt=.75*N.delta.font.size;N.delta.position==="left"&&(At=z(N,"deltaPos",0,-1*(ot.width*h[N.align]+Q.width*(1-h[N.align])+Pt),lt,Math.min),bt=ht[1]-mt[1],tt={width:ot.width+Q.width+Pt,height:Math.max(ot.height,Q.height),left:Q.left+At,right:ot.right,top:Math.min(ot.top,Q.top+bt),bottom:Math.max(ot.bottom,Q.bottom+bt)}),N.delta.position==="right"&&(At=z(N,"deltaPos",0,ot.width*(1-h[N.align])+Q.width*h[N.align]+Pt,lt,Math.max),bt=ht[1]-mt[1],tt={width:ot.width+Q.width+Pt,height:Math.max(ot.height,Q.height),left:ot.left,right:Q.right+At,top:Math.min(ot.top,Q.top+bt),bottom:Math.max(ot.bottom,Q.bottom+bt)}),N.delta.position==="bottom"&&(At=null,bt=Q.height,tt={width:Math.max(ot.width,Q.width),height:ot.height+Q.height,left:Math.min(ot.left,Q.left),right:Math.max(ot.right,Q.right),top:ot.bottom-ot.height,bottom:ot.bottom+Q.height}),N.delta.position==="top"&&(At=null,bt=ot.top,tt={width:Math.max(ot.width,Q.width),height:ot.height+Q.height,left:Math.min(ot.left,Q.left),right:Math.max(ot.right,Q.right),top:ot.bottom-ot.height-Q.height,bottom:ot.bottom}),nt.attr({dx:At,dy:bt})}(N._hasNumber||N._hasDelta)&&ft.attr("transform",function(){var _t=V.numbersScaler(tt);lt+=_t[2];var Ut=z(N,"numbersScale",1,_t[0],lt,Math.min),St;N._scaleNumbers||(Ut=1),N._isAngular?St=H-Ut*tt.bottom:St=H-Ut*(tt.top+tt.bottom)/2,N._numbersTop=Ut*tt.top+St;var Rt=tt[X];X==="center"&&(Rt=(tt.left+tt.right)/2);var Et=O-Ut*Rt;return Et=z(N,"numbersTranslate",0,Et,lt,Math.max),d(Et,St)+M(Ut)})}function x(k){k.each(function(U){v.stroke(y.select(this),U.line.color)}).each(function(U){v.fill(y.select(this),U.color)}).style("stroke-width",function(U){return U.line.width})}function E(k,U,F){return function(){var V=D(U,F);return function(N){return k.endAngle(V(N))()}}}function S(k,U,F){var V=k._fullLayout,N=P.extendFlat({type:"linear",ticks:"outside",range:F,showline:!0},U),O={type:"linear",_id:"x"+U._id},H={letter:"x",font:V.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function X(J,et){return P.coerce(N,O,m,J,et)}return f(N,O,X,H,V),c(N,O,X,H),O}function a(k,U,F){var V=Math.min(U/k.width,F/k.height);return[V,k,U+"x"+F]}function C(k,U){var F=Math.sqrt(k.width/2*(k.width/2)+k.height*k.height),V=U/F;return[V,k,U]}function b(k,U,F,V){var N=document.createElementNS("http://www.w3.org/2000/svg","text"),O=y.select(N);return O.text(k).attr("x",0).attr("y",0).attr("text-anchor",F).attr("data-unformatted",k).call(n.convertToTspans,V).call(e.font,U),e.bBox(O.node())}function z(k,U,F,V,N,O){var H="_cache"+U;k[H]&&k[H].key===N||(k[H]={key:N,value:F});var X=P.aggNums(O,null,[k[H].value,V],2);return k[H].value=X,X}},50048:function(W,G,t){var y=t(49084),D=t(29736).axisHoverFormat,s=t(21776).Ks,P=t(52948),M=t(45464),d=t(92880).extendFlat,g=t(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function e(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var o=W.exports=g(d({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:e(),y:e(),z:e()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:s(),xhoverformat:D("x"),yhoverformat:D("y"),zhoverformat:D("z"),valuehoverformat:D("value",1),showlegend:d({},M.showlegend,{dflt:!1})},y("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:P.opacity,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:d({},M.hoverinfo)}),"calc","nested");o.flatshading.dflt=!0,o.lighting.facenormalsepsilon.dflt=0,o.x.editType=o.y.editType=o.z.editType=o.value.editType="calc+clearAxisTypes",o.transforms=void 0},62624:function(W,G,t){var y=t(47128),D=t(3832).processGrid,s=t(3832).filter;W.exports=function(M,d){d._len=Math.min(d.x.length,d.y.length,d.z.length,d.value.length),d._x=s(d.x,d._len),d._y=s(d.y,d._len),d._z=s(d.z,d._len),d._value=s(d.value,d._len);var g=D(d);d._gridFill=g.fill,d._Xs=g.Xs,d._Ys=g.Ys,d._Zs=g.Zs,d._len=g.len;for(var r=1/0,e=-1/0,o=0;o<d._len;o++){var n=d._value[o];r=Math.min(r,n),e=Math.max(e,n)}d._minValues=r,d._maxValues=e,d._vMin=d.isomin===void 0||d.isomin===null?r:d.isomin,d._vMax=d.isomax===void 0||d.isomax===null?e:d.isomax,y(M,d,{vals:[d._vMin,d._vMax],containerStr:"",cLetter:"c"})}},31460:function(W,G,t){var y=t(67792).gl_mesh3d,D=t(33040).parseColorScale,s=t(3400).isArrayOrTypedArray,P=t(43080),M=t(8932).extractOpts,d=t(52094),g=function(f,c){for(var m=c.length-1;m>0;m--){var v=Math.min(c[m],c[m-1]),T=Math.max(c[m],c[m-1]);if(T>v&&v<f&&f<=T)return{id:m,distRatio:(T-f)/(T-v)}}return{id:0,distRatio:0}};function r(f,c,m){this.scene=f,this.uid=m,this.mesh=c,this.name="",this.data=null,this.showContour=!1}var e=r.prototype;e.handlePick=function(f){if(f.object===this.mesh){var c=f.data.index,m=this.data._meshX[c],v=this.data._meshY[c],T=this.data._meshZ[c],h=this.data._Ys.length,i=this.data._Zs.length,p=g(m,this.data._Xs).id,w=g(v,this.data._Ys).id,A=g(T,this.data._Zs).id,L=f.index=A+i*w+i*h*p;f.traceCoordinate=[this.data._meshX[L],this.data._meshY[L],this.data._meshZ[L],this.data._value[L]];var x=this.data.hovertext||this.data.text;return s(x)&&x[L]!==void 0?f.textLabel=x[L]:x&&(f.textLabel=x),!0}},e.update=function(f){var c=this.scene,m=c.fullSceneLayout;this.data=n(f);function v(w,A,L,x){return A.map(function(E){return w.d2l(E,0,x)*L})}var T=d(v(m.xaxis,f._meshX,c.dataScale[0],f.xcalendar),v(m.yaxis,f._meshY,c.dataScale[1],f.ycalendar),v(m.zaxis,f._meshZ,c.dataScale[2],f.zcalendar)),h=d(f._meshI,f._meshJ,f._meshK),i={positions:T,cells:h,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,contourEnable:f.contour.show,contourColor:P(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},p=M(f);i.vertexIntensity=f._meshIntensity,i.vertexIntensityBounds=[p.min,p.max],i.colormap=D(f),this.mesh.update(i)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var o=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(f){f._meshI=[],f._meshJ=[],f._meshK=[];var c=f.surface.show,m=f.spaceframe.show,v=f.surface.fill,T=f.spaceframe.fill,h=!1,i=!1,p=0,w,A,L=f._Xs,x=f._Ys,E=f._Zs,S=L.length,a=x.length,C=E.length,b=o.indexOf(f._gridFill.replace(/-/g,"").replace(/\+/g,"")),z=function(Yt,Zt,It){switch(b){case 5:return It+C*Zt+C*a*Yt;case 4:return It+C*Yt+C*S*Zt;case 3:return Zt+a*It+a*C*Yt;case 2:return Zt+a*Yt+a*S*It;case 1:return Yt+S*It+S*C*Zt;default:return Yt+S*Zt+S*a*It}},k=f._minValues,U=f._maxValues,F=f._vMin,V=f._vMax,N,O,H,X;function J(Yt,Zt,It){for(var Nt=X.length,Ht=A;Ht<Nt;Ht++)if(Yt===N[Ht]&&Zt===O[Ht]&&It===H[Ht])return Ht;return-1}function et(){A=w}function it(){N=[],O=[],H=[],X=[],w=0,et()}function ft(Yt,Zt,It,Nt){return N.push(Yt),O.push(Zt),H.push(It),X.push(Nt),w++,w-1}function ot(Yt,Zt,It){return f._meshI.push(Yt),f._meshJ.push(Zt),f._meshK.push(It),p++,p-1}function Q(Yt,Zt,It){for(var Nt=[],Ht=0;Ht<Yt.length;Ht++)Nt[Ht]=(Yt[Ht]+Zt[Ht]+It[Ht])/3;return Nt}function tt(Yt,Zt,It){for(var Nt=[],Ht=0;Ht<Yt.length;Ht++)Nt[Ht]=Yt[Ht]*(1-It)+It*Zt[Ht];return Nt}var Z;function q(Yt){Z=Yt}function ut(Yt,Zt){var It=Yt[0],Nt=Yt[1],Ht=Yt[2],Lt=Q(It,Nt,Ht),dt=Math.sqrt(1-Z),xt=tt(Lt,It,dt),Ot=tt(Lt,Nt,dt),jt=tt(Lt,Ht,dt),ie=Zt[0],le=Zt[1],Ve=Zt[2];return{xyzv:[[It,Nt,Ot],[Ot,xt,It],[Nt,Ht,jt],[jt,Ot,Nt],[Ht,It,xt],[xt,jt,Ht]],abc:[[ie,le,-1],[-1,-1,ie],[le,Ve,-1],[-1,-1,le],[Ve,ie,-1],[-1,-1,Ve]]}}function $(Yt,Zt){return Yt==="all"||Yt===null?!0:Yt.indexOf(Zt)>-1}function j(Yt,Zt){return Yt===null?Zt:Yt}function lt(Yt,Zt,It){et();var Nt=[Zt],Ht=[It];if(Z>=1)Nt=[Zt],Ht=[It];else if(Z>0){var Lt=ut(Zt,It);Nt=Lt.xyzv,Ht=Lt.abc}for(var dt=0;dt<Nt.length;dt++){Zt=Nt[dt],It=Ht[dt];for(var xt=[],Ot=0;Ot<3;Ot++){var jt=Zt[Ot][0],ie=Zt[Ot][1],le=Zt[Ot][2],Ve=Zt[Ot][3],je=It[Ot]>-1?It[Ot]:J(jt,ie,le);je>-1?xt[Ot]=je:xt[Ot]=ft(jt,ie,le,j(Yt,Ve))}ot(xt[0],xt[1],xt[2])}}function nt(Yt,Zt,It){var Nt=function(Ht,Lt,dt){lt(Yt,[Zt[Ht],Zt[Lt],Zt[dt]],[It[Ht],It[Lt],It[dt]])};Nt(0,1,2),Nt(2,3,0)}function ht(Yt,Zt,It){var Nt=function(Ht,Lt,dt){lt(Yt,[Zt[Ht],Zt[Lt],Zt[dt]],[It[Ht],It[Lt],It[dt]])};Nt(0,1,2),Nt(3,0,1),Nt(2,3,0),Nt(1,2,3)}function mt(Yt,Zt,It,Nt){var Ht=Yt[3];Ht<It&&(Ht=It),Ht>Nt&&(Ht=Nt);for(var Lt=(Yt[3]-Ht)/(Yt[3]-Zt[3]+1e-9),dt=[],xt=0;xt<4;xt++)dt[xt]=(1-Lt)*Yt[xt]+Lt*Zt[xt];return dt}function At(Yt,Zt,It){return Yt>=Zt&&Yt<=It}function bt(Yt){var Zt=.001*(V-F);return Yt>=F-Zt&&Yt<=V+Zt}function Pt(Yt){for(var Zt=[],It=0;It<4;It++){var Nt=Yt[It];Zt.push([f._x[Nt],f._y[Nt],f._z[Nt],f._value[Nt]])}return Zt}var _t=3;function Ut(Yt,Zt,It,Nt,Ht,Lt){Lt||(Lt=1),It=[-1,-1,-1];var dt=!1,xt=[At(Zt[0][3],Nt,Ht),At(Zt[1][3],Nt,Ht),At(Zt[2][3],Nt,Ht)];if(!xt[0]&&!xt[1]&&!xt[2])return!1;var Ot=function(ie,le,Ve){return bt(le[0][3])&&bt(le[1][3])&&bt(le[2][3])?(lt(ie,le,Ve),!0):Lt<_t?Ut(ie,le,Ve,F,V,++Lt):!1};if(xt[0]&&xt[1]&&xt[2])return Ot(Yt,Zt,It)||dt;var jt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ie){if(xt[ie[0]]&&xt[ie[1]]&&!xt[ie[2]]){var le=Zt[ie[0]],Ve=Zt[ie[1]],je=Zt[ie[2]],Te=mt(je,le,Nt,Ht),Le=mt(je,Ve,Nt,Ht);dt=Ot(Yt,[Le,Te,le],[-1,-1,It[ie[0]]])||dt,dt=Ot(Yt,[le,Ve,Le],[It[ie[0]],It[ie[1]],-1])||dt,jt=!0}}),jt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ie){if(xt[ie[0]]&&!xt[ie[1]]&&!xt[ie[2]]){var le=Zt[ie[0]],Ve=Zt[ie[1]],je=Zt[ie[2]],Te=mt(Ve,le,Nt,Ht),Le=mt(je,le,Nt,Ht);dt=Ot(Yt,[Le,Te,le],[-1,-1,It[ie[0]]])||dt,jt=!0}}),dt}function St(Yt,Zt,It,Nt){var Ht=!1,Lt=Pt(Zt),dt=[At(Lt[0][3],It,Nt),At(Lt[1][3],It,Nt),At(Lt[2][3],It,Nt),At(Lt[3][3],It,Nt)];if(!dt[0]&&!dt[1]&&!dt[2]&&!dt[3])return Ht;if(dt[0]&&dt[1]&&dt[2]&&dt[3])return i&&(Ht=ht(Yt,Lt,Zt)||Ht),Ht;var xt=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ot){if(dt[Ot[0]]&&dt[Ot[1]]&&dt[Ot[2]]&&!dt[Ot[3]]){var jt=Lt[Ot[0]],ie=Lt[Ot[1]],le=Lt[Ot[2]],Ve=Lt[Ot[3]];if(i)Ht=lt(Yt,[jt,ie,le],[Zt[Ot[0]],Zt[Ot[1]],Zt[Ot[2]]])||Ht;else{var je=mt(Ve,jt,It,Nt),Te=mt(Ve,ie,It,Nt),Le=mt(Ve,le,It,Nt);Ht=lt(null,[je,Te,Le],[-1,-1,-1])||Ht}xt=!0}}),xt||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ot){if(dt[Ot[0]]&&dt[Ot[1]]&&!dt[Ot[2]]&&!dt[Ot[3]]){var jt=Lt[Ot[0]],ie=Lt[Ot[1]],le=Lt[Ot[2]],Ve=Lt[Ot[3]],je=mt(le,jt,It,Nt),Te=mt(le,ie,It,Nt),Le=mt(Ve,ie,It,Nt),Ke=mt(Ve,jt,It,Nt);i?(Ht=lt(Yt,[jt,Ke,je],[Zt[Ot[0]],-1,-1])||Ht,Ht=lt(Yt,[ie,Te,Le],[Zt[Ot[1]],-1,-1])||Ht):Ht=nt(null,[je,Te,Le,Ke],[-1,-1,-1,-1])||Ht,xt=!0}}),xt)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ot){if(dt[Ot[0]]&&!dt[Ot[1]]&&!dt[Ot[2]]&&!dt[Ot[3]]){var jt=Lt[Ot[0]],ie=Lt[Ot[1]],le=Lt[Ot[2]],Ve=Lt[Ot[3]],je=mt(ie,jt,It,Nt),Te=mt(le,jt,It,Nt),Le=mt(Ve,jt,It,Nt);i?(Ht=lt(Yt,[jt,je,Te],[Zt[Ot[0]],-1,-1])||Ht,Ht=lt(Yt,[jt,Te,Le],[Zt[Ot[0]],-1,-1])||Ht,Ht=lt(Yt,[jt,Le,je],[Zt[Ot[0]],-1,-1])||Ht):Ht=lt(null,[je,Te,Le],[-1,-1,-1])||Ht,xt=!0}}),Ht}function Rt(Yt,Zt,It,Nt,Ht,Lt,dt,xt,Ot,jt,ie){var le=!1;return h&&($(Yt,"A")&&(le=St(null,[Zt,It,Nt,Lt],jt,ie)||le),$(Yt,"B")&&(le=St(null,[It,Nt,Ht,Ot],jt,ie)||le),$(Yt,"C")&&(le=St(null,[It,Lt,dt,Ot],jt,ie)||le),$(Yt,"D")&&(le=St(null,[Nt,Lt,xt,Ot],jt,ie)||le),$(Yt,"E")&&(le=St(null,[It,Nt,Lt,Ot],jt,ie)||le)),i&&(le=St(Yt,[It,Nt,Lt,Ot],jt,ie)||le),le}function Et(Yt,Zt,It,Nt,Ht,Lt,dt,xt){return[xt[0]===!0?!0:Ut(Yt,Pt([Zt,It,Nt]),[Zt,It,Nt],Lt,dt),xt[1]===!0?!0:Ut(Yt,Pt([Nt,Ht,Zt]),[Nt,Ht,Zt],Lt,dt)]}function zt(Yt,Zt,It,Nt,Ht,Lt,dt,xt,Ot){return xt?Et(Yt,Zt,It,Ht,Nt,Lt,dt,Ot):Et(Yt,It,Ht,Nt,Zt,Lt,dt,Ot)}function Ct(Yt,Zt,It,Nt,Ht,Lt,dt){var xt=!1,Ot,jt,ie,le,Ve=function(){xt=Ut(Yt,[Ot,jt,ie],[-1,-1,-1],Ht,Lt)||xt,xt=Ut(Yt,[ie,le,Ot],[-1,-1,-1],Ht,Lt)||xt},je=dt[0],Te=dt[1],Le=dt[2];return je&&(Ot=tt(Pt([z(Zt,It-0,Nt-0)])[0],Pt([z(Zt-1,It-0,Nt-0)])[0],je),jt=tt(Pt([z(Zt,It-0,Nt-1)])[0],Pt([z(Zt-1,It-0,Nt-1)])[0],je),ie=tt(Pt([z(Zt,It-1,Nt-1)])[0],Pt([z(Zt-1,It-1,Nt-1)])[0],je),le=tt(Pt([z(Zt,It-1,Nt-0)])[0],Pt([z(Zt-1,It-1,Nt-0)])[0],je),Ve()),Te&&(Ot=tt(Pt([z(Zt-0,It,Nt-0)])[0],Pt([z(Zt-0,It-1,Nt-0)])[0],Te),jt=tt(Pt([z(Zt-0,It,Nt-1)])[0],Pt([z(Zt-0,It-1,Nt-1)])[0],Te),ie=tt(Pt([z(Zt-1,It,Nt-1)])[0],Pt([z(Zt-1,It-1,Nt-1)])[0],Te),le=tt(Pt([z(Zt-1,It,Nt-0)])[0],Pt([z(Zt-1,It-1,Nt-0)])[0],Te),Ve()),Le&&(Ot=tt(Pt([z(Zt-0,It-0,Nt)])[0],Pt([z(Zt-0,It-0,Nt-1)])[0],Le),jt=tt(Pt([z(Zt-0,It-1,Nt)])[0],Pt([z(Zt-0,It-1,Nt-1)])[0],Le),ie=tt(Pt([z(Zt-1,It-1,Nt)])[0],Pt([z(Zt-1,It-1,Nt-1)])[0],Le),le=tt(Pt([z(Zt-1,It-0,Nt)])[0],Pt([z(Zt-1,It-0,Nt-1)])[0],Le),Ve()),xt}function Wt(Yt,Zt,It,Nt,Ht,Lt,dt,xt,Ot,jt,ie,le){var Ve=Yt;return le?(h&&Yt==="even"&&(Ve=null),Rt(Ve,Zt,It,Nt,Ht,Lt,dt,xt,Ot,jt,ie)):(h&&Yt==="odd"&&(Ve=null),Rt(Ve,Ot,xt,dt,Lt,Ht,Nt,It,Zt,jt,ie))}function Kt(Yt,Zt,It,Nt,Ht){for(var Lt=[],dt=0,xt=0;xt<Zt.length;xt++)for(var Ot=Zt[xt],jt=1;jt<C;jt++)for(var ie=1;ie<a;ie++)Lt.push(zt(Yt,z(Ot,ie-1,jt-1),z(Ot,ie-1,jt),z(Ot,ie,jt-1),z(Ot,ie,jt),It,Nt,(Ot+ie+jt)%2,Ht&&Ht[dt]?Ht[dt]:[])),dt++;return Lt}function oe(Yt,Zt,It,Nt,Ht){for(var Lt=[],dt=0,xt=0;xt<Zt.length;xt++)for(var Ot=Zt[xt],jt=1;jt<S;jt++)for(var ie=1;ie<C;ie++)Lt.push(zt(Yt,z(jt-1,Ot,ie-1),z(jt,Ot,ie-1),z(jt-1,Ot,ie),z(jt,Ot,ie),It,Nt,(jt+Ot+ie)%2,Ht&&Ht[dt]?Ht[dt]:[])),dt++;return Lt}function Jt(Yt,Zt,It,Nt,Ht){for(var Lt=[],dt=0,xt=0;xt<Zt.length;xt++)for(var Ot=Zt[xt],jt=1;jt<a;jt++)for(var ie=1;ie<S;ie++)Lt.push(zt(Yt,z(ie-1,jt-1,Ot),z(ie-1,jt,Ot),z(ie,jt-1,Ot),z(ie,jt,Ot),It,Nt,(ie+jt+Ot)%2,Ht&&Ht[dt]?Ht[dt]:[])),dt++;return Lt}function te(Yt,Zt,It){for(var Nt=1;Nt<C;Nt++)for(var Ht=1;Ht<a;Ht++)for(var Lt=1;Lt<S;Lt++)Wt(Yt,z(Lt-1,Ht-1,Nt-1),z(Lt-1,Ht-1,Nt),z(Lt-1,Ht,Nt-1),z(Lt-1,Ht,Nt),z(Lt,Ht-1,Nt-1),z(Lt,Ht-1,Nt),z(Lt,Ht,Nt-1),z(Lt,Ht,Nt),Zt,It,(Lt+Ht+Nt)%2)}function fe(Yt,Zt,It){i=!0,te(Yt,Zt,It),i=!1}function ve(Yt,Zt,It){h=!0,te(Yt,Zt,It),h=!1}function de(Yt,Zt,It,Nt,Ht,Lt){for(var dt=[],xt=0,Ot=0;Ot<Zt.length;Ot++)for(var jt=Zt[Ot],ie=1;ie<C;ie++)for(var le=1;le<a;le++)dt.push(Ct(Yt,jt,le,ie,It,Nt,Ht[Ot],Lt&&Lt[xt]?Lt[xt]:[])),xt++;return dt}function xe(Yt,Zt,It,Nt,Ht,Lt){for(var dt=[],xt=0,Ot=0;Ot<Zt.length;Ot++)for(var jt=Zt[Ot],ie=1;ie<S;ie++)for(var le=1;le<C;le++)dt.push(Ct(Yt,ie,jt,le,It,Nt,Ht[Ot],Lt&&Lt[xt]?Lt[xt]:[])),xt++;return dt}function Me(Yt,Zt,It,Nt,Ht,Lt){for(var dt=[],xt=0,Ot=0;Ot<Zt.length;Ot++)for(var jt=Zt[Ot],ie=1;ie<a;ie++)for(var le=1;le<S;le++)dt.push(Ct(Yt,le,ie,jt,It,Nt,Ht[Ot],Lt&&Lt[xt]?Lt[xt]:[])),xt++;return dt}function ne(Yt,Zt){for(var It=[],Nt=Yt;Nt<Zt;Nt++)It.push(Nt);return It}function kt(){for(var Yt=0;Yt<S;Yt++)for(var Zt=0;Zt<a;Zt++)for(var It=0;It<C;It++){var Nt=z(Yt,Zt,It);ft(f._x[Nt],f._y[Nt],f._z[Nt],f._value[Nt])}}function Gt(){it(),kt();var Yt=null;if(m&&T&&(q(T),fe(Yt,F,V)),c&&v){q(v);for(var Zt=f.surface.pattern,It=f.surface.count,Nt=0;Nt<It;Nt++){var Ht=It===1?.5:Nt/(It-1),Lt=(1-Ht)*F+Ht*V,dt=Math.abs(Lt-k),xt=Math.abs(Lt-U),Ot=dt>xt?[k,Lt]:[Lt,U];ve(Zt,Ot[0],Ot[1])}}var jt=[[Math.min(F,U),Math.max(F,U)],[Math.min(k,V),Math.max(k,V)]];["x","y","z"].forEach(function(ie){for(var le=[],Ve=0;Ve<jt.length;Ve++){var je=0,Te=jt[Ve][0],Le=jt[Ve][1],Ke=f.slices[ie];if(Ke.show&&Ke.fill){q(Ke.fill);var vr=[],ge=[],Xe=[];if(Ke.locations.length)for(var $e=0;$e<Ke.locations.length;$e++){var mr=g(Ke.locations[$e],ie==="x"?L:ie==="y"?x:E);mr.distRatio===0?vr.push(mr.id):mr.id>0&&(ge.push(mr.id),ie==="x"?Xe.push([mr.distRatio,0,0]):ie==="y"?Xe.push([0,mr.distRatio,0]):Xe.push([0,0,mr.distRatio]))}else ie==="x"?vr=ne(1,S-1):ie==="y"?vr=ne(1,a-1):vr=ne(1,C-1);ge.length>0&&(ie==="x"?le[je]=de(Yt,ge,Te,Le,Xe,le[je]):ie==="y"?le[je]=xe(Yt,ge,Te,Le,Xe,le[je]):le[je]=Me(Yt,ge,Te,Le,Xe,le[je]),je++),vr.length>0&&(ie==="x"?le[je]=Kt(Yt,vr,Te,Le,le[je]):ie==="y"?le[je]=oe(Yt,vr,Te,Le,le[je]):le[je]=Jt(Yt,vr,Te,Le,le[je]),je++)}var or=f.caps[ie];or.show&&or.fill&&(q(or.fill),ie==="x"?le[je]=Kt(Yt,[0,S-1],Te,Le,le[je]):ie==="y"?le[je]=oe(Yt,[0,a-1],Te,Le,le[je]):le[je]=Jt(Yt,[0,C-1],Te,Le,le[je]),je++)}}),p===0&&it(),f._meshX=N,f._meshY=O,f._meshZ=H,f._meshIntensity=X,f._Xs=L,f._Ys=x,f._Zs=E}return Gt(),f}function u(f,c){var m=f.glplot.gl,v=y({gl:m}),T=new r(f,v,c.uid);return v._trace=T,T.update(c),f.glplot.add(v),T}W.exports={findNearestOnAxis:g,generateIsoMeshes:n,createIsosurfaceTrace:u}},70548:function(W,G,t){var y=t(3400),D=t(24040),s=t(50048),P=t(27260);function M(g,r,e,o){function n(u,f){return y.coerce(g,r,s,u,f)}d(g,r,e,o,n)}function d(g,r,e,o,n){var u=n("isomin"),f=n("isomax");f!=null&&u!==void 0&&u!==null&&u>f&&(r.isomin=null,r.isomax=null);var c=n("x"),m=n("y"),v=n("z"),T=n("value");if(!c||!c.length||!m||!m.length||!v||!v.length||!T||!T.length){r.visible=!1;return}var h=D.getComponentMethod("calendars","handleTraceDefaults");h(g,r,["x","y","z"],o),n("valuehoverformat"),["x","y","z"].forEach(function(A){n(A+"hoverformat");var L="caps."+A,x=n(L+".show");x&&n(L+".fill");var E="slices."+A,S=n(E+".show");S&&(n(E+".fill"),n(E+".locations"))});var i=n("spaceframe.show");i&&n("spaceframe.fill");var p=n("surface.show");p&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var w=n("contour.show");w&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(A){n(A)}),P(g,r,o,n,{prefix:"",cLetter:"c"}),r._length=null}W.exports={supplyDefaults:M,supplyIsoDefaults:d}},6296:function(W,G,t){W.exports={attributes:t(50048),supplyDefaults:t(70548).supplyDefaults,calc:t(62624),colorbar:{min:"cmin",max:"cmax"},plot:t(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(W,G,t){var y=t(49084),D=t(29736).axisHoverFormat,s=t(21776).Ks,P=t(16716),M=t(45464),d=t(92880).extendFlat;W.exports=d({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:s({editType:"calc"}),xhoverformat:D("x"),yhoverformat:D("y"),zhoverformat:D("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},y("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:P.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:d({},P.contours.x.show,{}),color:P.contours.x.color,width:P.contours.x.width,editType:"calc"},lightposition:{x:d({},P.lightposition.x,{dflt:1e5}),y:d({},P.lightposition.y,{dflt:1e5}),z:d({},P.lightposition.z,{dflt:0}),editType:"calc"},lighting:d({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},P.lighting),hoverinfo:d({},M.hoverinfo,{editType:"calc"}),showlegend:d({},M.showlegend,{dflt:!1})})},1876:function(W,G,t){var y=t(47128);W.exports=function(s,P){P.intensity&&y(s,P,{vals:P.intensity,containerStr:"",cLetter:"c"})}},576:function(W,G,t){var y=t(67792).gl_mesh3d,D=t(67792).delaunay_triangulate,s=t(67792).alpha_shape,P=t(67792).convex_hull,M=t(33040).parseColorScale,d=t(3400).isArrayOrTypedArray,g=t(43080),r=t(8932).extractOpts,e=t(52094);function o(h,i,p){this.scene=h,this.uid=p,this.mesh=i,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=o.prototype;n.handlePick=function(h){if(h.object===this.mesh){var i=h.index=h.data.index;h.data._cellCenter?h.traceCoordinate=h.data.dataCoordinate:h.traceCoordinate=[this.data.x[i],this.data.y[i],this.data.z[i]];var p=this.data.hovertext||this.data.text;return d(p)&&p[i]!==void 0?h.textLabel=p[i]:p&&(h.textLabel=p),!0}};function u(h){for(var i=[],p=h.length,w=0;w<p;w++)i[w]=g(h[w]);return i}function f(h,i,p,w){for(var A=[],L=i.length,x=0;x<L;x++)A[x]=h.d2l(i[x],0,w)*p;return A}function c(h){for(var i=[],p=h.length,w=0;w<p;w++)i[w]=Math.round(h[w]);return i}function m(h,i){for(var p=["x","y","z"].indexOf(h),w=[],A=i.length,L=0;L<A;L++)w[L]=[i[L][(p+1)%3],i[L][(p+2)%3]];return D(w)}function v(h,i){for(var p=h.length,w=0;w<p;w++)if(h[w]<=-.5||h[w]>=i-.5)return!1;return!0}n.update=function(h){var i=this.scene,p=i.fullSceneLayout;this.data=h;var w=h.x.length,A=e(f(p.xaxis,h.x,i.dataScale[0],h.xcalendar),f(p.yaxis,h.y,i.dataScale[1],h.ycalendar),f(p.zaxis,h.z,i.dataScale[2],h.zcalendar)),L;if(h.i&&h.j&&h.k){if(h.i.length!==h.j.length||h.j.length!==h.k.length||!v(h.i,w)||!v(h.j,w)||!v(h.k,w))return;L=e(c(h.i),c(h.j),c(h.k))}else h.alphahull===0?L=P(A):h.alphahull>0?L=s(h.alphahull,A):L=m(h.delaunayaxis,A);var x={positions:A,cells:L,lightPosition:[h.lightposition.x,h.lightposition.y,h.lightposition.z],ambient:h.lighting.ambient,diffuse:h.lighting.diffuse,specular:h.lighting.specular,roughness:h.lighting.roughness,fresnel:h.lighting.fresnel,vertexNormalsEpsilon:h.lighting.vertexnormalsepsilon,faceNormalsEpsilon:h.lighting.facenormalsepsilon,opacity:h.opacity,contourEnable:h.contour.show,contourColor:g(h.contour.color).slice(0,3),contourWidth:h.contour.width,useFacetNormals:h.flatshading};if(h.intensity){var E=r(h);this.color="#fff";var S=h.intensitymode;x[S+"Intensity"]=h.intensity,x[S+"IntensityBounds"]=[E.min,E.max],x.colormap=M(h)}else h.vertexcolor?(this.color=h.vertexcolor[0],x.vertexColors=u(h.vertexcolor)):h.facecolor?(this.color=h.facecolor[0],x.cellColors=u(h.facecolor)):(this.color=h.color,x.meshColor=g(h.color));this.mesh.update(x)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(h,i){var p=h.glplot.gl,w=y({gl:p}),A=new o(h,w,i.uid);return w._trace=A,A.update(i),h.glplot.add(w),A}W.exports=T},74212:function(W,G,t){var y=t(24040),D=t(3400),s=t(27260),P=t(52948);W.exports=function(d,g,r,e){function o(m,v){return D.coerce(d,g,P,m,v)}function n(m){var v=m.map(function(T){var h=o(T);return h&&D.isArrayOrTypedArray(h)?h:null});return v.every(function(T){return T&&T.length===v[0].length})&&v}var u=n(["x","y","z"]);if(!u){g.visible=!1;return}if(n(["i","j","k"]),g.i&&(!g.j||!g.k)||g.j&&(!g.k||!g.i)||g.k&&(!g.i||!g.j)){g.visible=!1;return}var f=y.getComponentMethod("calendars","handleTraceDefaults");f(d,g,["x","y","z"],e),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){o(m)});var c=o("contour.show");c&&(o("contour.color"),o("contour.width")),"intensity"in d?(o("intensity"),o("intensitymode"),s(d,g,e,o,{prefix:"",cLetter:"c"})):(g.showscale=!1,"facecolor"in d?o("facecolor"):"vertexcolor"in d?o("vertexcolor"):o("color",r)),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),g._length=null}},7404:function(W,G,t){W.exports={attributes:t(52948),supplyDefaults:t(74212),calc:t(1876),colorbar:{min:"cmin",max:"cmax"},plot:t(576),moduleType:"trace",name:"mesh3d",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(W,G,t){var y=t(3400).extendFlat,D=t(52904),s=t(29736).axisHoverFormat,P=t(98192).u,M=t(55756),d=t(48164),g=d.INCREASING.COLOR,r=d.DECREASING.COLOR,e=D.line;function o(n){return{line:{color:y({},e.color,{dflt:n}),width:e.width,dash:P,editType:"style"},editType:"style"}}W.exports={xperiod:D.xperiod,xperiod0:D.xperiod0,xperiodalignment:D.xperiodalignment,xhoverformat:s("x"),yhoverformat:s("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:y({},e.width,{}),dash:y({},P,{}),editType:"style"},increasing:o(g),decreasing:o(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:y({},M.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:D.zorder}},42812:function(W,G,t){var y=t(3400),D=y._,s=t(54460),P=t(1220),M=t(39032).BADNUM;function d(o,n){var u=s.getFromId(o,n.xaxis),f=s.getFromId(o,n.yaxis),c=e(o,u,n),m=n._minDiff;n._minDiff=null;var v=n._origX;n._origX=null;var T=n._xcalc;n._xcalc=null;var h=r(o,n,v,T,f,g);return n._extremes[u._id]=s.findExtremes(u,T,{vpad:m/2}),h.length?(y.extendFlat(h[0].t,{wHover:m/2,tickLen:c}),h):[{t:{empty:!0}}]}function g(o,n,u,f){return{o,h:n,l:u,c:f}}function r(o,n,u,f,c,m){for(var v=c.makeCalcdata(n,"open"),T=c.makeCalcdata(n,"high"),h=c.makeCalcdata(n,"low"),i=c.makeCalcdata(n,"close"),p=y.isArrayOrTypedArray(n.text),w=y.isArrayOrTypedArray(n.hovertext),A=!0,L=null,x=!!n.xperiodalignment,E=[],S=0;S<f.length;S++){var a=f[S],C=v[S],b=T[S],z=h[S],k=i[S];if(a!==M&&C!==M&&b!==M&&z!==M&&k!==M){k===C?L!==null&&k!==L&&(A=k>L):A=k>C,L=k;var U=m(C,b,z,k);U.pos=a,U.yc=(C+k)/2,U.i=S,U.dir=A?"increasing":"decreasing",U.x=U.pos,U.y=[z,b],x&&(U.orig_p=u[S]),p&&(U.tx=n.text[S]),w&&(U.htx=n.hovertext[S]),E.push(U)}else E.push({pos:a,empty:!0})}return n._extremes[c._id]=s.findExtremes(c,y.concat(h,T),{padded:!0}),E.length&&(E[0].t={labels:{open:D(o,"open:")+" ",high:D(o,"high:")+" ",low:D(o,"low:")+" ",close:D(o,"close:")+" "}}),E}function e(o,n,u){var f=u._minDiff;if(!f){var c=o._fullData,m=[];f=1/0;var v;for(v=0;v<c.length;v++){var T=c[v];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===n._id){m.push(T);var h=n.makeCalcdata(T,"x");T._origX=h;var i=P(u,n,"x",h).vals;T._xcalc=i;var p=y.distinctVals(i).minDiff;p&&isFinite(p)&&(f=Math.min(f,p))}}for(f===1/0&&(f=1),v=0;v<m.length;v++)m[v]._minDiff=f}return f*u.tickwidth}W.exports={calc:d,calcCommon:r}},23860:function(W,G,t){var y=t(3400),D=t(52744),s=t(31147),P=t(20279);W.exports=function(g,r,e,o){function n(f,c){return y.coerce(g,r,P,f,c)}var u=D(g,r,n,o);if(!u){r.visible=!1;return}s(g,r,o,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),M(g,r,n,"increasing"),M(g,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),o._requestRangeslider[r.xaxis]=!0,n("zorder")};function M(d,g,r,e){r(e+".line.color"),r(e+".line.width",g.line.width),r(e+".line.dash",g.line.dash)}},18720:function(W,G,t){var y=t(54460),D=t(3400),s=t(93024),P=t(76308),M=t(3400).fillText,d=t(48164),g={increasing:d.INCREASING.SYMBOL,decreasing:d.DECREASING.SYMBOL};function r(u,f,c,m){var v=u.cd,T=v[0].trace;return T.hoverlabel.split?o(u,f,c,m):n(u,f,c,m)}function e(u,f,c,m){var v=u.cd,T=u.xa,h=v[0].trace,i=v[0].t,p=h.type,w=p==="ohlc"?"l":"min",A=p==="ohlc"?"h":"max",L,x,E=i.bPos||0,S=function(X){return X.pos+E-f},a=i.bdPos||i.tickLen,C=i.wHover,b=Math.min(1,a/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));L=u.maxHoverDistance-b,x=u.maxSpikeDistance-b;function z(X){var J=S(X);return s.inbox(J-C,J+C,L)}function k(X){var J=X[w],et=X[A];return J===et||s.inbox(J-c,et-c,L)}function U(X){return(z(X)+k(X))/2}var F=s.getDistanceFunction(m,z,k,U);if(s.getClosest(v,F,u),u.index===!1)return null;var V=v[u.index];if(V.empty)return null;var N=V.dir,O=h[N],H=O.line.color;return P.opacity(H)&&O.line.width?u.color=H:u.color=O.fillcolor,u.x0=T.c2p(V.pos+E-a,!0),u.x1=T.c2p(V.pos+E+a,!0),u.xLabelVal=V.orig_p!==void 0?V.orig_p:V.pos,u.spikeDistance=U(V)*x/L,u.xSpike=T.c2p(V.pos,!0),u}function o(u,f,c,m){var v=u.cd,T=u.ya,h=v[0].trace,i=v[0].t,p=[],w=e(u,f,c,m);if(!w)return[];var A=w.index,L=v[A],x=L.hi||h.hoverinfo,E=x.split("+"),S=x==="all",a=S||E.indexOf("y")!==-1;if(!a)return[];for(var C=["high","open","close","low"],b={},z=0;z<C.length;z++){var k=C[z],U=h[k][w.index],F=T.c2p(U,!0),V;U in b?(V=b[U],V.yLabel+="<br>"+i.labels[k]+y.hoverLabelText(T,U,h.yhoverformat)):(V=D.extendFlat({},w),V.y0=V.y1=F,V.yLabelVal=U,V.yLabel=i.labels[k]+y.hoverLabelText(T,U,h.yhoverformat),V.name="",p.push(V),b[U]=V)}return p}function n(u,f,c,m){var v=u.cd,T=u.ya,h=v[0].trace,i=v[0].t,p=e(u,f,c,m);if(!p)return[];var w=p.index,A=v[w],L=p.index=A.i,x=A.dir;function E(U){return i.labels[U]+y.hoverLabelText(T,h[U][L],h.yhoverformat)}var S=A.hi||h.hoverinfo,a=S.split("+"),C=S==="all",b=C||a.indexOf("y")!==-1,z=C||a.indexOf("text")!==-1,k=b?[E("open"),E("high"),E("low"),E("close")+"  "+g[x]]:[];return z&&M(A,h,k),p.extraText=k.join("<br>"),p.y0=p.y1=T.c2p(A.yc,!0),[p]}W.exports={hoverPoints:r,hoverSplit:o,hoverOnPoints:n}},65456:function(W,G,t){W.exports={moduleType:"trace",name:"ohlc",basePlotModule:t(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:t(20279),supplyDefaults:t(23860),calc:t(42812).calc,plot:t(36664),style:t(14008),hoverPoints:t(18720).hoverPoints,selectPoints:t(97384)}},52744:function(W,G,t){var y=t(24040),D=t(3400);W.exports=function(P,M,d,g){var r=d("x"),e=d("open"),o=d("high"),n=d("low"),u=d("close");d("hoverlabel.split");var f=y.getComponentMethod("calendars","handleTraceDefaults");if(f(P,M,["x"],g),!!(e&&o&&n&&u)){var c=Math.min(e.length,o.length,n.length,u.length);return r&&(c=Math.min(c,D.minRowLength(r))),M._length=c,c}}},36664:function(W,G,t){var y=t(33428),D=t(3400);W.exports=function(P,M,d,g){var r=M.yaxis,e=M.xaxis,o=!!e.rangebreaks;D.makeTraceGroups(g,d,"trace ohlc").each(function(n){var u=y.select(this),f=n[0],c=f.t,m=f.trace;if(m.visible!==!0||c.empty){u.remove();return}var v=c.tickLen,T=u.selectAll("path").data(D.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(h){if(h.empty)return"M0,0Z";var i=e.c2p(h.pos-v,!0),p=e.c2p(h.pos+v,!0),w=o?(i+p)/2:e.c2p(h.pos,!0),A=r.c2p(h.o,!0),L=r.c2p(h.h,!0),x=r.c2p(h.l,!0),E=r.c2p(h.c,!0);return"M"+i+","+A+"H"+w+"M"+w+","+L+"V"+x+"M"+p+","+E+"H"+w})})}},97384:function(W){W.exports=function(t,y){var D=t.cd,s=t.xaxis,P=t.yaxis,M=[],d,g=D[0].t.bPos||0;if(y===!1)for(d=0;d<D.length;d++)D[d].selected=0;else for(d=0;d<D.length;d++){var r=D[d];y.contains([s.c2p(r.pos+g),P.c2p(r.yc)],null,r.i,t)?(M.push({pointNumber:r.i,x:s.c2d(r.pos),y:P.c2d(r.yc)}),r.selected=1):r.selected=0}return M}},14008:function(W,G,t){var y=t(33428),D=t(43616),s=t(76308);W.exports=function(M,d,g){var r=g||y.select(M).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(e){return e[0].trace.opacity}),r.each(function(e){var o=e[0].trace;y.select(this).selectAll("path").each(function(n){if(!n.empty){var u=o[n.dir].line;y.select(this).style("fill","none").call(s.stroke,u.color).call(D.dashLine,u.dash,u.width).style("opacity",o.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(W,G,t){var y=t(92880).extendFlat,D=t(45464),s=t(25376),P=t(49084),M=t(21776).Ks,d=t(86968).u,g=y({editType:"calc"},P("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});W.exports={domain:d({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:y({},D.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:s({editType:"calc"}),tickfont:s({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:g,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(W,G,t){var y=t(84888)._M,D=t(60268),s="parcats";G.name=s,G.plot=function(P,M,d,g){var r=y(P.calcdata,s);if(r.length){var e=r[0];D(P,e,d,g)}},G.clean=function(P,M,d,g){var r=g._has&&g._has("parcats"),e=M._has&&M._has("parcats");r&&!e&&g._paperdiv.selectAll(".parcats").remove()}},69136:function(W,G,t){var y=t(71688).wrap,D=t(94288).hasColorscale,s=t(47128),P=t(68944),M=t(43616),d=t(3400),g=t(38248);W.exports=function(i,p){var w=d.filterVisible(p.dimensions);if(w.length===0)return[];var A=w.map(function(ot){var Q;if(ot.categoryorder==="trace")Q=null;else if(ot.categoryorder==="array")Q=ot.categoryarray;else{Q=P(ot.values);for(var tt=!0,Z=0;Z<Q.length;Z++)if(!g(Q[Z])){tt=!1;break}Q.sort(tt?d.sorterAsc:void 0),ot.categoryorder==="category descending"&&(Q=Q.reverse())}return c(ot.values,Q)}),L,x,E;d.isArrayOrTypedArray(p.counts)?L=p.counts:L=[p.counts],m(w),w.forEach(function(ot,Q){v(ot,A[Q])});var S=p.line,a;S?(D(p,"line")&&s(i,p,{vals:p.line.color,containerStr:"line",cLetter:"c"}),a=M.tryColorscale(S)):a=d.identity;function C(ot){var Q,tt;return d.isArrayOrTypedArray(S.color)?(Q=S.color[ot%S.color.length],tt=Q):Q=S.color,{color:a(Q),rawColor:tt}}var b=w[0].values.length,z={},k=A.map(function(ot){return ot.inds});E=0;var U,F;for(U=0;U<b;U++){var V=[];for(F=0;F<k.length;F++)V.push(k[F][U]);x=L[U%L.length],E+=x;var N=C(U),O=V+"-"+N.rawColor;z[O]===void 0&&(z[O]=u(V,N.color,N.rawColor)),f(z[O],U,x)}var H=w.map(function(ot,Q){return e(Q,ot._index,ot._displayindex,ot.label,E)});for(U=0;U<b;U++)for(x=L[U%L.length],F=0;F<H.length;F++){var X=H[F].containerInd,J=A[F].inds[U],et=H[F].categories;if(et[J]===void 0){var it=p.dimensions[X]._categoryarray[J],ft=p.dimensions[X]._ticktext[J];et[J]=o(F,J,it,ft)}n(et[J],U,x)}return y(r(H,z,E))};function r(h,i,p){var w=h.map(function(A){return A.categories.length}).reduce(function(A,L){return Math.max(A,L)});return{dimensions:h,paths:i,trace:void 0,maxCats:w,count:p}}function e(h,i,p,w,A){return{dimensionInd:h,containerInd:i,displayInd:p,dimensionLabel:w,count:A,categories:[],dragX:null}}function o(h,i,p,w){return{dimensionInd:h,categoryInd:i,categoryValue:p,displayInd:i,categoryLabel:w,valueInds:[],count:0,dragY:null}}function n(h,i,p){h.valueInds.push(i),h.count+=p}function u(h,i,p){return{categoryInds:h,color:i,rawColor:p,valueInds:[],count:0}}function f(h,i,p){h.valueInds.push(i),h.count+=p}function c(h,i){i==null?i=[]:i=i.map(function(a){return a});var p={},w={},A=[];i.forEach(function(a,C){p[a]=0,w[a]=C});for(var L=0;L<h.length;L++){var x=h[L],E;p[x]===void 0?(p[x]=1,E=i.push(x)-1,w[x]=E):(p[x]++,E=w[x]),A.push(E)}var S=i.map(function(a){return p[a]});return{uniqueValues:i,uniqueCounts:S,inds:A}}function m(h){var i=h.map(function(w){return w.displayindex}),p;if(T(i))for(p=0;p<h.length;p++)h[p]._displayindex=h[p].displayindex;else for(p=0;p<h.length;p++)h[p]._displayindex=p}function v(h,i){h._categoryarray=i.uniqueValues,h.ticktext===null||h.ticktext===void 0?h._ticktext=[]:h._ticktext=h.ticktext.slice();for(var p=h._ticktext.length;p<i.uniqueValues.length;p++)h._ticktext.push(i.uniqueValues[p])}function T(h){for(var i=new Array(h.length),p=0;p<h.length;p++){if(h[p]<0||h[p]>=h.length||i[h[p]]!==void 0)return!1;i[h[p]]=!0}return!0}},76671:function(W,G,t){var y=t(3400),D=t(94288).hasColorscale,s=t(27260),P=t(86968).Q,M=t(51272),d=t(72140),g=t(26284),r=t(38116).isTypedArraySpec;function e(n,u,f,c,m){m("line.shape"),m("line.hovertemplate");var v=m("line.color",c.colorway[0]);if(D(n,"line")&&y.isArrayOrTypedArray(v)){if(v.length)return m("line.colorscale"),s(n,u,c,m,{prefix:"line.",cLetter:"c"}),v.length;u.line.color=f}return 1/0}function o(n,u){function f(p,w){return y.coerce(n,u,d.dimensions,p,w)}var c=f("values"),m=f("visible");if(c&&c.length||(m=u.visible=!1),m){f("label"),f("displayindex",u._index);var v=n.categoryarray,T=y.isArrayOrTypedArray(v)&&v.length>0||r(v),h;T&&(h="array");var i=f("categoryorder",h);i==="array"?(f("categoryarray"),f("ticktext")):(delete n.categoryarray,delete n.ticktext),!T&&i==="array"&&(u.categoryorder="trace")}}W.exports=function(u,f,c,m){function v(p,w){return y.coerce(u,f,d,p,w)}var T=M(u,f,{name:"dimensions",handleItemDefaults:o}),h=e(u,f,c,m,v);P(f,m,v),(!Array.isArray(T)||!T.length)&&(f.visible=!1),g(f,T,"values",h),v("hoveron"),v("hovertemplate"),v("arrangement"),v("bundlecolors"),v("sortpaths"),v("counts");var i=m.font;y.coerceFont(v,"labelfont",i,{overrideDflt:{size:Math.round(i.size)}}),y.coerceFont(v,"tickfont",i,{autoShadowDflt:!0,overrideDflt:{size:Math.round(i.size/1.2)}})}},22020:function(W,G,t){W.exports={attributes:t(72140),supplyDefaults:t(76671),calc:t(69136),plot:t(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:t(91800),categories:["noOpacity"],meta:{}}},51036:function(W,G,t){var y=t(33428),D=t(67756).Gz,s=t(36424),P=t(93024),M=t(3400),d=M.strTranslate,g=t(43616),r=t(49760),e=t(72736);function o(Z,q,ut,$){var j=q._context.staticPlot,lt=Z.map(it.bind(0,q,ut)),nt=$.selectAll("g.parcatslayer").data([null]);nt.enter().append("g").attr("class","parcatslayer").style("pointer-events",j?"none":"all");var ht=nt.selectAll("g.trace.parcats").data(lt,n),mt=ht.enter().append("g").attr("class","trace parcats");ht.attr("transform",function(Ct){return d(Ct.x,Ct.y)}),mt.append("g").attr("class","paths");var At=ht.select("g.paths"),bt=At.selectAll("path.path").data(function(Ct){return Ct.paths},n);bt.attr("fill",function(Ct){return Ct.model.color});var Pt=bt.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ct){return Ct.model.color}).attr("fill-opacity",0);i(Pt),bt.attr("d",function(Ct){return Ct.svgD}),Pt.empty()||bt.sort(f),bt.exit().remove(),bt.on("mouseover",c).on("mouseout",m).on("click",h),mt.append("g").attr("class","dimensions");var _t=ht.select("g.dimensions"),Ut=_t.selectAll("g.dimension").data(function(Ct){return Ct.dimensions},n);Ut.enter().append("g").attr("class","dimension"),Ut.attr("transform",function(Ct){return d(Ct.x,0)}),Ut.exit().remove();var St=Ut.selectAll("g.category").data(function(Ct){return Ct.categories},n),Rt=St.enter().append("g").attr("class","category");St.attr("transform",function(Ct){return d(0,Ct.y)}),Rt.append("rect").attr("class","catrect").attr("pointer-events","none"),St.select("rect.catrect").attr("fill","none").attr("width",function(Ct){return Ct.width}).attr("height",function(Ct){return Ct.height}),A(Rt);var Et=St.selectAll("rect.bandrect").data(function(Ct){return Ct.bands},n);Et.each(function(){M.raiseToTop(this)}),Et.attr("fill",function(Ct){return Ct.color});var zt=Et.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ct){return Ct.color}).attr("fill-opacity",0);Et.attr("fill",function(Ct){return Ct.color}).attr("width",function(Ct){return Ct.width}).attr("height",function(Ct){return Ct.height}).attr("y",function(Ct){return Ct.y}).attr("cursor",function(Ct){return Ct.parcatsViewModel.arrangement==="fixed"?"default":Ct.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),x(zt),Et.exit().remove(),Rt.append("text").attr("class","catlabel").attr("pointer-events","none"),St.select("text.catlabel").attr("text-anchor",function(Ct){return u(Ct)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(Ct){return u(Ct)?Ct.width+5:-5}).attr("y",function(Ct){return Ct.height/2}).text(function(Ct){return Ct.model.categoryLabel}).each(function(Ct){g.font(y.select(this),Ct.parcatsViewModel.categorylabelfont),e.convertToTspans(y.select(this),q)}),Rt.append("text").attr("class","dimlabel"),St.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ct){return Ct.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ct){return Ct.width/2}).attr("y",-5).text(function(Ct,Wt){return Wt===0?Ct.parcatsViewModel.model.dimensions[Ct.model.dimensionInd].dimensionLabel:null}).each(function(Ct){g.font(y.select(this),Ct.parcatsViewModel.labelfont)}),St.selectAll("rect.bandrect").on("mouseover",F).on("mouseout",V),St.exit().remove(),Ut.call(y.behavior.drag().origin(function(Ct){return{x:Ct.x,y:0}}).on("dragstart",N).on("drag",O).on("dragend",H)),ht.each(function(Ct){Ct.traceSelection=y.select(this),Ct.pathSelection=y.select(this).selectAll("g.paths").selectAll("path.path"),Ct.dimensionSelection=y.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ht.exit().remove()}W.exports=function(Z,q,ut,$){o(ut,Z,$,q)};function n(Z){return Z.key}function u(Z){var q=Z.parcatsViewModel.dimensions.length,ut=Z.parcatsViewModel.dimensions[q-1].model.dimensionInd;return Z.model.dimensionInd===ut}function f(Z,q){return Z.model.rawColor>q.model.rawColor?1:Z.model.rawColor<q.model.rawColor?-1:0}function c(Z){if(!Z.parcatsViewModel.dragDimension&&Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){M.raiseToTop(this),p(y.select(this));var q=v(Z),ut=T(Z);if(Z.parcatsViewModel.graphDiv.emit("plotly_hover",{points:q,event:y.event,constraints:ut}),Z.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var $=y.mouse(this)[0],j=Z.parcatsViewModel.graphDiv,lt=Z.parcatsViewModel.trace,nt=j._fullLayout,ht=nt._paperdiv.node().getBoundingClientRect(),mt=Z.parcatsViewModel.graphDiv.getBoundingClientRect(),At,bt,Pt;for(Pt=0;Pt<Z.leftXs.length-1;Pt++)if(Z.leftXs[Pt]+Z.dimWidths[Pt]-2<=$&&$<=Z.leftXs[Pt+1]+2){var _t=Z.parcatsViewModel.dimensions[Pt],Ut=Z.parcatsViewModel.dimensions[Pt+1];At=(_t.x+_t.width+Ut.x)/2,bt=(Z.topYs[Pt]+Z.topYs[Pt+1]+Z.height)/2;break}var St=Z.parcatsViewModel.x+At,Rt=Z.parcatsViewModel.y+bt,Et=r.mostReadable(Z.model.color,["black","white"]),zt=Z.model.count,Ct=zt/Z.parcatsViewModel.model.count,Wt={countLabel:zt,probabilityLabel:Ct.toFixed(3)},Kt=[];Z.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Kt.push(["Count:",Wt.countLabel].join(" ")),Z.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Kt.push(["P:",Wt.probabilityLabel].join(" "));var oe=Kt.join("<br>"),Jt=y.mouse(j)[0];P.loneHover({trace:lt,x:St-ht.left+mt.left,y:Rt-ht.top+mt.top,text:oe,color:Z.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Et,idealAlign:Jt<St?"right":"left",hovertemplate:(lt.line||{}).hovertemplate,hovertemplateLabels:Wt,eventData:[{data:lt._input,fullData:lt,count:zt,probability:Ct}]},{container:nt._hoverlayer.node(),outerContainer:nt._paper.node(),gd:j})}}}function m(Z){if(!Z.parcatsViewModel.dragDimension&&(i(y.select(this)),P.loneUnhover(Z.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Z.parcatsViewModel.pathSelection.sort(f),Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var q=v(Z),ut=T(Z);Z.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:q,event:y.event,constraints:ut})}}function v(Z){for(var q=[],ut=X(Z.parcatsViewModel),$=0;$<Z.model.valueInds.length;$++){var j=Z.model.valueInds[$];q.push({curveNumber:ut,pointNumber:j})}return q}function T(Z){for(var q={},ut=Z.parcatsViewModel.model.dimensions,$=0;$<ut.length;$++){var j=ut[$],lt=j.categories[Z.model.categoryInds[$]];q[j.containerInd]=lt.categoryValue}return Z.model.rawColor!==void 0&&(q.color=Z.model.rawColor),q}function h(Z){if(Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=v(Z),ut=T(Z);Z.parcatsViewModel.graphDiv.emit("plotly_click",{points:q,event:y.event,constraints:ut})}}function i(Z){Z.attr("fill",function(q){return q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function p(Z){Z.attr("fill-opacity",.8).attr("stroke",function(q){return r.mostReadable(q.model.color,["black","white"])}).attr("stroke-width",.3)}function w(Z){Z.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function A(Z){Z.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function L(Z){Z.attr("stroke","black").attr("stroke-width",1.5)}function x(Z){Z.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(Z){var q=Z.parcatsViewModel.pathSelection,ut=Z.categoryViewModel.model.dimensionInd,$=Z.categoryViewModel.model.categoryInd;return q.filter(function(j){return j.model.categoryInds[ut]===$&&j.model.color===Z.color})}function S(Z){var q=y.select(Z.parentNode).selectAll("rect.bandrect");q.each(function(ut){var $=E(ut);p($),$.each(function(){M.raiseToTop(this)})}),w(y.select(Z.parentNode))}function a(Z){var q=y.select(Z).datum(),ut=E(q);p(ut),ut.each(function(){M.raiseToTop(this)}),y.select(Z.parentNode).selectAll("rect.bandrect").filter(function($){return $.color===q.color}).each(function(){M.raiseToTop(this),L(y.select(this))})}function C(Z,q,ut){var $=y.select(Z).datum(),j=$.categoryViewModel.model,lt=$.parcatsViewModel.graphDiv,nt=y.select(Z.parentNode).selectAll("rect.bandrect"),ht=[];nt.each(function(At){var bt=E(At);bt.each(function(Pt){Array.prototype.push.apply(ht,v(Pt))})});var mt={};mt[j.dimensionInd]=j.categoryValue,lt.emit(q,{points:ht,event:ut,constraints:mt})}function b(Z,q,ut){var $=y.select(Z).datum(),j=$.categoryViewModel.model,lt=$.parcatsViewModel.graphDiv,nt=E($),ht=[];nt.each(function(At){Array.prototype.push.apply(ht,v(At))});var mt={};mt[j.dimensionInd]=j.categoryValue,$.rawColor!==void 0&&(mt.color=$.rawColor),lt.emit(q,{points:ht,event:ut,constraints:mt})}function z(Z,q,ut){Z._fullLayout._calcInverseTransform(Z);var $=Z._fullLayout._invScaleX,j=Z._fullLayout._invScaleY,lt=y.select(ut.parentNode).select("rect.catrect"),nt=lt.node().getBoundingClientRect(),ht=lt.datum(),mt=ht.parcatsViewModel,At=mt.model.dimensions[ht.model.dimensionInd],bt=mt.trace,Pt=nt.top+nt.height/2,_t,Ut;mt.dimensions.length>1&&At.displayInd===mt.dimensions.length-1?(_t=nt.left,Ut="left"):(_t=nt.left+nt.width,Ut="right");var St=ht.model.count,Rt=ht.model.categoryLabel,Et=St/ht.parcatsViewModel.model.count,zt={countLabel:St,categoryLabel:Rt,probabilityLabel:Et.toFixed(3)},Ct=[];ht.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ct.push(["Count:",zt.countLabel].join(" ")),ht.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ct.push(["P("+zt.categoryLabel+"):",zt.probabilityLabel].join(" "));var Wt=Ct.join("<br>");return{trace:bt,x:$*(_t-q.left),y:j*(Pt-q.top),text:Wt,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ut,hovertemplate:bt.hovertemplate,hovertemplateLabels:zt,eventData:[{data:bt._input,fullData:bt,count:St,category:Rt,probability:Et}]}}function k(Z,q,ut){var $=[];return y.select(ut.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var j=this;$.push(z(Z,q,j))}),$}function U(Z,q,ut){Z._fullLayout._calcInverseTransform(Z);var $=Z._fullLayout._invScaleX,j=Z._fullLayout._invScaleY,lt=ut.getBoundingClientRect(),nt=y.select(ut).datum(),ht=nt.categoryViewModel,mt=ht.parcatsViewModel,At=mt.model.dimensions[ht.model.dimensionInd],bt=mt.trace,Pt=lt.y+lt.height/2,_t,Ut;mt.dimensions.length>1&&At.displayInd===mt.dimensions.length-1?(_t=lt.left,Ut="left"):(_t=lt.left+lt.width,Ut="right");var St=ht.model.categoryLabel,Rt=nt.parcatsViewModel.model.count,Et=0;nt.categoryViewModel.bands.forEach(function(de){de.color===nt.color&&(Et+=de.count)});var zt=ht.model.count,Ct=0;mt.pathSelection.each(function(de){de.model.color===nt.color&&(Ct+=de.model.count)});var Wt=Et/Rt,Kt=Et/Ct,oe=Et/zt,Jt={countLabel:Et,categoryLabel:St,probabilityLabel:Wt.toFixed(3)},te=[];ht.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&te.push(["Count:",Jt.countLabel].join(" ")),ht.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(te.push("P(color  "+St+"): "+Jt.probabilityLabel),te.push("P("+St+" | color): "+Kt.toFixed(3)),te.push("P(color | "+St+"): "+oe.toFixed(3)));var fe=te.join("<br>"),ve=r.mostReadable(nt.color,["black","white"]);return{trace:bt,x:$*(_t-q.left),y:j*(Pt-q.top),text:fe,color:nt.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ve,fontSize:10,idealAlign:Ut,hovertemplate:bt.hovertemplate,hovertemplateLabels:Jt,eventData:[{data:bt._input,fullData:bt,category:St,count:Rt,probability:Wt,categorycount:zt,colorcount:Ct,bandcolorcount:Et}]}}function F(Z){if(!Z.parcatsViewModel.dragDimension&&Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=y.mouse(this)[1];if(q<-1)return;var ut=Z.parcatsViewModel.graphDiv,$=ut._fullLayout,j=$._paperdiv.node().getBoundingClientRect(),lt=Z.parcatsViewModel.hoveron,nt=this;if(lt==="color"?(a(nt),b(nt,"plotly_hover",y.event)):(S(nt),C(nt,"plotly_hover",y.event)),Z.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ht;lt==="category"?ht=z(ut,j,nt):lt==="color"?ht=U(ut,j,nt):lt==="dimension"&&(ht=k(ut,j,nt)),ht&&P.loneHover(ht,{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:ut})}}}function V(Z){var q=Z.parcatsViewModel;if(!q.dragDimension&&(i(q.pathSelection),A(q.dimensionSelection.selectAll("g.category")),x(q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),P.loneUnhover(q.graphDiv._fullLayout._hoverlayer.node()),q.pathSelection.sort(f),q.hoverinfoItems.indexOf("skip")===-1)){var ut=Z.parcatsViewModel.hoveron,$=this;ut==="color"?b($,"plotly_unhover",y.event):C($,"plotly_unhover",y.event)}}function N(Z){Z.parcatsViewModel.arrangement!=="fixed"&&(Z.dragDimensionDisplayInd=Z.model.displayInd,Z.initialDragDimensionDisplayInds=Z.parcatsViewModel.model.dimensions.map(function(q){return q.displayInd}),Z.dragHasMoved=!1,Z.dragCategoryDisplayInd=null,y.select(this).selectAll("g.category").select("rect.catrect").each(function(q){var ut=y.mouse(this)[0],$=y.mouse(this)[1];-2<=ut&&ut<=q.width+2&&-2<=$&&$<=q.height+2&&(Z.dragCategoryDisplayInd=q.model.displayInd,Z.initialDragCategoryDisplayInds=Z.model.categories.map(function(j){return j.displayInd}),q.model.dragY=q.y,M.raiseToTop(this.parentNode),y.select(this.parentNode).selectAll("rect.bandrect").each(function(j){j.y<$&&$<=j.y+j.height&&(Z.potentialClickBand=this)}))}),Z.parcatsViewModel.dragDimension=Z,P.loneUnhover(Z.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O(Z){if(Z.parcatsViewModel.arrangement!=="fixed"&&(Z.dragHasMoved=!0,Z.dragDimensionDisplayInd!==null)){var q=Z.dragDimensionDisplayInd,ut=q-1,$=q+1,j=Z.parcatsViewModel.dimensions[q];if(Z.dragCategoryDisplayInd!==null){var lt=j.categories[Z.dragCategoryDisplayInd];lt.model.dragY+=y.event.dy;var nt=lt.model.dragY,ht=lt.model.displayInd,mt=j.categories,At=mt[ht-1],bt=mt[ht+1];At!==void 0&&nt<At.y+At.height/2&&(lt.model.displayInd=At.model.displayInd,At.model.displayInd=ht),bt!==void 0&&nt+lt.height>bt.y+bt.height/2&&(lt.model.displayInd=bt.model.displayInd,bt.model.displayInd=ht),Z.dragCategoryDisplayInd=lt.model.displayInd}if(Z.dragCategoryDisplayInd===null||Z.parcatsViewModel.arrangement==="freeform"){j.model.dragX=y.event.x;var Pt=Z.parcatsViewModel.dimensions[ut],_t=Z.parcatsViewModel.dimensions[$];Pt!==void 0&&j.model.dragX<Pt.x+Pt.width&&(j.model.displayInd=Pt.model.displayInd,Pt.model.displayInd=q),_t!==void 0&&j.model.dragX+j.width>_t.x&&(j.model.displayInd=_t.model.displayInd,_t.model.displayInd=Z.dragDimensionDisplayInd),Z.dragDimensionDisplayInd=j.model.displayInd}Q(Z.parcatsViewModel),ot(Z.parcatsViewModel),et(Z.parcatsViewModel),J(Z.parcatsViewModel)}}function H(Z){if(Z.parcatsViewModel.arrangement!=="fixed"&&Z.dragDimensionDisplayInd!==null){y.select(this).selectAll("text").attr("font-weight","normal");var q={},ut=X(Z.parcatsViewModel),$=Z.parcatsViewModel.model.dimensions.map(function(_t){return _t.displayInd}),j=Z.initialDragDimensionDisplayInds.some(function(_t,Ut){return _t!==$[Ut]});j&&$.forEach(function(_t,Ut){var St=Z.parcatsViewModel.model.dimensions[Ut].containerInd;q["dimensions["+St+"].displayindex"]=_t});var lt=!1;if(Z.dragCategoryDisplayInd!==null){var nt=Z.model.categories.map(function(_t){return _t.displayInd});if(lt=Z.initialDragCategoryDisplayInds.some(function(_t,Ut){return _t!==nt[Ut]}),lt){var ht=Z.model.categories.slice().sort(function(_t,Ut){return _t.displayInd-Ut.displayInd}),mt=ht.map(function(_t){return _t.categoryValue}),At=ht.map(function(_t){return _t.categoryLabel});q["dimensions["+Z.model.containerInd+"].categoryarray"]=[mt],q["dimensions["+Z.model.containerInd+"].ticktext"]=[At],q["dimensions["+Z.model.containerInd+"].categoryorder"]="array"}}if(Z.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Z.dragHasMoved&&Z.potentialClickBand&&(Z.parcatsViewModel.hoveron==="color"?b(Z.potentialClickBand,"plotly_click",y.event.sourceEvent):C(Z.potentialClickBand,"plotly_click",y.event.sourceEvent)),Z.model.dragX=null,Z.dragCategoryDisplayInd!==null){var bt=Z.parcatsViewModel.dimensions[Z.dragDimensionDisplayInd].categories[Z.dragCategoryDisplayInd];bt.model.dragY=null,Z.dragCategoryDisplayInd=null}Z.dragDimensionDisplayInd=null,Z.parcatsViewModel.dragDimension=null,Z.dragHasMoved=null,Z.potentialClickBand=null,Q(Z.parcatsViewModel),ot(Z.parcatsViewModel);var Pt=y.transition().duration(300).ease("cubic-in-out");Pt.each(function(){et(Z.parcatsViewModel,!0),J(Z.parcatsViewModel,!0)}).each("end",function(){(j||lt)&&s.restyle(Z.parcatsViewModel.graphDiv,q,[ut])})}}function X(Z){for(var q,ut=Z.graphDiv._fullData,$=0;$<ut.length;$++)if(Z.key===ut[$].uid){q=$;break}return q}function J(Z,q){q===void 0&&(q=!1);function ut($){return q?$.transition():$}Z.pathSelection.data(function($){return $.paths},n),ut(Z.pathSelection).attr("d",function($){return $.svgD})}function et(Z,q){q===void 0&&(q=!1);function ut(mt){return q?mt.transition():mt}Z.dimensionSelection.data(function(mt){return mt.dimensions},n);var $=Z.dimensionSelection.selectAll("g.category").data(function(mt){return mt.categories},n);ut(Z.dimensionSelection).attr("transform",function(mt){return d(mt.x,0)}),ut($).attr("transform",function(mt){return d(0,mt.y)});var j=$.select(".dimlabel");j.text(function(mt,At){return At===0?mt.parcatsViewModel.model.dimensions[mt.model.dimensionInd].dimensionLabel:null});var lt=$.select(".catlabel");lt.attr("text-anchor",function(mt){return u(mt)?"start":"end"}).attr("x",function(mt){return u(mt)?mt.width+5:-5}).each(function(mt){var At,bt;u(mt)?(At=mt.width+5,bt="start"):(At=-5,bt="end"),y.select(this).selectAll("tspan").attr("x",At).attr("text-anchor",bt)});var nt=$.selectAll("rect.bandrect").data(function(mt){return mt.bands},n),ht=nt.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(mt){return mt.color}).attr("fill-opacity",0);nt.attr("fill",function(mt){return mt.color}).attr("width",function(mt){return mt.width}).attr("height",function(mt){return mt.height}).attr("y",function(mt){return mt.y}),x(ht),nt.each(function(){M.raiseToTop(this)}),nt.exit().remove()}function it(Z,q,ut){var $=ut[0],j=q.margin||{l:80,r:80,t:100,b:80},lt=$.trace,nt=lt.domain,ht=q.width,mt=q.height,At=Math.floor(ht*(nt.x[1]-nt.x[0])),bt=Math.floor(mt*(nt.y[1]-nt.y[0])),Pt=nt.x[0]*ht+j.l,_t=q.height-nt.y[1]*q.height+j.t,Ut=lt.line.shape,St;lt.hoverinfo==="all"?St=["count","probability"]:St=(lt.hoverinfo||"").split("+");var Rt={trace:lt,key:lt.uid,model:$,x:Pt,y:_t,width:At,height:bt,hoveron:lt.hoveron,hoverinfoItems:St,arrangement:lt.arrangement,bundlecolors:lt.bundlecolors,sortpaths:lt.sortpaths,labelfont:lt.labelfont,categorylabelfont:lt.tickfont,pathShape:Ut,dragDimension:null,margin:j,paths:[],dimensions:[],graphDiv:Z,traceSelection:null,pathSelection:null,dimensionSelection:null};return $.dimensions&&(Q(Rt),ot(Rt)),Rt}function ft(Z,q,ut,$,j){var lt=[],nt=[],ht,mt;for(mt=0;mt<ut.length-1;mt++)ht=D(ut[mt]+Z[mt],Z[mt+1]),lt.push(ht(j)),nt.push(ht(1-j));var At="M "+Z[0]+","+q[0];for(At+="l"+ut[0]+",0 ",mt=1;mt<ut.length;mt++)At+="C"+lt[mt-1]+","+q[mt-1]+" "+nt[mt-1]+","+q[mt]+" "+Z[mt]+","+q[mt],At+="l"+ut[mt]+",0 ";for(At+="l0,"+$+" ",At+="l -"+ut[ut.length-1]+",0 ",mt=ut.length-2;mt>=0;mt--)At+="C"+nt[mt]+","+(q[mt+1]+$)+" "+lt[mt]+","+(q[mt]+$)+" "+(Z[mt]+ut[mt])+","+(q[mt]+$),At+="l-"+ut[mt]+",0 ";return At+="Z",At}function ot(Z){var q=Z.dimensions,ut=Z.model,$=q.map(function(ne){return ne.categories.map(function(kt){return kt.y})}),j=Z.model.dimensions.map(function(ne){return ne.categories.map(function(kt){return kt.displayInd})}),lt=Z.model.dimensions.map(function(ne){return ne.displayInd}),nt=Z.dimensions.map(function(ne){return ne.model.dimensionInd}),ht=q.map(function(ne){return ne.x}),mt=q.map(function(ne){return ne.width}),At=[];for(var bt in ut.paths)ut.paths.hasOwnProperty(bt)&&At.push(ut.paths[bt]);function Pt(ne){var kt=ne.categoryInds.map(function(Yt,Zt){return j[Zt][Yt]}),Gt=nt.map(function(Yt){return kt[Yt]});return Gt}At.sort(function(ne,kt){var Gt=Pt(ne),Yt=Pt(kt);return Z.sortpaths==="backward"&&(Gt.reverse(),Yt.reverse()),Gt.push(ne.valueInds[0]),Yt.push(kt.valueInds[0]),Z.bundlecolors&&(Gt.unshift(ne.rawColor),Yt.unshift(kt.rawColor)),Gt<Yt?-1:Gt>Yt?1:0});for(var _t=new Array(At.length),Ut=q[0].model.count,St=q[0].categories.map(function(ne){return ne.height}).reduce(function(ne,kt){return ne+kt}),Rt=0;Rt<At.length;Rt++){var Et=At[Rt],zt;Ut>0?zt=St*(Et.count/Ut):zt=0;for(var Ct=new Array($.length),Wt=0;Wt<Et.categoryInds.length;Wt++){var Kt=Et.categoryInds[Wt],oe=j[Wt][Kt],Jt=lt[Wt];Ct[Jt]=$[Jt][oe],$[Jt][oe]+=zt;var te=Z.dimensions[Jt].categories[oe],fe=te.bands.length,ve=te.bands[fe-1];if(ve===void 0||Et.rawColor!==ve.rawColor){var de=ve===void 0?0:ve.y+ve.height;te.bands.push({key:de,color:Et.color,rawColor:Et.rawColor,height:zt,width:te.width,count:Et.count,y:de,categoryViewModel:te,parcatsViewModel:Z})}else{var xe=te.bands[fe-1];xe.height+=zt,xe.count+=Et.count}}var Me;Z.pathShape==="hspline"?Me=ft(ht,Ct,mt,zt,.5):Me=ft(ht,Ct,mt,zt,0),_t[Rt]={key:Et.valueInds[0],model:Et,height:zt,leftXs:ht,topYs:Ct,dimWidths:mt,svgD:Me,parcatsViewModel:Z}}Z.paths=_t}function Q(Z){var q=Z.model.dimensions.map(function(nt){return{displayInd:nt.displayInd,dimensionInd:nt.dimensionInd}});q.sort(function(nt,ht){return nt.displayInd-ht.displayInd});var ut=[];for(var $ in q){var j=q[$].dimensionInd,lt=Z.model.dimensions[j];ut.push(tt(Z,lt))}Z.dimensions=ut}function tt(Z,q){var ut=40,$=16,j=Z.model.dimensions.length,lt=q.displayInd,nt,ht,mt;j>1?nt=(Z.width-2*ut-$)/(j-1):nt=0,ht=ut,mt=ht+nt*lt;var At=[],bt=Z.model.maxCats,Pt=q.categories.length,_t=8,Ut=q.count,St=Z.height-_t*(bt-1),Rt,Et,zt,Ct,Wt,Kt=(bt-Pt)*_t/2,oe=q.categories.map(function(Jt){return{displayInd:Jt.displayInd,categoryInd:Jt.categoryInd}});for(oe.sort(function(Jt,te){return Jt.displayInd-te.displayInd}),Wt=0;Wt<Pt;Wt++)Ct=oe[Wt].categoryInd,Et=q.categories[Ct],Ut>0?Rt=Et.count/Ut*St:Rt=0,zt={key:Et.valueInds[0],model:Et,width:$,height:Rt,y:Et.dragY!==null?Et.dragY:Kt,bands:[],parcatsViewModel:Z},Kt=Kt+Rt+_t,At.push(zt);return{key:q.dimensionInd,x:q.dragX!==null?q.dragX:mt,y:0,width:$,model:q,categories:At,parcatsViewModel:Z,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(W,G,t){var y=t(51036);W.exports=function(s,P,M,d){var g=s._fullLayout,r=g._paper,e=g._size;y(s,r,P,{width:e.w,height:e.h,margin:{t:e.t,r:e.r,b:e.b,l:e.l}},M,d)}},82296:function(W,G,t){var y=t(49084),D=t(94724),s=t(25376),P=t(86968).u,M=t(92880).extendFlat,d=t(31780).templatedArray;W.exports={domain:P({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:s({editType:"plot"}),tickfont:s({autoShadowDflt:!0,editType:"plot"}),rangefont:s({editType:"plot"}),dimensions:d("dimension",{label:{valType:"string",editType:"plot"},tickvals:M({},D.tickvals,{editType:"plot"}),ticktext:M({},D.ticktext,{editType:"plot"}),tickformat:M({},D.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:M({editType:"calc"},y("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(W,G,t){var y=t(30140),D=t(33428),s=t(71688).keyFun,P=t(71688).repeat,M=t(3400).sorterAsc,d=t(3400).strTranslate,g=y.bar.snapRatio;function r(H,X){return H*(1-g)+X*g}var e=y.bar.snapClose;function o(H,X){return H*(1-e)+X*e}function n(H,X,J,et){if(u(J,et))return J;var it=H?-1:1,ft=0,ot=X.length-1;if(it<0){var Q=ft;ft=ot,ot=Q}for(var tt=X[ft],Z=tt,q=ft;it*q<it*ot;q+=it){var ut=q+it,$=X[ut];if(it*J<it*o(tt,$))return r(tt,Z);if(it*J<it*$||ut===ot)return r($,tt);Z=tt,tt=$}}function u(H,X){for(var J=0;J<X.length;J++)if(H>=X[J][0]&&H<=X[J][1])return!0;return!1}function f(H){H.attr("x",-y.bar.captureWidth/2).attr("width",y.bar.captureWidth)}function c(H){H.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(H){if(!H.brush.filterSpecified)return"0,"+H.height;for(var X=v(H.brush.filter.getConsolidated(),H.height),J=[0],et,it,ft,ot=X.length?X[0][0]:null,Q=0;Q<X.length;Q++)et=X[Q],it=et[1]-et[0],J.push(ot),J.push(it),ft=Q+1,ft<X.length&&(ot=X[ft][0]-et[1]);return J.push(H.height),J}function v(H,X){return H.map(function(J){return J.map(function(et){return Math.max(0,et*X)}).sort(M)})}function T(H,X){var J=y.bar.handleHeight;if(!(X>H[1]+J||X<H[0]-J))return X>=.9*H[1]+.1*H[0]?"n":X<=.9*H[0]+.1*H[1]?"s":"ns"}function h(){D.select(document.body).style("cursor",null)}function i(H){H.attr("stroke-dasharray",m)}function p(H,X){var J=D.select(H).selectAll(".highlight, .highlight-shadow"),et=X?J.transition().duration(y.bar.snapDuration).each("end",X):J;i(et)}function w(H,X){var J=H.brush,et=J.filterSpecified,it=NaN,ft={},ot;if(et){var Q=H.height,tt=J.filter.getConsolidated(),Z=v(tt,Q),q=NaN,ut=NaN,$=NaN;for(ot=0;ot<=Z.length;ot++){var j=Z[ot];if(j&&j[0]<=X&&X<=j[1]){q=ot;break}else if(ut=ot?ot-1:NaN,j&&j[0]>X){$=ot;break}}if(it=q,isNaN(it)&&(isNaN(ut)||isNaN($)?it=isNaN(ut)?$:ut:it=X-Z[ut][1]<Z[$][0]-X?ut:$),!isNaN(it)){var lt=Z[it],nt=T(lt,X);nt&&(ft.interval=tt[it],ft.intervalPix=lt,ft.region=nt)}}if(H.ordinal&&!ft.region){var ht=H.unitTickvals,mt=H.unitToPaddedPx.invert(X);for(ot=0;ot<ht.length;ot++){var At=[ht[Math.max(ot-1,0)]*.25+ht[ot]*.75,ht[Math.min(ot+1,ht.length-1)]*.25+ht[ot]*.75];if(mt>=At[0]&&mt<=At[1]){ft.clickableOrdinalRange=At;break}}}return ft}function A(H,X){D.event.sourceEvent.stopPropagation();var J=X.height-D.mouse(H)[1]-2*y.verticalPadding,et=X.unitToPaddedPx.invert(J),it=X.brush,ft=w(X,J),ot=ft.interval,Q=it.svgBrush;if(Q.wasDragged=!1,Q.grabbingBar=ft.region==="ns",Q.grabbingBar){var tt=ot.map(X.unitToPaddedPx);Q.grabPoint=J-tt[0]-y.verticalPadding,Q.barLength=tt[1]-tt[0]}Q.clickableOrdinalRange=ft.clickableOrdinalRange,Q.stayingIntervals=X.multiselect&&it.filterSpecified?it.filter.getConsolidated():[],ot&&(Q.stayingIntervals=Q.stayingIntervals.filter(function(Z){return Z[0]!==ot[0]&&Z[1]!==ot[1]})),Q.startExtent=ft.region?ot[ft.region==="s"?1:0]:et,X.parent.inBrushDrag=!0,Q.brushStartCallback()}function L(H,X){D.event.sourceEvent.stopPropagation();var J=X.height-D.mouse(H)[1]-2*y.verticalPadding,et=X.brush.svgBrush;et.wasDragged=!0,et._dragging=!0,et.grabbingBar?et.newExtent=[J-et.grabPoint,J+et.barLength-et.grabPoint].map(X.unitToPaddedPx.invert):et.newExtent=[et.startExtent,X.unitToPaddedPx.invert(J)].sort(M),X.brush.filterSpecified=!0,et.extent=et.stayingIntervals.concat([et.newExtent]),et.brushCallback(X),p(H.parentNode)}function x(H,X){var J=X.brush,et=J.filter,it=J.svgBrush;it._dragging||(E(H,X),L(H,X),X.brush.svgBrush.wasDragged=!1),it._dragging=!1;var ft=D.event;ft.sourceEvent.stopPropagation();var ot=it.grabbingBar;if(it.grabbingBar=!1,it.grabLocation=void 0,X.parent.inBrushDrag=!1,h(),!it.wasDragged){it.wasDragged=void 0,it.clickableOrdinalRange?J.filterSpecified&&X.multiselect?it.extent.push(it.clickableOrdinalRange):(it.extent=[it.clickableOrdinalRange],J.filterSpecified=!0):ot?(it.extent=it.stayingIntervals,it.extent.length===0&&k(J)):k(J),it.brushCallback(X),p(H.parentNode),it.brushEndCallback(J.filterSpecified?et.getConsolidated():[]);return}var Q=function(){et.set(et.getConsolidated())};if(X.ordinal){var tt=X.unitTickvals;tt[tt.length-1]<tt[0]&&tt.reverse(),it.newExtent=[n(0,tt,it.newExtent[0],it.stayingIntervals),n(1,tt,it.newExtent[1],it.stayingIntervals)];var Z=it.newExtent[1]>it.newExtent[0];it.extent=it.stayingIntervals.concat(Z?[it.newExtent]:[]),it.extent.length||k(J),it.brushCallback(X),Z?p(H.parentNode,Q):(Q(),p(H.parentNode))}else Q();it.brushEndCallback(J.filterSpecified?et.getConsolidated():[])}function E(H,X){var J=X.height-D.mouse(H)[1]-2*y.verticalPadding,et=w(X,J),it="crosshair";et.clickableOrdinalRange?it="pointer":et.region&&(it=et.region+"-resize"),D.select(document.body).style("cursor",it)}function S(H){H.on("mousemove",function(X){D.event.preventDefault(),X.parent.inBrushDrag||E(this,X)}).on("mouseleave",function(X){X.parent.inBrushDrag||h()}).call(D.behavior.drag().on("dragstart",function(X){A(this,X)}).on("drag",function(X){L(this,X)}).on("dragend",function(X){x(this,X)}))}function a(H,X){return H[0]-X[0]}function C(H,X,J){var et=J._context.staticPlot,it=H.selectAll(".background").data(P);it.enter().append("rect").classed("background",!0).call(f).call(c).style("pointer-events",et?"none":"auto").attr("transform",d(0,y.verticalPadding)),it.call(S).attr("height",function(Q){return Q.height-y.verticalPadding});var ft=H.selectAll(".highlight-shadow").data(P);ft.enter().append("line").classed("highlight-shadow",!0).attr("x",-y.bar.width/2).attr("stroke-width",y.bar.width+y.bar.strokeWidth).attr("stroke",X).attr("opacity",y.bar.strokeOpacity).attr("stroke-linecap","butt"),ft.attr("y1",function(Q){return Q.height}).call(i);var ot=H.selectAll(".highlight").data(P);ot.enter().append("line").classed("highlight",!0).attr("x",-y.bar.width/2).attr("stroke-width",y.bar.width-y.bar.strokeWidth).attr("stroke",y.bar.fillColor).attr("opacity",y.bar.fillOpacity).attr("stroke-linecap","butt"),ot.attr("y1",function(Q){return Q.height}).call(i)}function b(H,X,J){var et=H.selectAll("."+y.cn.axisBrush).data(P,s);et.enter().append("g").classed(y.cn.axisBrush,!0),C(et,X,J)}function z(H){return H.svgBrush.extent.map(function(X){return X.slice()})}function k(H){H.filterSpecified=!1,H.svgBrush.extent=[[-1/0,1/0]]}function U(H){return function(J){var et=J.brush,it=z(et),ft=it.slice();et.filter.set(ft),H()}}function F(H){for(var X=H.slice(),J=[],et,it=X.shift();it;){for(et=it.slice();(it=X.shift())&&it[0]<=et[1];)et[1]=Math.max(et[1],it[1]);J.push(et)}return J.length===1&&J[0][0]>J[0][1]&&(J=[]),J}function V(){var H=[],X,J;return{set:function(et){H=et.map(function(it){return it.slice().sort(M)}).sort(a),H.length===1&&H[0][0]===-1/0&&H[0][1]===1/0&&(H=[[0,-1]]),X=F(H),J=H.reduce(function(it,ft){return[Math.min(it[0],ft[0]),Math.max(it[1],ft[1])]},[1/0,-1/0])},get:function(){return H.slice()},getConsolidated:function(){return X},getBounds:function(){return J}}}function N(H,X,J,et,it,ft){var ot=V();return ot.set(J),{filter:ot,filterSpecified:X,svgBrush:{extent:[],brushStartCallback:et,brushCallback:U(it),brushEndCallback:ft}}}function O(H,X){if(Array.isArray(H[0])?(H=H.map(function(et){return et.sort(M)}),X.multiselect?H=F(H.sort(a)):H=[H[0]]):H=[H.sort(M)],X.tickvals){var J=X.tickvals.slice().sort(M);if(H=H.map(function(et){var it=[n(0,J,et[0],[]),n(1,J,et[1],[])];if(it[1]>it[0])return it}).filter(function(et){return et}),!H.length)return}return H.length>1?H:H[0]}W.exports={makeBrush:N,ensureAxisBrush:b,cleanRanges:O}},61664:function(W,G,t){W.exports={attributes:t(82296),supplyDefaults:t(60664),calc:t(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:t(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(W,G,t){var y=t(33428),D=t(84888)._M,s=t(24196),P=t(9616);G.name="parcoords",G.plot=function(M){var d=D(M.calcdata,"parcoords")[0];d.length&&s(M,d)},G.clean=function(M,d,g,r){var e=r._has&&r._has("parcoords"),o=d._has&&d._has("parcoords");e&&!o&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},G.toSVG=function(M){var d=M._fullLayout._glimages,g=y.select(M).selectAll(".svg-container"),r=g.filter(function(o,n){return n===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function e(){var o=this,n=o.toDataURL("image/png"),u=d.append("svg:image");u.attr({xmlns:P.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}r.each(e),window.setTimeout(function(){y.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(W,G,t){var y=t(3400).isArrayOrTypedArray,D=t(8932),s=t(71688).wrap;W.exports=function(d,g){var r,e;return D.hasColorscale(g,"line")&&y(g.line.color)?(r=g.line.color,e=D.extractOpts(g.line).colorscale,D.calc(d,g,{vals:r,containerStr:"line",cLetter:"c"})):(r=P(g._length),e=[[0,g.line.color],[1,g.line.color]]),s({lineColor:r,cscale:e})};function P(M){for(var d=new Array(M),g=0;g<M;g++)d[g]=.5;return d}},30140:function(W){W.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(W,G,t){var y=t(3400),D=t(94288).hasColorscale,s=t(27260),P=t(86968).Q,M=t(51272),d=t(54460),g=t(82296),r=t(71864),e=t(30140).maxDimensionCount,o=t(26284);function n(f,c,m,v,T){var h=T("line.color",m);if(D(f,"line")&&y.isArrayOrTypedArray(h)){if(h.length)return T("line.colorscale"),s(f,c,v,T,{prefix:"line.",cLetter:"c"}),h.length;c.line.color=m}return 1/0}function u(f,c,m,v){function T(A,L){return y.coerce(f,c,g.dimensions,A,L)}var h=T("values"),i=T("visible");if(h&&h.length||(i=c.visible=!1),i){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var p=T("range");c._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},d.setConvert(c._ax,v.layout),T("multiselect");var w=T("constraintrange");w&&(c.constraintrange=r.cleanRanges(w,c))}}W.exports=function(c,m,v,T){function h(L,x){return y.coerce(c,m,g,L,x)}var i=c.dimensions;Array.isArray(i)&&i.length>e&&(y.log("parcoords traces support up to "+e+" dimensions at the moment"),i.splice(e));var p=M(c,m,{name:"dimensions",layout:T,handleItemDefaults:u}),w=n(c,m,v,T,h);P(m,T,h),(!Array.isArray(p)||!p.length)&&(m.visible=!1),o(m,p,"values",w);var A=y.extendFlat({},T.font,{size:Math.round(T.font.size/1.2)});y.coerceFont(h,"labelfont",A),y.coerceFont(h,"tickfont",A,{autoShadowDflt:!0}),y.coerceFont(h,"rangefont",A),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},95724:function(W,G,t){var y=t(3400).isTypedArray;G.convertTypedArray=function(D){return y(D)?Array.prototype.slice.call(D):D},G.isOrdinal=function(D){return!!D.tickvals},G.isVisible=function(D){return D.visible||!("visible"in D)}},29928:function(W,G,t){var y=t(61664);y.plot=t(24196),W.exports=y},51352:function(W,G,t){var y=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),D=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),s=t(30140).maxDimensionCount,P=t(3400),M=1e-6,d=2048,g=new Uint8Array(4),r=new Uint8Array(4),e={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function o(x){x.read({x:0,y:0,width:1,height:1,data:g})}function n(x,E,S,a,C){var b=x._gl;b.enable(b.SCISSOR_TEST),b.scissor(E,S,a,C),x.clear({color:[0,0,0,0],depth:1})}function u(x,E,S,a,C,b){var z=b.key;function k(U){var F=Math.min(a,C-U*a);U===0&&(window.cancelAnimationFrame(S.currentRafs[z]),delete S.currentRafs[z],n(x,b.scissorX,b.scissorY,b.scissorWidth,b.viewBoxSize[1])),!S.clearOnly&&(b.count=2*F,b.offset=2*U*a,E(b),U*a+F<C&&(S.currentRafs[z]=window.requestAnimationFrame(function(){k(U+1)})),S.drawCompleted=!1)}S.drawCompleted||(o(x),S.drawCompleted=!0),k(0)}function f(x){return Math.max(M,Math.min(1-M,x))}function c(x,E){for(var S=new Array(256),a=0;a<256;a++)S[a]=x(a/255).concat(E);return S}function m(x,E){return(x>>>8*E)%256/255}function v(x,E,S){for(var a=new Array(x*(s+4)),C=0,b=0;b<x;b++){for(var z=0;z<s;z++)a[C++]=z<E.length?E[z].paddedUnitValues[b]:.5;a[C++]=m(b,2),a[C++]=m(b,1),a[C++]=m(b,0),a[C++]=f(S[b])}return a}function T(x,E,S){for(var a=new Array(E*8),C=0,b=0;b<E;b++)for(var z=0;z<2;z++)for(var k=0;k<4;k++){var U=x*4+k,F=S[b*64+U];U===63&&z===0&&(F*=-1),a[C++]=F}return a}function h(x){var E="0"+x;return E.substr(E.length-2)}function i(x){return x<s?"p"+h(x+1)+"_"+h(x+4):"colors"}function p(x,E,S){for(var a=0;a<=s;a+=4)x[i(a)](T(a/4,E,S))}function w(x){for(var E={},S=0;S<=s;S+=4)E[i(S)]=x.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return E}function A(x,E,S,a,C,b,z,k,U,F,V,N,O,H){for(var X=[[],[]],J=0;J<64;J++)X[0][J]=J===C?1:0,X[1][J]=J===b?1:0;z*=H,k*=H,U*=H,F*=H;var et=x.lines.canvasOverdrag*H,it=x.domain,ft=x.canvasWidth*H,ot=x.canvasHeight*H,Q=x.pad.l*H,tt=x.pad.b*H,Z=x.layoutHeight*H,q=x.layoutWidth*H,ut=x.deselectedLines.color,$=x.deselectedLines.opacity,j=P.extendFlat({key:V,resolution:[ft,ot],viewBoxPos:[z+et,k],viewBoxSize:[U,F],i0:C,i1:b,dim0A:X[0].slice(0,16),dim0B:X[0].slice(16,32),dim0C:X[0].slice(32,48),dim0D:X[0].slice(48,64),dim1A:X[1].slice(0,16),dim1B:X[1].slice(16,32),dim1C:X[1].slice(32,48),dim1D:X[1].slice(48,64),drwLayer:N,contextColor:[ut[0]/255,ut[1]/255,ut[2]/255,$!=="auto"?ut[3]*$:Math.max(1/255,Math.pow(1/x.lines.color.length,1/3))],scissorX:(a===E?0:z+et)+(Q-et)+q*it.x[0],scissorWidth:(a===S?ft-z+et:U+.5)+(a===E?z+et:0),scissorY:k+tt+Z*it.y[0],scissorHeight:F,viewportX:Q-et+q*it.x[0],viewportY:tt+Z*it.y[0],viewportWidth:ft,viewportHeight:ot},O);return j}function L(x){var E=d-1,S=Math.max(0,Math.floor(x[0]*E),0),a=Math.min(E,Math.ceil(x[1]*E),E);return[Math.min(S,a),Math.max(S,a)]}W.exports=function(x,E){var S=E.context,a=E.pick,C=E.regl,b=C._gl,z=b.getParameter(b.ALIASED_LINE_WIDTH_RANGE),k=Math.max(z[0],Math.min(z[1],E.viewModel.plotGlPixelRatio)),U={currentRafs:{},drawCompleted:!0,clearOnly:!1},F,V,N,O,H=w(C),X,J=C.texture(e),et=[];ft(E);var it=C({profile:!1,blend:{enable:S,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!S,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:C.prop("scissorX"),y:C.prop("scissorY"),width:C.prop("scissorWidth"),height:C.prop("scissorHeight")}},viewport:{x:C.prop("viewportX"),y:C.prop("viewportY"),width:C.prop("viewportWidth"),height:C.prop("viewportHeight")},dither:!1,vert:y,frag:D,primitive:"lines",lineWidth:k,attributes:H,uniforms:{resolution:C.prop("resolution"),viewBoxPos:C.prop("viewBoxPos"),viewBoxSize:C.prop("viewBoxSize"),dim0A:C.prop("dim0A"),dim1A:C.prop("dim1A"),dim0B:C.prop("dim0B"),dim1B:C.prop("dim1B"),dim0C:C.prop("dim0C"),dim1C:C.prop("dim1C"),dim0D:C.prop("dim0D"),dim1D:C.prop("dim1D"),loA:C.prop("loA"),hiA:C.prop("hiA"),loB:C.prop("loB"),hiB:C.prop("hiB"),loC:C.prop("loC"),hiC:C.prop("hiC"),loD:C.prop("loD"),hiD:C.prop("hiD"),palette:J,contextColor:C.prop("contextColor"),maskTexture:C.prop("maskTexture"),drwLayer:C.prop("drwLayer"),maskHeight:C.prop("maskHeight")},offset:C.prop("offset"),count:C.prop("count")});function ft(ut){F=ut.model,V=ut.viewModel,N=V.dimensions.slice(),O=N[0]?N[0].values.length:0;var $=F.lines,j=a?$.color.map(function(nt,ht){return ht/$.color.length}):$.color,lt=v(O,N,j);p(H,O,lt),!S&&!a&&(J=C.texture(P.extendFlat({data:c(F.unitToColor,255)},e)))}function ot(ut){var $,j,lt,nt=[[],[]];for(lt=0;lt<64;lt++){var ht=!ut&&lt<N.length?N[lt].brush.filter.getBounds():[-1/0,1/0];nt[0][lt]=ht[0],nt[1][lt]=ht[1]}var mt=d*8,At=new Array(mt);for($=0;$<mt;$++)At[$]=255;if(!ut)for($=0;$<N.length;$++){var bt=$%8,Pt=($-bt)/8,_t=Math.pow(2,bt),Ut=N[$],St=Ut.brush.filter.get();if(!(St.length<2)){var Rt=L(St[0])[1];for(j=1;j<St.length;j++){var Et=L(St[j]);for(lt=Rt+1;lt<Et[0];lt++)At[lt*8+Pt]&=~_t;Rt=Math.max(Rt,Et[1])}}}var zt={shape:[8,d],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:At};return X?X(zt):X=C.texture(zt),{maskTexture:X,maskHeight:d,loA:nt[0].slice(0,16),loB:nt[0].slice(16,32),loC:nt[0].slice(32,48),loD:nt[0].slice(48,64),hiA:nt[1].slice(0,16),hiB:nt[1].slice(16,32),hiC:nt[1].slice(32,48),hiD:nt[1].slice(48,64)}}function Q(ut,$,j){var lt=ut.length,nt,ht,mt,At=1/0,bt=-1/0;for(nt=0;nt<lt;nt++)ut[nt].dim0.canvasX<At&&(At=ut[nt].dim0.canvasX,ht=nt),ut[nt].dim1.canvasX>bt&&(bt=ut[nt].dim1.canvasX,mt=nt);lt===0&&n(C,0,0,F.canvasWidth,F.canvasHeight);var Pt=ot(S);for(nt=0;nt<lt;nt++){var _t=ut[nt],Ut=_t.dim0.crossfilterDimensionIndex,St=_t.dim1.crossfilterDimensionIndex,Rt=_t.canvasX,Et=_t.canvasY,zt=Rt+_t.panelSizeX,Ct=_t.plotGlPixelRatio;if($||!et[Ut]||et[Ut][0]!==Rt||et[Ut][1]!==zt){et[Ut]=[Rt,zt];var Wt=A(F,ht,mt,nt,Ut,St,Rt,Et,_t.panelSizeX,_t.panelSizeY,_t.dim0.crossfilterDimensionIndex,S?0:a?2:1,Pt,Ct);U.clearOnly=j;var Kt=$?F.lines.blockLineCount:O;u(C,it,U,Kt,O,Wt)}}}function tt(ut,$){return C.read({x:ut,y:$,width:1,height:1,data:r}),r}function Z(ut,$,j,lt){var nt=new Uint8Array(4*j*lt);return C.read({x:ut,y:$,width:j,height:lt,data:nt}),nt}function q(){x.style["pointer-events"]="none",J.destroy(),X&&X.destroy();for(var ut in H)H[ut].destroy()}return{render:Q,readPixel:tt,readPixels:Z,destroy:q,update:ft}}},26284:function(W){W.exports=function(G,t,y,D){D||(D=1/0);var s,P;for(s=0;s<t.length;s++)P=t[s],P.visible&&(D=Math.min(D,P[y].length));for(D===1/0&&(D=0),G._length=D,s=0;s<t.length;s++)P=t[s],P.visible&&(P._length=D);return D}},36336:function(W,G,t){var y=t(33428),D=t(3400),s=D.isArrayOrTypedArray,P=D.numberFormat,M=t(96824),d=t(54460),g=D.strRotate,r=D.strTranslate,e=t(72736),o=t(43616),n=t(8932),u=t(71688),f=u.keyFun,c=u.repeat,m=u.unwrap,v=t(95724),T=t(30140),h=t(71864),i=t(51352);function p(et,it,ft){return D.aggNums(et,null,it,ft)}function w(et,it){return L(p(Math.min,et,it),p(Math.max,et,it))}function A(et){var it=et.range;return it?L(it[0],it[1]):w(et.values,et._length)}function L(et,it){return(isNaN(et)||!isFinite(et))&&(et=0),(isNaN(it)||!isFinite(it))&&(it=0),et===it&&(et===0?(et-=1,it+=1):(et*=.9,it*=1.1)),[et,it]}function x(et,it){return it?function(ft,ot){var Q=it[ot];return Q??et(ft)}:et}function E(et,it,ft,ot,Q){var tt=A(ft);return ot?y.scale.ordinal().domain(ot.map(x(P(ft.tickformat),Q))).range(ot.map(function(Z){var q=(Z-tt[0])/(tt[1]-tt[0]);return et-it+q*(2*it-et)})):y.scale.linear().domain(tt).range([et-it,it])}function S(et,it){return y.scale.linear().range([it,et-it])}function a(et,it){return y.scale.linear().domain(A(et)).range([it,1-it])}function C(et){if(et.tickvals){var it=A(et);return y.scale.ordinal().domain(et.tickvals).range(et.tickvals.map(function(ft){return(ft-it[0])/(it[1]-it[0])}))}}function b(et){var it=et.map(function(tt){return tt[0]}),ft=et.map(function(tt){var Z=M(tt[1]);return y.rgb("rgb("+Z[0]+","+Z[1]+","+Z[2]+")")}),ot=function(tt){return function(Z){return Z[tt]}},Q="rgb".split("").map(function(tt){return y.scale.linear().clamp(!0).domain(it).range(ft.map(ot(tt)))});return function(tt){return Q.map(function(Z){return Z(tt)})}}function z(et){return et.dimensions.some(function(it){return it.brush.filterSpecified})}function k(et,it,ft){var ot=m(it),Q=ot.trace,tt=v.convertTypedArray(ot.lineColor),Z=Q.line,q={color:M(Q.unselected.line.color),opacity:Q.unselected.line.opacity},ut=n.extractOpts(Z),$=ut.reversescale?n.flipScale(ot.cscale):ot.cscale,j=Q.domain,lt=Q.dimensions,nt=et.width,ht=Q.labelangle,mt=Q.labelside,At=Q.labelfont,bt=Q.tickfont,Pt=Q.rangefont,_t=D.extendDeepNoArrays({},Z,{color:tt.map(y.scale.linear().domain(A({values:tt,range:[ut.min,ut.max],_length:Q._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Ut=Math.floor(nt*(j.x[1]-j.x[0])),St=Math.floor(et.height*(j.y[1]-j.y[0])),Rt=et.margin||{l:80,r:80,t:100,b:80},Et=Ut,zt=St;return{key:ft,colCount:lt.filter(v.isVisible).length,dimensions:lt,tickDistance:T.tickDistance,unitToColor:b($),lines:_t,deselectedLines:q,labelAngle:ht,labelSide:mt,labelFont:At,tickFont:bt,rangeFont:Pt,layoutWidth:nt,layoutHeight:et.height,domain:j,translateX:j.x[0]*nt,translateY:et.height-j.y[1]*et.height,pad:Rt,canvasWidth:Et*T.canvasPixelRatio+2*_t.canvasOverdrag,canvasHeight:zt*T.canvasPixelRatio,width:Et,height:zt,canvasPixelRatio:T.canvasPixelRatio}}function U(et,it,ft){var ot=ft.width,Q=ft.height,tt=ft.dimensions,Z=ft.canvasPixelRatio,q=function(nt){return ot*nt/Math.max(1,ft.colCount-1)},ut=T.verticalPadding/Q,$=S(Q,T.verticalPadding),j={key:ft.key,xScale:q,model:ft,inBrushDrag:!1},lt={};return j.dimensions=tt.filter(v.isVisible).map(function(nt,ht){var mt=a(nt,ut),At=lt[nt.label];lt[nt.label]=(At||0)+1;var bt=nt.label+(At?"__"+At:""),Pt=nt.constraintrange,_t=Pt&&Pt.length;_t&&!s(Pt[0])&&(Pt=[Pt]);var Ut=_t?Pt.map(function(te){return te.map(mt)}):[[-1/0,1/0]],St=function(){var te=j;te.focusLayer&&te.focusLayer.render(te.panels,!0);var fe=z(te);!et.contextShown()&&fe?(te.contextLayer&&te.contextLayer.render(te.panels,!0),et.contextShown(!0)):et.contextShown()&&!fe&&(te.contextLayer&&te.contextLayer.render(te.panels,!0,!0),et.contextShown(!1))},Rt=nt.values;Rt.length>nt._length&&(Rt=Rt.slice(0,nt._length));var Et=nt.tickvals,zt;function Ct(te,fe){return{val:te,text:zt[fe]}}function Wt(te,fe){return te.val-fe.val}if(s(Et)&&Et.length){D.isTypedArray(Et)&&(Et=Array.from(Et)),zt=nt.ticktext,!s(zt)||!zt.length?zt=Et.map(P(nt.tickformat)):zt.length>Et.length?zt=zt.slice(0,Et.length):Et.length>zt.length&&(Et=Et.slice(0,zt.length));for(var Kt=1;Kt<Et.length;Kt++)if(Et[Kt]<Et[Kt-1]){for(var oe=Et.map(Ct).sort(Wt),Jt=0;Jt<Et.length;Jt++)Et[Jt]=oe[Jt].val,zt[Jt]=oe[Jt].text;break}}else Et=void 0;return Rt=v.convertTypedArray(Rt),{key:bt,label:nt.label,tickFormat:nt.tickformat,tickvals:Et,ticktext:zt,ordinal:v.isOrdinal(nt),multiselect:nt.multiselect,xIndex:ht,crossfilterDimensionIndex:ht,visibleIndex:nt._index,height:Q,values:Rt,paddedUnitValues:Rt.map(mt),unitTickvals:Et&&Et.map(mt),xScale:q,x:q(ht),canvasX:q(ht)*Z,unitToPaddedPx:$,domainScale:E(Q,T.verticalPadding,nt,Et,zt),ordinalScale:C(nt),parent:j,model:ft,brush:h.makeBrush(et,_t,Ut,function(){et.linePickActive(!1)},St,function(te){if(j.focusLayer.render(j.panels,!0),j.pickLayer&&j.pickLayer.render(j.panels,!0),et.linePickActive(!0),it&&it.filterChanged){var fe=mt.invert,ve=te.map(function(de){return de.map(fe).sort(D.sorterAsc)}).sort(function(de,xe){return de[0]-xe[0]});it.filterChanged(j.key,nt._index,ve)}})}}),j}function F(et){et.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function V(){var et=!0,it=!1;return{linePickActive:function(ft){return arguments.length?et=!!ft:et},contextShown:function(ft){return arguments.length?it=!!ft:it}}}function N(et,it){var ft=it==="top"?1:-1,ot=et*Math.PI/180,Q=Math.sin(ot),tt=Math.cos(ot);return{dir:ft,dx:Q,dy:tt,degrees:et}}function O(et,it,ft){for(var ot=it.panels||(it.panels=[]),Q=et.data(),tt=0;tt<Q.length-1;tt++){var Z=ot[tt]||(ot[tt]={}),q=Q[tt],ut=Q[tt+1];Z.dim0=q,Z.dim1=ut,Z.canvasX=q.canvasX,Z.panelSizeX=ut.canvasX-q.canvasX,Z.panelSizeY=it.model.canvasHeight,Z.y=0,Z.canvasY=0,Z.plotGlPixelRatio=ft}}function H(et){for(var it=0;it<et.length;it++)for(var ft=0;ft<et[it].length;ft++)for(var ot=et[it][ft].trace,Q=ot.dimensions,tt=0;tt<Q.length;tt++){var Z=Q[tt].values,q=Q[tt]._ax;q&&(q.range?q.range=L(q.range[0],q.range[1]):q.range=w(Z,ot._length),q.dtick||(q.dtick=.01*(Math.abs(q.range[1]-q.range[0])||1)),q.tickformat=Q[tt].tickformat,d.calcTicks(q),q.cleanRange())}}function X(et,it){return d.tickText(et._ax,it,!1).text}function J(et,it){if(et.ordinal)return"";var ft=et.domainScale.domain(),ot=ft[it?ft.length-1:0];return X(et.model.dimensions[et.visibleIndex],ot)}W.exports=function(it,ft,ot,Q){var tt=it._context.staticPlot,Z=it._fullLayout,q=Z._toppaper,ut=Z._glcontainer,$=it._context.plotGlPixelRatio,j=it._fullLayout.paper_bgcolor;H(ft);var lt=V(),nt=ft.filter(function(Jt){return m(Jt).trace.visible}).map(k.bind(0,ot)).map(U.bind(0,lt,Q));ut.each(function(Jt,te){return D.extendFlat(Jt,nt[te])});var ht=ut.selectAll(".gl-canvas").each(function(Jt){Jt.viewModel=nt[0],Jt.viewModel.plotGlPixelRatio=$,Jt.viewModel.paperColor=j,Jt.model=Jt.viewModel?Jt.viewModel.model:null}),mt=null,At=ht.filter(function(Jt){return Jt.pick});At.style("pointer-events",tt?"none":"auto").on("mousemove",function(Jt){if(lt.linePickActive()&&Jt.lineLayer&&Q&&Q.hover){var te=y.event,fe=this.width,ve=this.height,de=y.mouse(this),xe=de[0],Me=de[1];if(xe<0||Me<0||xe>=fe||Me>=ve)return;var ne=Jt.lineLayer.readPixel(xe,ve-1-Me),kt=ne[3]!==0,Gt=kt?ne[2]+256*(ne[1]+256*ne[0]):null,Yt={x:xe,y:Me,clientX:te.clientX,clientY:te.clientY,dataIndex:Jt.model.key,curveNumber:Gt};Gt!==mt&&(kt?Q.hover(Yt):Q.unhover&&Q.unhover(Yt),mt=Gt)}}),ht.style("opacity",function(Jt){return Jt.pick?0:1}),q.style("background","rgba(255, 255, 255, 0)");var bt=q.selectAll("."+T.cn.parcoords).data(nt,f);bt.exit().remove(),bt.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),bt.attr("transform",function(Jt){return r(Jt.model.translateX,Jt.model.translateY)});var Pt=bt.selectAll("."+T.cn.parcoordsControlView).data(c,f);Pt.enter().append("g").classed(T.cn.parcoordsControlView,!0),Pt.attr("transform",function(Jt){return r(Jt.model.pad.l,Jt.model.pad.t)});var _t=Pt.selectAll("."+T.cn.yAxis).data(function(Jt){return Jt.dimensions},f);_t.enter().append("g").classed(T.cn.yAxis,!0),Pt.each(function(Jt){O(_t,Jt,$)}),ht.each(function(Jt){if(Jt.viewModel){!Jt.lineLayer||Q?Jt.lineLayer=i(this,Jt):Jt.lineLayer.update(Jt),(Jt.key||Jt.key===0)&&(Jt.viewModel[Jt.key]=Jt.lineLayer);var te=!Jt.context||Q;Jt.lineLayer.render(Jt.viewModel.panels,te)}}),_t.attr("transform",function(Jt){return r(Jt.xScale(Jt.xIndex),0)}),_t.call(y.behavior.drag().origin(function(Jt){return Jt}).on("drag",function(Jt){var te=Jt.parent;lt.linePickActive(!1),Jt.x=Math.max(-T.overdrag,Math.min(Jt.model.width+T.overdrag,y.event.x)),Jt.canvasX=Jt.x*Jt.model.canvasPixelRatio,_t.sort(function(fe,ve){return fe.x-ve.x}).each(function(fe,ve){fe.xIndex=ve,fe.x=Jt===fe?fe.x:fe.xScale(fe.xIndex),fe.canvasX=fe.x*fe.model.canvasPixelRatio}),O(_t,te,$),_t.filter(function(fe){return Math.abs(Jt.xIndex-fe.xIndex)!==0}).attr("transform",function(fe){return r(fe.xScale(fe.xIndex),0)}),y.select(this).attr("transform",r(Jt.x,0)),_t.each(function(fe,ve,de){de===Jt.parent.key&&(te.dimensions[ve]=fe)}),te.contextLayer&&te.contextLayer.render(te.panels,!1,!z(te)),te.focusLayer.render&&te.focusLayer.render(te.panels)}).on("dragend",function(Jt){var te=Jt.parent;Jt.x=Jt.xScale(Jt.xIndex),Jt.canvasX=Jt.x*Jt.model.canvasPixelRatio,O(_t,te,$),y.select(this).attr("transform",function(fe){return r(fe.x,0)}),te.contextLayer&&te.contextLayer.render(te.panels,!1,!z(te)),te.focusLayer&&te.focusLayer.render(te.panels),te.pickLayer&&te.pickLayer.render(te.panels,!0),lt.linePickActive(!0),Q&&Q.axesMoved&&Q.axesMoved(te.key,te.dimensions.map(function(fe){return fe.crossfilterDimensionIndex}))})),_t.exit().remove();var Ut=_t.selectAll("."+T.cn.axisOverlays).data(c,f);Ut.enter().append("g").classed(T.cn.axisOverlays,!0),Ut.selectAll("."+T.cn.axis).remove();var St=Ut.selectAll("."+T.cn.axis).data(c,f);St.enter().append("g").classed(T.cn.axis,!0),St.each(function(Jt){var te=Jt.model.height/Jt.model.tickDistance,fe=Jt.domainScale,ve=fe.domain();y.select(this).call(y.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(te,Jt.tickFormat).tickValues(Jt.ordinal?ve:null).tickFormat(function(de){return v.isOrdinal(Jt)?de:X(Jt.model.dimensions[Jt.visibleIndex],de)}).scale(fe)),o.font(St.selectAll("text"),Jt.model.tickFont)}),St.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),St.selectAll("text").style("cursor","default");var Rt=Ut.selectAll("."+T.cn.axisHeading).data(c,f);Rt.enter().append("g").classed(T.cn.axisHeading,!0);var Et=Rt.selectAll("."+T.cn.axisTitle).data(c,f);Et.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",tt?"none":"auto"),Et.text(function(Jt){return Jt.label}).each(function(Jt){var te=y.select(this);o.font(te,Jt.model.labelFont),e.convertToTspans(te,it)}).attr("transform",function(Jt){var te=N(Jt.model.labelAngle,Jt.model.labelSide),fe=T.axisTitleOffset;return(te.dir>0?"":r(0,2*fe+Jt.model.height))+g(te.degrees)+r(-fe*te.dx,-fe*te.dy)}).attr("text-anchor",function(Jt){var te=N(Jt.model.labelAngle,Jt.model.labelSide),fe=Math.abs(te.dx),ve=Math.abs(te.dy);return 2*fe>ve?te.dir*te.dx<0?"start":"end":"middle"});var zt=Ut.selectAll("."+T.cn.axisExtent).data(c,f);zt.enter().append("g").classed(T.cn.axisExtent,!0);var Ct=zt.selectAll("."+T.cn.axisExtentTop).data(c,f);Ct.enter().append("g").classed(T.cn.axisExtentTop,!0),Ct.attr("transform",r(0,-T.axisExtentOffset));var Wt=Ct.selectAll("."+T.cn.axisExtentTopText).data(c,f);Wt.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(F),Wt.text(function(Jt){return J(Jt,!0)}).each(function(Jt){o.font(y.select(this),Jt.model.rangeFont)});var Kt=zt.selectAll("."+T.cn.axisExtentBottom).data(c,f);Kt.enter().append("g").classed(T.cn.axisExtentBottom,!0),Kt.attr("transform",function(Jt){return r(0,Jt.model.height+T.axisExtentOffset)});var oe=Kt.selectAll("."+T.cn.axisExtentBottomText).data(c,f);oe.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(F),oe.text(function(Jt){return J(Jt,!1)}).each(function(Jt){o.font(y.select(this),Jt.model.rangeFont)}),h.ensureAxisBrush(Ut,j,it)}},24196:function(W,G,t){var y=t(36336),D=t(5048),s=t(95724).isVisible,P={};function M(r,e,o){var n=e.indexOf(o),u=r.indexOf(n);return u===-1&&(u+=e.length),u}function d(r,e){return function(n,u){return M(r,e,n)-M(r,e,u)}}var g=W.exports=function(e,o){var n=e._fullLayout,u=D(e,[],P);if(u){var f={},c={},m={},v={},T=n._size;o.forEach(function(A,L){var x=A[0].trace;m[L]=x.index;var E=v[L]=x._fullInput.index;f[L]=e.data[E].dimensions,c[L]=e.data[E].dimensions.slice()});var h=function(A,L,x){var E=c[A][L],S=x.map(function(U){return U.slice()}),a="dimensions["+L+"].constraintrange",C=n._tracePreGUI[e._fullData[m[A]]._fullInput.uid];if(C[a]===void 0){var b=E.constraintrange;C[a]=b||null}var z=e._fullData[m[A]].dimensions[L];S.length?(S.length===1&&(S=S[0]),E.constraintrange=S,z.constraintrange=S.slice(),S=[S]):(delete E.constraintrange,delete z.constraintrange,S=null);var k={};k[a]=S,e.emit("plotly_restyle",[k,[v[A]]])},i=function(A){e.emit("plotly_hover",A)},p=function(A){e.emit("plotly_unhover",A)},w=function(A,L){var x=d(L,c[A].filter(s));f[A].sort(x),c[A].filter(function(E){return!s(E)}).sort(function(E){return c[A].indexOf(E)}).forEach(function(E){f[A].splice(f[A].indexOf(E),1),f[A].splice(c[A].indexOf(E),0,E)}),e.emit("plotly_restyle",[{dimensions:[f[A]]},[v[A]]])};y(e,o,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:h,hover:i,unhover:p,axesMoved:w})}};g.reglPrecompiled=P},74996:function(W,G,t){var y=t(45464),D=t(86968).u,s=t(25376),P=t(22548),M=t(21776).Ks,d=t(21776).Gw,g=t(92880).extendFlat,r=t(98192).c,e=s({editType:"plot",arrayOk:!0,colorEditType:"plot"});W.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:P.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:g({},y.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","percent","text"]}),texttemplate:d({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:g({},e,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:g({},e,{}),outsidetextfont:g({},e,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:g({},e,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:D({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:g({},e,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(W,G,t){var y=t(7316);G.name="pie",G.plot=function(D,s,P,M){y.plotBasePlot(G.name,D,s,P,M)},G.clean=function(D,s,P,M){y.cleanBasePlot(G.name,D,s,P,M)}},45768:function(W,G,t){var y=t(38248),D=t(49760),s=t(76308),P={};function M(e,o){var n=[],u=e._fullLayout,f=u.hiddenlabels||[],c=o.labels,m=o.marker.colors||[],v=o.values,T=o._length,h=o._hasValues&&T,i,p;if(o.dlabel)for(c=new Array(T),i=0;i<T;i++)c[i]=String(o.label0+i*o.dlabel);var w={},A=d(u["_"+o.type+"colormap"]),L=0,x=!1;for(i=0;i<T;i++){var E,S,a;if(h){if(E=v[i],!y(E))continue;E=+E}else E=1;S=c[i],(S===void 0||S==="")&&(S=i),S=String(S);var C=w[S];C===void 0?(w[S]=n.length,a=f.indexOf(S)!==-1,a||(L+=E),n.push({v:E,label:S,color:A(m[i],S),i,pts:[i],hidden:a})):(x=!0,p=n[C],p.v+=E,p.pts.push(i),p.hidden||(L+=E),p.color===!1&&m[i]&&(p.color=A(m[i],S)))}n=n.filter(function(z){return z.v>=0});var b=o.type==="funnelarea"?x:o.sort;return b&&n.sort(function(z,k){return k.v-z.v}),n[0]&&(n[0].vTotal=L),n}function d(e){return function(n,u){return!n||(n=D(n),!n.isValid())?!1:(n=s.addOpacity(n,n.getAlpha()),e[u]||(e[u]=n),n)}}function g(e,o){var n=(o||{}).type;n||(n="pie");var u=e._fullLayout,f=e.calcdata,c=u[n+"colorway"],m=u["_"+n+"colormap"];u["extend"+n+"colors"]&&(c=r(c,P));for(var v=0,T=0;T<f.length;T++){var h=f[T],i=h[0].trace.type;if(i===n)for(var p=0;p<h.length;p++){var w=h[p];w.color===!1&&(m[w.label]?w.color=m[w.label]:(m[w.label]=w.color=c[v%c.length],v++))}}}function r(e,o){var n,u=JSON.stringify(e),f=o[u];if(!f){for(f=e.slice(),n=0;n<e.length;n++)f.push(D(e[n]).lighten(20).toHexString());for(n=0;n<e.length;n++)f.push(D(e[n]).darken(20).toHexString());o[u]=f}return f}W.exports={calc:M,crossTraceCalc:g,makePullColorFn:d,generateExtendedColors:r}},74174:function(W,G,t){var y=t(38248),D=t(3400),s=t(74996),P=t(86968).Q,M=t(31508).handleText,d=t(3400).coercePattern;function g(o,n){var u=D.isArrayOrTypedArray(o),f=D.isArrayOrTypedArray(n),c=Math.min(u?o.length:1/0,f?n.length:1/0);if(isFinite(c)||(c=0),c&&f){for(var m,v=0;v<c;v++){var T=n[v];if(y(T)&&T>0){m=!0;break}}m||(c=0)}return{hasLabels:u,hasValues:f,len:c}}function r(o,n,u,f,c){var m=f("marker.line.width");m&&f("marker.line.color",c?void 0:u.paper_bgcolor);var v=f("marker.colors");d(f,"marker.pattern",v),o.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=o.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=u.paper_bgcolor)}function e(o,n,u,f){function c(C,b){return D.coerce(o,n,s,C,b)}var m=c("labels"),v=c("values"),T=g(m,v),h=T.len;if(n._hasLabels=T.hasLabels,n._hasValues=T.hasValues,!n._hasLabels&&n._hasValues&&(c("label0"),c("dlabel")),!h){n.visible=!1;return}n._length=h,r(o,n,f,c,!0),c("scalegroup");var i=c("text"),p=c("texttemplate"),w;if(p||(w=c("textinfo",D.isArrayOrTypedArray(i)?"text+percent":"percent")),c("hovertext"),c("hovertemplate"),p||w&&w!=="none"){var A=c("textposition");M(o,n,f,c,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var L=Array.isArray(A)||A==="auto",x=L||A==="outside";x&&c("automargin"),(A==="inside"||A==="auto"||Array.isArray(A))&&c("insidetextorientation")}else w==="none"&&c("textposition","none");P(n,f,c);var E=c("hole"),S=c("title.text");if(S){var a=c("title.position",E?"middle center":"top center");!E&&a==="middle center"&&(n.title.position="top center"),D.coerceFont(c,"title.font",f.font)}c("sort"),c("direction"),c("rotation"),c("pull")}W.exports={handleLabelsAndValues:g,handleMarkerDefaults:r,supplyDefaults:e}},53644:function(W,G,t){var y=t(10624).appendArrayMultiPointValues;W.exports=function(s,P){var M={curveNumber:P.index,pointNumbers:s.pts,data:P._input,fullData:P,label:s.label,color:s.color,value:s.v,percent:s.percent,text:s.text,bbox:s.bbox,v:s.v};return s.pts.length===1&&(M.pointNumber=M.i=s.pts[0]),y(M,P,s.pts),P.type==="funnelarea"&&(delete M.v,delete M.i),M}},21552:function(W,G,t){var y=t(43616),D=t(76308);W.exports=function(P,M,d,g){var r=d.marker.pattern;r&&r.shape?y.pointStyle(P,d,g,M):D.fill(P,M.color)}},69656:function(W,G,t){var y=t(3400);function D(s){return s.indexOf("e")!==-1?s.replace(/[.]?0+e/,"e"):s.indexOf(".")!==-1?s.replace(/[.]?0+$/,""):s}G.formatPiePercent=function(P,M){var d=D((P*100).toPrecision(3));return y.numSeparate(d,M)+"%"},G.formatPieValue=function(P,M){var d=D(P.toPrecision(10));return y.numSeparate(d,M)},G.getFirstFilled=function(P,M){if(y.isArrayOrTypedArray(P))for(var d=0;d<M.length;d++){var g=P[M[d]];if(g||g===0||g==="")return g}},G.castOption=function(P,M){if(y.isArrayOrTypedArray(P))return G.getFirstFilled(P,M);if(P)return P},G.getRotationAngle=function(s){return(s==="auto"?0:s)*Math.PI/180}},75792:function(W,G,t){W.exports={attributes:t(74996),supplyDefaults:t(74174).supplyDefaults,supplyLayoutDefaults:t(90248),layoutAttributes:t(85204),calc:t(45768).calc,crossTraceCalc:t(45768).crossTraceCalc,plot:t(37820).plot,style:t(22152),styleOne:t(10528),moduleType:"trace",name:"pie",basePlotModule:t(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(W){W.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(W,G,t){var y=t(3400),D=t(85204);W.exports=function(P,M){function d(g,r){return y.coerce(P,M,D,g,r)}d("hiddenlabels"),d("piecolorway",M.colorway),d("extendpiecolors")}},37820:function(W,G,t){var y=t(33428),D=t(7316),s=t(93024),P=t(76308),M=t(43616),d=t(3400),g=d.strScale,r=d.strTranslate,e=t(72736),o=t(82744),n=o.recordMinTextSize,u=o.clearMinTextSize,f=t(78048).TEXTPAD,c=t(69656),m=t(53644),v=t(3400).isValidTextValue;function T(Q,tt){var Z=Q._context.staticPlot,q=Q._fullLayout,ut=q._size;u("pie",q),A(tt,Q),X(tt,ut);var $=d.makeTraceGroups(q._pielayer,tt,"trace").each(function(j){var lt=y.select(this),nt=j[0],ht=nt.trace;et(j),lt.attr("stroke-linejoin","round"),lt.each(function(){var mt=y.select(this).selectAll("g.slice").data(j);mt.enter().append("g").classed("slice",!0),mt.exit().remove();var At=[[[],[]],[[],[]]],bt=!1;mt.each(function(Ct,Wt){if(Ct.hidden){y.select(this).selectAll("path,g").remove();return}Ct.pointNumber=Ct.i,Ct.curveNumber=ht.index,At[Ct.pxmid[1]<0?0:1][Ct.pxmid[0]<0?0:1].push(Ct);var Kt=nt.cx,oe=nt.cy,Jt=y.select(this),te=Jt.selectAll("path.surface").data([Ct]);if(te.enter().append("path").classed("surface",!0).style({"pointer-events":Z?"none":"all"}),Jt.call(i,Q,j),ht.pull){var fe=+c.castOption(ht.pull,Ct.pts)||0;fe>0&&(Kt+=fe*Ct.pxmid[0],oe+=fe*Ct.pxmid[1])}Ct.cxFinal=Kt,Ct.cyFinal=oe;function ve(Yt,Zt,It,Nt){var Ht=Nt*(Zt[0]-Yt[0]),Lt=Nt*(Zt[1]-Yt[1]);return"a"+Nt*nt.r+","+Nt*nt.r+" 0 "+Ct.largeArc+(It?" 1 ":" 0 ")+Ht+","+Lt}var de=ht.hole;if(Ct.v===nt.vTotal){var xe="M"+(Kt+Ct.px0[0])+","+(oe+Ct.px0[1])+ve(Ct.px0,Ct.pxmid,!0,1)+ve(Ct.pxmid,Ct.px0,!0,1)+"Z";de?te.attr("d","M"+(Kt+de*Ct.px0[0])+","+(oe+de*Ct.px0[1])+ve(Ct.px0,Ct.pxmid,!1,de)+ve(Ct.pxmid,Ct.px0,!1,de)+"Z"+xe):te.attr("d",xe)}else{var Me=ve(Ct.px0,Ct.px1,!0,1);if(de){var ne=1-de;te.attr("d","M"+(Kt+de*Ct.px1[0])+","+(oe+de*Ct.px1[1])+ve(Ct.px1,Ct.px0,!1,de)+"l"+ne*Ct.px0[0]+","+ne*Ct.px0[1]+Me+"Z")}else te.attr("d","M"+Kt+","+oe+"l"+Ct.px0[0]+","+Ct.px0[1]+Me+"Z")}ft(Q,Ct,nt);var kt=c.castOption(ht.textposition,Ct.pts),Gt=Jt.selectAll("g.slicetext").data(Ct.text&&kt!=="none"?[0]:[]);Gt.enter().append("g").classed("slicetext",!0),Gt.exit().remove(),Gt.each(function(){var Yt=d.ensureSingle(y.select(this),"text","",function(Ot){Ot.attr("data-notex",1)}),Zt=d.ensureUniformFontSize(Q,kt==="outside"?p(ht,Ct,q.font):w(ht,Ct,q.font));Yt.text(Ct.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(M.font,Zt).call(e.convertToTspans,Q);var It=M.bBox(Yt.node()),Nt;if(kt==="outside")Nt=k(It,Ct);else if(Nt=L(It,Ct,nt),kt==="auto"&&Nt.scale<1){var Ht=d.ensureUniformFontSize(Q,ht.outsidetextfont);Yt.call(M.font,Ht),It=M.bBox(Yt.node()),Nt=k(It,Ct)}var Lt=Nt.textPosAngle,dt=Lt===void 0?Ct.pxmid:it(nt.r,Lt);if(Nt.targetX=Kt+dt[0]*Nt.rCenter+(Nt.x||0),Nt.targetY=oe+dt[1]*Nt.rCenter+(Nt.y||0),ot(Nt,It),Nt.outside){var xt=Nt.targetY;Ct.yLabelMin=xt-It.height/2,Ct.yLabelMid=xt,Ct.yLabelMax=xt+It.height/2,Ct.labelExtraX=0,Ct.labelExtraY=0,bt=!0}Nt.fontSize=Zt.size,n(ht.type,Nt,q),j[Wt].transform=Nt,d.setTransormAndDisplay(Yt,Nt)})});var Pt=y.select(this).selectAll("g.titletext").data(ht.title.text?[0]:[]);if(Pt.enter().append("g").classed("titletext",!0),Pt.exit().remove(),Pt.each(function(){var Ct=d.ensureSingle(y.select(this),"text","",function(oe){oe.attr("data-notex",1)}),Wt=ht.title.text;ht._meta&&(Wt=d.templateString(Wt,ht._meta)),Ct.text(Wt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(M.font,ht.title.font).call(e.convertToTspans,Q);var Kt;ht.title.position==="middle center"?Kt=U(nt):Kt=F(nt,ut),Ct.attr("transform",r(Kt.x,Kt.y)+g(Math.min(1,Kt.scale))+r(Kt.tx,Kt.ty))}),bt&&H(At,ht),h(mt,ht),bt&&ht.automargin){var _t=M.bBox(lt.node()),Ut=ht.domain,St=ut.w*(Ut.x[1]-Ut.x[0]),Rt=ut.h*(Ut.y[1]-Ut.y[0]),Et=(.5*St-nt.r)/ut.w,zt=(.5*Rt-nt.r)/ut.h;D.autoMargin(Q,"pie."+ht.uid+".automargin",{xl:Ut.x[0]-Et,xr:Ut.x[1]+Et,yb:Ut.y[0]-zt,yt:Ut.y[1]+zt,l:Math.max(nt.cx-nt.r-_t.left,0),r:Math.max(_t.right-(nt.cx+nt.r),0),b:Math.max(_t.bottom-(nt.cy+nt.r),0),t:Math.max(nt.cy-nt.r-_t.top,0),pad:5})}})});setTimeout(function(){$.selectAll("tspan").each(function(){var j=y.select(this);j.attr("dy")&&j.attr("dy",j.attr("dy"))})},0)}function h(Q,tt){Q.each(function(Z){var q=y.select(this);if(!Z.labelExtraX&&!Z.labelExtraY){q.select("path.textline").remove();return}var ut=q.select("g.slicetext text");Z.transform.targetX+=Z.labelExtraX,Z.transform.targetY+=Z.labelExtraY,d.setTransormAndDisplay(ut,Z.transform);var $=Z.cxFinal+Z.pxmid[0],j=Z.cyFinal+Z.pxmid[1],lt="M"+$+","+j,nt=(Z.yLabelMax-Z.yLabelMin)*(Z.pxmid[0]<0?-1:1)/4;if(Z.labelExtraX){var ht=Z.labelExtraX*Z.pxmid[1]/Z.pxmid[0],mt=Z.yLabelMid+Z.labelExtraY-(Z.cyFinal+Z.pxmid[1]);Math.abs(ht)>Math.abs(mt)?lt+="l"+mt*Z.pxmid[0]/Z.pxmid[1]+","+mt+"H"+($+Z.labelExtraX+nt):lt+="l"+Z.labelExtraX+","+ht+"v"+(mt-ht)+"h"+nt}else lt+="V"+(Z.yLabelMid+Z.labelExtraY)+"h"+nt;d.ensureSingle(q,"path","textline").call(P.stroke,tt.outsidetextfont.color).attr({"stroke-width":Math.min(2,tt.outsidetextfont.size/8),d:lt,fill:"none"})})}function i(Q,tt,Z){var q=Z[0],ut=q.cx,$=q.cy,j=q.trace,lt=j.type==="funnelarea";"_hasHoverLabel"in j||(j._hasHoverLabel=!1),"_hasHoverEvent"in j||(j._hasHoverEvent=!1),Q.on("mouseover",function(nt){var ht=tt._fullLayout,mt=tt._fullData[j.index];if(!(tt._dragging||ht.hovermode===!1)){var At=mt.hoverinfo;if(Array.isArray(At)&&(At=s.castHoverinfo({hoverinfo:[c.castOption(At,nt.pts)],_module:j._module},ht,0)),At==="all"&&(At="label+text+value+percent+name"),mt.hovertemplate||At!=="none"&&At!=="skip"&&At){var bt=nt.rInscribed||0,Pt=ut+nt.pxmid[0]*(1-bt),_t=$+nt.pxmid[1]*(1-bt),Ut=ht.separators,St=[];if(At&&At.indexOf("label")!==-1&&St.push(nt.label),nt.text=c.castOption(mt.hovertext||mt.text,nt.pts),At&&At.indexOf("text")!==-1){var Rt=nt.text;d.isValidTextValue(Rt)&&St.push(Rt)}nt.value=nt.v,nt.valueLabel=c.formatPieValue(nt.v,Ut),At&&At.indexOf("value")!==-1&&St.push(nt.valueLabel),nt.percent=nt.v/q.vTotal,nt.percentLabel=c.formatPiePercent(nt.percent,Ut),At&&At.indexOf("percent")!==-1&&St.push(nt.percentLabel);var Et=mt.hoverlabel,zt=Et.font,Ct=[];s.loneHover({trace:j,x0:Pt-bt*q.r,x1:Pt+bt*q.r,y:_t,_x0:lt?ut+nt.TL[0]:Pt-bt*q.r,_x1:lt?ut+nt.TR[0]:Pt+bt*q.r,_y0:lt?$+nt.TL[1]:_t-bt*q.r,_y1:lt?$+nt.BL[1]:_t+bt*q.r,text:St.join("<br>"),name:mt.hovertemplate||At.indexOf("name")!==-1?mt.name:void 0,idealAlign:nt.pxmid[0]<0?"left":"right",color:c.castOption(Et.bgcolor,nt.pts)||nt.color,borderColor:c.castOption(Et.bordercolor,nt.pts),fontFamily:c.castOption(zt.family,nt.pts),fontSize:c.castOption(zt.size,nt.pts),fontColor:c.castOption(zt.color,nt.pts),nameLength:c.castOption(Et.namelength,nt.pts),textAlign:c.castOption(Et.align,nt.pts),hovertemplate:c.castOption(mt.hovertemplate,nt.pts),hovertemplateLabels:nt,eventData:[m(nt,mt)]},{container:ht._hoverlayer.node(),outerContainer:ht._paper.node(),gd:tt,inOut_bbox:Ct}),nt.bbox=Ct[0],j._hasHoverLabel=!0}j._hasHoverEvent=!0,tt.emit("plotly_hover",{points:[m(nt,mt)],event:y.event})}}),Q.on("mouseout",function(nt){var ht=tt._fullLayout,mt=tt._fullData[j.index],At=y.select(this).datum();j._hasHoverEvent&&(nt.originalEvent=y.event,tt.emit("plotly_unhover",{points:[m(At,mt)],event:y.event}),j._hasHoverEvent=!1),j._hasHoverLabel&&(s.loneUnhover(ht._hoverlayer.node()),j._hasHoverLabel=!1)}),Q.on("click",function(nt){var ht=tt._fullLayout,mt=tt._fullData[j.index];tt._dragging||ht.hovermode===!1||(tt._hoverdata=[m(nt,mt)],s.click(tt,y.event))})}function p(Q,tt,Z){var q=c.castOption(Q.outsidetextfont.color,tt.pts)||c.castOption(Q.textfont.color,tt.pts)||Z.color,ut=c.castOption(Q.outsidetextfont.family,tt.pts)||c.castOption(Q.textfont.family,tt.pts)||Z.family,$=c.castOption(Q.outsidetextfont.size,tt.pts)||c.castOption(Q.textfont.size,tt.pts)||Z.size,j=c.castOption(Q.outsidetextfont.weight,tt.pts)||c.castOption(Q.textfont.weight,tt.pts)||Z.weight,lt=c.castOption(Q.outsidetextfont.style,tt.pts)||c.castOption(Q.textfont.style,tt.pts)||Z.style,nt=c.castOption(Q.outsidetextfont.variant,tt.pts)||c.castOption(Q.textfont.variant,tt.pts)||Z.variant,ht=c.castOption(Q.outsidetextfont.textcase,tt.pts)||c.castOption(Q.textfont.textcase,tt.pts)||Z.textcase,mt=c.castOption(Q.outsidetextfont.lineposition,tt.pts)||c.castOption(Q.textfont.lineposition,tt.pts)||Z.lineposition,At=c.castOption(Q.outsidetextfont.shadow,tt.pts)||c.castOption(Q.textfont.shadow,tt.pts)||Z.shadow;return{color:q,family:ut,size:$,weight:j,style:lt,variant:nt,textcase:ht,lineposition:mt,shadow:At}}function w(Q,tt,Z){var q=c.castOption(Q.insidetextfont.color,tt.pts);!q&&Q._input.textfont&&(q=c.castOption(Q._input.textfont.color,tt.pts));var ut=c.castOption(Q.insidetextfont.family,tt.pts)||c.castOption(Q.textfont.family,tt.pts)||Z.family,$=c.castOption(Q.insidetextfont.size,tt.pts)||c.castOption(Q.textfont.size,tt.pts)||Z.size,j=c.castOption(Q.insidetextfont.weight,tt.pts)||c.castOption(Q.textfont.weight,tt.pts)||Z.weight,lt=c.castOption(Q.insidetextfont.style,tt.pts)||c.castOption(Q.textfont.style,tt.pts)||Z.style,nt=c.castOption(Q.insidetextfont.variant,tt.pts)||c.castOption(Q.textfont.variant,tt.pts)||Z.variant,ht=c.castOption(Q.insidetextfont.textcase,tt.pts)||c.castOption(Q.textfont.textcase,tt.pts)||Z.textcase,mt=c.castOption(Q.insidetextfont.lineposition,tt.pts)||c.castOption(Q.textfont.lineposition,tt.pts)||Z.lineposition,At=c.castOption(Q.insidetextfont.shadow,tt.pts)||c.castOption(Q.textfont.shadow,tt.pts)||Z.shadow;return{color:q||P.contrast(tt.color),family:ut,size:$,weight:j,style:lt,variant:nt,textcase:ht,lineposition:mt,shadow:At}}function A(Q,tt){for(var Z,q,ut=0;ut<Q.length;ut++)if(Z=Q[ut][0],q=Z.trace,q.title.text){var $=q.title.text;q._meta&&($=d.templateString($,q._meta));var j=M.tester.append("text").attr("data-notex",1).text($).call(M.font,q.title.font).call(e.convertToTspans,tt),lt=M.bBox(j.node(),!0);Z.titleBox={width:lt.width,height:lt.height},j.remove()}}function L(Q,tt,Z){var q=Z.r||tt.rpx1,ut=tt.rInscribed,$=tt.startangle===tt.stopangle;if($)return{rCenter:1-ut,scale:0,rotate:0,textPosAngle:0};var j=tt.ring,lt=j===1&&Math.abs(tt.startangle-tt.stopangle)===Math.PI*2,nt=tt.halfangle,ht=tt.midangle,mt=Z.trace.insidetextorientation,At=mt==="horizontal",bt=mt==="tangential",Pt=mt==="radial",_t=mt==="auto",Ut=[],St;if(!_t){var Rt=function(Jt,te){if(x(tt,Jt)){var fe=Math.abs(Jt-tt.startangle),ve=Math.abs(Jt-tt.stopangle),de=fe<ve?fe:ve;te==="tan"?St=S(Q,q,j,de,0):St=E(Q,q,j,de,Math.PI/2),St.textPosAngle=Jt,Ut.push(St)}},Et;if(At||bt){for(Et=4;Et>=-4;Et-=2)Rt(Math.PI*Et,"tan");for(Et=4;Et>=-4;Et-=2)Rt(Math.PI*(Et+1),"tan")}if(At||Pt){for(Et=4;Et>=-4;Et-=2)Rt(Math.PI*(Et+1.5),"rad");for(Et=4;Et>=-4;Et-=2)Rt(Math.PI*(Et+.5),"rad")}}if(lt||_t||At){var zt=Math.sqrt(Q.width*Q.width+Q.height*Q.height);if(St={scale:ut*q*2/zt,rCenter:1-ut,rotate:0},St.textPosAngle=(tt.startangle+tt.stopangle)/2,St.scale>=1)return St;Ut.push(St)}(_t||Pt)&&(St=E(Q,q,j,nt,ht),St.textPosAngle=(tt.startangle+tt.stopangle)/2,Ut.push(St)),(_t||bt)&&(St=S(Q,q,j,nt,ht),St.textPosAngle=(tt.startangle+tt.stopangle)/2,Ut.push(St));for(var Ct=0,Wt=0,Kt=0;Kt<Ut.length;Kt++){var oe=Ut[Kt].scale;if(Wt<oe&&(Wt=oe,Ct=Kt),!_t&&Wt>=1)break}return Ut[Ct]}function x(Q,tt){var Z=Q.startangle,q=Q.stopangle;return Z>tt&&tt>q||Z<tt&&tt<q}function E(Q,tt,Z,q,ut){tt=Math.max(0,tt-2*f);var $=Q.width/Q.height,j=b($,q,tt,Z);return{scale:j*2/Q.height,rCenter:a($,j/tt),rotate:C(ut)}}function S(Q,tt,Z,q,ut){tt=Math.max(0,tt-2*f);var $=Q.height/Q.width,j=b($,q,tt,Z);return{scale:j*2/Q.width,rCenter:a($,j/tt),rotate:C(ut+Math.PI/2)}}function a(Q,tt){return Math.cos(tt)-Q*tt}function C(Q){return(180/Math.PI*Q+720)%180-90}function b(Q,tt,Z,q){var ut=Q+1/(2*Math.tan(tt));return Z*Math.min(1/(Math.sqrt(ut*ut+.5)+ut),q/(Math.sqrt(Q*Q+q/2)+Q))}function z(Q,tt){return Q.v===tt.vTotal&&!tt.trace.hole?1:Math.min(1/(1+1/Math.sin(Q.halfangle)),Q.ring/2)}function k(Q,tt){var Z=tt.pxmid[0],q=tt.pxmid[1],ut=Q.width/2,$=Q.height/2;return Z<0&&(ut*=-1),q<0&&($*=-1),{scale:1,rCenter:1,rotate:0,x:ut+Math.abs($)*(ut>0?1:-1)/2,y:$/(1+Z*Z/(q*q)),outside:!0}}function U(Q){var tt=Math.sqrt(Q.titleBox.width*Q.titleBox.width+Q.titleBox.height*Q.titleBox.height);return{x:Q.cx,y:Q.cy,scale:Q.trace.hole*Q.r*2/tt,tx:0,ty:-Q.titleBox.height/2+Q.trace.title.font.size}}function F(Q,tt){var Z=1,q=1,ut,$=Q.trace,j={x:Q.cx,y:Q.cy},lt={tx:0,ty:0};lt.ty+=$.title.font.size,ut=O($),$.title.position.indexOf("top")!==-1?(j.y-=(1+ut)*Q.r,lt.ty-=Q.titleBox.height):$.title.position.indexOf("bottom")!==-1&&(j.y+=(1+ut)*Q.r);var nt=V(Q.r,Q.trace.aspectratio),ht=tt.w*($.domain.x[1]-$.domain.x[0])/2;return $.title.position.indexOf("left")!==-1?(ht=ht+nt,j.x-=(1+ut)*nt,lt.tx+=Q.titleBox.width/2):$.title.position.indexOf("center")!==-1?ht*=2:$.title.position.indexOf("right")!==-1&&(ht=ht+nt,j.x+=(1+ut)*nt,lt.tx-=Q.titleBox.width/2),Z=ht/Q.titleBox.width,q=N(Q,tt)/Q.titleBox.height,{x:j.x,y:j.y,scale:Math.min(Z,q),tx:lt.tx,ty:lt.ty}}function V(Q,tt){return Q/(tt===void 0?1:tt)}function N(Q,tt){var Z=Q.trace,q=tt.h*(Z.domain.y[1]-Z.domain.y[0]);return Math.min(Q.titleBox.height,q/2)}function O(Q){var tt=Q.pull;if(!tt)return 0;var Z;if(d.isArrayOrTypedArray(tt))for(tt=0,Z=0;Z<Q.pull.length;Z++)Q.pull[Z]>tt&&(tt=Q.pull[Z]);return tt}function H(Q,tt){var Z,q,ut,$,j,lt,nt,ht,mt,At,bt,Pt,_t;function Ut(zt,Ct){return zt.pxmid[1]-Ct.pxmid[1]}function St(zt,Ct){return Ct.pxmid[1]-zt.pxmid[1]}function Rt(zt,Ct){Ct||(Ct={});var Wt=Ct.labelExtraY+(q?Ct.yLabelMax:Ct.yLabelMin),Kt=q?zt.yLabelMin:zt.yLabelMax,oe=q?zt.yLabelMax:zt.yLabelMin,Jt=zt.cyFinal+j(zt.px0[1],zt.px1[1]),te=Wt-Kt,fe,ve,de,xe,Me,ne;if(te*nt>0&&(zt.labelExtraY=te),!!d.isArrayOrTypedArray(tt.pull))for(ve=0;ve<At.length;ve++)de=At[ve],!(de===zt||(c.castOption(tt.pull,zt.pts)||0)>=(c.castOption(tt.pull,de.pts)||0))&&((zt.pxmid[1]-de.pxmid[1])*nt>0?(xe=de.cyFinal+j(de.px0[1],de.px1[1]),te=xe-Kt-zt.labelExtraY,te*nt>0&&(zt.labelExtraY+=te)):(oe+zt.labelExtraY-Jt)*nt>0&&(fe=3*lt*Math.abs(ve-At.indexOf(zt)),Me=de.cxFinal+$(de.px0[0],de.px1[0]),ne=Me+fe-(zt.cxFinal+zt.pxmid[0])-zt.labelExtraX,ne*lt>0&&(zt.labelExtraX+=ne)))}for(q=0;q<2;q++)for(ut=q?Ut:St,j=q?Math.max:Math.min,nt=q?1:-1,Z=0;Z<2;Z++){for($=Z?Math.max:Math.min,lt=Z?1:-1,ht=Q[q][Z],ht.sort(ut),mt=Q[1-q][Z],At=mt.concat(ht),Pt=[],bt=0;bt<ht.length;bt++)ht[bt].yLabelMid!==void 0&&Pt.push(ht[bt]);for(_t=!1,bt=0;q&&bt<mt.length;bt++)if(mt[bt].yLabelMid!==void 0){_t=mt[bt];break}for(bt=0;bt<Pt.length;bt++){var Et=bt&&Pt[bt-1];_t&&!bt&&(Et=_t),Rt(Pt[bt],Et)}}}function X(Q,tt){for(var Z=[],q=0;q<Q.length;q++){var ut=Q[q][0],$=ut.trace,j=$.domain,lt=tt.w*(j.x[1]-j.x[0]),nt=tt.h*(j.y[1]-j.y[0]);$.title.text&&$.title.position!=="middle center"&&(nt-=N(ut,tt));var ht=lt/2,mt=nt/2;$.type==="funnelarea"&&!$.scalegroup&&(mt/=$.aspectratio),ut.r=Math.min(ht,mt)/(1+O($)),ut.cx=tt.l+tt.w*($.domain.x[1]+$.domain.x[0])/2,ut.cy=tt.t+tt.h*(1-$.domain.y[0])-nt/2,$.title.text&&$.title.position.indexOf("bottom")!==-1&&(ut.cy-=N(ut,tt)),$.scalegroup&&Z.indexOf($.scalegroup)===-1&&Z.push($.scalegroup)}J(Q,Z)}function J(Q,tt){for(var Z,q,ut,$=0;$<tt.length;$++){var j=1/0,lt=tt[$];for(q=0;q<Q.length;q++)if(Z=Q[q][0],ut=Z.trace,ut.scalegroup===lt){var nt;if(ut.type==="pie")nt=Z.r*Z.r;else if(ut.type==="funnelarea"){var ht,mt;ut.aspectratio>1?(ht=Z.r,mt=ht/ut.aspectratio):(mt=Z.r,ht=mt*ut.aspectratio),ht*=(1+ut.baseratio)/2,nt=ht*mt}j=Math.min(j,nt/Z.vTotal)}for(q=0;q<Q.length;q++)if(Z=Q[q][0],ut=Z.trace,ut.scalegroup===lt){var At=j*Z.vTotal;ut.type==="funnelarea"&&(At/=(1+ut.baseratio)/2,At/=ut.aspectratio),Z.r=Math.sqrt(At)}}}function et(Q){var tt=Q[0],Z=tt.r,q=tt.trace,ut=c.getRotationAngle(q.rotation),$=2*Math.PI/tt.vTotal,j="px0",lt="px1",nt,ht,mt;if(q.direction==="counterclockwise"){for(nt=0;nt<Q.length&&Q[nt].hidden;nt++);if(nt===Q.length)return;ut+=$*Q[nt].v,$*=-1,j="px1",lt="px0"}for(mt=it(Z,ut),nt=0;nt<Q.length;nt++)ht=Q[nt],!ht.hidden&&(ht[j]=mt,ht.startangle=ut,ut+=$*ht.v/2,ht.pxmid=it(Z,ut),ht.midangle=ut,ut+=$*ht.v/2,mt=it(Z,ut),ht.stopangle=ut,ht[lt]=mt,ht.largeArc=ht.v>tt.vTotal/2?1:0,ht.halfangle=Math.PI*Math.min(ht.v/tt.vTotal,.5),ht.ring=1-q.hole,ht.rInscribed=z(ht,tt))}function it(Q,tt){return[Q*Math.sin(tt),-Q*Math.cos(tt)]}function ft(Q,tt,Z){var q=Q._fullLayout,ut=Z.trace,$=ut.texttemplate,j=ut.textinfo;if(!$&&j&&j!=="none"){var lt=j.split("+"),nt=function(Ct){return lt.indexOf(Ct)!==-1},ht=nt("label"),mt=nt("text"),At=nt("value"),bt=nt("percent"),Pt=q.separators,_t;if(_t=ht?[tt.label]:[],mt){var Ut=c.getFirstFilled(ut.text,tt.pts);v(Ut)&&_t.push(Ut)}At&&_t.push(c.formatPieValue(tt.v,Pt)),bt&&_t.push(c.formatPiePercent(tt.v/Z.vTotal,Pt)),tt.text=_t.join("<br>")}function St(Ct){return{label:Ct.label,value:Ct.v,valueLabel:c.formatPieValue(Ct.v,q.separators),percent:Ct.v/Z.vTotal,percentLabel:c.formatPiePercent(Ct.v/Z.vTotal,q.separators),color:Ct.color,text:Ct.text,customdata:d.castOption(ut,Ct.i,"customdata")}}if($){var Rt=d.castOption(ut,tt.i,"texttemplate");if(!Rt)tt.text="";else{var Et=St(tt),zt=c.getFirstFilled(ut.text,tt.pts);(v(zt)||zt==="")&&(Et.text=zt),tt.text=d.texttemplateString(Rt,Et,Q._fullLayout._d3locale,Et,ut._meta||{})}}}function ot(Q,tt){var Z=Q.rotate*Math.PI/180,q=Math.cos(Z),ut=Math.sin(Z),$=(tt.left+tt.right)/2,j=(tt.top+tt.bottom)/2;Q.textX=$*q-j*ut,Q.textY=$*ut+j*q,Q.noCenter=!0}W.exports={plot:T,formatSliceLabel:ft,transformInsideText:L,determineInsideTextFont:w,positionTitleOutside:F,prerenderTitles:A,layoutAreas:X,attachFxHandlers:i,computeTransform:ot}},22152:function(W,G,t){var y=t(33428),D=t(10528),s=t(82744).resizeText;W.exports=function(M){var d=M._fullLayout._pielayer.selectAll(".trace");s(M,d,"pie"),d.each(function(g){var r=g[0],e=r.trace,o=y.select(this);o.style({opacity:e.opacity}),o.selectAll("path.surface").each(function(n){y.select(this).call(D,n,e,M)})})}},10528:function(W,G,t){var y=t(76308),D=t(69656).castOption,s=t(21552);W.exports=function(M,d,g,r){var e=g.marker.line,o=D(e.color,d.pts)||y.defaultLine,n=D(e.width,d.pts)||0;M.call(s,d,g,r).style("stroke-width",n).call(y.stroke,o)}},35484:function(W,G,t){var y=t(52904);W.exports={x:y.x,y:y.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:y.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(W,G,t){var y=t(67792).gl_pointcloud2d,D=t(3400).isArrayOrTypedArray,s=t(43080),P=t(19280).findExtremes,M=t(44928);function d(e,o){this.scene=e,this.uid=o,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=y(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var g=d.prototype;g.handlePick=function(e){var o=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[o*2],this.pickXYData[o*2+1]]:[this.pickXData[o],this.pickYData[o]],textLabel:D(this.textLabels)?this.textLabels[o]:this.textLabels,color:this.color,name:this.name,pointIndex:o,hoverinfo:this.hoverinfo}},g.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=M(e,{})},g.updateFast=function(e){var o=this.xData=this.pickXData=e.x,n=this.yData=this.pickYData=e.y,u=this.pickXYData=e.xy,f=e.xbounds&&e.ybounds,c=e.indices,m,v,T,h=this.bounds,i,p,w;if(u){if(T=u,m=u.length>>>1,f)h[0]=e.xbounds[0],h[2]=e.xbounds[1],h[1]=e.ybounds[0],h[3]=e.ybounds[1];else for(w=0;w<m;w++)i=T[w*2],p=T[w*2+1],i<h[0]&&(h[0]=i),i>h[2]&&(h[2]=i),p<h[1]&&(h[1]=p),p>h[3]&&(h[3]=p);if(c)v=c;else for(v=new Int32Array(m),w=0;w<m;w++)v[w]=w}else for(m=o.length,T=new Float32Array(2*m),v=new Int32Array(m),w=0;w<m;w++)i=o[w],p=n[w],v[w]=w,T[w*2]=i,T[w*2+1]=p,i<h[0]&&(h[0]=i),i>h[2]&&(h[2]=i),p<h[1]&&(h[1]=p),p>h[3]&&(h[3]=p);this.idToIndex=v,this.pointcloudOptions.idToIndex=v,this.pointcloudOptions.positions=T;var A=s(e.marker.color),L=s(e.marker.border.color),x=e.opacity*e.marker.opacity;A[3]*=x,this.pointcloudOptions.color=A;var E=e.marker.blend;if(E===null){var S=100;E=o.length<S||n.length<S}this.pointcloudOptions.blend=E,L[3]*=x,this.pointcloudOptions.borderColor=L;var a=e.marker.sizemin,C=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=a,this.pointcloudOptions.sizeMax=C,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var b=this.scene.xaxis,z=this.scene.yaxis,k=C/2||.5;e._extremes[b._id]=P(b,[h[0],h[2]],{ppad:k}),e._extremes[z._id]=P(z,[h[1],h[3]],{ppad:k})},g.dispose=function(){this.pointcloud.dispose()};function r(e,o){var n=new d(e,o.uid);return n.update(o),n}W.exports=r},41904:function(W,G,t){var y=t(3400),D=t(35484);W.exports=function(P,M,d){function g(r,e){return y.coerce(P,M,D,r,e)}g("x"),g("y"),g("xbounds"),g("ybounds"),P.xy&&P.xy instanceof Float32Array&&(M.xy=P.xy),P.indices&&P.indices instanceof Int32Array&&(M.indices=P.indices),g("text"),g("marker.color",d),g("marker.opacity"),g("marker.blend"),g("marker.sizemin"),g("marker.sizemax"),g("marker.border.color",d),g("marker.border.arearatio"),M._length=null}},156:function(W,G,t){W.exports={attributes:t(35484),supplyDefaults:t(41904),calc:t(41484),plot:t(11072),moduleType:"trace",name:"pointcloud",basePlotModule:t(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(W,G,t){var y=t(25376),D=t(45464),s=t(22548),P=t(55756),M=t(86968).u,d=t(21776).Ks,g=t(49084),r=t(31780).templatedArray,e=t(29736).descriptionOnlyNumbers,o=t(92880).extendFlat,n=t(67824).overrideAll,u=W.exports=n({hoverinfo:o({},D.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:P.hoverlabel,domain:M({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:e("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:y({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:s.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:P.hoverlabel,hovertemplate:d({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:s.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:P.hoverlabel,hovertemplate:d({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:o(g().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");u.transforms=void 0},10760:function(W,G,t){var y=t(67824).overrideAll,D=t(84888)._M,s=t(59596),P=t(65460),M=t(93972),d=t(86476),g=t(22676).prepSelect,r=t(3400),e=t(24040),o="sankey";G.name=o,G.baseLayoutAttrOverrides=y({hoverlabel:P.hoverlabel},"plot","nested"),G.plot=function(u){var f=D(u.calcdata,o)[0];s(u,f),G.updateFx(u)},G.clean=function(u,f,c,m){var v=m._has&&m._has(o),T=f._has&&f._has(o);v&&!T&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},G.updateFx=function(u){for(var f=0;f<u._fullData.length;f++)n(u,f)};function n(u,f){var c=u._fullData[f],m=u._fullLayout,v=m.dragmode,T=m.dragmode==="pan"?"move":"crosshair",h=c._bgRect;if(h&&!(v==="pan"||v==="zoom")){M(h,T);var i={_id:"x",c2p:r.identity,_offset:c._sankey.translateX,_length:c._sankey.width},p={_id:"y",c2p:r.identity,_offset:c._sankey.translateY,_length:c._sankey.height},w={gd:u,element:h.node(),plotinfo:{id:f,xaxis:i,yaxis:p,fillRangeItems:r.noop},subplot:f,xaxes:[i],yaxes:[p],doneFnCompleted:function(A){var L=u._fullData[f],x,E=L.node.groups.slice(),S=[];function a(k){for(var U=L._sankey.graph.nodes,F=0;F<U.length;F++)if(U[F].pointNumber===k)return U[F]}for(var C=0;C<A.length;C++){var b=a(A[C].pointNumber);if(b)if(b.group){for(var z=0;z<b.childrenNodes.length;z++)S.push(b.childrenNodes[z].pointNumber);E[b.pointNumber-L.node._count]=!1}else S.push(b.pointNumber)}x=E.filter(Boolean).concat([S]),e.call("_guiRestyle",u,{"node.groups":[x]},f)}};w.prepFn=function(A,L,x){g(A,L,x,w,v)},d.init(w)}}},48068:function(W,G,t){var y=t(78484),D=t(3400),s=t(71688).wrap,P=D.isArrayOrTypedArray,M=D.isIndex,d=t(8932);function g(e){var o=e.node,n=e.link,u=[],f=P(n.color),c=P(n.hovercolor),m=P(n.customdata),v={},T={},h=n.colorscales.length,i;for(i=0;i<h;i++){var p=n.colorscales[i],w=d.extractScale(p,{cLetter:"c"}),A=d.makeColorScaleFunc(w);T[p.label]=A}var L=0;for(i=0;i<n.value.length;i++)n.source[i]>L&&(L=n.source[i]),n.target[i]>L&&(L=n.target[i]);var x=L+1;e.node._count=x;var E,S=e.node.groups,a={};for(i=0;i<S.length;i++){var C=S[i];for(E=0;E<C.length;E++){var b=C[E],z=x+i;a.hasOwnProperty(b)?D.warn("Node "+b+" is already part of a group."):a[b]=z}}var k={source:[],target:[]};for(i=0;i<n.value.length;i++){var U=n.value[i],F=n.source[i],V=n.target[i];if(U>0&&M(F,x)&&M(V,x)&&!(a.hasOwnProperty(F)&&a.hasOwnProperty(V)&&a[F]===a[V])){a.hasOwnProperty(V)&&(V=a[V]),a.hasOwnProperty(F)&&(F=a[F]),F=+F,V=+V,v[F]=v[V]=!0;var N="";n.label&&n.label[i]&&(N=n.label[i]);var O=null;N&&T.hasOwnProperty(N)&&(O=T[N]),u.push({pointNumber:i,label:N,color:f?n.color[i]:n.color,hovercolor:c?n.hovercolor[i]:n.hovercolor,customdata:m?n.customdata[i]:n.customdata,concentrationscale:O,source:F,target:V,value:+U}),k.source.push(F),k.target.push(V)}}var H=x+S.length,X=P(o.color),J=P(o.customdata),et=[];for(i=0;i<H;i++)if(v[i]){var it=o.label[i];et.push({group:i>x-1,childrenNodes:[],pointNumber:i,label:it,color:X?o.color[i]:o.color,customdata:J?o.customdata[i]:o.customdata})}var ft=!1;return r(H,k.source,k.target)&&(ft=!0),{circular:ft,links:u,nodes:et,groups:S,groupLookup:a}}function r(e,o,n){for(var u=D.init2dArray(e,0),f=0;f<Math.min(o.length,n.length);f++)if(D.isIndex(o[f],e)&&D.isIndex(n[f],e)){if(o[f]===n[f])return!0;u[o[f]].push(n[f])}var c=y(u);return c.components.some(function(m){return m.length>1})}W.exports=function(o,n){var u=g(n);return s({circular:u.circular,_nodes:u.nodes,_links:u.links,_groups:u.groups,_groupLookup:u.groupLookup})}},11820:function(W){W.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(W,G,t){var y=t(3400),D=t(41440),s=t(76308),P=t(49760),M=t(86968).Q,d=t(16132),g=t(31780),r=t(51272);W.exports=function(n,u,f,c){function m(z,k){return y.coerce(n,u,D,z,k)}var v=y.extendDeep(c.hoverlabel,n.hoverlabel),T=n.node,h=g.newContainer(u,"node");function i(z,k){return y.coerce(T,h,D.node,z,k)}i("label"),i("groups"),i("x"),i("y"),i("pad"),i("thickness"),i("line.color"),i("line.width"),i("hoverinfo",n.hoverinfo),d(T,h,i,v),i("hovertemplate"),i("align");var p=c.colorway,w=function(z){return p[z%p.length]};i("color",h.label.map(function(z,k){return s.addOpacity(w(k),.8)})),i("customdata");var A=n.link||{},L=g.newContainer(u,"link");function x(z,k){return y.coerce(A,L,D.link,z,k)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",n.hoverinfo),d(A,L,x,v),x("hovertemplate");var E=P(c.paper_bgcolor).getLuminance()<.333,S=E?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",a=x("color",S);function C(z){var k=P(z);if(!k.isValid())return z;var U=k.getAlpha();return U<=.8?k.setAlpha(U+.2):k=E?k.brighten():k.darken(),k.toRgbString()}x("hovercolor",Array.isArray(a)?a.map(C):C(a)),x("customdata"),r(A,L,{name:"colorscales",handleItemDefaults:e}),M(u,c,m),m("orientation"),m("valueformat"),m("valuesuffix");var b;h.x.length&&h.y.length&&(b="freeform"),m("arrangement",b),y.coerceFont(m,"textfont",c.font,{autoShadowDflt:!0}),u._length=null};function e(o,n){function u(f,c){return y.coerce(o,n,D.link.colorscales,f,c)}u("label"),u("cmin"),u("cmax"),u("colorscale")}},45499:function(W,G,t){W.exports={attributes:t(41440),supplyDefaults:t(47140),calc:t(48068),plot:t(59596),moduleType:"trace",name:"sankey",basePlotModule:t(10760),selectPoints:t(81128),categories:["noOpacity"],meta:{}}},59596:function(W,G,t){var y=t(33428),D=t(3400),s=D.numberFormat,P=t(83248),M=t(93024),d=t(76308),g=t(11820).cn,r=D._;function e(p){return p!==""}function o(p,w){return p.filter(function(A){return A.key===w.traceId})}function n(p,w){y.select(p).select("path").style("fill-opacity",w),y.select(p).select("rect").style("fill-opacity",w)}function u(p){y.select(p).select("text.name").style("fill","black")}function f(p){return function(w){return p.node.sourceLinks.indexOf(w.link)!==-1||p.node.targetLinks.indexOf(w.link)!==-1}}function c(p){return function(w){return w.node.sourceLinks.indexOf(p.link)!==-1||w.node.targetLinks.indexOf(p.link)!==-1}}function m(p,w,A){w&&A&&o(A,w).selectAll("."+g.sankeyLink).filter(f(w)).call(T.bind(0,w,A,!1))}function v(p,w,A){w&&A&&o(A,w).selectAll("."+g.sankeyLink).filter(f(w)).call(h.bind(0,w,A,!1))}function T(p,w,A,L){L.style("fill",function(x){if(!x.link.concentrationscale)return x.tinyColorHoverHue}).style("fill-opacity",function(x){if(!x.link.concentrationscale)return x.tinyColorHoverAlpha}),L.each(function(x){var E=x.link.label;E!==""&&o(w,p).selectAll("."+g.sankeyLink).filter(function(S){return S.link.label===E}).style("fill",function(S){if(!S.link.concentrationscale)return S.tinyColorHoverHue}).style("fill-opacity",function(S){if(!S.link.concentrationscale)return S.tinyColorHoverAlpha})}),A&&o(w,p).selectAll("."+g.sankeyNode).filter(c(p)).call(m)}function h(p,w,A,L){L.style("fill",function(x){return x.tinyColorHue}).style("fill-opacity",function(x){return x.tinyColorAlpha}),L.each(function(x){var E=x.link.label;E!==""&&o(w,p).selectAll("."+g.sankeyLink).filter(function(S){return S.link.label===E}).style("fill",function(S){return S.tinyColorHue}).style("fill-opacity",function(S){return S.tinyColorAlpha})}),A&&o(w,p).selectAll(g.sankeyNode).filter(c(p)).call(v)}function i(p,w){var A=p.hoverlabel||{},L=D.nestedProperty(A,w).get();return Array.isArray(L)?!1:L}W.exports=function(w,A){for(var L=w._fullLayout,x=L._paper,E=L._size,S=0;S<w._fullData.length;S++)if(w._fullData[S].visible&&w._fullData[S].type===g.sankey&&!w._fullData[S]._viewInitial){var a=w._fullData[S].node;w._fullData[S]._viewInitial={node:{groups:a.groups.slice(),x:a.x.slice(),y:a.y.slice()}}}var C=function(it,ft){var ot=ft.link;ot.originalEvent=y.event,w._hoverdata=[ot],M.click(w,{target:!0})},b=function(it,ft,ot){w._fullLayout.hovermode!==!1&&(y.select(it).call(T.bind(0,ft,ot,!0)),ft.link.trace.link.hoverinfo!=="skip"&&(ft.link.fullData=ft.link.trace,w.emit("plotly_hover",{event:y.event,points:[ft.link]})))},z=r(w,"source:")+" ",k=r(w,"target:")+" ",U=r(w,"concentration:")+" ",F=r(w,"incoming flow count:")+" ",V=r(w,"outgoing flow count:")+" ",N=function(it,ft){if(w._fullLayout.hovermode===!1)return;var ot=ft.link.trace.link;if(ot.hoverinfo==="none"||ot.hoverinfo==="skip")return;var Q=[];function tt(nt){var ht,mt;nt.circular?(ht=(nt.circularPathData.leftInnerExtent+nt.circularPathData.rightInnerExtent)/2,mt=nt.circularPathData.verticalFullExtent):(ht=(nt.source.x1+nt.target.x0)/2,mt=(nt.y0+nt.y1)/2);var At=[ht,mt];return nt.trace.orientation==="v"&&At.reverse(),At[0]+=ft.parent.translateX,At[1]+=ft.parent.translateY,At}for(var Z=0,q=0;q<ft.flow.links.length;q++){var ut=ft.flow.links[q];if(!(w._fullLayout.hovermode==="closest"&&ft.link.pointNumber!==ut.pointNumber)){ft.link.pointNumber===ut.pointNumber&&(Z=q),ut.fullData=ut.trace,ot=ft.link.trace.link;var $=tt(ut),j={valueLabel:s(ft.valueFormat)(ut.value)+ft.valueSuffix};Q.push({x:$[0],y:$[1],name:j.valueLabel,text:[ut.label||"",z+ut.source.label,k+ut.target.label,ut.concentrationscale?U+s("%0.2f")(ut.flow.labelConcentration):""].filter(e).join("<br>"),color:i(ot,"bgcolor")||d.addOpacity(ut.color,1),borderColor:i(ot,"bordercolor"),fontFamily:i(ot,"font.family"),fontSize:i(ot,"font.size"),fontColor:i(ot,"font.color"),fontWeight:i(ot,"font.weight"),fontStyle:i(ot,"font.style"),fontVariant:i(ot,"font.variant"),fontTextcase:i(ot,"font.textcase"),fontLineposition:i(ot,"font.lineposition"),fontShadow:i(ot,"font.shadow"),nameLength:i(ot,"namelength"),textAlign:i(ot,"align"),idealAlign:y.event.x<$[0]?"right":"left",hovertemplate:ot.hovertemplate,hovertemplateLabels:j,eventData:[ut]})}}var lt=M.loneHover(Q,{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:w,anchorIndex:Z});lt.each(function(){var nt=this;ft.link.concentrationscale||n(nt,.65),u(nt)})},O=function(it,ft,ot){w._fullLayout.hovermode!==!1&&(y.select(it).call(h.bind(0,ft,ot,!0)),ft.link.trace.link.hoverinfo!=="skip"&&(ft.link.fullData=ft.link.trace,w.emit("plotly_unhover",{event:y.event,points:[ft.link]})),M.loneUnhover(L._hoverlayer.node()))},H=function(it,ft,ot){var Q=ft.node;Q.originalEvent=y.event,w._hoverdata=[Q],y.select(it).call(v,ft,ot),M.click(w,{target:!0})},X=function(it,ft,ot){w._fullLayout.hovermode!==!1&&(y.select(it).call(m,ft,ot),ft.node.trace.node.hoverinfo!=="skip"&&(ft.node.fullData=ft.node.trace,w.emit("plotly_hover",{event:y.event,points:[ft.node]})))},J=function(it,ft){if(w._fullLayout.hovermode!==!1){var ot=ft.node.trace.node;if(!(ot.hoverinfo==="none"||ot.hoverinfo==="skip")){var Q=y.select(it).select("."+g.nodeRect),tt=w._fullLayout._paperdiv.node().getBoundingClientRect(),Z=Q.node().getBoundingClientRect(),q=Z.left-2-tt.left,ut=Z.right+2-tt.left,$=Z.top+Z.height/4-tt.top,j={valueLabel:s(ft.valueFormat)(ft.node.value)+ft.valueSuffix};ft.node.fullData=ft.node.trace,w._fullLayout._calcInverseTransform(w);var lt=w._fullLayout._invScaleX,nt=w._fullLayout._invScaleY,ht=M.loneHover({x0:lt*q,x1:lt*ut,y:nt*$,name:s(ft.valueFormat)(ft.node.value)+ft.valueSuffix,text:[ft.node.label,F+ft.node.targetLinks.length,V+ft.node.sourceLinks.length].filter(e).join("<br>"),color:i(ot,"bgcolor")||ft.tinyColorHue,borderColor:i(ot,"bordercolor"),fontFamily:i(ot,"font.family"),fontSize:i(ot,"font.size"),fontColor:i(ot,"font.color"),fontWeight:i(ot,"font.weight"),fontStyle:i(ot,"font.style"),fontVariant:i(ot,"font.variant"),fontTextcase:i(ot,"font.textcase"),fontLineposition:i(ot,"font.lineposition"),fontShadow:i(ot,"font.shadow"),nameLength:i(ot,"namelength"),textAlign:i(ot,"align"),idealAlign:"left",hovertemplate:ot.hovertemplate,hovertemplateLabels:j,eventData:[ft.node]},{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:w});n(ht,.85),u(ht)}}},et=function(it,ft,ot){w._fullLayout.hovermode!==!1&&(y.select(it).call(v,ft,ot),ft.node.trace.node.hoverinfo!=="skip"&&(ft.node.fullData=ft.node.trace,w.emit("plotly_unhover",{event:y.event,points:[ft.node]})),M.loneUnhover(L._hoverlayer.node()))};P(w,x,A,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:b,follow:N,unhover:O,select:C},nodeEvents:{hover:X,follow:J,unhover:et,select:H}})}},83248:function(W,G,t){var y=t(49812),D=t(67756).Gz,s=t(33428),P=t(26800),M=t(48932),d=t(11820),g=t(49760),r=t(76308),e=t(43616),o=t(3400),n=o.strTranslate,u=o.strRotate,f=t(71688),c=f.keyFun,m=f.repeat,v=f.unwrap,T=t(72736),h=t(24040),i=t(84284),p=i.CAP_SHIFT,w=i.LINE_SPACING,A=3;function L(tt,Z,q){var ut=v(Z),$=ut.trace,j=$.domain,lt=$.orientation==="h",nt=$.node.pad,ht=$.node.thickness,mt={justify:P.sankeyJustify,left:P.sankeyLeft,right:P.sankeyRight,center:P.sankeyCenter}[$.node.align],At=tt.width*(j.x[1]-j.x[0]),bt=tt.height*(j.y[1]-j.y[0]),Pt=ut._nodes,_t=ut._links,Ut=ut.circular,St;Ut?St=M.sankeyCircular().circularLinkGap(0):St=P.sankey(),St.iterations(d.sankeyIterations).size(lt?[At,bt]:[bt,At]).nodeWidth(ht).nodePadding(nt).nodeId(function(ne){return ne.pointNumber}).nodeAlign(mt).nodes(Pt).links(_t);var Rt=St();St.nodePadding()<nt&&o.warn("node.pad was reduced to ",St.nodePadding()," to fit within the figure.");var Et,zt,Ct;for(var Wt in ut._groupLookup){var Kt=parseInt(ut._groupLookup[Wt]),oe;for(Et=0;Et<Rt.nodes.length;Et++)if(Rt.nodes[Et].pointNumber===Kt){oe=Rt.nodes[Et];break}if(oe){var Jt={pointNumber:parseInt(Wt),x0:oe.x0,x1:oe.x1,y0:oe.y0,y1:oe.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Rt.nodes.unshift(Jt),oe.childrenNodes.unshift(Jt)}}function te(){for(Et=0;Et<Rt.nodes.length;Et++){var ne=Rt.nodes[Et],kt={},Gt,Yt;for(zt=0;zt<ne.targetLinks.length;zt++)Yt=ne.targetLinks[zt],Gt=Yt.source.pointNumber+":"+Yt.target.pointNumber,kt.hasOwnProperty(Gt)||(kt[Gt]=[]),kt[Gt].push(Yt);var Zt=Object.keys(kt);for(zt=0;zt<Zt.length;zt++){Gt=Zt[zt];var It=kt[Gt],Nt=0,Ht={};for(Ct=0;Ct<It.length;Ct++)Yt=It[Ct],Ht[Yt.label]||(Ht[Yt.label]=0),Ht[Yt.label]+=Yt.value,Nt+=Yt.value;for(Ct=0;Ct<It.length;Ct++)Yt=It[Ct],Yt.flow={value:Nt,labelConcentration:Ht[Yt.label]/Nt,concentration:Yt.value/Nt,links:It},Yt.concentrationscale&&(Yt.color=g(Yt.concentrationscale(Yt.flow.labelConcentration)))}var Lt=0;for(zt=0;zt<ne.sourceLinks.length;zt++)Lt+=ne.sourceLinks[zt].value;for(zt=0;zt<ne.sourceLinks.length;zt++)Yt=ne.sourceLinks[zt],Yt.concentrationOut=Yt.value/Lt;var dt=0;for(zt=0;zt<ne.targetLinks.length;zt++)dt+=ne.targetLinks[zt].value;for(zt=0;zt<ne.targetLinks.length;zt++)Yt=ne.targetLinks[zt],Yt.concenrationIn=Yt.value/dt}}te();function fe(ne){ne.forEach(function(kt){var Gt,Yt,Zt=0,It=kt.length,Nt;for(kt.sort(function(Ht,Lt){return Ht.y0-Lt.y0}),Nt=0;Nt<It;++Nt)Gt=kt[Nt],Gt.y0>=Zt||(Yt=Zt-Gt.y0,Yt>1e-6&&(Gt.y0+=Yt,Gt.y1+=Yt)),Zt=Gt.y1+nt})}function ve(ne){var kt=ne.map(function(Lt,dt){return{x0:Lt.x0,index:dt}}).sort(function(Lt,dt){return Lt.x0-dt.x0}),Gt=[],Yt=-1,Zt,It=-1/0,Nt;for(Et=0;Et<kt.length;Et++){var Ht=ne[kt[Et].index];Ht.x0>It+ht&&(Yt+=1,Zt=Ht.x0),It=Ht.x0,Gt[Yt]||(Gt[Yt]=[]),Gt[Yt].push(Ht),Nt=Zt-Ht.x0,Ht.x0+=Nt,Ht.x1+=Nt}return Gt}if($.node.x.length&&$.node.y.length){for(Et=0;Et<Math.min($.node.x.length,$.node.y.length,Rt.nodes.length);Et++)if($.node.x[Et]&&$.node.y[Et]){var de=[$.node.x[Et]*At,$.node.y[Et]*bt];Rt.nodes[Et].x0=de[0]-ht/2,Rt.nodes[Et].x1=de[0]+ht/2;var xe=Rt.nodes[Et].y1-Rt.nodes[Et].y0;Rt.nodes[Et].y0=de[1]-xe/2,Rt.nodes[Et].y1=de[1]+xe/2}if($.arrangement==="snap"){Pt=Rt.nodes;var Me=ve(Pt);fe(Me)}St.update(Rt)}return{circular:Ut,key:q,trace:$,guid:o.randstr(),horizontal:lt,width:At,height:bt,nodePad:$.node.pad,nodeLineColor:$.node.line.color,nodeLineWidth:$.node.line.width,linkLineColor:$.link.line.color,linkLineWidth:$.link.line.width,linkArrowLength:$.link.arrowlen,valueFormat:$.valueformat,valueSuffix:$.valuesuffix,textFont:$.textfont,translateX:j.x[0]*tt.width+tt.margin.l,translateY:tt.height-j.y[1]*tt.height+tt.margin.t,dragParallel:lt?bt:At,dragPerpendicular:lt?At:bt,arrangement:$.arrangement,sankey:St,graph:Rt,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function x(tt,Z,q){var ut=g(Z.color),$=g(Z.hovercolor),j=Z.source.label+"|"+Z.target.label,lt=j+"__"+q;return Z.trace=tt.trace,Z.curveNumber=tt.trace.index,{circular:tt.circular,key:lt,traceId:tt.key,pointNumber:Z.pointNumber,link:Z,tinyColorHue:r.tinyRGB(ut),tinyColorAlpha:ut.getAlpha(),tinyColorHoverHue:r.tinyRGB($),tinyColorHoverAlpha:$.getAlpha(),linkPath:S,linkLineColor:tt.linkLineColor,linkLineWidth:tt.linkLineWidth,linkArrowLength:tt.linkArrowLength,valueFormat:tt.valueFormat,valueSuffix:tt.valueSuffix,sankey:tt.sankey,parent:tt,interactionState:tt.interactionState,flow:Z.flow}}function E(tt,Z){var q="",ut=tt.width/2,$=tt.circularPathData;return tt.circularLinkType==="top"?q="M "+($.targetX-Z)+" "+($.targetY+ut)+" L"+($.rightInnerExtent-Z)+" "+($.targetY+ut)+"A"+($.rightLargeArcRadius+ut)+" "+($.rightSmallArcRadius+ut)+" 0 0 1 "+($.rightFullExtent-ut-Z)+" "+($.targetY-$.rightSmallArcRadius)+"L"+($.rightFullExtent-ut-Z)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+ut)+" "+($.rightLargeArcRadius+ut)+" 0 0 1 "+($.rightInnerExtent-Z)+" "+($.verticalFullExtent-ut)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent-ut)+"A"+($.leftLargeArcRadius+ut)+" "+($.leftLargeArcRadius+ut)+" 0 0 1 "+($.leftFullExtent+ut)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+ut)+" "+($.sourceY-$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+ut)+" "+($.leftSmallArcRadius+ut)+" 0 0 1 "+$.leftInnerExtent+" "+($.sourceY+ut)+"L"+$.sourceX+" "+($.sourceY+ut)+"L"+$.sourceX+" "+($.sourceY-ut)+"L"+$.leftInnerExtent+" "+($.sourceY-ut)+"A"+($.leftLargeArcRadius-ut)+" "+($.leftSmallArcRadius-ut)+" 0 0 0 "+($.leftFullExtent-ut)+" "+($.sourceY-$.leftSmallArcRadius)+"L"+($.leftFullExtent-ut)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-ut)+" "+($.leftLargeArcRadius-ut)+" 0 0 0 "+$.leftInnerExtent+" "+($.verticalFullExtent+ut)+"L"+($.rightInnerExtent-Z)+" "+($.verticalFullExtent+ut)+"A"+($.rightLargeArcRadius-ut)+" "+($.rightLargeArcRadius-ut)+" 0 0 0 "+($.rightFullExtent+ut-Z)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+ut-Z)+" "+($.targetY-$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-ut)+" "+($.rightSmallArcRadius-ut)+" 0 0 0 "+($.rightInnerExtent-Z)+" "+($.targetY-ut)+"L"+($.targetX-Z)+" "+($.targetY-ut)+(Z>0?"L"+$.targetX+" "+$.targetY:"")+"Z":q="M "+($.targetX-Z)+" "+($.targetY-ut)+" L"+($.rightInnerExtent-Z)+" "+($.targetY-ut)+"A"+($.rightLargeArcRadius+ut)+" "+($.rightSmallArcRadius+ut)+" 0 0 0 "+($.rightFullExtent-ut-Z)+" "+($.targetY+$.rightSmallArcRadius)+"L"+($.rightFullExtent-ut-Z)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+ut)+" "+($.rightLargeArcRadius+ut)+" 0 0 0 "+($.rightInnerExtent-Z)+" "+($.verticalFullExtent+ut)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent+ut)+"A"+($.leftLargeArcRadius+ut)+" "+($.leftLargeArcRadius+ut)+" 0 0 0 "+($.leftFullExtent+ut)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+ut)+" "+($.sourceY+$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+ut)+" "+($.leftSmallArcRadius+ut)+" 0 0 0 "+$.leftInnerExtent+" "+($.sourceY-ut)+"L"+$.sourceX+" "+($.sourceY-ut)+"L"+$.sourceX+" "+($.sourceY+ut)+"L"+$.leftInnerExtent+" "+($.sourceY+ut)+"A"+($.leftLargeArcRadius-ut)+" "+($.leftSmallArcRadius-ut)+" 0 0 1 "+($.leftFullExtent-ut)+" "+($.sourceY+$.leftSmallArcRadius)+"L"+($.leftFullExtent-ut)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-ut)+" "+($.leftLargeArcRadius-ut)+" 0 0 1 "+$.leftInnerExtent+" "+($.verticalFullExtent-ut)+"L"+($.rightInnerExtent-Z)+" "+($.verticalFullExtent-ut)+"A"+($.rightLargeArcRadius-ut)+" "+($.rightLargeArcRadius-ut)+" 0 0 1 "+($.rightFullExtent+ut-Z)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+ut-Z)+" "+($.targetY+$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-ut)+" "+($.rightSmallArcRadius-ut)+" 0 0 1 "+($.rightInnerExtent-Z)+" "+($.targetY+ut)+"L"+($.targetX-Z)+" "+($.targetY+ut)+(Z>0?"L"+$.targetX+" "+$.targetY:"")+"Z",q}function S(){var tt=.5;function Z(q){var ut=q.linkArrowLength;if(q.link.circular)return E(q.link,ut);var $=Math.abs((q.link.target.x0-q.link.source.x1)/2);ut>$&&(ut=$);var j=q.link.source.x1,lt=q.link.target.x0-ut,nt=D(j,lt),ht=nt(tt),mt=nt(1-tt),At=q.link.y0-q.link.width/2,bt=q.link.y0+q.link.width/2,Pt=q.link.y1-q.link.width/2,_t=q.link.y1+q.link.width/2,Ut="M"+j+","+At,St="C"+ht+","+At+" "+mt+","+Pt+" "+lt+","+Pt,Rt="C"+mt+","+_t+" "+ht+","+bt+" "+j+","+bt,Et=ut>0?"L"+(lt+ut)+","+(Pt+q.link.width/2):"";return Et+="L"+lt+","+_t,Ut+St+Et+Rt+"Z"}return Z}function a(tt,Z){var q=g(Z.color),ut=d.nodePadAcross,$=tt.nodePad/2;Z.dx=Z.x1-Z.x0,Z.dy=Z.y1-Z.y0;var j=Z.dx,lt=Math.max(.5,Z.dy),nt="node_"+Z.pointNumber;return Z.group&&(nt=o.randstr()),Z.trace=tt.trace,Z.curveNumber=tt.trace.index,{index:Z.pointNumber,key:nt,partOfGroup:Z.partOfGroup||!1,group:Z.group,traceId:tt.key,trace:tt.trace,node:Z,nodePad:tt.nodePad,nodeLineColor:tt.nodeLineColor,nodeLineWidth:tt.nodeLineWidth,textFont:tt.textFont,size:tt.horizontal?tt.height:tt.width,visibleWidth:Math.ceil(j),visibleHeight:lt,zoneX:-ut,zoneY:-$,zoneWidth:j+2*ut,zoneHeight:lt+2*$,labelY:tt.horizontal?Z.dy/2+1:Z.dx/2+1,left:Z.originalLayer===1,sizeAcross:tt.width,forceLayouts:tt.forceLayouts,horizontal:tt.horizontal,darkBackground:q.getBrightness()<=128,tinyColorHue:r.tinyRGB(q),tinyColorAlpha:q.getAlpha(),valueFormat:tt.valueFormat,valueSuffix:tt.valueSuffix,sankey:tt.sankey,graph:tt.graph,arrangement:tt.arrangement,uniqueNodeLabelPathId:[tt.guid,tt.key,nt].join("_"),interactionState:tt.interactionState,figure:tt}}function C(tt){tt.attr("transform",function(Z){return n(Z.node.x0.toFixed(3),Z.node.y0.toFixed(3))})}function b(tt){tt.call(C)}function z(tt,Z){tt.call(b),Z.attr("d",S())}function k(tt){tt.attr("width",function(Z){return Z.node.x1-Z.node.x0}).attr("height",function(Z){return Z.visibleHeight})}function U(tt){return tt.link.width>1||tt.linkLineWidth>0}function F(tt){var Z=n(tt.translateX,tt.translateY);return Z+(tt.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function V(tt,Z,q){tt.on(".basic",null).on("mouseover.basic",function(ut){!ut.interactionState.dragInProgress&&!ut.partOfGroup&&(q.hover(this,ut,Z),ut.interactionState.hovered=[this,ut])}).on("mousemove.basic",function(ut){!ut.interactionState.dragInProgress&&!ut.partOfGroup&&(q.follow(this,ut),ut.interactionState.hovered=[this,ut])}).on("mouseout.basic",function(ut){!ut.interactionState.dragInProgress&&!ut.partOfGroup&&(q.unhover(this,ut,Z),ut.interactionState.hovered=!1)}).on("click.basic",function(ut){ut.interactionState.hovered&&(q.unhover(this,ut,Z),ut.interactionState.hovered=!1),!ut.interactionState.dragInProgress&&!ut.partOfGroup&&q.select(this,ut,Z)})}function N(tt,Z,q,ut){var $=s.behavior.drag().origin(function(j){return{x:j.node.x0+j.visibleWidth/2,y:j.node.y0+j.visibleHeight/2}}).on("dragstart",function(j){if(j.arrangement!=="fixed"&&(o.ensureSingle(ut._fullLayout._infolayer,"g","dragcover",function(nt){ut._fullLayout._dragCover=nt}),o.raiseToTop(this),j.interactionState.dragInProgress=j.node,it(j.node),j.interactionState.hovered&&(q.nodeEvents.unhover.apply(0,j.interactionState.hovered),j.interactionState.hovered=!1),j.arrangement==="snap")){var lt=j.traceId+"|"+j.key;j.forceLayouts[lt]?j.forceLayouts[lt].alpha(1):O(tt,lt,j),H(tt,Z,j,lt,ut)}}).on("drag",function(j){if(j.arrangement!=="fixed"){var lt=s.event.x,nt=s.event.y;j.arrangement==="snap"?(j.node.x0=lt-j.visibleWidth/2,j.node.x1=lt+j.visibleWidth/2,j.node.y0=nt-j.visibleHeight/2,j.node.y1=nt+j.visibleHeight/2):(j.arrangement==="freeform"&&(j.node.x0=lt-j.visibleWidth/2,j.node.x1=lt+j.visibleWidth/2),nt=Math.max(0,Math.min(j.size-j.visibleHeight/2,nt)),j.node.y0=nt-j.visibleHeight/2,j.node.y1=nt+j.visibleHeight/2),it(j.node),j.arrangement!=="snap"&&(j.sankey.update(j.graph),z(tt.filter(ft(j)),Z))}}).on("dragend",function(j){if(j.arrangement!=="fixed"){j.interactionState.dragInProgress=!1;for(var lt=0;lt<j.node.childrenNodes.length;lt++)j.node.childrenNodes[lt].x=j.node.x,j.node.childrenNodes[lt].y=j.node.y;j.arrangement!=="snap"&&J(j,ut)}});tt.on(".drag",null).call($)}function O(tt,Z,q,ut){ot(q.graph.nodes);var $=q.graph.nodes.filter(function(j){return j.originalX===q.node.originalX}).filter(function(j){return!j.partOfGroup});q.forceLayouts[Z]=y.forceSimulation($).alphaDecay(0).force("collide",y.forceCollide().radius(function(j){return j.dy/2+q.nodePad/2}).strength(1).iterations(d.forceIterations)).force("constrain",X(tt,Z,$,q)).stop()}function H(tt,Z,q,ut,$){window.requestAnimationFrame(function j(){var lt;for(lt=0;lt<d.forceTicksPerFrame;lt++)q.forceLayouts[ut].tick();var nt=q.graph.nodes;if(Q(nt),q.sankey.update(q.graph),z(tt.filter(ft(q)),Z),q.forceLayouts[ut].alpha()>0)window.requestAnimationFrame(j);else{var ht=q.node.originalX;q.node.x0=ht-q.visibleWidth/2,q.node.x1=ht+q.visibleWidth/2,J(q,$)}})}function X(tt,Z,q,ut){return function(){for(var j=0,lt=0;lt<q.length;lt++){var nt=q[lt];nt===ut.interactionState.dragInProgress?(nt.x=nt.lastDraggedX,nt.y=nt.lastDraggedY):(nt.vx=(nt.originalX-nt.x)/d.forceTicksPerFrame,nt.y=Math.min(ut.size-nt.dy/2,Math.max(nt.dy/2,nt.y))),j=Math.max(j,Math.abs(nt.vx),Math.abs(nt.vy))}!ut.interactionState.dragInProgress&&j<.1&&ut.forceLayouts[Z].alpha()>0&&ut.forceLayouts[Z].alpha(0)}}function J(tt,Z){for(var q=[],ut=[],$=0;$<tt.graph.nodes.length;$++){var j=(tt.graph.nodes[$].x0+tt.graph.nodes[$].x1)/2,lt=(tt.graph.nodes[$].y0+tt.graph.nodes[$].y1)/2;q.push(j/tt.figure.width),ut.push(lt/tt.figure.height)}h.call("_guiRestyle",Z,{"node.x":[q],"node.y":[ut]},tt.trace.index).then(function(){Z._fullLayout._dragCover&&Z._fullLayout._dragCover.remove()})}function et(tt){var Z=[],q;for(q=0;q<tt.length;q++)tt[q].originalX=(tt[q].x0+tt[q].x1)/2,tt[q].originalY=(tt[q].y0+tt[q].y1)/2,Z.indexOf(tt[q].originalX)===-1&&Z.push(tt[q].originalX);for(Z.sort(function(ut,$){return ut-$}),q=0;q<tt.length;q++)tt[q].originalLayerIndex=Z.indexOf(tt[q].originalX),tt[q].originalLayer=tt[q].originalLayerIndex/(Z.length-1)}function it(tt){tt.lastDraggedX=tt.x0+tt.dx/2,tt.lastDraggedY=tt.y0+tt.dy/2}function ft(tt){return function(Z){return Z.node.originalX===tt.node.originalX}}function ot(tt){for(var Z=0;Z<tt.length;Z++)tt[Z].y=(tt[Z].y0+tt[Z].y1)/2,tt[Z].x=(tt[Z].x0+tt[Z].x1)/2}function Q(tt){for(var Z=0;Z<tt.length;Z++)tt[Z].y0=tt[Z].y-tt[Z].dy/2,tt[Z].y1=tt[Z].y0+tt[Z].dy,tt[Z].x0=tt[Z].x-tt[Z].dx/2,tt[Z].x1=tt[Z].x0+tt[Z].dx}W.exports=function(tt,Z,q,ut,$){var j=tt._context.staticPlot,lt=!1;o.ensureSingle(tt._fullLayout._infolayer,"g","first-render",function(){lt=!0});var nt=tt._fullLayout._dragCover,ht=q.filter(function(Rt){return v(Rt).trace.visible}).map(L.bind(null,ut)),mt=Z.selectAll("."+d.cn.sankey).data(ht,c);mt.exit().remove(),mt.enter().append("g").classed(d.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",j?"none":"auto").attr("transform",F),mt.each(function(Rt,Et){tt._fullData[Et]._sankey=Rt;var zt="bgsankey-"+Rt.trace.uid+"-"+Et;o.ensureSingle(tt._fullLayout._draggers,"rect",zt),tt._fullData[Et]._bgRect=s.select("."+zt),tt._fullData[Et]._bgRect.style("pointer-events",j?"none":"all").attr("width",Rt.width).attr("height",Rt.height).attr("x",Rt.translateX).attr("y",Rt.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),mt.transition().ease(d.ease).duration(d.duration).attr("transform",F);var At=mt.selectAll("."+d.cn.sankeyLinks).data(m,c);At.enter().append("g").classed(d.cn.sankeyLinks,!0).style("fill","none");var bt=At.selectAll("."+d.cn.sankeyLink).data(function(Rt){var Et=Rt.graph.links;return Et.filter(function(zt){return zt.value}).map(x.bind(null,Rt))},c);bt.enter().append("path").classed(d.cn.sankeyLink,!0).call(V,mt,$.linkEvents),bt.style("stroke",function(Rt){return U(Rt)?r.tinyRGB(g(Rt.linkLineColor)):Rt.tinyColorHue}).style("stroke-opacity",function(Rt){return U(Rt)?r.opacity(Rt.linkLineColor):Rt.tinyColorAlpha}).style("fill",function(Rt){return Rt.tinyColorHue}).style("fill-opacity",function(Rt){return Rt.tinyColorAlpha}).style("stroke-width",function(Rt){return U(Rt)?Rt.linkLineWidth:1}).attr("d",S()),bt.style("opacity",function(){return tt._context.staticPlot||lt||nt?1:0}).transition().ease(d.ease).duration(d.duration).style("opacity",1),bt.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var Pt=mt.selectAll("."+d.cn.sankeyNodeSet).data(m,c);Pt.enter().append("g").classed(d.cn.sankeyNodeSet,!0),Pt.style("cursor",function(Rt){switch(Rt.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var _t=Pt.selectAll("."+d.cn.sankeyNode).data(function(Rt){var Et=Rt.graph.nodes;return et(Et),Et.map(a.bind(null,Rt))},c);_t.enter().append("g").classed(d.cn.sankeyNode,!0).call(C).style("opacity",function(Rt){return(tt._context.staticPlot||lt)&&!Rt.partOfGroup?1:0}),_t.call(V,mt,$.nodeEvents).call(N,bt,$,tt),_t.transition().ease(d.ease).duration(d.duration).call(C).style("opacity",function(Rt){return Rt.partOfGroup?0:1}),_t.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var Ut=_t.selectAll("."+d.cn.nodeRect).data(m);Ut.enter().append("rect").classed(d.cn.nodeRect,!0).call(k),Ut.style("stroke-width",function(Rt){return Rt.nodeLineWidth}).style("stroke",function(Rt){return r.tinyRGB(g(Rt.nodeLineColor))}).style("stroke-opacity",function(Rt){return r.opacity(Rt.nodeLineColor)}).style("fill",function(Rt){return Rt.tinyColorHue}).style("fill-opacity",function(Rt){return Rt.tinyColorAlpha}),Ut.transition().ease(d.ease).duration(d.duration).call(k);var St=_t.selectAll("."+d.cn.nodeLabel).data(m);St.enter().append("text").classed(d.cn.nodeLabel,!0).style("cursor","default"),St.attr("data-notex",1).text(function(Rt){return Rt.node.label}).each(function(Rt){var Et=s.select(this);e.font(Et,Rt.textFont),T.convertToTspans(Et,tt)}).attr("text-anchor",function(Rt){return Rt.horizontal&&Rt.left?"end":"start"}).attr("transform",function(Rt){var Et=s.select(this),zt=T.lineCount(Et),Ct=Rt.textFont.size*((zt-1)*w-p),Wt=Rt.nodeLineWidth/2+A,Kt=((Rt.horizontal?Rt.visibleHeight:Rt.visibleWidth)-Ct)/2;Rt.horizontal&&(Rt.left?Wt=-Wt:Wt+=Rt.visibleWidth);var oe=Rt.horizontal?"":"scale(-1,1)"+u(90);return n(Rt.horizontal?Wt:Kt,Rt.horizontal?Kt:Wt)+oe}),St.transition().ease(d.ease).duration(d.duration)}},81128:function(W){W.exports=function(t,y){for(var D=t.cd,s=[],P=D[0].trace,M=P._sankey.graph.nodes,d=0;d<M.length;d++){var g=M[d];if(!g.partOfGroup){var r=[(g.x0+g.x1)/2,(g.y0+g.y1)/2];P.orientation==="v"&&r.reverse(),y&&y.contains(r,!1,d,t)&&s.push({pointNumber:g.pointNumber})}}return s}},20148:function(W,G,t){var y=t(3400);W.exports=function(s,P){for(var M=0;M<s.length;M++)s[M].i=M;y.mergeArray(P.text,s,"tx"),y.mergeArray(P.texttemplate,s,"txt"),y.mergeArray(P.hovertext,s,"htx"),y.mergeArray(P.customdata,s,"data"),y.mergeArray(P.textposition,s,"tp"),P.textfont&&(y.mergeArrayCastPositive(P.textfont.size,s,"ts"),y.mergeArray(P.textfont.color,s,"tc"),y.mergeArray(P.textfont.family,s,"tf"),y.mergeArray(P.textfont.weight,s,"tw"),y.mergeArray(P.textfont.style,s,"ty"),y.mergeArray(P.textfont.variant,s,"tv"),y.mergeArray(P.textfont.textcase,s,"tC"),y.mergeArray(P.textfont.lineposition,s,"tE"),y.mergeArray(P.textfont.shadow,s,"tS"));var d=P.marker;if(d){y.mergeArrayCastPositive(d.size,s,"ms"),y.mergeArrayCastPositive(d.opacity,s,"mo"),y.mergeArray(d.symbol,s,"mx"),y.mergeArray(d.angle,s,"ma"),y.mergeArray(d.standoff,s,"mf"),y.mergeArray(d.color,s,"mc");var g=d.line;d.line&&(y.mergeArray(g.color,s,"mlc"),y.mergeArrayCastPositive(g.width,s,"mlw"));var r=d.gradient;r&&r.type!=="none"&&(y.mergeArray(r.type,s,"mgt"),y.mergeArray(r.color,s,"mgc"))}}},52904:function(W,G,t){var y=t(29736).axisHoverFormat,D=t(21776).Gw,s=t(21776).Ks,P=t(49084),M=t(25376),d=t(98192).u,g=t(98192).c,r=t(43616),e=t(88200),o=t(92880).extendFlat,n=t(98304);function u(m){return{valType:"any",dflt:0,editType:"calc"}}function f(m){return{valType:"any",editType:"calc"}}function c(m){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}W.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:u(),yperiod:u(),xperiod0:f(),yperiod0:f(),xperiodalignment:c(),yperiodalignment:c(),xhoverformat:y("x"),yhoverformat:y("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:D({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:s({},{keys:e.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:o({},d,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:o({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:g,marker:o({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:o({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},P("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},P("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:M({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(W,G,t){var y=t(38248),D=t(3400),s=t(54460),P=t(1220),M=t(39032).BADNUM,d=t(43028),g=t(90136),r=t(20148),e=t(4500);function o(v,T){var h=v._fullLayout,i=T._xA=s.getFromId(v,T.xaxis||"x","x"),p=T._yA=s.getFromId(v,T.yaxis||"y","y"),w=i.makeCalcdata(T,"x"),A=p.makeCalcdata(T,"y"),L=P(T,i,"x",w),x=P(T,p,"y",A),E=L.vals,S=x.vals,a=T._length,C=new Array(a),b=T.ids,z=m(T,h,i,p),k=!1,U,F,V,N,O,H;f(h,T);var X="x",J="y",et;if(z)D.pushUnique(z.traceIndices,T._expandedIndex),U=z.orientation==="v",U?(J="s",et="x"):(X="s",et="y"),O=z.stackgaps==="interpolate";else{var it=u(T,a);n(v,T,i,p,E,S,it)}var ft=!!T.xperiodalignment,ot=!!T.yperiodalignment;for(F=0;F<a;F++){var Q=C[F]={},tt=y(E[F]),Z=y(S[F]);tt&&Z?(Q[X]=E[F],Q[J]=S[F],ft&&(Q.orig_x=w[F],Q.xEnd=L.ends[F],Q.xStart=L.starts[F]),ot&&(Q.orig_y=A[F],Q.yEnd=x.ends[F],Q.yStart=x.starts[F])):z&&(U?tt:Z)?(Q[et]=U?E[F]:S[F],Q.gap=!0,O?(Q.s=M,k=!0):Q.s=0):Q[X]=Q[J]=M,b&&(Q.id=String(b[F]))}if(r(C,T),g(v,T),e(C,T),z){for(F=0;F<C.length;)C[F][et]===M?C.splice(F,1):F++;if(D.sort(C,function(j,lt){return j[et]-lt[et]||j.i-lt.i}),k){for(F=0;F<C.length-1&&C[F].gap;)F++;for(H=C[F].s,H||(H=C[F].s=0),V=0;V<F;V++)C[V].s=H;for(N=C.length-1;N>F&&C[N].gap;)N--;for(H=C[N].s,V=C.length-1;V>N;V--)C[V].s=H;for(;F<N;)if(F++,C[F].gap){for(V=F+1;C[V].gap;)V++;for(var q=C[F-1][et],ut=C[F-1].s,$=(C[V].s-ut)/(C[V][et]-q);F<V;)C[F].s=ut+(C[F][et]-q)*$,F++}}}return C}function n(v,T,h,i,p,w,A){var L=T._length,x=v._fullLayout,E=h._id,S=i._id,a=x._firstScatter[c(T)]===T.uid,C=(m(T,x,h,i)||{}).orientation,b=T.fill;h._minDtick=0,i._minDtick=0;var z={padded:!0},k={padded:!0};A&&(z.ppad=k.ppad=A);var U=L<2||p[0]!==p[L-1]||w[0]!==w[L-1];U&&(b==="tozerox"||b==="tonextx"&&(a||C==="h"))?z.tozero=!0:!(T.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!d.hasMarkers(T)&&!d.hasText(T))&&(z.padded=!1,z.ppad=0),U&&(b==="tozeroy"||b==="tonexty"&&(a||C==="v"))?k.tozero=!0:(b==="tonextx"||b==="tozerox")&&(k.padded=!1),E&&(T._extremes[E]=s.findExtremes(h,p,z)),S&&(T._extremes[S]=s.findExtremes(i,w,k))}function u(v,T){if(d.hasMarkers(v)){var h=v.marker,i=1.6*(v.marker.sizeref||1),p;if(v.marker.sizemode==="area"?p=function(E){return Math.max(Math.sqrt((E||0)/i),3)}:p=function(E){return Math.max((E||0)/i,3)},D.isArrayOrTypedArray(h.size)){var w={type:"linear"};s.setConvert(w);for(var A=w.makeCalcdata(v.marker,"size"),L=new Array(T),x=0;x<T;x++)L[x]=p(A[x]);return L}else return p(h.size)}}function f(v,T){var h=c(T),i=v._firstScatter;i[h]||(i[h]=T.uid)}function c(v){var T=v.stackgroup;return v.xaxis+v.yaxis+v.type+(T?"-"+T:"")}function m(v,T,h,i){var p=v.stackgroup;if(p){var w=T._scatterStackOpts[h._id+i._id][p],A=w.orientation==="v"?i:h;if(A.type==="linear"||A.type==="log")return w}}W.exports={calc:o,calcMarkerSize:u,calcAxisExpansion:n,setFirstScatter:f,getStackOpts:m}},4500:function(W,G,t){var y=t(3400);W.exports=function(s,P){y.isArrayOrTypedArray(P.selectedpoints)&&y.tagSelected(s,P)}},90136:function(W,G,t){var y=t(94288).hasColorscale,D=t(47128),s=t(43028);W.exports=function(M,d){s.hasLines(d)&&y(d,"line")&&D(M,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),s.hasMarkers(d)&&(y(d,"marker")&&D(M,d,{vals:d.marker.color,containerStr:"marker",cLetter:"c"}),y(d,"marker.line")&&D(M,d,{vals:d.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(W){W.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(W,G,t){var y=t(16356),D=t(96376).setGroupPositions;function s(d,g){for(var r=g.xaxis,e=g.yaxis,o=d._fullLayout,n=d._fullData,u=d.calcdata,f=[],c=[],m=0;m<n.length;m++){var v=n[m];v.visible===!0&&v.type==="scatter"&&v.xaxis===r._id&&v.yaxis===e._id&&(v.orientation==="h"?f.push(u[m]):v.orientation==="v"&&c.push(u[m]))}var T={mode:o.scattermode,gap:o.scattergap};D(d,r,e,c,T),D(d,e,r,f,T)}W.exports=function(g,r){g._fullLayout.scattermode==="group"&&s(g,r);var e=r.xaxis,o=r.yaxis,n=e._id+o._id,u=g._fullLayout._scatterStackOpts[n];if(u){var f=g.calcdata,c,m,v,T,h,i,p,w,A,L,x,E,S,a,C;for(var b in u){L=u[b];var z=L.traceIndices;if(z.length){for(x=L.stackgaps==="interpolate",E=L.groupnorm,L.orientation==="v"?(S="x",a="y"):(S="y",a="x"),C=new Array(z.length),c=0;c<C.length;c++)C[c]=!1;i=f[z[0]];var k=new Array(i.length);for(c=0;c<i.length;c++)k[c]=i[c][S];for(c=1;c<z.length;c++){for(h=f[z[c]],m=v=0;m<h.length;m++){for(p=h[m][S];p>k[v]&&v<k.length;v++)P(h,m,k[v],c,C,x,S),m++;if(p!==k[v]){for(T=0;T<c;T++)P(f[z[T]],v,p,T,C,x,S);k.splice(v,0,p)}v++}for(;v<k.length;v++)P(h,m,k[v],c,C,x,S),m++}var U=k.length;for(m=0;m<i.length;m++){for(w=i[m][a]=i[m].s,c=1;c<z.length;c++)h=f[z[c]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=U,w+=h[m].s,h[m][a]=w;if(E)for(A=(E==="fraction"?w:w/100)||1,c=0;c<z.length;c++){var F=f[z[c]][m];F[a]/=A,F.sNorm=F.s/A}}for(c=0;c<z.length;c++){h=f[z[c]];var V=h[0].trace,N=y.calcMarkerSize(V,V._rawLength),O=Array.isArray(N);if(N&&C[c]||O){var H=N;for(N=new Array(U),m=0;m<U;m++)N[m]=h[m].gap?0:O?H[h[m].i]:H}var X=new Array(U),J=new Array(U);for(m=0;m<U;m++)X[m]=h[m].x,J[m]=h[m].y;y.calcAxisExpansion(g,V,e,o,X,J,N),h[0].t.orientation=L.orientation}}}}};function P(d,g,r,e,o,n,u){o[e]=!0;var f={i:null,gap:!0,s:0};if(f[u]=r,d.splice(g,0,f),g&&r===d[g-1][u]){var c=d[g-1];f.s=c.s,f.i=c.i,f.gap=c.gap}else n&&(f.s=M(d,g,r,u));g||(d[0].t=d[1].t,d[0].trace=d[1].trace,delete d[1].t,delete d[1].trace)}function M(d,g,r,e){var o=d[g-1],n=d[g+1];return n?o?o.s+(n.s-o.s)*(r-o[e])/(n[e]-o[e]):n.s:o.s}},35036:function(W,G,t){var y=t(3400),D=t(20011),s=t(52904);W.exports=function(M,d){var g,r,e;function o(m){return y.coerce(r._input,r,s,m)}if(d.scattermode==="group")for(e=0;e<M.length;e++)r=M[e],r.type==="scatter"&&(g=r._input,D(g,r,d,o));for(e=0;e<M.length;e++){var n=M[e];if(n.type==="scatter"){var u=n.fill;if(!(u==="none"||u==="toself")&&(n.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var f=e-1;f>=0;f--){var c=M[f];if(c.type==="scatter"&&c.xaxis===n.xaxis&&c.yaxis===n.yaxis){c.opacity=void 0;break}}}}}},18800:function(W,G,t){var y=t(3400),D=t(24040),s=t(52904),P=t(88200),M=t(43028),d=t(43980),g=t(31147),r=t(43912),e=t(74428),o=t(66828),n=t(11731),u=t(124),f=t(70840),c=t(3400).coercePattern;W.exports=function(v,T,h,i){function p(C,b){return y.coerce(v,T,s,C,b)}var w=d(v,T,i,p);if(w||(T.visible=!1),!!T.visible){g(v,T,i,p),p("xhoverformat"),p("yhoverformat"),p("zorder");var A=r(v,T,i,p);i.scattermode==="group"&&T.orientation===void 0&&p("orientation","v");var L=!A&&w<P.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",L),M.hasMarkers(T)&&e(v,T,h,i,p,{gradient:!0}),M.hasLines(T)&&(o(v,T,h,i,p,{backoff:!0}),n(v,T,p),p("connectgaps"),p("line.simplify")),M.hasText(T)&&(p("texttemplate"),u(v,T,i,p));var x=[];(M.hasMarkers(T)||M.hasText(T))&&(p("cliponaxis"),p("marker.maxdisplayed"),x.push("points")),p("fill",A?A.fillDflt:"none"),T.fill!=="none"&&(f(v,T,h,p,{moduleHasFillgradient:!0}),M.hasLines(T)||n(v,T,p),c(p,"fillpattern",T.fillcolor,!1));var E=(T.line||{}).color,S=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&x.push("fills"),p("hoveron",x.join("+")||"points"),T.hoveron!=="fills"&&p("hovertemplate");var a=D.getComponentMethod("errorbars","supplyDefaults");a(v,T,E||S||h,{axis:"y"}),a(v,T,E||S||h,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(T,p)}}},98304:function(W){W.exports=function(t){return{valType:"color",editType:"style",anim:!0}}},70840:function(W,G,t){var y=t(76308),D=t(3400).isArrayOrTypedArray;function s(P){for(var M=y.interpolate(P[0][1],P[1][1],.5),d=2;d<P.length;d++){var g=y.interpolate(P[d-1][1],P[d][1],.5);M=y.interpolate(M,g,P[d-1][0]/P[d][0])}return M}W.exports=function(M,d,g,r,e){e||(e={});var o=!1;if(d.marker){var n=d.marker.color,u=(d.marker.line||{}).color;n&&!D(n)?o=n:u&&!D(u)&&(o=u)}var f;if(e.moduleHasFillgradient){var c=r("fillgradient.type");if(c!=="none"){r("fillgradient.start"),r("fillgradient.stop");var m=r("fillgradient.colorscale");m&&(f=s(m))}}r("fillcolor",y.addOpacity((d.line||{}).color||o||f||g,.5))}},76688:function(W,G,t){var y=t(54460);W.exports=function(s,P,M){var d={},g={_fullLayout:M},r=y.getFromTrace(g,P,"x"),e=y.getFromTrace(g,P,"y"),o=s.orig_x;o===void 0&&(o=s.x);var n=s.orig_y;return n===void 0&&(n=s.y),d.xLabel=y.tickText(r,r.c2l(o),!0).text,d.yLabel=y.tickText(e,e.c2l(n),!0).text,d}},44928:function(W,G,t){var y=t(76308),D=t(43028);W.exports=function(P,M){var d,g;if(P.mode==="lines")return d=P.line.color,d&&y.opacity(d)?d:P.fillcolor;if(P.mode==="none")return P.fill?P.fillcolor:"";var r=M.mcc||(P.marker||{}).color,e=M.mlcc||((P.marker||{}).line||{}).color;return g=r&&y.opacity(r)?r:e&&y.opacity(e)&&(M.mlw||((P.marker||{}).line||{}).width)?e:"",g?y.opacity(g)<.3?y.addOpacity(g,.3):g:(d=(P.line||{}).color,d&&y.opacity(d)&&D.hasLines(P)&&P.line.width?d:P.fillcolor)}},20011:function(W,G,t){var y=t(71888).getAxisGroup;W.exports=function(s,P,M,d){var g=P.orientation,r=P[{v:"x",h:"y"}[g]+"axis"],e=y(M,r)+g,o=M._alignmentOpts||{},n=d("alignmentgroup"),u=o[e];u||(u=o[e]={});var f=u[n];f?f.traces.push(P):f=u[n]={traces:[P],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var c=d("offsetgroup"),m=f.offsetGroups,v=m[c];c&&(v||(v=m[c]={offsetIndex:Object.keys(m).length}),P._offsetIndex=v.offsetIndex)}},98723:function(W,G,t){var y=t(3400),D=t(93024),s=t(24040),P=t(44928),M=t(76308),d=y.fillText;W.exports=function(r,e,o,n){var u=r.cd,f=u[0].trace,c=r.xa,m=r.ya,v=c.c2p(e),T=m.c2p(o),h=[v,T],i=f.hoveron||"",p=f.mode.indexOf("markers")!==-1?3:.5,w=!!f.xperiodalignment,A=!!f.yperiodalignment;if(i.indexOf("points")!==-1){var L=function(et){if(w){var it=c.c2p(et.xStart),ft=c.c2p(et.xEnd);return v>=Math.min(it,ft)&&v<=Math.max(it,ft)?0:1/0}var ot=Math.max(3,et.mrc||0),Q=1-1/ot,tt=Math.abs(c.c2p(et.x)-v);return tt<ot?Q*tt/ot:tt-ot+Q},x=function(et){if(A){var it=m.c2p(et.yStart),ft=m.c2p(et.yEnd);return T>=Math.min(it,ft)&&T<=Math.max(it,ft)?0:1/0}var ot=Math.max(3,et.mrc||0),Q=1-1/ot,tt=Math.abs(m.c2p(et.y)-T);return tt<ot?Q*tt/ot:tt-ot+Q},E=function(et){var it=Math.max(p,et.mrc||0),ft=c.c2p(et.x)-v,ot=m.c2p(et.y)-T;return Math.max(Math.sqrt(ft*ft+ot*ot)-it,1-p/it)},S=D.getDistanceFunction(n,L,x,E);if(D.getClosest(u,S,r),r.index!==!1){var a=u[r.index],C=c.c2p(a.x,!0),b=m.c2p(a.y,!0),z=a.mrc||1;r.index=a.i;var k=u[0].t.orientation,U=k&&(a.sNorm||a.s),F=k==="h"?U:a.orig_x!==void 0?a.orig_x:a.x,V=k==="v"?U:a.orig_y!==void 0?a.orig_y:a.y;return y.extendFlat(r,{color:P(f,a),x0:C-z,x1:C+z,xLabelVal:F,y0:b-z,y1:b+z,yLabelVal:V,spikeDistance:E(a),hovertemplate:f.hovertemplate}),d(a,f,r),s.getComponentMethod("errorbars","hoverInfo")(a,f,r),[r]}}function N(et){if(!et)return!1;var it=et.node();try{var ft=new DOMPoint(h[0],h[1]);return it.isPointInFill(ft)}catch{var ot=it.ownerSVGElement.createSVGPoint();return ot.x=h[0],ot.y=h[1],it.isPointInFill(ot)}}function O(et){var it,ft=[],ot=1/0,Q=-1/0,tt=1/0,Z=-1/0,q;for(it=0;it<et.length;it++){var ut=et[it];ut.contains(h)&&(ft.push(ut),tt=Math.min(tt,ut.ymin),Z=Math.max(Z,ut.ymax))}if(ft.length===0)return null;tt=Math.max(tt,0),Z=Math.min(Z,m._length),q=(tt+Z)/2;var $,j,lt,nt,ht,mt,At;for(it=0;it<ft.length;it++)for(j=ft[it].pts,$=1;$<j.length;$++)mt=j[$-1][1],At=j[$][1],mt>q!=At>=q&&(nt=j[$-1][0],ht=j[$][0],At-mt&&(lt=nt+(ht-nt)*(q-mt)/(At-mt),ot=Math.min(ot,lt),Q=Math.max(Q,lt)));return ot=Math.max(ot,0),Q=Math.min(Q,c._length),{x0:ot,x1:Q,y0:q,y1:q}}if(i.indexOf("fills")!==-1&&f._fillElement){var H=N(f._fillElement)&&!N(f._fillExclusionElement);if(H){var X=O(f._polygons);X===null&&(X={x0:h[0],x1:h[0],y0:h[1],y1:h[1]});var J=M.defaultLine;return M.opacity(f.fillcolor)?J=f.fillcolor:M.opacity((f.line||{}).color)&&(J=f.line.color),y.extendFlat(r,{distance:r.maxHoverDistance,x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1,color:J,hovertemplate:!1}),delete r.index,f.text&&!y.isArrayOrTypedArray(f.text)?r.text=String(f.text):r.text=f.name,[r]}}}},65875:function(W,G,t){var y=t(43028);W.exports={hasLines:y.hasLines,hasMarkers:y.hasMarkers,hasText:y.hasText,isBubble:y.isBubble,attributes:t(52904),layoutAttributes:t(55308),supplyDefaults:t(18800),crossTraceDefaults:t(35036),supplyLayoutDefaults:t(59748),calc:t(16356).calc,crossTraceCalc:t(96664),arraysToCalcdata:t(20148),plot:t(96504),colorbar:t(5528),formatLabels:t(76688),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(98723),selectPoints:t(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(W){W.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(W,G,t){var y=t(3400),D=t(55308);W.exports=function(s,P){function M(g,r){return y.coerce(s,P,D,g,r)}var d=P.barmode==="group";P.scattermode==="group"&&M("scattergap",d?P.bargap:.2)}},66828:function(W,G,t){var y=t(3400).isArrayOrTypedArray,D=t(94288).hasColorscale,s=t(27260);W.exports=function(M,d,g,r,e,o){o||(o={});var n=(M.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),e("line.color",g),D(M,"line"))s(M,d,r,e,{prefix:"line.",cLetter:"c"});else{var u=(y(n)?!1:n)||g;e("line.color",u)}e("line.width"),o.noDash||e("line.dash"),o.backoff&&e("line.backoff")}},52340:function(W,G,t){var y=t(43616),D=t(39032),s=D.BADNUM,P=D.LOG_CLIP,M=P+.5,d=P-.5,g=t(3400),r=g.segmentsIntersect,e=g.constrain,o=t(88200);W.exports=function(u,f){var c=f.trace||{},m=f.xaxis,v=f.yaxis,T=m.type==="log",h=v.type==="log",i=m._length,p=v._length,w=f.backoff,A=c.marker,L=f.connectGaps,x=f.baseTolerance,E=f.shape,S=E==="linear",a=c.fill&&c.fill!=="none",C=[],b=o.minTolerance,z=u.length,k=new Array(z),U=0,F,V,N,O,H,X,J,et,it,ft,ot,Q,tt,Z,q,ut;function $(ie){var le=u[ie];if(!le)return!1;var Ve=f.linearized?m.l2p(le.x):m.c2p(le.x),je=f.linearized?v.l2p(le.y):v.c2p(le.y);if(Ve===s){if(T&&(Ve=m.c2p(le.x,!0)),Ve===s)return!1;h&&je===s&&(Ve*=Math.abs(m._m*p*(m._m>0?M:d)/(v._m*i*(v._m>0?M:d)))),Ve*=1e3}if(je===s){if(h&&(je=v.c2p(le.y,!0)),je===s)return!1;je*=1e3}return[Ve,je]}function j(ie,le,Ve,je){var Te=Ve-ie,Le=je-le,Ke=.5-ie,vr=.5-le,ge=Te*Te+Le*Le,Xe=Te*Ke+Le*vr;if(Xe>0&&Xe<ge){var $e=Ke*Le-vr*Te;if($e*$e<ge)return!0}}var lt,nt;function ht(ie,le){var Ve=ie[0]/i,je=ie[1]/p,Te=Math.max(0,-Ve,Ve-1,-je,je-1);return Te&&lt!==void 0&&j(Ve,je,lt,nt)&&(Te=0),Te&&le&&j(Ve,je,le[0]/i,le[1]/p)&&(Te=0),(1+o.toleranceGrowth*Te)*x}function mt(ie,le){var Ve=ie[0]-le[0],je=ie[1]-le[1];return Math.sqrt(Ve*Ve+je*je)}var At=o.maxScreensAway,bt=-i*At,Pt=i*(1+At),_t=-p*At,Ut=p*(1+At),St=[[bt,_t,Pt,_t],[Pt,_t,Pt,Ut],[Pt,Ut,bt,Ut],[bt,Ut,bt,_t]],Rt,Et,zt,Ct,Wt,Kt;function oe(ie,le){for(var Ve=[],je=0,Te=0;Te<4;Te++){var Le=St[Te],Ke=r(ie[0],ie[1],le[0],le[1],Le[0],Le[1],Le[2],Le[3]);Ke&&(!je||Math.abs(Ke.x-Ve[0][0])>1||Math.abs(Ke.y-Ve[0][1])>1)&&(Ke=[Ke.x,Ke.y],je&&mt(Ke,ie)<mt(Ve[0],ie)?Ve.unshift(Ke):Ve.push(Ke),je++)}return Ve}function Jt(ie){if(ie[0]<bt||ie[0]>Pt||ie[1]<_t||ie[1]>Ut)return[e(ie[0],bt,Pt),e(ie[1],_t,Ut)]}function te(ie,le){if(ie[0]===le[0]&&(ie[0]===bt||ie[0]===Pt)||ie[1]===le[1]&&(ie[1]===_t||ie[1]===Ut))return!0}function fe(ie,le){var Ve=[],je=Jt(ie),Te=Jt(le);return je&&Te&&te(je,Te)||(je&&Ve.push(je),Te&&Ve.push(Te)),Ve}function ve(ie,le,Ve){return function(je,Te){var Le=Jt(je),Ke=Jt(Te),vr=[];if(Le&&Ke&&te(Le,Ke))return vr;Le&&vr.push(Le),Ke&&vr.push(Ke);var ge=2*g.constrain((je[ie]+Te[ie])/2,le,Ve)-((Le||je)[ie]+(Ke||Te)[ie]);if(ge){var Xe;Le&&Ke?Xe=ge>0==Le[ie]>Ke[ie]?Le:Ke:Xe=Le||Ke,Xe[ie]+=ge}return vr}}var de;E==="linear"||E==="spline"?de=oe:E==="hv"||E==="vh"?de=fe:E==="hvh"?de=ve(0,bt,Pt):E==="vhv"&&(de=ve(1,_t,Ut));function xe(ie,le){var Ve=le[0]-ie[0],je=(le[1]-ie[1])/Ve,Te=(ie[1]*le[0]-le[1]*ie[0])/Ve;return Te>0?[je>0?bt:Pt,Ut]:[je>0?Pt:bt,_t]}function Me(ie){var le=ie[0],Ve=ie[1],je=le===k[U-1][0],Te=Ve===k[U-1][1];if(!(je&&Te))if(U>1){var Le=le===k[U-2][0],Ke=Ve===k[U-2][1];je&&(le===bt||le===Pt)&&Le?Ke?U--:k[U-1]=ie:Te&&(Ve===_t||Ve===Ut)&&Ke?Le?U--:k[U-1]=ie:k[U++]=ie}else k[U++]=ie}function ne(ie){k[U-1][0]!==ie[0]&&k[U-1][1]!==ie[1]&&Me([zt,Ct]),Me(ie),Wt=null,zt=Ct=0}var kt=g.isArrayOrTypedArray(A);function Gt(ie){if(ie&&w&&(ie.i=F,ie.d=u,ie.trace=c,ie.marker=kt?A[ie.i]:A,ie.backoff=w),lt=ie[0]/i,nt=ie[1]/p,Rt=ie[0]<bt?bt:ie[0]>Pt?Pt:0,Et=ie[1]<_t?_t:ie[1]>Ut?Ut:0,Rt||Et){if(!U)k[U++]=[Rt||ie[0],Et||ie[1]];else if(Wt){var le=de(Wt,ie);le.length>1&&(ne(le[0]),k[U++]=le[1])}else Kt=de(k[U-1],ie)[0],k[U++]=Kt;var Ve=k[U-1];Rt&&Et&&(Ve[0]!==Rt||Ve[1]!==Et)?(Wt&&(zt!==Rt&&Ct!==Et?Me(zt&&Ct?xe(Wt,ie):[zt||Rt,Ct||Et]):zt&&Ct&&Me([zt,Ct])),Me([Rt,Et])):zt-Rt&&Ct-Et&&Me([Rt||zt,Et||Ct]),Wt=ie,zt=Rt,Ct=Et}else Wt&&ne(de(Wt,ie)[0]),k[U++]=ie}for(F=0;F<z;F++)if(V=$(F),!!V){for(U=0,Wt=null,Gt(V),F++;F<z;F++){if(O=$(F),!O){if(L)continue;break}if(!S||!f.simplify){Gt(O);continue}var Yt=$(F+1);if(ft=mt(O,V),!(!(a&&(U===0||U===z-1))&&ft<ht(O,Yt)*b)){for(et=[(O[0]-V[0])/ft,(O[1]-V[1])/ft],H=V,ot=ft,Q=Z=q=0,J=!1,N=O,F++;F<u.length;F++){if(X=Yt,Yt=$(F+1),!X){if(L)continue;break}if(it=[X[0]-V[0],X[1]-V[1]],ut=it[0]*et[1]-it[1]*et[0],Z=Math.min(Z,ut),q=Math.max(q,ut),q-Z>ht(X,Yt))break;N=X,tt=it[0]*et[0]+it[1]*et[1],tt>ot?(ot=tt,O=X,J=!1):tt<Q&&(Q=tt,H=X,J=!0)}if(J?(Gt(O),N!==H&&Gt(H)):(H!==V&&Gt(H),N!==O&&Gt(O)),Gt(N),F>=u.length||!X)break;Gt(X),V=X}}Wt&&Me([zt||Wt[0],Ct||Wt[1]]),C.push(k.slice(0,U))}var Zt=E.slice(E.length-1);if(w&&Zt!=="h"&&Zt!=="v"){for(var It=!1,Nt=-1,Ht=[],Lt=0;Lt<C.length;Lt++)for(var dt=0;dt<C[Lt].length-1;dt++){var xt=C[Lt][dt],Ot=C[Lt][dt+1],jt=y.applyBackoff(Ot,xt);(jt[0]!==Ot[0]||jt[1]!==Ot[1])&&(It=!0),Ht[Nt+1]||(Nt++,Ht[Nt]=[xt,[jt[0],jt[1]]])}return It?Ht:C}return C}},11731:function(W){W.exports=function(t,y,D){var s=D("line.shape");s==="spline"&&D("line.smoothing")}},14328:function(W){var G={tonextx:1,tonexty:1,tonext:1};W.exports=function(y,D,s){var P,M,d,g,r,e={},o=!1,n=-1,u=0,f=-1;for(M=0;M<s.length;M++)P=s[M][0].trace,d=P.stackgroup||"",d?d in e?r=e[d]:(r=e[d]=u,u++):P.fill in G&&f>=0?r=f:(r=f=u,u++),r<n&&(o=!0),P._groupIndex=n=r;var c=s.slice();o&&c.sort(function(v,T){var h=v[0].trace,i=T[0].trace;return h._groupIndex-i._groupIndex||h.index-i.index});var m={};for(M=0;M<c.length;M++)P=c[M][0].trace,d=P.stackgroup||"",P.visible===!0?(P._nexttrace=null,P.fill in G&&(g=m[d],P._prevtrace=g||null,g&&(g._nexttrace=P)),P._ownfill=P.fill&&(P.fill.substr(0,6)==="tozero"||P.fill==="toself"||P.fill.substr(0,2)==="to"&&!P._prevtrace),m[d]=P):P._prevtrace=P._nexttrace=P._ownfill=null;return c}},7152:function(W,G,t){var y=t(38248);W.exports=function(s,P){P||(P=2);var M=s.marker,d=M.sizeref||1,g=M.sizemin||0,r=M.sizemode==="area"?function(e){return Math.sqrt(e/d)}:function(e){return e/d};return function(e){var o=r(e/P);return y(o)&&o>0?Math.max(o,g):0}}},5528:function(W){W.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(W,G,t){var y=t(76308),D=t(94288).hasColorscale,s=t(27260),P=t(43028);W.exports=function(d,g,r,e,o,n){var u=P.isBubble(d),f=(d.line||{}).color,c;if(n=n||{},f&&(r=f),o("marker.symbol"),o("marker.opacity",u?.7:1),o("marker.size"),n.noAngle||(o("marker.angle"),n.noAngleRef||o("marker.angleref"),n.noStandOff||o("marker.standoff")),o("marker.color",r),D(d,"marker")&&s(d,g,e,o,{prefix:"marker.",cLetter:"c"}),n.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),n.noLine||(f&&!Array.isArray(f)&&g.marker.color!==f?c=f:u?c=y.background:c=y.defaultLine,o("marker.line.color",c),D(d,"marker.line")&&s(d,g,e,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",u?1:0)),u&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),n.gradient){var m=o("marker.gradient.type");m!=="none"&&o("marker.gradient.color")}}},31147:function(W,G,t){var y=t(3400).dateTick0,D=t(39032),s=D.ONEWEEK;function P(M,d){return M%s===0?y(d,1):y(d,0)}W.exports=function(d,g,r,e,o){if(o||(o={x:!0,y:!0}),o.x){var n=e("xperiod");n&&(e("xperiod0",P(n,g.xcalendar)),e("xperiodalignment"))}if(o.y){var u=e("yperiod");u&&(e("yperiod0",P(u,g.ycalendar)),e("yperiodalignment"))}}},96504:function(W,G,t){var y=t(33428),D=t(24040),s=t(3400),P=s.ensureSingle,M=s.identity,d=t(43616),g=t(43028),r=t(52340),e=t(14328),o=t(92065).tester;W.exports=function(m,v,T,h,i,p){var w,A,L=!i,x=!!i&&i.duration>0,E=e(m,v,T);if(w=h.selectAll("g.trace").data(E,function(a){return a[0].trace.uid}),w.enter().append("g").attr("class",function(a){return"trace scatter trace"+a[0].trace.uid}).style("stroke-miterlimit",2),w.order(),n(m,w,v),x){p&&(A=p());var S=y.transition().duration(i.duration).ease(i.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()});S.each(function(){h.selectAll("g.trace").each(function(a,C){u(m,C,v,a,E,this,i)})})}else w.each(function(a,C){u(m,C,v,a,E,this,i)});L&&w.exit().remove(),h.selectAll("path:not([d])").remove()};function n(c,m,v){m.each(function(T){var h=P(y.select(this),"g","fills");d.setClipUrl(h,v.layerClipId,c);var i=T[0].trace,p=[];i._ownfill&&p.push("_ownFill"),i._nexttrace&&p.push("_nextFill");var w=h.selectAll("g").data(p,M);w.enter().append("g"),w.exit().each(function(A){i[A]=null}).remove(),w.order().each(function(A){i[A]=P(y.select(this),"path","js-fill")})})}function u(c,m,v,T,h,i,p){var w=c._context.staticPlot,A;f(c,m,v,T,h);var L=!!p&&p.duration>0;function x(Me){return L?Me.transition():Me}var E=v.xaxis,S=v.yaxis,a=T[0].trace,C=a.line,b=y.select(i),z=P(b,"g","errorbars"),k=P(b,"g","lines"),U=P(b,"g","points"),F=P(b,"g","text");if(D.getComponentMethod("errorbars","plot")(c,z,v,p),a.visible!==!0)return;x(b).style("opacity",a.opacity);var V,N,O=a.fill.charAt(a.fill.length-1);O!=="x"&&O!=="y"&&(O="");var H,X;O==="y"?(H=1,X=S.c2p(0,!0)):O==="x"&&(H=0,X=E.c2p(0,!0)),T[0][v.isRangePlot?"nodeRangePlot3":"node3"]=b;var J="",et=[],it=a._prevtrace,ft=null,ot=null;it&&(J=it._prevRevpath||"",N=it._nextFill,et=it._ownPolygons,ft=it._fillsegments,ot=it._fillElement);var Q,tt,Z="",q="",ut,$,j,lt,nt,ht,mt=[];a._polygons=[];var At=[],bt=[],Pt=s.noop;if(V=a._ownFill,g.hasLines(a)||a.fill!=="none"){N&&N.datum(T),["hv","vh","hvh","vhv"].indexOf(C.shape)!==-1?(ut=d.steps(C.shape),$=d.steps(C.shape.split("").reverse().join(""))):C.shape==="spline"?ut=$=function(Me){var ne=Me[Me.length-1];return Me.length>1&&Me[0][0]===ne[0]&&Me[0][1]===ne[1]?d.smoothclosed(Me.slice(1),C.smoothing):d.smoothopen(Me,C.smoothing)}:ut=$=function(Me){return"M"+Me.join("L")},j=function(Me){return $(Me.reverse())},bt=r(T,{xaxis:E,yaxis:S,trace:a,connectGaps:a.connectgaps,baseTolerance:Math.max(C.width||1,3)/4,shape:C.shape,backoff:C.backoff,simplify:C.simplify,fill:a.fill}),At=new Array(bt.length);var _t=0;for(A=0;A<bt.length;A++){var Ut,St=bt[A];!Ut||!O?(Ut=St.slice(),At[_t]=Ut,_t++):Ut.push.apply(Ut,St)}a._fillElement=null,a._fillExclusionElement=ot,a._fillsegments=At.slice(0,_t),At=a._fillsegments,bt.length&&(lt=bt[0][0].slice(),nt=bt[bt.length-1],ht=nt[nt.length-1].slice()),Pt=function(Me){return function(ne){if(Q=ut(ne),tt=j(ne),Z?O?(Z+="L"+Q.substr(1),q=tt+("L"+q.substr(1))):(Z+="Z"+Q,q=tt+"Z"+q):(Z=Q,q=tt),g.hasLines(a)){var kt=y.select(this);if(kt.datum(T),Me)x(kt.style("opacity",0).attr("d",Q).call(d.lineGroupStyle)).style("opacity",1);else{var Gt=x(kt);Gt.attr("d",Q),d.singleLineStyle(T,Gt)}}}}}var Rt=k.selectAll(".js-line").data(bt);x(Rt.exit()).style("opacity",0).remove(),Rt.each(Pt(!1)),Rt.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(d.lineGroupStyle).each(Pt(!0)),d.setClipUrl(Rt,v.layerClipId,c);function Et(Me){x(Me).attr("d","M0,0Z")}var zt=function(){var Me=new Array(At.length);for(A=0;A<At.length;A++)Me[A]=o(At[A]);return Me},Ct=function(Me){var ne,kt;if(!Me||Me.length===0)for(ne=new Array(At.length),kt=0;kt<At.length;kt++){var Gt=At[kt][0].slice(),Yt=At[kt][At[kt].length-1].slice();Gt[H]=Yt[H]=X;var Zt=[Yt,Gt],It=Zt.concat(At[kt]);ne[kt]=o(It)}else{for(ne=new Array(Me.length-1+At.length),kt=0;kt<Me.length-1;kt++)ne[kt]=o(Me[kt]);var Nt=Me[Me.length-1].slice();for(Nt.reverse(),kt=0;kt<At.length;kt++)ne[Me.length-1+kt]=o(At[kt].concat(Nt))}return ne};bt.length?(V?(V.datum(T),lt&&ht&&(O?(lt[H]=ht[H]=X,x(V).attr("d","M"+ht+"L"+lt+"L"+Z.substr(1)).call(d.singleFillStyle,c),mt=Ct(null)):(x(V).attr("d",Z+"Z").call(d.singleFillStyle,c),mt=zt())),a._polygons=mt,a._fillElement=V):N&&(a.fill.substr(0,6)==="tonext"&&Z&&J?(a.fill==="tonext"?(x(N).attr("d",Z+"Z"+J+"Z").call(d.singleFillStyle,c),mt=zt(),a._polygons=mt.concat(et)):(x(N).attr("d",Z+"L"+J.substr(1)+"Z").call(d.singleFillStyle,c),mt=Ct(ft),a._polygons=mt),a._fillElement=N):Et(N)),a._prevRevpath=q):(V?Et(V):N&&Et(N),a._prevRevpath=null),a._ownPolygons=mt;function Wt(Me){return Me.filter(function(ne){return!ne.gap&&ne.vis})}function Kt(Me){return Me.filter(function(ne){return ne.vis})}function oe(Me){return Me.filter(function(ne){return!ne.gap})}function Jt(Me){return Me.id}function te(Me){if(Me.ids)return Jt}function fe(){return!1}function ve(Me,ne,kt){var Gt,Yt,Zt,It=kt[0].trace,Nt=g.hasMarkers(It),Ht=g.hasText(It),Lt=te(It),dt=fe,xt=fe;if(Nt||Ht){var Ot=M,jt=It.stackgroup,ie=jt&&c._fullLayout._scatterStackOpts[E._id+S._id][jt].stackgaps==="infer zero";It.marker.maxdisplayed||It._needsCull?Ot=ie?Kt:Wt:jt&&!ie&&(Ot=oe),Nt&&(dt=Ot),Ht&&(xt=Ot)}Yt=Me.selectAll("path.point"),Gt=Yt.data(dt,Lt);var le=Gt.enter().append("path").classed("point",!0);L&&le.call(d.pointStyle,It,c).call(d.translatePoints,E,S).style("opacity",0).transition().style("opacity",1),Gt.order();var Ve;Nt&&(Ve=d.makePointStyleFns(It)),Gt.each(function(je){var Te=y.select(this),Le=x(Te);Zt=d.translatePoint(je,Le,E,S),Zt?(d.singlePointStyle(je,Le,It,Ve,c),v.layerClipId&&d.hideOutsideRangePoint(je,Le,E,S,It.xcalendar,It.ycalendar),It.customdata&&Te.classed("plotly-customdata",je.data!==null&&je.data!==void 0)):Le.remove()}),L?Gt.exit().transition().style("opacity",0).remove():Gt.exit().remove(),Yt=ne.selectAll("g"),Gt=Yt.data(xt,Lt),Gt.enter().append("g").classed("textpoint",!0).append("text"),Gt.order(),Gt.each(function(je){var Te=y.select(this),Le=x(Te.select("text"));Zt=d.translatePoint(je,Le,E,S),Zt?v.layerClipId&&d.hideOutsideRangePoint(je,Te,E,S,It.xcalendar,It.ycalendar):Te.remove()}),Gt.selectAll("text").call(d.textPointStyle,It,c).each(function(je){var Te=E.c2p(je.x),Le=S.c2p(je.y);y.select(this).selectAll("tspan.line").each(function(){x(y.select(this)).attr({x:Te,y:Le})})}),Gt.exit().remove()}U.datum(T),F.datum(T),ve(U,F,T);var de=a.cliponaxis===!1,xe=de?null:v.layerClipId;d.setClipUrl(U,xe,c),d.setClipUrl(F,xe,c)}function f(c,m,v,T,h){var i=v.xaxis,p=v.yaxis,w=y.extent(s.simpleMap(i.range,i.r2c)),A=y.extent(s.simpleMap(p.range,p.r2c)),L=T[0].trace;if(g.hasMarkers(L)){var x=L.marker.maxdisplayed;if(x!==0){var E=T.filter(function(b){return b.x>=w[0]&&b.x<=w[1]&&b.y>=A[0]&&b.y<=A[1]}),S=Math.ceil(E.length/x),a=0;h.forEach(function(b,z){var k=b[0].trace;g.hasMarkers(k)&&k.marker.maxdisplayed>0&&z<m&&a++});var C=Math.round(a*S/3+Math.floor(a/3)*S/7.1);T.forEach(function(b){delete b.vis}),E.forEach(function(b,z){Math.round((z+C)%S)===0&&(b.vis=!0)})}}}},91560:function(W,G,t){var y=t(43028);W.exports=function(s,P){var M=s.cd,d=s.xaxis,g=s.yaxis,r=[],e=M[0].trace,o,n,u,f,c=!y.hasMarkers(e)&&!y.hasText(e);if(c)return[];if(P===!1)for(o=0;o<M.length;o++)M[o].selected=0;else for(o=0;o<M.length;o++)n=M[o],u=d.c2p(n.x),f=g.c2p(n.y),n.i!==null&&P.contains([u,f],!1,o,s)?(r.push({pointNumber:n.i,x:d.c2d(n.x),y:g.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(W){var G=["orientation","groupnorm","stackgaps"];W.exports=function(y,D,s,P){var M=s._scatterStackOpts,d=P("stackgroup");if(d){var g=D.xaxis+D.yaxis,r=M[g];r||(r=M[g]={});var e=r[d],o=!1;e?e.traces.push(D):(e=r[d]={traceIndices:[],traces:[D]},o=!0);for(var n={orientation:D.x&&!D.y?"h":"v"},u=0;u<G.length;u++){var f=G[u],c=f+"Found";if(!e[c]){var m=y[f]!==void 0,v=f==="orientation";if((m||o)&&(e[f]=P(f,n[f]),v&&(e.fillDflt=e[f]==="h"?"tonextx":"tonexty"),m&&(e[c]=!0,!o&&(delete e.traces[0][f],v))))for(var T=0;T<e.traces.length-1;T++){var h=e.traces[T];h._input.fill!==h.fill&&(h.fill=e.fillDflt)}}}return e}}},49224:function(W,G,t){var y=t(33428),D=t(43616),s=t(24040);function P(r){var e=y.select(r).selectAll("g.trace.scatter");e.style("opacity",function(o){return o[0].trace.opacity}),e.selectAll("g.points").each(function(o){var n=y.select(this),u=o.trace||o[0].trace;M(n,u,r)}),e.selectAll("g.text").each(function(o){var n=y.select(this),u=o.trace||o[0].trace;d(n,u,r)}),e.selectAll("g.trace path.js-line").call(D.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(D.fillGroupStyle,r,!1),s.getComponentMethod("errorbars","style")(e)}function M(r,e,o){D.pointStyle(r.selectAll("path.point"),e,o)}function d(r,e,o){D.textPointStyle(r.selectAll("text"),e,o)}function g(r,e,o){var n=e[0].trace;n.selectedpoints?(D.selectedPointStyle(o.selectAll("path.point"),n),D.selectedTextStyle(o.selectAll("text"),n)):(M(o,n,r),d(o,n,r))}W.exports={style:P,stylePoints:M,styleText:d,styleOnSelect:g}},43028:function(W,G,t){var y=t(3400),D=t(38116).isTypedArraySpec;W.exports={hasLines:function(s){return s.visible&&s.mode&&s.mode.indexOf("lines")!==-1},hasMarkers:function(s){return s.visible&&(s.mode&&s.mode.indexOf("markers")!==-1||s.type==="splom")},hasText:function(s){return s.visible&&s.mode&&s.mode.indexOf("text")!==-1},isBubble:function(s){var P=s.marker;return y.isPlainObject(P)&&(y.isArrayOrTypedArray(P.size)||D(P.size))}}},124:function(W,G,t){var y=t(3400);W.exports=function(D,s,P,M,d){d=d||{},M("textposition"),y.coerceFont(M,"textfont",d.font||P.font,d),d.noSelect||(M("selected.textfont.color"),M("unselected.textfont.color"))}},43980:function(W,G,t){var y=t(3400),D=t(24040);W.exports=function(P,M,d,g){var r=g("x"),e=g("y"),o,n=D.getComponentMethod("calendars","handleTraceDefaults");if(n(P,M,["x","y"],d),r){var u=y.minRowLength(r);e?o=Math.min(u,y.minRowLength(e)):(o=u,g("y0"),g("dy"))}else{if(!e)return 0;o=y.minRowLength(e),g("x0"),g("dx")}return M._length=o,o}},91592:function(W,G,t){var y=t(52904),D=t(25376),s=t(49084),P=t(29736).axisHoverFormat,M=t(21776).Ks,d=t(21776).Gw,g=t(45464),r=t(99168),e=t(87792),o=t(92880).extendFlat,n=t(67824).overrideAll,u=t(95376),f=y.line,c=y.marker,m=c.line,v=o({width:f.width,dash:{valType:"enumerated",values:u(r),dflt:"solid"}},s("line"));function T(i){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var h=W.exports=n({x:y.x,y:y.y,z:{valType:"data_array"},text:o({},y.text,{}),texttemplate:d({},{}),hovertext:o({},y.hovertext,{}),hovertemplate:M(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),mode:o({},y.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:T(),y:T(),z:T()},connectgaps:y.connectgaps,line:v,marker:o({symbol:{valType:"enumerated",values:u(e),dflt:"circle",arrayOk:!0},size:o({},c.size,{dflt:8}),sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:o({},c.opacity,{arrayOk:!1}),colorbar:c.colorbar,line:o({width:o({},m.width,{arrayOk:!1})},s("marker.line"))},s("marker")),textposition:o({},y.textposition,{dflt:"top center"}),textfont:D({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:g.opacity,hoverinfo:o({},g.hoverinfo)},"calc","nested");h.x.editType=h.y.editType=h.z.editType="calc+clearAxisTypes"},41484:function(W,G,t){var y=t(20148),D=t(90136);W.exports=function(P,M){var d=[{x:!1,y:!1,trace:M,t:{}}];return y(d,M),D(P,M),d}},45156:function(W,G,t){var y=t(24040);function D(M,d,g,r){if(!d||!d.visible)return null;for(var e=y.getComponentMethod("errorbars","makeComputeError")(d),o=new Array(M.length),n=0;n<M.length;n++){var u=e(+M[n],n);if(r.type==="log"){var f=r.c2l(M[n]),c=M[n]-u[0],m=M[n]+u[1];if(o[n]=[(r.c2l(c,!0)-f)*g,(r.c2l(m,!0)-f)*g],c>0){var v=r.c2l(c);r._lowerLogErrorBound||(r._lowerLogErrorBound=v),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,v)}}else o[n]=[-u[0]*g,u[1]*g]}return o}function s(M){for(var d=0;d<M.length;d++)if(M[d])return M[d].length;return 0}function P(M,d,g){var r=[D(M.x,M.error_x,d[0],g.xaxis),D(M.y,M.error_y,d[1],g.yaxis),D(M.z,M.error_z,d[2],g.zaxis)],e=s(r);if(e===0)return null;for(var o=new Array(e),n=0;n<e;n++){for(var u=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(r[f])for(var c=0;c<2;c++)u[c][f]=r[f][n][c];o[n]=u}return o}W.exports=P},41064:function(W,G,t){var y=t(67792).gl_line3d,D=t(67792).gl_scatter3d,s=t(67792).gl_error3d,P=t(67792).gl_mesh3d,M=t(67792).delaunay_triangulate,d=t(3400),g=t(43080),r=t(33040).formatColor,e=t(7152),o=t(99168),n=t(87792),u=t(54460),f=t(10624).appendArrayPointValue,c=t(45156);function m(b,z){this.scene=b,this.uid=z,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var v=m.prototype;v.handlePick=function(b){if(b.object&&(b.object===this.linePlot||b.object===this.delaunayMesh||b.object===this.textMarkers||b.object===this.scatterPlot)){var z=b.index=b.data.index;return b.object.highlight&&b.object.highlight(null),this.scatterPlot&&(b.object=this.scatterPlot,this.scatterPlot.highlight(b.data)),b.textLabel="",this.textLabels&&(d.isArrayOrTypedArray(this.textLabels)?(this.textLabels[z]||this.textLabels[z]===0)&&(b.textLabel=this.textLabels[z]):b.textLabel=this.textLabels),b.traceCoordinate=[this.data.x[z],this.data.y[z],this.data.z[z]],!0}};function T(b,z,k){var U=(k+1)%3,F=(k+2)%3,V=[],N=[],O;for(O=0;O<b.length;++O){var H=b[O];isNaN(H[U])||!isFinite(H[U])||isNaN(H[F])||!isFinite(H[F])||(V.push([H[U],H[F]]),N.push(O))}var X=M(V);for(O=0;O<X.length;++O)for(var J=X[O],et=0;et<J.length;++et)J[et]=N[J[et]];return{positions:b,cells:X,meshColor:z}}function h(b){for(var z=[0,0,0],k=[[0,0,0],[0,0,0],[0,0,0]],U=[1,1,1],F=0;F<3;F++){var V=b[F];V&&V.copy_zstyle!==!1&&b[2].visible!==!1&&(V=b[2]),!(!V||!V.visible)&&(z[F]=V.width/2,k[F]=g(V.color),U[F]=V.thickness)}return{capSize:z,color:k,lineWidth:U}}function i(b){return b==null?0:b.indexOf("left")>-1?-1:b.indexOf("right")>-1?1:0}function p(b){return b==null?0:b.indexOf("top")>-1?-1:b.indexOf("bottom")>-1?1:0}function w(b){var z=0,k=0,U=[z,k];if(Array.isArray(b))for(var F=0;F<b.length;F++)U[F]=[z,k],b[F]&&(U[F][0]=i(b[F]),U[F][1]=p(b[F]));else U[0]=i(b),U[1]=p(b);return U}function A(b,z){return z(b*4)}function L(b){return n[b]}function x(b,z,k,U,F){var V=null;if(d.isArrayOrTypedArray(b)){V=[];for(var N=0;N<z;N++)b[N]===void 0?V[N]=U:V[N]=k(b[N],F)}else V=k(b,d.identity);return V}function E(b,z){var k=[],U=b.fullSceneLayout,F=b.dataScale,V=U.xaxis,N=U.yaxis,O=U.zaxis,H=z.marker,X=z.line,J=z.x||[],et=z.y||[],it=z.z||[],ft=J.length,ot=z.xcalendar,Q=z.ycalendar,tt=z.zcalendar,Z,q,ut,$,j,lt;for(j=0;j<ft;j++)Z=V.d2l(J[j],0,ot)*F[0],q=N.d2l(et[j],0,Q)*F[1],ut=O.d2l(it[j],0,tt)*F[2],k[j]=[Z,q,ut];if(Array.isArray(z.text))lt=z.text;else if(d.isTypedArray(z.text))lt=Array.from(z.text);else if(z.text!==void 0)for(lt=new Array(ft),j=0;j<ft;j++)lt[j]=z.text;function nt(oe,Jt){var te=U[oe];return u.tickText(te,te.d2l(Jt),!0).text}var ht=z.texttemplate;if(ht){var mt=b.fullLayout,At=mt._d3locale,bt=Array.isArray(ht),Pt=bt?Math.min(ht.length,ft):ft,_t=bt?function(oe){return ht[oe]}:function(){return ht};for(lt=new Array(Pt),j=0;j<Pt;j++){var Ut={x:J[j],y:et[j],z:it[j]},St={xLabel:nt("xaxis",J[j]),yLabel:nt("yaxis",et[j]),zLabel:nt("zaxis",it[j])},Rt={};f(Rt,z,j);var Et=z._meta||{};lt[j]=d.texttemplateString(_t(j),St,At,Rt,Ut,Et)}}if($={position:k,mode:z.mode,text:lt},"line"in z&&($.lineColor=r(X,1,ft),$.lineWidth=X.width,$.lineDashes=X.dash),"marker"in z){var zt=e(z);$.scatterColor=r(H,1,ft),$.scatterSize=x(H.size,ft,A,20,zt),$.scatterMarker=x(H.symbol,ft,L,""),$.scatterLineWidth=H.line.width,$.scatterLineColor=r(H.line,1,ft),$.scatterAngle=0}"textposition"in z&&($.textOffset=w(z.textposition),$.textColor=r(z.textfont,1,ft),$.textSize=x(z.textfont.size,ft,d.identity,12),$.textFontFamily=z.textfont.family,$.textFontWeight=z.textfont.weight,$.textFontStyle=z.textfont.style,$.textFontVariant=z.textfont.variant,$.textAngle=0);var Ct=["x","y","z"];for($.project=[!1,!1,!1],$.projectScale=[1,1,1],$.projectOpacity=[1,1,1],j=0;j<3;++j){var Wt=z.projection[Ct[j]];($.project[j]=Wt.show)&&($.projectOpacity[j]=Wt.opacity,$.projectScale[j]=Wt.scale)}$.errorBounds=c(z,F,U);var Kt=h([z.error_x,z.error_y,z.error_z]);return $.errorColor=Kt.color,$.errorLineWidth=Kt.lineWidth,$.errorCapSize=Kt.capSize,$.delaunayAxis=z.surfaceaxis,$.delaunayColor=g(z.surfacecolor),$}function S(b){if(d.isArrayOrTypedArray(b)){var z=b[0];return d.isArrayOrTypedArray(z)&&(b=z),"rgb("+b.slice(0,3).map(function(k){return Math.round(k*255)})+")"}return null}function a(b){return d.isArrayOrTypedArray(b)?b.length===4&&typeof b[0]=="number"?S(b):b.map(S):null}v.update=function(b){var z=this.scene.glplot.gl,k,U,F,V,N=o.solid;this.data=b;var O=E(this.scene,b);"mode"in O&&(this.mode=O.mode),"lineDashes"in O&&O.lineDashes in o&&(N=o[O.lineDashes]),this.color=a(O.scatterColor)||a(O.lineColor),this.dataPoints=O.position,k={gl:this.scene.glplot.gl,position:O.position,color:O.lineColor,lineWidth:O.lineWidth||1,dashes:N[0],dashScale:N[1],opacity:b.opacity,connectGaps:b.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(k):(this.linePlot=y(k),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var H=b.opacity;if(b.marker&&b.marker.opacity!==void 0&&(H*=b.marker.opacity),U={gl:this.scene.glplot.gl,position:O.position,color:O.scatterColor,size:O.scatterSize,glyph:O.scatterMarker,opacity:H,orthographic:!0,lineWidth:O.scatterLineWidth,lineColor:O.scatterLineColor,project:O.project,projectScale:O.projectScale,projectOpacity:O.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(U):(this.scatterPlot=D(U),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),V={gl:this.scene.glplot.gl,position:O.position,glyph:O.text,color:O.textColor,size:O.textSize,angle:O.textAngle,alignment:O.textOffset,font:O.textFontFamily,fontWeight:O.textFontWeight,fontStyle:O.textFontStyle,fontVariant:O.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity},this.textLabels=b.hovertext||b.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(V):(this.textMarkers=D(V),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),F={gl:this.scene.glplot.gl,position:O.position,color:O.errorColor,error:O.errorBounds,lineWidth:O.errorLineWidth,capSize:O.errorCapSize,opacity:b.opacity},this.errorBars?O.errorBounds?this.errorBars.update(F):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):O.errorBounds&&(this.errorBars=s(F),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),O.delaunayAxis>=0){var X=T(O.position,O.delaunayColor,O.delaunayAxis);X.opacity=b.opacity,this.delaunayMesh?this.delaunayMesh.update(X):(X.gl=z,this.delaunayMesh=P(X),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},v.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function C(b,z){var k=new m(b,z.uid);return k.update(z),k}W.exports=C},83484:function(W,G,t){var y=t(24040),D=t(3400),s=t(43028),P=t(74428),M=t(66828),d=t(124),g=t(91592);W.exports=function(o,n,u,f){function c(A,L){return D.coerce(o,n,g,A,L)}var m=r(o,n,c,f);if(!m){n.visible=!1;return}c("text"),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat"),c("zhoverformat"),c("mode"),s.hasMarkers(n)&&P(o,n,u,f,c,{noSelect:!0,noAngle:!0}),s.hasLines(n)&&(c("connectgaps"),M(o,n,u,f,c)),s.hasText(n)&&(c("texttemplate"),d(o,n,f,c,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var v=(n.line||{}).color,T=(n.marker||{}).color;c("surfaceaxis")>=0&&c("surfacecolor",v||T);for(var h=["x","y","z"],i=0;i<3;++i){var p="projection."+h[i];c(p+".show")&&(c(p+".opacity"),c(p+".scale"))}var w=y.getComponentMethod("errorbars","supplyDefaults");w(o,n,v||T||u,{axis:"z"}),w(o,n,v||T||u,{axis:"y",inherit:"z"}),w(o,n,v||T||u,{axis:"x",inherit:"z"})};function r(e,o,n,u){var f=0,c=n("x"),m=n("y"),v=n("z"),T=y.getComponentMethod("calendars","handleTraceDefaults");return T(e,o,["x","y","z"],u),c&&m&&v&&(f=Math.min(c.length,m.length,v.length),o._length=o._xlength=o._ylength=o._zlength=f),f}},3296:function(W,G,t){W.exports={plot:t(41064),attributes:t(91592),markerSymbols:t(87792),supplyDefaults:t(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:t(41484),moduleType:"trace",name:"scatter3d",basePlotModule:t(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(W,G,t){var y=t(98304),D=t(52904),s=t(45464),P=t(21776).Ks,M=t(21776).Gw,d=t(49084),g=t(92880).extendFlat,r=D.marker,e=D.line,o=r.line;W.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:g({},D.mode,{dflt:"markers"}),text:g({},D.text,{}),texttemplate:M({editType:"plot"},{keys:["a","b","text"]}),hovertext:g({},D.hovertext,{}),line:{color:e.color,width:e.width,dash:e.dash,backoff:e.backoff,shape:g({},e.shape,{values:["linear","spline"]}),smoothing:e.smoothing,editType:"calc"},connectgaps:D.connectgaps,fill:g({},D.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:y(),marker:g({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:g({width:o.width,editType:"calc"},d("marker.line")),gradient:r.gradient,editType:"calc"},d("marker")),textfont:D.textfont,textposition:D.textposition,selected:D.selected,unselected:D.unselected,hoverinfo:g({},s.hoverinfo,{flags:["a","b","text","name"]}),hoveron:D.hoveron,hovertemplate:P(),zorder:D.zorder}},48228:function(W,G,t){var y=t(38248),D=t(90136),s=t(20148),P=t(4500),M=t(16356).calcMarkerSize,d=t(50948);W.exports=function(r,e){var o=e._carpetTrace=d(r,e);if(!(!o||!o.visible||o.visible==="legendonly")){var n;e.xaxis=o.xaxis,e.yaxis=o.yaxis;var u=e._length,f=new Array(u),c,m,v=!1;for(n=0;n<u;n++)if(c=e.a[n],m=e.b[n],y(c)&&y(m)){var T=o.ab2xy(+c,+m,!0),h=o.isVisible(+c,+m);h||(v=!0),f[n]={x:T[0],y:T[1],a:c,b:m,vis:h}}else f[n]={x:!1,y:!1};return e._needsCull=v,f[0].carpet=o,f[0].trace=e,M(e,u),D(r,e),s(f,e),P(f,e),f}}},6176:function(W,G,t){var y=t(3400),D=t(88200),s=t(43028),P=t(74428),M=t(66828),d=t(11731),g=t(124),r=t(70840),e=t(90372);W.exports=function(n,u,f,c){function m(A,L){return y.coerce(n,u,e,A,L)}m("carpet"),u.xaxis="x",u.yaxis="y";var v=m("a"),T=m("b"),h=Math.min(v.length,T.length);if(!h){u.visible=!1;return}u._length=h,m("text"),m("texttemplate"),m("hovertext");var i=h<D.PTS_LINESONLY?"lines+markers":"lines";m("mode",i),s.hasMarkers(u)&&P(n,u,f,c,m,{gradient:!0}),s.hasLines(u)&&(M(n,u,f,c,m,{backoff:!0}),d(n,u,m),m("connectgaps")),s.hasText(u)&&g(n,u,c,m);var p=[];(s.hasMarkers(u)||s.hasText(u))&&(m("marker.maxdisplayed"),p.push("points")),m("fill"),u.fill!=="none"&&(r(n,u,f,m),s.hasLines(u)||d(n,u,m)),(u.fill==="tonext"||u.fill==="toself")&&p.push("fills");var w=m("hoveron",p.join("+")||"points");w!=="fills"&&m("hovertemplate"),m("zorder"),y.coerceSelectionMarkerOpacity(u,m)}},89307:function(W){W.exports=function(t,y,D,s,P){var M=s[P];return t.a=M.a,t.b=M.b,t.y=M.y,t}},52364:function(W){W.exports=function(t,y){var D={},s=y._carpet,P=s.ab2ij([t.a,t.b]),M=Math.floor(P[0]),d=P[0]-M,g=Math.floor(P[1]),r=P[1]-g,e=s.evalxy([],M,g,d,r);return D.yLabel=e[1].toFixed(3),D}},58960:function(W,G,t){var y=t(98723),D=t(3400).fillText;W.exports=function(P,M,d,g){var r=y(P,M,d,g);if(!r||r[0].index===!1)return;var e=r[0];if(e.index===void 0){var o=1-e.y0/P.ya._length,n=P.xa._length,u=n*o/2,f=n-u;return e.x0=Math.max(Math.min(e.x0,f),u),e.x1=Math.max(Math.min(e.x1,f),u),r}var c=e.cd[e.index];e.a=c.a,e.b=c.b,e.xLabelVal=void 0,e.yLabelVal=void 0;var m=e.trace,v=m._carpet,T=m._module.formatLabels(c,m);e.yLabel=T.yLabel,delete e.text;var h=[];function i(A,L){var x;A.labelprefix&&A.labelprefix.length>0?x=A.labelprefix.replace(/ = $/,""):x=A._hovertitle,h.push(x+": "+L.toFixed(3)+A.labelsuffix)}if(!m.hovertemplate){var p=c.hi||m.hoverinfo,w=p.split("+");w.indexOf("all")!==-1&&(w=["a","b","text"]),w.indexOf("a")!==-1&&i(v.aaxis,c.a),w.indexOf("b")!==-1&&i(v.baxis,c.b),h.push("y: "+e.yLabel),w.indexOf("text")!==-1&&D(c,m,h),e.extraText=h.join("<br>")}return r}},4184:function(W,G,t){W.exports={attributes:t(90372),supplyDefaults:t(6176),colorbar:t(5528),formatLabels:t(52364),calc:t(48228),plot:t(20036),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(58960),selectPoints:t(91560),eventData:t(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:t(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(W,G,t){var y=t(96504),D=t(54460),s=t(43616);W.exports=function(M,d,g,r){var e,o,n,u=g[0][0].carpet,f=D.getFromId(M,u.xaxis||"x"),c=D.getFromId(M,u.yaxis||"y"),m={xaxis:f,yaxis:c,plot:d.plot};for(e=0;e<g.length;e++)o=g[e][0].trace,o._xA=f,o._yA=c;for(y(M,m,g,r),e=0;e<g.length;e++)o=g[e][0].trace,n=r.selectAll("g.trace"+o.uid+" .js-line"),s.setClipUrl(n,g[e][0].carpet._clipPathId,M)}},6096:function(W,G,t){var y=t(21776).Ks,D=t(21776).Gw,s=t(98304),P=t(52904),M=t(45464),d=t(49084),g=t(98192).u,r=t(92880).extendFlat,e=t(67824).overrideAll,o=P.marker,n=P.line,u=o.line;W.exports=e({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},P.mode,{dflt:"markers"}),text:r({},P.text,{}),texttemplate:D({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},P.hovertext,{}),textfont:P.textfont,textposition:P.textposition,line:{color:n.color,width:n.width,dash:g},connectgaps:P.connectgaps,marker:r({symbol:o.symbol,opacity:o.opacity,angle:o.angle,angleref:r({},o.angleref,{values:["previous","up","north"]}),standoff:o.standoff,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,colorbar:o.colorbar,line:r({width:u.width},d("marker.line")),gradient:o.gradient},d("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:s(),selected:P.selected,unselected:P.unselected,hoverinfo:r({},M.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:y()},"calc","nested")},25212:function(W,G,t){var y=t(38248),D=t(39032).BADNUM,s=t(90136),P=t(20148),M=t(4500),d=t(3400).isArrayOrTypedArray,g=t(3400)._;function r(e){return e&&typeof e=="string"}W.exports=function(o,n){var u=d(n.locations),f=u?n.locations.length:n._length,c=new Array(f),m;n.geojson?m=function(w){return r(w)||y(w)}:m=r;for(var v=0;v<f;v++){var T=c[v]={};if(u){var h=n.locations[v];T.loc=m(h)?h:null}else{var i=n.lon[v],p=n.lat[v];y(i)&&y(p)?T.lonlat=[+i,+p]:T.lonlat=[D,D]}}return P(c,n),s(o,n),M(c,n),f&&(c[0].t={labels:{lat:g(o,"lat:")+" ",lon:g(o,"lon:")+" "}}),c}},86188:function(W,G,t){var y=t(3400),D=t(43028),s=t(74428),P=t(66828),M=t(124),d=t(70840),g=t(6096);W.exports=function(e,o,n,u){function f(w,A){return y.coerce(e,o,g,w,A)}var c=f("locations"),m;if(c&&c.length){var v=f("geojson"),T;(typeof v=="string"&&v!==""||y.isPlainObject(v))&&(T="geojson-id");var h=f("locationmode",T);h==="geojson-id"&&f("featureidkey"),m=c.length}else{var i=f("lon")||[],p=f("lat")||[];m=Math.min(i.length,p.length)}if(!m){o.visible=!1;return}o._length=m,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),D.hasMarkers(o)&&s(e,o,n,u,f,{gradient:!0}),D.hasLines(o)&&(P(e,o,n,u,f),f("connectgaps")),D.hasText(o)&&(f("texttemplate"),M(e,o,u,f)),f("fill"),o.fill!=="none"&&d(e,o,n,f),y.coerceSelectionMarkerOpacity(o,f)}},58544:function(W){W.exports=function(t,y,D,s,P){t.lon=y.lon,t.lat=y.lat,t.location=y.loc?y.loc:null;var M=s[P];return M.fIn&&M.fIn.properties&&(t.properties=M.fIn.properties),t}},56696:function(W,G,t){var y=t(54460);W.exports=function(s,P,M){var d={},g=M[P.geo]._subplot,r=g.mockAxis,e=s.lonlat;return d.lonLabel=y.tickText(r,r.c2l(e[0]),!0).text,d.latLabel=y.tickText(r,r.c2l(e[1]),!0).text,d}},64292:function(W,G,t){var y=t(93024),D=t(39032).BADNUM,s=t(44928),P=t(3400).fillText,M=t(6096);W.exports=function(r,e,o){var n=r.cd,u=n[0].trace,f=r.xa,c=r.ya,m=r.subplot,v=m.projection.isLonLatOverEdges,T=m.project;function h(E){var S=E.lonlat;if(S[0]===D||v(S))return 1/0;var a=T(S),C=T([e,o]),b=Math.abs(a[0]-C[0]),z=Math.abs(a[1]-C[1]),k=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(b*b+z*z)-k,1-3/k)}if(y.getClosest(n,h,r),r.index!==!1){var i=n[r.index],p=i.lonlat,w=[f.c2p(p),c.c2p(p)],A=i.mrc||1;r.x0=w[0]-A,r.x1=w[0]+A,r.y0=w[1]-A,r.y1=w[1]+A,r.loc=i.loc,r.lon=p[0],r.lat=p[1];var L={};L[u.geo]={_subplot:m};var x=u._module.formatLabels(i,u,L);return r.lonLabel=x.lonLabel,r.latLabel=x.latLabel,r.color=s(u,i),r.extraText=d(u,i,r,n[0].t.labels),r.hovertemplate=u.hovertemplate,[r]}};function d(g,r,e,o){if(g.hovertemplate)return;var n=r.hi||g.hoverinfo,u=n==="all"?M.hoverinfo.flags:n.split("+"),f=u.indexOf("location")!==-1&&Array.isArray(g.locations),c=u.indexOf("lon")!==-1,m=u.indexOf("lat")!==-1,v=u.indexOf("text")!==-1,T=[];function h(i){return i+""}return f?T.push(r.loc):c&&m?T.push("("+h(e.latLabel)+", "+h(e.lonLabel)+")"):c?T.push(o.lon+h(e.lonLabel)):m&&T.push(o.lat+h(e.latLabel)),v&&P(r,g,T),T.join("<br>")}},36952:function(W,G,t){W.exports={attributes:t(6096),supplyDefaults:t(86188),colorbar:t(5528),formatLabels:t(56696),calc:t(25212),calcGeoJSON:t(48691).calcGeoJSON,plot:t(48691).plot,style:t(25064),styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(64292),eventData:t(58544),selectPoints:t(8796),moduleType:"trace",name:"scattergeo",basePlotModule:t(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(W,G,t){var y=t(33428),D=t(3400),s=t(59972).getTopojsonFeatures,P=t(44808),M=t(27144),d=t(19280).findExtremes,g=t(39032).BADNUM,r=t(16356).calcMarkerSize,e=t(43028),o=t(25064);function n(f,c,m){var v=c.layers.frontplot.select(".scatterlayer"),T=D.makeTraceGroups(v,m,"trace scattergeo");function h(i,p){i.lonlat[0]===g&&y.select(p).remove()}T.selectAll("*").remove(),T.each(function(i){var p=y.select(this),w=i[0].trace;if(e.hasLines(w)||w.fill!=="none"){var A=P.calcTraceToLineCoords(i),L=w.fill!=="none"?P.makePolygon(A):P.makeLine(A);p.selectAll("path.js-line").data([{geojson:L,trace:w}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}e.hasMarkers(w)&&p.selectAll("path.point").data(D.identity).enter().append("path").classed("point",!0).each(function(x){h(x,this)}),e.hasText(w)&&p.selectAll("g").data(D.identity).enter().append("g").append("text").each(function(x){h(x,this)}),o(f,i)})}function u(f,c){var m=f[0].trace,v=c[m.geo],T=v._subplot,h=m._length,i,p;if(D.isArrayOrTypedArray(m.locations)){var w=m.locationmode,A=w==="geojson-id"?M.extractTraceFeature(f):s(m,T.topojson);for(i=0;i<h;i++){p=f[i];var L=w==="geojson-id"?p.fOut:M.locationToFeature(w,p.loc,A);p.lonlat=L?L.properties.ct:[g,g]}}var x={padded:!0},E,S;if(v.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var a=M.computeBbox(M.getTraceGeojson(m));E=[a[0],a[2]],S=[a[1],a[3]]}else{for(E=new Array(h),S=new Array(h),i=0;i<h;i++)p=f[i],E[i]=p.lonlat[0],S[i]=p.lonlat[1];x.ppad=r(m,h)}m._extremes.lon=d(v.lonaxis._ax,E,x),m._extremes.lat=d(v.lataxis._ax,S,x)}W.exports={calcGeoJSON:u,plot:n}},8796:function(W,G,t){var y=t(43028),D=t(39032).BADNUM;W.exports=function(P,M){var d=P.cd,g=P.xaxis,r=P.yaxis,e=[],o=d[0].trace,n,u,f,c,m,v=!y.hasMarkers(o)&&!y.hasText(o);if(v)return[];if(M===!1)for(m=0;m<d.length;m++)d[m].selected=0;else for(m=0;m<d.length;m++)n=d[m],u=n.lonlat,u[0]!==D&&(f=g.c2p(u),c=r.c2p(u),M.contains([f,c],null,m,P)?(e.push({pointNumber:m,lon:u[0],lat:u[1]}),n.selected=1):n.selected=0);return e}},25064:function(W,G,t){var y=t(33428),D=t(43616),s=t(76308),P=t(49224),M=P.stylePoints,d=P.styleText;W.exports=function(e,o){o&&g(e,o)};function g(r,e){var o=e[0].trace,n=e[0].node3;n.style("opacity",e[0].trace.opacity),M(n,o,r),d(n,o,r),n.selectAll("path.js-line").style("fill","none").each(function(u){var f=y.select(this),c=u.trace,m=c.line||{};f.call(s.stroke,m.color).call(D.dashLine,m.dash||"",m.width||0),c.fill!=="none"&&f.call(s.fill,c.fillcolor)})}},2876:function(W,G,t){var y=t(45464),D=t(25376),s=t(98304),P=t(52904),M=t(29736).axisHoverFormat,d=t(49084),g=t(95376),r=t(92880).extendFlat,e=t(67824).overrideAll,o=t(67072).DASHES,n=P.line,u=P.marker,f=u.line,c=W.exports=e({x:P.x,x0:P.x0,dx:P.dx,y:P.y,y0:P.y0,dy:P.dy,xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),text:P.text,hovertext:P.hovertext,textposition:P.textposition,textfont:D({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:g(o),dflt:"solid"}},marker:r({},d("marker"),{symbol:u.symbol,angle:u.angle,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:u.opacity,colorbar:u.colorbar,line:r({},d("marker.line"),{width:f.width})}),connectgaps:P.connectgaps,fill:r({},P.fill,{dflt:"none"}),fillcolor:s(),selected:{marker:P.selected.marker,textfont:P.selected.textfont},unselected:{marker:P.unselected.marker,textfont:P.unselected.textfont},opacity:y.opacity},"calc","nested");c.x.editType=c.y.editType=c.x0.editType=c.y0.editType="calc+clearAxisTypes",c.hovertemplate=P.hovertemplate,c.texttemplate=P.texttemplate},64628:function(W,G,t){var y=t(41272);W.exports={moduleType:"trace",name:"scattergl",basePlotModule:t(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:t(2876),supplyDefaults:t(80220),crossTraceDefaults:t(35036),colorbar:t(5528),formatLabels:t(99396),calc:t(24856),hoverPoints:y.hoverPoints,selectPoints:t(73224),meta:{}}},24856:function(W,G,t){var y=t(3108),D=t(3400),s=t(79811),P=t(19280).findExtremes,M=t(1220),d=t(16356),g=d.calcMarkerSize,r=d.calcAxisExpansion,e=d.setFirstScatter,o=t(90136),n=t(84236),u=t(74588),f=t(39032).BADNUM,c=t(67072).TOO_MANY_POINTS;W.exports=function(h,i){var p=h._fullLayout,w=i._xA=s.getFromId(h,i.xaxis,"x"),A=i._yA=s.getFromId(h,i.yaxis,"y"),L=p._plots[i.xaxis+i.yaxis],x=i._length,E=x>=c,S=x*2,a={},C,b=w.makeCalcdata(i,"x"),z=A.makeCalcdata(i,"y"),k=M(i,w,"x",b),U=M(i,A,"y",z),F=k.vals,V=U.vals;i._x=F,i._y=V,i.xperiodalignment&&(i._origX=b,i._xStarts=k.starts,i._xEnds=k.ends),i.yperiodalignment&&(i._origY=z,i._yStarts=U.starts,i._yEnds=U.ends);var N=new Array(S),O=new Array(x);for(C=0;C<x;C++)N[C*2]=F[C]===f?NaN:F[C],N[C*2+1]=V[C]===f?NaN:V[C],O[C]=C;if(w.type==="log")for(C=0;C<S;C+=2)N[C]=w.c2l(N[C]);if(A.type==="log")for(C=1;C<S;C+=2)N[C]=A.c2l(N[C]);E&&w.type!=="log"&&A.type!=="log"?a.tree=y(N):a.ids=O,o(h,i);var H=v(h,L,i,N,F,V),X=u(h,L);e(p,i);var J;return E?H.marker&&(J=H.marker.sizeAvg||Math.max(H.marker.size,3)):J=g(i,x),r(h,i,w,A,F,V,J),H.errorX&&m(i,w,H.errorX),H.errorY&&m(i,A,H.errorY),H.fill&&!X.fill2d&&(X.fill2d=!0),H.marker&&!X.scatter2d&&(X.scatter2d=!0),H.line&&!X.line2d&&(X.line2d=!0),(H.errorX||H.errorY)&&!X.error2d&&(X.error2d=!0),H.text&&!X.glText&&(X.glText=!0),H.marker&&(H.marker.snap=x),X.lineOptions.push(H.line),X.errorXOptions.push(H.errorX),X.errorYOptions.push(H.errorY),X.fillOptions.push(H.fill),X.markerOptions.push(H.marker),X.markerSelectedOptions.push(H.markerSel),X.markerUnselectedOptions.push(H.markerUnsel),X.textOptions.push(H.text),X.textSelectedOptions.push(H.textSel),X.textUnselectedOptions.push(H.textUnsel),X.selectBatch.push([]),X.unselectBatch.push([]),a._scene=X,a.index=X.count,a.x=F,a.y=V,a.positions=N,X.count++,[{x:!1,y:!1,t:a,trace:i}]};function m(T,h,i){var p=T._extremes[h._id],w=P(h,i._bnds,{padded:!0});p.min=p.min.concat(w.min),p.max=p.max.concat(w.max)}function v(T,h,i,p,w,A){var L=n.style(T,i);if(L.marker&&(L.marker.positions=p),L.line&&p.length>1&&D.extendFlat(L.line,n.linePositions(T,i,p)),L.errorX||L.errorY){var x=n.errorBarPositions(T,i,p,w,A);L.errorX&&D.extendFlat(L.errorX,x.x),L.errorY&&D.extendFlat(L.errorY,x.y)}return L.text&&(D.extendFlat(L.text,{positions:p},n.textPosition(T,i,L.text,L.marker)),D.extendFlat(L.textSel,{positions:p},n.textPosition(T,i,L.text,L.markerSel)),D.extendFlat(L.textUnsel,{positions:p},n.textPosition(T,i,L.text,L.markerUnsel))),L}},67072:function(W){var G=20;W.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:G,SYMBOL_STROKE:G/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(W,G,t){var y=t(38248),D=t(20472),s=t(72160),P=t(24040),M=t(3400),d=M.isArrayOrTypedArray,g=t(43616),r=t(79811),e=t(33040).formatColor,o=t(43028),n=t(7152),u=t(80088),f=t(67072),c=t(13448).DESELECTDIM,m={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},v=t(10624).appendArrayPointValue;function T(F,V){var N,O={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},H=F._context.plotGlPixelRatio;if(V.visible!==!0)return O;if(o.hasText(V)&&(O.text=h(F,V),O.textSel=A(F,V,V.selected),O.textUnsel=A(F,V,V.unselected)),o.hasMarkers(V)&&(O.marker=p(F,V),O.markerSel=w(F,V,V.selected),O.markerUnsel=w(F,V,V.unselected),!V.unselected&&d(V.marker.opacity))){var X=V.marker.opacity;for(O.markerUnsel.opacity=new Array(X.length),N=0;N<X.length;N++)O.markerUnsel.opacity[N]=c*X[N]}if(o.hasLines(V)){O.line={overlay:!0,thickness:V.line.width*H,color:V.line.color,opacity:V.opacity};var J=(f.DASHES[V.line.dash]||[1]).slice();for(N=0;N<J.length;++N)J[N]*=V.line.width*H;O.line.dashes=J}return V.error_x&&V.error_x.visible&&(O.errorX=L(V,V.error_x,H)),V.error_y&&V.error_y.visible&&(O.errorY=L(V,V.error_y,H)),V.fill&&V.fill!=="none"&&(O.fill={closed:!0,fill:V.fillcolor,thickness:0}),O}function h(F,V){var N=F._fullLayout,O=V._length,H=V.textfont,X=V.textposition,J=d(X)?X:[X],et=H.color,it=H.size,ft=H.family,ot=H.weight,Q=H.style,tt=H.variant,Z={},q,ut=F._context.plotGlPixelRatio,$=V.texttemplate;if($){Z.text=[];var j=N._d3locale,lt=Array.isArray($),nt=lt?Math.min($.length,O):O,ht=lt?function(St){return $[St]}:function(){return $};for(q=0;q<nt;q++){var mt={i:q},At=V._module.formatLabels(mt,V,N),bt={};v(bt,V,q);var Pt=V._meta||{};Z.text.push(M.texttemplateString(ht(q),At,j,bt,mt,Pt))}}else d(V.text)&&V.text.length<O?Z.text=V.text.slice():Z.text=V.text;if(d(Z.text))for(q=Z.text.length;q<O;q++)Z.text[q]="";for(Z.opacity=V.opacity,Z.font={},Z.align=[],Z.baseline=[],q=0;q<J.length;q++){var _t=J[q].split(/\s+/);switch(_t[1]){case"left":Z.align.push("right");break;case"right":Z.align.push("left");break;default:Z.align.push(_t[1])}switch(_t[0]){case"top":Z.baseline.push("bottom");break;case"bottom":Z.baseline.push("top");break;default:Z.baseline.push(_t[0])}}if(d(et))for(Z.color=new Array(O),q=0;q<O;q++)Z.color[q]=et[q];else Z.color=et;if(d(it)||Array.isArray(ft)||d(ot)||Array.isArray(Q)||Array.isArray(tt))for(Z.font=new Array(O),q=0;q<O;q++){var Ut=Z.font[q]={};Ut.size=(M.isTypedArray(it)?it[q]:d(it)?y(it[q])?it[q]:0:it)*ut,Ut.family=Array.isArray(ft)?ft[q]:ft,Ut.weight=i(d(ot)?ot[q]:ot),Ut.style=Array.isArray(Q)?Q[q]:Q,Ut.variant=Array.isArray(tt)?tt[q]:tt}else Z.font={size:it*ut,family:ft,weight:i(ot),style:Q,variant:tt};return Z}function i(F){return F<=1e3?F>500?"bold":"normal":F}function p(F,V){var N=V._length,O=V.marker,H={},X,J=d(O.symbol),et=d(O.angle),it=d(O.color),ft=d(O.line.color),ot=d(O.opacity),Q=d(O.size),tt=d(O.line.width),Z;if(J||(Z=u.isOpenSymbol(O.symbol)),J||it||ft||ot||et){H.symbols=new Array(N),H.angles=new Array(N),H.colors=new Array(N),H.borderColors=new Array(N);var q=O.symbol,ut=O.angle,$=e(O,O.opacity,N),j=e(O.line,O.opacity,N);if(!d(j[0])){var lt=j;for(j=Array(N),X=0;X<N;X++)j[X]=lt}if(!d($[0])){var nt=$;for($=Array(N),X=0;X<N;X++)$[X]=nt}if(!d(q)){var ht=q;for(q=Array(N),X=0;X<N;X++)q[X]=ht}if(!d(ut)){var mt=ut;for(ut=Array(N),X=0;X<N;X++)ut[X]=mt}for(H.symbols=q,H.angles=ut,H.colors=$,H.borderColors=j,X=0;X<N;X++)J&&(Z=u.isOpenSymbol(O.symbol[X])),Z&&(j[X]=$[X].slice(),$[X]=$[X].slice(),$[X][3]=0);for(H.opacity=V.opacity,H.markers=new Array(N),X=0;X<N;X++)H.markers[X]=b({mx:H.symbols[X],ma:H.angles[X]},V)}else Z?(H.color=s(O.color,"uint8"),H.color[3]=0,H.borderColor=s(O.color,"uint8")):(H.color=s(O.color,"uint8"),H.borderColor=s(O.line.color,"uint8")),H.opacity=V.opacity*O.opacity,H.marker=b({mx:O.symbol,ma:O.angle},V);var At=1,bt=n(V,At),Pt;if(Q||tt){var _t=H.sizes=new Array(N),Ut=H.borderSizes=new Array(N),St=0,Rt;if(Q){for(X=0;X<N;X++)_t[X]=bt(O.size[X]),St+=_t[X];Rt=St/N}else for(Pt=bt(O.size),X=0;X<N;X++)_t[X]=Pt;if(tt)for(X=0;X<N;X++)Ut[X]=O.line.width[X];else for(Pt=O.line.width,X=0;X<N;X++)Ut[X]=Pt;H.sizeAvg=Rt}else H.size=bt(O&&O.size||10),H.borderSizes=bt(O.line.width);return H}function w(F,V,N){var O=V.marker,H={};return N&&(N.marker&&N.marker.symbol?H=p(F,M.extendFlat({},O,N.marker)):N.marker&&(N.marker.size&&(H.size=N.marker.size),N.marker.color&&(H.colors=N.marker.color),N.marker.opacity!==void 0&&(H.opacity=N.marker.opacity))),H}function A(F,V,N){var O={};if(!N)return O;if(N.textfont){var H={opacity:1,text:V.text,texttemplate:V.texttemplate,textposition:V.textposition,textfont:M.extendFlat({},V.textfont)};N.textfont&&M.extendFlat(H.textfont,N.textfont),O=h(F,H)}return O}function L(F,V,N){var O={capSize:V.width*2*N,lineWidth:V.thickness*N,color:V.color};return V.copy_ystyle&&(O=F.error_y),O}var x=f.SYMBOL_SDF_SIZE,E=f.SYMBOL_SIZE,S=f.SYMBOL_STROKE,a={},C=g.symbolFuncs[0](E*.05);function b(F,V){var N=F.mx;if(N==="circle")return null;var O,H,X=g.symbolNumber(N),J=g.symbolFuncs[X%100],et=!!g.symbolNoDot[X%100],it=!!g.symbolNoFill[X%100],ft=u.isDotSymbol(N);if(F.ma&&(N+="_"+F.ma),a[N])return a[N];var ot=g.getMarkerAngle(F,V);return ft&&!et?O=J(E*1.1,ot)+C:O=J(E,ot),H=D(O,{w:x,h:x,viewBox:[-E,-E,E,E],stroke:it?S:-S}),a[N]=H,H||null}function z(F,V,N){var O=N.length,H=O/2,X,J;if(o.hasLines(V)&&H)if(V.line.shape==="hv"){for(X=[],J=0;J<H-1;J++)isNaN(N[J*2])||isNaN(N[J*2+1])?X.push(NaN,NaN,NaN,NaN):(X.push(N[J*2],N[J*2+1]),!isNaN(N[J*2+2])&&!isNaN(N[J*2+3])?X.push(N[J*2+2],N[J*2+1]):X.push(NaN,NaN));X.push(N[O-2],N[O-1])}else if(V.line.shape==="hvh"){for(X=[],J=0;J<H-1;J++)if(isNaN(N[J*2])||isNaN(N[J*2+1])||isNaN(N[J*2+2])||isNaN(N[J*2+3]))!isNaN(N[J*2])&&!isNaN(N[J*2+1])?X.push(N[J*2],N[J*2+1]):X.push(NaN,NaN),X.push(NaN,NaN);else{var et=(N[J*2]+N[J*2+2])/2;X.push(N[J*2],N[J*2+1],et,N[J*2+1],et,N[J*2+3])}X.push(N[O-2],N[O-1])}else if(V.line.shape==="vhv"){for(X=[],J=0;J<H-1;J++)if(isNaN(N[J*2])||isNaN(N[J*2+1])||isNaN(N[J*2+2])||isNaN(N[J*2+3]))!isNaN(N[J*2])&&!isNaN(N[J*2+1])?X.push(N[J*2],N[J*2+1]):X.push(NaN,NaN),X.push(NaN,NaN);else{var it=(N[J*2+1]+N[J*2+3])/2;X.push(N[J*2],N[J*2+1],N[J*2],it,N[J*2+2],it)}X.push(N[O-2],N[O-1])}else if(V.line.shape==="vh"){for(X=[],J=0;J<H-1;J++)isNaN(N[J*2])||isNaN(N[J*2+1])?X.push(NaN,NaN,NaN,NaN):(X.push(N[J*2],N[J*2+1]),!isNaN(N[J*2+2])&&!isNaN(N[J*2+3])?X.push(N[J*2],N[J*2+3]):X.push(NaN,NaN));X.push(N[O-2],N[O-1])}else X=N;var ft=!1;for(J=0;J<X.length;J++)if(isNaN(X[J])){ft=!0;break}var ot=ft||X.length>f.TOO_MANY_POINTS||o.hasMarkers(V)?"rect":"round";if(ft&&V.connectgaps){var Q=X[0],tt=X[1];for(J=0;J<X.length;J+=2)isNaN(X[J])||isNaN(X[J+1])?(X[J]=Q,X[J+1]=tt):(Q=X[J],tt=X[J+1])}return{join:ot,positions:X}}function k(F,V,N,O,H){var X=P.getComponentMethod("errorbars","makeComputeError"),J=r.getFromId(F,V.xaxis,"x"),et=r.getFromId(F,V.yaxis,"y"),it=N.length/2,ft={};function ot(Q,tt){var Z=tt._id.charAt(0),q=V["error_"+Z];if(q&&q.visible&&(tt.type==="linear"||tt.type==="log")){for(var ut=X(q),$={x:0,y:1}[Z],j={x:[0,1,2,3],y:[2,3,0,1]}[Z],lt=new Float64Array(4*it),nt=1/0,ht=-1/0,mt=0,At=0;mt<it;mt++,At+=4){var bt=Q[mt];if(y(bt)){var Pt=N[mt*2+$],_t=ut(bt,mt),Ut=_t[0],St=_t[1];if(y(Ut)&&y(St)){var Rt=bt-Ut,Et=bt+St;lt[At+j[0]]=Pt-tt.c2l(Rt),lt[At+j[1]]=tt.c2l(Et)-Pt,lt[At+j[2]]=0,lt[At+j[3]]=0,nt=Math.min(nt,bt-Ut),ht=Math.max(ht,bt+St)}}}ft[Z]={positions:N,errors:lt,_bnds:[nt,ht]}}}return ot(O,J),ot(H,et),ft}function U(F,V,N,O){var H=V._length,X={},J;if(o.hasMarkers(V)){var et=N.font,it=N.align,ft=N.baseline;for(X.offset=new Array(H),J=0;J<H;J++){var ot=O.sizes?O.sizes[J]:O.size,Q=d(et)?et[J].size:et.size,tt=d(it)?it.length>1?it[J]:it[0]:it,Z=d(ft)?ft.length>1?ft[J]:ft[0]:ft,q=m[tt],ut=m[Z],$=ot?ot/.8+1:0,j=-ut*$-ut*.5;X.offset[J]=[q*$/Q,j/Q]}}return X}W.exports={style:T,markerStyle:p,markerSelection:w,linePositions:z,errorBarPositions:k,textPosition:U}},80220:function(W,G,t){var y=t(3400),D=t(24040),s=t(80088),P=t(2876),M=t(88200),d=t(43028),g=t(43980),r=t(31147),e=t(74428),o=t(66828),n=t(70840),u=t(124);W.exports=function(c,m,v,T){function h(S,a){return y.coerce(c,m,P,S,a)}var i=c.marker?s.isOpenSymbol(c.marker.symbol):!1,p=d.isBubble(c),w=g(c,m,T,h);if(!w){m.visible=!1;return}r(c,m,T,h),h("xhoverformat"),h("yhoverformat");var A=w<M.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("hovertemplate"),h("mode",A),d.hasMarkers(m)&&(e(c,m,v,T,h,{noAngleRef:!0,noStandOff:!0}),h("marker.line.width",i||p?1:0)),d.hasLines(m)&&(h("connectgaps"),o(c,m,v,T,h),h("line.shape")),d.hasText(m)&&(h("texttemplate"),u(c,m,T,h,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var L=(m.line||{}).color,x=(m.marker||{}).color;h("fill"),m.fill!=="none"&&n(c,m,v,h);var E=D.getComponentMethod("errorbars","supplyDefaults");E(c,m,L||x||v,{axis:"y"}),E(c,m,L||x||v,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(m,h)}},26768:function(W,G,t){var y=t(3400),D=t(76308),s=t(13448).DESELECTDIM;function P(M){var d=M[0],g=d.trace,r=d.t,e=r._scene,o=r.index,n=e.selectBatch[o],u=e.unselectBatch[o],f=e.textOptions[o],c=e.textSelectedOptions[o]||{},m=e.textUnselectedOptions[o]||{},v=y.extendFlat({},f),T,h;if(n.length||u.length){var i=c.color,p=m.color,w=f.color,A=y.isArrayOrTypedArray(w);for(v.color=new Array(g._length),T=0;T<n.length;T++)h=n[T],v.color[h]=i||(A?w[h]:w);for(T=0;T<u.length;T++){h=u[T];var L=A?w[h]:w;v.color[h]=p||(i?L:D.addOpacity(L,s))}}e.glText[o].update(v)}W.exports={styleTextSelection:P}},99396:function(W,G,t){var y=t(76688);W.exports=function(s,P,M){var d=s.i;return"x"in s||(s.x=P._x[d]),"y"in s||(s.y=P._y[d]),y(s,P,M)}},80088:function(W,G,t){var y=t(67072);G.isOpenSymbol=function(D){return typeof D=="string"?y.OPEN_RE.test(D):D%200>100},G.isDotSymbol=function(D){return typeof D=="string"?y.DOT_RE.test(D):D>200}},41272:function(W,G,t){var y=t(24040),D=t(3400),s=t(44928);function P(d,g,r,e){var o=d.cd,n=o[0].t,u=o[0].trace,f=d.xa,c=d.ya,m=n.x,v=n.y,T=f.c2p(g),h=c.c2p(r),i=d.distance,p;if(n.tree){var w=f.p2c(T-i),A=f.p2c(T+i),L=c.p2c(h-i),x=c.p2c(h+i);e==="x"?p=n.tree.range(Math.min(w,A),Math.min(c._rl[0],c._rl[1]),Math.max(w,A),Math.max(c._rl[0],c._rl[1])):p=n.tree.range(Math.min(w,A),Math.min(L,x),Math.max(w,A),Math.max(L,x))}else p=n.ids;var E,S,a,C,b,z,k,U,F,V=i;if(e==="x"){var N=!!u.xperiodalignment,O=!!u.yperiodalignment;for(b=0;b<p.length;b++){if(E=p[b],a=m[E],z=Math.abs(f.c2p(a)-T),N){var H=f.c2p(u._xStarts[E]),X=f.c2p(u._xEnds[E]);z=T>=Math.min(H,X)&&T<=Math.max(H,X)?0:1/0}if(z<V){if(V=z,C=v[E],k=c.c2p(C)-h,O){var J=c.c2p(u._yStarts[E]),et=c.c2p(u._yEnds[E]);k=h>=Math.min(J,et)&&h<=Math.max(J,et)?0:1/0}F=Math.sqrt(z*z+k*k),S=p[b]}}}else for(b=p.length-1;b>-1;b--)E=p[b],a=m[E],C=v[E],z=f.c2p(a)-T,k=c.c2p(C)-h,U=Math.sqrt(z*z+k*k),U<V&&(V=F=U,S=E);return d.index=S,d.distance=V,d.dxy=F,S===void 0?[d]:[M(d,m,v,u)]}function M(d,g,r,e){var o=d.xa,n=d.ya,u=d.distance,f=d.dxy,c=d.index,m={pointNumber:c,x:g[c],y:r[c]};m.tx=D.isArrayOrTypedArray(e.text)?e.text[c]:e.text,m.htx=Array.isArray(e.hovertext)?e.hovertext[c]:e.hovertext,m.data=Array.isArray(e.customdata)?e.customdata[c]:e.customdata,m.tp=Array.isArray(e.textposition)?e.textposition[c]:e.textposition;var v=e.textfont;v&&(m.ts=D.isArrayOrTypedArray(v.size)?v.size[c]:v.size,m.tc=D.isArrayOrTypedArray(v.color)?v.color[c]:v.color,m.tf=Array.isArray(v.family)?v.family[c]:v.family,m.tw=Array.isArray(v.weight)?v.weight[c]:v.weight,m.ty=Array.isArray(v.style)?v.style[c]:v.style,m.tv=Array.isArray(v.variant)?v.variant[c]:v.variant);var T=e.marker;T&&(m.ms=D.isArrayOrTypedArray(T.size)?T.size[c]:T.size,m.mo=D.isArrayOrTypedArray(T.opacity)?T.opacity[c]:T.opacity,m.mx=D.isArrayOrTypedArray(T.symbol)?T.symbol[c]:T.symbol,m.ma=D.isArrayOrTypedArray(T.angle)?T.angle[c]:T.angle,m.mc=D.isArrayOrTypedArray(T.color)?T.color[c]:T.color);var h=T&&T.line;h&&(m.mlc=Array.isArray(h.color)?h.color[c]:h.color,m.mlw=D.isArrayOrTypedArray(h.width)?h.width[c]:h.width);var i=T&&T.gradient;i&&i.type!=="none"&&(m.mgt=Array.isArray(i.type)?i.type[c]:i.type,m.mgc=Array.isArray(i.color)?i.color[c]:i.color);var p=o.c2p(m.x,!0),w=n.c2p(m.y,!0),A=m.mrc||1,L=e.hoverlabel;L&&(m.hbg=Array.isArray(L.bgcolor)?L.bgcolor[c]:L.bgcolor,m.hbc=Array.isArray(L.bordercolor)?L.bordercolor[c]:L.bordercolor,m.hts=D.isArrayOrTypedArray(L.font.size)?L.font.size[c]:L.font.size,m.htc=Array.isArray(L.font.color)?L.font.color[c]:L.font.color,m.htf=Array.isArray(L.font.family)?L.font.family[c]:L.font.family,m.hnl=D.isArrayOrTypedArray(L.namelength)?L.namelength[c]:L.namelength);var x=e.hoverinfo;x&&(m.hi=Array.isArray(x)?x[c]:x);var E=e.hovertemplate;E&&(m.ht=Array.isArray(E)?E[c]:E);var S={};S[d.index]=m;var a=e._origX,C=e._origY,b=D.extendFlat({},d,{color:s(e,m),x0:p-A,x1:p+A,xLabelVal:a?a[c]:m.x,y0:w-A,y1:w+A,yLabelVal:C?C[c]:m.y,cd:S,distance:u,spikeDistance:f,hovertemplate:m.ht});return m.htx?b.text=m.htx:m.tx?b.text=m.tx:e.text&&(b.text=e.text),D.fillText(m,e,b),y.getComponentMethod("errorbars","hoverInfo")(m,e,b),b}W.exports={hoverPoints:P,calcHover:M}},38983:function(W,G,t){var y=t(64628);y.plot=t(89876),W.exports=y},89876:function(W,G,t){var y=t(38540),D=t(13472),s=t(24544),P=t(23352),M=t(3400),d=t(72760).selectMode,g=t(5048),r=t(43028),e=t(14328),o=t(26768).styleTextSelection,n={};function u(c,m,v,T){var h=c._size,i=c.width*T,p=c.height*T,w=h.l*T,A=h.b*T,L=h.r*T,x=h.t*T,E=h.w*T,S=h.h*T;return[w+m.domain[0]*E,A+v.domain[0]*S,i-L-(1-m.domain[1])*E,p-x-(1-v.domain[1])*S]}var f=W.exports=function(m,v,T){if(T.length){var h=m._fullLayout,i=v._scene,p=v.xaxis,w=v.yaxis,A,L;if(i){var x=g(m,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!x){i.init();return}var E=i.count,S=h._glcanvas.data()[0].regl;if(e(m,v,T),i.dirty){if((i.line2d||i.error2d)&&!(i.scatter2d||i.fill2d||i.glText)&&S.clear({}),i.error2d===!0&&(i.error2d=s(S)),i.line2d===!0&&(i.line2d=D(S)),i.scatter2d===!0&&(i.scatter2d=y(S)),i.fill2d===!0&&(i.fill2d=D(S)),i.glText===!0)for(i.glText=new Array(E),A=0;A<E;A++)i.glText[A]=new P(S);if(i.glText){if(E>i.glText.length){var a=E-i.glText.length;for(A=0;A<a;A++)i.glText.push(new P(S))}else if(E<i.glText.length){var C=i.glText.length-E,b=i.glText.splice(E,C);b.forEach(function($){$.destroy()})}for(A=0;A<E;A++)i.glText[A].update(i.textOptions[A])}if(i.line2d&&(i.line2d.update(i.lineOptions),i.lineOptions=i.lineOptions.map(function($){if($&&$.positions){for(var j=$.positions,lt=0;lt<j.length&&(isNaN(j[lt])||isNaN(j[lt+1]));)lt+=2;for(var nt=j.length-2;nt>lt&&(isNaN(j[nt])||isNaN(j[nt+1]));)nt-=2;$.positions=j.slice(lt,nt+2)}return $}),i.line2d.update(i.lineOptions)),i.error2d){var z=(i.errorXOptions||[]).concat(i.errorYOptions||[]);i.error2d.update(z)}i.scatter2d&&i.scatter2d.update(i.markerOptions),i.fillOrder=M.repeat(null,E),i.fill2d&&(i.fillOptions=i.fillOptions.map(function($,j){var lt=T[j];if(!(!$||!lt||!lt[0]||!lt[0].trace)){var nt=lt[0],ht=nt.trace,mt=nt.t,At=i.lineOptions[j],bt,Pt,_t=[];ht._ownfill&&_t.push(j),ht._nexttrace&&_t.push(j+1),_t.length&&(i.fillOrder[j]=_t);var Ut=[],St=At&&At.positions||mt.positions,Rt,Et;if(ht.fill==="tozeroy"){for(Rt=0;Rt<St.length&&isNaN(St[Rt+1]);)Rt+=2;for(Et=St.length-2;Et>Rt&&isNaN(St[Et+1]);)Et-=2;St[Rt+1]!==0&&(Ut=[St[Rt],0]),Ut=Ut.concat(St.slice(Rt,Et+2)),St[Et+1]!==0&&(Ut=Ut.concat([St[Et],0]))}else if(ht.fill==="tozerox"){for(Rt=0;Rt<St.length&&isNaN(St[Rt]);)Rt+=2;for(Et=St.length-2;Et>Rt&&isNaN(St[Et]);)Et-=2;St[Rt]!==0&&(Ut=[0,St[Rt+1]]),Ut=Ut.concat(St.slice(Rt,Et+2)),St[Et]!==0&&(Ut=Ut.concat([0,St[Et+1]]))}else if(ht.fill==="toself"||ht.fill==="tonext"){for(Ut=[],bt=0,$.splitNull=!0,Pt=0;Pt<St.length;Pt+=2)(isNaN(St[Pt])||isNaN(St[Pt+1]))&&(Ut=Ut.concat(St.slice(bt,Pt)),Ut.push(St[bt],St[bt+1]),Ut.push(null,null),bt=Pt+2);Ut=Ut.concat(St.slice(bt)),bt&&Ut.push(St[bt],St[bt+1])}else{var zt=ht._nexttrace;if(zt){var Ct=i.lineOptions[j+1];if(Ct){var Wt=Ct.positions;if(ht.fill==="tonexty"){for(Ut=St.slice(),j=Math.floor(Wt.length/2);j--;){var Kt=Wt[j*2],oe=Wt[j*2+1];isNaN(Kt)||isNaN(oe)||Ut.push(Kt,oe)}$.fill=zt.fillcolor}}}}if(ht._prevtrace&&ht._prevtrace.fill==="tonext"){var Jt=i.lineOptions[j-1].positions,te=Ut.length/2;bt=te;var fe=[bt];for(Pt=0;Pt<Jt.length;Pt+=2)(isNaN(Jt[Pt])||isNaN(Jt[Pt+1]))&&(fe.push(Pt/2+te+1),bt=Pt+2);Ut=Ut.concat(Jt),$.hole=fe}return $.fillmode=ht.fill,$.opacity=ht.opacity,$.positions=Ut,$}}),i.fill2d.update(i.fillOptions))}var k=h.dragmode,U=d(k),F=h.clickmode.indexOf("select")>-1;for(A=0;A<E;A++){var V=T[A][0],N=V.trace,O=V.t,H=O.index,X=N._length,J=O.x,et=O.y;if(N.selectedpoints||U||F){if(U||(U=!0),N.selectedpoints){var it=i.selectBatch[H]=M.selIndices2selPoints(N),ft={};for(L=0;L<it.length;L++)ft[it[L]]=1;var ot=[];for(L=0;L<X;L++)ft[L]||ot.push(L);i.unselectBatch[H]=ot}var Q=O.xpx=new Array(X),tt=O.ypx=new Array(X);for(L=0;L<X;L++)Q[L]=p.c2p(J[L]),tt[L]=w.c2p(et[L])}else O.xpx=O.ypx=null}if(U){if(i.select2d||(i.select2d=y(h._glcanvas.data()[1].regl)),i.scatter2d){var Z=new Array(E);for(A=0;A<E;A++)Z[A]=i.selectBatch[A].length||i.unselectBatch[A].length?i.markerUnselectedOptions[A]:{};i.scatter2d.update(Z)}i.select2d&&(i.select2d.update(i.markerOptions),i.select2d.update(i.markerSelectedOptions)),i.glText&&T.forEach(function($){var j=(($||[])[0]||{}).trace||{};r.hasText(j)&&o($)})}else i.scatter2d&&i.scatter2d.update(i.markerOptions);var q={viewport:u(h,p,w,m._context.plotGlPixelRatio),range:[(p._rl||p.range)[0],(w._rl||w.range)[0],(p._rl||p.range)[1],(w._rl||w.range)[1]]},ut=M.repeat(q,i.count);i.fill2d&&i.fill2d.update(ut),i.line2d&&i.line2d.update(ut),i.error2d&&i.error2d.update(ut.concat(ut)),i.scatter2d&&i.scatter2d.update(ut),i.select2d&&i.select2d.update(ut),i.glText&&i.glText.forEach(function($){$.update(q)})}}};f.reglPrecompiled=n},74588:function(W,G,t){var y=t(3400);W.exports=function(s,P){var M=P._scene,d={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},g={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return P._scene||(M=P._scene={},M.init=function(){y.extendFlat(M,g,d)},M.init(),M.update=function(e){var o=y.repeat(e,M.count);if(M.fill2d&&M.fill2d.update(o),M.scatter2d&&M.scatter2d.update(o),M.line2d&&M.line2d.update(o),M.error2d&&M.error2d.update(o.concat(o)),M.select2d&&M.select2d.update(o),M.glText)for(var n=0;n<M.count;n++)M.glText[n].update(e)},M.draw=function(){for(var e=M.count,o=M.fill2d,n=M.error2d,u=M.line2d,f=M.scatter2d,c=M.glText,m=M.select2d,v=M.selectBatch,T=M.unselectBatch,h=0;h<e;h++){if(o&&M.fillOrder[h]&&o.draw(M.fillOrder[h]),u&&M.lineOptions[h]&&u.draw(h),n&&(M.errorXOptions[h]&&n.draw(h),M.errorYOptions[h]&&n.draw(h+e)),f&&M.markerOptions[h])if(T[h].length){var i=y.repeat([],M.count);i[h]=T[h],f.draw(i)}else v[h].length||f.draw(h);c[h]&&M.textOptions[h]&&c[h].render()}m&&m.draw(v),M.dirty=!1},M.destroy=function(){M.fill2d&&M.fill2d.destroy&&M.fill2d.destroy(),M.scatter2d&&M.scatter2d.destroy&&M.scatter2d.destroy(),M.error2d&&M.error2d.destroy&&M.error2d.destroy(),M.line2d&&M.line2d.destroy&&M.line2d.destroy(),M.select2d&&M.select2d.destroy&&M.select2d.destroy(),M.glText&&M.glText.forEach(function(e){e.destroy&&e.destroy()}),M.lineOptions=null,M.fillOptions=null,M.markerOptions=null,M.markerSelectedOptions=null,M.markerUnselectedOptions=null,M.errorXOptions=null,M.errorYOptions=null,M.textOptions=null,M.textSelectedOptions=null,M.textUnselectedOptions=null,M.selectBatch=null,M.unselectBatch=null,P._scene=null}),M.dirty||y.extendFlat(M,d),M}},73224:function(W,G,t){var y=t(43028),D=t(26768).styleTextSelection;W.exports=function(P,M){var d=P.cd,g=P.xaxis,r=P.yaxis,e=[],o=d[0].trace,n=d[0].t,u=o._length,f=n.x,c=n.y,m=n._scene,v=n.index;if(!m)return e;var T=y.hasText(o),h=y.hasMarkers(o),i=!h&&!T;if(o.visible!==!0||i)return e;var p=[],w=[];if(M!==!1&&!M.degenerate)for(var A=0;A<u;A++)M.contains([n.xpx[A],n.ypx[A]],!1,A,P)?(p.push(A),e.push({pointNumber:A,x:g.c2d(f[A]),y:r.c2d(c[A])})):w.push(A);if(h){var L=m.scatter2d;if(!p.length&&!w.length){var x=new Array(m.count);x[v]=m.markerOptions[v],L.update.apply(L,x)}else if(!m.selectBatch[v].length&&!m.unselectBatch[v].length){var E=new Array(m.count);E[v]=m.markerUnselectedOptions[v],L.update.apply(L,E)}}return m.selectBatch[v]=p,m.unselectBatch[v]=w,T&&D(d),e}},31512:function(W,G,t){var y=t(21776).Ks,D=t(21776).Gw,s=t(98304),P=t(6096),M=t(52904),d=t(5232),g=t(45464),r=t(49084),e=t(92880).extendFlat,o=t(67824).overrideAll,n=t(5232),u=P.line,f=P.marker;W.exports=o({lon:P.lon,lat:P.lat,cluster:{enabled:{valType:"boolean"},maxzoom:e({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:e({},f.opacity,{dflt:1})},mode:e({},M.mode,{dflt:"markers"}),text:e({},M.text,{}),texttemplate:D({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:e({},M.hovertext,{}),line:{color:u.color,width:u.width},connectgaps:M.connectgaps,marker:e({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:f.opacity,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode},r("marker")),fill:P.fill,fillcolor:s(),textfont:d.layers.symbol.textfont,textposition:d.layers.symbol.textposition,below:{valType:"string"},selected:{marker:M.selected.marker},unselected:{marker:M.unselected.marker},hoverinfo:e({},g.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:y()},"calc","nested")},79732:function(W){var G=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];W.exports={isSupportedFont:function(t){return G.indexOf(t)!==-1}}},59392:function(W,G,t){var y=t(38248),D=t(3400),s=t(39032).BADNUM,P=t(44808),M=t(8932),d=t(43616),g=t(7152),r=t(43028),e=t(79732).isSupportedFont,o=t(89032),n=t(10624).appendArrayPointValue,u=t(72736).NEWLINES,f=t(72736).BR_TAG_ALL;W.exports=function(L,x){var E=x[0].trace,S=E.visible===!0&&E._length!==0,a=E.fill!=="none",C=r.hasLines(E),b=r.hasMarkers(E),z=r.hasText(E),k=b&&E.marker.symbol==="circle",U=b&&E.marker.symbol!=="circle",F=E.cluster&&E.cluster.enabled,V=c("fill"),N=c("line"),O=c("circle"),H=c("symbol"),X={fill:V,line:N,circle:O,symbol:H};if(!S)return X;var J;if((a||C)&&(J=P.calcTraceToLineCoords(x)),a&&(V.geojson=P.makePolygon(J),V.layout.visibility="visible",D.extendFlat(V.paint,{"fill-color":E.fillcolor})),C&&(N.geojson=P.makeLine(J),N.layout.visibility="visible",D.extendFlat(N.paint,{"line-width":E.line.width,"line-color":E.line.color,"line-opacity":E.opacity})),k){var et=m(x);O.geojson=et.geojson,O.layout.visibility="visible",F&&(O.filter=["!",["has","point_count"]],X.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":p(E.cluster.color,E.cluster.step),"circle-radius":p(E.cluster.size,E.cluster.step),"circle-opacity":p(E.cluster.opacity,E.cluster.step)}},X.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":w(E),"text-size":12}}),D.extendFlat(O.paint,{"circle-color":et.mcc,"circle-radius":et.mrc,"circle-opacity":et.mo})}if(k&&F&&(O.filter=["!",["has","point_count"]]),(U||z)&&(H.geojson=v(x,L),D.extendFlat(H.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),U&&(D.extendFlat(H.layout,{"icon-size":E.marker.size/10}),"angle"in E.marker&&E.marker.angle!=="auto"&&D.extendFlat(H.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),H.layout["icon-allow-overlap"]=E.marker.allowoverlap,D.extendFlat(H.paint,{"icon-opacity":E.opacity*E.marker.opacity,"icon-color":E.marker.color})),z)){var it=(E.marker||{}).size,ft=o(E.textposition,it);D.extendFlat(H.layout,{"text-size":E.textfont.size,"text-anchor":ft.anchor,"text-offset":ft.offset,"text-font":w(E)}),D.extendFlat(H.paint,{"text-color":E.textfont.color,"text-opacity":E.opacity})}return X};function c(A){return{type:A,geojson:P.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function m(A){var L=A[0].trace,x=L.marker,E=L.selectedpoints,S=D.isArrayOrTypedArray(x.color),a=D.isArrayOrTypedArray(x.size),C=D.isArrayOrTypedArray(x.opacity),b;function z(it){return L.opacity*it}function k(it){return it/2}var U;S&&(M.hasColorscale(L,"marker")?U=M.makeColorScaleFuncFromTrace(x):U=D.identity);var F;a&&(F=g(L));var V;C&&(V=function(it){var ft=y(it)?+D.constrain(it,0,1):0;return z(ft)});var N=[];for(b=0;b<A.length;b++){var O=A[b],H=O.lonlat;if(!i(H)){var X={};U&&(X.mcc=O.mcc=U(O.mc)),F&&(X.mrc=O.mrc=F(O.ms)),V&&(X.mo=V(O.mo)),E&&(X.selected=O.selected||0),N.push({type:"Feature",id:b+1,geometry:{type:"Point",coordinates:H},properties:X})}}var J;if(E)for(J=d.makeSelectedPointStyleFns(L),b=0;b<N.length;b++){var et=N[b].properties;J.selectedOpacityFn&&(et.mo=z(J.selectedOpacityFn(et))),J.selectedColorFn&&(et.mcc=J.selectedColorFn(et)),J.selectedSizeFn&&(et.mrc=J.selectedSizeFn(et))}return{geojson:{type:"FeatureCollection",features:N},mcc:S||J&&J.selectedColorFn?{type:"identity",property:"mcc"}:x.color,mrc:a||J&&J.selectedSizeFn?{type:"identity",property:"mrc"}:k(x.size),mo:C||J&&J.selectedOpacityFn?{type:"identity",property:"mo"}:z(x.opacity)}}function v(A,L){for(var x=L._fullLayout,E=A[0].trace,S=E.marker||{},a=S.symbol,C=S.angle,b=a!=="circle"?T(a):h,z=C!=="auto"?T(C,!0):h,k=r.hasText(E)?T(E.text):h,U=[],F=0;F<A.length;F++){var V=A[F];if(!i(V.lonlat)){var N=E.texttemplate,O;if(N){var H=Array.isArray(N)?N[F]||"":N,X=E._module.formatLabels(V,E,x),J={};n(J,E,V.i);var et=E._meta||{};O=D.texttemplateString(H,X,x._d3locale,J,V,et)}else O=k(F);O&&(O=O.replace(u,"").replace(f,`
`)),U.push({type:"Feature",geometry:{type:"Point",coordinates:V.lonlat},properties:{symbol:b(F),angle:z(F),text:O}})}}return{type:"FeatureCollection",features:U}}function T(A,L){return D.isArrayOrTypedArray(A)?L?function(x){return y(A[x])?+A[x]:0}:function(x){return A[x]}:A?function(){return A}:h}function h(){return""}function i(A){return A[0]===s}function p(A,L){var x;if(D.isArrayOrTypedArray(A)&&D.isArrayOrTypedArray(L)){x=["step",["get","point_count"],A[0]];for(var E=1;E<A.length;E++)x.push(L[E-1],A[E])}else x=A;return x}function w(A){var L=A.textfont,x=L.family,E=L.style,S=L.weight,a=x.split(" "),C=a[a.length-1]==="Italic";C&&a.pop(),C=C||E==="italic";var b=a.join(" ");S==="bold"&&a.indexOf("Bold")===-1?b+=" Bold":S<=1e3&&(a[0]==="Metropolis"?(b="Metropolis",S>850?b+=" Black":S>750?b+=" Extra Bold":S>650?b+=" Bold":S>550?b+=" Semi Bold":S>450?b+=" Medium":S>350?b+=" Regular":S>250?b+=" Light":S>150?b+=" Extra Light":b+=" Thin"):a.slice(0,2).join(" ")==="Open Sans"?(b="Open Sans",S>750?b+=" Extrabold":S>650?b+=" Bold":S>550?b+=" Semibold":S>350?b+=" Regular":b+=" Light"):a.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(b="Klokantech Noto Sans",a[3]==="CJK"&&(b+=" CJK"),b+=S>500?" Bold":" Regular")),C&&(b+=" Italic"),b==="Open Sans Regular Italic"?b="Open Sans Italic":b==="Open Sans Regular Bold"?b="Open Sans Bold":b==="Open Sans Regular Bold Italic"?b="Open Sans Bold Italic":b==="Klokantech Noto Sans Regular Italic"&&(b="Klokantech Noto Sans Italic"),e(b)||(b=x);var z=b.split(", ");return z}},15752:function(W,G,t){var y=t(3400),D=t(43028),s=t(74428),P=t(66828),M=t(124),d=t(70840),g=t(31512),r=t(79732).isSupportedFont;W.exports=function(n,u,f,c){function m(a,C){return y.coerce(n,u,g,a,C)}function v(a,C){return y.coerce2(n,u,g,a,C)}var T=e(n,u,m);if(!T){u.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),D.hasMarkers(u)){s(n,u,f,c,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var h=u.marker;h.symbol!=="circle"&&(y.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),y.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}D.hasLines(u)&&(P(n,u,f,c,m,{noDash:!0}),m("connectgaps"));var i=v("cluster.maxzoom"),p=v("cluster.step"),w=v("cluster.color",u.marker&&u.marker.color||f),A=v("cluster.size"),L=v("cluster.opacity"),x=i!==!1||p!==!1||w!==!1||A!==!1||L!==!1,E=m("cluster.enabled",x);if(E||D.hasText(u)){var S=c.font.family;M(n,u,c,m,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:r(S)?S:"Open Sans Regular",weight:c.font.weight,style:c.font.style,size:c.font.size,color:c.font.color}})}m("fill"),u.fill!=="none"&&d(n,u,f,m),y.coerceSelectionMarkerOpacity(u,m)};function e(o,n,u){var f=u("lon")||[],c=u("lat")||[],m=Math.min(f.length,c.length);return n._length=m,m}},37920:function(W){W.exports=function(t,y){return t.lon=y.lon,t.lat=y.lat,t}},11960:function(W,G,t){var y=t(54460);W.exports=function(s,P,M){var d={},g=M[P.subplot]._subplot,r=g.mockAxis,e=s.lonlat;return d.lonLabel=y.tickText(r,r.c2l(e[0]),!0).text,d.latLabel=y.tickText(r,r.c2l(e[1]),!0).text,d}},63312:function(W,G,t){var y=t(93024),D=t(3400),s=t(44928),P=D.fillText,M=t(39032).BADNUM,d=t(47552).traceLayerPrefix;function g(e,o,n){var u=e.cd,f=u[0].trace,c=e.xa,m=e.ya,v=e.subplot,T=[],h=d+f.uid+"-circle",i=f.cluster&&f.cluster.enabled;if(i){var p=v.map.queryRenderedFeatures(null,{layers:[h]});T=p.map(function(F){return F.id})}var w=o>=0?Math.floor((o+180)/360):Math.ceil((o-180)/360),A=w*360,L=o-A;function x(F){var V=F.lonlat;if(V[0]===M||i&&T.indexOf(F.i+1)===-1)return 1/0;var N=D.modHalf(V[0],360),O=V[1],H=v.project([N,O]),X=H.x-c.c2p([L,O]),J=H.y-m.c2p([N,n]),et=Math.max(3,F.mrc||0);return Math.max(Math.sqrt(X*X+J*J)-et,1-3/et)}if(y.getClosest(u,x,e),e.index!==!1){var E=u[e.index],S=E.lonlat,a=[D.modHalf(S[0],360)+A,S[1]],C=c.c2p(a),b=m.c2p(a),z=E.mrc||1;e.x0=C-z,e.x1=C+z,e.y0=b-z,e.y1=b+z;var k={};k[f.subplot]={_subplot:v};var U=f._module.formatLabels(E,f,k);return e.lonLabel=U.lonLabel,e.latLabel=U.latLabel,e.color=s(f,E),e.extraText=r(f,E,u[0].t.labels),e.hovertemplate=f.hovertemplate,[e]}}function r(e,o,n){if(e.hovertemplate)return;var u=o.hi||e.hoverinfo,f=u.split("+"),c=f.indexOf("all")!==-1,m=f.indexOf("lon")!==-1,v=f.indexOf("lat")!==-1,T=o.lonlat,h=[];function i(p){return p+""}return c||m&&v?h.push("("+i(T[1])+", "+i(T[0])+")"):m?h.push(n.lon+i(T[0])):v&&h.push(n.lat+i(T[1])),(c||f.indexOf("text")!==-1)&&P(o,e,h),h.join("<br>")}W.exports={hoverPoints:g,getExtraText:r}},11572:function(W,G,t){W.exports={attributes:t(31512),supplyDefaults:t(15752),colorbar:t(5528),formatLabels:t(11960),calc:t(25212),plot:t(9660),hoverPoints:t(63312).hoverPoints,eventData:t(37920),selectPoints:t(404),styleOnSelect:function(y,D){if(D){var s=D[0].trace;s._glTrace.update(D)}},moduleType:"trace",name:"scattermapbox",basePlotModule:t(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(W,G,t){var y=t(3400),D=t(59392),s=t(47552).traceLayerPrefix,P={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function M(g,r,e,o){this.type="scattermapbox",this.subplot=g,this.uid=r,this.clusterEnabled=e,this.isHidden=o,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:s+r+"-fill",line:s+r+"-line",circle:s+r+"-circle",symbol:s+r+"-symbol",cluster:s+r+"-cluster",clusterCount:s+r+"-cluster-count"},this.below=null}var d=M.prototype;d.addSource=function(g,r,e){var o={type:"geojson",data:r.geojson};e&&e.enabled&&y.extendFlat(o,{cluster:!0,clusterMaxZoom:e.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[g]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[g],o)},d.setSourceData=function(g,r){this.subplot.map.getSource(this.sourceIds[g]).setData(r.geojson)},d.addLayer=function(g,r,e){var o={type:r.type,id:this.layerIds[g],source:this.sourceIds[g],layout:r.layout,paint:r.paint};r.filter&&(o.filter=r.filter);for(var n=this.layerIds[g],u,f=this.subplot.getMapLayers(),c=0;c<f.length;c++)if(f[c].id===n){u=!0;break}u?(this.subplot.setOptions(n,"setLayoutProperty",o.layout),o.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",o.paint)):this.subplot.addLayer(o,e)},d.update=function(r){var e=r[0].trace,o=this.subplot,n=o.map,u=D(o.gd,r),f=o.belowLookup["trace-"+this.uid],c=!!(e.cluster&&e.cluster.enabled),m=!!this.clusterEnabled,v=this;function T(S){S||v.addSource("circle",u.circle,e.cluster);for(var a=P.cluster,C=0;C<a.length;C++){var b=a[C],z=u[b];v.addLayer(b,z,f)}}function h(S){for(var a=P.cluster,C=a.length-1;C>=0;C--){var b=a[C];n.removeLayer(v.layerIds[b])}S||n.removeSource(v.sourceIds.circle)}function i(S){for(var a=P.nonCluster,C=0;C<a.length;C++){var b=a[C],z=u[b];S||v.addSource(b,z),v.addLayer(b,z,f)}}function p(S){for(var a=P.nonCluster,C=a.length-1;C>=0;C--){var b=a[C];n.removeLayer(v.layerIds[b]),S||n.removeSource(v.sourceIds[b])}}function w(S){m?h(S):p(S)}function A(S){c?T(S):i(S)}function L(){for(var S=c?P.cluster:P.nonCluster,a=0;a<S.length;a++){var C=S[a],b=u[C];b&&(o.setOptions(v.layerIds[C],"setLayoutProperty",b.layout),b.layout.visibility==="visible"&&(C!=="cluster"&&v.setSourceData(C,b),o.setOptions(v.layerIds[C],"setPaintProperty",b.paint)))}}var x=this.isHidden,E=e.visible!==!0;E?x||w():x?E||A():m!==c?(w(),A()):(this.below!==f&&(w(!0),A(!0)),L()),this.clusterEnabled=c,this.isHidden=E,this.below=f,r[0].trace._glTrace=this},d.dispose=function(){for(var r=this.subplot.map,e=this.clusterEnabled?P.cluster:P.nonCluster,o=e.length-1;o>=0;o--){var n=e[o];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},W.exports=function(r,e){var o=e[0].trace,n=o.cluster&&o.cluster.enabled,u=o.visible!==!0,f=new M(r,o.uid,n,u),c=D(r.gd,e),m=f.below=r.belowLookup["trace-"+o.uid],v,T,h;if(n)for(f.addSource("circle",c.circle,o.cluster),v=0;v<P.cluster.length;v++)T=P.cluster[v],h=c[T],f.addLayer(T,h,m);else for(v=0;v<P.nonCluster.length;v++)T=P.nonCluster[v],h=c[T],f.addSource(T,h,o.cluster),f.addLayer(T,h,m);return e[0].trace._glTrace=f,f}},404:function(W,G,t){var y=t(3400),D=t(43028),s=t(39032).BADNUM;W.exports=function(M,d){var g=M.cd,r=M.xaxis,e=M.yaxis,o=[],n=g[0].trace,u;if(!D.hasMarkers(n))return[];if(d===!1)for(u=0;u<g.length;u++)g[u].selected=0;else for(u=0;u<g.length;u++){var f=g[u],c=f.lonlat;if(c[0]!==s){var m=[y.modHalf(c[0],360),c[1]],v=[r.c2p(m),e.c2p(m)];d.contains(v,null,u,M)?(o.push({pointNumber:u,lon:c[0],lat:c[1]}),f.selected=1):f.selected=0}}return o}},8319:function(W,G,t){var y=t(21776).Ks,D=t(21776).Gw,s=t(92880).extendFlat,P=t(98304),M=t(52904),d=t(45464),g=M.line;W.exports={mode:M.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:M.text,texttemplate:D({editType:"plot"},{keys:["r","theta","text"]}),hovertext:M.hovertext,line:{color:g.color,width:g.width,dash:g.dash,backoff:g.backoff,shape:s({},g.shape,{values:["linear","spline"]}),smoothing:g.smoothing,editType:"calc"},connectgaps:M.connectgaps,marker:M.marker,cliponaxis:s({},M.cliponaxis,{dflt:!1}),textposition:M.textposition,textfont:M.textfont,fill:s({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:P(),hoverinfo:s({},d.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:M.hoveron,hovertemplate:y(),selected:M.selected,unselected:M.unselected}},58320:function(W,G,t){var y=t(38248),D=t(39032).BADNUM,s=t(54460),P=t(90136),M=t(20148),d=t(4500),g=t(16356).calcMarkerSize;W.exports=function(e,o){for(var n=e._fullLayout,u=o.subplot,f=n[u].radialaxis,c=n[u].angularaxis,m=f.makeCalcdata(o,"r"),v=c.makeCalcdata(o,"theta"),T=o._length,h=new Array(T),i=0;i<T;i++){var p=m[i],w=v[i],A=h[i]={};y(p)&&y(w)?(A.r=p,A.theta=w):A.r=D}var L=g(o,T);return o._extremes.x=s.findExtremes(f,m,{ppad:L}),P(e,o),M(h,o),d(h,o),h}},85968:function(W,G,t){var y=t(3400),D=t(43028),s=t(74428),P=t(66828),M=t(11731),d=t(124),g=t(70840),r=t(88200).PTS_LINESONLY,e=t(8319);function o(u,f,c,m){function v(i,p){return y.coerce(u,f,e,i,p)}var T=n(u,f,m,v);if(!T){f.visible=!1;return}v("thetaunit"),v("mode",T<r?"lines+markers":"lines"),v("text"),v("hovertext"),f.hoveron!=="fills"&&v("hovertemplate"),D.hasMarkers(f)&&s(u,f,c,m,v,{gradient:!0}),D.hasLines(f)&&(P(u,f,c,m,v,{backoff:!0}),M(u,f,v),v("connectgaps")),D.hasText(f)&&(v("texttemplate"),d(u,f,m,v));var h=[];(D.hasMarkers(f)||D.hasText(f))&&(v("cliponaxis"),v("marker.maxdisplayed"),h.push("points")),v("fill"),f.fill!=="none"&&(g(u,f,c,v),D.hasLines(f)||M(u,f,v)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),v("hoveron",h.join("+")||"points"),y.coerceSelectionMarkerOpacity(f,v)}function n(u,f,c,m){var v=m("r"),T=m("theta");y.isTypedArray(v)&&(f.r=v=Array.from(v)),y.isTypedArray(T)&&(f.theta=T=Array.from(T));var h;if(v)T?h=Math.min(v.length,T.length):(h=v.length,m("theta0"),m("dtheta"));else{if(!T)return 0;h=f.theta.length,m("r0"),m("dr")}return f._length=h,h}W.exports={handleRThetaDefaults:n,supplyDefaults:o}},22852:function(W,G,t){var y=t(3400),D=t(54460);W.exports=function(P,M,d){var g={},r=d[M.subplot]._subplot,e,o;r?(e=r.radialAxis,o=r.angularAxis):(r=d[M.subplot],e=r.radialaxis,o=r.angularaxis);var n=e.c2l(P.r);g.rLabel=D.tickText(e,n,!0).text;var u=o.thetaunit==="degrees"?y.rad2deg(P.theta):P.theta;return g.thetaLabel=D.tickText(o,u,!0).text,g}},8504:function(W,G,t){var y=t(98723);function D(P,M,d,g){var r=y(P,M,d,g);if(!(!r||r[0].index===!1)){var e=r[0];if(e.index===void 0)return r;var o=P.subplot,n=e.cd[e.index],u=e.trace;if(o.isPtInside(n))return e.xLabelVal=void 0,e.yLabelVal=void 0,s(n,u,o,e),e.hovertemplate=u.hovertemplate,r}}function s(P,M,d,g){var r=d.radialAxis,e=d.angularAxis;r._hovertitle="r",e._hovertitle="";var o={};o[M.subplot]={_subplot:d};var n=M._module.formatLabels(P,M,o);g.rLabel=n.rLabel,g.thetaLabel=n.thetaLabel;var u=P.hi||M.hoverinfo,f=[];function c(v,T){f.push(v._hovertitle+": "+T)}if(!M.hovertemplate){var m=u.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&c(r,g.rLabel),m.indexOf("theta")!==-1&&c(e,g.thetaLabel),m.indexOf("text")!==-1&&g.text&&(f.push(g.text),delete g.text),g.extraText=f.join("<br>")}}W.exports={hoverPoints:D,makeHoverPointText:s}},76924:function(W,G,t){W.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:t(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:t(8319),supplyDefaults:t(85968).supplyDefaults,colorbar:t(5528),formatLabels:t(22852),calc:t(58320),plot:t(43456),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(8504).hoverPoints,selectPoints:t(91560),meta:{}}},43456:function(W,G,t){var y=t(96504),D=t(39032).BADNUM;W.exports=function(P,M,d){for(var g=M.layers.frontplot.select("g.scatterlayer"),r=M.xaxis,e=M.yaxis,o={xaxis:r,yaxis:e,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},n=M.radialAxis,u=M.angularAxis,f=0;f<d.length;f++)for(var c=d[f],m=0;m<c.length;m++){m===0&&(c[0].trace._xA=r,c[0].trace._yA=e);var v=c[m],T=v.r;if(T===D)v.x=v.y=D;else{var h=n.c2g(T),i=u.c2g(v.theta);v.x=h*Math.cos(i),v.y=h*Math.sin(i)}}y(P,o,d,g)}},24396:function(W,G,t){var y=t(8319),D=t(2876),s=t(21776).Gw;W.exports={mode:y.mode,r:y.r,theta:y.theta,r0:y.r0,dr:y.dr,theta0:y.theta0,dtheta:y.dtheta,thetaunit:y.thetaunit,text:y.text,texttemplate:s({editType:"plot"},{keys:["r","theta","text"]}),hovertext:y.hovertext,hovertemplate:y.hovertemplate,line:{color:D.line.color,width:D.line.width,dash:D.line.dash,editType:"calc"},connectgaps:D.connectgaps,marker:D.marker,fill:D.fill,fillcolor:D.fillcolor,textposition:D.textposition,textfont:D.textfont,hoverinfo:y.hoverinfo,selected:y.selected,unselected:y.unselected}},27160:function(W,G,t){W.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:t(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:t(24396),supplyDefaults:t(98608),colorbar:t(5528),formatLabels:t(94120),calc:t(66720),hoverPoints:t(1600).hoverPoints,selectPoints:t(73224),meta:{}}},66720:function(W,G,t){var y=t(90136),D=t(16356).calcMarkerSize,s=t(84236),P=t(54460),M=t(67072).TOO_MANY_POINTS;W.exports=function(g,r){var e=g._fullLayout,o=r.subplot,n=e[o].radialaxis,u=e[o].angularaxis,f=r._r=n.makeCalcdata(r,"r"),c=r._theta=u.makeCalcdata(r,"theta"),m=r._length,v={};m<f.length&&(f=f.slice(0,m)),m<c.length&&(c=c.slice(0,m)),v.r=f,v.theta=c,y(g,r);var T=v.opts=s.style(g,r),h;return m<M?h=D(r,m):T.marker&&(h=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=P.findExtremes(n,f,{ppad:h}),[{x:!1,y:!1,t:v,trace:r}]}},98608:function(W,G,t){var y=t(3400),D=t(43028),s=t(85968).handleRThetaDefaults,P=t(74428),M=t(66828),d=t(124),g=t(70840),r=t(88200).PTS_LINESONLY,e=t(24396);W.exports=function(n,u,f,c){function m(T,h){return y.coerce(n,u,e,T,h)}var v=s(n,u,c,m);if(!v){u.visible=!1;return}m("thetaunit"),m("mode",v<r?"lines+markers":"lines"),m("text"),m("hovertext"),u.hoveron!=="fills"&&m("hovertemplate"),D.hasMarkers(u)&&P(n,u,f,c,m,{noAngleRef:!0,noStandOff:!0}),D.hasLines(u)&&(M(n,u,f,c,m),m("connectgaps")),D.hasText(u)&&(m("texttemplate"),d(n,u,c,m,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),m("fill"),u.fill!=="none"&&g(n,u,f,m),y.coerceSelectionMarkerOpacity(u,m)}},94120:function(W,G,t){var y=t(22852);W.exports=function(s,P,M){var d=s.i;return"r"in s||(s.r=P._r[d]),"theta"in s||(s.theta=P._theta[d]),y(s,P,M)}},1600:function(W,G,t){var y=t(41272),D=t(8504).makeHoverPointText;function s(P,M,d,g){var r=P.cd,e=r[0].t,o=e.r,n=e.theta,u=y.hoverPoints(P,M,d,g);if(!(!u||u[0].index===!1)){var f=u[0];if(f.index===void 0)return u;var c=P.subplot,m=f.cd[f.index],v=f.trace;if(m.r=o[f.index],m.theta=n[f.index],!!c.isPtInside(m))return f.xLabelVal=void 0,f.yLabelVal=void 0,D(m,v,c,f),u}}W.exports={hoverPoints:s}},62944:function(W,G,t){var y=t(27160);y.plot=t(56512),W.exports=y},56512:function(W,G,t){var y=t(3108),D=t(38248),s=t(89876),P=t(74588),M=t(84236),d=t(3400),g=t(67072).TOO_MANY_POINTS,r={};W.exports=function(o,n,u){if(u.length){var f=n.radialAxis,c=n.angularAxis,m=P(o,n);return u.forEach(function(v){if(!(!v||!v[0]||!v[0].trace)){var T=v[0],h=T.trace,i=T.t,p=h._length,w=i.r,A=i.theta,L=i.opts,x,E=w.slice(),S=A.slice();for(x=0;x<w.length;x++)n.isPtInside({r:w[x],theta:A[x]})||(E[x]=NaN,S[x]=NaN);var a=new Array(p*2),C=Array(p),b=Array(p);for(x=0;x<p;x++){var z=E[x],k,U;if(D(z)){var F=f.c2g(z),V=c.c2g(S[x],h.thetaunit);k=F*Math.cos(V),U=F*Math.sin(V)}else k=U=NaN;C[x]=a[x*2]=k,b[x]=a[x*2+1]=U}i.tree=y(a),L.marker&&p>=g&&(L.marker.cluster=i.tree),L.marker&&(L.markerSel.positions=L.markerUnsel.positions=L.marker.positions=a),L.line&&a.length>1&&d.extendFlat(L.line,M.linePositions(o,h,a)),L.text&&(d.extendFlat(L.text,{positions:a},M.textPosition(o,h,L.text,L.marker)),d.extendFlat(L.textSel,{positions:a},M.textPosition(o,h,L.text,L.markerSel)),d.extendFlat(L.textUnsel,{positions:a},M.textPosition(o,h,L.text,L.markerUnsel))),L.fill&&!m.fill2d&&(m.fill2d=!0),L.marker&&!m.scatter2d&&(m.scatter2d=!0),L.line&&!m.line2d&&(m.line2d=!0),L.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(L.line),m.fillOptions.push(L.fill),m.markerOptions.push(L.marker),m.markerSelectedOptions.push(L.markerSel),m.markerUnselectedOptions.push(L.markerUnsel),m.textOptions.push(L.text),m.textSelectedOptions.push(L.textSel),m.textUnselectedOptions.push(L.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),i.x=C,i.y=b,i.rawx=C,i.rawy=b,i.r=w,i.theta=A,i.positions=a,i._scene=m,i.index=m.count,m.count++}}),s(o,n,u)}},W.exports.reglPrecompiled=r},69496:function(W,G,t){var y=t(21776).Ks,D=t(21776).Gw,s=t(92880).extendFlat,P=t(98304),M=t(52904),d=t(45464),g=M.line;W.exports={mode:M.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:M.text,texttemplate:D({editType:"plot"},{keys:["real","imag","text"]}),hovertext:M.hovertext,line:{color:g.color,width:g.width,dash:g.dash,backoff:g.backoff,shape:s({},g.shape,{values:["linear","spline"]}),smoothing:g.smoothing,editType:"calc"},connectgaps:M.connectgaps,marker:M.marker,cliponaxis:s({},M.cliponaxis,{dflt:!1}),textposition:M.textposition,textfont:M.textfont,fill:s({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:P(),hoverinfo:s({},d.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:M.hoveron,hovertemplate:y(),selected:M.selected,unselected:M.unselected}},47507:function(W,G,t){var y=t(38248),D=t(39032).BADNUM,s=t(90136),P=t(20148),M=t(4500),d=t(16356).calcMarkerSize;W.exports=function(r,e){for(var o=r._fullLayout,n=e.subplot,u=o[n].realaxis,f=o[n].imaginaryaxis,c=u.makeCalcdata(e,"real"),m=f.makeCalcdata(e,"imag"),v=e._length,T=new Array(v),h=0;h<v;h++){var i=c[h],p=m[h],w=T[h]={};y(i)&&y(p)?(w.real=i,w.imag=p):w.real=D}return d(e,v),s(r,e),P(T,e),M(T,e),T}},76716:function(W,G,t){var y=t(3400),D=t(43028),s=t(74428),P=t(66828),M=t(11731),d=t(124),g=t(70840),r=t(88200).PTS_LINESONLY,e=t(69496);W.exports=function(u,f,c,m){function v(i,p){return y.coerce(u,f,e,i,p)}var T=o(u,f,m,v);if(!T){f.visible=!1;return}v("mode",T<r?"lines+markers":"lines"),v("text"),v("hovertext"),f.hoveron!=="fills"&&v("hovertemplate"),D.hasMarkers(f)&&s(u,f,c,m,v,{gradient:!0}),D.hasLines(f)&&(P(u,f,c,m,v,{backoff:!0}),M(u,f,v),v("connectgaps")),D.hasText(f)&&(v("texttemplate"),d(u,f,m,v));var h=[];(D.hasMarkers(f)||D.hasText(f))&&(v("cliponaxis"),v("marker.maxdisplayed"),h.push("points")),v("fill"),f.fill!=="none"&&(g(u,f,c,v),D.hasLines(f)||M(u,f,v)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),v("hoveron",h.join("+")||"points"),y.coerceSelectionMarkerOpacity(f,v)};function o(n,u,f,c){var m=c("real"),v=c("imag"),T;return m&&v&&(T=Math.min(m.length,v.length)),y.isTypedArray(m)&&(u.real=m=Array.from(m)),y.isTypedArray(v)&&(u.imag=v=Array.from(v)),u._length=T,T}},49504:function(W,G,t){var y=t(54460);W.exports=function(s,P,M){var d={},g=M[P.subplot]._subplot;return d.realLabel=y.tickText(g.radialAxis,s.real,!0).text,d.imagLabel=y.tickText(g.angularAxis,s.imag,!0).text,d}},25292:function(W,G,t){var y=t(98723);function D(P,M,d,g){var r=y(P,M,d,g);if(!(!r||r[0].index===!1)){var e=r[0];if(e.index===void 0)return r;var o=P.subplot,n=e.cd[e.index],u=e.trace;if(o.isPtInside(n))return e.xLabelVal=void 0,e.yLabelVal=void 0,s(n,u,o,e),e.hovertemplate=u.hovertemplate,r}}function s(P,M,d,g){var r=d.radialAxis,e=d.angularAxis;r._hovertitle="real",e._hovertitle="imag";var o={};o[M.subplot]={_subplot:d};var n=M._module.formatLabels(P,M,o);g.realLabel=n.realLabel,g.imagLabel=n.imagLabel;var u=P.hi||M.hoverinfo,f=[];function c(v,T){f.push(v._hovertitle+": "+T)}if(!M.hovertemplate){var m=u.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&c(r,g.realLabel),m.indexOf("imag")!==-1&&c(e,g.imagLabel),m.indexOf("text")!==-1&&g.text&&(f.push(g.text),delete g.text),g.extraText=f.join("<br>")}}W.exports={hoverPoints:D,makeHoverPointText:s}},95443:function(W,G,t){W.exports={moduleType:"trace",name:"scattersmith",basePlotModule:t(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:t(69496),supplyDefaults:t(76716),colorbar:t(5528),formatLabels:t(49504),calc:t(47507),plot:t(34927),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(25292).hoverPoints,selectPoints:t(91560),meta:{}}},34927:function(W,G,t){var y=t(96504),D=t(39032).BADNUM,s=t(36416),P=s.smith;W.exports=function(d,g,r){for(var e=g.layers.frontplot.select("g.scatterlayer"),o=g.xaxis,n=g.yaxis,u={xaxis:o,yaxis:n,plot:g.framework,layerClipId:g._hasClipOnAxisFalse?g.clipIds.forTraces:null},f=0;f<r.length;f++)for(var c=r[f],m=0;m<c.length;m++){m===0&&(c[0].trace._xA=o,c[0].trace._yA=n);var v=c[m],T=v.real;if(T===D)v.x=v.y=D;else{var h=P([T,v.imag]);v.x=h[0],v.y=h[1]}}y(d,u,r,e)}},5896:function(W,G,t){var y=t(21776).Ks,D=t(21776).Gw,s=t(98304),P=t(52904),M=t(45464),d=t(49084),g=t(98192).u,r=t(92880).extendFlat,e=P.marker,o=P.line,n=e.line;W.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},P.mode,{dflt:"markers"}),text:r({},P.text,{}),texttemplate:D({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},P.hovertext,{}),line:{color:o.color,width:o.width,dash:g,backoff:o.backoff,shape:r({},o.shape,{values:["linear","spline"]}),smoothing:o.smoothing,editType:"calc"},connectgaps:P.connectgaps,cliponaxis:P.cliponaxis,fill:r({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:s(),marker:r({symbol:e.symbol,opacity:e.opacity,angle:e.angle,angleref:e.angleref,standoff:e.standoff,maxdisplayed:e.maxdisplayed,size:e.size,sizeref:e.sizeref,sizemin:e.sizemin,sizemode:e.sizemode,line:r({width:n.width,editType:"calc"},d("marker.line")),gradient:e.gradient,editType:"calc"},d("marker")),textfont:P.textfont,textposition:P.textposition,selected:P.selected,unselected:P.unselected,hoverinfo:r({},M.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:P.hoveron,hovertemplate:y()}},34335:function(W,G,t){var y=t(38248),D=t(90136),s=t(20148),P=t(4500),M=t(16356).calcMarkerSize,d=["a","b","c"],g={a:["b","c"],b:["a","c"],c:["a","b"]};W.exports=function(e,o){var n=e._fullLayout[o.subplot],u=n.sum,f=o.sum||u,c={a:o.a,b:o.b,c:o.c},m,v,T,h,i,p;for(m=0;m<d.length;m++)if(T=d[m],!c[T]){for(i=c[g[T][0]],p=c[g[T][1]],h=new Array(i.length),v=0;v<i.length;v++)h[v]=f-i[v]-p[v];c[T]=h}var w=o._length,A=new Array(w),L,x,E,S,a,C;for(m=0;m<w;m++)L=c.a[m],x=c.b[m],E=c.c[m],y(L)&&y(x)&&y(E)?(L=+L,x=+x,E=+E,S=u/(L+x+E),S!==1&&(L*=S,x*=S,E*=S),C=L,a=E-x,A[m]={x:a,y:C,a:L,b:x,c:E}):A[m]={x:!1,y:!1};return M(o,w),D(e,o),s(A,o),P(A,o),A}},84256:function(W,G,t){var y=t(3400),D=t(88200),s=t(43028),P=t(74428),M=t(66828),d=t(11731),g=t(124),r=t(70840),e=t(5896);W.exports=function(n,u,f,c){function m(A,L){return y.coerce(n,u,e,A,L)}var v=m("a"),T=m("b"),h=m("c"),i;if(v?(i=v.length,T?(i=Math.min(i,T.length),h&&(i=Math.min(i,h.length))):h?i=Math.min(i,h.length):i=0):T&&h&&(i=Math.min(T.length,h.length)),!i){u.visible=!1;return}u._length=i,m("sum"),m("text"),m("hovertext"),u.hoveron!=="fills"&&m("hovertemplate");var p=i<D.PTS_LINESONLY?"lines+markers":"lines";m("mode",p),s.hasMarkers(u)&&P(n,u,f,c,m,{gradient:!0}),s.hasLines(u)&&(M(n,u,f,c,m,{backoff:!0}),d(n,u,m),m("connectgaps")),s.hasText(u)&&(m("texttemplate"),g(n,u,c,m));var w=[];(s.hasMarkers(u)||s.hasText(u))&&(m("cliponaxis"),m("marker.maxdisplayed"),w.push("points")),m("fill"),u.fill!=="none"&&(r(n,u,f,m),s.hasLines(u)||d(n,u,m)),(u.fill==="tonext"||u.fill==="toself")&&w.push("fills"),m("hoveron",w.join("+")||"points"),y.coerceSelectionMarkerOpacity(u,m)}},97476:function(W){W.exports=function(t,y,D,s,P){if(y.xa&&(t.xaxis=y.xa),y.ya&&(t.yaxis=y.ya),s[P]){var M=s[P];t.a=M.a,t.b=M.b,t.c=M.c}else t.a=y.a,t.b=y.b,t.c=y.c;return t}},90404:function(W,G,t){var y=t(54460);W.exports=function(s,P,M){var d={},g=M[P.subplot]._subplot;return d.aLabel=y.tickText(g.aaxis,s.a,!0).text,d.bLabel=y.tickText(g.baxis,s.b,!0).text,d.cLabel=y.tickText(g.caxis,s.c,!0).text,d}},26596:function(W,G,t){var y=t(98723);W.exports=function(s,P,M,d){var g=y(s,P,M,d);if(!g||g[0].index===!1)return;var r=g[0];if(r.index===void 0){var e=1-r.y0/s.ya._length,o=s.xa._length,n=o*e/2,u=o-n;return r.x0=Math.max(Math.min(r.x0,u),n),r.x1=Math.max(Math.min(r.x1,u),n),g}var f=r.cd[r.index],c=r.trace,m=r.subplot;r.a=f.a,r.b=f.b,r.c=f.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var v={};v[c.subplot]={_subplot:m};var T=c._module.formatLabels(f,c,v);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var h=f.hi||c.hoverinfo,i=[];function p(A,L){i.push(A._hovertitle+": "+L)}if(!c.hovertemplate){var w=h.split("+");w.indexOf("all")!==-1&&(w=["a","b","c"]),w.indexOf("a")!==-1&&p(m.aaxis,r.aLabel),w.indexOf("b")!==-1&&p(m.baxis,r.bLabel),w.indexOf("c")!==-1&&p(m.caxis,r.cLabel)}return r.extraText=i.join("<br>"),r.hovertemplate=c.hovertemplate,g}},34864:function(W,G,t){W.exports={attributes:t(5896),supplyDefaults:t(84256),colorbar:t(5528),formatLabels:t(90404),calc:t(34335),plot:t(88776),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(26596),selectPoints:t(91560),eventData:t(97476),moduleType:"trace",name:"scatterternary",basePlotModule:t(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(W,G,t){var y=t(96504);W.exports=function(s,P,M){var d=P.plotContainer;d.select(".scatterlayer").selectAll("*").remove();for(var g=P.xaxis,r=P.yaxis,e={xaxis:g,yaxis:r,plot:d,layerClipId:P._hasClipOnAxisFalse?P.clipIdRelative:null},o=P.layers.frontplot.select("g.scatterlayer"),n=0;n<M.length;n++){var u=M[n];u.length&&(u[0].trace._xA=g,u[0].trace._yA=r)}y(s,e,M,o)}},44524:function(W,G,t){var y=t(52904),D=t(49084),s=t(29736).axisHoverFormat,P=t(21776).Ks,M=t(2876),d=t(33816).idRegex,g=t(31780).templatedArray,r=t(92880).extendFlat,e=y.marker,o=e.line,n=r(D("marker.line",{editTypeOverride:"calc"}),{width:r({},o.width,{editType:"calc"}),editType:"calc"}),u=r(D("marker"),{symbol:e.symbol,angle:e.angle,size:r({},e.size,{editType:"markerSize"}),sizeref:e.sizeref,sizemin:e.sizemin,sizemode:e.sizemode,opacity:e.opacity,colorbar:e.colorbar,line:n,editType:"calc"});u.color.editType=u.cmin.editType=u.cmax.editType="style";function f(c){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:d[c],editType:"plot"}}}W.exports={dimensions:g("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},M.text,{}),hovertext:r({},M.hovertext,{}),hovertemplate:P(),xhoverformat:s("x"),yhoverformat:s("y"),marker:u,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:M.selected.marker,editType:"calc"},unselected:{marker:M.unselected.marker,editType:"calc"},opacity:M.opacity}},28888:function(W,G,t){var y=t(24040),D=t(12704);W.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:t(44524),supplyDefaults:t(69544),colorbar:t(5528),calc:t(66821),plot:t(54840),hoverPoints:t(72248).hoverPoints,selectPoints:t(62500),editStyle:t(83156),meta:{}},y.register(D)},99332:function(W,G,t){var y=t(13472),D=t(24040),s=t(5048),P=t(84888)._M,M=t(57952),d=t(79811).getFromId,g=t(54460).shouldShowZeroLine,r="splom",e={};function o(v){var T=v._fullLayout,h=D.getModule(r),i=P(v.calcdata,h)[0],p=s(v,["ANGLE_instanced_arrays","OES_element_index_uint"],e);p&&(T._hasOnlyLargeSploms&&f(v),h.plot(v,{},i))}function n(v){var T=v.calcdata,h=v._fullLayout;h._hasOnlyLargeSploms&&f(v);for(var i=0;i<T.length;i++){var p=T[i][0],w=p.trace,A=h._splomScenes[w.uid];w.type==="splom"&&A&&A.matrix&&u(v,w,A)}}function u(v,T,h){for(var i=h.matrixOptions.data.length,p=T._visibleDims,w=h.viewOpts.ranges=new Array(i),A=0;A<p.length;A++){var L=p[A],x=w[A]=new Array(4),E=d(v,T._diag[L][0]);E&&(x[0]=E.r2l(E.range[0]),x[2]=E.r2l(E.range[1]));var S=d(v,T._diag[L][1]);S&&(x[1]=S.r2l(S.range[0]),x[3]=S.r2l(S.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:w},{ranges:w}):h.matrix.update({ranges:w})}function f(v){var T=v._fullLayout,h=T._glcanvas.data()[0].regl,i=T._splomGrid;i||(i=T._splomGrid=y(h)),i.update(c(v))}function c(v){var T=v._context.plotGlPixelRatio,h=v._fullLayout,i=h._size,p=[0,0,h.width*T,h.height*T],w={},A;function L(X,J,et,it,ft,ot){et*=T,it*=T,ft*=T,ot*=T;var Q=J[X+"color"],tt=J[X+"width"],Z=String(Q+tt);Z in w?w[Z].data.push(NaN,NaN,et,it,ft,ot):w[Z]={data:[et,it,ft,ot],join:"rect",thickness:tt*T,color:Q,viewport:p,range:p,overlay:!1}}for(A in h._splomSubplots){var x=h._plots[A],E=x.xaxis,S=x.yaxis,a=E._gridVals,C=S._gridVals,b=E._offset,z=E._length,k=S._length,U=i.b+S.domain[0]*i.h,F=-S._m,V=-F*S.r2l(S.range[0],S.calendar),N,O;if(E.showgrid)for(A=0;A<a.length;A++)N=b+E.l2p(a[A].x),L("grid",E,N,U,N,U+k);if(S.showgrid)for(A=0;A<C.length;A++)O=U+V+F*C[A].x,L("grid",S,b,O,b+z,O);g(v,E,S)&&(N=b+E.l2p(0),L("zeroline",E,N,U,N,U+k)),g(v,S,E)&&(O=U+V+0,L("zeroline",S,b,O,b+z,O))}var H=[];for(A in w)H.push(w[A]);return H}function m(v,T,h,i){var p={},w;if(i._splomScenes){for(w=0;w<v.length;w++){var A=v[w];A.type==="splom"&&(p[A.uid]=1)}for(w=0;w<h.length;w++){var L=h[w];if(!p[L.uid]){var x=i._splomScenes[L.uid];x&&x.destroy&&x.destroy(),i._splomScenes[L.uid]=null,delete i._splomScenes[L.uid]}}}Object.keys(i._splomScenes||{}).length===0&&delete i._splomScenes,i._splomGrid&&!T._hasOnlyLargeSploms&&i._hasOnlyLargeSploms&&(i._splomGrid.destroy(),i._splomGrid=null,delete i._splomGrid),M.clean(v,T,h,i)}W.exports={name:r,attr:M.attr,attrRegex:M.attrRegex,layoutAttributes:M.layoutAttributes,supplyLayoutDefaults:M.supplyLayoutDefaults,drawFramework:M.drawFramework,plot:o,drag:n,updateGrid:f,clean:m,updateFx:M.updateFx,toSVG:M.toSVG,reglPrecompiled:e}},66821:function(W,G,t){var y=t(3400),D=t(79811),s=t(16356).calcMarkerSize,P=t(16356).calcAxisExpansion,M=t(90136),d=t(84236).markerSelection,g=t(84236).markerStyle,r=t(72308),e=t(39032).BADNUM,o=t(67072).TOO_MANY_POINTS;W.exports=function(u,f){var c=f.dimensions,m=f._length,v={},T=v.cdata=[],h=v.data=[],i=f._visibleDims=[],p,w,A,L,x;function E(z,k){for(var U=z.makeCalcdata({v:k.values,vcalendar:f.calendar},"v"),F=0;F<U.length;F++)U[F]=U[F]===e?NaN:U[F];T.push(U),h.push(z.type==="log"?y.simpleMap(U,z.c2l):U)}for(p=0;p<c.length;p++)if(A=c[p],A.visible){if(L=D.getFromId(u,f._diag[p][0]),x=D.getFromId(u,f._diag[p][1]),L&&x&&L.type!==x.type){y.log("Skipping splom dimension "+p+" with conflicting axis types");continue}L?(E(L,A),x&&x.type==="category"&&(x._categories=L._categories.slice())):E(x,A),i.push(p)}M(u,f),y.extendFlat(v,g(u,f));var S=T.length,a=S*m>o,C;for(a?C=v.sizeAvg||Math.max(v.size,3):C=s(f,m),w=0;w<i.length;w++)p=i[w],A=c[p],L=D.getFromId(u,f._diag[p][0])||{},x=D.getFromId(u,f._diag[p][1])||{},P(u,f,L,x,T[w],T[w],C);var b=r(u,f);return b.matrix||(b.matrix=!0),b.matrixOptions=v,b.selectedOptions=d(u,f,f.selected),b.unselectedOptions=d(u,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},69544:function(W,G,t){var y=t(3400),D=t(51272),s=t(44524),P=t(43028),M=t(74428),d=t(26284),g=t(80088).isOpenSymbol;W.exports=function(n,u,f,c){function m(L,x){return y.coerce(n,u,s,L,x)}var v=D(n,u,{name:"dimensions",handleItemDefaults:r}),T=m("diagonal.visible"),h=m("showupperhalf"),i=m("showlowerhalf"),p=d(u,v,"values");if(!p||!T&&!h&&!i){u.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),M(n,u,f,c,m,{noAngleRef:!0,noStandOff:!0});var w=g(u.marker.symbol),A=P.isBubble(u);m("marker.line.width",w||A?1:0),e(n,u,c,m),y.coerceSelectionMarkerOpacity(u,m)};function r(o,n){function u(c,m){return y.coerce(o,n,s.dimensions,c,m)}u("label");var f=u("values");f&&f.length?u("visible"):n.visible=!1,u("axis.type"),u("axis.matches")}function e(o,n,u,f){var c=n.dimensions,m=c.length,v=n.showupperhalf,T=n.showlowerhalf,h=n.diagonal.visible,i,p,w=new Array(m),A=new Array(m);for(i=0;i<m;i++){var L=i?i+1:"";w[i]="x"+L,A[i]="y"+L}var x=f("xaxes",w),E=f("yaxes",A),S=n._diag=new Array(m);n._xaxes={},n._yaxes={};var a=[],C=[];function b(X,J,et,it){if(X){var ft=X.charAt(0),ot=u._splomAxes[ft];if(n["_"+ft+"axes"][X]=1,it.push(X),!(X in ot)){var Q=ot[X]={};et&&(Q.label=et.label||"",et.visible&&et.axis&&(et.axis.type&&(Q.type=et.axis.type),et.axis.matches&&(Q.matches=J)))}}}var z=!h&&!T,k=!h&&!v;for(n._axesDim={},i=0;i<m;i++){var U=c[i],F=i===0,V=i===m-1,N=F&&z||V&&k?void 0:x[i],O=F&&k||V&&z?void 0:E[i];b(N,O,U,a),b(O,N,U,C),S[i]=[N,O],n._axesDim[N]=i,n._axesDim[O]=i}for(i=0;i<a.length;i++)for(p=0;p<C.length;p++){var H=a[i]+C[p];(i>p&&v||i<p&&T||i===p&&(h||!T||!v))&&(u._splomSubplots[H]=1)}(!T||!h&&v&&T)&&(u._splomGridDflt.xside="bottom",u._splomGridDflt.yside="left")}},83156:function(W,G,t){var y=t(3400),D=t(90136),s=t(84236).markerStyle;W.exports=function(M,d){var g=d.trace,r=M._fullLayout._splomScenes[g.uid];if(r){D(M,g),y.extendFlat(r.matrixOptions,s(M,g));var e=y.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(e,null)}}},50328:function(W,G){G.getDimIndex=function(y,D){for(var s=D._id,P=s.charAt(0),M={x:0,y:1}[P],d=y._visibleDims,g=0;g<d.length;g++){var r=d[g];if(y._diag[r][M]===s)return g}return!1}},72248:function(W,G,t){var y=t(50328),D=t(41272).calcHover,s=t(54460).getFromId,P=t(92880).extendFlat;function M(g,r,e,o,n){n||(n={});var u=(o||"").charAt(0)==="x",f=(o||"").charAt(0)==="y",c=d(g,r,e);if((u||f)&&n.hoversubplots==="axis"&&c[0])for(var m=(u?g.xa:g.ya)._subplotsWith,v=n.gd,T=P({},g),h=0;h<m.length;h++){var i=m[h];if(i!==g.xa._id+g.ya._id){f?T.xa=s(v,i,"x"):T.ya=s(v,i,"y");var p=u||f,w=d(T,r,e,p);c=c.concat(w)}}return c}function d(g,r,e,o){var n=g.cd,u=n[0].trace,f=g.scene,c=f.matrixOptions.cdata,m=g.xa,v=g.ya,T=m.c2p(r),h=v.c2p(e),i=g.distance,p=y.getDimIndex(u,m),w=y.getDimIndex(u,v);if(p===!1||w===!1)return[g];for(var A=c[p],L=c[w],x,E,S=i,a=0;a<A.length;a++)if(!(o&&a!==g.index)){var C=A[a],b=L[a],z=m.c2p(C)-T,k=v.c2p(b)-h,U=Math.sqrt(z*z+k*k);(o||U<S)&&(S=E=U,x=a)}return g.index=x,g.distance=S,g.dxy=E,x===void 0?[g]:[D(g,A,L,u)]}W.exports={hoverPoints:M}},97924:function(W,G,t){var y=t(28888);y.basePlotModule=t(99332),W.exports=y},54840:function(W,G,t){var y=t(55795),D=t(3400),s=t(79811),P=t(72760).selectMode;W.exports=function(g,r,e){if(e.length)for(var o=0;o<e.length;o++)M(g,e[o][0])};function M(d,g){var r=d._fullLayout,e=r._size,o=g.trace,n=g.t,u=r._splomScenes[o.uid],f=u.matrixOptions,c=f.cdata,m=r._glcanvas.data()[0].regl,v=r.dragmode,T,h,i,p,w;if(c.length!==0){f.lower=o.showupperhalf,f.upper=o.showlowerhalf,f.diagonal=o.diagonal.visible;var A=o._visibleDims,L=c.length,x=u.viewOpts={};for(x.ranges=new Array(L),x.domains=new Array(L),w=0;w<A.length;w++){i=A[w];var E=x.ranges[w]=new Array(4),S=x.domains[w]=new Array(4);T=s.getFromId(d,o._diag[i][0]),T&&(E[0]=T._rl[0],E[2]=T._rl[1],S[0]=T.domain[0],S[2]=T.domain[1]),h=s.getFromId(d,o._diag[i][1]),h&&(E[1]=h._rl[0],E[3]=h._rl[1],S[1]=h.domain[0],S[3]=h.domain[1])}var a=d._context.plotGlPixelRatio,C=e.l*a,b=e.b*a,z=e.w*a,k=e.h*a;x.viewport=[C,b,z+C,k+b],u.matrix===!0&&(u.matrix=y(m));var U=r.clickmode.indexOf("select")>-1,F=P(v)||!!o.selectedpoints||U,V=!0;if(F){var N=o._length;if(o.selectedpoints){u.selectBatch=o.selectedpoints;var O=o.selectedpoints,H={};for(i=0;i<O.length;i++)H[O[i]]=!0;var X=[];for(i=0;i<N;i++)H[i]||X.push(i);u.unselectBatch=X}var J=n.xpx=new Array(L),et=n.ypx=new Array(L);for(w=0;w<A.length;w++){if(i=A[w],T=s.getFromId(d,o._diag[i][0]),T)for(J[w]=new Array(N),p=0;p<N;p++)J[w][p]=T.c2p(c[w][p]);if(h=s.getFromId(d,o._diag[i][1]),h)for(et[w]=new Array(N),p=0;p<N;p++)et[w][p]=h.c2p(c[w][p])}if(u.selectBatch.length||u.unselectBatch.length){var it=D.extendFlat({},f,u.unselectedOptions,x),ft=D.extendFlat({},f,u.selectedOptions,x);u.matrix.update(it,ft),V=!1}}else n.xpx=n.ypx=null;if(V){var ot=D.extendFlat({},f,x);u.matrix.update(ot,null)}}}},72308:function(W,G,t){var y=t(3400);W.exports=function(s,P){var M=s._fullLayout,d=P.uid,g=M._splomScenes;g||(g=M._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},e={matrix:!1,selectBatch:[],unselectBatch:[]},o=g[P.uid];return o||(o=g[d]=y.extendFlat({},r,e),o.draw=function(){o.matrix&&o.matrix.draw&&(o.selectBatch.length||o.unselectBatch.length?o.matrix.draw(o.unselectBatch,o.selectBatch):o.matrix.draw()),o.dirty=!1},o.destroy=function(){o.matrix&&o.matrix.destroy&&o.matrix.destroy(),o.matrixOptions=null,o.selectBatch=null,o.unselectBatch=null,o=null}),o.dirty||y.extendFlat(o,r),o}},62500:function(W,G,t){var y=t(3400),D=y.pushUnique,s=t(43028),P=t(50328);W.exports=function(d,g){var r=d.cd,e=r[0].trace,o=r[0].t,n=d.scene,u=n.matrixOptions.cdata,f=d.xaxis,c=d.yaxis,m=[];if(!n)return m;var v=!s.hasMarkers(e)&&!s.hasText(e);if(e.visible!==!0||v)return m;var T=P.getDimIndex(e,f),h=P.getDimIndex(e,c);if(T===!1||h===!1)return m;var i=o.xpx[T],p=o.ypx[h],w=u[T],A=u[h],L=(d.scene.selectBatch||[]).slice(),x=[];if(g!==!1&&!g.degenerate)for(var E=0;E<w.length;E++)g.contains([i[E],p[E]],null,E,d)?(m.push({pointNumber:E,x:w[E],y:A[E]}),D(L,E)):L.indexOf(E)!==-1?D(L,E):x.push(E);var S=n.matrixOptions;return!L.length&&!x.length?n.matrix.update(S,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,y.extendFlat({},S,n.selectedOptions,n.viewOpts)),n.selectBatch=L,n.unselectBatch=x,m}},90167:function(W,G,t){var y=t(49084),D=t(29736).axisHoverFormat,s=t(21776).Ks,P=t(52948),M=t(45464),d=t(92880).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:s({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:D("u",1),vhoverformat:D("v",1),whoverformat:D("w",1),xhoverformat:D("x"),yhoverformat:D("y"),zhoverformat:D("z"),showlegend:d({},M.showlegend,{dflt:!1})};d(g,y("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(e){g[e]=P[e]}),g.hoverinfo=d({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,W.exports=g},3832:function(W,G,t){var y=t(3400),D=t(47128);function s(g,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=d(r.u,r._len),r._v=d(r.v,r._len),r._w=d(r.w,r._len),r._x=d(r.x,r._len),r._y=d(r.y,r._len),r._z=d(r.z,r._len);var e=P(r);r._gridFill=e.fill,r._Xs=e.Xs,r._Ys=e.Ys,r._Zs=e.Zs,r._len=e.len;var o=0,n,u,f;r.starts&&(n=d(r.starts.x||[]),u=d(r.starts.y||[]),f=d(r.starts.z||[]),o=Math.min(n.length,u.length,f.length)),r._startsX=n||[],r._startsY=u||[],r._startsZ=f||[];var c=0,m=1/0,v;for(v=0;v<r._len;v++){var T=r._u[v],h=r._v[v],i=r._w[v],p=Math.sqrt(T*T+h*h+i*i);c=Math.max(c,p),m=Math.min(m,p)}for(D(g,r,{vals:[m,c],containerStr:"",cLetter:"c"}),v=0;v<o;v++){var w=n[v];e.xMax=Math.max(e.xMax,w),e.xMin=Math.min(e.xMin,w);var A=u[v];e.yMax=Math.max(e.yMax,A),e.yMin=Math.min(e.yMin,A);var L=f[v];e.zMax=Math.max(e.zMax,L),e.zMin=Math.min(e.zMin,L)}r._slen=o,r._normMax=c,r._xbnds=[e.xMin,e.xMax],r._ybnds=[e.yMin,e.yMax],r._zbnds=[e.zMin,e.zMax]}function P(g){var r=g._x,e=g._y,o=g._z,n=g._len,u,f,c,m=-1/0,v=1/0,T=-1/0,h=1/0,i=-1/0,p=1/0,w="",A,L,x,E,S,a,C,b,z;for(n&&(E=r[0],a=e[0],b=o[0]),n>1&&(S=r[n-1],C=e[n-1],z=o[n-1]),u=0;u<n;u++)m=Math.max(m,r[u]),v=Math.min(v,r[u]),T=Math.max(T,e[u]),h=Math.min(h,e[u]),i=Math.max(i,o[u]),p=Math.min(p,o[u]),!A&&r[u]!==E&&(A=!0,w+="x"),!L&&e[u]!==a&&(L=!0,w+="y"),!x&&o[u]!==b&&(x=!0,w+="z");A||(w+="x"),L||(w+="y"),x||(w+="z");var k=M(g._x),U=M(g._y),F=M(g._z);w=w.replace("x",(E>S?"-":"+")+"x"),w=w.replace("y",(a>C?"-":"+")+"y"),w=w.replace("z",(b>z?"-":"+")+"z");var V=function(){n=0,k=[],U=[],F=[]};(!n||n<k.length*U.length*F.length)&&V();var N=function(ht){return ht==="x"?r:ht==="y"?e:o},O=function(ht){return ht==="x"?k:ht==="y"?U:F},H=function(ht){return ht[n-1]<ht[0]?-1:1},X=N(w[1]),J=N(w[3]),et=N(w[5]),it=O(w[1]).length,ft=O(w[3]).length,ot=O(w[5]).length,Q=!1,tt=function(ht,mt,At){return it*(ft*ht+mt)+At},Z=H(N(w[1])),q=H(N(w[3])),ut=H(N(w[5]));for(u=0;u<ot-1;u++){for(f=0;f<ft-1;f++){for(c=0;c<it-1;c++){var $=tt(u,f,c),j=tt(u,f,c+1),lt=tt(u,f+1,c),nt=tt(u+1,f,c);if((!(X[$]*Z<X[j]*Z)||!(J[$]*q<J[lt]*q)||!(et[$]*ut<et[nt]*ut))&&(Q=!0),Q)break}if(Q)break}if(Q)break}return Q&&(y.warn("Encountered arbitrary coordinates! Unable to input data grid."),V()),{xMin:v,yMin:h,zMin:p,xMax:m,yMax:T,zMax:i,Xs:k,Ys:U,Zs:F,len:n,fill:w}}function M(g){return y.distinctVals(g).vals}function d(g,r){if(r===void 0&&(r=g.length),y.isTypedArray(g))return g.subarray(0,r);for(var e=[],o=0;o<r;o++)e[o]=+g[o];return e}W.exports={calc:s,filter:d,processGrid:P}},25668:function(W,G,t){var y=t(67792).gl_streamtube3d,D=y.createTubeMesh,s=t(3400),P=t(33040).parseColorScale,M=t(8932).extractOpts,d=t(52094),g={xaxis:0,yaxis:1,zaxis:2};function r(c,m){this.scene=c,this.uid=m,this.mesh=null,this.data=null}var e=r.prototype;e.handlePick=function(c){var m=this.scene.fullSceneLayout,v=this.scene.dataScale;function T(p,w){var A=m[w],L=v[g[w]];return A.l2c(p)/L}if(c.object===this.mesh){var h=c.data.position,i=c.data.velocity;return c.traceCoordinate=[T(h[0],"xaxis"),T(h[1],"yaxis"),T(h[2],"zaxis"),T(i[0],"xaxis"),T(i[1],"yaxis"),T(i[2],"zaxis"),c.data.intensity*this.data._normMax,c.data.divergence],c.textLabel=this.data.hovertext||this.data.text,!0}};function o(c){var m=c.length,v;return m>2?v=c.slice(1,m-1):m===2?v=[(c[0]+c[1])/2]:v=c,v}function n(c){var m=c.length;return m===1?[.5,.5]:[c[1]-c[0],c[m-1]-c[m-2]]}function u(c,m){var v=c.fullSceneLayout,T=c.dataScale,h=m._len,i={};function p(ft,ot){var Q=v[ot],tt=T[g[ot]];return s.simpleMap(ft,function(Z){return Q.d2l(Z)*tt})}if(i.vectors=d(p(m._u,"xaxis"),p(m._v,"yaxis"),p(m._w,"zaxis"),h),!h)return{positions:[],cells:[]};var w=p(m._Xs,"xaxis"),A=p(m._Ys,"yaxis"),L=p(m._Zs,"zaxis");i.meshgrid=[w,A,L],i.gridFill=m._gridFill;var x=m._slen;if(x)i.startingPositions=d(p(m._startsX,"xaxis"),p(m._startsY,"yaxis"),p(m._startsZ,"zaxis"));else{for(var E=A[0],S=o(w),a=o(L),C=new Array(S.length*a.length),b=0,z=0;z<S.length;z++)for(var k=0;k<a.length;k++)C[b++]=[S[z],E,a[k]];i.startingPositions=C}i.colormap=P(m),i.tubeSize=m.sizeref,i.maxLength=m.maxdisplayed;var U=p(m._xbnds,"xaxis"),F=p(m._ybnds,"yaxis"),V=p(m._zbnds,"zaxis"),N=n(w),O=n(A),H=n(L),X=[[U[0]-N[0],F[0]-O[0],V[0]-H[0]],[U[1]+N[1],F[1]+O[1],V[1]+H[1]]],J=y(i,X),et=M(m);J.vertexIntensityBounds=[et.min/m._normMax,et.max/m._normMax];var it=m.lightposition;return J.lightPosition=[it.x,it.y,it.z],J.ambient=m.lighting.ambient,J.diffuse=m.lighting.diffuse,J.specular=m.lighting.specular,J.roughness=m.lighting.roughness,J.fresnel=m.lighting.fresnel,J.opacity=m.opacity,m._pad=J.tubeScale*m.sizeref*2,J}e.update=function(c){this.data=c;var m=u(this.scene,c);this.mesh.update(m)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(c,m){var v=c.glplot.gl,T=u(c,m),h=D(v,T),i=new r(c,m.uid);return i.mesh=h,i.data=m,h._trace=i,c.glplot.add(h),i}W.exports=f},54304:function(W,G,t){var y=t(3400),D=t(27260),s=t(90167);W.exports=function(M,d,g,r){function e(v,T){return y.coerce(M,d,s,v,T)}var o=e("u"),n=e("v"),u=e("w"),f=e("x"),c=e("y"),m=e("z");if(!o||!o.length||!n||!n.length||!u||!u.length||!f||!f.length||!c||!c.length||!m||!m.length){d.visible=!1;return}e("starts.x"),e("starts.y"),e("starts.z"),e("maxdisplayed"),e("sizeref"),e("lighting.ambient"),e("lighting.diffuse"),e("lighting.specular"),e("lighting.roughness"),e("lighting.fresnel"),e("lightposition.x"),e("lightposition.y"),e("lightposition.z"),D(M,d,r,e,{prefix:"",cLetter:"c"}),e("text"),e("hovertext"),e("hovertemplate"),e("uhoverformat"),e("vhoverformat"),e("whoverformat"),e("xhoverformat"),e("yhoverformat"),e("zhoverformat"),d._length=null}},15436:function(W,G,t){W.exports={moduleType:"trace",name:"streamtube",basePlotModule:t(12536),categories:["gl3d","showLegend"],attributes:t(90167),supplyDefaults:t(54304),colorbar:{min:"cmin",max:"cmax"},calc:t(3832).calc,plot:t(25668),eventData:function(y,D){return y.tubex=y.x,y.tubey=y.y,y.tubez=y.z,y.tubeu=D.traceCoordinate[3],y.tubev=D.traceCoordinate[4],y.tubew=D.traceCoordinate[5],y.norm=D.traceCoordinate[6],y.divergence=D.traceCoordinate[7],delete y.x,delete y.y,delete y.z,y},meta:{}}},424:function(W,G,t){var y=t(45464),D=t(21776).Ks,s=t(21776).Gw,P=t(49084),M=t(86968).u,d=t(74996),g=t(27328),r=t(92880).extendFlat,e=t(98192).c;W.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},d.marker.line.color,{dflt:null}),width:r({},d.marker.line.width,{dflt:1}),editType:"calc"},pattern:e,editType:"calc"},P("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:d.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:s({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:d.hovertext,hoverinfo:r({},y.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:D({},{keys:g.eventDataKeys}),textfont:d.textfont,insidetextorientation:d.insidetextorientation,insidetextfont:d.insidetextfont,outsidetextfont:r({},d.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:d.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:M({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(W,G,t){var y=t(7316);G.name="sunburst",G.plot=function(D,s,P,M){y.plotBasePlot(G.name,D,s,P,M)},G.clean=function(D,s,P,M){y.cleanBasePlot(G.name,D,s,P,M)}},3776:function(W,G,t){var y=t(74148),D=t(38248),s=t(3400),P=t(8932).makeColorScaleFuncFromTrace,M=t(45768).makePullColorFn,d=t(45768).generateExtendedColors,g=t(8932).calc,r=t(39032).ALMOST_EQUAL,e={},o={},n={};G.calc=function(f,c){var m=f._fullLayout,v=c.ids,T=s.isArrayOrTypedArray(v),h=c.labels,i=c.parents,p=c.values,w=s.isArrayOrTypedArray(p),A=[],L={},x={},E=function(Z,q){L[Z]?L[Z].push(q):L[Z]=[q],x[q]=1},S=function(Z){return Z||typeof Z=="number"},a=function(Z){return!w||D(p[Z])&&p[Z]>=0},C,b,z;T?(C=Math.min(v.length,i.length),b=function(Z){return S(v[Z])&&a(Z)},z=function(Z){return String(v[Z])}):(C=Math.min(h.length,i.length),b=function(Z){return S(h[Z])&&a(Z)},z=function(Z){return String(h[Z])}),w&&(C=Math.min(C,p.length));for(var k=0;k<C;k++)if(b(k)){var U=z(k),F=S(i[k])?String(i[k]):"",V={i:k,id:U,pid:F,label:S(h[k])?String(h[k]):""};w&&(V.v=+p[k]),A.push(V),E(F,U)}if(L[""]){if(L[""].length>1){for(var H=s.randstr(),X=0;X<A.length;X++)A[X].pid===""&&(A[X].pid=H);A.unshift({hasMultipleRoots:!0,id:H,pid:"",label:""})}}else{var N=[],O;for(O in L)x[O]||N.push(O);if(N.length===1)O=N[0],A.unshift({hasImpliedRoot:!0,id:O,pid:"",label:O});else return s.warn(["Multiple implied roots, cannot build",c.type,"hierarchy of",c.name+".","These roots include:",N.join(", ")].join(" "))}var J;try{J=y.stratify().id(function(Z){return Z.id}).parentId(function(Z){return Z.pid})(A)}catch(Z){return s.warn(["Failed to build",c.type,"hierarchy of",c.name+".","Error:",Z.message].join(" "))}var et=y.hierarchy(J),it=!1;if(w)switch(c.branchvalues){case"remainder":et.sum(function(Z){return Z.data.v});break;case"total":et.each(function(Z){var q=Z.data.data,ut=q.v;if(Z.children){var $=Z.children.reduce(function(j,lt){return j+lt.data.data.v},0);if((q.hasImpliedRoot||q.hasMultipleRoots)&&(ut=$),ut<$*r)return it=!0,s.warn(["Total value for node",Z.data.data.id,"of",c.name,"is smaller than the sum of its children.",`
parent value =`,ut,`
children sum =`,$].join(" "))}Z.value=ut});break}else u(et,c,{branches:c.count.indexOf("branches")!==-1,leaves:c.count.indexOf("leaves")!==-1});if(!it){c.sort&&et.sort(function(Z,q){return q.value-Z.value});var ft,ot,Q=c.marker.colors||[],tt=!!Q.length;return c._hasColorscale?(tt||(Q=w?c.values:c._values),g(f,c,{vals:Q,containerStr:"marker",cLetter:"c"}),ot=P(c.marker)):ft=M(m["_"+c.type+"colormap"]),et.each(function(Z){var q=Z.data.data;q.color=c._hasColorscale?ot(Q[q.i]):ft(Q[q.i],q.id)}),A[0].hierarchy=et,A}},G._runCrossTraceCalc=function(f,c){var m=c._fullLayout,v=c.calcdata,T=m[f+"colorway"],h=m["_"+f+"colormap"];m["extend"+f+"colors"]&&(T=d(T,f==="icicle"?n:f==="treemap"?o:e));var i=0,p;function w(E){var S=E.data.data,a=S.id;S.color===!1&&(h[a]?S.color=h[a]:E.parent?E.parent.parent?S.color=E.parent.data.data.color:(h[a]=S.color=T[i%T.length],i++):S.color=p)}for(var A=0;A<v.length;A++){var L=v[A],x=L[0];x.trace.type===f&&x.hierarchy&&(p=x.trace.root.color,x.hierarchy.each(w))}},G.crossTraceCalc=function(f){return G._runCrossTraceCalc("sunburst",f)};function u(f,c,m){var v=0,T=f.children;if(T){for(var h=T.length,i=0;i<h;i++)v+=u(T[i],c,m);m.branches&&v++}else m.leaves&&v++;return f.value=f.data.data.value=v,c._values||(c._values=[]),c._values[f.data.data.i]=v,v}},27328:function(W){W.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(W,G,t){var y=t(3400),D=t(424),s=t(86968).Q,P=t(31508).handleText,M=t(74174).handleMarkerDefaults,d=t(8932),g=d.hasColorscale,r=d.handleDefaults;W.exports=function(o,n,u,f){function c(w,A){return y.coerce(o,n,D,w,A)}var m=c("labels"),v=c("parents");if(!m||!m.length||!v||!v.length){n.visible=!1;return}var T=c("values");T&&T.length?c("branchvalues"):c("count"),c("level"),c("maxdepth"),M(o,n,f,c);var h=n._hasColorscale=g(o,"marker","colors")||(o.marker||{}).coloraxis;h&&r(o,n,f,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",h?1:.7);var i=c("text");c("texttemplate"),n.texttemplate||c("textinfo",y.isArrayOrTypedArray(i)?"text+label":"label"),c("hovertext"),c("hovertemplate");var p="auto";P(o,n,f,c,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("insidetextorientation"),c("sort"),c("rotation"),c("root.color"),s(n,f,c),n._length=null}},60404:function(W,G,t){var y=t(43616),D=t(76308);W.exports=function(P,M,d,g,r){var e=M.data.data,o=e.i,n=r||e.color;if(o>=0){M.i=e.i;var u=d.marker;u.pattern?(!u.colors||!u.pattern.shape)&&(u.color=n,M.color=n):(u.color=n,M.color=n),y.pointStyle(P,d,g,M)}else D.fill(P,n)}},45716:function(W,G,t){var y=t(33428),D=t(24040),s=t(10624).appendArrayPointValue,P=t(93024),M=t(3400),d=t(95924),g=t(78176),r=t(69656),e=r.formatPieValue;W.exports=function(u,f,c,m,v){var T=m[0],h=T.trace,i=T.hierarchy,p=h.type==="sunburst",w=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1);var A=function(E){var S=c._fullLayout;if(!(c._dragging||S.hovermode===!1)){var a=c._fullData[h.index],C=E.data.data,b=C.i,z=g.isHierarchyRoot(E),k=g.getParent(i,E),U=g.getValue(E),F=function(j){return M.castOption(a,b,j)},V=F("hovertemplate"),N=P.castHoverinfo(a,S,b),O=S.separators,H;if(V||N&&N!=="none"&&N!=="skip"){var X,J;p&&(X=T.cx+E.pxmid[0]*(1-E.rInscribed),J=T.cy+E.pxmid[1]*(1-E.rInscribed)),w&&(X=E._hoverX,J=E._hoverY);var et={},it=[],ft=[],ot=function(j){return it.indexOf(j)!==-1};N&&(it=N==="all"?a._module.attributes.hoverinfo.flags:N.split("+")),et.label=C.label,ot("label")&&et.label&&ft.push(et.label),C.hasOwnProperty("v")&&(et.value=C.v,et.valueLabel=e(et.value,O),ot("value")&&ft.push(et.valueLabel)),et.currentPath=E.currentPath=g.getPath(E.data),ot("current path")&&!z&&ft.push(et.currentPath);var Q,tt=[],Z=function(){tt.indexOf(Q)===-1&&(ft.push(Q),tt.push(Q))};et.percentParent=E.percentParent=U/g.getValue(k),et.parent=E.parentString=g.getPtLabel(k),ot("percent parent")&&(Q=g.formatPercent(et.percentParent,O)+" of "+et.parent,Z()),et.percentEntry=E.percentEntry=U/g.getValue(f),et.entry=E.entry=g.getPtLabel(f),ot("percent entry")&&!z&&!E.onPathbar&&(Q=g.formatPercent(et.percentEntry,O)+" of "+et.entry,Z()),et.percentRoot=E.percentRoot=U/g.getValue(i),et.root=E.root=g.getPtLabel(i),ot("percent root")&&!z&&(Q=g.formatPercent(et.percentRoot,O)+" of "+et.root,Z()),et.text=F("hovertext")||F("text"),ot("text")&&(Q=et.text,M.isValidTextValue(Q)&&ft.push(Q)),H=[o(E,a,v.eventDataKeys)];var q={trace:a,y:J,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:ft.join("<br>"),name:V||ot("name")?a.name:void 0,color:F("hoverlabel.bgcolor")||C.color,borderColor:F("hoverlabel.bordercolor"),fontFamily:F("hoverlabel.font.family"),fontSize:F("hoverlabel.font.size"),fontColor:F("hoverlabel.font.color"),fontWeight:F("hoverlabel.font.weight"),fontStyle:F("hoverlabel.font.style"),fontVariant:F("hoverlabel.font.variant"),nameLength:F("hoverlabel.namelength"),textAlign:F("hoverlabel.align"),hovertemplate:V,hovertemplateLabels:et,eventData:H};p&&(q.x0=X-E.rInscribed*E.rpx1,q.x1=X+E.rInscribed*E.rpx1,q.idealAlign=E.pxmid[0]<0?"left":"right"),w&&(q.x=X,q.idealAlign=X<0?"left":"right");var ut=[];P.loneHover(q,{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:c,inOut_bbox:ut}),H[0].bbox=ut[0],h._hasHoverLabel=!0}if(w){var $=u.select("path.surface");v.styleOne($,E,a,c,{hovered:!0})}h._hasHoverEvent=!0,c.emit("plotly_hover",{points:H||[o(E,a,v.eventDataKeys)],event:y.event})}},L=function(E){var S=c._fullLayout,a=c._fullData[h.index],C=y.select(this).datum();if(h._hasHoverEvent&&(E.originalEvent=y.event,c.emit("plotly_unhover",{points:[o(C,a,v.eventDataKeys)],event:y.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(P.loneUnhover(S._hoverlayer.node()),h._hasHoverLabel=!1),w){var b=u.select("path.surface");v.styleOne(b,C,a,c,{hovered:!1})}},x=function(E){var S=c._fullLayout,a=c._fullData[h.index],C=p&&(g.isHierarchyRoot(E)||g.isLeaf(E)),b=g.getPtId(E),z=g.isEntry(E)?g.findEntryWithChild(i,b):g.findEntryWithLevel(i,b),k=g.getPtId(z),U={points:[o(E,a,v.eventDataKeys)],event:y.event};C||(U.nextLevel=k);var F=d.triggerHandler(c,"plotly_"+h.type+"click",U);if(F!==!1&&S.hovermode&&(c._hoverdata=[o(E,a,v.eventDataKeys)],P.click(c,y.event)),!C&&F!==!1&&!c._dragging&&!c._transitioning){D.call("_storeDirectGUIEdit",a,S._tracePreGUI[a.uid],{level:a.level});var V={data:[{level:k}],traces:[h.index]},N={frame:{redraw:!1,duration:v.transitionTime},transition:{duration:v.transitionTime,easing:v.transitionEasing},mode:"immediate",fromcurrent:!0};P.loneUnhover(S._hoverlayer.node()),D.call("animate",c,V,N)}};u.on("mouseover",A),u.on("mouseout",L),u.on("click",x)};function o(n,u,f){for(var c=n.data.data,m={curveNumber:u.index,pointNumber:c.i,data:u._input,fullData:u},v=0;v<f.length;v++){var T=f[v];T in n&&(m[T]=n[T])}return"parentString"in n&&!g.isHierarchyRoot(n)&&(m.parent=n.parentString),s(m,u,c.i),m}},78176:function(W,G,t){var y=t(3400),D=t(76308),s=t(93972),P=t(69656);G.findEntryWithLevel=function(r,e){var o;return e&&r.eachAfter(function(n){if(G.getPtId(n)===e)return o=n.copy()}),o||r},G.findEntryWithChild=function(r,e){var o;return r.eachAfter(function(n){for(var u=n.children||[],f=0;f<u.length;f++){var c=u[f];if(G.getPtId(c)===e)return o=n.copy()}}),o||r},G.isEntry=function(r){return!r.parent},G.isLeaf=function(r){return!r.children},G.getPtId=function(r){return r.data.data.id},G.getPtLabel=function(r){return r.data.data.label},G.getValue=function(r){return r.value},G.isHierarchyRoot=function(r){return g(r)===""},G.setSliceCursor=function(r,e,o){var n=o.isTransitioning;if(!n){var u=r.datum();n=o.hideOnRoot&&G.isHierarchyRoot(u)||o.hideOnLeaves&&G.isLeaf(u)}s(r,n?null:"pointer")};function M(r,e,o){return{color:G.getOutsideTextFontKey("color",r,e,o),family:G.getOutsideTextFontKey("family",r,e,o),size:G.getOutsideTextFontKey("size",r,e,o),weight:G.getOutsideTextFontKey("weight",r,e,o),style:G.getOutsideTextFontKey("style",r,e,o),variant:G.getOutsideTextFontKey("variant",r,e,o),textcase:G.getOutsideTextFontKey("textcase",r,e,o),lineposition:G.getOutsideTextFontKey("lineposition",r,e,o),shadow:G.getOutsideTextFontKey("shadow",r,e,o)}}function d(r,e,o,n){var u=(n||{}).onPathbar,f=e.data.data,c=f.i,m=y.castOption(r,c,(u?"pathbar.textfont":"insidetextfont")+".color");return!m&&r._input.textfont&&(m=y.castOption(r._input,c,"textfont.color")),{color:m||D.contrast(f.color),family:G.getInsideTextFontKey("family",r,e,o,n),size:G.getInsideTextFontKey("size",r,e,o,n),weight:G.getInsideTextFontKey("weight",r,e,o,n),style:G.getInsideTextFontKey("style",r,e,o,n),variant:G.getInsideTextFontKey("variant",r,e,o,n),textcase:G.getInsideTextFontKey("textcase",r,e,o,n),lineposition:G.getInsideTextFontKey("lineposition",r,e,o,n),shadow:G.getInsideTextFontKey("shadow",r,e,o,n)}}G.getInsideTextFontKey=function(r,e,o,n,u){var f=(u||{}).onPathbar,c=f?"pathbar.textfont":"insidetextfont",m=o.data.data.i;return y.castOption(e,m,c+"."+r)||y.castOption(e,m,"textfont."+r)||n.size},G.getOutsideTextFontKey=function(r,e,o,n){var u=o.data.data.i;return y.castOption(e,u,"outsidetextfont."+r)||y.castOption(e,u,"textfont."+r)||n.size},G.isOutsideText=function(r,e){return!r._hasColorscale&&G.isHierarchyRoot(e)},G.determineTextFont=function(r,e,o,n){return G.isOutsideText(r,e)?M(r,e,o):d(r,e,o,n)},G.hasTransition=function(r){return!!(r&&r.duration>0)},G.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},G.isHeader=function(r,e){return!(G.isLeaf(r)||r.depth===e._maxDepth-1)};function g(r){return r.data.data.pid}G.getParent=function(r,e){return G.findEntryWithLevel(r,g(e))},G.listPath=function(r,e){var o=r.parent;if(!o)return[];var n=e?[o.data[e]]:[o];return G.listPath(o,e).concat(n)},G.getPath=function(r){return G.listPath(r,"label").join("/")+"/"},G.formatValue=P.formatPieValue,G.formatPercent=function(r,e){var o=y.formatPercent(r,0);return o==="0%"&&(o=P.formatPiePercent(r,e)),o}},5621:function(W,G,t){W.exports={moduleType:"trace",name:"sunburst",basePlotModule:t(54904),categories:[],animatable:!0,attributes:t(424),layoutAttributes:t(84920),supplyDefaults:t(25244),supplyLayoutDefaults:t(28732),calc:t(3776).calc,crossTraceCalc:t(3776).crossTraceCalc,plot:t(96488).plot,style:t(85676).style,colorbar:t(5528),meta:{}}},84920:function(W){W.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(W,G,t){var y=t(3400),D=t(84920);W.exports=function(P,M){function d(g,r){return y.coerce(P,M,D,g,r)}d("sunburstcolorway",M.colorway),d("extendsunburstcolors")}},96488:function(W,G,t){var y=t(33428),D=t(74148),s=t(67756).qy,P=t(43616),M=t(3400),d=t(72736),g=t(82744),r=g.recordMinTextSize,e=g.clearMinTextSize,o=t(37820),n=t(69656).getRotationAngle,u=o.computeTransform,f=o.transformInsideText,c=t(85676).styleOne,m=t(60100).resizeText,v=t(45716),T=t(27328),h=t(78176);G.plot=function(x,E,S,a){var C=x._fullLayout,b=C._sunburstlayer,z,k,U=!S,F=!C.uniformtext.mode&&h.hasTransition(S);if(e("sunburst",C),z=b.selectAll("g.trace.sunburst").data(E,function(N){return N[0].trace.uid}),z.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),z.order(),F){a&&(k=a());var V=y.transition().duration(S.duration).ease(S.easing).each("end",function(){k&&k()}).each("interrupt",function(){k&&k()});V.each(function(){b.selectAll("g.trace").each(function(N){i(x,N,this,S)})})}else z.each(function(N){i(x,N,this,S)}),C.uniformtext.mode&&m(x,C._sunburstlayer.selectAll(".trace"),"sunburst");U&&z.exit().remove()};function i(x,E,S,a){var C=x._context.staticPlot,b=x._fullLayout,z=!b.uniformtext.mode&&h.hasTransition(a),k=y.select(S),U=k.selectAll("g.slice"),F=E[0],V=F.trace,N=F.hierarchy,O=h.findEntryWithLevel(N,V.level),H=h.getMaxDepth(V),X=b._size,J=V.domain,et=X.w*(J.x[1]-J.x[0]),it=X.h*(J.y[1]-J.y[0]),ft=.5*Math.min(et,it),ot=F.cx=X.l+X.w*(J.x[1]+J.x[0])/2,Q=F.cy=X.t+X.h*(1-J.y[0])-it/2;if(!O)return U.remove();var tt=null,Z={};z&&U.each(function(Wt){Z[h.getPtId(Wt)]={rpx0:Wt.rpx0,rpx1:Wt.rpx1,x0:Wt.x0,x1:Wt.x1,transform:Wt.transform},!tt&&h.isEntry(Wt)&&(tt=Wt)});var q=p(O).descendants(),ut=O.height+1,$=0,j=H;F.hasMultipleRoots&&h.isHierarchyRoot(O)&&(q=q.slice(1),ut-=1,$=1,j+=1),q=q.filter(function(Wt){return Wt.y1<=j});var lt=n(V.rotation);lt&&q.forEach(function(Wt){Wt.x0+=lt,Wt.x1+=lt});var nt=Math.min(ut,H),ht=function(Wt){return(Wt-$)/nt*ft},mt=function(Wt,Kt){return[Wt*Math.cos(Kt),-Wt*Math.sin(Kt)]},At=function(Wt){return M.pathAnnulus(Wt.rpx0,Wt.rpx1,Wt.x0,Wt.x1,ot,Q)},bt=function(Wt){return ot+A(Wt)[0]*(Wt.transform.rCenter||0)+(Wt.transform.x||0)},Pt=function(Wt){return Q+A(Wt)[1]*(Wt.transform.rCenter||0)+(Wt.transform.y||0)};U=U.data(q,h.getPtId),U.enter().append("g").classed("slice",!0),z?U.exit().transition().each(function(){var Wt=y.select(this),Kt=Wt.select("path.surface");Kt.transition().attrTween("d",function(Jt){var te=Rt(Jt);return function(fe){return At(te(fe))}});var oe=Wt.select("g.slicetext");oe.attr("opacity",0)}).remove():U.exit().remove(),U.order();var _t=null;if(z&&tt){var Ut=h.getPtId(tt);U.each(function(Wt){_t===null&&h.getPtId(Wt)===Ut&&(_t=Wt.x1)})}var St=U;z&&(St=St.transition().each("end",function(){var Wt=y.select(this);h.setSliceCursor(Wt,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),St.each(function(Wt){var Kt=y.select(this),oe=M.ensureSingle(Kt,"path","surface",function(xe){xe.style("pointer-events",C?"none":"all")});Wt.rpx0=ht(Wt.y0),Wt.rpx1=ht(Wt.y1),Wt.xmid=(Wt.x0+Wt.x1)/2,Wt.pxmid=mt(Wt.rpx1,Wt.xmid),Wt.midangle=-(Wt.xmid-Math.PI/2),Wt.startangle=-(Wt.x0-Math.PI/2),Wt.stopangle=-(Wt.x1-Math.PI/2),Wt.halfangle=.5*Math.min(M.angleDelta(Wt.x0,Wt.x1)||Math.PI,Math.PI),Wt.ring=1-Wt.rpx0/Wt.rpx1,Wt.rInscribed=w(Wt),z?oe.transition().attrTween("d",function(xe){var Me=Et(xe);return function(ne){return At(Me(ne))}}):oe.attr("d",At),Kt.call(v,O,x,E,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(h.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),oe.call(c,Wt,V,x);var Jt=M.ensureSingle(Kt,"g","slicetext"),te=M.ensureSingle(Jt,"text","",function(xe){xe.attr("data-notex",1)}),fe=M.ensureUniformFontSize(x,h.determineTextFont(V,Wt,b.font));te.text(G.formatSliceLabel(Wt,O,V,E,b)).classed("slicetext",!0).attr("text-anchor","middle").call(P.font,fe).call(d.convertToTspans,x);var ve=P.bBox(te.node());Wt.transform=f(ve,Wt,F),Wt.transform.targetX=bt(Wt),Wt.transform.targetY=Pt(Wt);var de=function(xe,Me){var ne=xe.transform;return u(ne,Me),ne.fontSize=fe.size,r(V.type,ne,b),M.getTextTransform(ne)};z?te.transition().attrTween("transform",function(xe){var Me=zt(xe);return function(ne){return de(Me(ne),ve)}}):te.attr("transform",de(Wt,ve))});function Rt(Wt){var Kt=h.getPtId(Wt),oe=Z[Kt],Jt=Z[h.getPtId(O)],te;if(Jt){var fe=(Wt.x1>Jt.x1?2*Math.PI:0)+lt;te=Wt.rpx1<Jt.rpx1?{x0:Wt.x0,x1:Wt.x1,rpx0:0,rpx1:0}:{x0:fe,x1:fe,rpx0:Wt.rpx0,rpx1:Wt.rpx1}}else{var ve,de=h.getPtId(Wt.parent);U.each(function(Gt){if(h.getPtId(Gt)===de)return ve=Gt});var xe=ve.children,Me;xe.forEach(function(Gt,Yt){if(h.getPtId(Gt)===Kt)return Me=Yt});var ne=xe.length,kt=s(ve.x0,ve.x1);te={rpx0:ft,rpx1:ft,x0:kt(Me/ne),x1:kt((Me+1)/ne)}}return s(oe,te)}function Et(Wt){var Kt=Z[h.getPtId(Wt)],oe,Jt={x0:Wt.x0,x1:Wt.x1,rpx0:Wt.rpx0,rpx1:Wt.rpx1};if(Kt)oe=Kt;else if(tt)if(Wt.parent)if(_t){var te=(Wt.x1>_t?2*Math.PI:0)+lt;oe={x0:te,x1:te}}else oe={rpx0:ft,rpx1:ft},M.extendFlat(oe,Ct(Wt));else oe={rpx0:0,rpx1:0};else oe={x0:lt,x1:lt};return s(oe,Jt)}function zt(Wt){var Kt=Z[h.getPtId(Wt)],oe,Jt=Wt.transform;if(Kt)oe=Kt;else if(oe={rpx1:Wt.rpx1,transform:{textPosAngle:Jt.textPosAngle,scale:0,rotate:Jt.rotate,rCenter:Jt.rCenter,x:Jt.x,y:Jt.y}},tt)if(Wt.parent)if(_t){var te=Wt.x1>_t?2*Math.PI:0;oe.x0=oe.x1=te}else M.extendFlat(oe,Ct(Wt));else oe.x0=oe.x1=lt;else oe.x0=oe.x1=lt;var fe=s(oe.transform.textPosAngle,Wt.transform.textPosAngle),ve=s(oe.rpx1,Wt.rpx1),de=s(oe.x0,Wt.x0),xe=s(oe.x1,Wt.x1),Me=s(oe.transform.scale,Jt.scale),ne=s(oe.transform.rotate,Jt.rotate),kt=Jt.rCenter===0?3:oe.transform.rCenter===0?1/3:1,Gt=s(oe.transform.rCenter,Jt.rCenter),Yt=function(Zt){return Gt(Math.pow(Zt,kt))};return function(Zt){var It=ve(Zt),Nt=de(Zt),Ht=xe(Zt),Lt=Yt(Zt),dt=mt(It,(Nt+Ht)/2),xt=fe(Zt),Ot={pxmid:dt,rpx1:It,transform:{textPosAngle:xt,rCenter:Lt,x:Jt.x,y:Jt.y}};return r(V.type,Jt,b),{transform:{targetX:bt(Ot),targetY:Pt(Ot),scale:Me(Zt),rotate:ne(Zt),rCenter:Lt}}}}function Ct(Wt){var Kt=Wt.parent,oe=Z[h.getPtId(Kt)],Jt={};if(oe){var te=Kt.children,fe=te.indexOf(Wt),ve=te.length,de=s(oe.x0,oe.x1);Jt.x0=de(fe/ve),Jt.x1=de(fe/ve)}else Jt.x0=Jt.x1=0;return Jt}}function p(x){return D.partition().size([2*Math.PI,x.height+1])(x)}G.formatSliceLabel=function(x,E,S,a,C){var b=S.texttemplate,z=S.textinfo;if(!b&&(!z||z==="none"))return"";var k=C.separators,U=a[0],F=x.data.data,V=U.hierarchy,N=h.isHierarchyRoot(x),O=h.getParent(V,x),H=h.getValue(x);if(!b){var X=z.split("+"),J=function($){return X.indexOf($)!==-1},et=[],it;if(J("label")&&F.label&&et.push(F.label),F.hasOwnProperty("v")&&J("value")&&et.push(h.formatValue(F.v,k)),!N){J("current path")&&et.push(h.getPath(x.data));var ft=0;J("percent parent")&&ft++,J("percent entry")&&ft++,J("percent root")&&ft++;var ot=ft>1;if(ft){var Q,tt=function($){it=h.formatPercent(Q,k),ot&&(it+=" of "+$),et.push(it)};J("percent parent")&&!N&&(Q=H/h.getValue(O),tt("parent")),J("percent entry")&&(Q=H/h.getValue(E),tt("entry")),J("percent root")&&(Q=H/h.getValue(V),tt("root"))}}return J("text")&&(it=M.castOption(S,F.i,"text"),M.isValidTextValue(it)&&et.push(it)),et.join("<br>")}var Z=M.castOption(S,F.i,"texttemplate");if(!Z)return"";var q={};F.label&&(q.label=F.label),F.hasOwnProperty("v")&&(q.value=F.v,q.valueLabel=h.formatValue(F.v,k)),q.currentPath=h.getPath(x.data),N||(q.percentParent=H/h.getValue(O),q.percentParentLabel=h.formatPercent(q.percentParent,k),q.parent=h.getPtLabel(O)),q.percentEntry=H/h.getValue(E),q.percentEntryLabel=h.formatPercent(q.percentEntry,k),q.entry=h.getPtLabel(E),q.percentRoot=H/h.getValue(V),q.percentRootLabel=h.formatPercent(q.percentRoot,k),q.root=h.getPtLabel(V),F.hasOwnProperty("color")&&(q.color=F.color);var ut=M.castOption(S,F.i,"text");return(M.isValidTextValue(ut)||ut==="")&&(q.text=ut),q.customdata=M.castOption(S,F.i,"customdata"),M.texttemplateString(Z,q,C._d3locale,q,S._meta||{})};function w(x){return x.rpx0===0&&M.isFullCircle([x.x0,x.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(x.halfangle)),x.ring/2))}function A(x){return L(x.rpx1,x.transform.textPosAngle)}function L(x,E){return[x*Math.sin(E),-x*Math.cos(E)]}},85676:function(W,G,t){var y=t(33428),D=t(76308),s=t(3400),P=t(82744).resizeText,M=t(60404);function d(r){var e=r._fullLayout._sunburstlayer.selectAll(".trace");P(r,e,"sunburst"),e.each(function(o){var n=y.select(this),u=o[0],f=u.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(c){y.select(this).call(g,c,f,r)})})}function g(r,e,o,n){var u=e.data.data,f=!e.children,c=u.i,m=s.castOption(o,c,"marker.line.color")||D.defaultLine,v=s.castOption(o,c,"marker.line.width")||0;r.call(M,e,o,n).style("stroke-width",v).call(D.stroke,m).style("opacity",f?o.leaf.opacity:null)}W.exports={style:d,styleOne:g}},16716:function(W,G,t){var y=t(76308),D=t(49084),s=t(29736).axisHoverFormat,P=t(21776).Ks,M=t(45464),d=t(92880).extendFlat,g=t(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function e(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:y.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:y.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var o=W.exports=g(d({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:P(),xhoverformat:s("x"),yhoverformat:s("y"),zhoverformat:s("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},D("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:e(),y:e(),z:e()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:d({},D.zauto,{}),zmin:d({},D.zmin,{}),zmax:d({},D.zmax,{})},hoverinfo:d({},M.hoverinfo),showlegend:d({},M.showlegend,{dflt:!1})}),"calc","nested");o.x.editType=o.y.editType=o.z.editType="calc+clearAxisTypes",o.transforms=void 0},56576:function(W,G,t){var y=t(47128);W.exports=function(s,P){P.surfacecolor?y(s,P,{vals:P.surfacecolor,containerStr:"",cLetter:"c"}):y(s,P,{vals:P.z,containerStr:"",cLetter:"c"})}},79164:function(W,G,t){var y=t(67792).gl_surface3d,D=t(67792).ndarray,s=t(67792).ndarray_linear_interpolate.d2,P=t(70448),M=t(11240),d=t(3400).isArrayOrTypedArray,g=t(33040).parseColorScale,r=t(43080),e=t(8932).extractOpts;function o(a,C,b){this.scene=a,this.uid=b,this.surface=C,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=o.prototype;n.getXat=function(a,C,b,z){var k=d(this.data.x)?d(this.data.x[0])?this.data.x[C][a]:this.data.x[a]:a;return b===void 0?k:z.d2l(k,0,b)},n.getYat=function(a,C,b,z){var k=d(this.data.y)?d(this.data.y[0])?this.data.y[C][a]:this.data.y[C]:C;return b===void 0?k:z.d2l(k,0,b)},n.getZat=function(a,C,b,z){var k=this.data.z[C][a];return k===null&&this.data.connectgaps&&this.data._interpolatedZ&&(k=this.data._interpolatedZ[C][a]),b===void 0?k:z.d2l(k,0,b)},n.handlePick=function(a){if(a.object===this.surface){var C=(a.data.index[0]-1)/this.dataScaleX-1,b=(a.data.index[1]-1)/this.dataScaleY-1,z=Math.max(Math.min(Math.round(C),this.data.z[0].length-1),0),k=Math.max(Math.min(Math.round(b),this.data._ylength-1),0);a.index=[z,k],a.traceCoordinate=[this.getXat(z,k),this.getYat(z,k),this.getZat(z,k)],a.dataCoordinate=[this.getXat(z,k,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(z,k,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(z,k,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var U=0;U<3;U++){var F=a.dataCoordinate[U];F!=null&&(a.dataCoordinate[U]*=this.scene.dataScale[U])}var V=this.data.hovertext||this.data.text;return d(V)&&V[k]&&V[k][z]!==void 0?a.textLabel=V[k][z]:V?a.textLabel=V:a.textLabel="",a.data.dataCoordinate=a.dataCoordinate.slice(),this.surface.highlight(a.data),this.scene.glplot.spikes.position=a.dataCoordinate,!0}};function u(a){var C=a[0].rgb,b=a[a.length-1].rgb;return C[0]===b[0]&&C[1]===b[1]&&C[2]===b[2]&&C[3]===b[3]}var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function c(a,C){if(a<C)return 0;for(var b=0;Math.floor(a%C)===0;)a/=C,b++;return b}function m(a){for(var C=[],b=0;b<f.length;b++){var z=f[b];C.push(c(a,z))}return C}function v(a){for(var C=m(a),b=a,z=0;z<f.length;z++)if(C[z]>0){b=f[z];break}return b}function T(a,C){if(!(a<1||C<1)){for(var b=m(a),z=m(C),k=1,U=0;U<f.length;U++)k*=Math.pow(f[U],Math.max(b[U],z[U]));return k}}function h(a){if(a.length!==0){for(var C=1,b=0;b<a.length;b++)C=T(C,a[b]);return C}}n.calcXnums=function(a){var C,b=[];for(C=1;C<a;C++){var z=this.getXat(C-1,0),k=this.getXat(C,0);k!==z&&z!==void 0&&z!==null&&k!==void 0&&k!==null?b[C-1]=Math.abs(k-z):b[C-1]=0}var U=0;for(C=1;C<a;C++)U+=b[C-1];for(C=1;C<a;C++)b[C-1]===0?b[C-1]=1:b[C-1]=Math.round(U/b[C-1]);return b},n.calcYnums=function(a){var C,b=[];for(C=1;C<a;C++){var z=this.getYat(0,C-1),k=this.getYat(0,C);k!==z&&z!==void 0&&z!==null&&k!==void 0&&k!==null?b[C-1]=Math.abs(k-z):b[C-1]=0}var U=0;for(C=1;C<a;C++)U+=b[C-1];for(C=1;C<a;C++)b[C-1]===0?b[C-1]=1:b[C-1]=Math.round(U/b[C-1]);return b};var i=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=i[9],w=i[13];n.estimateScale=function(a,C){for(var b=C===0?this.calcXnums(a):this.calcYnums(a),z=1+h(b);z<p;)z*=2;for(;z>w;)z--,z/=v(z),z++,z<p&&(z=w);var k=Math.round(z/a);return k>1?k:1};function A(a,C,b){var z=b[8]+b[2]*C[0]+b[5]*C[1];return a[0]=(b[6]+b[0]*C[0]+b[3]*C[1])/z,a[1]=(b[7]+b[1]*C[0]+b[4]*C[1])/z,a}function L(a,C,b){return x(a,C,A,b),a}function x(a,C,b,z){for(var k=[0,0],U=a.shape[0],F=a.shape[1],V=0;V<U;V++)for(var N=0;N<F;N++)b(k,[V,N],z),a.set(V,N,s(C,k[0],k[1]));return a}n.refineCoords=function(a){for(var C=this.dataScaleX,b=this.dataScaleY,z=a[0].shape[0],k=a[0].shape[1],U=Math.floor(a[0].shape[0]*C+1)|0,F=Math.floor(a[0].shape[1]*b+1)|0,V=1+z+1,N=1+k+1,O=D(new Float32Array(V*N),[V,N]),H=[1/C,0,0,0,1/b,0,0,0,1],X=0;X<a.length;++X){this.surface.padField(O,a[X]);var J=D(new Float32Array(U*F),[U,F]);L(J,O,H),a[X]=J}};function E(a,C){for(var b=!1,z=0;z<a.length;z++)if(C===a[z]){b=!0;break}b===!1&&a.push(C)}n.setContourLevels=function(){var a=[[],[],[]],C=[!1,!1,!1],b=!1,z,k,U;for(z=0;z<3;++z)if(this.showContour[z]&&(b=!0,this.contourSize[z]>0&&this.contourStart[z]!==null&&this.contourEnd[z]!==null&&this.contourEnd[z]>this.contourStart[z]))for(C[z]=!0,k=this.contourStart[z];k<this.contourEnd[z];k+=this.contourSize[z])U=k*this.scene.dataScale[z],E(a[z],U);if(b){var F=[[],[],[]];for(z=0;z<3;++z)this.showContour[z]&&(F[z]=C[z]?a[z]:this.scene.contourLevels[z]);this.surface.update({levels:F})}},n.update=function(a){var C=this.scene,b=C.fullSceneLayout,z=this.surface,k=g(a),U=C.dataScale,F=a.z[0].length,V=a._ylength,N=C.contourLevels;this.data=a;var O,H,X,J,et=[];for(O=0;O<3;O++)for(et[O]=[],H=0;H<F;H++)et[O][H]=[];for(H=0;H<F;H++)for(X=0;X<V;X++)et[0][H][X]=this.getXat(H,X,a.xcalendar,b.xaxis),et[1][H][X]=this.getYat(H,X,a.ycalendar,b.yaxis),et[2][H][X]=this.getZat(H,X,a.zcalendar,b.zaxis);if(a.connectgaps)for(a._emptypoints=M(et[2]),P(et[2],a._emptypoints),a._interpolatedZ=[],H=0;H<F;H++)for(a._interpolatedZ[H]=[],X=0;X<V;X++)a._interpolatedZ[H][X]=et[2][H][X];for(O=0;O<3;O++)for(H=0;H<F;H++)for(X=0;X<V;X++)J=et[O][H][X],J==null?et[O][H][X]=NaN:J=et[O][H][X]*=U[O];for(O=0;O<3;O++)for(H=0;H<F;H++)for(X=0;X<V;X++)J=et[O][H][X],J!=null&&(this.minValues[O]>J&&(this.minValues[O]=J),this.maxValues[O]<J&&(this.maxValues[O]=J));for(O=0;O<3;O++)this.objectOffset[O]=.5*(this.minValues[O]+this.maxValues[O]);for(O=0;O<3;O++)for(H=0;H<F;H++)for(X=0;X<V;X++)J=et[O][H][X],J!=null&&(et[O][H][X]-=this.objectOffset[O]);var it=[D(new Float32Array(F*V),[F,V]),D(new Float32Array(F*V),[F,V]),D(new Float32Array(F*V),[F,V])];for(O=0;O<3;O++)for(H=0;H<F;H++)for(X=0;X<V;X++)it[O].set(H,X,et[O][H][X]);et=[];var ft={colormap:k,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!a.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:a.opacityscale,opacity:a.opacity},ot=e(a);if(ft.intensityBounds=[ot.min,ot.max],a.surfacecolor){var Q=D(new Float32Array(F*V),[F,V]);for(H=0;H<F;H++)for(X=0;X<V;X++)Q.set(H,X,a.surfacecolor[X][H]);it.push(Q)}else ft.intensityBounds[0]*=U[2],ft.intensityBounds[1]*=U[2];(w<it[0].shape[0]||w<it[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(it[0].shape[0],0),this.dataScaleY=this.estimateScale(it[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(it)),a.surfacecolor&&(ft.intensity=it.pop());var tt=[!0,!0,!0],Z=["x","y","z"];for(O=0;O<3;++O){var q=a.contours[Z[O]];tt[O]=q.highlight,ft.showContour[O]=q.show||q.highlight,ft.showContour[O]&&(ft.contourProject[O]=[q.project.x,q.project.y,q.project.z],q.show?(this.showContour[O]=!0,ft.levels[O]=N[O],z.highlightColor[O]=ft.contourColor[O]=r(q.color),q.usecolormap?z.highlightTint[O]=ft.contourTint[O]=0:z.highlightTint[O]=ft.contourTint[O]=1,ft.contourWidth[O]=q.width,this.contourStart[O]=q.start,this.contourEnd[O]=q.end,this.contourSize[O]=q.size):(this.showContour[O]=!1,this.contourStart[O]=null,this.contourEnd[O]=null,this.contourSize[O]=0),q.highlight&&(ft.dynamicColor[O]=r(q.highlightcolor),ft.dynamicWidth[O]=q.highlightwidth))}u(k)&&(ft.vertexColor=!0),ft.objectOffset=this.objectOffset,ft.coords=it,z.update(ft),z.visible=a.visible,z.enableDynamic=tt,z.enableHighlight=tt,z.snapToData=!0,"lighting"in a&&(z.ambientLight=a.lighting.ambient,z.diffuseLight=a.lighting.diffuse,z.specularLight=a.lighting.specular,z.roughness=a.lighting.roughness,z.fresnel=a.lighting.fresnel),"lightposition"in a&&(z.lightPosition=[a.lightposition.x,a.lightposition.y,a.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function S(a,C){var b=a.glplot.gl,z=y({gl:b}),k=new o(a,z,C.uid);return z._trace=k,k.update(C),a.glplot.add(z),k}W.exports=S},60192:function(W,G,t){var y=t(24040),D=t(3400),s=t(27260),P=t(16716),M=.1;function d(n,u){for(var f=[],c=32,m=0;m<c;m++){var v=m/(c-1),T=u+(1-u)*(1-Math.pow(Math.sin(n*v*Math.PI),2));f.push([v,Math.max(0,Math.min(1,T))])}return f}function g(n){var u=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var f=0;f<n.length;f++){var c=n[f];if(c.length!==2||+c[0]<u)return!1;u=+c[0]}return!0}function r(n,u,f,c){var m,v;function T(a,C){return D.coerce(n,u,P,a,C)}var h=T("x"),i=T("y"),p=T("z");if(!p||!p.length||h&&h.length<1||i&&i.length<1){u.visible=!1;return}u._xlength=Array.isArray(h)&&D.isArrayOrTypedArray(h[0])?p.length:p[0].length,u._ylength=p.length;var w=y.getComponentMethod("calendars","handleTraceDefaults");w(n,u,["x","y","z"],c),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(a){T(a)});var A=T("surfacecolor"),L=["x","y","z"];for(m=0;m<3;++m){var x="contours."+L[m],E=T(x+".show"),S=T(x+".highlight");if(E||S)for(v=0;v<3;++v)T(x+".project."+L[v]);E&&(T(x+".color"),T(x+".width"),T(x+".usecolormap")),S&&(T(x+".highlightcolor"),T(x+".highlightwidth")),T(x+".start"),T(x+".end"),T(x+".size")}A||(o(n,"zmin","cmin"),o(n,"zmax","cmax"),o(n,"zauto","cauto")),s(n,u,c,T,{prefix:"",cLetter:"c"}),e(n,u,c,T),u._length=null}function e(n,u,f,c){var m=c("opacityscale");m==="max"?u.opacityscale=[[0,M],[1,1]]:m==="min"?u.opacityscale=[[0,1],[1,M]]:m==="extremes"?u.opacityscale=d(1,M):g(m)||(u.opacityscale=void 0)}function o(n,u,f){u in n&&!(f in n)&&(n[f]=n[u])}W.exports={supplyDefaults:r,opacityscaleDefaults:e}},91304:function(W,G,t){W.exports={attributes:t(16716),supplyDefaults:t(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:t(56576),plot:t(79164),moduleType:"trace",name:"surface",basePlotModule:t(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(W,G,t){var y=t(13916),D=t(92880).extendFlat,s=t(67824).overrideAll,P=t(25376),M=t(86968).u,d=t(29736).descriptionOnlyNumbers,g=W.exports=s({domain:M({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:D({},y.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:D({},P({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:D({},y.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:D({},P({arrayOk:!0}))}},"calc","from-root");g.transforms=void 0},85852:function(W,G,t){var y=t(84888)._M,D=t(24752),s="table";G.name=s,G.plot=function(P){var M=y(P.calcdata,s)[0];M.length&&D(P,M)},G.clean=function(P,M,d,g){var r=g._has&&g._has(s),e=M._has&&M._has(s);r&&!e&&g._paperdiv.selectAll(".table").remove()}},39312:function(W,G,t){var y=t(71688).wrap;W.exports=function(){return y({})}},23536:function(W){W.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(W,G,t){var y=t(23536),D=t(92880).extendFlat,s=t(38248),P=t(38116).isTypedArray,M=t(38116).isArrayOrTypedArray;W.exports=function(m,v){var T=r(v.cells.values),h=function(J){return J.slice(v.header.values.length,J.length)},i=r(v.header.values);i.length&&!i[0].length&&(i[0]=[""],i=r(i));var p=i.concat(h(T).map(function(){return e((i[0]||[""]).length)})),w=v.domain,A=Math.floor(m._fullLayout._size.w*(w.x[1]-w.x[0])),L=Math.floor(m._fullLayout._size.h*(w.y[1]-w.y[0])),x=v.header.values.length?p[0].map(function(){return v.header.height}):[y.emptyHeaderHeight],E=T.length?T[0].map(function(){return v.cells.height}):[],S=x.reduce(g,0),a=L-S,C=a+y.uplift,b=u(E,C),z=u(x,S),k=n(z,[]),U=n(b,k),F={},V=v._fullInput.columnorder;M(V)&&(V=Array.from(V)),V=V.concat(h(T.map(function(J,et){return et})));var N=p.map(function(J,et){var it=M(v.columnwidth)?v.columnwidth[Math.min(et,v.columnwidth.length-1)]:v.columnwidth;return s(it)?Number(it):1}),O=N.reduce(g,0);N=N.map(function(J){return J/O*A});var H=Math.max(d(v.header.line.width),d(v.cells.line.width)),X={key:v.uid+m._context.staticPlot,translateX:w.x[0]*m._fullLayout._size.w,translateY:m._fullLayout._size.h*(1-w.y[1]),size:m._fullLayout._size,width:A,maxLineWidth:H,height:L,columnOrder:V,groupHeight:L,rowBlocks:U,headerRowBlocks:k,scrollY:0,cells:D({},v.cells,{values:T}),headerCells:D({},v.header,{values:p}),gdColumns:p.map(function(J){return J[0]}),gdColumnsOriginalOrder:p.map(function(J){return J[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:p.map(function(J,et){var it=F[J];F[J]=(it||0)+1;var ft=J+"__"+F[J];return{key:ft,label:J,specIndex:et,xIndex:V[et],xScale:o,x:void 0,calcdata:void 0,columnWidth:N[et]}})};return X.columns.forEach(function(J){J.calcdata=X,J.x=o(J)}),X};function d(c){if(M(c)){for(var m=0,v=0;v<c.length;v++)m=Math.max(m,d(c[v]));return m}return c}function g(c,m){return c+m}function r(c){var m=c.slice(),v=1/0,T=0,h;for(h=0;h<m.length;h++)P(m[h])?m[h]=Array.from(m[h]):M(m[h])||(m[h]=[m[h]]),v=Math.min(v,m[h].length),T=Math.max(T,m[h].length);if(v!==T)for(h=0;h<m.length;h++){var i=T-m[h].length;i&&(m[h]=m[h].concat(e(i)))}return m}function e(c){for(var m=new Array(c),v=0;v<c;v++)m[v]="";return m}function o(c){return c.calcdata.columns.reduce(function(m,v){return v.xIndex<c.xIndex?m+v.columnWidth:m},0)}function n(c,m){var v=Object.keys(c);return v.map(function(T){return D({},c[T],{auxiliaryBlocks:m})})}function u(c,m){for(var v={},T,h=0,i=0,p=f(),w=0,A=0,L=0;L<c.length;L++)T=c[L],p.rows.push({rowIndex:L,rowHeight:T}),i+=T,(i>=m||L===c.length-1)&&(v[h]=p,p.key=A++,p.firstRowIndex=w,p.lastRowIndex=L,p=f(),h+=i,w=L+1,i=0);return v}function f(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(W,G,t){var y=t(92880).extendFlat;G.splitToPanels=function(s){var P=[0,0],M=y({},s,{key:"header",type:"header",page:0,prevPages:P,currentRepaint:[null,null],dragHandle:!0,values:s.calcdata.headerCells.values[s.specIndex],rowBlocks:s.calcdata.headerRowBlocks,calcdata:y({},s.calcdata,{cells:s.calcdata.headerCells})}),d=y({},s,{key:"cells1",type:"cells",page:0,prevPages:P,currentRepaint:[null,null],dragHandle:!1,values:s.calcdata.cells.values[s.specIndex],rowBlocks:s.calcdata.rowBlocks}),g=y({},s,{key:"cells2",type:"cells",page:1,prevPages:P,currentRepaint:[null,null],dragHandle:!1,values:s.calcdata.cells.values[s.specIndex],rowBlocks:s.calcdata.rowBlocks});return[d,g,M]},G.splitToCells=function(s){var P=D(s);return(s.values||[]).slice(P[0],P[1]).map(function(M,d){var g=typeof M=="string"&&M.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:d+g,key:P[0]+d,column:s,calcdata:s.calcdata,page:s.page,rowBlocks:s.rowBlocks,value:M}})};function D(s){var P=s.rowBlocks[s.page],M=P?P.rows[0].rowIndex:0,d=P?M+P.rows.length:0;return[M,d]}},53212:function(W,G,t){var y=t(3400),D=t(60520),s=t(86968).Q;function P(M,d){for(var g=M.columnorder||[],r=M.header.values.length,e=g.slice(0,r),o=e.slice().sort(function(f,c){return f-c}),n=e.map(function(f){return o.indexOf(f)}),u=n.length;u<r;u++)n.push(u);d("columnorder",n)}W.exports=function(d,g,r,e){function o(n,u){return y.coerce(d,g,D,n,u)}s(g,e,o),o("columnwidth"),o("header.values"),o("header.format"),o("header.align"),o("header.prefix"),o("header.suffix"),o("header.height"),o("header.line.width"),o("header.line.color"),o("header.fill.color"),y.coerceFont(o,"header.font",e.font),P(g,o),o("cells.values"),o("cells.format"),o("cells.align"),o("cells.prefix"),o("cells.suffix"),o("cells.height"),o("cells.line.width"),o("cells.line.color"),o("cells.fill.color"),y.coerceFont(o,"cells.font",e.font),g._length=null}},41724:function(W,G,t){W.exports={attributes:t(60520),supplyDefaults:t(53212),calc:t(39312),plot:t(24752),moduleType:"trace",name:"table",basePlotModule:t(85852),categories:["noOpacity"],meta:{}}},24752:function(W,G,t){var y=t(23536),D=t(33428),s=t(3400),P=s.numberFormat,M=t(71688),d=t(43616),g=t(72736),r=t(3400).raiseToTop,e=t(3400).strTranslate,o=t(3400).cancelTransition,n=t(55992),u=t(53056),f=t(76308);W.exports=function(lt,nt){var ht=!lt._context.staticPlot,mt=lt._fullLayout._paper.selectAll("."+y.cn.table).data(nt.map(function(Jt){var te=M.unwrap(Jt),fe=te.trace;return n(lt,fe)}),M.keyFun);mt.exit().remove(),mt.enter().append("g").classed(y.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),mt.attr("width",function(Jt){return Jt.width+Jt.size.l+Jt.size.r}).attr("height",function(Jt){return Jt.height+Jt.size.t+Jt.size.b}).attr("transform",function(Jt){return e(Jt.translateX,Jt.translateY)});var At=mt.selectAll("."+y.cn.tableControlView).data(M.repeat,M.keyFun),bt=At.enter().append("g").classed(y.cn.tableControlView,!0).style("box-sizing","content-box");if(ht){var Pt="onwheel"in document?"wheel":"mousewheel";bt.on("mousemove",function(Jt){At.filter(function(te){return Jt===te}).call(h,lt)}).on(Pt,function(Jt){if(!Jt.scrollbarState.wheeling){Jt.scrollbarState.wheeling=!0;var te=Jt.scrollY+D.event.deltaY,fe=J(lt,At,null,te)(Jt);fe||(D.event.stopPropagation(),D.event.preventDefault()),Jt.scrollbarState.wheeling=!1}}).call(h,lt,!0)}At.attr("transform",function(Jt){return e(Jt.size.l,Jt.size.t)});var _t=At.selectAll("."+y.cn.scrollBackground).data(M.repeat,M.keyFun);_t.enter().append("rect").classed(y.cn.scrollBackground,!0).attr("fill","none"),_t.attr("width",function(Jt){return Jt.width}).attr("height",function(Jt){return Jt.height}),At.each(function(Jt){d.setClipUrl(D.select(this),m(lt,Jt),lt)});var Ut=At.selectAll("."+y.cn.yColumn).data(function(Jt){return Jt.columns},M.keyFun);Ut.enter().append("g").classed(y.cn.yColumn,!0),Ut.exit().remove(),Ut.attr("transform",function(Jt){return e(Jt.x,0)}),ht&&Ut.call(D.behavior.drag().origin(function(Jt){var te=D.select(this);return F(te,Jt,-y.uplift),r(this),Jt.calcdata.columnDragInProgress=!0,h(At.filter(function(fe){return Jt.calcdata.key===fe.key}),lt),Jt}).on("drag",function(Jt){var te=D.select(this),fe=function(xe){return(Jt===xe?D.event.x:xe.x)+xe.columnWidth/2};Jt.x=Math.max(-y.overdrag,Math.min(Jt.calcdata.width+y.overdrag-Jt.columnWidth,D.event.x));var ve=T(Ut).filter(function(xe){return xe.calcdata.key===Jt.calcdata.key}),de=ve.sort(function(xe,Me){return fe(xe)-fe(Me)});de.forEach(function(xe,Me){xe.xIndex=Me,xe.x=Jt===xe?xe.x:xe.xScale(xe)}),Ut.filter(function(xe){return Jt!==xe}).transition().ease(y.transitionEase).duration(y.transitionDuration).attr("transform",function(xe){return e(xe.x,0)}),te.call(o).attr("transform",e(Jt.x,-y.uplift))}).on("dragend",function(Jt){var te=D.select(this),fe=Jt.calcdata;Jt.x=Jt.xScale(Jt),Jt.calcdata.columnDragInProgress=!1,F(te,Jt,0),k(lt,fe,fe.columns.map(function(ve){return ve.xIndex}))})),Ut.each(function(Jt){d.setClipUrl(D.select(this),v(lt,Jt),lt)});var St=Ut.selectAll("."+y.cn.columnBlock).data(u.splitToPanels,M.keyFun);St.enter().append("g").classed(y.cn.columnBlock,!0).attr("id",function(Jt){return Jt.key}),St.style("cursor",function(Jt){return Jt.dragHandle?"ew-resize":Jt.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Rt=St.filter(N),Et=St.filter(V);ht&&Et.call(D.behavior.drag().origin(function(Jt){return D.event.stopPropagation(),Jt}).on("drag",J(lt,At,-1)).on("dragend",function(){})),i(lt,At,Rt,St),i(lt,At,Et,St);var zt=At.selectAll("."+y.cn.scrollAreaClip).data(M.repeat,M.keyFun);zt.enter().append("clipPath").classed(y.cn.scrollAreaClip,!0).attr("id",function(Jt){return m(lt,Jt)});var Ct=zt.selectAll("."+y.cn.scrollAreaClipRect).data(M.repeat,M.keyFun);Ct.enter().append("rect").classed(y.cn.scrollAreaClipRect,!0).attr("x",-y.overdrag).attr("y",-y.uplift).attr("fill","none"),Ct.attr("width",function(Jt){return Jt.width+2*y.overdrag}).attr("height",function(Jt){return Jt.height+y.uplift});var Wt=Ut.selectAll("."+y.cn.columnBoundary).data(M.repeat,M.keyFun);Wt.enter().append("g").classed(y.cn.columnBoundary,!0);var Kt=Ut.selectAll("."+y.cn.columnBoundaryClippath).data(M.repeat,M.keyFun);Kt.enter().append("clipPath").classed(y.cn.columnBoundaryClippath,!0),Kt.attr("id",function(Jt){return v(lt,Jt)});var oe=Kt.selectAll("."+y.cn.columnBoundaryRect).data(M.repeat,M.keyFun);oe.enter().append("rect").classed(y.cn.columnBoundaryRect,!0).attr("fill","none"),oe.attr("width",function(Jt){return Jt.columnWidth+2*c(Jt)}).attr("height",function(Jt){return Jt.calcdata.height+2*c(Jt)+y.uplift}).attr("x",function(Jt){return-c(Jt)}).attr("y",function(Jt){return-c(Jt)}),X(null,Et,At)};function c(j){return Math.ceil(j.calcdata.maxLineWidth/2)}function m(j,lt){return"clip"+j._fullLayout._uid+"_scrollAreaBottomClip_"+lt.key}function v(j,lt){return"clip"+j._fullLayout._uid+"_columnBoundaryClippath_"+lt.calcdata.key+"_"+lt.specIndex}function T(j){return[].concat.apply([],j.map(function(lt){return lt})).map(function(lt){return lt.__data__})}function h(j,lt,nt){function ht(Ut){var St=Ut.rowBlocks;return tt(St,St.length-1)+(St.length?Z(St[St.length-1],1/0):1)}var mt=j.selectAll("."+y.cn.scrollbarKit).data(M.repeat,M.keyFun);mt.enter().append("g").classed(y.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),mt.each(function(Ut){var St=Ut.scrollbarState;St.totalHeight=ht(Ut),St.scrollableAreaHeight=Ut.groupHeight-O(Ut),St.currentlyVisibleHeight=Math.min(St.totalHeight,St.scrollableAreaHeight),St.ratio=St.currentlyVisibleHeight/St.totalHeight,St.barLength=Math.max(St.ratio*St.currentlyVisibleHeight,y.goldenRatio*y.scrollbarWidth),St.barWiggleRoom=St.currentlyVisibleHeight-St.barLength,St.wiggleRoom=Math.max(0,St.totalHeight-St.scrollableAreaHeight),St.topY=St.barWiggleRoom===0?0:Ut.scrollY/St.wiggleRoom*St.barWiggleRoom,St.bottomY=St.topY+St.barLength,St.dragMultiplier=St.wiggleRoom/St.barWiggleRoom}).attr("transform",function(Ut){var St=Ut.width+y.scrollbarWidth/2+y.scrollbarOffset;return e(St,O(Ut))});var At=mt.selectAll("."+y.cn.scrollbar).data(M.repeat,M.keyFun);At.enter().append("g").classed(y.cn.scrollbar,!0);var bt=At.selectAll("."+y.cn.scrollbarSlider).data(M.repeat,M.keyFun);bt.enter().append("g").classed(y.cn.scrollbarSlider,!0),bt.attr("transform",function(Ut){return e(0,Ut.scrollbarState.topY||0)});var Pt=bt.selectAll("."+y.cn.scrollbarGlyph).data(M.repeat,M.keyFun);Pt.enter().append("line").classed(y.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",y.scrollbarWidth).attr("stroke-linecap","round").attr("y1",y.scrollbarWidth/2),Pt.attr("y2",function(Ut){return Ut.scrollbarState.barLength-y.scrollbarWidth/2}).attr("stroke-opacity",function(Ut){return Ut.columnDragInProgress||!Ut.scrollbarState.barWiggleRoom||nt?0:.4}),Pt.transition().delay(0).duration(0),Pt.transition().delay(y.scrollbarHideDelay).duration(y.scrollbarHideDuration).attr("stroke-opacity",0);var _t=At.selectAll("."+y.cn.scrollbarCaptureZone).data(M.repeat,M.keyFun);_t.enter().append("line").classed(y.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",y.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ut){var St=D.event.y,Rt=this.getBoundingClientRect(),Et=Ut.scrollbarState,zt=St-Rt.top,Ct=D.scale.linear().domain([0,Et.scrollableAreaHeight]).range([0,Et.totalHeight]).clamp(!0);Et.topY<=zt&&zt<=Et.bottomY||J(lt,j,null,Ct(zt-Et.barLength/2))(Ut)}).call(D.behavior.drag().origin(function(Ut){return D.event.stopPropagation(),Ut.scrollbarState.scrollbarScrollInProgress=!0,Ut}).on("drag",J(lt,j)).on("dragend",function(){})),_t.attr("y2",function(Ut){return Ut.scrollbarState.scrollableAreaHeight}),lt._context.staticPlot&&(Pt.remove(),_t.remove())}function i(j,lt,nt,ht){var mt=p(nt),At=w(mt);E(At);var bt=A(At);a(bt);var Pt=x(At),_t=L(Pt);S(_t),C(_t,lt,ht,j),Q(At)}function p(j){var lt=j.selectAll("."+y.cn.columnCells).data(M.repeat,M.keyFun);return lt.enter().append("g").classed(y.cn.columnCells,!0),lt.exit().remove(),lt}function w(j){var lt=j.selectAll("."+y.cn.columnCell).data(u.splitToCells,function(nt){return nt.keyWithinBlock});return lt.enter().append("g").classed(y.cn.columnCell,!0),lt.exit().remove(),lt}function A(j){var lt=j.selectAll("."+y.cn.cellRect).data(M.repeat,function(nt){return nt.keyWithinBlock});return lt.enter().append("rect").classed(y.cn.cellRect,!0),lt}function L(j){var lt=j.selectAll("."+y.cn.cellText).data(M.repeat,function(nt){return nt.keyWithinBlock});return lt.enter().append("text").classed(y.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){D.event.stopPropagation()}),lt}function x(j){var lt=j.selectAll("."+y.cn.cellTextHolder).data(M.repeat,function(nt){return nt.keyWithinBlock});return lt.enter().append("g").classed(y.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),lt}function E(j){j.each(function(lt,nt){var ht=lt.calcdata.cells.font,mt=lt.column.specIndex,At={size:U(ht.size,mt,nt),color:U(ht.color,mt,nt),family:U(ht.family,mt,nt),weight:U(ht.weight,mt,nt),style:U(ht.style,mt,nt),variant:U(ht.variant,mt,nt),textcase:U(ht.textcase,mt,nt),lineposition:U(ht.lineposition,mt,nt),shadow:U(ht.shadow,mt,nt)};lt.rowNumber=lt.key,lt.align=U(lt.calcdata.cells.align,mt,nt),lt.cellBorderWidth=U(lt.calcdata.cells.line.width,mt,nt),lt.font=At})}function S(j){j.each(function(lt){d.font(D.select(this),lt.font)})}function a(j){j.attr("width",function(lt){return lt.column.columnWidth}).attr("stroke-width",function(lt){return lt.cellBorderWidth}).each(function(lt){var nt=D.select(this);f.stroke(nt,U(lt.calcdata.cells.line.color,lt.column.specIndex,lt.rowNumber)),f.fill(nt,U(lt.calcdata.cells.fill.color,lt.column.specIndex,lt.rowNumber))})}function C(j,lt,nt,ht){j.text(function(mt){var At=mt.column.specIndex,bt=mt.rowNumber,Pt=mt.value,_t=typeof Pt=="string",Ut=_t&&Pt.match(/<br>/i),St=!_t||Ut;mt.mayHaveMarkup=_t&&Pt.match(/[<&>]/);var Rt=b(Pt);mt.latex=Rt;var Et=Rt?"":U(mt.calcdata.cells.prefix,At,bt)||"",zt=Rt?"":U(mt.calcdata.cells.suffix,At,bt)||"",Ct=Rt?null:U(mt.calcdata.cells.format,At,bt)||null,Wt=Et+(Ct?P(Ct)(mt.value):mt.value)+zt,Kt;mt.wrappingNeeded=!mt.wrapped&&!St&&!Rt&&(Kt=z(Wt)),mt.cellHeightMayIncrease=Ut||Rt||mt.mayHaveMarkup||(Kt===void 0?z(Wt):Kt),mt.needsConvertToTspans=mt.mayHaveMarkup||mt.wrappingNeeded||mt.latex;var oe;if(mt.wrappingNeeded){var Jt=y.wrapSplitCharacter===" "?Wt.replace(/<a href=/ig,"<a_href="):Wt,te=Jt.split(y.wrapSplitCharacter),fe=y.wrapSplitCharacter===" "?te.map(function(ve){return ve.replace(/<a_href=/ig,"<a href=")}):te;mt.fragments=fe.map(function(ve){return{text:ve,width:null}}),mt.fragments.push({fragment:y.wrapSpacer,width:null}),oe=fe.join(y.lineBreaker)+y.lineBreaker+y.wrapSpacer}else delete mt.fragments,oe=Wt;return oe}).attr("dy",function(mt){return mt.needsConvertToTspans?0:"0.75em"}).each(function(mt){var At=this,bt=D.select(At),Pt=mt.wrappingNeeded?it:ft;mt.needsConvertToTspans?g.convertToTspans(bt,ht,Pt(nt,At,lt,ht,mt)):D.select(At.parentNode).attr("transform",function(_t){return e(ot(_t),y.cellPad)}).attr("text-anchor",function(_t){return{left:"start",center:"middle",right:"end"}[_t.align]})})}function b(j){return typeof j=="string"&&j.match(y.latexCheck)}function z(j){return j.indexOf(y.wrapSplitCharacter)!==-1}function k(j,lt,nt){var ht=lt.gdColumnsOriginalOrder;lt.gdColumns.sort(function(mt,At){return nt[ht.indexOf(mt)]-nt[ht.indexOf(At)]}),lt.columnorder=nt,j.emit("plotly_restyle")}function U(j,lt,nt){if(s.isArrayOrTypedArray(j)){var ht=j[Math.min(lt,j.length-1)];return s.isArrayOrTypedArray(ht)?ht[Math.min(nt,ht.length-1)]:ht}else return j}function F(j,lt,nt){j.transition().ease(y.releaseTransitionEase).duration(y.releaseTransitionDuration).attr("transform",e(lt.x,nt))}function V(j){return j.type==="cells"}function N(j){return j.type==="header"}function O(j){var lt=j.rowBlocks.length?j.rowBlocks[0].auxiliaryBlocks:[];return lt.reduce(function(nt,ht){return nt+Z(ht,1/0)},0)}function H(j,lt,nt){for(var ht=[],mt=0,At=0;At<j.length;At++){for(var bt=j[At],Pt=bt.rows,_t=0,Ut=0;Ut<Pt.length;Ut++)_t+=Pt[Ut].rowHeight;bt.allRowsHeight=_t;var St=mt+_t,Rt=lt,Et=Rt+nt;Rt<St&&Et>mt&&ht.push(At),mt+=_t}return ht}function X(j,lt,nt){var ht=T(lt)[0];if(ht!==void 0){var mt=ht.rowBlocks,At=ht.calcdata,bt=tt(mt,mt.length),Pt=ht.calcdata.groupHeight-O(ht),_t=At.scrollY=Math.max(0,Math.min(bt-Pt,At.scrollY)),Ut=H(mt,_t,Pt);Ut.length===1&&(Ut[0]===mt.length-1?Ut.unshift(Ut[0]-1):Ut.push(Ut[0]+1)),Ut[0]%2&&Ut.reverse(),lt.each(function(St,Rt){St.page=Ut[Rt],St.scrollY=_t}),lt.attr("transform",function(St){var Rt=tt(St.rowBlocks,St.page)-St.scrollY;return e(0,Rt)}),j&&(et(j,nt,lt,Ut,ht.prevPages,ht,0),et(j,nt,lt,Ut,ht.prevPages,ht,1),h(nt,j))}}function J(j,lt,nt,ht){return function(At){var bt=At.calcdata?At.calcdata:At,Pt=lt.filter(function(Rt){return bt.key===Rt.key}),_t=nt||bt.scrollbarState.dragMultiplier,Ut=bt.scrollY;bt.scrollY=ht===void 0?bt.scrollY+_t*D.event.dy:ht;var St=Pt.selectAll("."+y.cn.yColumn).selectAll("."+y.cn.columnBlock).filter(V);return X(j,St,Pt),bt.scrollY===Ut}}function et(j,lt,nt,ht,mt,At,bt){var Pt=ht[bt]!==mt[bt];Pt&&(clearTimeout(At.currentRepaint[bt]),At.currentRepaint[bt]=setTimeout(function(){var _t=nt.filter(function(Ut,St){return St===bt&&ht[St]!==mt[St]});i(j,lt,_t,nt),mt[bt]=ht[bt]}))}function it(j,lt,nt,ht){return function(){var At=D.select(lt.parentNode);At.each(function(bt){var Pt=bt.fragments;At.selectAll("tspan.line").each(function(Wt,Kt){Pt[Kt].width=this.getComputedTextLength()});var _t=Pt[Pt.length-1].width,Ut=Pt.slice(0,-1),St=[],Rt,Et,zt=0,Ct=bt.column.columnWidth-2*y.cellPad;for(bt.value="";Ut.length;)Rt=Ut.shift(),Et=Rt.width+_t,zt+Et>Ct&&(bt.value+=St.join(y.wrapSpacer)+y.lineBreaker,St=[],zt=0),St.push(Rt.text),zt+=Et;zt&&(bt.value+=St.join(y.wrapSpacer)),bt.wrapped=!0}),At.selectAll("tspan.line").remove(),C(At.select("."+y.cn.cellText),nt,j,ht),D.select(lt.parentNode.parentNode).call(Q)}}function ft(j,lt,nt,ht,mt){return function(){if(!mt.settledY){var bt=D.select(lt.parentNode),Pt=ut(mt),_t=mt.key-Pt.firstRowIndex,Ut=Pt.rows[_t].rowHeight,St=mt.cellHeightMayIncrease?lt.parentNode.getBoundingClientRect().height+2*y.cellPad:Ut,Rt=Math.max(St,Ut),Et=Rt-Pt.rows[_t].rowHeight;Et&&(Pt.rows[_t].rowHeight=Rt,j.selectAll("."+y.cn.columnCell).call(Q),X(null,j.filter(V),0),h(nt,ht,!0)),bt.attr("transform",function(){var zt=this,Ct=zt.parentNode,Wt=Ct.getBoundingClientRect(),Kt=D.select(zt.parentNode).select("."+y.cn.cellRect).node().getBoundingClientRect(),oe=zt.transform.baseVal.consolidate(),Jt=Kt.top-Wt.top+(oe?oe.matrix.f:y.cellPad);return e(ot(mt,D.select(zt.parentNode).select("."+y.cn.cellTextHolder).node().getBoundingClientRect().width),Jt)}),mt.settledY=!0}}}function ot(j,lt){switch(j.align){case"left":return y.cellPad;case"right":return j.column.columnWidth-(lt||0)-y.cellPad;case"center":return(j.column.columnWidth-(lt||0))/2;default:return y.cellPad}}function Q(j){j.attr("transform",function(lt){var nt=lt.rowBlocks[0].auxiliaryBlocks.reduce(function(bt,Pt){return bt+Z(Pt,1/0)},0),ht=ut(lt),mt=Z(ht,lt.key),At=mt+nt;return e(0,At)}).selectAll("."+y.cn.cellRect).attr("height",function(lt){return $(ut(lt),lt.key).rowHeight})}function tt(j,lt){for(var nt=0,ht=lt-1;ht>=0;ht--)nt+=q(j[ht]);return nt}function Z(j,lt){for(var nt=0,ht=0;ht<j.rows.length&&j.rows[ht].rowIndex<lt;ht++)nt+=j.rows[ht].rowHeight;return nt}function q(j){var lt=j.allRowsHeight;if(lt!==void 0)return lt;for(var nt=0,ht=0;ht<j.rows.length;ht++)nt+=j.rows[ht].rowHeight;return j.allRowsHeight=nt,nt}function ut(j){return j.rowBlocks[j.page]}function $(j,lt){return j.rows[lt-j.firstRowIndex]}},40516:function(W,G,t){var y=t(21776).Ks,D=t(21776).Gw,s=t(49084),P=t(86968).u,M=t(74996),d=t(424),g=t(32984),r=t(92880).extendFlat,e=t(98192).c;W.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:d.marker.colors,pattern:e,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:d.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},s("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},M.textfont,{}),editType:"calc"},text:M.text,textinfo:d.textinfo,texttemplate:D({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:d.hoverinfo,hovertemplate:y({},{keys:g.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:r({},M.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:M.sort,root:d.root,domain:P({name:"treemap",trace:!0,editType:"calc"})}},79516:function(W,G,t){var y=t(7316);G.name="treemap",G.plot=function(D,s,P,M){y.plotBasePlot(G.name,D,s,P,M)},G.clean=function(D,s,P,M){y.cleanBasePlot(G.name,D,s,P,M)}},97840:function(W,G,t){var y=t(3776);G.r=function(D,s){return y.calc(D,s)},G.q=function(D){return y._runCrossTraceCalc("treemap",D)}},32984:function(W){W.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(W,G,t){var y=t(3400),D=t(40516),s=t(76308),P=t(86968).Q,M=t(31508).handleText,d=t(78048).TEXTPAD,g=t(74174).handleMarkerDefaults,r=t(8932),e=r.hasColorscale,o=r.handleDefaults;W.exports=function(u,f,c,m){function v(a,C){return y.coerce(u,f,D,a,C)}var T=v("labels"),h=v("parents");if(!T||!T.length||!h||!h.length){f.visible=!1;return}var i=v("values");i&&i.length?v("branchvalues"):v("count"),v("level"),v("maxdepth");var p=v("tiling.packing");p==="squarify"&&v("tiling.squarifyratio"),v("tiling.flip"),v("tiling.pad");var w=v("text");v("texttemplate"),f.texttemplate||v("textinfo",y.isArrayOrTypedArray(w)?"text+label":"label"),v("hovertext"),v("hovertemplate");var A=v("pathbar.visible"),L="auto";M(u,f,m,v,L,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),v("textposition");var x=f.textposition.indexOf("bottom")!==-1;g(u,f,m,v);var E=f._hasColorscale=e(u,"marker","colors")||(u.marker||{}).coloraxis;E?o(u,f,m,v,{prefix:"marker.",cLetter:"c"}):v("marker.depthfade",!(f.marker.colors||[]).length);var S=f.textfont.size*2;v("marker.pad.t",x?S/4:S),v("marker.pad.l",S/4),v("marker.pad.r",S/4),v("marker.pad.b",x?S:S/4),v("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:s.contrast(m.paper_bgcolor)}}},A&&(v("pathbar.thickness",f.pathbar.textfont.size+2*d),v("pathbar.side"),v("pathbar.edgeshape")),v("sort"),v("root.color"),P(f,m,v),f._length=null}},95808:function(W,G,t){var y=t(33428),D=t(78176),s=t(82744),P=s.clearMinTextSize,M=t(60100).resizeText,d=t(52960);W.exports=function(r,e,o,n,u){var f=u.type,c=u.drawDescendants,m=r._fullLayout,v=m["_"+f+"layer"],T,h,i=!o;if(P(f,m),T=v.selectAll("g.trace."+f).data(e,function(w){return w[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(f,!0),T.order(),!m.uniformtext.mode&&D.hasTransition(o)){n&&(h=n());var p=y.transition().duration(o.duration).ease(o.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});p.each(function(){v.selectAll("g.trace").each(function(w){d(r,w,this,o,c)})})}else T.each(function(w){d(r,w,this,o,c)}),m.uniformtext.mode&&M(r,v.selectAll(".trace"),f);i&&T.exit().remove()}},27336:function(W,G,t){var y=t(33428),D=t(3400),s=t(43616),P=t(72736),M=t(13832),d=t(66192).styleOne,g=t(32984),r=t(78176),e=t(45716),o=!0;W.exports=function(u,f,c,m,v){var T=v.barDifY,h=v.width,i=v.height,p=v.viewX,w=v.viewY,A=v.pathSlice,L=v.toMoveInsideSlice,x=v.strTransform,E=v.hasTransition,S=v.handleSlicesExit,a=v.makeUpdateSliceInterpolator,C=v.makeUpdateTextInterpolator,b={},z=u._context.staticPlot,k=u._fullLayout,U=f[0],F=U.trace,V=U.hierarchy,N=h/F._entryDepth,O=r.listPath(c.data,"id"),H=M(V.copy(),[h,i],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();H=H.filter(function(J){var et=O.indexOf(J.data.id);return et===-1?!1:(J.x0=N*et,J.x1=N*(et+1),J.y0=T,J.y1=T+i,J.onPathbar=!0,!0)}),H.reverse(),m=m.data(H,r.getPtId),m.enter().append("g").classed("pathbar",!0),S(m,o,b,[h,i],A),m.order();var X=m;E&&(X=X.transition().each("end",function(){var J=y.select(this);r.setSliceCursor(J,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(J){J._x0=p(J.x0),J._x1=p(J.x1),J._y0=w(J.y0),J._y1=w(J.y1),J._hoverX=p(J.x1-Math.min(h,i)/2),J._hoverY=w(J.y1-i/2);var et=y.select(this),it=D.ensureSingle(et,"path","surface",function(tt){tt.style("pointer-events",z?"none":"all")});E?it.transition().attrTween("d",function(tt){var Z=a(tt,o,b,[h,i]);return function(q){return A(Z(q))}}):it.attr("d",A),et.call(e,c,u,f,{styleOne:d,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:u._transitioning}),it.call(d,J,F,u,{hovered:!1}),J._text=(r.getPtLabel(J)||"").split("<br>").join(" ")||"";var ft=D.ensureSingle(et,"g","slicetext"),ot=D.ensureSingle(ft,"text","",function(tt){tt.attr("data-notex",1)}),Q=D.ensureUniformFontSize(u,r.determineTextFont(F,J,k.font,{onPathbar:!0}));ot.text(J._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(s.font,Q).call(P.convertToTspans,u),J.textBB=s.bBox(ot.node()),J.transform=L(J,{fontSize:Q.size,onPathbar:!0}),J.transform.fontSize=Q.size,E?ot.transition().attrTween("transform",function(tt){var Z=C(tt,o,b,[h,i]);return function(q){return x(Z(q))}}):ot.attr("transform",x(J))})}},76477:function(W,G,t){var y=t(33428),D=t(3400),s=t(43616),P=t(72736),M=t(13832),d=t(66192).styleOne,g=t(32984),r=t(78176),e=t(45716),o=t(96488).formatSliceLabel,n=!1;W.exports=function(f,c,m,v,T){var h=T.width,i=T.height,p=T.viewX,w=T.viewY,A=T.pathSlice,L=T.toMoveInsideSlice,x=T.strTransform,E=T.hasTransition,S=T.handleSlicesExit,a=T.makeUpdateSliceInterpolator,C=T.makeUpdateTextInterpolator,b=T.prevEntry,z={},k=f._context.staticPlot,U=f._fullLayout,F=c[0],V=F.trace,N=V.textposition.indexOf("left")!==-1,O=V.textposition.indexOf("right")!==-1,H=V.textposition.indexOf("bottom")!==-1,X=!H&&!V.marker.pad.t||H&&!V.marker.pad.b,J=M(m,[h,i],{packing:V.tiling.packing,squarifyratio:V.tiling.squarifyratio,flipX:V.tiling.flip.indexOf("x")>-1,flipY:V.tiling.flip.indexOf("y")>-1,pad:{inner:V.tiling.pad,top:V.marker.pad.t,left:V.marker.pad.l,right:V.marker.pad.r,bottom:V.marker.pad.b}}),et=J.descendants(),it=1/0,ft=-1/0;et.forEach(function(q){var ut=q.depth;ut>=V._maxDepth?(q.x0=q.x1=(q.x0+q.x1)/2,q.y0=q.y1=(q.y0+q.y1)/2):(it=Math.min(it,ut),ft=Math.max(ft,ut))}),v=v.data(et,r.getPtId),V._maxVisibleLayers=isFinite(ft)?ft-it+1:0,v.enter().append("g").classed("slice",!0),S(v,n,z,[h,i],A),v.order();var ot=null;if(E&&b){var Q=r.getPtId(b);v.each(function(q){ot===null&&r.getPtId(q)===Q&&(ot={x0:q.x0,x1:q.x1,y0:q.y0,y1:q.y1})})}var tt=function(){return ot||{x0:0,x1:h,y0:0,y1:i}},Z=v;return E&&(Z=Z.transition().each("end",function(){var q=y.select(this);r.setSliceCursor(q,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(q){var ut=r.isHeader(q,V);q._x0=p(q.x0),q._x1=p(q.x1),q._y0=w(q.y0),q._y1=w(q.y1),q._hoverX=p(q.x1-V.marker.pad.r),q._hoverY=w(H?q.y1-V.marker.pad.b/2:q.y0+V.marker.pad.t/2);var $=y.select(this),j=D.ensureSingle($,"path","surface",function(bt){bt.style("pointer-events",k?"none":"all")});E?j.transition().attrTween("d",function(bt){var Pt=a(bt,n,tt(),[h,i]);return function(_t){return A(Pt(_t))}}):j.attr("d",A),$.call(e,m,f,c,{styleOne:d,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),j.call(d,q,V,f,{hovered:!1}),q.x0===q.x1||q.y0===q.y1?q._text="":ut?q._text=X?"":r.getPtLabel(q)||"":q._text=o(q,m,V,c,U)||"";var lt=D.ensureSingle($,"g","slicetext"),nt=D.ensureSingle(lt,"text","",function(bt){bt.attr("data-notex",1)}),ht=D.ensureUniformFontSize(f,r.determineTextFont(V,q,U.font)),mt=q._text||" ",At=ut&&mt.indexOf("<br>")===-1;nt.text(mt).classed("slicetext",!0).attr("text-anchor",O?"end":N||At?"start":"middle").call(s.font,ht).call(P.convertToTspans,f),q.textBB=s.bBox(nt.node()),q.transform=L(q,{fontSize:ht.size,isHeader:ut}),q.transform.fontSize=ht.size,E?nt.transition().attrTween("transform",function(bt){var Pt=C(bt,n,tt(),[h,i]);return function(_t){return x(Pt(_t))}}):nt.attr("transform",x(q))}),ot}},83024:function(W){W.exports=function G(t,y,D){var s;D.swapXY&&(s=t.x0,t.x0=t.y0,t.y0=s,s=t.x1,t.x1=t.y1,t.y1=s),D.flipX&&(s=t.x0,t.x0=y[0]-t.x1,t.x1=y[0]-s),D.flipY&&(s=t.y0,t.y0=y[1]-t.y1,t.y1=y[1]-s);var P=t.children;if(P)for(var M=0;M<P.length;M++)G(P[M],y,D)}},31991:function(W,G,t){W.exports={moduleType:"trace",name:"treemap",basePlotModule:t(79516),categories:[],animatable:!0,attributes:t(40516),layoutAttributes:t(45392),supplyDefaults:t(34092),supplyLayoutDefaults:t(77480),calc:t(97840).r,crossTraceCalc:t(97840).q,plot:t(53264),style:t(66192).style,colorbar:t(5528),meta:{}}},45392:function(W){W.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(W,G,t){var y=t(3400),D=t(45392);W.exports=function(P,M){function d(g,r){return y.coerce(P,M,D,g,r)}d("treemapcolorway",M.colorway),d("extendtreemapcolors")}},13832:function(W,G,t){var y=t(74148),D=t(83024);W.exports=function(M,d,g){var r=g.flipX,e=g.flipY,o=g.packing==="dice-slice",n=g.pad[e?"bottom":"top"],u=g.pad[r?"right":"left"],f=g.pad[r?"left":"right"],c=g.pad[e?"top":"bottom"],m;o&&(m=u,u=n,n=m,m=f,f=c,c=m);var v=y.treemap().tile(s(g.packing,g.squarifyratio)).paddingInner(g.pad.inner).paddingLeft(u).paddingRight(f).paddingTop(n).paddingBottom(c).size(o?[d[1],d[0]]:d)(M);return(o||r||e)&&D(v,d,{swapXY:o,flipX:r,flipY:e}),v};function s(P,M){switch(P){case"squarify":return y.treemapSquarify.ratio(M);case"binary":return y.treemapBinary;case"dice":return y.treemapDice;case"slice":return y.treemapSlice;default:return y.treemapSliceDice}}},53264:function(W,G,t){var y=t(95808),D=t(76477);W.exports=function(P,M,d,g){return y(P,M,d,g,{type:"treemap",drawDescendants:D})}},52960:function(W,G,t){var y=t(33428),D=t(67756).qy,s=t(78176),P=t(3400),M=t(78048).TEXTPAD,d=t(98184),g=d.toMoveInsideBar,r=t(82744),e=r.recordMinTextSize,o=t(32984),n=t(27336);function u(f){return s.isHierarchyRoot(f)?"":s.getPtId(f)}W.exports=function(c,m,v,T,h){var i=c._fullLayout,p=m[0],w=p.trace,A=w.type,L=A==="icicle",x=p.hierarchy,E=s.findEntryWithLevel(x,w.level),S=y.select(v),a=S.selectAll("g.pathbar"),C=S.selectAll("g.slice");if(!E){a.remove(),C.remove();return}var b=s.isHierarchyRoot(E),z=!i.uniformtext.mode&&s.hasTransition(T),k=s.getMaxDepth(w),U=function(kt){return kt.data.depth-E.data.depth<k},F=i._size,V=w.domain,N=F.w*(V.x[1]-V.x[0]),O=F.h*(V.y[1]-V.y[0]),H=N,X=w.pathbar.thickness,J=w.marker.line.width+o.gapWithPathbar,et=w.pathbar.visible?w.pathbar.side.indexOf("bottom")>-1?O+J:-(X+J):0,it={x0:H,x1:H,y0:et,y1:et+X},ft=function(kt,Gt,Yt){var Zt=w.tiling.pad,It=function(dt){return dt-Zt<=Gt.x0},Nt=function(dt){return dt+Zt>=Gt.x1},Ht=function(dt){return dt-Zt<=Gt.y0},Lt=function(dt){return dt+Zt>=Gt.y1};return kt.x0===Gt.x0&&kt.x1===Gt.x1&&kt.y0===Gt.y0&&kt.y1===Gt.y1?{x0:kt.x0,x1:kt.x1,y0:kt.y0,y1:kt.y1}:{x0:It(kt.x0-Zt)?0:Nt(kt.x0-Zt)?Yt[0]:kt.x0,x1:It(kt.x1+Zt)?0:Nt(kt.x1+Zt)?Yt[0]:kt.x1,y0:Ht(kt.y0-Zt)?0:Lt(kt.y0-Zt)?Yt[1]:kt.y0,y1:Ht(kt.y1+Zt)?0:Lt(kt.y1+Zt)?Yt[1]:kt.y1}},ot=null,Q={},tt={},Z=null,q=function(kt,Gt){return Gt?Q[u(kt)]:tt[u(kt)]},ut=function(kt,Gt,Yt,Zt){if(Gt)return Q[u(x)]||it;var It=tt[w.level]||Yt;return U(kt)?ft(kt,It,Zt):{}};p.hasMultipleRoots&&b&&k++,w._maxDepth=k,w._backgroundColor=i.paper_bgcolor,w._entryDepth=E.data.depth,w._atRootLevel=b;var $=-N/2+F.l+F.w*(V.x[1]+V.x[0])/2,j=-O/2+F.t+F.h*(1-(V.y[1]+V.y[0])/2),lt=function(kt){return $+kt},nt=function(kt){return j+kt},ht=nt(0),mt=lt(0),At=function(kt){return mt+kt},bt=function(kt){return ht+kt};function Pt(kt,Gt){return kt+","+Gt}var _t=At(0),Ut=function(kt){kt.x=Math.max(_t,kt.x)},St=w.pathbar.edgeshape,Rt=function(kt){var Gt=At(Math.max(Math.min(kt.x0,kt.x0),0)),Yt=At(Math.min(Math.max(kt.x1,kt.x1),H)),Zt=bt(kt.y0),It=bt(kt.y1),Nt=X/2,Ht={},Lt={};Ht.x=Gt,Lt.x=Yt,Ht.y=Lt.y=(Zt+It)/2;var dt={x:Gt,y:Zt},xt={x:Yt,y:Zt},Ot={x:Yt,y:It},jt={x:Gt,y:It};return St===">"?(dt.x-=Nt,xt.x-=Nt,Ot.x-=Nt,jt.x-=Nt):St==="/"?(Ot.x-=Nt,jt.x-=Nt,Ht.x-=Nt/2,Lt.x-=Nt/2):St==="\\"?(dt.x-=Nt,xt.x-=Nt,Ht.x-=Nt/2,Lt.x-=Nt/2):St==="<"&&(Ht.x-=Nt,Lt.x-=Nt),Ut(dt),Ut(jt),Ut(Ht),Ut(xt),Ut(Ot),Ut(Lt),"M"+Pt(dt.x,dt.y)+"L"+Pt(xt.x,xt.y)+"L"+Pt(Lt.x,Lt.y)+"L"+Pt(Ot.x,Ot.y)+"L"+Pt(jt.x,jt.y)+"L"+Pt(Ht.x,Ht.y)+"Z"},Et=w[L?"tiling":"marker"].pad,zt=function(kt){return w.textposition.indexOf(kt)!==-1},Ct=zt("top"),Wt=zt("left"),Kt=zt("right"),oe=zt("bottom"),Jt=function(kt){var Gt=lt(kt.x0),Yt=lt(kt.x1),Zt=nt(kt.y0),It=nt(kt.y1),Nt=Yt-Gt,Ht=It-Zt;if(!Nt||!Ht)return"";var Lt=w.marker.cornerradius||0,dt=Math.min(Lt,Nt/2,Ht/2);dt&&kt.data&&kt.data.data&&kt.data.data.label&&(Ct&&(dt=Math.min(dt,Et.t)),Wt&&(dt=Math.min(dt,Et.l)),Kt&&(dt=Math.min(dt,Et.r)),oe&&(dt=Math.min(dt,Et.b)));var xt=function(Ot,jt){return dt?"a"+Pt(dt,dt)+" 0 0 1 "+Pt(Ot,jt):""};return"M"+Pt(Gt,Zt+dt)+xt(dt,-dt)+"L"+Pt(Yt-dt,Zt)+xt(dt,dt)+"L"+Pt(Yt,It-dt)+xt(-dt,dt)+"L"+Pt(Gt+dt,It)+xt(-dt,-dt)+"Z"},te=function(kt,Gt){var Yt=kt.x0,Zt=kt.x1,It=kt.y0,Nt=kt.y1,Ht=kt.textBB,Lt=Ct||Gt.isHeader&&!oe,dt=Lt?"start":oe?"end":"middle",xt=zt("right"),Ot=zt("left")||Gt.onPathbar,jt=Ot?-1:xt?1:0;if(Gt.isHeader){if(Yt+=(L?Et:Et.l)-M,Zt-=(L?Et:Et.r)-M,Yt>=Zt){var ie=(Yt+Zt)/2;Yt=ie,Zt=ie}var le;oe?(le=Nt-(L?Et:Et.b),It<le&&le<Nt&&(It=le)):(le=It+(L?Et:Et.t),It<le&&le<Nt&&(Nt=le))}var Ve=g(Yt,Zt,It,Nt,Ht,{isHorizontal:!1,constrained:!0,angle:0,anchor:dt,leftToRight:jt});return Ve.fontSize=Gt.fontSize,Ve.targetX=lt(Ve.targetX),Ve.targetY=nt(Ve.targetY),isNaN(Ve.targetX)||isNaN(Ve.targetY)?{}:(Yt!==Zt&&It!==Nt&&e(w.type,Ve,i),{scale:Ve.scale,rotate:Ve.rotate,textX:Ve.textX,textY:Ve.textY,anchorX:Ve.anchorX,anchorY:Ve.anchorY,targetX:Ve.targetX,targetY:Ve.targetY})},fe=function(kt,Gt){for(var Yt,Zt=0,It=kt;!Yt&&Zt<k;)Zt++,It=It.parent,It?Yt=q(It,Gt):Zt=k;return Yt||{}},ve=function(kt,Gt,Yt,Zt){var It=q(kt,Gt),Nt;if(Gt)Nt=it;else{var Ht=q(E,Gt);Ht?Nt=ft(kt,Ht,Zt):Nt={}}return D(It,Nt)},de=function(kt,Gt,Yt,Zt,It){var Nt=q(kt,Gt),Ht;if(Nt)Ht=Nt;else if(Gt)Ht=it;else if(ot)if(kt.parent){var Lt=Z||Yt;Lt&&!Gt?Ht=ft(kt,Lt,Zt):(Ht={},P.extendFlat(Ht,fe(kt,Gt)))}else Ht=P.extendFlat({},kt),L&&(It.orientation==="h"?It.flipX?Ht.x0=kt.x1:Ht.x1=0:It.flipY?Ht.y0=kt.y1:Ht.y1=0);else Ht={};return D(Ht,{x0:kt.x0,x1:kt.x1,y0:kt.y0,y1:kt.y1})},xe=function(kt,Gt,Yt,Zt){var It=q(kt,Gt),Nt={},Ht=ut(kt,Gt,Yt,Zt);P.extendFlat(Nt,{transform:te({x0:Ht.x0,x1:Ht.x1,y0:Ht.y0,y1:Ht.y1,textBB:kt.textBB,_text:kt._text},{isHeader:s.isHeader(kt,w)})}),It?Nt=It:kt.parent&&P.extendFlat(Nt,fe(kt,Gt));var Lt=kt.transform;return kt.x0!==kt.x1&&kt.y0!==kt.y1&&e(w.type,Lt,i),D(Nt,{transform:{scale:Lt.scale,rotate:Lt.rotate,textX:Lt.textX,textY:Lt.textY,anchorX:Lt.anchorX,anchorY:Lt.anchorY,targetX:Lt.targetX,targetY:Lt.targetY}})},Me=function(kt,Gt,Yt,Zt,It){var Nt=Zt[0],Ht=Zt[1];z?kt.exit().transition().each(function(){var Lt=y.select(this),dt=Lt.select("path.surface");dt.transition().attrTween("d",function(Ot){var jt=ve(Ot,Gt,Yt,[Nt,Ht]);return function(ie){return It(jt(ie))}});var xt=Lt.select("g.slicetext");xt.attr("opacity",0)}).remove():kt.exit().remove()},ne=function(kt){var Gt=kt.transform;return kt.x0!==kt.x1&&kt.y0!==kt.y1&&e(w.type,Gt,i),P.getTextTransform({textX:Gt.textX,textY:Gt.textY,anchorX:Gt.anchorX,anchorY:Gt.anchorY,targetX:Gt.targetX,targetY:Gt.targetY,scale:Gt.scale,rotate:Gt.rotate})};z&&(a.each(function(kt){Q[u(kt)]={x0:kt.x0,x1:kt.x1,y0:kt.y0,y1:kt.y1},kt.transform&&(Q[u(kt)].transform={textX:kt.transform.textX,textY:kt.transform.textY,anchorX:kt.transform.anchorX,anchorY:kt.transform.anchorY,targetX:kt.transform.targetX,targetY:kt.transform.targetY,scale:kt.transform.scale,rotate:kt.transform.rotate})}),C.each(function(kt){tt[u(kt)]={x0:kt.x0,x1:kt.x1,y0:kt.y0,y1:kt.y1},kt.transform&&(tt[u(kt)].transform={textX:kt.transform.textX,textY:kt.transform.textY,anchorX:kt.transform.anchorX,anchorY:kt.transform.anchorY,targetX:kt.transform.targetX,targetY:kt.transform.targetY,scale:kt.transform.scale,rotate:kt.transform.rotate}),!ot&&s.isEntry(kt)&&(ot=kt)})),Z=h(c,m,E,C,{width:N,height:O,viewX:lt,viewY:nt,pathSlice:Jt,toMoveInsideSlice:te,prevEntry:ot,makeUpdateSliceInterpolator:de,makeUpdateTextInterpolator:xe,handleSlicesExit:Me,hasTransition:z,strTransform:ne}),w.pathbar.visible?n(c,m,E,a,{barDifY:et,width:H,height:X,viewX:At,viewY:bt,pathSlice:Rt,toMoveInsideSlice:te,makeUpdateSliceInterpolator:de,makeUpdateTextInterpolator:xe,handleSlicesExit:Me,hasTransition:z,strTransform:ne}):a.remove()}},66192:function(W,G,t){var y=t(33428),D=t(76308),s=t(3400),P=t(78176),M=t(82744).resizeText,d=t(60404);function g(e){var o=e._fullLayout._treemaplayer.selectAll(".trace");M(e,o,"treemap"),o.each(function(n){var u=y.select(this),f=n[0],c=f.trace;u.style("opacity",c.opacity),u.selectAll("path.surface").each(function(m){y.select(this).call(r,m,c,e,{hovered:!1})})})}function r(e,o,n,u,f){var c=(f||{}).hovered,m=o.data.data,v=m.i,T,h,i=m.color,p=P.isHierarchyRoot(o),w=1;if(c)T=n._hovered.marker.line.color,h=n._hovered.marker.line.width;else if(p&&i===n.root.color)w=100,T="rgba(0,0,0,0)",h=0;else if(T=s.castOption(n,v,"marker.line.color")||D.defaultLine,h=s.castOption(n,v,"marker.line.width")||0,!n._hasColorscale&&!o.onPathbar){var A=n.marker.depthfade;if(A){var L=D.combine(D.addOpacity(n._backgroundColor,.75),i),x;if(A===!0){var E=P.getMaxDepth(n);isFinite(E)?P.isLeaf(o)?x=0:x=n._maxVisibleLayers-(o.data.depth-n._entryDepth):x=o.data.height+1}else x=o.data.depth-n._entryDepth,n._atRootLevel||x++;if(x>0)for(var S=0;S<x;S++){var a=.5*S/x;i=D.combine(D.addOpacity(L,a),i)}}}e.call(d,o,n,u,i).style("stroke-width",h).call(D.stroke,T).style("opacity",w)}W.exports={style:g,styleOne:r}},13988:function(W,G,t){var y=t(63188),D=t(92880).extendFlat,s=t(29736).axisHoverFormat;W.exports={y:y.y,x:y.x,x0:y.x0,y0:y.y0,xhoverformat:s("x"),yhoverformat:s("y"),name:D({},y.name,{}),orientation:D({},y.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:y.fillcolor,points:D({},y.boxpoints,{}),jitter:D({},y.jitter,{}),pointpos:D({},y.pointpos,{}),width:D({},y.width,{}),marker:y.marker,text:y.text,hovertext:y.hovertext,hovertemplate:y.hovertemplate,quartilemethod:y.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:y.selected,unselected:y.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:y.zorder}},67064:function(W,G,t){var y=t(3400),D=t(54460),s=t(62555),P=t(63800),M=t(39032).BADNUM;W.exports=function(o,n){var u=s(o,n);if(u[0].t.empty)return u;for(var f=o._fullLayout,c=D.getFromId(o,n[n.orientation==="h"?"xaxis":"yaxis"]),m=1/0,v=-1/0,T=0,h=0,i=0;i<u.length;i++){var p=u[i],w=p.pts.map(P.extractVal),A=p.bandwidth=g(n,p,w),L=p.span=r(n,p,c,A);if(p.min===p.max&&A===0)L=p.span=[p.min,p.max],p.density=[{v:1,t:L[0]}],p.bandwidth=A,T=Math.max(T,1);else{var x=L[1]-L[0],E=Math.ceil(x/(A/3)),S=x/E;if(!isFinite(S)||!isFinite(E))return y.error("Something went wrong with computing the violin span"),u[0].t.empty=!0,u;var a=P.makeKDE(p,n,w);p.density=new Array(E);for(var C=0,b=L[0];b<L[1]+S/2;C++,b+=S){var z=a(b);p.density[C]={v:z,t:b},T=Math.max(T,z)}}h=Math.max(h,w.length),m=Math.min(m,L[0]),v=Math.max(v,L[1])}var k=D.findExtremes(c,[m,v],{padded:!0});if(n._extremes[c._id]=k,n.width)u[0].t.maxKDE=T;else{var U=f._violinScaleGroupStats,F=n.scalegroup,V=U[F];V?(V.maxKDE=Math.max(V.maxKDE,T),V.maxCount=Math.max(V.maxCount,h)):U[F]={maxKDE:T,maxCount:h}}return u[0].t.labels.kde=y._(o,"kde:"),u};function d(e,o,n){var u=Math.min(o,n/1.349);return 1.059*u*Math.pow(e,-.2)}function g(e,o,n){var u=o.max-o.min;if(!u)return e.bandwidth?e.bandwidth:0;if(e.bandwidth)return Math.max(e.bandwidth,u/1e4);var f=n.length,c=y.stdev(n,f-1,o.mean);return Math.max(d(f,c,o.q3-o.q1),u/100)}function r(e,o,n,u){var f=e.spanmode,c=e.span||[],m=[o.min,o.max],v=[o.min-2*u,o.max+2*u],T;function h(p){var w=c[p],A=n.type==="multicategory"?n.r2c(w):n.d2c(w,0,e[o.valLetter+"calendar"]);return A===M?v[p]:A}f==="soft"?T=v:f==="hard"?T=m:T=[h(0),h(1)];var i={type:"linear",range:T};return D.setConvert(i),i.cleanRange(),T}},14348:function(W,G,t){var y=t(96404).setPositionOffset,D=["v","h"];W.exports=function(P,M){for(var d=P.calcdata,g=M.xaxis,r=M.yaxis,e=0;e<D.length;e++){for(var o=D[e],n=o==="h"?r:g,u=[],f=0;f<d.length;f++){var c=d[f],m=c[0].t,v=c[0].trace;v.visible===!0&&v.type==="violin"&&!m.empty&&v.orientation===o&&v.xaxis===g._id&&v.yaxis===r._id&&u.push(f)}y("violin",P,u,n)}}},36240:function(W,G,t){var y=t(3400),D=t(76308),s=t(90624),P=t(13988);W.exports=function(d,g,r,e){function o(S,a){return y.coerce(d,g,P,S,a)}function n(S,a){return y.coerce2(d,g,P,S,a)}if(s.handleSampleDefaults(d,g,o,e),g.visible!==!1){o("bandwidth"),o("side");var u=o("width");u||(o("scalegroup",g.name),o("scalemode"));var f=o("span"),c;Array.isArray(f)&&(c="manual"),o("spanmode",c);var m=o("line.color",(d.marker||{}).color||r),v=o("line.width"),T=o("fillcolor",D.addOpacity(g.line.color,.5));s.handlePointsDefaults(d,g,o,{prefix:""});var h=n("box.width"),i=n("box.fillcolor",T),p=n("box.line.color",m),w=n("box.line.width",v),A=o("box.visible",!!(h||i||p||w));A||(g.box={visible:!1});var L=n("meanline.color",m),x=n("meanline.width",v),E=o("meanline.visible",!!(L||x));E||(g.meanline={visible:!1}),o("quartilemethod"),o("zorder")}}},63800:function(W,G,t){var y=t(3400),D={gaussian:function(s){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*s*s)}};G.makeKDE=function(s,P,M){var d=M.length,g=D.gaussian,r=s.bandwidth,e=1/(d*r);return function(o){for(var n=0,u=0;u<d;u++)n+=g((o-M[u])/r);return e*n}},G.getPositionOnKdePath=function(s,P,M){var d,g;P.orientation==="h"?(d="y",g="x"):(d="x",g="y");var r=y.findPointOnPath(s.path,M,g,{pathLength:s.pathLength}),e=s.posCenterPx,o=r[d],n=P.side==="both"?2*e-o:e;return[o,n]},G.getKdeValue=function(s,P,M){var d=s.pts.map(G.extractVal),g=G.makeKDE(s,P,d);return g(M)/s.posDensityScale},G.extractVal=function(s){return s.v}},78e3:function(W,G,t){var y=t(76308),D=t(3400),s=t(54460),P=t(27576),M=t(63800);W.exports=function(g,r,e,o,n){n||(n={});var u=n.hoverLayer,f=g.cd,c=f[0].trace,m=c.hoveron,v=m.indexOf("violins")!==-1,T=m.indexOf("kde")!==-1,h=[],i,p;if(v||T){var w=P.hoverOnBoxes(g,r,e,o);if(T&&w.length>0){var A=g.xa,L=g.ya,x,E,S,a,C;c.orientation==="h"?(C=r,x="y",S=L,E="x",a=A):(C=e,x="x",S=A,E="y",a=L);var b=f[g.index];if(C>=b.span[0]&&C<=b.span[1]){var z=D.extendFlat({},g),k=a.c2p(C,!0),U=M.getKdeValue(b,c,C),F=M.getPositionOnKdePath(b,c,k),V=S._offset,N=S._length;z[x+"0"]=F[0],z[x+"1"]=F[1],z[E+"0"]=z[E+"1"]=k,z[E+"Label"]=E+": "+s.hoverLabelText(a,C,c[E+"hoverformat"])+", "+f[0].t.labels.kde+" "+U.toFixed(3);for(var O=0,H=0;H<w.length;H++)if(w[H].attr==="med"){O=H;break}z.spikeDistance=w[O].spikeDistance;var X=x+"Spike";z[X]=w[O][X],w[O].spikeDistance=void 0,w[O][X]=void 0,z.hovertemplate=!1,h.push(z),p={},p[x+"1"]=D.constrain(V+F[0],V,V+N),p[x+"2"]=D.constrain(V+F[1],V,V+N),p[E+"1"]=p[E+"2"]=a._offset+k}}v&&(h=h.concat(w))}m.indexOf("points")!==-1&&(i=P.hoverOnPoints(g,r,e));var J=u.selectAll(".violinline-"+c.uid).data(p?[0]:[]);return J.enter().append("line").classed("violinline-"+c.uid,!0).attr("stroke-width",1.5),J.exit().remove(),J.attr(p).call(y.stroke,g.color),o==="closest"?i?[i]:h:(i&&h.push(i),h)}},22869:function(W,G,t){W.exports={attributes:t(13988),layoutAttributes:t(98228),supplyDefaults:t(36240),crossTraceDefaults:t(90624).crossTraceDefaults,supplyLayoutDefaults:t(8939),calc:t(67064),crossTraceCalc:t(14348),plot:t(5140),style:t(95908),styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(78e3),selectPoints:t(8264),moduleType:"trace",name:"violin",basePlotModule:t(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(W,G,t){var y=t(16560),D=t(3400).extendFlat;W.exports={violinmode:D({},y.boxmode,{}),violingap:D({},y.boxgap,{}),violingroupgap:D({},y.boxgroupgap,{})}},8939:function(W,G,t){var y=t(3400),D=t(98228),s=t(68832);W.exports=function(M,d,g){function r(e,o){return y.coerce(M,d,D,e,o)}s._supply(M,d,g,r,"violin")}},5140:function(W,G,t){var y=t(33428),D=t(3400),s=t(43616),P=t(18728),M=t(52340),d=t(63800);W.exports=function(r,e,o,n){var u=r._context.staticPlot,f=r._fullLayout,c=e.xaxis,m=e.yaxis;function v(T,h){var i=M(T,{xaxis:c,yaxis:m,trace:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return s.smoothopen(i[0],1)}D.makeTraceGroups(n,o,"trace violins").each(function(T){var h=y.select(this),i=T[0],p=i.t,w=i.trace;if(w.visible!==!0||p.empty){h.remove();return}var A=p.bPos,L=p.bdPos,x=e[p.valLetter+"axis"],E=e[p.posLetter+"axis"],S=w.side==="both",a=S||w.side==="positive",C=S||w.side==="negative",b=h.selectAll("path.violin").data(D.identity);b.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","violin"),b.exit().remove(),b.each(function(H){var X=y.select(this),J=H.density,et=J.length,it=E.c2l(H.pos+A,!0),ft=E.l2p(it),ot;if(w.width)ot=p.maxKDE/L;else{var Q=f._violinScaleGroupStats[w.scalegroup];ot=w.scalemode==="count"?Q.maxKDE/L*(Q.maxCount/H.pts.length):Q.maxKDE/L}var tt,Z,q,ut,$,j,lt;if(a){for(j=new Array(et),ut=0;ut<et;ut++)lt=j[ut]={},lt[p.posLetter]=it+J[ut].v/ot,lt[p.valLetter]=x.c2l(J[ut].t,!0);tt=v(j,w)}if(C){for(j=new Array(et),$=0,ut=et-1;$<et;$++,ut--)lt=j[$]={},lt[p.posLetter]=it-J[ut].v/ot,lt[p.valLetter]=x.c2l(J[ut].t,!0);Z=v(j,w)}if(S)q=tt+"L"+Z.substr(1)+"Z";else{var nt=[ft,x.c2p(J[0].t)],ht=[ft,x.c2p(J[et-1].t)];w.orientation==="h"&&(nt.reverse(),ht.reverse()),a?q="M"+nt+"L"+tt.substr(1)+"L"+ht:q="M"+ht+"L"+Z.substr(1)+"L"+nt}X.attr("d",q),H.posCenterPx=ft,H.posDensityScale=ot*L,H.path=X.node(),H.pathLength=H.path.getTotalLength()/(S?2:1)});var z=w.box,k=z.width,U=(z.line||{}).width,F,V;S?(F=L*k,V=0):a?(F=[0,L*k/2],V=U*{x:1,y:-1}[p.posLetter]):(F=[L*k/2,0],V=U*{x:-1,y:1}[p.posLetter]),P.plotBoxAndWhiskers(h,{pos:E,val:x},w,{bPos:A,bdPos:F,bPosPxOffset:V}),P.plotBoxMean(h,{pos:E,val:x},w,{bPos:A,bdPos:F,bPosPxOffset:V});var N;!w.box.visible&&w.meanline.visible&&(N=D.identity);var O=h.selectAll("path.meanline").data(N||[]);O.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",u?"none":"non-scaling-stroke"),O.exit().remove(),O.each(function(H){var X=x.c2p(H.mean,!0),J=d.getPositionOnKdePath(H,w,X);y.select(this).attr("d",w.orientation==="h"?"M"+X+","+J[0]+"V"+J[1]:"M"+J[0]+","+X+"H"+J[1])}),P.plotPoints(h,{x:c,y:m},w,p)})}},95908:function(W,G,t){var y=t(33428),D=t(76308),s=t(49224).stylePoints;W.exports=function(M){var d=y.select(M).selectAll("g.trace.violins");d.style("opacity",function(g){return g[0].trace.opacity}),d.each(function(g){var r=g[0].trace,e=y.select(this),o=r.box||{},n=o.line||{},u=r.meanline||{},f=u.width;e.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(D.stroke,r.line.color).call(D.fill,r.fillcolor),e.selectAll("path.box").style("stroke-width",n.width+"px").call(D.stroke,n.color).call(D.fill,o.fillcolor);var c={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};e.selectAll("path.mean").style(c).call(D.stroke,u.color),e.selectAll("path.meanline").style(c).call(D.stroke,u.color),s(e,r,M)})}},58168:function(W,G,t){var y=t(49084),D=t(50048),s=t(16716),P=t(45464),M=t(92880).extendFlat,d=t(67824).overrideAll,g=W.exports=d(M({x:D.x,y:D.y,z:D.z,value:D.value,isomin:D.isomin,isomax:D.isomax,surface:D.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:D.slices,caps:D.caps,text:D.text,hovertext:D.hovertext,xhoverformat:D.xhoverformat,yhoverformat:D.yhoverformat,zhoverformat:D.zhoverformat,valuehoverformat:D.valuehoverformat,hovertemplate:D.hovertemplate},y("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:D.colorbar,opacity:D.opacity,opacityscale:s.opacityscale,lightposition:D.lightposition,lighting:D.lighting,flatshading:D.flatshading,contour:D.contour,hoverinfo:M({},P.hoverinfo),showlegend:M({},P.showlegend,{dflt:!1})}),"calc","nested");g.x.editType=g.y.editType=g.z.editType=g.value.editType="calc+clearAxisTypes",g.transforms=void 0},91976:function(W,G,t){var y=t(67792).gl_mesh3d,D=t(33040).parseColorScale,s=t(3400).isArrayOrTypedArray,P=t(43080),M=t(8932).extractOpts,d=t(52094),g=t(31460).findNearestOnAxis,r=t(31460).generateIsoMeshes;function e(u,f,c){this.scene=u,this.uid=c,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var o=e.prototype;o.handlePick=function(u){if(u.object===this.mesh){var f=u.data.index,c=this.data._meshX[f],m=this.data._meshY[f],v=this.data._meshZ[f],T=this.data._Ys.length,h=this.data._Zs.length,i=g(c,this.data._Xs).id,p=g(m,this.data._Ys).id,w=g(v,this.data._Zs).id,A=u.index=w+h*p+h*T*i;u.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var L=this.data.hovertext||this.data.text;return s(L)&&L[A]!==void 0?u.textLabel=L[A]:L&&(u.textLabel=L),!0}},o.update=function(u){var f=this.scene,c=f.fullSceneLayout;this.data=r(u);function m(p,w,A,L){return w.map(function(x){return p.d2l(x,0,L)*A})}var v=d(m(c.xaxis,u._meshX,f.dataScale[0],u.xcalendar),m(c.yaxis,u._meshY,f.dataScale[1],u.ycalendar),m(c.zaxis,u._meshZ,f.dataScale[2],u.zcalendar)),T=d(u._meshI,u._meshJ,u._meshK),h={positions:v,cells:T,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,opacityscale:u.opacityscale,contourEnable:u.contour.show,contourColor:P(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},i=M(u);h.vertexIntensity=u._meshIntensity,h.vertexIntensityBounds=[i.min,i.max],h.colormap=D(u),this.mesh.update(h)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(u,f){var c=u.glplot.gl,m=y({gl:c}),v=new e(u,m,f.uid);return m._trace=v,v.update(f),u.glplot.add(m),v}W.exports=n},12448:function(W,G,t){var y=t(3400),D=t(58168),s=t(70548).supplyIsoDefaults,P=t(60192).opacityscaleDefaults;W.exports=function(d,g,r,e){function o(n,u){return y.coerce(d,g,D,n,u)}s(d,g,r,e,o),P(d,g,e,o)}},67776:function(W,G,t){W.exports={attributes:t(58168),supplyDefaults:t(12448),calc:t(62624),colorbar:{min:"cmin",max:"cmax"},plot:t(91976),moduleType:"trace",name:"volume",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(W,G,t){var y=t(20832),D=t(52904).line,s=t(45464),P=t(29736).axisHoverFormat,M=t(21776).Ks,d=t(21776).Gw,g=t(10213),r=t(92880).extendFlat,e=t(76308);function o(n){return{marker:{color:r({},y.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},y.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},y.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}W.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),hovertext:y.hovertext,hovertemplate:M({},{keys:g.eventDataKeys}),hoverinfo:r({},s.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:d({editType:"plot"},{keys:g.eventDataKeys.concat(["label"])}),text:y.text,textposition:y.textposition,insidetextanchor:y.insidetextanchor,textangle:y.textangle,textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:y.orientation,offset:y.offset,width:y.width,increasing:o(),decreasing:o(),totals:o(),connector:{line:{color:r({},D.color,{dflt:e.defaultLine}),width:r({},D.width,{editType:"plot"}),dash:D.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,zorder:y.zorder}},73540:function(W,G,t){var y=t(54460),D=t(1220),s=t(3400).mergeArray,P=t(4500),M=t(39032).BADNUM;function d(r){return r==="a"||r==="absolute"}function g(r){return r==="t"||r==="total"}W.exports=function(e,o){var n=y.getFromId(e,o.xaxis||"x"),u=y.getFromId(e,o.yaxis||"y"),f,c,m,v,T,h;o.orientation==="h"?(f=n.makeCalcdata(o,"x"),m=u.makeCalcdata(o,"y"),v=D(o,u,"y",m),T=!!o.yperiodalignment,h="y"):(f=u.makeCalcdata(o,"y"),m=n.makeCalcdata(o,"x"),v=D(o,n,"x",m),T=!!o.xperiodalignment,h="x"),c=v.vals;for(var i=Math.min(c.length,f.length),p=new Array(i),w=0,A,L=!1,x=0;x<i;x++){var E=f[x]||0,S=!1;(f[x]!==M||g(o.measure[x])||d(o.measure[x]))&&x+1<i&&(f[x+1]!==M||g(o.measure[x+1])||d(o.measure[x+1]))&&(S=!0);var a=p[x]={i:x,p:c[x],s:E,rawS:E,cNext:S};d(o.measure[x])?(w=a.s,a.isSum=!0,a.dir="totals",a.s=w):g(o.measure[x])?(a.isSum=!0,a.dir="totals",a.s=w):(a.isSum=!1,a.dir=a.rawS<0?"decreasing":"increasing",A=a.s,a.s=w+A,w+=A),a.dir==="totals"&&(L=!0),T&&(p[x].orig_p=m[x],p[x][h+"End"]=v.ends[x],p[x][h+"Start"]=v.starts[x]),o.ids&&(a.id=String(o.ids[x])),a.v=(o.base||0)+w}return p.length&&(p[0].hasTotals=L),s(o.text,p,"tx"),s(o.hovertext,p,"htx"),P(p,o),p}},10213:function(W){W.exports={eventDataKeys:["initial","delta","final"]}},50152:function(W,G,t){var y=t(96376).setGroupPositions;W.exports=function(s,P){var M=s._fullLayout,d=s._fullData,g=s.calcdata,r=P.xaxis,e=P.yaxis,o=[],n=[],u=[],f,c;for(c=0;c<d.length;c++){var m=d[c];m.visible===!0&&m.xaxis===r._id&&m.yaxis===e._id&&m.type==="waterfall"&&(f=g[c],m.orientation==="h"?u.push(f):n.push(f),o.push(f))}var v={mode:M.waterfallmode,norm:M.waterfallnorm,gap:M.waterfallgap,groupgap:M.waterfallgroupgap};for(y(s,r,e,n,v),y(s,e,r,u,v),c=0;c<o.length;c++){f=o[c];for(var T=0;T<f.length;T++){var h=f[T];h.isSum===!1&&(h.s0+=T===0?0:f[T-1].s),T+1<f.length&&(f[T].nextP0=f[T+1].p0,f[T].nextS0=f[T+1].s0)}}}},24224:function(W,G,t){var y=t(3400),D=t(20011),s=t(31508).handleText,P=t(43980),M=t(31147),d=t(65776),g=t(76308),r=t(48164),e=r.INCREASING.COLOR,o=r.DECREASING.COLOR,n="#4499FF";function u(m,v,T){m(v+".marker.color",T),m(v+".marker.line.color",g.defaultLine),m(v+".marker.line.width")}function f(m,v,T,h){function i(x,E){return y.coerce(m,v,d,x,E)}var p=P(m,v,h,i);if(!p){v.visible=!1;return}M(m,v,h,i),i("xhoverformat"),i("yhoverformat"),i("measure"),i("orientation",v.x&&!v.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var w=i("textposition");s(m,v,h,i,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v.textposition!=="none"&&(i("texttemplate"),v.texttemplate||i("textinfo")),u(i,"increasing",e),u(i,"decreasing",o),u(i,"totals",n);var A=i("connector.visible");if(A){i("connector.mode");var L=i("connector.line.width");L&&(i("connector.line.color"),i("connector.line.dash"))}i("zorder")}function c(m,v){var T,h;function i(w){return y.coerce(h._input,h,d,w)}if(v.waterfallmode==="group")for(var p=0;p<m.length;p++)h=m[p],T=h._input,D(T,h,v,i)}W.exports={supplyDefaults:f,crossTraceDefaults:c}},53256:function(W){W.exports=function(t,y){return t.x="xVal"in y?y.xVal:y.x,t.y="yVal"in y?y.yVal:y.y,"initial"in y&&(t.initial=y.initial),"delta"in y&&(t.delta=y.delta),"final"in y&&(t.final=y.final),y.xa&&(t.xaxis=y.xa),y.ya&&(t.yaxis=y.ya),t}},94196:function(W,G,t){var y=t(54460).hoverLabelText,D=t(76308).opacity,s=t(63400).hoverOnBars,P=t(48164),M={increasing:P.INCREASING.SYMBOL,decreasing:P.DECREASING.SYMBOL};W.exports=function(r,e,o,n,u){var f=s(r,e,o,n,u);if(!f)return;var c=f.cd,m=c[0].trace,v=m.orientation==="h",T=v?"x":"y",h=v?r.xa:r.ya;function i(b){return y(h,b,m[T+"hoverformat"])}var p=f.index,w=c[p],A=w.isSum?w.b+w.s:w.rawS;f.initial=w.b+w.s-A,f.delta=A,f.final=f.initial+f.delta;var L=i(Math.abs(f.delta));f.deltaLabel=A<0?"("+L+")":L,f.finalLabel=i(f.final),f.initialLabel=i(f.initial);var x=w.hi||m.hoverinfo,E=[];if(x&&x!=="none"&&x!=="skip"){var S=x==="all",a=x.split("+"),C=function(b){return S||a.indexOf(b)!==-1};w.isSum||(C("final")&&(v?!C("x"):!C("y"))&&E.push(f.finalLabel),C("delta")&&(A<0?E.push(f.deltaLabel+" "+M.decreasing):E.push(f.deltaLabel+" "+M.increasing)),C("initial")&&E.push("Initial: "+f.initialLabel))}return E.length&&(f.extraText=E.join("<br>")),f.color=d(m,w),[f]};function d(g,r){var e=g[r.dir].marker,o=e.color,n=e.line.color,u=e.line.width;if(D(o))return o;if(D(n)&&u)return n}},95952:function(W,G,t){W.exports={attributes:t(65776),layoutAttributes:t(91352),supplyDefaults:t(24224).supplyDefaults,crossTraceDefaults:t(24224).crossTraceDefaults,supplyLayoutDefaults:t(59464),calc:t(73540),crossTraceCalc:t(50152),plot:t(64488),style:t(12252).style,hoverPoints:t(94196),eventData:t(53256),selectPoints:t(45784),moduleType:"trace",name:"waterfall",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(W){W.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(W,G,t){var y=t(3400),D=t(91352);W.exports=function(s,P,M){var d=!1;function g(o,n){return y.coerce(s,P,D,o,n)}for(var r=0;r<M.length;r++){var e=M[r];if(e.visible&&e.type==="waterfall"){d=!0;break}}d&&(g("waterfallmode"),g("waterfallgap",.2),g("waterfallgroupgap"))}},64488:function(W,G,t){var y=t(33428),D=t(3400),s=t(43616),P=t(39032).BADNUM,M=t(98184),d=t(82744).clearMinTextSize;W.exports=function(o,n,u,f){var c=o._fullLayout;d("waterfall",c),M.plot(o,n,u,f,{mode:c.waterfallmode,norm:c.waterfallmode,gap:c.waterfallgap,groupgap:c.waterfallgroupgap}),g(o,n,u,f)};function g(e,o,n,u){var f=o.xaxis,c=o.yaxis;D.makeTraceGroups(u,n,"trace bars").each(function(m){var v=y.select(this),T=m[0].trace,h=D.ensureSingle(v,"g","lines");if(!T.connector||!T.connector.visible){h.remove();return}var i=T.orientation==="h",p=T.connector.mode,w=h.selectAll("g.line").data(D.identity);w.enter().append("g").classed("line",!0),w.exit().remove();var A=w.size();w.each(function(L,x){if(!(x!==A-1&&!L.cNext)){var E=r(L,f,c,i),S=E[0],a=E[1],C="";S[0]!==P&&a[0]!==P&&S[1]!==P&&a[1]!==P&&(p==="spanning"&&!L.isSum&&x>0&&(i?C+="M"+S[0]+","+a[1]+"V"+a[0]:C+="M"+S[1]+","+a[0]+"H"+S[0]),p!=="between"&&(L.isSum||x<A-1)&&(i?C+="M"+S[1]+","+a[0]+"V"+a[1]:C+="M"+S[0]+","+a[1]+"H"+S[1]),S[2]!==P&&a[2]!==P&&(i?C+="M"+S[1]+","+a[1]+"V"+a[2]:C+="M"+S[1]+","+a[1]+"H"+S[2])),C===""&&(C="M0,0Z"),D.ensureSingle(y.select(this),"path").attr("d",C).call(s.setClipUrl,o.layerClipId,e)}})})}function r(e,o,n,u){var f=[],c=[],m=u?o:n,v=u?n:o;return f[0]=m.c2p(e.s0,!0),c[0]=v.c2p(e.p0,!0),f[1]=m.c2p(e.s1,!0),c[1]=v.c2p(e.p1,!0),f[2]=m.c2p(e.nextS0,!0),c[2]=v.c2p(e.nextP0,!0),u?[f,c]:[c,f]}},12252:function(W,G,t){var y=t(33428),D=t(43616),s=t(76308),P=t(13448).DESELECTDIM,M=t(60100),d=t(82744).resizeText,g=M.styleTextPoints;function r(e,o,n){var u=n||y.select(e).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");d(e,u,"waterfall"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var c=y.select(this),m=f[0].trace;c.selectAll(".point > path").each(function(v){if(!v.isBlank){var T=m[v.dir].marker;y.select(this).call(s.fill,T.color).call(s.stroke,T.line.color).call(D.dashLine,T.line.dash,T.line.width).style("opacity",m.selectedpoints&&!v.selected?P:1)}}),g(c,m,e),c.selectAll(".lines").each(function(){var v=m.connector.line;D.lineGroupStyle(y.select(this).selectAll("path"),v.width,v.color,v.dash)})})}W.exports={style:r}},84224:function(W,G,t){var y=t(54460),D=t(3400),s=t(73060),P=t(60468).W,M=t(39032).BADNUM;G.moduleType="transform",G.name="aggregate";var d=G.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},g=d.aggregations;G.supplyDefaults=function(f,c){var m={},v;function T(b,z){return D.coerce(f,m,d,b,z)}var h=T("enabled");if(!h)return m;var i=s.findArrayAttributes(c),p={};for(v=0;v<i.length;v++)p[i[v]]=1;var w=T("groups");if(!Array.isArray(w)){if(!p[w])return m.enabled=!1,m;p[w]=0}var A=f.aggregations||[],L=m.aggregations=new Array(A.length),x;function E(b,z){return D.coerce(A[v],x,g,b,z)}for(v=0;v<A.length;v++){x={_index:v};var S=E("target"),a=E("func"),C=E("enabled");C&&S&&(p[S]||a==="count"&&p[S]===void 0)?(a==="stddev"&&E("funcmode"),p[S]=0,L[v]=x):L[v]={enabled:!1,_index:v}}for(v=0;v<i.length;v++)p[i[v]]&&L.push({target:i[v],func:g.func.dflt,enabled:!0,_index:-1});return m},G.calcTransform=function(f,c,m){if(m.enabled){var v=m.groups,T=D.getTargetArray(c,{target:v});if(T){var h,i,p,w,A={},L={},x=[],E=P(c.transforms,m),S=T.length;for(c._length&&(S=Math.min(S,c._length)),h=0;h<S;h++)i=T[h],p=A[i],p===void 0?(A[i]=x.length,w=[h],x.push(w),L[A[i]]=E(h)):(x[p].push(h),L[A[i]]=(L[A[i]]||[]).concat(E(h)));m._indexToPoints=L;var a=m.aggregations;for(h=0;h<a.length;h++)r(f,c,x,a[h]);typeof v=="string"&&r(f,c,x,{target:v,func:"first",enabled:!0}),c._length=x.length}}};function r(f,c,m,v){if(v.enabled){for(var T=v.target,h=D.nestedProperty(c,T),i=h.get(),p=y.getDataConversions(f,c,T,i),w=e(v,p),A=new Array(m.length),L=0;L<m.length;L++)A[L]=w(i,m[L]);h.set(A),v.func==="count"&&D.pushUnique(c._arrayAttrs,T)}}function e(f,c){var m=f.func,v=c.d2c,T=c.c2d;switch(m){case"count":return o;case"first":return n;case"last":return u;case"sum":return function(h,i){for(var p=0,w=0;w<i.length;w++){var A=v(h[i[w]]);A!==M&&(p+=A)}return T(p)};case"avg":return function(h,i){for(var p=0,w=0,A=0;A<i.length;A++){var L=v(h[i[A]]);L!==M&&(p+=L,w++)}return w?T(p/w):M};case"min":return function(h,i){for(var p=1/0,w=0;w<i.length;w++){var A=v(h[i[w]]);A!==M&&(p=Math.min(p,A))}return p===1/0?M:T(p)};case"max":return function(h,i){for(var p=-1/0,w=0;w<i.length;w++){var A=v(h[i[w]]);A!==M&&(p=Math.max(p,A))}return p===-1/0?M:T(p)};case"range":return function(h,i){for(var p=1/0,w=-1/0,A=0;A<i.length;A++){var L=v(h[i[A]]);L!==M&&(p=Math.min(p,L),w=Math.max(w,L))}return w===-1/0||p===1/0?M:T(w-p)};case"change":return function(h,i){var p=v(h[i[0]]),w=v(h[i[i.length-1]]);return p===M||w===M?M:T(w-p)};case"median":return function(h,i){for(var p=[],w=0;w<i.length;w++){var A=v(h[i[w]]);A!==M&&p.push(A)}if(!p.length)return M;p.sort(D.sorterAsc);var L=(p.length-1)/2;return T((p[Math.floor(L)]+p[Math.ceil(L)])/2)};case"mode":return function(h,i){for(var p={},w=0,A=M,L=0;L<i.length;L++){var x=v(h[i[L]]);if(x!==M){var E=p[x]=(p[x]||0)+1;E>w&&(w=E,A=x)}}return w?T(A):M};case"rms":return function(h,i){for(var p=0,w=0,A=0;A<i.length;A++){var L=v(h[i[A]]);L!==M&&(p+=L*L,w++)}return w?T(Math.sqrt(p/w)):M};case"stddev":return function(h,i){var p=0,w=0,A=1,L=M,x;for(x=0;x<i.length&&L===M;x++)L=v(h[i[x]]);if(L===M)return M;for(;x<i.length;x++){var E=v(h[i[x]]);if(E!==M){var S=E-L;p+=S,w+=S*S,A++}}var a=f.funcmode==="sample"?A-1:A;return a?Math.sqrt((w-p*p/A)/a):0}}}function o(f,c){return c.length}function n(f,c){return f[c[0]]}function u(f,c){return f[c[c.length-1]]}},76744:function(W,G,t){var y=t(3400),D=t(24040),s=t(54460),P=t(60468).W,M=t(69104),d=M.COMPARISON_OPS,g=M.INTERVAL_OPS,r=M.SET_OPS;G.moduleType="transform",G.name="filter",G.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(d).concat(g).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},G.supplyDefaults=function(o){var n={};function u(v,T){return y.coerce(o,n,G.attributes,v,T)}var f=u("enabled");if(f){var c=u("target");if(y.isArrayOrTypedArray(c)&&c.length===0)return n.enabled=!1,n;u("preservegaps"),u("operation"),u("value");var m=D.getComponentMethod("calendars","handleDefaults");m(o,n,"valuecalendar",null),m(o,n,"targetcalendar",null)}return n},G.calcTransform=function(o,n,u){if(!u.enabled)return;var f=y.getTargetArray(n,u);if(!f)return;var c=u.target,m=f.length;n._length&&(m=Math.min(m,n._length));var v=u.targetcalendar,T=n._arrayAttrs,h=u.preservegaps;if(typeof c=="string"){var i=y.nestedProperty(n,c+"calendar").get();i&&(v=i)}var p=s.getDataToCoordFunc(o,n,c,f),w=e(u,p,v),A={},L={},x=0;function E(k,U){for(var F=0;F<T.length;F++){var V=y.nestedProperty(n,T[F]);k(V,U)}}var S,a;h?(S=function(k){A[k.astr]=y.extendDeep([],k.get()),k.set(new Array(m))},a=function(k,U){var F=A[k.astr][U];k.get()[U]=F}):(S=function(k){A[k.astr]=y.extendDeep([],k.get()),k.set([])},a=function(k,U){var F=A[k.astr][U];k.get().push(F)}),E(S);for(var C=P(n.transforms,u),b=0;b<m;b++){var z=w(f[b]);z?(E(a,b),L[x++]=C(b)):h&&x++}u._indexToPoints=L,n._length=x};function e(o,n,u){var f=o.operation,c=o.value,m=y.isArrayOrTypedArray(c);function v(p){return p.indexOf(f)!==-1}var T=function(p){return n(p,0,o.valuecalendar)},h=function(p){return n(p,0,u)},i;switch(v(d)?i=T(m?c[0]:c):v(g)?i=m?[T(c[0]),T(c[1])]:[T(c),T(c)]:v(r)&&(i=m?c.map(T):[T(c)]),f){case"=":return function(p){return h(p)===i};case"!=":return function(p){return h(p)!==i};case"<":return function(p){return h(p)<i};case"<=":return function(p){return h(p)<=i};case">":return function(p){return h(p)>i};case">=":return function(p){return h(p)>=i};case"[]":return function(p){var w=h(p);return w>=i[0]&&w<=i[1]};case"()":return function(p){var w=h(p);return w>i[0]&&w<i[1]};case"[)":return function(p){var w=h(p);return w>=i[0]&&w<i[1]};case"(]":return function(p){var w=h(p);return w>i[0]&&w<=i[1]};case"][":return function(p){var w=h(p);return w<=i[0]||w>=i[1]};case")(":return function(p){var w=h(p);return w<i[0]||w>i[1]};case"](":return function(p){var w=h(p);return w<=i[0]||w>i[1]};case")[":return function(p){var w=h(p);return w<i[0]||w>=i[1]};case"{}":return function(p){return i.indexOf(h(p))!==-1};case"}{":return function(p){return i.indexOf(h(p))===-1}}}},32028:function(W,G,t){var y=t(3400),D=t(73060),s=t(7316),P=t(60468).W;G.moduleType="transform",G.name="groupby",G.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},G.supplyDefaults=function(d,g,r){var e,o={};function n(T,h){return y.coerce(d,o,G.attributes,T,h)}var u=n("enabled");if(!u)return o;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var f=d.styles,c=o.styles=[];if(f)for(e=0;e<f.length;e++){var m=c[e]={};y.coerce(f[e],c[e],G.attributes.styles,"target");var v=y.coerce(f[e],c[e],G.attributes.styles,"value");y.isPlainObject(v)?m.value=y.extendDeep({},v):v&&delete m.value}return o},G.transform=function(d,g){var r,e,o,n=[];for(e=0;e<d.length;e++)for(r=M(d[e],g),o=0;o<r.length;o++)n.push(r[o]);return n};function M(d,g){var r,e,o,n,u,f,c,m,v,T,h=g.transform,i=g.transformIndex,p=d.transforms[i].groups,w=P(d.transforms,h);if(!y.isArrayOrTypedArray(p)||p.length===0)return[d];var A=y.filterUnique(p),L=new Array(A.length),x=p.length,E=D.findArrayAttributes(d),S=h.styles||[],a={};for(r=0;r<S.length;r++)a[S[r].target]=S[r].value;h.styles&&(T=y.keyedContainer(h,"styles","target","value.name"));var C={},b={};for(r=0;r<A.length;r++){f=A[r],C[f]=r,b[f]=0,c=L[r]=y.extendDeepNoArrays({},d),c._group=f,c.transforms[i]._indexToPoints={};var z=null;for(T&&(z=T.get(f)),z||z===""?c.name=z:c.name=y.templateString(h.nameformat,{trace:d.name,group:f}),m=c.transforms,c.transforms=[],e=0;e<m.length;e++)c.transforms[e]=y.extendDeepNoArrays({},m[e]);for(e=0;e<E.length;e++)y.nestedProperty(c,E[e]).set([])}for(o=0;o<E.length;o++){for(n=E[o],e=0,v=[];e<A.length;e++)v[e]=y.nestedProperty(L[e],n).get();for(u=y.nestedProperty(d,n).get(),e=0;e<x;e++)v[C[p[e]]].push(u[e])}for(e=0;e<x;e++){c=L[C[p[e]]];var k=c.transforms[i]._indexToPoints;k[b[p[e]]]=w(e),b[p[e]]++}for(r=0;r<A.length;r++)f=A[r],c=L[r],s.clearExpandedTraceDefaultColors(c),c=y.extendDeepNoArrays(c,a[f]||{});return L}},60468:function(W,G){G.W=function(t,y){for(var D,s,P=0;P<t.length&&(D=t[P],D!==y);P++)!D._indexToPoints||D.enabled===!1||(s=D._indexToPoints);var M=s?function(d){return s[d]}:function(d){return[d]};return M}},76272:function(W,G,t){var y=t(3400),D=t(54460),s=t(60468).W,P=t(39032).BADNUM;G.moduleType="transform",G.name="sort",G.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},G.supplyDefaults=function(g){var r={};function e(n,u){return y.coerce(g,r,G.attributes,n,u)}var o=e("enabled");return o&&(e("target"),e("order")),r},G.calcTransform=function(g,r,e){if(e.enabled){var o=y.getTargetArray(r,e);if(o){var n=e.target,u=o.length;r._length&&(u=Math.min(u,r._length));var f=r._arrayAttrs,c=D.getDataToCoordFunc(g,r,n,o),m=M(e,o,c,u),v=s(r.transforms,e),T={},h,i;for(h=0;h<f.length;h++){var p=y.nestedProperty(r,f[h]),w=p.get(),A=new Array(u);for(i=0;i<u;i++)A[i]=w[m[i]];p.set(A)}for(i=0;i<u;i++)T[i]=v(m[i]);e._indexToPoints=T,r._length=u}}};function M(g,r,e,o){var n=new Array(o),u=new Array(o),f;for(f=0;f<o;f++)n[f]={v:r[f],i:f};for(n.sort(d(g,e)),f=0;f<o;f++)u[f]=n[f].i;return u}function d(g,r){switch(g.order){case"ascending":return function(e,o){var n=r(e.v),u=r(o.v);return n===P?1:u===P?-1:n-u};case"descending":return function(e,o){var n=r(e.v),u=r(o.v);return n===P?1:u===P?-1:u-n}}}},25788:function(W,G){G.version="2.34.0"},67792:function(W,G,t){var y=t(4168);(function(){var D={1964:function(d,g,r){d.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(d,g,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function e(Lt,dt){if(!(Lt instanceof dt))throw new TypeError("Cannot call a class as a function")}function o(Lt,dt){for(var xt=0;xt<dt.length;xt++){var Ot=dt[xt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Lt,u(Ot.key),Ot)}}function n(Lt,dt,xt){return dt&&o(Lt.prototype,dt),Object.defineProperty(Lt,"prototype",{writable:!1}),Lt}function u(Lt){var dt=f(Lt,"string");return w(dt)=="symbol"?dt:dt+""}function f(Lt,dt){if(w(Lt)!="object"||!Lt)return Lt;var xt=Lt[Symbol.toPrimitive];if(xt!==void 0){var Ot=xt.call(Lt,dt);if(w(Ot)!="object")return Ot;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Lt)}function c(Lt,dt,xt){return dt=h(dt),m(Lt,T()?Reflect.construct(dt,[],h(Lt).constructor):dt.apply(Lt,xt))}function m(Lt,dt){if(dt&&(w(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(Lt)}function v(Lt){if(Lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Lt}function T(){try{var Lt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!Lt})()}function h(Lt){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xt){return xt.__proto__||Object.getPrototypeOf(xt)},h(Lt)}function i(Lt,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");Lt.prototype=Object.create(dt&&dt.prototype,{constructor:{value:Lt,writable:!0,configurable:!0}}),Object.defineProperty(Lt,"prototype",{writable:!1}),dt&&p(Lt,dt)}function p(Lt,dt){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ot,jt){return Ot.__proto__=jt,Ot},p(Lt,dt)}function w(Lt){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},w(Lt)}var A=r(7507),L=r(3778),x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.hp=C,g.IS=50;var E=2147483647;C.TYPED_ARRAY_SUPPORT=S(),!C.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function S(){try{var Lt=new Uint8Array(1),dt={foo:function(){return 42}};return Object.setPrototypeOf(dt,Uint8Array.prototype),Object.setPrototypeOf(Lt,dt),Lt.foo()===42}catch{return!1}}Object.defineProperty(C.prototype,"parent",{enumerable:!0,get:function(){if(C.isBuffer(this))return this.buffer}}),Object.defineProperty(C.prototype,"offset",{enumerable:!0,get:function(){if(C.isBuffer(this))return this.byteOffset}});function a(Lt){if(Lt>E)throw new RangeError('The value "'+Lt+'" is invalid for option "size"');var dt=new Uint8Array(Lt);return Object.setPrototypeOf(dt,C.prototype),dt}function C(Lt,dt,xt){if(typeof Lt=="number"){if(typeof dt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return U(Lt)}return b(Lt,dt,xt)}C.poolSize=8192;function b(Lt,dt,xt){if(typeof Lt=="string")return F(Lt,dt);if(ArrayBuffer.isView(Lt))return N(Lt);if(Lt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+w(Lt));if(Yt(Lt,ArrayBuffer)||Lt&&Yt(Lt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Yt(Lt,SharedArrayBuffer)||Lt&&Yt(Lt.buffer,SharedArrayBuffer)))return O(Lt,dt,xt);if(typeof Lt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ot=Lt.valueOf&&Lt.valueOf();if(Ot!=null&&Ot!==Lt)return C.from(Ot,dt,xt);var jt=H(Lt);if(jt)return jt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Lt[Symbol.toPrimitive]=="function")return C.from(Lt[Symbol.toPrimitive]("string"),dt,xt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+w(Lt))}C.from=function(Lt,dt,xt){return b(Lt,dt,xt)},Object.setPrototypeOf(C.prototype,Uint8Array.prototype),Object.setPrototypeOf(C,Uint8Array);function z(Lt){if(typeof Lt!="number")throw new TypeError('"size" argument must be of type number');if(Lt<0)throw new RangeError('The value "'+Lt+'" is invalid for option "size"')}function k(Lt,dt,xt){return z(Lt),Lt<=0?a(Lt):dt!==void 0?typeof xt=="string"?a(Lt).fill(dt,xt):a(Lt).fill(dt):a(Lt)}C.alloc=function(Lt,dt,xt){return k(Lt,dt,xt)};function U(Lt){return z(Lt),a(Lt<0?0:X(Lt)|0)}C.allocUnsafe=function(Lt){return U(Lt)},C.allocUnsafeSlow=function(Lt){return U(Lt)};function F(Lt,dt){if((typeof dt!="string"||dt==="")&&(dt="utf8"),!C.isEncoding(dt))throw new TypeError("Unknown encoding: "+dt);var xt=J(Lt,dt)|0,Ot=a(xt),jt=Ot.write(Lt,dt);return jt!==xt&&(Ot=Ot.slice(0,jt)),Ot}function V(Lt){for(var dt=Lt.length<0?0:X(Lt.length)|0,xt=a(dt),Ot=0;Ot<dt;Ot+=1)xt[Ot]=Lt[Ot]&255;return xt}function N(Lt){if(Yt(Lt,Uint8Array)){var dt=new Uint8Array(Lt);return O(dt.buffer,dt.byteOffset,dt.byteLength)}return V(Lt)}function O(Lt,dt,xt){if(dt<0||Lt.byteLength<dt)throw new RangeError('"offset" is outside of buffer bounds');if(Lt.byteLength<dt+(xt||0))throw new RangeError('"length" is outside of buffer bounds');var Ot;return dt===void 0&&xt===void 0?Ot=new Uint8Array(Lt):xt===void 0?Ot=new Uint8Array(Lt,dt):Ot=new Uint8Array(Lt,dt,xt),Object.setPrototypeOf(Ot,C.prototype),Ot}function H(Lt){if(C.isBuffer(Lt)){var dt=X(Lt.length)|0,xt=a(dt);return xt.length===0||Lt.copy(xt,0,0,dt),xt}if(Lt.length!==void 0)return typeof Lt.length!="number"||Zt(Lt.length)?a(0):V(Lt);if(Lt.type==="Buffer"&&Array.isArray(Lt.data))return V(Lt.data)}function X(Lt){if(Lt>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return Lt|0}C.isBuffer=function(dt){return dt!=null&&dt._isBuffer===!0&&dt!==C.prototype},C.compare=function(dt,xt){if(Yt(dt,Uint8Array)&&(dt=C.from(dt,dt.offset,dt.byteLength)),Yt(xt,Uint8Array)&&(xt=C.from(xt,xt.offset,xt.byteLength)),!C.isBuffer(dt)||!C.isBuffer(xt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(dt===xt)return 0;for(var Ot=dt.length,jt=xt.length,ie=0,le=Math.min(Ot,jt);ie<le;++ie)if(dt[ie]!==xt[ie]){Ot=dt[ie],jt=xt[ie];break}return Ot<jt?-1:jt<Ot?1:0},C.isEncoding=function(dt){switch(String(dt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.concat=function(dt,xt){if(!Array.isArray(dt))throw new TypeError('"list" argument must be an Array of Buffers');if(dt.length===0)return C.alloc(0);var Ot;if(xt===void 0)for(xt=0,Ot=0;Ot<dt.length;++Ot)xt+=dt[Ot].length;var jt=C.allocUnsafe(xt),ie=0;for(Ot=0;Ot<dt.length;++Ot){var le=dt[Ot];if(Yt(le,Uint8Array))ie+le.length>jt.length?(C.isBuffer(le)||(le=C.from(le)),le.copy(jt,ie)):Uint8Array.prototype.set.call(jt,le,ie);else if(C.isBuffer(le))le.copy(jt,ie);else throw new TypeError('"list" argument must be an Array of Buffers');ie+=le.length}return jt};function J(Lt,dt){if(C.isBuffer(Lt))return Lt.length;if(ArrayBuffer.isView(Lt)||Yt(Lt,ArrayBuffer))return Lt.byteLength;if(typeof Lt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+w(Lt));var xt=Lt.length,Ot=arguments.length>2&&arguments[2]===!0;if(!Ot&&xt===0)return 0;for(var jt=!1;;)switch(dt){case"ascii":case"latin1":case"binary":return xt;case"utf8":case"utf-8":return xe(Lt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xt*2;case"hex":return xt>>>1;case"base64":return kt(Lt).length;default:if(jt)return Ot?-1:xe(Lt).length;dt=(""+dt).toLowerCase(),jt=!0}}C.byteLength=J;function et(Lt,dt,xt){var Ot=!1;if((dt===void 0||dt<0)&&(dt=0),dt>this.length||((xt===void 0||xt>this.length)&&(xt=this.length),xt<=0)||(xt>>>=0,dt>>>=0,xt<=dt))return"";for(Lt||(Lt="utf8");;)switch(Lt){case"hex":return At(this,dt,xt);case"utf8":case"utf-8":return j(this,dt,xt);case"ascii":return ht(this,dt,xt);case"latin1":case"binary":return mt(this,dt,xt);case"base64":return $(this,dt,xt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,dt,xt);default:if(Ot)throw new TypeError("Unknown encoding: "+Lt);Lt=(Lt+"").toLowerCase(),Ot=!0}}C.prototype._isBuffer=!0;function it(Lt,dt,xt){var Ot=Lt[dt];Lt[dt]=Lt[xt],Lt[xt]=Ot}C.prototype.swap16=function(){var dt=this.length;if(dt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var xt=0;xt<dt;xt+=2)it(this,xt,xt+1);return this},C.prototype.swap32=function(){var dt=this.length;if(dt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var xt=0;xt<dt;xt+=4)it(this,xt,xt+3),it(this,xt+1,xt+2);return this},C.prototype.swap64=function(){var dt=this.length;if(dt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var xt=0;xt<dt;xt+=8)it(this,xt,xt+7),it(this,xt+1,xt+6),it(this,xt+2,xt+5),it(this,xt+3,xt+4);return this},C.prototype.toString=function(){var dt=this.length;return dt===0?"":arguments.length===0?j(this,0,dt):et.apply(this,arguments)},C.prototype.toLocaleString=C.prototype.toString,C.prototype.equals=function(dt){if(!C.isBuffer(dt))throw new TypeError("Argument must be a Buffer");return this===dt?!0:C.compare(this,dt)===0},C.prototype.inspect=function(){var dt="",xt=g.IS;return dt=this.toString("hex",0,xt).replace(/(.{2})/g,"$1 ").trim(),this.length>xt&&(dt+=" ... "),"<Buffer "+dt+">"},x&&(C.prototype[x]=C.prototype.inspect),C.prototype.compare=function(dt,xt,Ot,jt,ie){if(Yt(dt,Uint8Array)&&(dt=C.from(dt,dt.offset,dt.byteLength)),!C.isBuffer(dt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+w(dt));if(xt===void 0&&(xt=0),Ot===void 0&&(Ot=dt?dt.length:0),jt===void 0&&(jt=0),ie===void 0&&(ie=this.length),xt<0||Ot>dt.length||jt<0||ie>this.length)throw new RangeError("out of range index");if(jt>=ie&&xt>=Ot)return 0;if(jt>=ie)return-1;if(xt>=Ot)return 1;if(xt>>>=0,Ot>>>=0,jt>>>=0,ie>>>=0,this===dt)return 0;for(var le=ie-jt,Ve=Ot-xt,je=Math.min(le,Ve),Te=this.slice(jt,ie),Le=dt.slice(xt,Ot),Ke=0;Ke<je;++Ke)if(Te[Ke]!==Le[Ke]){le=Te[Ke],Ve=Le[Ke];break}return le<Ve?-1:Ve<le?1:0};function ft(Lt,dt,xt,Ot,jt){if(Lt.length===0)return-1;if(typeof xt=="string"?(Ot=xt,xt=0):xt>2147483647?xt=2147483647:xt<-2147483648&&(xt=-2147483648),xt=+xt,Zt(xt)&&(xt=jt?0:Lt.length-1),xt<0&&(xt=Lt.length+xt),xt>=Lt.length){if(jt)return-1;xt=Lt.length-1}else if(xt<0)if(jt)xt=0;else return-1;if(typeof dt=="string"&&(dt=C.from(dt,Ot)),C.isBuffer(dt))return dt.length===0?-1:ot(Lt,dt,xt,Ot,jt);if(typeof dt=="number")return dt=dt&255,typeof Uint8Array.prototype.indexOf=="function"?jt?Uint8Array.prototype.indexOf.call(Lt,dt,xt):Uint8Array.prototype.lastIndexOf.call(Lt,dt,xt):ot(Lt,[dt],xt,Ot,jt);throw new TypeError("val must be string, number or Buffer")}function ot(Lt,dt,xt,Ot,jt){var ie=1,le=Lt.length,Ve=dt.length;if(Ot!==void 0&&(Ot=String(Ot).toLowerCase(),Ot==="ucs2"||Ot==="ucs-2"||Ot==="utf16le"||Ot==="utf-16le")){if(Lt.length<2||dt.length<2)return-1;ie=2,le/=2,Ve/=2,xt/=2}function je(ge,Xe){return ie===1?ge[Xe]:ge.readUInt16BE(Xe*ie)}var Te;if(jt){var Le=-1;for(Te=xt;Te<le;Te++)if(je(Lt,Te)===je(dt,Le===-1?0:Te-Le)){if(Le===-1&&(Le=Te),Te-Le+1===Ve)return Le*ie}else Le!==-1&&(Te-=Te-Le),Le=-1}else for(xt+Ve>le&&(xt=le-Ve),Te=xt;Te>=0;Te--){for(var Ke=!0,vr=0;vr<Ve;vr++)if(je(Lt,Te+vr)!==je(dt,vr)){Ke=!1;break}if(Ke)return Te}return-1}C.prototype.includes=function(dt,xt,Ot){return this.indexOf(dt,xt,Ot)!==-1},C.prototype.indexOf=function(dt,xt,Ot){return ft(this,dt,xt,Ot,!0)},C.prototype.lastIndexOf=function(dt,xt,Ot){return ft(this,dt,xt,Ot,!1)};function Q(Lt,dt,xt,Ot){xt=Number(xt)||0;var jt=Lt.length-xt;Ot?(Ot=Number(Ot),Ot>jt&&(Ot=jt)):Ot=jt;var ie=dt.length;Ot>ie/2&&(Ot=ie/2);var le;for(le=0;le<Ot;++le){var Ve=parseInt(dt.substr(le*2,2),16);if(Zt(Ve))return le;Lt[xt+le]=Ve}return le}function tt(Lt,dt,xt,Ot){return Gt(xe(dt,Lt.length-xt),Lt,xt,Ot)}function Z(Lt,dt,xt,Ot){return Gt(Me(dt),Lt,xt,Ot)}function q(Lt,dt,xt,Ot){return Gt(kt(dt),Lt,xt,Ot)}function ut(Lt,dt,xt,Ot){return Gt(ne(dt,Lt.length-xt),Lt,xt,Ot)}C.prototype.write=function(dt,xt,Ot,jt){if(xt===void 0)jt="utf8",Ot=this.length,xt=0;else if(Ot===void 0&&typeof xt=="string")jt=xt,Ot=this.length,xt=0;else if(isFinite(xt))xt=xt>>>0,isFinite(Ot)?(Ot=Ot>>>0,jt===void 0&&(jt="utf8")):(jt=Ot,Ot=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ie=this.length-xt;if((Ot===void 0||Ot>ie)&&(Ot=ie),dt.length>0&&(Ot<0||xt<0)||xt>this.length)throw new RangeError("Attempt to write outside buffer bounds");jt||(jt="utf8");for(var le=!1;;)switch(jt){case"hex":return Q(this,dt,xt,Ot);case"utf8":case"utf-8":return tt(this,dt,xt,Ot);case"ascii":case"latin1":case"binary":return Z(this,dt,xt,Ot);case"base64":return q(this,dt,xt,Ot);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ut(this,dt,xt,Ot);default:if(le)throw new TypeError("Unknown encoding: "+jt);jt=(""+jt).toLowerCase(),le=!0}},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(Lt,dt,xt){return dt===0&&xt===Lt.length?A.fromByteArray(Lt):A.fromByteArray(Lt.slice(dt,xt))}function j(Lt,dt,xt){xt=Math.min(Lt.length,xt);for(var Ot=[],jt=dt;jt<xt;){var ie=Lt[jt],le=null,Ve=ie>239?4:ie>223?3:ie>191?2:1;if(jt+Ve<=xt){var je=void 0,Te=void 0,Le=void 0,Ke=void 0;switch(Ve){case 1:ie<128&&(le=ie);break;case 2:je=Lt[jt+1],(je&192)===128&&(Ke=(ie&31)<<6|je&63,Ke>127&&(le=Ke));break;case 3:je=Lt[jt+1],Te=Lt[jt+2],(je&192)===128&&(Te&192)===128&&(Ke=(ie&15)<<12|(je&63)<<6|Te&63,Ke>2047&&(Ke<55296||Ke>57343)&&(le=Ke));break;case 4:je=Lt[jt+1],Te=Lt[jt+2],Le=Lt[jt+3],(je&192)===128&&(Te&192)===128&&(Le&192)===128&&(Ke=(ie&15)<<18|(je&63)<<12|(Te&63)<<6|Le&63,Ke>65535&&Ke<1114112&&(le=Ke))}}le===null?(le=65533,Ve=1):le>65535&&(le-=65536,Ot.push(le>>>10&1023|55296),le=56320|le&1023),Ot.push(le),jt+=Ve}return nt(Ot)}var lt=4096;function nt(Lt){var dt=Lt.length;if(dt<=lt)return String.fromCharCode.apply(String,Lt);for(var xt="",Ot=0;Ot<dt;)xt+=String.fromCharCode.apply(String,Lt.slice(Ot,Ot+=lt));return xt}function ht(Lt,dt,xt){var Ot="";xt=Math.min(Lt.length,xt);for(var jt=dt;jt<xt;++jt)Ot+=String.fromCharCode(Lt[jt]&127);return Ot}function mt(Lt,dt,xt){var Ot="";xt=Math.min(Lt.length,xt);for(var jt=dt;jt<xt;++jt)Ot+=String.fromCharCode(Lt[jt]);return Ot}function At(Lt,dt,xt){var Ot=Lt.length;(!dt||dt<0)&&(dt=0),(!xt||xt<0||xt>Ot)&&(xt=Ot);for(var jt="",ie=dt;ie<xt;++ie)jt+=It[Lt[ie]];return jt}function bt(Lt,dt,xt){for(var Ot=Lt.slice(dt,xt),jt="",ie=0;ie<Ot.length-1;ie+=2)jt+=String.fromCharCode(Ot[ie]+Ot[ie+1]*256);return jt}C.prototype.slice=function(dt,xt){var Ot=this.length;dt=~~dt,xt=xt===void 0?Ot:~~xt,dt<0?(dt+=Ot,dt<0&&(dt=0)):dt>Ot&&(dt=Ot),xt<0?(xt+=Ot,xt<0&&(xt=0)):xt>Ot&&(xt=Ot),xt<dt&&(xt=dt);var jt=this.subarray(dt,xt);return Object.setPrototypeOf(jt,C.prototype),jt};function Pt(Lt,dt,xt){if(Lt%1!==0||Lt<0)throw new RangeError("offset is not uint");if(Lt+dt>xt)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUintLE=C.prototype.readUIntLE=function(dt,xt,Ot){dt=dt>>>0,xt=xt>>>0,Ot||Pt(dt,xt,this.length);for(var jt=this[dt],ie=1,le=0;++le<xt&&(ie*=256);)jt+=this[dt+le]*ie;return jt},C.prototype.readUintBE=C.prototype.readUIntBE=function(dt,xt,Ot){dt=dt>>>0,xt=xt>>>0,Ot||Pt(dt,xt,this.length);for(var jt=this[dt+--xt],ie=1;xt>0&&(ie*=256);)jt+=this[dt+--xt]*ie;return jt},C.prototype.readUint8=C.prototype.readUInt8=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,1,this.length),this[dt]},C.prototype.readUint16LE=C.prototype.readUInt16LE=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,2,this.length),this[dt]|this[dt+1]<<8},C.prototype.readUint16BE=C.prototype.readUInt16BE=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,2,this.length),this[dt]<<8|this[dt+1]},C.prototype.readUint32LE=C.prototype.readUInt32LE=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,4,this.length),(this[dt]|this[dt+1]<<8|this[dt+2]<<16)+this[dt+3]*16777216},C.prototype.readUint32BE=C.prototype.readUInt32BE=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,4,this.length),this[dt]*16777216+(this[dt+1]<<16|this[dt+2]<<8|this[dt+3])},C.prototype.readBigUInt64LE=Nt(function(dt){dt=dt>>>0,te(dt,"offset");var xt=this[dt],Ot=this[dt+7];(xt===void 0||Ot===void 0)&&fe(dt,this.length-8);var jt=xt+this[++dt]*Math.pow(2,8)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,24),ie=this[++dt]+this[++dt]*Math.pow(2,8)+this[++dt]*Math.pow(2,16)+Ot*Math.pow(2,24);return BigInt(jt)+(BigInt(ie)<<BigInt(32))}),C.prototype.readBigUInt64BE=Nt(function(dt){dt=dt>>>0,te(dt,"offset");var xt=this[dt],Ot=this[dt+7];(xt===void 0||Ot===void 0)&&fe(dt,this.length-8);var jt=xt*Math.pow(2,24)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,8)+this[++dt],ie=this[++dt]*Math.pow(2,24)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,8)+Ot;return(BigInt(jt)<<BigInt(32))+BigInt(ie)}),C.prototype.readIntLE=function(dt,xt,Ot){dt=dt>>>0,xt=xt>>>0,Ot||Pt(dt,xt,this.length);for(var jt=this[dt],ie=1,le=0;++le<xt&&(ie*=256);)jt+=this[dt+le]*ie;return ie*=128,jt>=ie&&(jt-=Math.pow(2,8*xt)),jt},C.prototype.readIntBE=function(dt,xt,Ot){dt=dt>>>0,xt=xt>>>0,Ot||Pt(dt,xt,this.length);for(var jt=xt,ie=1,le=this[dt+--jt];jt>0&&(ie*=256);)le+=this[dt+--jt]*ie;return ie*=128,le>=ie&&(le-=Math.pow(2,8*xt)),le},C.prototype.readInt8=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,1,this.length),this[dt]&128?(255-this[dt]+1)*-1:this[dt]},C.prototype.readInt16LE=function(dt,xt){dt=dt>>>0,xt||Pt(dt,2,this.length);var Ot=this[dt]|this[dt+1]<<8;return Ot&32768?Ot|4294901760:Ot},C.prototype.readInt16BE=function(dt,xt){dt=dt>>>0,xt||Pt(dt,2,this.length);var Ot=this[dt+1]|this[dt]<<8;return Ot&32768?Ot|4294901760:Ot},C.prototype.readInt32LE=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,4,this.length),this[dt]|this[dt+1]<<8|this[dt+2]<<16|this[dt+3]<<24},C.prototype.readInt32BE=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,4,this.length),this[dt]<<24|this[dt+1]<<16|this[dt+2]<<8|this[dt+3]},C.prototype.readBigInt64LE=Nt(function(dt){dt=dt>>>0,te(dt,"offset");var xt=this[dt],Ot=this[dt+7];(xt===void 0||Ot===void 0)&&fe(dt,this.length-8);var jt=this[dt+4]+this[dt+5]*Math.pow(2,8)+this[dt+6]*Math.pow(2,16)+(Ot<<24);return(BigInt(jt)<<BigInt(32))+BigInt(xt+this[++dt]*Math.pow(2,8)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,24))}),C.prototype.readBigInt64BE=Nt(function(dt){dt=dt>>>0,te(dt,"offset");var xt=this[dt],Ot=this[dt+7];(xt===void 0||Ot===void 0)&&fe(dt,this.length-8);var jt=(xt<<24)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,8)+this[++dt];return(BigInt(jt)<<BigInt(32))+BigInt(this[++dt]*Math.pow(2,24)+this[++dt]*Math.pow(2,16)+this[++dt]*Math.pow(2,8)+Ot)}),C.prototype.readFloatLE=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,4,this.length),L.read(this,dt,!0,23,4)},C.prototype.readFloatBE=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,4,this.length),L.read(this,dt,!1,23,4)},C.prototype.readDoubleLE=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,8,this.length),L.read(this,dt,!0,52,8)},C.prototype.readDoubleBE=function(dt,xt){return dt=dt>>>0,xt||Pt(dt,8,this.length),L.read(this,dt,!1,52,8)};function _t(Lt,dt,xt,Ot,jt,ie){if(!C.isBuffer(Lt))throw new TypeError('"buffer" argument must be a Buffer instance');if(dt>jt||dt<ie)throw new RangeError('"value" argument is out of bounds');if(xt+Ot>Lt.length)throw new RangeError("Index out of range")}C.prototype.writeUintLE=C.prototype.writeUIntLE=function(dt,xt,Ot,jt){if(dt=+dt,xt=xt>>>0,Ot=Ot>>>0,!jt){var ie=Math.pow(2,8*Ot)-1;_t(this,dt,xt,Ot,ie,0)}var le=1,Ve=0;for(this[xt]=dt&255;++Ve<Ot&&(le*=256);)this[xt+Ve]=dt/le&255;return xt+Ot},C.prototype.writeUintBE=C.prototype.writeUIntBE=function(dt,xt,Ot,jt){if(dt=+dt,xt=xt>>>0,Ot=Ot>>>0,!jt){var ie=Math.pow(2,8*Ot)-1;_t(this,dt,xt,Ot,ie,0)}var le=Ot-1,Ve=1;for(this[xt+le]=dt&255;--le>=0&&(Ve*=256);)this[xt+le]=dt/Ve&255;return xt+Ot},C.prototype.writeUint8=C.prototype.writeUInt8=function(dt,xt,Ot){return dt=+dt,xt=xt>>>0,Ot||_t(this,dt,xt,1,255,0),this[xt]=dt&255,xt+1},C.prototype.writeUint16LE=C.prototype.writeUInt16LE=function(dt,xt,Ot){return dt=+dt,xt=xt>>>0,Ot||_t(this,dt,xt,2,65535,0),this[xt]=dt&255,this[xt+1]=dt>>>8,xt+2},C.prototype.writeUint16BE=C.prototype.writeUInt16BE=function(dt,xt,Ot){return dt=+dt,xt=xt>>>0,Ot||_t(this,dt,xt,2,65535,0),this[xt]=dt>>>8,this[xt+1]=dt&255,xt+2},C.prototype.writeUint32LE=C.prototype.writeUInt32LE=function(dt,xt,Ot){return dt=+dt,xt=xt>>>0,Ot||_t(this,dt,xt,4,4294967295,0),this[xt+3]=dt>>>24,this[xt+2]=dt>>>16,this[xt+1]=dt>>>8,this[xt]=dt&255,xt+4},C.prototype.writeUint32BE=C.prototype.writeUInt32BE=function(dt,xt,Ot){return dt=+dt,xt=xt>>>0,Ot||_t(this,dt,xt,4,4294967295,0),this[xt]=dt>>>24,this[xt+1]=dt>>>16,this[xt+2]=dt>>>8,this[xt+3]=dt&255,xt+4};function Ut(Lt,dt,xt,Ot,jt){Jt(dt,Ot,jt,Lt,xt,7);var ie=Number(dt&BigInt(4294967295));Lt[xt++]=ie,ie=ie>>8,Lt[xt++]=ie,ie=ie>>8,Lt[xt++]=ie,ie=ie>>8,Lt[xt++]=ie;var le=Number(dt>>BigInt(32)&BigInt(4294967295));return Lt[xt++]=le,le=le>>8,Lt[xt++]=le,le=le>>8,Lt[xt++]=le,le=le>>8,Lt[xt++]=le,xt}function St(Lt,dt,xt,Ot,jt){Jt(dt,Ot,jt,Lt,xt,7);var ie=Number(dt&BigInt(4294967295));Lt[xt+7]=ie,ie=ie>>8,Lt[xt+6]=ie,ie=ie>>8,Lt[xt+5]=ie,ie=ie>>8,Lt[xt+4]=ie;var le=Number(dt>>BigInt(32)&BigInt(4294967295));return Lt[xt+3]=le,le=le>>8,Lt[xt+2]=le,le=le>>8,Lt[xt+1]=le,le=le>>8,Lt[xt]=le,xt+8}C.prototype.writeBigUInt64LE=Nt(function(dt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ut(this,dt,xt,BigInt(0),BigInt("0xffffffffffffffff"))}),C.prototype.writeBigUInt64BE=Nt(function(dt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return St(this,dt,xt,BigInt(0),BigInt("0xffffffffffffffff"))}),C.prototype.writeIntLE=function(dt,xt,Ot,jt){if(dt=+dt,xt=xt>>>0,!jt){var ie=Math.pow(2,8*Ot-1);_t(this,dt,xt,Ot,ie-1,-ie)}var le=0,Ve=1,je=0;for(this[xt]=dt&255;++le<Ot&&(Ve*=256);)dt<0&&je===0&&this[xt+le-1]!==0&&(je=1),this[xt+le]=(dt/Ve>>0)-je&255;return xt+Ot},C.prototype.writeIntBE=function(dt,xt,Ot,jt){if(dt=+dt,xt=xt>>>0,!jt){var ie=Math.pow(2,8*Ot-1);_t(this,dt,xt,Ot,ie-1,-ie)}var le=Ot-1,Ve=1,je=0;for(this[xt+le]=dt&255;--le>=0&&(Ve*=256);)dt<0&&je===0&&this[xt+le+1]!==0&&(je=1),this[xt+le]=(dt/Ve>>0)-je&255;return xt+Ot},C.prototype.writeInt8=function(dt,xt,Ot){return dt=+dt,xt=xt>>>0,Ot||_t(this,dt,xt,1,127,-128),dt<0&&(dt=255+dt+1),this[xt]=dt&255,xt+1},C.prototype.writeInt16LE=function(dt,xt,Ot){return dt=+dt,xt=xt>>>0,Ot||_t(this,dt,xt,2,32767,-32768),this[xt]=dt&255,this[xt+1]=dt>>>8,xt+2},C.prototype.writeInt16BE=function(dt,xt,Ot){return dt=+dt,xt=xt>>>0,Ot||_t(this,dt,xt,2,32767,-32768),this[xt]=dt>>>8,this[xt+1]=dt&255,xt+2},C.prototype.writeInt32LE=function(dt,xt,Ot){return dt=+dt,xt=xt>>>0,Ot||_t(this,dt,xt,4,2147483647,-2147483648),this[xt]=dt&255,this[xt+1]=dt>>>8,this[xt+2]=dt>>>16,this[xt+3]=dt>>>24,xt+4},C.prototype.writeInt32BE=function(dt,xt,Ot){return dt=+dt,xt=xt>>>0,Ot||_t(this,dt,xt,4,2147483647,-2147483648),dt<0&&(dt=4294967295+dt+1),this[xt]=dt>>>24,this[xt+1]=dt>>>16,this[xt+2]=dt>>>8,this[xt+3]=dt&255,xt+4},C.prototype.writeBigInt64LE=Nt(function(dt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ut(this,dt,xt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),C.prototype.writeBigInt64BE=Nt(function(dt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return St(this,dt,xt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Rt(Lt,dt,xt,Ot,jt,ie){if(xt+Ot>Lt.length)throw new RangeError("Index out of range");if(xt<0)throw new RangeError("Index out of range")}function Et(Lt,dt,xt,Ot,jt){return dt=+dt,xt=xt>>>0,jt||Rt(Lt,dt,xt,4),L.write(Lt,dt,xt,Ot,23,4),xt+4}C.prototype.writeFloatLE=function(dt,xt,Ot){return Et(this,dt,xt,!0,Ot)},C.prototype.writeFloatBE=function(dt,xt,Ot){return Et(this,dt,xt,!1,Ot)};function zt(Lt,dt,xt,Ot,jt){return dt=+dt,xt=xt>>>0,jt||Rt(Lt,dt,xt,8),L.write(Lt,dt,xt,Ot,52,8),xt+8}C.prototype.writeDoubleLE=function(dt,xt,Ot){return zt(this,dt,xt,!0,Ot)},C.prototype.writeDoubleBE=function(dt,xt,Ot){return zt(this,dt,xt,!1,Ot)},C.prototype.copy=function(dt,xt,Ot,jt){if(!C.isBuffer(dt))throw new TypeError("argument should be a Buffer");if(Ot||(Ot=0),!jt&&jt!==0&&(jt=this.length),xt>=dt.length&&(xt=dt.length),xt||(xt=0),jt>0&&jt<Ot&&(jt=Ot),jt===Ot||dt.length===0||this.length===0)return 0;if(xt<0)throw new RangeError("targetStart out of bounds");if(Ot<0||Ot>=this.length)throw new RangeError("Index out of range");if(jt<0)throw new RangeError("sourceEnd out of bounds");jt>this.length&&(jt=this.length),dt.length-xt<jt-Ot&&(jt=dt.length-xt+Ot);var ie=jt-Ot;return this===dt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(xt,Ot,jt):Uint8Array.prototype.set.call(dt,this.subarray(Ot,jt),xt),ie},C.prototype.fill=function(dt,xt,Ot,jt){if(typeof dt=="string"){if(typeof xt=="string"?(jt=xt,xt=0,Ot=this.length):typeof Ot=="string"&&(jt=Ot,Ot=this.length),jt!==void 0&&typeof jt!="string")throw new TypeError("encoding must be a string");if(typeof jt=="string"&&!C.isEncoding(jt))throw new TypeError("Unknown encoding: "+jt);if(dt.length===1){var ie=dt.charCodeAt(0);(jt==="utf8"&&ie<128||jt==="latin1")&&(dt=ie)}}else typeof dt=="number"?dt=dt&255:typeof dt=="boolean"&&(dt=Number(dt));if(xt<0||this.length<xt||this.length<Ot)throw new RangeError("Out of range index");if(Ot<=xt)return this;xt=xt>>>0,Ot=Ot===void 0?this.length:Ot>>>0,dt||(dt=0);var le;if(typeof dt=="number")for(le=xt;le<Ot;++le)this[le]=dt;else{var Ve=C.isBuffer(dt)?dt:C.from(dt,jt),je=Ve.length;if(je===0)throw new TypeError('The value "'+dt+'" is invalid for argument "value"');for(le=0;le<Ot-xt;++le)this[le+xt]=Ve[le%je]}return this};var Ct={};function Wt(Lt,dt,xt){Ct[Lt]=function(Ot){function jt(){var ie;return e(this,jt),ie=c(this,jt),Object.defineProperty(ie,"message",{value:dt.apply(ie,arguments),writable:!0,configurable:!0}),ie.name="".concat(ie.name," [").concat(Lt,"]"),ie.stack,delete ie.name,ie}return i(jt,Ot),n(jt,[{key:"code",get:function(){return Lt},set:function(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Lt,"]: ").concat(this.message)}}])}(xt)}Wt("ERR_BUFFER_OUT_OF_BOUNDS",function(Lt){return Lt?"".concat(Lt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Wt("ERR_INVALID_ARG_TYPE",function(Lt,dt){return'The "'.concat(Lt,'" argument must be of type number. Received type ').concat(w(dt))},TypeError),Wt("ERR_OUT_OF_RANGE",function(Lt,dt,xt){var Ot='The value of "'.concat(Lt,'" is out of range.'),jt=xt;return Number.isInteger(xt)&&Math.abs(xt)>Math.pow(2,32)?jt=Kt(String(xt)):typeof xt=="bigint"&&(jt=String(xt),(xt>Math.pow(BigInt(2),BigInt(32))||xt<-Math.pow(BigInt(2),BigInt(32)))&&(jt=Kt(jt)),jt+="n"),Ot+=" It must be ".concat(dt,". Received ").concat(jt),Ot},RangeError);function Kt(Lt){for(var dt="",xt=Lt.length,Ot=Lt[0]==="-"?1:0;xt>=Ot+4;xt-=3)dt="_".concat(Lt.slice(xt-3,xt)).concat(dt);return"".concat(Lt.slice(0,xt)).concat(dt)}function oe(Lt,dt,xt){te(dt,"offset"),(Lt[dt]===void 0||Lt[dt+xt]===void 0)&&fe(dt,Lt.length-(xt+1))}function Jt(Lt,dt,xt,Ot,jt,ie){if(Lt>xt||Lt<dt){var le=typeof dt=="bigint"?"n":"",Ve;throw dt===0||dt===BigInt(0)?Ve=">= 0".concat(le," and < 2").concat(le," ** ").concat((ie+1)*8).concat(le):Ve=">= -(2".concat(le," ** ").concat((ie+1)*8-1).concat(le,") and < 2 ** ")+"".concat((ie+1)*8-1).concat(le),new Ct.ERR_OUT_OF_RANGE("value",Ve,Lt)}oe(Ot,jt,ie)}function te(Lt,dt){if(typeof Lt!="number")throw new Ct.ERR_INVALID_ARG_TYPE(dt,"number",Lt)}function fe(Lt,dt,xt){throw Math.floor(Lt)!==Lt?(te(Lt,xt),new Ct.ERR_OUT_OF_RANGE("offset","an integer",Lt)):dt<0?new Ct.ERR_BUFFER_OUT_OF_BOUNDS:new Ct.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(dt),Lt)}var ve=/[^+/0-9A-Za-z-_]/g;function de(Lt){if(Lt=Lt.split("=")[0],Lt=Lt.trim().replace(ve,""),Lt.length<2)return"";for(;Lt.length%4!==0;)Lt=Lt+"=";return Lt}function xe(Lt,dt){dt=dt||1/0;for(var xt,Ot=Lt.length,jt=null,ie=[],le=0;le<Ot;++le){if(xt=Lt.charCodeAt(le),xt>55295&&xt<57344){if(!jt){if(xt>56319){(dt-=3)>-1&&ie.push(239,191,189);continue}else if(le+1===Ot){(dt-=3)>-1&&ie.push(239,191,189);continue}jt=xt;continue}if(xt<56320){(dt-=3)>-1&&ie.push(239,191,189),jt=xt;continue}xt=(jt-55296<<10|xt-56320)+65536}else jt&&(dt-=3)>-1&&ie.push(239,191,189);if(jt=null,xt<128){if((dt-=1)<0)break;ie.push(xt)}else if(xt<2048){if((dt-=2)<0)break;ie.push(xt>>6|192,xt&63|128)}else if(xt<65536){if((dt-=3)<0)break;ie.push(xt>>12|224,xt>>6&63|128,xt&63|128)}else if(xt<1114112){if((dt-=4)<0)break;ie.push(xt>>18|240,xt>>12&63|128,xt>>6&63|128,xt&63|128)}else throw new Error("Invalid code point")}return ie}function Me(Lt){for(var dt=[],xt=0;xt<Lt.length;++xt)dt.push(Lt.charCodeAt(xt)&255);return dt}function ne(Lt,dt){for(var xt,Ot,jt,ie=[],le=0;le<Lt.length&&!((dt-=2)<0);++le)xt=Lt.charCodeAt(le),Ot=xt>>8,jt=xt%256,ie.push(jt),ie.push(Ot);return ie}function kt(Lt){return A.toByteArray(de(Lt))}function Gt(Lt,dt,xt,Ot){var jt;for(jt=0;jt<Ot&&!(jt+xt>=dt.length||jt>=Lt.length);++jt)dt[jt+xt]=Lt[jt];return jt}function Yt(Lt,dt){return Lt instanceof dt||Lt!=null&&Lt.constructor!=null&&Lt.constructor.name!=null&&Lt.constructor.name===dt.name}function Zt(Lt){return Lt!==Lt}var It=function(){for(var Lt="0123456789abcdef",dt=new Array(256),xt=0;xt<16;++xt)for(var Ot=xt*16,jt=0;jt<16;++jt)dt[Ot+jt]=Lt[xt]+Lt[jt];return dt}();function Nt(Lt){return typeof BigInt>"u"?Ht:Lt}function Ht(){throw new Error("BigInt not supported")}},9216:function(d){d.exports=o,d.exports.isMobile=o,d.exports.default=o;var g=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,e=/android|ipad|playbook|silk/i;function o(n){n||(n={});var u=n.ua;if(!u&&typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var f=g.test(u)&&!r.test(u)||!!n.tablet&&e.test(u);return!f&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(f=!0),f}},6296:function(d,g,r){d.exports=c;var e=r(7261),o=r(9977),n=r(4192);function u(m,v){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(T){return m[T]}),this._mode=v,this._active=m[v],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=u.prototype;f.flush=function(m){for(var v=this._controllerList,T=0;T<v.length;++T)v[T].flush(m)},f.idle=function(m){for(var v=this._controllerList,T=0;T<v.length;++T)v[T].idle(m)},f.lookAt=function(m,v,T,h){for(var i=this._controllerList,p=0;p<i.length;++p)i[p].lookAt(m,v,T,h)},f.rotate=function(m,v,T,h){for(var i=this._controllerList,p=0;p<i.length;++p)i[p].rotate(m,v,T,h)},f.pan=function(m,v,T,h){for(var i=this._controllerList,p=0;p<i.length;++p)i[p].pan(m,v,T,h)},f.translate=function(m,v,T,h){for(var i=this._controllerList,p=0;p<i.length;++p)i[p].translate(m,v,T,h)},f.setMatrix=function(m,v){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setMatrix(m,v)},f.setDistanceLimits=function(m,v){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistanceLimits(m,v)},f.setDistance=function(m,v){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistance(m,v)},f.recalcMatrix=function(m){this._active.recalcMatrix(m)},f.getDistance=function(m){return this._active.getDistance(m)},f.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},f.lastT=function(){return this._active.lastT()},f.setMode=function(m){if(m!==this._mode){var v=this._controllerNames.indexOf(m);if(!(v<0)){var T=this._active,h=this._controllerList[v],i=Math.max(T.lastT(),h.lastT());T.recalcMatrix(i),h.setMatrix(i,T.computedMatrix),this._active=h,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode};function c(m){m=m||{};var v=m.eye||[0,0,1],T=m.center||[0,0,0],h=m.up||[0,1,0],i=m.distanceLimits||[0,1/0],p=m.mode||"turntable",w=e(),A=o(),L=n();return w.setDistanceLimits(i[0],i[1]),w.lookAt(0,v,T,h),A.setDistanceLimits(i[0],i[1]),A.lookAt(0,v,T,h),L.setDistanceLimits(i[0],i[1]),L.lookAt(0,v,T,h),new u({turntable:w,orbit:A,matrix:L},p)}},7169:function(d,g,r){var e=typeof WeakMap>"u"?r(1538):WeakMap,o=r(2762),n=r(8116),u=new e;function f(c){var m=u.get(c),v=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!v||!c.isBuffer(v)){var T=o(c,new Float32Array([-1,-1,-1,4,4,-1]));m=n(c,[{buffer:T,type:c.FLOAT,size:2}]),m._triangleBuffer=T,u.set(c,m)}m.bind(),c.drawArrays(c.TRIANGLES,0,3),m.unbind()}d.exports=f},1085:function(d,g,r){var e=r(1371);d.exports=o;function o(n,u,f){u=typeof u=="number"?u:1,f=f||": ";var c=n.split(/\r?\n/),m=String(c.length+u-1).length;return c.map(function(v,T){var h=T+u,i=String(h).length,p=e(h,m-i);return p+f+v}).join(`
`)}},3952:function(d,g,r){d.exports=n;var e=r(3250);function o(u,f){for(var c=new Array(f+1),m=0;m<u.length;++m)c[m]=u[m];for(var m=0;m<=u.length;++m){for(var v=u.length;v<=f;++v){for(var T=new Array(f),h=0;h<f;++h)T[h]=Math.pow(v+1-m,h);c[v]=T}var i=e.apply(void 0,c);if(i)return!0}return!1}function n(u){var f=u.length;if(f===0)return[];if(f===1)return[0];for(var c=u[0].length,m=[u[0]],v=[0],T=1;T<f;++T){if(m.push(u[T]),!o(m,c)){m.pop();continue}if(v.push(T),v.length===c+1)return v}return v}},5995:function(d,g,r){d.exports=n;var e=r(7642),o=r(6037);function n(u,f){return e(f).filter(function(c){for(var m=new Array(c.length),v=0;v<c.length;++v)m[v]=f[c[v]];return o(m)*u<1})}},3502:function(d,g,r){d.exports=n;var e=r(5995),o=r(9127);function n(u,f){return o(e(u,f))}},6468:function(d){d.exports=function(r){return atob(r)}},2642:function(d,g,r){d.exports=n;var e=r(727);function o(u){for(var f=0,c=0;c<u.length;++c)f+=u[c];return f}function n(u,f){for(var c=f.length,m=new Array(c+1),v=0;v<c;++v){for(var T=new Array(c+1),h=0;h<=c;++h)T[h]=u[h][v];m[v]=T}m[c]=new Array(c+1);for(var v=0;v<=c;++v)m[c][v]=1;for(var i=new Array(c+1),v=0;v<c;++v)i[v]=f[v];i[c]=1;var p=e(m,i),w=o(p[c+1]);w===0&&(w=1);for(var A=new Array(c+1),v=0;v<=c;++v)A[v]=o(p[v])/w;return A}},7507:function(d,g){g.byteLength=m,g.toByteArray=T,g.fromByteArray=p;for(var r=[],e=[],o=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,f=n.length;u<f;++u)r[u]=n[u],e[n.charCodeAt(u)]=u;e[45]=62,e[95]=63;function c(w){var A=w.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=w.indexOf("=");L===-1&&(L=A);var x=L===A?0:4-L%4;return[L,x]}function m(w){var A=c(w),L=A[0],x=A[1];return(L+x)*3/4-x}function v(w,A,L){return(A+L)*3/4-L}function T(w){var A,L=c(w),x=L[0],E=L[1],S=new o(v(w,x,E)),a=0,C=E>0?x-4:x,b;for(b=0;b<C;b+=4)A=e[w.charCodeAt(b)]<<18|e[w.charCodeAt(b+1)]<<12|e[w.charCodeAt(b+2)]<<6|e[w.charCodeAt(b+3)],S[a++]=A>>16&255,S[a++]=A>>8&255,S[a++]=A&255;return E===2&&(A=e[w.charCodeAt(b)]<<2|e[w.charCodeAt(b+1)]>>4,S[a++]=A&255),E===1&&(A=e[w.charCodeAt(b)]<<10|e[w.charCodeAt(b+1)]<<4|e[w.charCodeAt(b+2)]>>2,S[a++]=A>>8&255,S[a++]=A&255),S}function h(w){return r[w>>18&63]+r[w>>12&63]+r[w>>6&63]+r[w&63]}function i(w,A,L){for(var x,E=[],S=A;S<L;S+=3)x=(w[S]<<16&16711680)+(w[S+1]<<8&65280)+(w[S+2]&255),E.push(h(x));return E.join("")}function p(w){for(var A,L=w.length,x=L%3,E=[],S=16383,a=0,C=L-x;a<C;a+=S)E.push(i(w,a,a+S>C?C:a+S));return x===1?(A=w[L-1],E.push(r[A>>2]+r[A<<4&63]+"==")):x===2&&(A=(w[L-2]<<8)+w[L-1],E.push(r[A>>10]+r[A>>4&63]+r[A<<2&63]+"=")),E.join("")}},3865:function(d,g,r){var e=r(869);d.exports=o;function o(n,u){return e(n[0].mul(u[1]).add(u[0].mul(n[1])),n[1].mul(u[1]))}},1318:function(d){d.exports=g;function g(r,e){return r[0].mul(e[1]).cmp(e[0].mul(r[1]))}},8697:function(d,g,r){var e=r(869);d.exports=o;function o(n,u){return e(n[0].mul(u[1]),n[1].mul(u[0]))}},7842:function(d,g,r){var e=r(6330),o=r(1533),n=r(2651),u=r(4387),f=r(869),c=r(8697);d.exports=m;function m(v,T){if(e(v))return T?c(v,m(T)):[v[0].clone(),v[1].clone()];var h=0,i,p;if(o(v))i=v.clone();else if(typeof v=="string")i=u(v);else{if(v===0)return[n(0),n(1)];if(v===Math.floor(v))i=n(v);else{for(;v!==Math.floor(v);)v=v*Math.pow(2,256),h-=256;i=n(v)}}if(e(T))i.mul(T[1]),p=T[0].clone();else if(o(T))p=T.clone();else if(typeof T=="string")p=u(T);else if(!T)p=n(1);else if(T===Math.floor(T))p=n(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),h+=256;p=n(T)}return h>0?i=i.ushln(h):h<0&&(p=p.ushln(-h)),f(i,p)}},6330:function(d,g,r){var e=r(1533);d.exports=o;function o(n){return Array.isArray(n)&&n.length===2&&e(n[0])&&e(n[1])}},5716:function(d,g,r){var e=r(6859);d.exports=o;function o(n){return n.cmp(new e(0))}},1369:function(d,g,r){var e=r(5716);d.exports=o;function o(n){var u=n.length,f=n.words,c=0;if(u===1)c=f[0];else if(u===2)c=f[0]+f[1]*67108864;else for(var m=0;m<u;m++){var v=f[m];c+=v*Math.pow(67108864,m)}return e(n)*c}},4025:function(d,g,r){var e=r(2361),o=r(8828).countTrailingZeros;d.exports=n;function n(u){var f=o(e.lo(u));if(f<32)return f;var c=o(e.hi(u));return c>20?52:c+32}},1533:function(d,g,r){r(6859),d.exports=e;function e(o){return o&&typeof o=="object"&&!!o.words}},2651:function(d,g,r){var e=r(6859),o=r(2361);d.exports=n;function n(u){var f=o.exponent(u);return f<52?new e(u):new e(u*Math.pow(2,52-f)).ushln(f-52)}},869:function(d,g,r){var e=r(2651),o=r(5716);d.exports=n;function n(u,f){var c=o(u),m=o(f);if(c===0)return[e(0),e(1)];if(m===0)return[e(0),e(0)];m<0&&(u=u.neg(),f=f.neg());var v=u.gcd(f);return v.cmpn(1)?[u.div(v),f.div(v)]:[u,f]}},4387:function(d,g,r){var e=r(6859);d.exports=o;function o(n){return new e(n)}},6504:function(d,g,r){var e=r(869);d.exports=o;function o(n,u){return e(n[0].mul(u[0]),n[1].mul(u[1]))}},7721:function(d,g,r){var e=r(5716);d.exports=o;function o(n){return e(n[0])*e(n[1])}},5572:function(d,g,r){var e=r(869);d.exports=o;function o(n,u){return e(n[0].mul(u[1]).sub(n[1].mul(u[0])),n[1].mul(u[1]))}},946:function(d,g,r){var e=r(1369),o=r(4025);d.exports=n;function n(u){var f=u[0],c=u[1];if(f.cmpn(0)===0)return 0;var m=f.abs().divmod(c.abs()),v=m.div,T=e(v),h=m.mod,i=f.negative!==c.negative?-1:1;if(h.cmpn(0)===0)return i*T;if(T){var p=o(T)+4,w=e(h.ushln(p).divRound(c));return i*(T+w*Math.pow(2,-p))}else{var A=c.bitLength()-h.bitLength()+53,w=e(h.ushln(A).divRound(c));return A<1023?i*w*Math.pow(2,-A):(w*=Math.pow(2,-1023),i*w*Math.pow(2,1023-A))}}},2478:function(d){function g(f,c,m,v,T){for(var h=T+1;v<=T;){var i=v+T>>>1,p=f[i],w=m!==void 0?m(p,c):p-c;w>=0?(h=i,T=i-1):v=i+1}return h}function r(f,c,m,v,T){for(var h=T+1;v<=T;){var i=v+T>>>1,p=f[i],w=m!==void 0?m(p,c):p-c;w>0?(h=i,T=i-1):v=i+1}return h}function e(f,c,m,v,T){for(var h=v-1;v<=T;){var i=v+T>>>1,p=f[i],w=m!==void 0?m(p,c):p-c;w<0?(h=i,v=i+1):T=i-1}return h}function o(f,c,m,v,T){for(var h=v-1;v<=T;){var i=v+T>>>1,p=f[i],w=m!==void 0?m(p,c):p-c;w<=0?(h=i,v=i+1):T=i-1}return h}function n(f,c,m,v,T){for(;v<=T;){var h=v+T>>>1,i=f[h],p=m!==void 0?m(i,c):i-c;if(p===0)return h;p<=0?v=h+1:T=h-1}return-1}function u(f,c,m,v,T,h){return typeof m=="function"?h(f,c,m,v===void 0?0:v|0,T===void 0?f.length-1:T|0):h(f,c,void 0,m===void 0?0:m|0,v===void 0?f.length-1:v|0)}d.exports={ge:function(f,c,m,v,T){return u(f,c,m,v,T,g)},gt:function(f,c,m,v,T){return u(f,c,m,v,T,r)},lt:function(f,c,m,v,T){return u(f,c,m,v,T,e)},le:function(f,c,m,v,T){return u(f,c,m,v,T,o)},eq:function(f,c,m,v,T){return u(f,c,m,v,T,n)}}},8828:function(d,g){"use restrict";var r=32;g.INT_BITS=r,g.INT_MAX=2147483647,g.INT_MIN=-1<<r-1,g.sign=function(n){return(n>0)-(n<0)},g.abs=function(n){var u=n>>r-1;return(n^u)-u},g.min=function(n,u){return u^(n^u)&-(n<u)},g.max=function(n,u){return n^(n^u)&-(n<u)},g.isPow2=function(n){return!(n&n-1)&&!!n},g.log2=function(n){var u,f;return u=(n>65535)<<4,n>>>=u,f=(n>255)<<3,n>>>=f,u|=f,f=(n>15)<<2,n>>>=f,u|=f,f=(n>3)<<1,n>>>=f,u|=f,u|n>>1},g.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},g.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function e(n){var u=32;return n&=-n,n&&u--,n&65535&&(u-=16),n&16711935&&(u-=8),n&252645135&&(u-=4),n&858993459&&(u-=2),n&1431655765&&(u-=1),u}g.countTrailingZeros=e,g.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},g.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},g.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var o=new Array(256);(function(n){for(var u=0;u<256;++u){var f=u,c=u,m=7;for(f>>>=1;f;f>>>=1)c<<=1,c|=f&1,--m;n[u]=c<<m&255}})(o),g.reverse=function(n){return o[n&255]<<24|o[n>>>8&255]<<16|o[n>>>16&255]<<8|o[n>>>24&255]},g.interleave2=function(n,u){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,n|u<<1},g.deinterleave2=function(n,u){return n=n>>>u&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},g.interleave3=function(n,u,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|=u<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},g.deinterleave3=function(n,u){return n=n>>>u&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},g.nextCombination=function(n){var u=n|n-1;return u+1|(~u&-~u)-1>>>e(n)+1}},6859:function(d,g,r){d=r.nmd(d),function(e,o){function n(N,O){if(!N)throw new Error(O||"Assertion failed")}function u(N,O){N.super_=O;var H=function(){};H.prototype=O.prototype,N.prototype=new H,N.prototype.constructor=N}function f(N,O,H){if(f.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((O==="le"||O==="be")&&(H=O,O=10),this._init(N||0,O||10,H||"be"))}typeof e=="object"?e.exports=f:o.BN=f,f.BN=f,f.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=r(7790).Buffer}catch{}f.isBN=function(O){return O instanceof f?!0:O!==null&&typeof O=="object"&&O.constructor.wordSize===f.wordSize&&Array.isArray(O.words)},f.max=function(O,H){return O.cmp(H)>0?O:H},f.min=function(O,H){return O.cmp(H)<0?O:H},f.prototype._init=function(O,H,X){if(typeof O=="number")return this._initNumber(O,H,X);if(typeof O=="object")return this._initArray(O,H,X);H==="hex"&&(H=16),n(H===(H|0)&&H>=2&&H<=36),O=O.toString().replace(/\s+/g,"");var J=0;O[0]==="-"&&(J++,this.negative=1),J<O.length&&(H===16?this._parseHex(O,J,X):(this._parseBase(O,H,J),X==="le"&&this._initArray(this.toArray(),H,X)))},f.prototype._initNumber=function(O,H,X){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[O&67108863],this.length=1):O<4503599627370496?(this.words=[O&67108863,O/67108864&67108863],this.length=2):(n(O<9007199254740992),this.words=[O&67108863,O/67108864&67108863,1],this.length=3),X==="le"&&this._initArray(this.toArray(),H,X)},f.prototype._initArray=function(O,H,X){if(n(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var et,it,ft=0;if(X==="be")for(J=O.length-1,et=0;J>=0;J-=3)it=O[J]|O[J-1]<<8|O[J-2]<<16,this.words[et]|=it<<ft&67108863,this.words[et+1]=it>>>26-ft&67108863,ft+=24,ft>=26&&(ft-=26,et++);else if(X==="le")for(J=0,et=0;J<O.length;J+=3)it=O[J]|O[J+1]<<8|O[J+2]<<16,this.words[et]|=it<<ft&67108863,this.words[et+1]=it>>>26-ft&67108863,ft+=24,ft>=26&&(ft-=26,et++);return this.strip()};function m(N,O){var H=N.charCodeAt(O);return H>=65&&H<=70?H-55:H>=97&&H<=102?H-87:H-48&15}function v(N,O,H){var X=m(N,H);return H-1>=O&&(X|=m(N,H-1)<<4),X}f.prototype._parseHex=function(O,H,X){this.length=Math.ceil((O.length-H)/6),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var et=0,it=0,ft;if(X==="be")for(J=O.length-1;J>=H;J-=2)ft=v(O,H,J)<<et,this.words[it]|=ft&67108863,et>=18?(et-=18,it+=1,this.words[it]|=ft>>>26):et+=8;else{var ot=O.length-H;for(J=ot%2===0?H+1:H;J<O.length;J+=2)ft=v(O,H,J)<<et,this.words[it]|=ft&67108863,et>=18?(et-=18,it+=1,this.words[it]|=ft>>>26):et+=8}this.strip()};function T(N,O,H,X){for(var J=0,et=Math.min(N.length,H),it=O;it<et;it++){var ft=N.charCodeAt(it)-48;J*=X,ft>=49?J+=ft-49+10:ft>=17?J+=ft-17+10:J+=ft}return J}f.prototype._parseBase=function(O,H,X){this.words=[0],this.length=1;for(var J=0,et=1;et<=67108863;et*=H)J++;J--,et=et/H|0;for(var it=O.length-X,ft=it%J,ot=Math.min(it,it-ft)+X,Q=0,tt=X;tt<ot;tt+=J)Q=T(O,tt,tt+J,H),this.imuln(et),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(ft!==0){var Z=1;for(Q=T(O,tt,O.length,H),tt=0;tt<ft;tt++)Z*=H;this.imuln(Z),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this.strip()},f.prototype.copy=function(O){O.words=new Array(this.length);for(var H=0;H<this.length;H++)O.words[H]=this.words[H];O.length=this.length,O.negative=this.negative,O.red=this.red},f.prototype.clone=function(){var O=new f(null);return this.copy(O),O},f.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],i=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(O,H){O=O||10,H=H|0||1;var X;if(O===16||O==="hex"){X="";for(var J=0,et=0,it=0;it<this.length;it++){var ft=this.words[it],ot=((ft<<J|et)&16777215).toString(16);et=ft>>>24-J&16777215,et!==0||it!==this.length-1?X=h[6-ot.length]+ot+X:X=ot+X,J+=2,J>=26&&(J-=26,it--)}for(et!==0&&(X=et.toString(16)+X);X.length%H!==0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}if(O===(O|0)&&O>=2&&O<=36){var Q=i[O],tt=p[O];X="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var q=Z.modn(tt).toString(O);Z=Z.idivn(tt),Z.isZero()?X=q+X:X=h[Q-q.length]+q+X}for(this.isZero()&&(X="0"+X);X.length%H!==0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}n(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=this.words[1]*67108864:this.length===3&&this.words[2]===1?O+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(O,H){return n(typeof c<"u"),this.toArrayLike(c,O,H)},f.prototype.toArray=function(O,H){return this.toArrayLike(Array,O,H)},f.prototype.toArrayLike=function(O,H,X){var J=this.byteLength(),et=X||Math.max(1,J);n(J<=et,"byte array longer than desired length"),n(et>0,"Requested array length <= 0"),this.strip();var it=H==="le",ft=new O(et),ot,Q,tt=this.clone();if(it){for(Q=0;!tt.isZero();Q++)ot=tt.andln(255),tt.iushrn(8),ft[Q]=ot;for(;Q<et;Q++)ft[Q]=0}else{for(Q=0;Q<et-J;Q++)ft[Q]=0;for(Q=0;!tt.isZero();Q++)ot=tt.andln(255),tt.iushrn(8),ft[et-Q-1]=ot}return ft},Math.clz32?f.prototype._countBits=function(O){return 32-Math.clz32(O)}:f.prototype._countBits=function(O){var H=O,X=0;return H>=4096&&(X+=13,H>>>=13),H>=64&&(X+=7,H>>>=7),H>=8&&(X+=4,H>>>=4),H>=2&&(X+=2,H>>>=2),X+H},f.prototype._zeroBits=function(O){if(O===0)return 26;var H=O,X=0;return H&8191||(X+=13,H>>>=13),H&127||(X+=7,H>>>=7),H&15||(X+=4,H>>>=4),H&3||(X+=2,H>>>=2),H&1||X++,X},f.prototype.bitLength=function(){var O=this.words[this.length-1],H=this._countBits(O);return(this.length-1)*26+H};function w(N){for(var O=new Array(N.bitLength()),H=0;H<O.length;H++){var X=H/26|0,J=H%26;O[H]=(N.words[X]&1<<J)>>>J}return O}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,H=0;H<this.length;H++){var X=this._zeroBits(this.words[H]);if(O+=X,X!==26)break}return O},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},f.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var H=0;H<O.length;H++)this.words[H]=this.words[H]|O.words[H];return this.strip()},f.prototype.ior=function(O){return n((this.negative|O.negative)===0),this.iuor(O)},f.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},f.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},f.prototype.iuand=function(O){var H;this.length>O.length?H=O:H=this;for(var X=0;X<H.length;X++)this.words[X]=this.words[X]&O.words[X];return this.length=H.length,this.strip()},f.prototype.iand=function(O){return n((this.negative|O.negative)===0),this.iuand(O)},f.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},f.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},f.prototype.iuxor=function(O){var H,X;this.length>O.length?(H=this,X=O):(H=O,X=this);for(var J=0;J<X.length;J++)this.words[J]=H.words[J]^X.words[J];if(this!==H)for(;J<H.length;J++)this.words[J]=H.words[J];return this.length=H.length,this.strip()},f.prototype.ixor=function(O){return n((this.negative|O.negative)===0),this.iuxor(O)},f.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},f.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},f.prototype.inotn=function(O){n(typeof O=="number"&&O>=0);var H=Math.ceil(O/26)|0,X=O%26;this._expand(H),X>0&&H--;for(var J=0;J<H;J++)this.words[J]=~this.words[J]&67108863;return X>0&&(this.words[J]=~this.words[J]&67108863>>26-X),this.strip()},f.prototype.notn=function(O){return this.clone().inotn(O)},f.prototype.setn=function(O,H){n(typeof O=="number"&&O>=0);var X=O/26|0,J=O%26;return this._expand(X+1),H?this.words[X]=this.words[X]|1<<J:this.words[X]=this.words[X]&~(1<<J),this.strip()},f.prototype.iadd=function(O){var H;if(this.negative!==0&&O.negative===0)return this.negative=0,H=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,H=this.isub(O),O.negative=1,H._normSign();var X,J;this.length>O.length?(X=this,J=O):(X=O,J=this);for(var et=0,it=0;it<J.length;it++)H=(X.words[it]|0)+(J.words[it]|0)+et,this.words[it]=H&67108863,et=H>>>26;for(;et!==0&&it<X.length;it++)H=(X.words[it]|0)+et,this.words[it]=H&67108863,et=H>>>26;if(this.length=X.length,et!==0)this.words[this.length]=et,this.length++;else if(X!==this)for(;it<X.length;it++)this.words[it]=X.words[it];return this},f.prototype.add=function(O){var H;return O.negative!==0&&this.negative===0?(O.negative=0,H=this.sub(O),O.negative^=1,H):O.negative===0&&this.negative!==0?(this.negative=0,H=O.sub(this),this.negative=1,H):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},f.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var H=this.iadd(O);return O.negative=1,H._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var X=this.cmp(O);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var J,et;X>0?(J=this,et=O):(J=O,et=this);for(var it=0,ft=0;ft<et.length;ft++)H=(J.words[ft]|0)-(et.words[ft]|0)+it,it=H>>26,this.words[ft]=H&67108863;for(;it!==0&&ft<J.length;ft++)H=(J.words[ft]|0)+it,it=H>>26,this.words[ft]=H&67108863;if(it===0&&ft<J.length&&J!==this)for(;ft<J.length;ft++)this.words[ft]=J.words[ft];return this.length=Math.max(this.length,ft),J!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(O){return this.clone().isub(O)};function A(N,O,H){H.negative=O.negative^N.negative;var X=N.length+O.length|0;H.length=X,X=X-1|0;var J=N.words[0]|0,et=O.words[0]|0,it=J*et,ft=it&67108863,ot=it/67108864|0;H.words[0]=ft;for(var Q=1;Q<X;Q++){for(var tt=ot>>>26,Z=ot&67108863,q=Math.min(Q,O.length-1),ut=Math.max(0,Q-N.length+1);ut<=q;ut++){var $=Q-ut|0;J=N.words[$]|0,et=O.words[ut]|0,it=J*et+Z,tt+=it/67108864|0,Z=it&67108863}H.words[Q]=Z|0,ot=tt|0}return ot!==0?H.words[Q]=ot|0:H.length--,H.strip()}var L=function(O,H,X){var J=O.words,et=H.words,it=X.words,ft=0,ot,Q,tt,Z=J[0]|0,q=Z&8191,ut=Z>>>13,$=J[1]|0,j=$&8191,lt=$>>>13,nt=J[2]|0,ht=nt&8191,mt=nt>>>13,At=J[3]|0,bt=At&8191,Pt=At>>>13,_t=J[4]|0,Ut=_t&8191,St=_t>>>13,Rt=J[5]|0,Et=Rt&8191,zt=Rt>>>13,Ct=J[6]|0,Wt=Ct&8191,Kt=Ct>>>13,oe=J[7]|0,Jt=oe&8191,te=oe>>>13,fe=J[8]|0,ve=fe&8191,de=fe>>>13,xe=J[9]|0,Me=xe&8191,ne=xe>>>13,kt=et[0]|0,Gt=kt&8191,Yt=kt>>>13,Zt=et[1]|0,It=Zt&8191,Nt=Zt>>>13,Ht=et[2]|0,Lt=Ht&8191,dt=Ht>>>13,xt=et[3]|0,Ot=xt&8191,jt=xt>>>13,ie=et[4]|0,le=ie&8191,Ve=ie>>>13,je=et[5]|0,Te=je&8191,Le=je>>>13,Ke=et[6]|0,vr=Ke&8191,ge=Ke>>>13,Xe=et[7]|0,$e=Xe&8191,mr=Xe>>>13,or=et[8]|0,ye=or&8191,ue=or>>>13,be=et[9]|0,Ee=be&8191,_e=be>>>13;X.negative=O.negative^H.negative,X.length=19,ot=Math.imul(q,Gt),Q=Math.imul(q,Yt),Q=Q+Math.imul(ut,Gt)|0,tt=Math.imul(ut,Yt);var Oe=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,ot=Math.imul(j,Gt),Q=Math.imul(j,Yt),Q=Q+Math.imul(lt,Gt)|0,tt=Math.imul(lt,Yt),ot=ot+Math.imul(q,It)|0,Q=Q+Math.imul(q,Nt)|0,Q=Q+Math.imul(ut,It)|0,tt=tt+Math.imul(ut,Nt)|0;var Fe=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,ot=Math.imul(ht,Gt),Q=Math.imul(ht,Yt),Q=Q+Math.imul(mt,Gt)|0,tt=Math.imul(mt,Yt),ot=ot+Math.imul(j,It)|0,Q=Q+Math.imul(j,Nt)|0,Q=Q+Math.imul(lt,It)|0,tt=tt+Math.imul(lt,Nt)|0,ot=ot+Math.imul(q,Lt)|0,Q=Q+Math.imul(q,dt)|0,Q=Q+Math.imul(ut,Lt)|0,tt=tt+Math.imul(ut,dt)|0;var Be=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(Be>>>26)|0,Be&=67108863,ot=Math.imul(bt,Gt),Q=Math.imul(bt,Yt),Q=Q+Math.imul(Pt,Gt)|0,tt=Math.imul(Pt,Yt),ot=ot+Math.imul(ht,It)|0,Q=Q+Math.imul(ht,Nt)|0,Q=Q+Math.imul(mt,It)|0,tt=tt+Math.imul(mt,Nt)|0,ot=ot+Math.imul(j,Lt)|0,Q=Q+Math.imul(j,dt)|0,Q=Q+Math.imul(lt,Lt)|0,tt=tt+Math.imul(lt,dt)|0,ot=ot+Math.imul(q,Ot)|0,Q=Q+Math.imul(q,jt)|0,Q=Q+Math.imul(ut,Ot)|0,tt=tt+Math.imul(ut,jt)|0;var Je=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(Je>>>26)|0,Je&=67108863,ot=Math.imul(Ut,Gt),Q=Math.imul(Ut,Yt),Q=Q+Math.imul(St,Gt)|0,tt=Math.imul(St,Yt),ot=ot+Math.imul(bt,It)|0,Q=Q+Math.imul(bt,Nt)|0,Q=Q+Math.imul(Pt,It)|0,tt=tt+Math.imul(Pt,Nt)|0,ot=ot+Math.imul(ht,Lt)|0,Q=Q+Math.imul(ht,dt)|0,Q=Q+Math.imul(mt,Lt)|0,tt=tt+Math.imul(mt,dt)|0,ot=ot+Math.imul(j,Ot)|0,Q=Q+Math.imul(j,jt)|0,Q=Q+Math.imul(lt,Ot)|0,tt=tt+Math.imul(lt,jt)|0,ot=ot+Math.imul(q,le)|0,Q=Q+Math.imul(q,Ve)|0,Q=Q+Math.imul(ut,le)|0,tt=tt+Math.imul(ut,Ve)|0;var hr=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(hr>>>26)|0,hr&=67108863,ot=Math.imul(Et,Gt),Q=Math.imul(Et,Yt),Q=Q+Math.imul(zt,Gt)|0,tt=Math.imul(zt,Yt),ot=ot+Math.imul(Ut,It)|0,Q=Q+Math.imul(Ut,Nt)|0,Q=Q+Math.imul(St,It)|0,tt=tt+Math.imul(St,Nt)|0,ot=ot+Math.imul(bt,Lt)|0,Q=Q+Math.imul(bt,dt)|0,Q=Q+Math.imul(Pt,Lt)|0,tt=tt+Math.imul(Pt,dt)|0,ot=ot+Math.imul(ht,Ot)|0,Q=Q+Math.imul(ht,jt)|0,Q=Q+Math.imul(mt,Ot)|0,tt=tt+Math.imul(mt,jt)|0,ot=ot+Math.imul(j,le)|0,Q=Q+Math.imul(j,Ve)|0,Q=Q+Math.imul(lt,le)|0,tt=tt+Math.imul(lt,Ve)|0,ot=ot+Math.imul(q,Te)|0,Q=Q+Math.imul(q,Le)|0,Q=Q+Math.imul(ut,Te)|0,tt=tt+Math.imul(ut,Le)|0;var cr=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(cr>>>26)|0,cr&=67108863,ot=Math.imul(Wt,Gt),Q=Math.imul(Wt,Yt),Q=Q+Math.imul(Kt,Gt)|0,tt=Math.imul(Kt,Yt),ot=ot+Math.imul(Et,It)|0,Q=Q+Math.imul(Et,Nt)|0,Q=Q+Math.imul(zt,It)|0,tt=tt+Math.imul(zt,Nt)|0,ot=ot+Math.imul(Ut,Lt)|0,Q=Q+Math.imul(Ut,dt)|0,Q=Q+Math.imul(St,Lt)|0,tt=tt+Math.imul(St,dt)|0,ot=ot+Math.imul(bt,Ot)|0,Q=Q+Math.imul(bt,jt)|0,Q=Q+Math.imul(Pt,Ot)|0,tt=tt+Math.imul(Pt,jt)|0,ot=ot+Math.imul(ht,le)|0,Q=Q+Math.imul(ht,Ve)|0,Q=Q+Math.imul(mt,le)|0,tt=tt+Math.imul(mt,Ve)|0,ot=ot+Math.imul(j,Te)|0,Q=Q+Math.imul(j,Le)|0,Q=Q+Math.imul(lt,Te)|0,tt=tt+Math.imul(lt,Le)|0,ot=ot+Math.imul(q,vr)|0,Q=Q+Math.imul(q,ge)|0,Q=Q+Math.imul(ut,vr)|0,tt=tt+Math.imul(ut,ge)|0;var dr=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(dr>>>26)|0,dr&=67108863,ot=Math.imul(Jt,Gt),Q=Math.imul(Jt,Yt),Q=Q+Math.imul(te,Gt)|0,tt=Math.imul(te,Yt),ot=ot+Math.imul(Wt,It)|0,Q=Q+Math.imul(Wt,Nt)|0,Q=Q+Math.imul(Kt,It)|0,tt=tt+Math.imul(Kt,Nt)|0,ot=ot+Math.imul(Et,Lt)|0,Q=Q+Math.imul(Et,dt)|0,Q=Q+Math.imul(zt,Lt)|0,tt=tt+Math.imul(zt,dt)|0,ot=ot+Math.imul(Ut,Ot)|0,Q=Q+Math.imul(Ut,jt)|0,Q=Q+Math.imul(St,Ot)|0,tt=tt+Math.imul(St,jt)|0,ot=ot+Math.imul(bt,le)|0,Q=Q+Math.imul(bt,Ve)|0,Q=Q+Math.imul(Pt,le)|0,tt=tt+Math.imul(Pt,Ve)|0,ot=ot+Math.imul(ht,Te)|0,Q=Q+Math.imul(ht,Le)|0,Q=Q+Math.imul(mt,Te)|0,tt=tt+Math.imul(mt,Le)|0,ot=ot+Math.imul(j,vr)|0,Q=Q+Math.imul(j,ge)|0,Q=Q+Math.imul(lt,vr)|0,tt=tt+Math.imul(lt,ge)|0,ot=ot+Math.imul(q,$e)|0,Q=Q+Math.imul(q,mr)|0,Q=Q+Math.imul(ut,$e)|0,tt=tt+Math.imul(ut,mr)|0;var fr=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(fr>>>26)|0,fr&=67108863,ot=Math.imul(ve,Gt),Q=Math.imul(ve,Yt),Q=Q+Math.imul(de,Gt)|0,tt=Math.imul(de,Yt),ot=ot+Math.imul(Jt,It)|0,Q=Q+Math.imul(Jt,Nt)|0,Q=Q+Math.imul(te,It)|0,tt=tt+Math.imul(te,Nt)|0,ot=ot+Math.imul(Wt,Lt)|0,Q=Q+Math.imul(Wt,dt)|0,Q=Q+Math.imul(Kt,Lt)|0,tt=tt+Math.imul(Kt,dt)|0,ot=ot+Math.imul(Et,Ot)|0,Q=Q+Math.imul(Et,jt)|0,Q=Q+Math.imul(zt,Ot)|0,tt=tt+Math.imul(zt,jt)|0,ot=ot+Math.imul(Ut,le)|0,Q=Q+Math.imul(Ut,Ve)|0,Q=Q+Math.imul(St,le)|0,tt=tt+Math.imul(St,Ve)|0,ot=ot+Math.imul(bt,Te)|0,Q=Q+Math.imul(bt,Le)|0,Q=Q+Math.imul(Pt,Te)|0,tt=tt+Math.imul(Pt,Le)|0,ot=ot+Math.imul(ht,vr)|0,Q=Q+Math.imul(ht,ge)|0,Q=Q+Math.imul(mt,vr)|0,tt=tt+Math.imul(mt,ge)|0,ot=ot+Math.imul(j,$e)|0,Q=Q+Math.imul(j,mr)|0,Q=Q+Math.imul(lt,$e)|0,tt=tt+Math.imul(lt,mr)|0,ot=ot+Math.imul(q,ye)|0,Q=Q+Math.imul(q,ue)|0,Q=Q+Math.imul(ut,ye)|0,tt=tt+Math.imul(ut,ue)|0;var Lr=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,ot=Math.imul(Me,Gt),Q=Math.imul(Me,Yt),Q=Q+Math.imul(ne,Gt)|0,tt=Math.imul(ne,Yt),ot=ot+Math.imul(ve,It)|0,Q=Q+Math.imul(ve,Nt)|0,Q=Q+Math.imul(de,It)|0,tt=tt+Math.imul(de,Nt)|0,ot=ot+Math.imul(Jt,Lt)|0,Q=Q+Math.imul(Jt,dt)|0,Q=Q+Math.imul(te,Lt)|0,tt=tt+Math.imul(te,dt)|0,ot=ot+Math.imul(Wt,Ot)|0,Q=Q+Math.imul(Wt,jt)|0,Q=Q+Math.imul(Kt,Ot)|0,tt=tt+Math.imul(Kt,jt)|0,ot=ot+Math.imul(Et,le)|0,Q=Q+Math.imul(Et,Ve)|0,Q=Q+Math.imul(zt,le)|0,tt=tt+Math.imul(zt,Ve)|0,ot=ot+Math.imul(Ut,Te)|0,Q=Q+Math.imul(Ut,Le)|0,Q=Q+Math.imul(St,Te)|0,tt=tt+Math.imul(St,Le)|0,ot=ot+Math.imul(bt,vr)|0,Q=Q+Math.imul(bt,ge)|0,Q=Q+Math.imul(Pt,vr)|0,tt=tt+Math.imul(Pt,ge)|0,ot=ot+Math.imul(ht,$e)|0,Q=Q+Math.imul(ht,mr)|0,Q=Q+Math.imul(mt,$e)|0,tt=tt+Math.imul(mt,mr)|0,ot=ot+Math.imul(j,ye)|0,Q=Q+Math.imul(j,ue)|0,Q=Q+Math.imul(lt,ye)|0,tt=tt+Math.imul(lt,ue)|0,ot=ot+Math.imul(q,Ee)|0,Q=Q+Math.imul(q,_e)|0,Q=Q+Math.imul(ut,Ee)|0,tt=tt+Math.imul(ut,_e)|0;var xr=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(xr>>>26)|0,xr&=67108863,ot=Math.imul(Me,It),Q=Math.imul(Me,Nt),Q=Q+Math.imul(ne,It)|0,tt=Math.imul(ne,Nt),ot=ot+Math.imul(ve,Lt)|0,Q=Q+Math.imul(ve,dt)|0,Q=Q+Math.imul(de,Lt)|0,tt=tt+Math.imul(de,dt)|0,ot=ot+Math.imul(Jt,Ot)|0,Q=Q+Math.imul(Jt,jt)|0,Q=Q+Math.imul(te,Ot)|0,tt=tt+Math.imul(te,jt)|0,ot=ot+Math.imul(Wt,le)|0,Q=Q+Math.imul(Wt,Ve)|0,Q=Q+Math.imul(Kt,le)|0,tt=tt+Math.imul(Kt,Ve)|0,ot=ot+Math.imul(Et,Te)|0,Q=Q+Math.imul(Et,Le)|0,Q=Q+Math.imul(zt,Te)|0,tt=tt+Math.imul(zt,Le)|0,ot=ot+Math.imul(Ut,vr)|0,Q=Q+Math.imul(Ut,ge)|0,Q=Q+Math.imul(St,vr)|0,tt=tt+Math.imul(St,ge)|0,ot=ot+Math.imul(bt,$e)|0,Q=Q+Math.imul(bt,mr)|0,Q=Q+Math.imul(Pt,$e)|0,tt=tt+Math.imul(Pt,mr)|0,ot=ot+Math.imul(ht,ye)|0,Q=Q+Math.imul(ht,ue)|0,Q=Q+Math.imul(mt,ye)|0,tt=tt+Math.imul(mt,ue)|0,ot=ot+Math.imul(j,Ee)|0,Q=Q+Math.imul(j,_e)|0,Q=Q+Math.imul(lt,Ee)|0,tt=tt+Math.imul(lt,_e)|0;var Qt=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,ot=Math.imul(Me,Lt),Q=Math.imul(Me,dt),Q=Q+Math.imul(ne,Lt)|0,tt=Math.imul(ne,dt),ot=ot+Math.imul(ve,Ot)|0,Q=Q+Math.imul(ve,jt)|0,Q=Q+Math.imul(de,Ot)|0,tt=tt+Math.imul(de,jt)|0,ot=ot+Math.imul(Jt,le)|0,Q=Q+Math.imul(Jt,Ve)|0,Q=Q+Math.imul(te,le)|0,tt=tt+Math.imul(te,Ve)|0,ot=ot+Math.imul(Wt,Te)|0,Q=Q+Math.imul(Wt,Le)|0,Q=Q+Math.imul(Kt,Te)|0,tt=tt+Math.imul(Kt,Le)|0,ot=ot+Math.imul(Et,vr)|0,Q=Q+Math.imul(Et,ge)|0,Q=Q+Math.imul(zt,vr)|0,tt=tt+Math.imul(zt,ge)|0,ot=ot+Math.imul(Ut,$e)|0,Q=Q+Math.imul(Ut,mr)|0,Q=Q+Math.imul(St,$e)|0,tt=tt+Math.imul(St,mr)|0,ot=ot+Math.imul(bt,ye)|0,Q=Q+Math.imul(bt,ue)|0,Q=Q+Math.imul(Pt,ye)|0,tt=tt+Math.imul(Pt,ue)|0,ot=ot+Math.imul(ht,Ee)|0,Q=Q+Math.imul(ht,_e)|0,Q=Q+Math.imul(mt,Ee)|0,tt=tt+Math.imul(mt,_e)|0;var re=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(re>>>26)|0,re&=67108863,ot=Math.imul(Me,Ot),Q=Math.imul(Me,jt),Q=Q+Math.imul(ne,Ot)|0,tt=Math.imul(ne,jt),ot=ot+Math.imul(ve,le)|0,Q=Q+Math.imul(ve,Ve)|0,Q=Q+Math.imul(de,le)|0,tt=tt+Math.imul(de,Ve)|0,ot=ot+Math.imul(Jt,Te)|0,Q=Q+Math.imul(Jt,Le)|0,Q=Q+Math.imul(te,Te)|0,tt=tt+Math.imul(te,Le)|0,ot=ot+Math.imul(Wt,vr)|0,Q=Q+Math.imul(Wt,ge)|0,Q=Q+Math.imul(Kt,vr)|0,tt=tt+Math.imul(Kt,ge)|0,ot=ot+Math.imul(Et,$e)|0,Q=Q+Math.imul(Et,mr)|0,Q=Q+Math.imul(zt,$e)|0,tt=tt+Math.imul(zt,mr)|0,ot=ot+Math.imul(Ut,ye)|0,Q=Q+Math.imul(Ut,ue)|0,Q=Q+Math.imul(St,ye)|0,tt=tt+Math.imul(St,ue)|0,ot=ot+Math.imul(bt,Ee)|0,Q=Q+Math.imul(bt,_e)|0,Q=Q+Math.imul(Pt,Ee)|0,tt=tt+Math.imul(Pt,_e)|0;var tr=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(tr>>>26)|0,tr&=67108863,ot=Math.imul(Me,le),Q=Math.imul(Me,Ve),Q=Q+Math.imul(ne,le)|0,tt=Math.imul(ne,Ve),ot=ot+Math.imul(ve,Te)|0,Q=Q+Math.imul(ve,Le)|0,Q=Q+Math.imul(de,Te)|0,tt=tt+Math.imul(de,Le)|0,ot=ot+Math.imul(Jt,vr)|0,Q=Q+Math.imul(Jt,ge)|0,Q=Q+Math.imul(te,vr)|0,tt=tt+Math.imul(te,ge)|0,ot=ot+Math.imul(Wt,$e)|0,Q=Q+Math.imul(Wt,mr)|0,Q=Q+Math.imul(Kt,$e)|0,tt=tt+Math.imul(Kt,mr)|0,ot=ot+Math.imul(Et,ye)|0,Q=Q+Math.imul(Et,ue)|0,Q=Q+Math.imul(zt,ye)|0,tt=tt+Math.imul(zt,ue)|0,ot=ot+Math.imul(Ut,Ee)|0,Q=Q+Math.imul(Ut,_e)|0,Q=Q+Math.imul(St,Ee)|0,tt=tt+Math.imul(St,_e)|0;var er=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(er>>>26)|0,er&=67108863,ot=Math.imul(Me,Te),Q=Math.imul(Me,Le),Q=Q+Math.imul(ne,Te)|0,tt=Math.imul(ne,Le),ot=ot+Math.imul(ve,vr)|0,Q=Q+Math.imul(ve,ge)|0,Q=Q+Math.imul(de,vr)|0,tt=tt+Math.imul(de,ge)|0,ot=ot+Math.imul(Jt,$e)|0,Q=Q+Math.imul(Jt,mr)|0,Q=Q+Math.imul(te,$e)|0,tt=tt+Math.imul(te,mr)|0,ot=ot+Math.imul(Wt,ye)|0,Q=Q+Math.imul(Wt,ue)|0,Q=Q+Math.imul(Kt,ye)|0,tt=tt+Math.imul(Kt,ue)|0,ot=ot+Math.imul(Et,Ee)|0,Q=Q+Math.imul(Et,_e)|0,Q=Q+Math.imul(zt,Ee)|0,tt=tt+Math.imul(zt,_e)|0;var Ye=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,ot=Math.imul(Me,vr),Q=Math.imul(Me,ge),Q=Q+Math.imul(ne,vr)|0,tt=Math.imul(ne,ge),ot=ot+Math.imul(ve,$e)|0,Q=Q+Math.imul(ve,mr)|0,Q=Q+Math.imul(de,$e)|0,tt=tt+Math.imul(de,mr)|0,ot=ot+Math.imul(Jt,ye)|0,Q=Q+Math.imul(Jt,ue)|0,Q=Q+Math.imul(te,ye)|0,tt=tt+Math.imul(te,ue)|0,ot=ot+Math.imul(Wt,Ee)|0,Q=Q+Math.imul(Wt,_e)|0,Q=Q+Math.imul(Kt,Ee)|0,tt=tt+Math.imul(Kt,_e)|0;var Pe=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,ot=Math.imul(Me,$e),Q=Math.imul(Me,mr),Q=Q+Math.imul(ne,$e)|0,tt=Math.imul(ne,mr),ot=ot+Math.imul(ve,ye)|0,Q=Q+Math.imul(ve,ue)|0,Q=Q+Math.imul(de,ye)|0,tt=tt+Math.imul(de,ue)|0,ot=ot+Math.imul(Jt,Ee)|0,Q=Q+Math.imul(Jt,_e)|0,Q=Q+Math.imul(te,Ee)|0,tt=tt+Math.imul(te,_e)|0;var Ze=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,ot=Math.imul(Me,ye),Q=Math.imul(Me,ue),Q=Q+Math.imul(ne,ye)|0,tt=Math.imul(ne,ue),ot=ot+Math.imul(ve,Ee)|0,Q=Q+Math.imul(ve,_e)|0,Q=Q+Math.imul(de,Ee)|0,tt=tt+Math.imul(de,_e)|0;var nr=(ft+ot|0)+((Q&8191)<<13)|0;ft=(tt+(Q>>>13)|0)+(nr>>>26)|0,nr&=67108863,ot=Math.imul(Me,Ee),Q=Math.imul(Me,_e),Q=Q+Math.imul(ne,Ee)|0,tt=Math.imul(ne,_e);var Qe=(ft+ot|0)+((Q&8191)<<13)|0;return ft=(tt+(Q>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,it[0]=Oe,it[1]=Fe,it[2]=Be,it[3]=Je,it[4]=hr,it[5]=cr,it[6]=dr,it[7]=fr,it[8]=Lr,it[9]=xr,it[10]=Qt,it[11]=re,it[12]=tr,it[13]=er,it[14]=Ye,it[15]=Pe,it[16]=Ze,it[17]=nr,it[18]=Qe,ft!==0&&(it[19]=ft,X.length++),X};Math.imul||(L=A);function x(N,O,H){H.negative=O.negative^N.negative,H.length=N.length+O.length;for(var X=0,J=0,et=0;et<H.length-1;et++){var it=J;J=0;for(var ft=X&67108863,ot=Math.min(et,O.length-1),Q=Math.max(0,et-N.length+1);Q<=ot;Q++){var tt=et-Q,Z=N.words[tt]|0,q=O.words[Q]|0,ut=Z*q,$=ut&67108863;it=it+(ut/67108864|0)|0,$=$+ft|0,ft=$&67108863,it=it+($>>>26)|0,J+=it>>>26,it&=67108863}H.words[et]=ft,X=it,it=J}return X!==0?H.words[et]=X:H.length--,H.strip()}function E(N,O,H){var X=new S;return X.mulp(N,O,H)}f.prototype.mulTo=function(O,H){var X,J=this.length+O.length;return this.length===10&&O.length===10?X=L(this,O,H):J<63?X=A(this,O,H):J<1024?X=x(this,O,H):X=E(this,O,H),X};function S(N,O){this.x=N,this.y=O}S.prototype.makeRBT=function(O){for(var H=new Array(O),X=f.prototype._countBits(O)-1,J=0;J<O;J++)H[J]=this.revBin(J,X,O);return H},S.prototype.revBin=function(O,H,X){if(O===0||O===X-1)return O;for(var J=0,et=0;et<H;et++)J|=(O&1)<<H-et-1,O>>=1;return J},S.prototype.permute=function(O,H,X,J,et,it){for(var ft=0;ft<it;ft++)J[ft]=H[O[ft]],et[ft]=X[O[ft]]},S.prototype.transform=function(O,H,X,J,et,it){this.permute(it,O,H,X,J,et);for(var ft=1;ft<et;ft<<=1)for(var ot=ft<<1,Q=Math.cos(2*Math.PI/ot),tt=Math.sin(2*Math.PI/ot),Z=0;Z<et;Z+=ot)for(var q=Q,ut=tt,$=0;$<ft;$++){var j=X[Z+$],lt=J[Z+$],nt=X[Z+$+ft],ht=J[Z+$+ft],mt=q*nt-ut*ht;ht=q*ht+ut*nt,nt=mt,X[Z+$]=j+nt,J[Z+$]=lt+ht,X[Z+$+ft]=j-nt,J[Z+$+ft]=lt-ht,$!==ot&&(mt=Q*q-tt*ut,ut=Q*ut+tt*q,q=mt)}},S.prototype.guessLen13b=function(O,H){var X=Math.max(H,O)|1,J=X&1,et=0;for(X=X/2|0;X;X=X>>>1)et++;return 1<<et+1+J},S.prototype.conjugate=function(O,H,X){if(!(X<=1))for(var J=0;J<X/2;J++){var et=O[J];O[J]=O[X-J-1],O[X-J-1]=et,et=H[J],H[J]=-H[X-J-1],H[X-J-1]=-et}},S.prototype.normalize13b=function(O,H){for(var X=0,J=0;J<H/2;J++){var et=Math.round(O[2*J+1]/H)*8192+Math.round(O[2*J]/H)+X;O[J]=et&67108863,et<67108864?X=0:X=et/67108864|0}return O},S.prototype.convert13b=function(O,H,X,J){for(var et=0,it=0;it<H;it++)et=et+(O[it]|0),X[2*it]=et&8191,et=et>>>13,X[2*it+1]=et&8191,et=et>>>13;for(it=2*H;it<J;++it)X[it]=0;n(et===0),n((et&-8192)===0)},S.prototype.stub=function(O){for(var H=new Array(O),X=0;X<O;X++)H[X]=0;return H},S.prototype.mulp=function(O,H,X){var J=2*this.guessLen13b(O.length,H.length),et=this.makeRBT(J),it=this.stub(J),ft=new Array(J),ot=new Array(J),Q=new Array(J),tt=new Array(J),Z=new Array(J),q=new Array(J),ut=X.words;ut.length=J,this.convert13b(O.words,O.length,ft,J),this.convert13b(H.words,H.length,tt,J),this.transform(ft,it,ot,Q,J,et),this.transform(tt,it,Z,q,J,et);for(var $=0;$<J;$++){var j=ot[$]*Z[$]-Q[$]*q[$];Q[$]=ot[$]*q[$]+Q[$]*Z[$],ot[$]=j}return this.conjugate(ot,Q,J),this.transform(ot,Q,ut,it,J,et),this.conjugate(ut,it,J),this.normalize13b(ut,J),X.negative=O.negative^H.negative,X.length=O.length+H.length,X.strip()},f.prototype.mul=function(O){var H=new f(null);return H.words=new Array(this.length+O.length),this.mulTo(O,H)},f.prototype.mulf=function(O){var H=new f(null);return H.words=new Array(this.length+O.length),E(this,O,H)},f.prototype.imul=function(O){return this.clone().mulTo(O,this)},f.prototype.imuln=function(O){n(typeof O=="number"),n(O<67108864);for(var H=0,X=0;X<this.length;X++){var J=(this.words[X]|0)*O,et=(J&67108863)+(H&67108863);H>>=26,H+=J/67108864|0,H+=et>>>26,this.words[X]=et&67108863}return H!==0&&(this.words[X]=H,this.length++),this},f.prototype.muln=function(O){return this.clone().imuln(O)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(O){var H=w(O);if(H.length===0)return new f(1);for(var X=this,J=0;J<H.length&&H[J]===0;J++,X=X.sqr());if(++J<H.length)for(var et=X.sqr();J<H.length;J++,et=et.sqr())H[J]!==0&&(X=X.mul(et));return X},f.prototype.iushln=function(O){n(typeof O=="number"&&O>=0);var H=O%26,X=(O-H)/26,J=67108863>>>26-H<<26-H,et;if(H!==0){var it=0;for(et=0;et<this.length;et++){var ft=this.words[et]&J,ot=(this.words[et]|0)-ft<<H;this.words[et]=ot|it,it=ft>>>26-H}it&&(this.words[et]=it,this.length++)}if(X!==0){for(et=this.length-1;et>=0;et--)this.words[et+X]=this.words[et];for(et=0;et<X;et++)this.words[et]=0;this.length+=X}return this.strip()},f.prototype.ishln=function(O){return n(this.negative===0),this.iushln(O)},f.prototype.iushrn=function(O,H,X){n(typeof O=="number"&&O>=0);var J;H?J=(H-H%26)/26:J=0;var et=O%26,it=Math.min((O-et)/26,this.length),ft=67108863^67108863>>>et<<et,ot=X;if(J-=it,J=Math.max(0,J),ot){for(var Q=0;Q<it;Q++)ot.words[Q]=this.words[Q];ot.length=it}if(it!==0)if(this.length>it)for(this.length-=it,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+it];else this.words[0]=0,this.length=1;var tt=0;for(Q=this.length-1;Q>=0&&(tt!==0||Q>=J);Q--){var Z=this.words[Q]|0;this.words[Q]=tt<<26-et|Z>>>et,tt=Z&ft}return ot&&tt!==0&&(ot.words[ot.length++]=tt),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(O,H,X){return n(this.negative===0),this.iushrn(O,H,X)},f.prototype.shln=function(O){return this.clone().ishln(O)},f.prototype.ushln=function(O){return this.clone().iushln(O)},f.prototype.shrn=function(O){return this.clone().ishrn(O)},f.prototype.ushrn=function(O){return this.clone().iushrn(O)},f.prototype.testn=function(O){n(typeof O=="number"&&O>=0);var H=O%26,X=(O-H)/26,J=1<<H;if(this.length<=X)return!1;var et=this.words[X];return!!(et&J)},f.prototype.imaskn=function(O){n(typeof O=="number"&&O>=0);var H=O%26,X=(O-H)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(H!==0&&X++,this.length=Math.min(X,this.length),H!==0){var J=67108863^67108863>>>H<<H;this.words[this.length-1]&=J}return this.strip()},f.prototype.maskn=function(O){return this.clone().imaskn(O)},f.prototype.iaddn=function(O){return n(typeof O=="number"),n(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(this.words[0]|0)<O?(this.words[0]=O-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},f.prototype._iaddn=function(O){this.words[0]+=O;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)this.words[H]-=67108864,H===this.length-1?this.words[H+1]=1:this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},f.prototype.isubn=function(O){if(n(typeof O=="number"),n(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this.strip()},f.prototype.addn=function(O){return this.clone().iaddn(O)},f.prototype.subn=function(O){return this.clone().isubn(O)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(O,H,X){var J=O.length+X,et;this._expand(J);var it,ft=0;for(et=0;et<O.length;et++){it=(this.words[et+X]|0)+ft;var ot=(O.words[et]|0)*H;it-=ot&67108863,ft=(it>>26)-(ot/67108864|0),this.words[et+X]=it&67108863}for(;et<this.length-X;et++)it=(this.words[et+X]|0)+ft,ft=it>>26,this.words[et+X]=it&67108863;if(ft===0)return this.strip();for(n(ft===-1),ft=0,et=0;et<this.length;et++)it=-(this.words[et]|0)+ft,ft=it>>26,this.words[et]=it&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(O,H){var X=this.length-O.length,J=this.clone(),et=O,it=et.words[et.length-1]|0,ft=this._countBits(it);X=26-ft,X!==0&&(et=et.ushln(X),J.iushln(X),it=et.words[et.length-1]|0);var ot=J.length-et.length,Q;if(H!=="mod"){Q=new f(null),Q.length=ot+1,Q.words=new Array(Q.length);for(var tt=0;tt<Q.length;tt++)Q.words[tt]=0}var Z=J.clone()._ishlnsubmul(et,1,ot);Z.negative===0&&(J=Z,Q&&(Q.words[ot]=1));for(var q=ot-1;q>=0;q--){var ut=(J.words[et.length+q]|0)*67108864+(J.words[et.length+q-1]|0);for(ut=Math.min(ut/it|0,67108863),J._ishlnsubmul(et,ut,q);J.negative!==0;)ut--,J.negative=0,J._ishlnsubmul(et,1,q),J.isZero()||(J.negative^=1);Q&&(Q.words[q]=ut)}return Q&&Q.strip(),J.strip(),H!=="div"&&X!==0&&J.iushrn(X),{div:Q||null,mod:J}},f.prototype.divmod=function(O,H,X){if(n(!O.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var J,et,it;return this.negative!==0&&O.negative===0?(it=this.neg().divmod(O,H),H!=="mod"&&(J=it.div.neg()),H!=="div"&&(et=it.mod.neg(),X&&et.negative!==0&&et.iadd(O)),{div:J,mod:et}):this.negative===0&&O.negative!==0?(it=this.divmod(O.neg(),H),H!=="mod"&&(J=it.div.neg()),{div:J,mod:it.mod}):this.negative&O.negative?(it=this.neg().divmod(O.neg(),H),H!=="div"&&(et=it.mod.neg(),X&&et.negative!==0&&et.isub(O)),{div:it.div,mod:et}):O.length>this.length||this.cmp(O)<0?{div:new f(0),mod:this}:O.length===1?H==="div"?{div:this.divn(O.words[0]),mod:null}:H==="mod"?{div:null,mod:new f(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new f(this.modn(O.words[0]))}:this._wordDiv(O,H)},f.prototype.div=function(O){return this.divmod(O,"div",!1).div},f.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},f.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},f.prototype.divRound=function(O){var H=this.divmod(O);if(H.mod.isZero())return H.div;var X=H.div.negative!==0?H.mod.isub(O):H.mod,J=O.ushrn(1),et=O.andln(1),it=X.cmp(J);return it<0||et===1&&it===0?H.div:H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},f.prototype.modn=function(O){n(O<=67108863);for(var H=(1<<26)%O,X=0,J=this.length-1;J>=0;J--)X=(H*X+(this.words[J]|0))%O;return X},f.prototype.idivn=function(O){n(O<=67108863);for(var H=0,X=this.length-1;X>=0;X--){var J=(this.words[X]|0)+H*67108864;this.words[X]=J/O|0,H=J%O}return this.strip()},f.prototype.divn=function(O){return this.clone().idivn(O)},f.prototype.egcd=function(O){n(O.negative===0),n(!O.isZero());var H=this,X=O.clone();H.negative!==0?H=H.umod(O):H=H.clone();for(var J=new f(1),et=new f(0),it=new f(0),ft=new f(1),ot=0;H.isEven()&&X.isEven();)H.iushrn(1),X.iushrn(1),++ot;for(var Q=X.clone(),tt=H.clone();!H.isZero();){for(var Z=0,q=1;!(H.words[0]&q)&&Z<26;++Z,q<<=1);if(Z>0)for(H.iushrn(Z);Z-- >0;)(J.isOdd()||et.isOdd())&&(J.iadd(Q),et.isub(tt)),J.iushrn(1),et.iushrn(1);for(var ut=0,$=1;!(X.words[0]&$)&&ut<26;++ut,$<<=1);if(ut>0)for(X.iushrn(ut);ut-- >0;)(it.isOdd()||ft.isOdd())&&(it.iadd(Q),ft.isub(tt)),it.iushrn(1),ft.iushrn(1);H.cmp(X)>=0?(H.isub(X),J.isub(it),et.isub(ft)):(X.isub(H),it.isub(J),ft.isub(et))}return{a:it,b:ft,gcd:X.iushln(ot)}},f.prototype._invmp=function(O){n(O.negative===0),n(!O.isZero());var H=this,X=O.clone();H.negative!==0?H=H.umod(O):H=H.clone();for(var J=new f(1),et=new f(0),it=X.clone();H.cmpn(1)>0&&X.cmpn(1)>0;){for(var ft=0,ot=1;!(H.words[0]&ot)&&ft<26;++ft,ot<<=1);if(ft>0)for(H.iushrn(ft);ft-- >0;)J.isOdd()&&J.iadd(it),J.iushrn(1);for(var Q=0,tt=1;!(X.words[0]&tt)&&Q<26;++Q,tt<<=1);if(Q>0)for(X.iushrn(Q);Q-- >0;)et.isOdd()&&et.iadd(it),et.iushrn(1);H.cmp(X)>=0?(H.isub(X),J.isub(et)):(X.isub(H),et.isub(J))}var Z;return H.cmpn(1)===0?Z=J:Z=et,Z.cmpn(0)<0&&Z.iadd(O),Z},f.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var H=this.clone(),X=O.clone();H.negative=0,X.negative=0;for(var J=0;H.isEven()&&X.isEven();J++)H.iushrn(1),X.iushrn(1);do{for(;H.isEven();)H.iushrn(1);for(;X.isEven();)X.iushrn(1);var et=H.cmp(X);if(et<0){var it=H;H=X,X=it}else if(et===0||X.cmpn(1)===0)break;H.isub(X)}while(!0);return X.iushln(J)},f.prototype.invm=function(O){return this.egcd(O).a.umod(O)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(O){return this.words[0]&O},f.prototype.bincn=function(O){n(typeof O=="number");var H=O%26,X=(O-H)/26,J=1<<H;if(this.length<=X)return this._expand(X+1),this.words[X]|=J,this;for(var et=J,it=X;et!==0&&it<this.length;it++){var ft=this.words[it]|0;ft+=et,et=ft>>>26,ft&=67108863,this.words[it]=ft}return et!==0&&(this.words[it]=et,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(O){var H=O<0;if(this.negative!==0&&!H)return-1;if(this.negative===0&&H)return 1;this.strip();var X;if(this.length>1)X=1;else{H&&(O=-O),n(O<=67108863,"Number is too big");var J=this.words[0]|0;X=J===O?0:J<O?-1:1}return this.negative!==0?-X|0:X},f.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var H=this.ucmp(O);return this.negative!==0?-H|0:H},f.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var H=0,X=this.length-1;X>=0;X--){var J=this.words[X]|0,et=O.words[X]|0;if(J!==et){J<et?H=-1:J>et&&(H=1);break}}return H},f.prototype.gtn=function(O){return this.cmpn(O)===1},f.prototype.gt=function(O){return this.cmp(O)===1},f.prototype.gten=function(O){return this.cmpn(O)>=0},f.prototype.gte=function(O){return this.cmp(O)>=0},f.prototype.ltn=function(O){return this.cmpn(O)===-1},f.prototype.lt=function(O){return this.cmp(O)===-1},f.prototype.lten=function(O){return this.cmpn(O)<=0},f.prototype.lte=function(O){return this.cmp(O)<=0},f.prototype.eqn=function(O){return this.cmpn(O)===0},f.prototype.eq=function(O){return this.cmp(O)===0},f.red=function(O){return new F(O)},f.prototype.toRed=function(O){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},f.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(O){return this.red=O,this},f.prototype.forceRed=function(O){return n(!this.red,"Already a number in reduction context"),this._forceRed(O)},f.prototype.redAdd=function(O){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},f.prototype.redIAdd=function(O){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},f.prototype.redSub=function(O){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},f.prototype.redISub=function(O){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},f.prototype.redShl=function(O){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},f.prototype.redMul=function(O){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},f.prototype.redIMul=function(O){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},f.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(O){return n(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var a={k256:null,p224:null,p192:null,p25519:null};function C(N,O){this.name=N,this.p=new f(O,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var O=new f(null);return O.words=new Array(Math.ceil(this.n/13)),O},C.prototype.ireduce=function(O){var H=O,X;do this.split(H,this.tmp),H=this.imulK(H),H=H.iadd(this.tmp),X=H.bitLength();while(X>this.n);var J=X<this.n?-1:H.ucmp(this.p);return J===0?(H.words[0]=0,H.length=1):J>0?H.isub(this.p):H.strip!==void 0?H.strip():H._strip(),H},C.prototype.split=function(O,H){O.iushrn(this.n,0,H)},C.prototype.imulK=function(O){return O.imul(this.k)};function b(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(b,C),b.prototype.split=function(O,H){for(var X=4194303,J=Math.min(O.length,9),et=0;et<J;et++)H.words[et]=O.words[et];if(H.length=J,O.length<=9){O.words[0]=0,O.length=1;return}var it=O.words[9];for(H.words[H.length++]=it&X,et=10;et<O.length;et++){var ft=O.words[et]|0;O.words[et-10]=(ft&X)<<4|it>>>22,it=ft}it>>>=22,O.words[et-10]=it,it===0&&O.length>10?O.length-=10:O.length-=9},b.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var H=0,X=0;X<O.length;X++){var J=O.words[X]|0;H+=J*977,O.words[X]=H&67108863,H=J*64+(H/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O};function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(z,C);function k(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(k,C);function U(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(U,C),U.prototype.imulK=function(O){for(var H=0,X=0;X<O.length;X++){var J=(O.words[X]|0)*19+H,et=J&67108863;J>>>=26,O.words[X]=et,H=J}return H!==0&&(O.words[O.length++]=H),O},f._prime=function(O){if(a[O])return a[O];var H;if(O==="k256")H=new b;else if(O==="p224")H=new z;else if(O==="p192")H=new k;else if(O==="p25519")H=new U;else throw new Error("Unknown prime "+O);return a[O]=H,H};function F(N){if(typeof N=="string"){var O=f._prime(N);this.m=O.p,this.prime=O}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}F.prototype._verify1=function(O){n(O.negative===0,"red works only with positives"),n(O.red,"red works only with red numbers")},F.prototype._verify2=function(O,H){n((O.negative|H.negative)===0,"red works only with positives"),n(O.red&&O.red===H.red,"red works only with red numbers")},F.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},F.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},F.prototype.add=function(O,H){this._verify2(O,H);var X=O.add(H);return X.cmp(this.m)>=0&&X.isub(this.m),X._forceRed(this)},F.prototype.iadd=function(O,H){this._verify2(O,H);var X=O.iadd(H);return X.cmp(this.m)>=0&&X.isub(this.m),X},F.prototype.sub=function(O,H){this._verify2(O,H);var X=O.sub(H);return X.cmpn(0)<0&&X.iadd(this.m),X._forceRed(this)},F.prototype.isub=function(O,H){this._verify2(O,H);var X=O.isub(H);return X.cmpn(0)<0&&X.iadd(this.m),X},F.prototype.shl=function(O,H){return this._verify1(O),this.imod(O.ushln(H))},F.prototype.imul=function(O,H){return this._verify2(O,H),this.imod(O.imul(H))},F.prototype.mul=function(O,H){return this._verify2(O,H),this.imod(O.mul(H))},F.prototype.isqr=function(O){return this.imul(O,O.clone())},F.prototype.sqr=function(O){return this.mul(O,O)},F.prototype.sqrt=function(O){if(O.isZero())return O.clone();var H=this.m.andln(3);if(n(H%2===1),H===3){var X=this.m.add(new f(1)).iushrn(2);return this.pow(O,X)}for(var J=this.m.subn(1),et=0;!J.isZero()&&J.andln(1)===0;)et++,J.iushrn(1);n(!J.isZero());var it=new f(1).toRed(this),ft=it.redNeg(),ot=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new f(2*Q*Q).toRed(this);this.pow(Q,ot).cmp(ft)!==0;)Q.redIAdd(ft);for(var tt=this.pow(Q,J),Z=this.pow(O,J.addn(1).iushrn(1)),q=this.pow(O,J),ut=et;q.cmp(it)!==0;){for(var $=q,j=0;$.cmp(it)!==0;j++)$=$.redSqr();n(j<ut);var lt=this.pow(tt,new f(1).iushln(ut-j-1));Z=Z.redMul(lt),tt=lt.redSqr(),q=q.redMul(tt),ut=j}return Z},F.prototype.invm=function(O){var H=O._invmp(this.m);return H.negative!==0?(H.negative=0,this.imod(H).redNeg()):this.imod(H)},F.prototype.pow=function(O,H){if(H.isZero())return new f(1).toRed(this);if(H.cmpn(1)===0)return O.clone();var X=4,J=new Array(1<<X);J[0]=new f(1).toRed(this),J[1]=O;for(var et=2;et<J.length;et++)J[et]=this.mul(J[et-1],O);var it=J[0],ft=0,ot=0,Q=H.bitLength()%26;for(Q===0&&(Q=26),et=H.length-1;et>=0;et--){for(var tt=H.words[et],Z=Q-1;Z>=0;Z--){var q=tt>>Z&1;if(it!==J[0]&&(it=this.sqr(it)),q===0&&ft===0){ot=0;continue}ft<<=1,ft|=q,ot++,!(ot!==X&&(et!==0||Z!==0))&&(it=this.mul(it,J[ft]),ot=0,ft=0)}Q=26}return it},F.prototype.convertTo=function(O){var H=O.umod(this.m);return H===O?H.clone():H},F.prototype.convertFrom=function(O){var H=O.clone();return H.red=null,H},f.mont=function(O){return new V(O)};function V(N){F.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(V,F),V.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},V.prototype.convertFrom=function(O){var H=this.imod(O.mul(this.rinv));return H.red=null,H},V.prototype.imul=function(O,H){if(O.isZero()||H.isZero())return O.words[0]=0,O.length=1,O;var X=O.imul(H),J=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),et=X.isub(J).iushrn(this.shift),it=et;return et.cmp(this.m)>=0?it=et.isub(this.m):et.cmpn(0)<0&&(it=et.iadd(this.m)),it._forceRed(this)},V.prototype.mul=function(O,H){if(O.isZero()||H.isZero())return new f(0)._forceRed(this);var X=O.mul(H),J=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),et=X.isub(J).iushrn(this.shift),it=et;return et.cmp(this.m)>=0?it=et.isub(this.m):et.cmpn(0)<0&&(it=et.iadd(this.m)),it._forceRed(this)},V.prototype.invm=function(O){var H=this.imod(O._invmp(this.m).mul(this.r2));return H._forceRed(this)}}(d,this)},6204:function(d){d.exports=g;function g(r){var e,o,n,u=r.length,f=0;for(e=0;e<u;++e)f+=r[e].length;var c=new Array(f),m=0;for(e=0;e<u;++e){var v=r[e],T=v.length;for(o=0;o<T;++o){var h=c[m++]=new Array(T-1),i=0;for(n=0;n<T;++n)n!==o&&(h[i++]=v[n]);if(o&1){var p=h[1];h[1]=h[0],h[0]=p}}}return c}},6867:function(d,g,r){d.exports=i;var e=r(1888),o=r(855),n=r(7150);function u(p,w){for(var A=0;A<p;++A)if(!(w[A]<=w[A+p]))return!0;return!1}function f(p,w,A,L){for(var x=0,E=0,S=0,a=p.length;S<a;++S){var C=p[S];if(!u(w,C)){for(var b=0;b<2*w;++b)A[x++]=C[b];L[E++]=S}}return E}function c(p,w,A,L){var x=p.length,E=w.length;if(!(x<=0||E<=0)){var S=p[0].length>>>1;if(!(S<=0)){var a,C=e.mallocDouble(2*S*x),b=e.mallocInt32(x);if(x=f(p,S,C,b),x>0){if(S===1&&L)o.init(x),a=o.sweepComplete(S,A,0,x,C,b,0,x,C,b);else{var z=e.mallocDouble(2*S*E),k=e.mallocInt32(E);E=f(w,S,z,k),E>0&&(o.init(x+E),S===1?a=o.sweepBipartite(S,A,0,x,C,b,0,E,z,k):a=n(S,A,L,x,C,b,E,z,k),e.free(z),e.free(k))}e.free(C),e.free(b)}return a}}}var m;function v(p,w){m.push([p,w])}function T(p){return m=[],c(p,p,v,!0),m}function h(p,w){return m=[],c(p,w,v,!1),m}function i(p,w,A){switch(arguments.length){case 1:return T(p);case 2:return typeof w=="function"?c(p,p,w,!0):h(p,w);case 3:return c(p,w,A,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(d,g){function r(){function n(c,m,v,T,h,i,p,w,A,L,x){for(var E=2*c,S=T,a=E*T;S<h;++S,a+=E){var C=i[m+a],b=i[m+a+c],z=p[S];t:for(var k=w,U=E*w;k<A;++k,U+=E){var F=L[m+U],V=L[m+U+c],N=x[k];if(!(V<C||b<F)){for(var O=m+1;O<c;++O){var H=i[O+a],X=i[O+c+a],J=L[O+U],et=L[O+c+U];if(X<J||et<H)continue t}var it=v(z,N);if(it!==void 0)return it}}}}function u(c,m,v,T,h,i,p,w,A,L,x){for(var E=2*c,S=w,a=E*w;S<A;++S,a+=E){var C=L[m+a],b=L[m+a+c],z=x[S];t:for(var k=T,U=E*T;k<h;++k,U+=E){var F=i[m+U],V=i[m+U+c],N=p[k];if(!(b<F||V<C)){for(var O=m+1;O<c;++O){var H=i[O+U],X=i[O+c+U],J=L[O+a],et=L[O+c+a];if(X<J||et<H)continue t}var it=v(N,z);if(it!==void 0)return it}}}}function f(c,m,v,T,h,i,p,w,A,L,x){return h-T>A-w?n(c,m,v,T,h,i,p,w,A,L,x):u(c,m,v,T,h,i,p,w,A,L,x)}return f}function e(){function n(v,T,h,i,p,w,A,L,x,E,S){for(var a=2*v,C=i,b=a*i;C<p;++C,b+=a){var z=w[T+b],k=w[T+b+v],U=A[C];t:for(var F=L,V=a*L;F<x;++F,V+=a){var N=E[T+V],O=S[F];if(!(N<=z||k<N)){for(var H=T+1;H<v;++H){var X=w[H+b],J=w[H+v+b],et=E[H+V],it=E[H+v+V];if(J<et||it<X)continue t}var ft=h(O,U);if(ft!==void 0)return ft}}}}function u(v,T,h,i,p,w,A,L,x,E,S){for(var a=2*v,C=i,b=a*i;C<p;++C,b+=a){var z=w[T+b],k=w[T+b+v],U=A[C];t:for(var F=L,V=a*L;F<x;++F,V+=a){var N=E[T+V],O=S[F];if(!(N<z||k<N)){for(var H=T+1;H<v;++H){var X=w[H+b],J=w[H+v+b],et=E[H+V],it=E[H+v+V];if(J<et||it<X)continue t}var ft=h(U,O);if(ft!==void 0)return ft}}}}function f(v,T,h,i,p,w,A,L,x,E,S){for(var a=2*v,C=L,b=a*L;C<x;++C,b+=a){var z=E[T+b],k=S[C];t:for(var U=i,F=a*i;U<p;++U,F+=a){var V=w[T+F],N=w[T+F+v],O=A[U];if(!(z<=V||N<z)){for(var H=T+1;H<v;++H){var X=w[H+F],J=w[H+v+F],et=E[H+b],it=E[H+v+b];if(J<et||it<X)continue t}var ft=h(k,O);if(ft!==void 0)return ft}}}}function c(v,T,h,i,p,w,A,L,x,E,S){for(var a=2*v,C=L,b=a*L;C<x;++C,b+=a){var z=E[T+b],k=S[C];t:for(var U=i,F=a*i;U<p;++U,F+=a){var V=w[T+F],N=w[T+F+v],O=A[U];if(!(z<V||N<z)){for(var H=T+1;H<v;++H){var X=w[H+F],J=w[H+v+F],et=E[H+b],it=E[H+v+b];if(J<et||it<X)continue t}var ft=h(O,k);if(ft!==void 0)return ft}}}}function m(v,T,h,i,p,w,A,L,x,E,S,a){return w-p>E-x?i?n(v,T,h,p,w,A,L,x,E,S,a):u(v,T,h,p,w,A,L,x,E,S,a):i?f(v,T,h,p,w,A,L,x,E,S,a):c(v,T,h,p,w,A,L,x,E,S,a)}return m}function o(n){return n?r():e()}g.partial=o(!1),g.full=o(!0)},7150:function(d,g,r){d.exports=N;var e=r(1888),o=r(8828),n=r(2455),u=n.partial,f=n.full,c=r(855),m=r(3545),v=r(8105),T=128,h=1<<22,i=1<<22,p=v("!(lo>=p0)&&!(p1>=hi)"),w=v("lo===p0"),A=v("lo<p0"),L=v("hi<=p0"),x=v("lo<=p0&&p0<=hi"),E=v("lo<p0&&p0<=hi"),S=6,a=2,C=1024,b=e.mallocInt32(C),z=e.mallocDouble(C);function k(O,H){var X=8*o.log2(H+1)*(O+1)|0,J=o.nextPow2(S*X);b.length<J&&(e.free(b),b=e.mallocInt32(J));var et=o.nextPow2(a*X);z.length<et&&(e.free(z),z=e.mallocDouble(et))}function U(O,H,X,J,et,it,ft,ot,Q){var tt=S*O;b[tt]=H,b[tt+1]=X,b[tt+2]=J,b[tt+3]=et,b[tt+4]=it,b[tt+5]=ft;var Z=a*O;z[Z]=ot,z[Z+1]=Q}function F(O,H,X,J,et,it,ft,ot,Q,tt,Z){var q=2*O,ut=Q*q,$=tt[ut+H];t:for(var j=et,lt=et*q;j<it;++j,lt+=q){var nt=ft[lt+H],ht=ft[lt+H+O];if(!($<nt||ht<$)&&!(J&&$===nt)){for(var mt=ot[j],At=H+1;At<O;++At){var nt=ft[lt+At],ht=ft[lt+At+O],bt=tt[ut+At],Pt=tt[ut+At+O];if(ht<bt||Pt<nt)continue t}var _t;if(J?_t=X(Z,mt):_t=X(mt,Z),_t!==void 0)return _t}}}function V(O,H,X,J,et,it,ft,ot,Q,tt){var Z=2*O,q=ot*Z,ut=Q[q+H];t:for(var $=J,j=J*Z;$<et;++$,j+=Z){var lt=ft[$];if(lt!==tt){var nt=it[j+H],ht=it[j+H+O];if(!(ut<nt||ht<ut)){for(var mt=H+1;mt<O;++mt){var nt=it[j+mt],ht=it[j+mt+O],At=Q[q+mt],bt=Q[q+mt+O];if(ht<At||bt<nt)continue t}var Pt=X(lt,tt);if(Pt!==void 0)return Pt}}}}function N(O,H,X,J,et,it,ft,ot,Q){k(O,J+ft);var tt=0,Z=2*O,q;for(U(tt++,0,0,J,0,ft,X?16:0,-1/0,1/0),X||U(tt++,0,0,ft,0,J,1,-1/0,1/0);tt>0;){tt-=1;var ut=tt*S,$=b[ut],j=b[ut+1],lt=b[ut+2],nt=b[ut+3],ht=b[ut+4],mt=b[ut+5],At=tt*a,bt=z[At],Pt=z[At+1],_t=mt&1,Ut=!!(mt&16),St=et,Rt=it,Et=ot,zt=Q;if(_t&&(St=ot,Rt=Q,Et=et,zt=it),!(mt&2&&(lt=A(O,$,j,lt,St,Rt,Pt),j>=lt))&&!(mt&4&&(j=L(O,$,j,lt,St,Rt,bt),j>=lt))){var Ct=lt-j,Wt=ht-nt;if(Ut){if(O*Ct*(Ct+Wt)<i){if(q=c.scanComplete(O,$,H,j,lt,St,Rt,nt,ht,Et,zt),q!==void 0)return q;continue}}else if(O*Math.min(Ct,Wt)<T){if(q=u(O,$,H,_t,j,lt,St,Rt,nt,ht,Et,zt),q!==void 0)return q;continue}else if(O*Ct*Wt<h){if(q=c.scanBipartite(O,$,H,_t,j,lt,St,Rt,nt,ht,Et,zt),q!==void 0)return q;continue}var Kt=p(O,$,j,lt,St,Rt,bt,Pt);if(j<Kt)if(O*(Kt-j)<T){if(q=f(O,$+1,H,j,Kt,St,Rt,nt,ht,Et,zt),q!==void 0)return q}else if($===O-2){if(_t?q=c.sweepBipartite(O,H,nt,ht,Et,zt,j,Kt,St,Rt):q=c.sweepBipartite(O,H,j,Kt,St,Rt,nt,ht,Et,zt),q!==void 0)return q}else U(tt++,$+1,j,Kt,nt,ht,_t,-1/0,1/0),U(tt++,$+1,nt,ht,j,Kt,_t^1,-1/0,1/0);if(Kt<lt){var oe=m(O,$,nt,ht,Et,zt),Jt=Et[Z*oe+$],te=w(O,$,oe,ht,Et,zt,Jt);if(te<ht&&U(tt++,$,Kt,lt,te,ht,(_t|4)+(Ut?16:0),Jt,Pt),nt<oe&&U(tt++,$,Kt,lt,nt,oe,(_t|2)+(Ut?16:0),bt,Jt),oe+1===te){if(Ut?q=V(O,$,H,Kt,lt,St,Rt,oe,Et,zt[oe]):q=F(O,$,H,_t,Kt,lt,St,Rt,oe,Et,zt[oe]),q!==void 0)return q}else if(oe<te){var fe;if(Ut){if(fe=x(O,$,Kt,lt,St,Rt,Jt),Kt<fe){var ve=w(O,$,Kt,fe,St,Rt,Jt);if($===O-2){if(Kt<ve&&(q=c.sweepComplete(O,H,Kt,ve,St,Rt,oe,te,Et,zt),q!==void 0)||ve<fe&&(q=c.sweepBipartite(O,H,ve,fe,St,Rt,oe,te,Et,zt),q!==void 0))return q}else Kt<ve&&U(tt++,$+1,Kt,ve,oe,te,16,-1/0,1/0),ve<fe&&(U(tt++,$+1,ve,fe,oe,te,0,-1/0,1/0),U(tt++,$+1,oe,te,ve,fe,1,-1/0,1/0))}}else _t?fe=E(O,$,Kt,lt,St,Rt,Jt):fe=x(O,$,Kt,lt,St,Rt,Jt),Kt<fe&&($===O-2?_t?q=c.sweepBipartite(O,H,oe,te,Et,zt,Kt,fe,St,Rt):q=c.sweepBipartite(O,H,Kt,fe,St,Rt,oe,te,Et,zt):(U(tt++,$+1,Kt,fe,oe,te,_t,-1/0,1/0),U(tt++,$+1,oe,te,Kt,fe,_t^1,-1/0,1/0)))}}}}}},3545:function(d,g,r){d.exports=f;var e=r(8105),o=e("lo<p0"),n=8;function u(c,m,v,T,h,i){for(var p=2*c,w=p*(v+1)+m,A=v+1;A<T;++A,w+=p)for(var L=h[w],x=A,E=p*(A-1);x>v&&h[E+m]>L;--x,E-=p){for(var S=E,a=E+p,C=0;C<p;++C,++S,++a){var b=h[S];h[S]=h[a],h[a]=b}var z=i[x];i[x]=i[x-1],i[x-1]=z}}function f(c,m,v,T,h,i){if(T<=v+1)return v;for(var p=v,w=T,A=T+v>>>1,L=2*c,x=A,E=h[L*A+m];p<w;){if(w-p<n){u(c,m,p,w,h,i),E=h[L*A+m];break}var S=w-p,a=Math.random()*S+p|0,C=h[L*a+m],b=Math.random()*S+p|0,z=h[L*b+m],k=Math.random()*S+p|0,U=h[L*k+m];C<=z?U>=z?(x=b,E=z):C>=U?(x=a,E=C):(x=k,E=U):z>=U?(x=b,E=z):U>=C?(x=a,E=C):(x=k,E=U);for(var N=L*(w-1),O=L*x,F=0;F<L;++F,++N,++O){var V=h[N];h[N]=h[O],h[O]=V}var H=i[w-1];i[w-1]=i[x],i[x]=H,x=o(c,m,p,w-1,h,i,E);for(var N=L*(w-1),O=L*x,F=0;F<L;++F,++N,++O){var V=h[N];h[N]=h[O],h[O]=V}var H=i[w-1];if(i[w-1]=i[x],i[x]=H,A<x){for(w=x-1;p<w&&h[L*(w-1)+m]===E;)w-=1;w+=1}else if(x<A)for(p=x+1;p<w&&h[L*p+m]===E;)p+=1;else break}return o(c,m,v,A,h,i,h[L*A+m])}},8105:function(d){d.exports=r;var g={"lo===p0":e,"lo<p0":o,"lo<=p0":n,"hi<=p0":u,"lo<p0&&p0<=hi":c,"lo<=p0&&p0<=hi":f,"!(lo>=p0)&&!(p1>=hi)":m};function r(v){return g[v]}function e(v,T,h,i,p,w,A){for(var L=2*v,x=L*h,E=x,S=h,a=T,C=v+T,b=h;i>b;++b,x+=L){var z=p[x+a];if(z===A)if(S===b)S+=1,E+=L;else{for(var k=0;L>k;++k){var U=p[x+k];p[x+k]=p[E],p[E++]=U}var F=w[b];w[b]=w[S],w[S++]=F}}return S}function o(v,T,h,i,p,w,A){for(var L=2*v,x=L*h,E=x,S=h,a=T,C=v+T,b=h;i>b;++b,x+=L){var z=p[x+a];if(z<A)if(S===b)S+=1,E+=L;else{for(var k=0;L>k;++k){var U=p[x+k];p[x+k]=p[E],p[E++]=U}var F=w[b];w[b]=w[S],w[S++]=F}}return S}function n(v,T,h,i,p,w,A){for(var L=2*v,x=L*h,E=x,S=h,a=T,C=v+T,b=h;i>b;++b,x+=L){var z=p[x+C];if(z<=A)if(S===b)S+=1,E+=L;else{for(var k=0;L>k;++k){var U=p[x+k];p[x+k]=p[E],p[E++]=U}var F=w[b];w[b]=w[S],w[S++]=F}}return S}function u(v,T,h,i,p,w,A){for(var L=2*v,x=L*h,E=x,S=h,a=T,C=v+T,b=h;i>b;++b,x+=L){var z=p[x+C];if(z<=A)if(S===b)S+=1,E+=L;else{for(var k=0;L>k;++k){var U=p[x+k];p[x+k]=p[E],p[E++]=U}var F=w[b];w[b]=w[S],w[S++]=F}}return S}function f(v,T,h,i,p,w,A){for(var L=2*v,x=L*h,E=x,S=h,a=T,C=v+T,b=h;i>b;++b,x+=L){var z=p[x+a],k=p[x+C];if(z<=A&&A<=k)if(S===b)S+=1,E+=L;else{for(var U=0;L>U;++U){var F=p[x+U];p[x+U]=p[E],p[E++]=F}var V=w[b];w[b]=w[S],w[S++]=V}}return S}function c(v,T,h,i,p,w,A){for(var L=2*v,x=L*h,E=x,S=h,a=T,C=v+T,b=h;i>b;++b,x+=L){var z=p[x+a],k=p[x+C];if(z<A&&A<=k)if(S===b)S+=1,E+=L;else{for(var U=0;L>U;++U){var F=p[x+U];p[x+U]=p[E],p[E++]=F}var V=w[b];w[b]=w[S],w[S++]=V}}return S}function m(v,T,h,i,p,w,A,L){for(var x=2*v,E=x*h,S=E,a=h,C=T,b=v+T,z=h;i>z;++z,E+=x){var k=p[E+C],U=p[E+b];if(!(k>=A)&&!(L>=U))if(a===z)a+=1,S+=x;else{for(var F=0;x>F;++F){var V=p[E+F];p[E+F]=p[S],p[S++]=V}var N=w[z];w[z]=w[a],w[a++]=N}}return a}},1811:function(d){d.exports=r;var g=32;function r(T,h){h<=4*g?e(0,h-1,T):v(0,h-1,T)}function e(T,h,i){for(var p=2*(T+1),w=T+1;w<=h;++w){for(var A=i[p++],L=i[p++],x=w,E=p-2;x-- >T;){var S=i[E-2],a=i[E-1];if(S<A)break;if(S===A&&a<L)break;i[E]=S,i[E+1]=a,E-=2}i[E]=A,i[E+1]=L}}function o(T,h,i){T*=2,h*=2;var p=i[T],w=i[T+1];i[T]=i[h],i[T+1]=i[h+1],i[h]=p,i[h+1]=w}function n(T,h,i){T*=2,h*=2,i[T]=i[h],i[T+1]=i[h+1]}function u(T,h,i,p){T*=2,h*=2,i*=2;var w=p[T],A=p[T+1];p[T]=p[h],p[T+1]=p[h+1],p[h]=p[i],p[h+1]=p[i+1],p[i]=w,p[i+1]=A}function f(T,h,i,p,w){T*=2,h*=2,w[T]=w[h],w[h]=i,w[T+1]=w[h+1],w[h+1]=p}function c(T,h,i){T*=2,h*=2;var p=i[T],w=i[h];return p<w?!1:p===w?i[T+1]>i[h+1]:!0}function m(T,h,i,p){T*=2;var w=p[T];return w<h?!0:w===h?p[T+1]<i:!1}function v(T,h,i){var p=(h-T+1)/6|0,w=T+p,A=h-p,L=T+h>>1,x=L-p,E=L+p,S=w,a=x,C=L,b=E,z=A,k=T+1,U=h-1,F=0;c(S,a,i)&&(F=S,S=a,a=F),c(b,z,i)&&(F=b,b=z,z=F),c(S,C,i)&&(F=S,S=C,C=F),c(a,C,i)&&(F=a,a=C,C=F),c(S,b,i)&&(F=S,S=b,b=F),c(C,b,i)&&(F=C,C=b,b=F),c(a,z,i)&&(F=a,a=z,z=F),c(a,C,i)&&(F=a,a=C,C=F),c(b,z,i)&&(F=b,b=z,z=F);for(var V=i[2*a],N=i[2*a+1],O=i[2*b],H=i[2*b+1],X=2*S,J=2*C,et=2*z,it=2*w,ft=2*L,ot=2*A,Q=0;Q<2;++Q){var tt=i[X+Q],Z=i[J+Q],q=i[et+Q];i[it+Q]=tt,i[ft+Q]=Z,i[ot+Q]=q}n(x,T,i),n(E,h,i);for(var ut=k;ut<=U;++ut)if(m(ut,V,N,i))ut!==k&&o(ut,k,i),++k;else if(!m(ut,O,H,i))for(;;)if(m(U,O,H,i)){m(U,V,N,i)?(u(ut,k,U,i),++k,--U):(o(ut,U,i),--U);break}else{if(--U<ut)break;continue}f(T,k-1,V,N,i),f(h,U+1,O,H,i),k-2-T<=g?e(T,k-2,i):v(T,k-2,i),h-(U+2)<=g?e(U+2,h,i):v(U+2,h,i),U-k<=g?e(k,U,i):v(k,U,i)}},855:function(d,g,r){d.exports={init:w,sweepBipartite:x,sweepComplete:E,scanBipartite:S,scanComplete:a};var e=r(1888),o=r(8828),n=r(1811),u=1<<28,f=1024,c=e.mallocInt32(f),m=e.mallocInt32(f),v=e.mallocInt32(f),T=e.mallocInt32(f),h=e.mallocInt32(f),i=e.mallocInt32(f),p=e.mallocDouble(f*8);function w(C){var b=o.nextPow2(C);c.length<b&&(e.free(c),c=e.mallocInt32(b)),m.length<b&&(e.free(m),m=e.mallocInt32(b)),v.length<b&&(e.free(v),v=e.mallocInt32(b)),T.length<b&&(e.free(T),T=e.mallocInt32(b)),h.length<b&&(e.free(h),h=e.mallocInt32(b)),i.length<b&&(e.free(i),i=e.mallocInt32(b));var z=8*b;p.length<z&&(e.free(p),p=e.mallocDouble(z))}function A(C,b,z,k){var U=b[k],F=C[z-1];C[U]=F,b[F]=U}function L(C,b,z,k){C[z]=k,b[k]=z}function x(C,b,z,k,U,F,V,N,O,H){for(var X=0,J=2*C,et=C-1,it=J-1,ft=z;ft<k;++ft){var ot=F[ft],Q=J*ft;p[X++]=U[Q+et],p[X++]=-(ot+1),p[X++]=U[Q+it],p[X++]=ot}for(var ft=V;ft<N;++ft){var ot=H[ft]+u,tt=J*ft;p[X++]=O[tt+et],p[X++]=-ot,p[X++]=O[tt+it],p[X++]=ot}var Z=X>>>1;n(p,Z);for(var q=0,ut=0,ft=0;ft<Z;++ft){var $=p[2*ft+1]|0;if($>=u)$=$-u|0,A(v,T,ut--,$);else if($>=0)A(c,m,q--,$);else if($<=-u){$=-$-u|0;for(var j=0;j<q;++j){var lt=b(c[j],$);if(lt!==void 0)return lt}L(v,T,ut++,$)}else{$=-$-1|0;for(var j=0;j<ut;++j){var lt=b($,v[j]);if(lt!==void 0)return lt}L(c,m,q++,$)}}}function E(C,b,z,k,U,F,V,N,O,H){for(var X=0,J=2*C,et=C-1,it=J-1,ft=z;ft<k;++ft){var ot=F[ft]+1<<1,Q=J*ft;p[X++]=U[Q+et],p[X++]=-ot,p[X++]=U[Q+it],p[X++]=ot}for(var ft=V;ft<N;++ft){var ot=H[ft]+1<<1,tt=J*ft;p[X++]=O[tt+et],p[X++]=-ot|1,p[X++]=O[tt+it],p[X++]=ot|1}var Z=X>>>1;n(p,Z);for(var q=0,ut=0,$=0,ft=0;ft<Z;++ft){var j=p[2*ft+1]|0,lt=j&1;if(ft<Z-1&&j>>1===p[2*ft+3]>>1&&(lt=2,ft+=1),j<0){for(var nt=-(j>>1)-1,ht=0;ht<$;++ht){var mt=b(h[ht],nt);if(mt!==void 0)return mt}if(lt!==0)for(var ht=0;ht<q;++ht){var mt=b(c[ht],nt);if(mt!==void 0)return mt}if(lt!==1)for(var ht=0;ht<ut;++ht){var mt=b(v[ht],nt);if(mt!==void 0)return mt}lt===0?L(c,m,q++,nt):lt===1?L(v,T,ut++,nt):lt===2&&L(h,i,$++,nt)}else{var nt=(j>>1)-1;lt===0?A(c,m,q--,nt):lt===1?A(v,T,ut--,nt):lt===2&&A(h,i,$--,nt)}}}function S(C,b,z,k,U,F,V,N,O,H,X,J){var et=0,it=2*C,ft=b,ot=b+C,Q=1,tt=1;k?tt=u:Q=u;for(var Z=U;Z<F;++Z){var q=Z+Q,ut=it*Z;p[et++]=V[ut+ft],p[et++]=-q,p[et++]=V[ut+ot],p[et++]=q}for(var Z=O;Z<H;++Z){var q=Z+tt,$=it*Z;p[et++]=X[$+ft],p[et++]=-q}var j=et>>>1;n(p,j);for(var lt=0,Z=0;Z<j;++Z){var nt=p[2*Z+1]|0;if(nt<0){var q=-nt,ht=!1;if(q>=u?(ht=!k,q-=u):(ht=!!k,q-=1),ht)L(c,m,lt++,q);else{var mt=J[q],At=it*q,bt=X[At+b+1],Pt=X[At+b+1+C];t:for(var _t=0;_t<lt;++_t){var Ut=c[_t],St=it*Ut;if(!(Pt<V[St+b+1]||V[St+b+1+C]<bt)){for(var Rt=b+2;Rt<C;++Rt)if(X[At+Rt+C]<V[St+Rt]||V[St+Rt+C]<X[At+Rt])continue t;var Et=N[Ut],zt;if(k?zt=z(mt,Et):zt=z(Et,mt),zt!==void 0)return zt}}}}else A(c,m,lt--,nt-Q)}}function a(C,b,z,k,U,F,V,N,O,H,X){for(var J=0,et=2*C,it=b,ft=b+C,ot=k;ot<U;++ot){var Q=ot+u,tt=et*ot;p[J++]=F[tt+it],p[J++]=-Q,p[J++]=F[tt+ft],p[J++]=Q}for(var ot=N;ot<O;++ot){var Q=ot+1,Z=et*ot;p[J++]=H[Z+it],p[J++]=-Q}var q=J>>>1;n(p,q);for(var ut=0,ot=0;ot<q;++ot){var $=p[2*ot+1]|0;if($<0){var Q=-$;if(Q>=u)c[ut++]=Q-u;else{Q-=1;var j=X[Q],lt=et*Q,nt=H[lt+b+1],ht=H[lt+b+1+C];t:for(var mt=0;mt<ut;++mt){var At=c[mt],bt=V[At];if(bt===j)break;var Pt=et*At;if(!(ht<F[Pt+b+1]||F[Pt+b+1+C]<nt)){for(var _t=b+2;_t<C;++_t)if(H[lt+_t+C]<F[Pt+_t]||F[Pt+_t+C]<H[lt+_t])continue t;var Ut=z(bt,j);if(Ut!==void 0)return Ut}}}}else{for(var Q=$-u,mt=ut-1;mt>=0;--mt)if(c[mt]===Q){for(var _t=mt+1;_t<ut;++_t)c[_t-1]=c[_t];break}--ut}}}},2538:function(d,g,r){var e=r(8902),o=r(5542),n=r(2272),u=r(5023);d.exports=T;function f(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function c(h,i){return h[0]-i[0]||h[1]-i[1]}function m(h){return h.map(f).sort(c)}function v(h,i,p){return i in h?h[i]:p}function T(h,i,p){Array.isArray(i)?(p=p||{},i=i||[]):(p=i||{},i=[]);var w=!!v(p,"delaunay",!0),A=!!v(p,"interior",!0),L=!!v(p,"exterior",!0),x=!!v(p,"infinity",!1);if(!A&&!L||h.length===0)return[];var E=e(h,i);if(w||A!==L||x){for(var S=o(h.length,m(i)),a=0;a<E.length;++a){var C=E[a];S.addTriangle(C[0],C[1],C[2])}return w&&n(h,S),L?A?x?u(S,0,x):S.cells():u(S,1,x):u(S,-1)}else return E}},2272:function(d,g,r){var e=r(2646)[4];r(2478),d.exports=n;function o(u,f,c,m,v,T){var h=f.opposite(m,v);if(!(h<0)){if(v<m){var i=m;m=v,v=i,i=T,T=h,h=i}f.isConstraint(m,v)||e(u[m],u[v],u[T],u[h])<0&&c.push(m,v)}}function n(u,f){for(var c=[],m=u.length,v=f.stars,T=0;T<m;++T)for(var h=v[T],i=1;i<h.length;i+=2){var p=h[i];if(!(p<T)&&!f.isConstraint(T,p)){for(var w=h[i-1],A=-1,L=1;L<h.length;L+=2)if(h[L-1]===p){A=h[L];break}A<0||e(u[T],u[p],u[w],u[A])<0&&c.push(T,p)}}for(;c.length>0;){for(var p=c.pop(),T=c.pop(),w=-1,A=-1,h=v[T],x=1;x<h.length;x+=2){var E=h[x-1],S=h[x];E===p?A=S:S===p&&(w=E)}w<0||A<0||e(u[T],u[p],u[w],u[A])>=0||(f.flip(T,p),o(u,f,c,w,T,A),o(u,f,c,T,A,w),o(u,f,c,A,p,w),o(u,f,c,p,w,A))}}},5023:function(d,g,r){var e=r(2478);d.exports=m;function o(v,T,h,i,p,w,A){this.cells=v,this.neighbor=T,this.flags=i,this.constraint=h,this.active=p,this.next=w,this.boundary=A}var n=o.prototype;function u(v,T){return v[0]-T[0]||v[1]-T[1]||v[2]-T[2]}n.locate=function(){var v=[0,0,0];return function(T,h,i){var p=T,w=h,A=i;return h<i?h<T&&(p=h,w=i,A=T):i<T&&(p=i,w=T,A=h),p<0?-1:(v[0]=p,v[1]=w,v[2]=A,e.eq(this.cells,v,u))}}();function f(v,T){for(var h=v.cells(),i=h.length,p=0;p<i;++p){var w=h[p],A=w[0],L=w[1],x=w[2];L<x?L<A&&(w[0]=L,w[1]=x,w[2]=A):x<A&&(w[0]=x,w[1]=A,w[2]=L)}h.sort(u);for(var E=new Array(i),p=0;p<E.length;++p)E[p]=0;var S=[],a=[],C=new Array(3*i),b=new Array(3*i),z=null;T&&(z=[]);for(var k=new o(h,C,b,E,S,a,z),p=0;p<i;++p)for(var w=h[p],U=0;U<3;++U){var A=w[U],L=w[(U+1)%3],F=C[3*p+U]=k.locate(L,A,v.opposite(L,A)),V=b[3*p+U]=v.isConstraint(A,L);F<0&&(V?a.push(p):(S.push(p),E[p]=1),T&&z.push([L,A,-1]))}return k}function c(v,T,h){for(var i=0,p=0;p<v.length;++p)T[p]===h&&(v[i++]=v[p]);return v.length=i,v}function m(v,T,h){var i=f(v,h);if(T===0)return h?i.cells.concat(i.boundary):i.cells;for(var p=1,w=i.active,A=i.next,L=i.flags,x=i.cells,E=i.constraint,S=i.neighbor;w.length>0||A.length>0;){for(;w.length>0;){var a=w.pop();if(L[a]!==-p){L[a]=p,x[a];for(var C=0;C<3;++C){var b=S[3*a+C];b>=0&&L[b]===0&&(E[3*a+C]?A.push(b):(w.push(b),L[b]=p))}}}var z=A;A=w,w=z,A.length=0,p=-p}var k=c(x,L,T);return h?k.concat(i.boundary):k}},8902:function(d,g,r){var e=r(2478),o=r(3250)[3],n=0,u=1,f=2;d.exports=A;function c(L,x,E,S,a){this.a=L,this.b=x,this.idx=E,this.lowerIds=S,this.upperIds=a}function m(L,x,E,S){this.a=L,this.b=x,this.type=E,this.idx=S}function v(L,x){var E=L.a[0]-x.a[0]||L.a[1]-x.a[1]||L.type-x.type;return E||L.type!==n&&(E=o(L.a,L.b,x.b),E)?E:L.idx-x.idx}function T(L,x){return o(L.a,L.b,x)}function h(L,x,E,S,a){for(var C=e.lt(x,S,T),b=e.gt(x,S,T),z=C;z<b;++z){for(var k=x[z],U=k.lowerIds,V=U.length;V>1&&o(E[U[V-2]],E[U[V-1]],S)>0;)L.push([U[V-1],U[V-2],a]),V-=1;U.length=V,U.push(a);for(var F=k.upperIds,V=F.length;V>1&&o(E[F[V-2]],E[F[V-1]],S)<0;)L.push([F[V-2],F[V-1],a]),V-=1;F.length=V,F.push(a)}}function i(L,x){var E;return L.a[0]<x.a[0]?E=o(L.a,L.b,x.a):E=o(x.b,x.a,L.a),E||(x.b[0]<L.b[0]?E=o(L.a,L.b,x.b):E=o(x.b,x.a,L.b),E||L.idx-x.idx)}function p(L,x,E){var S=e.le(L,E,i),a=L[S],C=a.upperIds,b=C[C.length-1];a.upperIds=[b],L.splice(S+1,0,new c(E.a,E.b,E.idx,[b],C))}function w(L,x,E){var S=E.a;E.a=E.b,E.b=S;var a=e.eq(L,E,i),C=L[a],b=L[a-1];b.upperIds=C.upperIds,L.splice(a,1)}function A(L,x){for(var E=L.length,S=x.length,a=[],C=0;C<E;++C)a.push(new m(L[C],null,n,C));for(var C=0;C<S;++C){var b=x[C],z=L[b[0]],k=L[b[1]];z[0]<k[0]?a.push(new m(z,k,f,C),new m(k,z,u,C)):z[0]>k[0]&&a.push(new m(k,z,f,C),new m(z,k,u,C))}a.sort(v);for(var U=a[0].a[0]-(1+Math.abs(a[0].a[0]))*Math.pow(2,-52),F=[new c([U,1],[U,0],-1,[],[])],V=[],C=0,N=a.length;C<N;++C){var O=a[C],H=O.type;H===n?h(V,F,L,O.a,O.idx):H===f?p(F,L,O):w(F,L,O)}return V}},5542:function(d,g,r){var e=r(2478);d.exports=f;function o(c,m){this.stars=c,this.edges=m}var n=o.prototype;function u(c,m,v){for(var T=1,h=c.length;T<h;T+=2)if(c[T-1]===m&&c[T]===v){c[T-1]=c[h-2],c[T]=c[h-1],c.length=h-2;return}}n.isConstraint=function(){var c=[0,0];function m(v,T){return v[0]-T[0]||v[1]-T[1]}return function(v,T){return c[0]=Math.min(v,T),c[1]=Math.max(v,T),e.eq(this.edges,c,m)>=0}}(),n.removeTriangle=function(c,m,v){var T=this.stars;u(T[c],m,v),u(T[m],v,c),u(T[v],c,m)},n.addTriangle=function(c,m,v){var T=this.stars;T[c].push(m,v),T[m].push(v,c),T[v].push(c,m)},n.opposite=function(c,m){for(var v=this.stars[m],T=1,h=v.length;T<h;T+=2)if(v[T]===c)return v[T-1];return-1},n.flip=function(c,m){var v=this.opposite(c,m),T=this.opposite(m,c);this.removeTriangle(c,m,v),this.removeTriangle(m,c,T),this.addTriangle(c,T,v),this.addTriangle(m,v,T)},n.edges=function(){for(var c=this.stars,m=[],v=0,T=c.length;v<T;++v)for(var h=c[v],i=0,p=h.length;i<p;i+=2)m.push([h[i],h[i+1]]);return m},n.cells=function(){for(var c=this.stars,m=[],v=0,T=c.length;v<T;++v)for(var h=c[v],i=0,p=h.length;i<p;i+=2){var w=h[i],A=h[i+1];v<Math.min(w,A)&&m.push([v,w,A])}return m};function f(c,m){for(var v=new Array(c),T=0;T<c;++T)v[T]=[];return new o(v,m)}},2419:function(d){d.exports=g;function g(r){for(var e=1,o=1;o<r.length;++o)for(var n=0;n<o;++n)if(r[o]<r[n])e=-e;else if(r[n]===r[o])return 0;return e}},3628:function(d,g,r){var e=r(1338),o=r(727);function n(c,m){for(var v=0,T=c.length,h=0;h<T;++h)v+=c[h]*m[h];return v}function u(c){var m=c.length;if(m===0)return[];c[0].length;var v=e([c.length+1,c.length+1],1),T=e([c.length+1],1);v[m][m]=0;for(var h=0;h<m;++h){for(var i=0;i<=h;++i)v[i][h]=v[h][i]=2*n(c[h],c[i]);T[h]=n(c[h],c[h])}for(var p=o(v,T),w=0,A=p[m+1],h=0;h<A.length;++h)w+=A[h];for(var L=new Array(m),h=0;h<m;++h){for(var A=p[h],x=0,i=0;i<A.length;++i)x+=A[i];L[h]=x/w}return L}function f(c){if(c.length===0)return[];for(var m=c[0].length,v=e([m]),T=u(c),h=0;h<c.length;++h)for(var i=0;i<m;++i)v[i]+=c[h][i]*T[h];return v}f.barycenetric=u,d.exports=f},6037:function(d,g,r){d.exports=o;var e=r(3628);function o(n){for(var u=e(n),f=0,c=0;c<n.length;++c)for(var m=n[c],v=0;v<u.length;++v)f+=Math.pow(m[v]-u[v],2);return Math.sqrt(f/n.length)}},332:function(d,g,r){d.exports=z;var e=r(1755),o=r(6867),n=r(1125),u=r(7842),f=r(1318),c=r(946),m=r(5838),v=r(1278),T=r(3637);function h(k){var U=c(k);return[v(U,-1/0),v(U,1/0)]}function i(k,U){for(var F=new Array(U.length),V=0;V<U.length;++V){var N=U[V],O=k[N[0]],H=k[N[1]];F[V]=[v(Math.min(O[0],H[0]),-1/0),v(Math.min(O[1],H[1]),-1/0),v(Math.max(O[0],H[0]),1/0),v(Math.max(O[1],H[1]),1/0)]}return F}function p(k){for(var U=new Array(k.length),F=0;F<k.length;++F){var V=k[F];U[F]=[v(V[0],-1/0),v(V[1],-1/0),v(V[0],1/0),v(V[1],1/0)]}return U}function w(k,U,F){var V=[];return o(F,function(N,O){var H=U[N],X=U[O];if(!(H[0]===X[0]||H[0]===X[1]||H[1]===X[0]||H[1]===X[1])){var J=k[H[0]],et=k[H[1]],it=k[X[0]],ft=k[X[1]];n(J,et,it,ft)&&V.push([N,O])}}),V}function A(k,U,F,V){var N=[];return o(F,V,function(O,H){var X=U[O];if(!(X[0]===H||X[1]===H)){var J=k[H],et=k[X[0]],it=k[X[1]];n(et,it,J,J)&&N.push([O,H])}}),N}function L(k,U,F,V,N){var O,H,X=k.map(function(At){return[u(At[0]),u(At[1])]});for(O=0;O<F.length;++O){var J=F[O];H=J[0];var et=J[1],it=U[H],ft=U[et],ot=T(m(k[it[0]]),m(k[it[1]]),m(k[ft[0]]),m(k[ft[1]]));if(ot){var Q=k.length;k.push([c(ot[0]),c(ot[1])]),X.push(ot),V.push([H,Q],[et,Q])}}for(V.sort(function(At,bt){if(At[0]!==bt[0])return At[0]-bt[0];var Pt=X[At[1]],_t=X[bt[1]];return f(Pt[0],_t[0])||f(Pt[1],_t[1])}),O=V.length-1;O>=0;--O){var tt=V[O];H=tt[0];var Z=U[H],q=Z[0],ut=Z[1],$=k[q],j=k[ut];if(($[0]-j[0]||$[1]-j[1])<0){var lt=q;q=ut,ut=lt}Z[0]=q;var nt=Z[1]=tt[1],ht;for(N&&(ht=Z[2]);O>0&&V[O-1][0]===H;){var tt=V[--O],mt=tt[1];N?U.push([nt,mt,ht]):U.push([nt,mt]),nt=mt}N?U.push([nt,ut,ht]):U.push([nt,ut])}return X}function x(k,U,F){for(var V=U.length,N=new e(V),O=[],H=0;H<U.length;++H){var X=U[H],J=h(X[0]),et=h(X[1]);O.push([v(J[0],-1/0),v(et[0],-1/0),v(J[1],1/0),v(et[1],1/0)])}o(O,function(tt,Z){N.link(tt,Z)});for(var it=!0,ft=new Array(V),H=0;H<V;++H){var ot=N.find(H);ot!==H&&(it=!1,k[ot]=[Math.min(k[H][0],k[ot][0]),Math.min(k[H][1],k[ot][1])])}if(it)return null;for(var Q=0,H=0;H<V;++H){var ot=N.find(H);ot===H?(ft[H]=Q,k[Q++]=k[H]):ft[H]=-1}k.length=Q;for(var H=0;H<V;++H)ft[H]<0&&(ft[H]=ft[N.find(H)]);return ft}function E(k,U){return k[0]-U[0]||k[1]-U[1]}function S(k,U){var F=k[0]-U[0]||k[1]-U[1];return F||(k[2]<U[2]?-1:k[2]>U[2]?1:0)}function a(k,U,F){if(k.length!==0){if(U)for(var V=0;V<k.length;++V){var N=k[V],O=U[N[0]],H=U[N[1]];N[0]=Math.min(O,H),N[1]=Math.max(O,H)}else for(var V=0;V<k.length;++V){var N=k[V],O=N[0],H=N[1];N[0]=Math.min(O,H),N[1]=Math.max(O,H)}F?k.sort(S):k.sort(E);for(var X=1,V=1;V<k.length;++V){var J=k[V-1],et=k[V];et[0]===J[0]&&et[1]===J[1]&&(!F||et[2]===J[2])||(k[X++]=et)}k.length=X}}function C(k,U,F){var V=x(k,[],p(k));return a(U,V,F),!!V}function b(k,U,F){var V=i(k,U),N=w(k,U,V),O=p(k),H=A(k,U,V,O),X=L(k,U,N,H,F),J=x(k,X);return a(U,J,F),J?!0:N.length>0||H.length>0}function z(k,U,F){var V;if(F){V=U;for(var N=new Array(U.length),O=0;O<U.length;++O){var H=U[O];N[O]=[H[0],H[1],F[O]]}U=N}for(var X=C(k,U,!!F);b(k,U,!!F);)X=!0;if(F&&X){V.length=0,F.length=0;for(var O=0;O<U.length;++O){var H=U[O];V.push([H[0],H[1]]),F.push(H[2])}}return X}},3637:function(d,g,r){d.exports=T;var e=r(6504),o=r(8697),n=r(5572),u=r(7721),f=r(544),c=r(2653),m=r(8987);function v(h,i){return n(e(h[0],i[1]),e(h[1],i[0]))}function T(h,i,p,w){var A=f(i,h),L=f(w,p),x=v(A,L);if(u(x)===0)return null;var E=f(h,p),S=v(L,E),a=o(S,x),C=m(A,a),b=c(h,C);return b}},3642:function(d){d.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(d,g,r){var e=r(3642),o=r(395);d.exports=n;function n(m){var v,T,h,i,p,w,A,L,a,x,E;if(m||(m={}),L=(m.nshades||72)-1,A=m.format||"hex",w=m.colormap,w||(w="jet"),typeof w=="string"){if(w=w.toLowerCase(),!e[w])throw Error(w+" not a supported colorscale");p=e[w]}else if(Array.isArray(w))p=w.slice();else throw Error("unsupported colormap option",w);if(p.length>L+1)throw new Error(w+" map requires nshades to be at least size "+p.length);Array.isArray(m.alpha)?m.alpha.length!==2?x=[1,1]:x=m.alpha.slice():typeof m.alpha=="number"?x=[m.alpha,m.alpha]:x=[1,1],v=p.map(function(z){return Math.round(z.index*L)}),x[0]=Math.min(Math.max(x[0],0),1),x[1]=Math.min(Math.max(x[1],0),1);var S=p.map(function(z,k){var U=p[k].index,F=p[k].rgb.slice();return F.length===4&&F[3]>=0&&F[3]<=1||(F[3]=x[0]+(x[1]-x[0])*U),F}),a=[];for(E=0;E<v.length-1;++E){i=v[E+1]-v[E],T=S[E],h=S[E+1];for(var C=0;C<i;C++){var b=C/i;a.push([Math.round(o(T[0],h[0],b)),Math.round(o(T[1],h[1],b)),Math.round(o(T[2],h[2],b)),o(T[3],h[3],b)])}}return a.push(p[p.length-1].rgb.concat(x[1])),A==="hex"?a=a.map(f):A==="rgbaString"?a=a.map(c):A==="float"&&(a=a.map(u)),a}function u(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function f(m){for(var v,T="#",h=0;h<3;++h)v=m[h],v=v.toString(16),T+=("00"+v).substr(v.length);return T}function c(m){return"rgba("+m.join(",")+")"}},3140:function(d,g,r){d.exports=m;var e=r(3250),o=r(8572),n=r(9362),u=r(5382),f=r(8210);function c(v,T,h){var i=n(v[0],-T[0]),p=n(v[1],-T[1]),w=n(h[0],-T[0]),A=n(h[1],-T[1]),L=f(u(i,w),u(p,A));return L[L.length-1]>=0}function m(v,T,h,i){var p=e(T,h,i);if(p===0){var w=o(e(v,T,h)),A=o(e(v,T,i));if(w===A){if(w===0){var L=c(v,T,h),x=c(v,T,i);return L===x?0:L?1:-1}return 0}else{if(A===0)return w>0||c(v,T,i)?-1:1;if(w===0)return A>0||c(v,T,h)?1:-1}return o(A-w)}var E=e(v,T,h);if(E>0)return p>0&&e(v,T,i)>0?1:-1;if(E<0)return p>0||e(v,T,i)>0?1:-1;var S=e(v,T,i);return S>0||c(v,T,h)?1:-1}},8572:function(d){d.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(d){d.exports=e;var g=Math.min;function r(o,n){return o-n}function e(o,n){var u=o.length,f=o.length-n.length;if(f)return f;switch(u){case 0:return 0;case 1:return o[0]-n[0];case 2:return o[0]+o[1]-n[0]-n[1]||g(o[0],o[1])-g(n[0],n[1]);case 3:var c=o[0]+o[1],m=n[0]+n[1];if(f=c+o[2]-(m+n[2]),f)return f;var v=g(o[0],o[1]),T=g(n[0],n[1]);return g(v,o[2])-g(T,n[2])||g(v+o[2],c)-g(T+n[2],m);case 4:var h=o[0],i=o[1],p=o[2],w=o[3],A=n[0],L=n[1],x=n[2],E=n[3];return h+i+p+w-(A+L+x+E)||g(h,i,p,w)-g(A,L,x,E,A)||g(h+i,h+p,h+w,i+p,i+w,p+w)-g(A+L,A+x,A+E,L+x,L+E,x+E)||g(h+i+p,h+i+w,h+p+w,i+p+w)-g(A+L+x,A+L+E,A+x+E,L+x+E);default:for(var S=o.slice().sort(r),a=n.slice().sort(r),C=0;C<u;++C)if(f=S[C]-a[C],f)return f;return 0}}},3788:function(d,g,r){var e=r(8507),o=r(2419);d.exports=n;function n(u,f){return e(u,f)||o(u)-o(f)}},7352:function(d,g,r){var e=r(5721),o=r(4750),n=r(2690);d.exports=u;function u(f){var c=f.length;if(c===0)return[];if(c===1)return[[0]];var m=f[0].length;return m===0?[]:m===1?e(f):m===2?o(f):n(f,m)}},5721:function(d){d.exports=g;function g(r){for(var e=0,o=0,n=1;n<r.length;++n)r[n][0]<r[e][0]&&(e=n),r[n][0]>r[o][0]&&(o=n);return e<o?[[e],[o]]:e>o?[[o],[e]]:[[e]]}},4750:function(d,g,r){d.exports=o;var e=r(3090);function o(n){var u=e(n),f=u.length;if(f<=2)return[];for(var c=new Array(f),m=u[f-1],v=0;v<f;++v){var T=u[v];c[v]=[m,T],m=T}return c}},2690:function(d,g,r){d.exports=f;var e=r(8954),o=r(3952);function n(c,m){for(var v=c.length,T=new Array(v),h=0;h<m.length;++h)T[h]=c[m[h]];for(var i=m.length,h=0;h<v;++h)m.indexOf(h)<0&&(T[i++]=c[h]);return T}function u(c,m){for(var v=c.length,T=m.length,h=0;h<v;++h)for(var i=c[h],p=0;p<i.length;++p){var w=i[p];if(w<T)i[p]=m[w];else{w=w-T;for(var A=0;A<T;++A)w>=m[A]&&(w+=1);i[p]=w}}return c}function f(c,m){try{return e(c,!0)}catch{var v=o(c);if(v.length<=m)return[];var T=n(c,v),h=e(T,!0);return u(h,v)}}},4769:function(d){function g(e,o,n,u,f,c){var m=6*f*f-6*f,v=3*f*f-4*f+1,T=-6*f*f+6*f,h=3*f*f-2*f;if(e.length){c||(c=new Array(e.length));for(var i=e.length-1;i>=0;--i)c[i]=m*e[i]+v*o[i]+T*n[i]+h*u[i];return c}return m*e+v*o+T*n[i]+h*u}function r(e,o,n,u,f,c){var m=f-1,v=f*f,T=m*m,h=(1+2*f)*T,i=f*T,p=v*(3-2*f),w=v*m;if(e.length){c||(c=new Array(e.length));for(var A=e.length-1;A>=0;--A)c[A]=h*e[A]+i*o[A]+p*n[A]+w*u[A];return c}return h*e+i*o+p*n+w*u}d.exports=r,d.exports.derivative=g},7642:function(d,g,r){var e=r(8954),o=r(1682);d.exports=c;function n(m,v){this.point=m,this.index=v}function u(m,v){for(var T=m.point,h=v.point,i=T.length,p=0;p<i;++p){var w=h[p]-T[p];if(w)return w}return 0}function f(m,v,T){if(m===1)return T?[[-1,0]]:[];var h=v.map(function(L,x){return[L[0],x]});h.sort(function(L,x){return L[0]-x[0]});for(var i=new Array(m-1),p=1;p<m;++p){var w=h[p-1],A=h[p];i[p-1]=[w[1],A[1]]}return T&&i.push([-1,i[0][1]],[i[m-1][1],-1]),i}function c(m,v){var T=m.length;if(T===0)return[];var h=m[0].length;if(h<1)return[];if(h===1)return f(T,m,v);for(var i=new Array(T),p=1,w=0;w<T;++w){for(var A=m[w],L=new Array(h+1),x=0,E=0;E<h;++E){var S=A[E];L[E]=S,x+=S*S}L[h]=x,i[w]=new n(L,w),p=Math.max(x,p)}o(i,u),T=i.length;for(var a=new Array(T+h+1),C=new Array(T+h+1),b=(h+1)*(h+1)*p,z=new Array(h+1),w=0;w<=h;++w)z[w]=0;z[h]=b,a[0]=z.slice(),C[0]=-1;for(var w=0;w<=h;++w){var L=z.slice();L[w]=1,a[w+1]=L,C[w+1]=-1}for(var w=0;w<T;++w){var k=i[w];a[w+h+1]=k.point,C[w+h+1]=k.index}var U=e(a,!1);if(v?U=U.filter(function(F){for(var V=0,N=0;N<=h;++N){var O=C[F[N]];if(O<0&&++V>=2)return!1;F[N]=O}return!0}):U=U.filter(function(F){for(var V=0;V<=h;++V){var N=C[F[V]];if(N<0)return!1;F[V]=N}return!0}),h&1)for(var w=0;w<U.length;++w){var k=U[w],L=k[0];k[0]=k[1],k[1]=L}return U}},2361:function(d){var g=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),e=new Uint32Array(r.buffer);if(r[0]=1,g=!0,e[1]===1072693248){let n=function(c,m){return e[0]=c,e[1]=m,r[0]},u=function(c){return r[0]=c,e[0]},f=function(c){return r[0]=c,e[1]};d.exports=function(m){return r[0]=m,[e[0],e[1]]},d.exports.pack=n,d.exports.lo=u,d.exports.hi=f}else if(e[0]===1072693248){let n=function(c,m){return e[1]=c,e[0]=m,r[0]},u=function(c){return r[0]=c,e[1]},f=function(c){return r[0]=c,e[0]};d.exports=function(m){return r[0]=m,[e[1],e[0]]},d.exports.pack=n,d.exports.lo=u,d.exports.hi=f}else g=!1}if(!g){let n=function(c,m){return o.writeUInt32LE(c,0,!0),o.writeUInt32LE(m,4,!0),o.readDoubleLE(0,!0)},u=function(c){return o.writeDoubleLE(c,0,!0),o.readUInt32LE(0,!0)},f=function(c){return o.writeDoubleLE(c,0,!0),o.readUInt32LE(4,!0)};var o=new Buffer(8);d.exports=function(m){return o.writeDoubleLE(m,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},d.exports.pack=n,d.exports.lo=u,d.exports.hi=f}d.exports.sign=function(n){return d.exports.hi(n)>>>31},d.exports.exponent=function(n){var u=d.exports.hi(n);return(u<<1>>>21)-1023},d.exports.fraction=function(n){var u=d.exports.lo(n),f=d.exports.hi(n),c=f&(1<<20)-1;return f&2146435072&&(c+=1048576),[u,c]},d.exports.denormalized=function(n){var u=d.exports.hi(n);return!(u&2146435072)}},1338:function(d){function g(o,n,u){var f=o[u]|0;if(f<=0)return[];var c=new Array(f),m;if(u===o.length-1)for(m=0;m<f;++m)c[m]=n;else for(m=0;m<f;++m)c[m]=g(o,n,u+1);return c}function r(o,n){var u,f;for(u=new Array(o),f=0;f<o;++f)u[f]=n;return u}function e(o,n){switch(typeof n>"u"&&(n=0),typeof o){case"number":if(o>0)return r(o|0,n);break;case"object":if(typeof o.length=="number")return g(o,n,0);break}return[]}d.exports=e},3134:function(d,g,r){d.exports=o;var e=r(1682);function o(n,u){var f=n.length;if(typeof u!="number"){u=0;for(var c=0;c<f;++c){var m=n[c];u=Math.max(u,m[0],m[1])}u=(u|0)+1}u=u|0;for(var v=new Array(u),c=0;c<u;++c)v[c]=[];for(var c=0;c<f;++c){var m=n[c];v[m[0]].push(m[1]),v[m[1]].push(m[0])}for(var T=0;T<u;++T)e(v[T],function(h,i){return h-i});return v}},5033:function(d){d.exports=g;function g(r,e,o){var n=e||0,u=o||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[u*r[12]-r[8],u*r[13]-r[9],u*r[14]-r[10],u*r[15]-r[11]]]}},9215:function(d,g,r){d.exports=m;var e=r(4769),o=r(2478);function n(v,T,h){return Math.min(T,Math.max(v,h))}function u(v,T,h){this.dimension=v.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var i=0;i<this.dimension;++i)this.bounds[0][i]=-1/0,this.bounds[1][i]=1/0;this._state=v.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[h],this._scratch=[v.slice(),v.slice(),v.slice(),v.slice(),v.slice()]}var f=u.prototype;f.flush=function(v){var T=o.gt(this._time,v)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},f.curve=function(v){var T=this._time,h=T.length,i=o.le(T,v),p=this._scratch[0],w=this._state,A=this._velocity,L=this.dimension,x=this.bounds;if(i<0)for(var E=L-1,S=0;S<L;++S,--E)p[S]=w[E];else if(i>=h-1)for(var E=w.length-1,a=v-T[h-1],S=0;S<L;++S,--E)p[S]=w[E]+a*A[E];else{for(var E=L*(i+1)-1,C=T[i],b=T[i+1],z=b-C||1,k=this._scratch[1],U=this._scratch[2],F=this._scratch[3],V=this._scratch[4],N=!0,S=0;S<L;++S,--E)k[S]=w[E],F[S]=A[E]*z,U[S]=w[E+L],V[S]=A[E+L]*z,N=N&&k[S]===U[S]&&F[S]===V[S]&&F[S]===0;if(N)for(var S=0;S<L;++S)p[S]=k[S];else e(k,F,U,V,(v-C)/z,p)}for(var O=x[0],H=x[1],S=0;S<L;++S)p[S]=n(O[S],H[S],p[S]);return p},f.dcurve=function(v){var T=this._time,h=T.length,i=o.le(T,v),p=this._scratch[0],w=this._state,A=this._velocity,L=this.dimension;if(i>=h-1){var x=w.length-1;v-T[h-1];for(var E=0;E<L;++E,--x)p[E]=A[x]}else{for(var x=L*(i+1)-1,S=T[i],a=T[i+1],C=a-S||1,b=this._scratch[1],z=this._scratch[2],k=this._scratch[3],U=this._scratch[4],F=!0,E=0;E<L;++E,--x)b[E]=w[x],k[E]=A[x]*C,z[E]=w[x+L],U[E]=A[x+L]*C,F=F&&b[E]===z[E]&&k[E]===U[E]&&k[E]===0;if(F)for(var E=0;E<L;++E)p[E]=0;else{e.derivative(b,k,z,U,(v-S)/C,p);for(var E=0;E<L;++E)p[E]/=C}}return p},f.lastT=function(){var v=this._time;return v[v.length-1]},f.stable=function(){for(var v=this._velocity,T=v.length,h=this.dimension-1;h>=0;--h)if(v[--T])return!1;return!0},f.jump=function(v){var T=this.lastT(),h=this.dimension;if(!(v<T||arguments.length!==h+1)){var i=this._state,p=this._velocity,w=i.length-this.dimension,A=this.bounds,L=A[0],x=A[1];this._time.push(T,v);for(var E=0;E<2;++E)for(var S=0;S<h;++S)i.push(i[w++]),p.push(0);this._time.push(v);for(var S=h;S>0;--S)i.push(n(L[S-1],x[S-1],arguments[S])),p.push(0)}},f.push=function(v){var T=this.lastT(),h=this.dimension;if(!(v<T||arguments.length!==h+1)){var i=this._state,p=this._velocity,w=i.length-this.dimension,A=v-T,L=this.bounds,x=L[0],E=L[1],S=A>1e-6?1/A:0;this._time.push(v);for(var a=h;a>0;--a){var C=n(x[a-1],E[a-1],arguments[a]);i.push(C),p.push((C-i[w++])*S)}}},f.set=function(v){var T=this.dimension;if(!(v<this.lastT()||arguments.length!==T+1)){var h=this._state,i=this._velocity,p=this.bounds,w=p[0],A=p[1];this._time.push(v);for(var L=T;L>0;--L)h.push(n(w[L-1],A[L-1],arguments[L])),i.push(0)}},f.move=function(v){var T=this.lastT(),h=this.dimension;if(!(v<=T||arguments.length!==h+1)){var i=this._state,p=this._velocity,w=i.length-this.dimension,A=this.bounds,L=A[0],x=A[1],E=v-T,S=E>1e-6?1/E:0;this._time.push(v);for(var a=h;a>0;--a){var C=arguments[a];i.push(n(L[a-1],x[a-1],i[w++]+C)),p.push(C*S)}}},f.idle=function(v){var T=this.lastT();if(!(v<T)){var h=this.dimension,i=this._state,p=this._velocity,w=i.length-h,A=this.bounds,L=A[0],x=A[1],E=v-T;this._time.push(v);for(var S=h-1;S>=0;--S)i.push(n(L[S],x[S],i[w]+E*p[w])),p.push(0),w+=1}};function c(v){for(var T=new Array(v),h=0;h<v;++h)T[h]=0;return T}function m(v,T,h){switch(arguments.length){case 0:return new u([0],[0],0);case 1:if(typeof v=="number"){var i=c(v);return new u(i,i,0)}else return new u(v,c(v.length),0);case 2:if(typeof T=="number"){var i=c(v.length);return new u(v,i,+T)}else h=0;case 3:if(v.length!==T.length)throw new Error("state and velocity lengths must match");return new u(v,T,h)}}},3840:function(d){d.exports=L;var g=0,r=1;function e(x,E,S,a,C,b){this._color=x,this.key=E,this.value=S,this.left=a,this.right=C,this._count=b}function o(x){return new e(x._color,x.key,x.value,x.left,x.right,x._count)}function n(x,E){return new e(x,E.key,E.value,E.left,E.right,E._count)}function u(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function f(x,E){this._compare=x,this.root=E}var c=f.prototype;Object.defineProperty(c,"keys",{get:function(){var x=[];return this.forEach(function(E,S){x.push(E)}),x}}),Object.defineProperty(c,"values",{get:function(){var x=[];return this.forEach(function(E,S){x.push(S)}),x}}),Object.defineProperty(c,"length",{get:function(){return this.root?this.root._count:0}}),c.insert=function(x,E){for(var S=this._compare,a=this.root,C=[],b=[];a;){var z=S(x,a.key);C.push(a),b.push(z),z<=0?a=a.left:a=a.right}C.push(new e(g,x,E,null,null,1));for(var k=C.length-2;k>=0;--k){var a=C[k];b[k]<=0?C[k]=new e(a._color,a.key,a.value,C[k+1],a.right,a._count+1):C[k]=new e(a._color,a.key,a.value,a.left,C[k+1],a._count+1)}for(var k=C.length-1;k>1;--k){var U=C[k-1],a=C[k];if(U._color===r||a._color===r)break;var F=C[k-2];if(F.left===U)if(U.left===a){var V=F.right;if(V&&V._color===g)U._color=r,F.right=n(r,V),F._color=g,k-=1;else{if(F._color=g,F.left=U.right,U._color=r,U.right=F,C[k-2]=U,C[k-1]=a,u(F),u(U),k>=3){var N=C[k-3];N.left===F?N.left=U:N.right=U}break}}else{var V=F.right;if(V&&V._color===g)U._color=r,F.right=n(r,V),F._color=g,k-=1;else{if(U.right=a.left,F._color=g,F.left=a.right,a._color=r,a.left=U,a.right=F,C[k-2]=a,C[k-1]=U,u(F),u(U),u(a),k>=3){var N=C[k-3];N.left===F?N.left=a:N.right=a}break}}else if(U.right===a){var V=F.left;if(V&&V._color===g)U._color=r,F.left=n(r,V),F._color=g,k-=1;else{if(F._color=g,F.right=U.left,U._color=r,U.left=F,C[k-2]=U,C[k-1]=a,u(F),u(U),k>=3){var N=C[k-3];N.right===F?N.right=U:N.left=U}break}}else{var V=F.left;if(V&&V._color===g)U._color=r,F.left=n(r,V),F._color=g,k-=1;else{if(U.left=a.right,F._color=g,F.right=a.left,a._color=r,a.right=U,a.left=F,C[k-2]=a,C[k-1]=U,u(F),u(U),u(a),k>=3){var N=C[k-3];N.right===F?N.right=a:N.left=a}break}}}return C[0]._color=r,new f(S,C[0])};function m(x,E){if(E.left){var S=m(x,E.left);if(S)return S}var S=x(E.key,E.value);if(S)return S;if(E.right)return m(x,E.right)}function v(x,E,S,a){var C=E(x,a.key);if(C<=0){if(a.left){var b=v(x,E,S,a.left);if(b)return b}var b=S(a.key,a.value);if(b)return b}if(a.right)return v(x,E,S,a.right)}function T(x,E,S,a,C){var b=S(x,C.key),z=S(E,C.key),k;if(b<=0&&(C.left&&(k=T(x,E,S,a,C.left),k)||z>0&&(k=a(C.key,C.value),k)))return k;if(z>0&&C.right)return T(x,E,S,a,C.right)}c.forEach=function(E,S,a){if(this.root)switch(arguments.length){case 1:return m(E,this.root);case 2:return v(S,this._compare,E,this.root);case 3:return this._compare(S,a)>=0?void 0:T(S,a,this._compare,E,this.root)}},Object.defineProperty(c,"begin",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.left;return new h(this,x)}}),Object.defineProperty(c,"end",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.right;return new h(this,x)}}),c.at=function(x){if(x<0)return new h(this,[]);for(var E=this.root,S=[];;){if(S.push(E),E.left){if(x<E.left._count){E=E.left;continue}x-=E.left._count}if(!x)return new h(this,S);if(x-=1,E.right){if(x>=E.right._count)break;E=E.right}else break}return new h(this,[])},c.ge=function(x){for(var E=this._compare,S=this.root,a=[],C=0;S;){var b=E(x,S.key);a.push(S),b<=0&&(C=a.length),b<=0?S=S.left:S=S.right}return a.length=C,new h(this,a)},c.gt=function(x){for(var E=this._compare,S=this.root,a=[],C=0;S;){var b=E(x,S.key);a.push(S),b<0&&(C=a.length),b<0?S=S.left:S=S.right}return a.length=C,new h(this,a)},c.lt=function(x){for(var E=this._compare,S=this.root,a=[],C=0;S;){var b=E(x,S.key);a.push(S),b>0&&(C=a.length),b<=0?S=S.left:S=S.right}return a.length=C,new h(this,a)},c.le=function(x){for(var E=this._compare,S=this.root,a=[],C=0;S;){var b=E(x,S.key);a.push(S),b>=0&&(C=a.length),b<0?S=S.left:S=S.right}return a.length=C,new h(this,a)},c.find=function(x){for(var E=this._compare,S=this.root,a=[];S;){var C=E(x,S.key);if(a.push(S),C===0)return new h(this,a);C<=0?S=S.left:S=S.right}return new h(this,[])},c.remove=function(x){var E=this.find(x);return E?E.remove():this},c.get=function(x){for(var E=this._compare,S=this.root;S;){var a=E(x,S.key);if(a===0)return S.value;a<=0?S=S.left:S=S.right}};function h(x,E){this.tree=x,this._stack=E}var i=h.prototype;Object.defineProperty(i,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(i,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),i.clone=function(){return new h(this.tree,this._stack.slice())};function p(x,E){x.key=E.key,x.value=E.value,x.left=E.left,x.right=E.right,x._color=E._color,x._count=E._count}function w(x){for(var E,S,a,C,b=x.length-1;b>=0;--b){if(E=x[b],b===0){E._color=r;return}if(S=x[b-1],S.left===E){if(a=S.right,a.right&&a.right._color===g){if(a=S.right=o(a),C=a.right=o(a.right),S.right=a.left,a.left=S,a.right=C,a._color=S._color,E._color=r,S._color=r,C._color=r,u(S),u(a),b>1){var z=x[b-2];z.left===S?z.left=a:z.right=a}x[b-1]=a;return}else if(a.left&&a.left._color===g){if(a=S.right=o(a),C=a.left=o(a.left),S.right=C.left,a.left=C.right,C.left=S,C.right=a,C._color=S._color,S._color=r,a._color=r,E._color=r,u(S),u(a),u(C),b>1){var z=x[b-2];z.left===S?z.left=C:z.right=C}x[b-1]=C;return}if(a._color===r)if(S._color===g){S._color=r,S.right=n(g,a);return}else{S.right=n(g,a);continue}else{if(a=o(a),S.right=a.left,a.left=S,a._color=S._color,S._color=g,u(S),u(a),b>1){var z=x[b-2];z.left===S?z.left=a:z.right=a}x[b-1]=a,x[b]=S,b+1<x.length?x[b+1]=E:x.push(E),b=b+2}}else{if(a=S.left,a.left&&a.left._color===g){if(a=S.left=o(a),C=a.left=o(a.left),S.left=a.right,a.right=S,a.left=C,a._color=S._color,E._color=r,S._color=r,C._color=r,u(S),u(a),b>1){var z=x[b-2];z.right===S?z.right=a:z.left=a}x[b-1]=a;return}else if(a.right&&a.right._color===g){if(a=S.left=o(a),C=a.right=o(a.right),S.left=C.right,a.right=C.left,C.right=S,C.left=a,C._color=S._color,S._color=r,a._color=r,E._color=r,u(S),u(a),u(C),b>1){var z=x[b-2];z.right===S?z.right=C:z.left=C}x[b-1]=C;return}if(a._color===r)if(S._color===g){S._color=r,S.left=n(g,a);return}else{S.left=n(g,a);continue}else{if(a=o(a),S.left=a.right,a.right=S,a._color=S._color,S._color=g,u(S),u(a),b>1){var z=x[b-2];z.right===S?z.right=a:z.left=a}x[b-1]=a,x[b]=S,b+1<x.length?x[b+1]=E:x.push(E),b=b+2}}}}i.remove=function(){var x=this._stack;if(x.length===0)return this.tree;var E=new Array(x.length),S=x[x.length-1];E[E.length-1]=new e(S._color,S.key,S.value,S.left,S.right,S._count);for(var a=x.length-2;a>=0;--a){var S=x[a];S.left===x[a+1]?E[a]=new e(S._color,S.key,S.value,E[a+1],S.right,S._count):E[a]=new e(S._color,S.key,S.value,S.left,E[a+1],S._count)}if(S=E[E.length-1],S.left&&S.right){var C=E.length;for(S=S.left;S.right;)E.push(S),S=S.right;var b=E[C-1];E.push(new e(S._color,b.key,b.value,S.left,S.right,S._count)),E[C-1].key=S.key,E[C-1].value=S.value;for(var a=E.length-2;a>=C;--a)S=E[a],E[a]=new e(S._color,S.key,S.value,S.left,E[a+1],S._count);E[C-1].left=E[C]}if(S=E[E.length-1],S._color===g){var z=E[E.length-2];z.left===S?z.left=null:z.right===S&&(z.right=null),E.pop();for(var a=0;a<E.length;++a)E[a]._count--;return new f(this.tree._compare,E[0])}else if(S.left||S.right){S.left?p(S,S.left):S.right&&p(S,S.right),S._color=r;for(var a=0;a<E.length-1;++a)E[a]._count--;return new f(this.tree._compare,E[0])}else{if(E.length===1)return new f(this.tree._compare,null);for(var a=0;a<E.length;++a)E[a]._count--;var k=E[E.length-2];w(E),k.left===S?k.left=null:k.right=null}return new f(this.tree._compare,E[0])},Object.defineProperty(i,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(i,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(i,"index",{get:function(){var x=0,E=this._stack;if(E.length===0){var S=this.tree.root;return S?S._count:0}else E[E.length-1].left&&(x=E[E.length-1].left._count);for(var a=E.length-2;a>=0;--a)E[a+1]===E[a].right&&(++x,E[a].left&&(x+=E[a].left._count));return x},enumerable:!0}),i.next=function(){var x=this._stack;if(x.length!==0){var E=x[x.length-1];if(E.right)for(E=E.right;E;)x.push(E),E=E.left;else for(x.pop();x.length>0&&x[x.length-1].right===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(i,"hasNext",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].right)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].left===x[E])return!0;return!1}}),i.update=function(x){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var S=new Array(E.length),a=E[E.length-1];S[S.length-1]=new e(a._color,a.key,x,a.left,a.right,a._count);for(var C=E.length-2;C>=0;--C)a=E[C],a.left===E[C+1]?S[C]=new e(a._color,a.key,a.value,S[C+1],a.right,a._count):S[C]=new e(a._color,a.key,a.value,a.left,S[C+1],a._count);return new f(this.tree._compare,S[0])},i.prev=function(){var x=this._stack;if(x.length!==0){var E=x[x.length-1];if(E.left)for(E=E.left;E;)x.push(E),E=E.right;else for(x.pop();x.length>0&&x[x.length-1].left===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(i,"hasPrev",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].left)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].right===x[E])return!0;return!1}});function A(x,E){return x<E?-1:x>E?1:0}function L(x){return new f(x||A,null)}},3837:function(d,g,r){d.exports=k;var e=r(4935),o=r(501),n=r(5304),u=r(6429),f=r(6444),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=ArrayBuffer,v=DataView;function T(U){return m.isView(U)&&!(U instanceof v)}function h(U){return Array.isArray(U)||T(U)}function i(U,F){return U[0]=F[0],U[1]=F[1],U[2]=F[2],U}function p(U){this.gl=U,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(U)}var w=p.prototype;w.update=function(U){U=U||{};function F(q,ut,$){if($ in U){var j=U[$],lt=this[$],nt;(q?h(j)&&h(j[0]):h(j))?this[$]=nt=[ut(j[0]),ut(j[1]),ut(j[2])]:this[$]=nt=[ut(j),ut(j),ut(j)];for(var ht=0;ht<3;++ht)if(nt[ht]!==lt[ht])return!0}return!1}var V=F.bind(this,!1,Number),N=F.bind(this,!1,Boolean),O=F.bind(this,!1,String),H=F.bind(this,!0,function(q){if(h(q)){if(q.length===3)return[+q[0],+q[1],+q[2],1];if(q.length===4)return[+q[0],+q[1],+q[2],+q[3]]}return[0,0,0,1]}),X,J=!1,et=!1;if("bounds"in U)for(var it=U.bounds,ft=0;ft<2;++ft)for(var ot=0;ot<3;++ot)it[ft][ot]!==this.bounds[ft][ot]&&(et=!0),this.bounds[ft][ot]=it[ft][ot];if("ticks"in U){X=U.ticks,J=!0,this.autoTicks=!1;for(var ft=0;ft<3;++ft)this.tickSpacing[ft]=0}else V("tickSpacing")&&(this.autoTicks=!0,et=!0);if(this._firstInit&&("ticks"in U||"tickSpacing"in U||(this.autoTicks=!0),et=!0,J=!0,this._firstInit=!1),et&&this.autoTicks&&(X=f.create(this.bounds,this.tickSpacing),J=!0),J){for(var ft=0;ft<3;++ft)X[ft].sort(function(ut,$){return ut.x-$.x});f.equal(X,this.ticks)?J=!1:this.ticks=X}N("tickEnable"),O("tickFont")&&(J=!0),O("tickFontStyle")&&(J=!0),O("tickFontWeight")&&(J=!0),O("tickFontVariant")&&(J=!0),V("tickSize"),V("tickAngle"),V("tickPad"),H("tickColor");var Q=O("labels");O("labelFont")&&(Q=!0),O("labelFontStyle")&&(Q=!0),O("labelFontWeight")&&(Q=!0),O("labelFontVariant")&&(Q=!0),N("labelEnable"),V("labelSize"),V("labelPad"),H("labelColor"),N("lineEnable"),N("lineMirror"),V("lineWidth"),H("lineColor"),N("lineTickEnable"),N("lineTickMirror"),V("lineTickLength"),V("lineTickWidth"),H("lineTickColor"),N("gridEnable"),V("gridWidth"),H("gridColor"),N("zeroEnable"),H("zeroLineColor"),V("zeroLineWidth"),N("backgroundEnable"),H("backgroundColor");var tt=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],Z=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(Q||J)&&this._text.update(this.bounds,this.labels,tt,this.ticks,Z):this._text=e(this.gl,this.bounds,this.labels,tt,this.ticks,Z),this._lines&&J&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=o(this.gl,this.bounds,this.ticks))};function A(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var L=[new A,new A,new A];function x(U,F,V,N,O){for(var H=U.primalOffset,X=U.primalMinor,J=U.mirrorOffset,et=U.mirrorMinor,it=N[F],ft=0;ft<3;++ft)if(F!==ft){var ot=H,Q=J,tt=X,Z=et;it&1<<ft&&(ot=J,Q=H,tt=et,Z=X),ot[ft]=V[0][ft],Q[ft]=V[1][ft],O[ft]>0?(tt[ft]=-1,Z[ft]=0):(tt[ft]=0,Z[ft]=1)}}var E=[0,0,0],S={model:c,view:c,projection:c,_ortho:!1};w.isOpaque=function(){return!0},w.isTransparent=function(){return!1},w.drawTransparent=function(U){};var a=0,C=[0,0,0],b=[0,0,0],z=[0,0,0];w.draw=function(U){U=U||S;for(var $=this.gl,F=U.model||c,V=U.view||c,N=U.projection||c,O=this.bounds,H=U._ortho||!1,X=u(F,V,N,O,H),J=X.cubeEdges,et=X.axis,it=V[12],ft=V[13],ot=V[14],Q=V[15],tt=H?2:1,Z=tt*this.pixelRatio*(N[3]*it+N[7]*ft+N[11]*ot+N[15]*Q)/$.drawingBufferHeight,q=0;q<3;++q)this.lastCubeProps.cubeEdges[q]=J[q],this.lastCubeProps.axis[q]=et[q];for(var ut=L,q=0;q<3;++q)x(L[q],q,this.bounds,J,et);for(var $=this.gl,j=E,q=0;q<3;++q)this.backgroundEnable[q]?j[q]=et[q]:j[q]=0;this._background.draw(F,V,N,O,j,this.backgroundColor),this._lines.bind(F,V,N,this);for(var q=0;q<3;++q){var lt=[0,0,0];et[q]>0?lt[q]=O[1][q]:lt[q]=O[0][q];for(var nt=0;nt<2;++nt){var ht=(q+1+nt)%3,mt=(q+1+(nt^1))%3;this.gridEnable[ht]&&this._lines.drawGrid(ht,mt,this.bounds,lt,this.gridColor[ht],this.gridWidth[ht]*this.pixelRatio)}for(var nt=0;nt<2;++nt){var ht=(q+1+nt)%3,mt=(q+1+(nt^1))%3;this.zeroEnable[mt]&&Math.min(O[0][mt],O[1][mt])<=0&&Math.max(O[0][mt],O[1][mt])>=0&&this._lines.drawZero(ht,mt,this.bounds,lt,this.zeroLineColor[mt],this.zeroLineWidth[mt]*this.pixelRatio)}}for(var q=0;q<3;++q){this.lineEnable[q]&&this._lines.drawAxisLine(q,this.bounds,ut[q].primalOffset,this.lineColor[q],this.lineWidth[q]*this.pixelRatio),this.lineMirror[q]&&this._lines.drawAxisLine(q,this.bounds,ut[q].mirrorOffset,this.lineColor[q],this.lineWidth[q]*this.pixelRatio);for(var At=i(C,ut[q].primalMinor),bt=i(b,ut[q].mirrorMinor),Pt=this.lineTickLength,nt=0;nt<3;++nt){var _t=Z/F[5*nt];At[nt]*=Pt[nt]*_t,bt[nt]*=Pt[nt]*_t}this.lineTickEnable[q]&&this._lines.drawAxisTicks(q,ut[q].primalOffset,At,this.lineTickColor[q],this.lineTickWidth[q]*this.pixelRatio),this.lineTickMirror[q]&&this._lines.drawAxisTicks(q,ut[q].mirrorOffset,bt,this.lineTickColor[q],this.lineTickWidth[q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(F,V,N,this.pixelRatio);var Ut,St=.5,Rt,Et;function zt(te){Et=[0,0,0],Et[te]=1}function Ct(te,fe,ve){var de=(te+1)%3,xe=(te+2)%3,Me=fe[de],ne=fe[xe],kt=ve[de],Gt=ve[xe];if(Me>0&&Gt>0){zt(de);return}else if(Me>0&&Gt<0){zt(de);return}else if(Me<0&&Gt>0){zt(de);return}else if(Me<0&&Gt<0){zt(de);return}else if(ne>0&&kt>0){zt(xe);return}else if(ne>0&&kt<0){zt(xe);return}else if(ne<0&&kt>0){zt(xe);return}else if(ne<0&&kt<0){zt(xe);return}}for(var q=0;q<3;++q){for(var Wt=ut[q].primalMinor,Kt=ut[q].mirrorMinor,oe=i(z,ut[q].primalOffset),nt=0;nt<3;++nt)this.lineTickEnable[q]&&(oe[nt]+=Z*Wt[nt]*Math.max(this.lineTickLength[nt],0)/F[5*nt]);var Jt=[0,0,0];if(Jt[q]=1,this.tickEnable[q]){this.tickAngle[q]===-3600?(this.tickAngle[q]=0,this.tickAlign[q]="auto"):this.tickAlign[q]=-1,Rt=1,Ut=[this.tickAlign[q],St,Rt],Ut[0]==="auto"?Ut[0]=a:Ut[0]=parseInt(""+Ut[0]),Et=[0,0,0],Ct(q,Wt,Kt);for(var nt=0;nt<3;++nt)oe[nt]+=Z*Wt[nt]*this.tickPad[nt]/F[5*nt];this._text.drawTicks(q,this.tickSize[q],this.tickAngle[q],oe,this.tickColor[q],Jt,Et,Ut)}if(this.labelEnable[q]){Rt=0,Et=[0,0,0],this.labels[q].length>4&&(zt(q),Rt=1),Ut=[this.labelAlign[q],St,Rt],Ut[0]==="auto"?Ut[0]=a:Ut[0]=parseInt(""+Ut[0]);for(var nt=0;nt<3;++nt)oe[nt]+=Z*Wt[nt]*this.labelPad[nt]/F[5*nt];oe[q]+=.5*(O[0][q]+O[1][q]),this._text.drawLabel(q,this.labelSize[q],this.labelAngle[q],oe,this.labelColor[q],[0,0,0],Et,Ut)}}this._text.unbind()},w.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function k(U,F){var V=new p(U);return V.update(F),V}},5304:function(d,g,r){d.exports=c;var e=r(2762),o=r(8116),n=r(1879).bg;function u(m,v,T,h){this.gl=m,this.buffer=v,this.vao=T,this.shader=h}var f=u.prototype;f.draw=function(m,v,T,h,i,p){for(var w=!1,A=0;A<3;++A)w=w||i[A];if(w){var L=this.gl;L.enable(L.POLYGON_OFFSET_FILL),L.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:v,projection:T,bounds:h,enable:i,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),L.disable(L.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(m){for(var v=[],T=[],h=0,i=0;i<3;++i)for(var p=(i+1)%3,w=(i+2)%3,A=[0,0,0],L=[0,0,0],x=-1;x<=1;x+=2){T.push(h,h+2,h+1,h+1,h+2,h+3),A[i]=x,L[i]=x;for(var E=-1;E<=1;E+=2){A[p]=E;for(var S=-1;S<=1;S+=2)A[w]=S,v.push(A[0],A[1],A[2],L[0],L[1],L[2]),h+=1}var a=p;p=w,w=a}var C=e(m,new Float32Array(v)),b=e(m,new Uint16Array(T),m.ELEMENT_ARRAY_BUFFER),z=o(m,[{buffer:C,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:C,type:m.FLOAT,size:3,offset:12,stride:24}],b),k=n(m);return k.attributes.position.location=0,k.attributes.normal.location=1,new u(m,C,z,k)}},6429:function(d,g,r){d.exports=x;var e=r(8828),o=r(6760),n=r(5202),u=r(3250),f=new Array(16),c=new Array(8),m=new Array(8),v=new Array(3),T=[0,0,0];(function(){for(var E=0;E<8;++E)c[E]=[1,1,1,1],m[E]=[1,1,1]})();function h(E,S,a){for(var C=0;C<4;++C){E[C]=a[12+C];for(var b=0;b<3;++b)E[C]+=S[b]*a[4*b+C]}}var i=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(E){for(var S=0;S<i.length;++S)if(E=n.positive(E,i[S]),E.length<3)return 0;for(var a=E[0],C=a[0]/a[3],b=a[1]/a[3],z=0,S=1;S+1<E.length;++S){var k=E[S],U=E[S+1],F=k[0]/k[3],V=k[1]/k[3],N=U[0]/U[3],O=U[1]/U[3],H=F-C,X=V-b,J=N-C,et=O-b;z+=Math.abs(H*et-X*J)}return z}var w=[1,1,1],A=[0,0,0],L={cubeEdges:w,axis:A};function x(E,S,a,C,b){o(f,S,E),o(f,a,f);for(var z=0,k=0;k<2;++k){v[2]=C[k][2];for(var U=0;U<2;++U){v[1]=C[U][1];for(var F=0;F<2;++F)v[0]=C[F][0],h(c[z],v,f),z+=1}}for(var V=-1,k=0;k<8;++k){for(var N=c[k][3],O=0;O<3;++O)m[k][O]=c[k][O]/N;b&&(m[k][2]*=-1),N<0&&(V<0||m[k][2]<m[V][2])&&(V=k)}if(V<0){V=0;for(var H=0;H<3;++H){for(var X=(H+2)%3,J=(H+1)%3,et=-1,it=-1,ft=0;ft<2;++ft){var ot=ft<<H,Q=ot+(ft<<X)+(1-ft<<J),tt=ot+(1-ft<<X)+(ft<<J);u(m[ot],m[Q],m[tt],T)<0||(ft?et=1:it=1)}if(et<0||it<0){it>et&&(V|=1<<H);continue}for(var ft=0;ft<2;++ft){var ot=ft<<H,Q=ot+(ft<<X)+(1-ft<<J),tt=ot+(1-ft<<X)+(ft<<J),Z=p([c[ot],c[Q],c[tt],c[ot+(1<<X)+(1<<J)]]);ft?et=Z:it=Z}if(it>et){V|=1<<H;continue}}}for(var q=7^V,ut=-1,k=0;k<8;++k)k===V||k===q||(ut<0||m[ut][1]>m[k][1])&&(ut=k);for(var $=-1,k=0;k<3;++k){var j=ut^1<<k;if(!(j===V||j===q)){$<0&&($=j);var J=m[j];J[0]<m[$][0]&&($=j)}}for(var lt=-1,k=0;k<3;++k){var j=ut^1<<k;if(!(j===V||j===q||j===$)){lt<0&&(lt=j);var J=m[j];J[0]>m[lt][0]&&(lt=j)}}var nt=w;nt[0]=nt[1]=nt[2]=0,nt[e.log2($^ut)]=ut&$,nt[e.log2(ut^lt)]=ut&lt;var ht=lt^7;ht===V||ht===q?(ht=$^7,nt[e.log2(lt^ht)]=ht&lt):nt[e.log2($^ht)]=ht&$;for(var mt=A,At=V,H=0;H<3;++H)At&1<<H?mt[H]=-1:mt[H]=1;return L}},501:function(d,g,r){d.exports=w;var e=r(2762),o=r(8116),n=r(1879).n,u=[0,0,0],f=[0,0,0],c=[0,0,0],m=[0,0,0],v=[1,1];function T(A){return A[0]=A[1]=A[2]=0,A}function h(A,L){return A[0]=L[0],A[1]=L[1],A[2]=L[2],A}function i(A,L,x,E,S,a,C,b){this.gl=A,this.vertBuffer=L,this.vao=x,this.shader=E,this.tickCount=S,this.tickOffset=a,this.gridCount=C,this.gridOffset=b}var p=i.prototype;p.bind=function(A,L,x){this.shader.bind(),this.shader.uniforms.model=A,this.shader.uniforms.view=L,this.shader.uniforms.projection=x,v[0]=this.gl.drawingBufferWidth,v[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=v,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(A,L,x,E,S){var a=T(f);this.shader.uniforms.majorAxis=f,a[A]=L[1][A]-L[0][A],this.shader.uniforms.minorAxis=a;var C=h(m,x);C[A]+=L[0][A],this.shader.uniforms.offset=C,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=E;var b=T(c);b[(A+2)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6);var b=T(c);b[(A+1)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(A,L,x,E,S){if(this.tickCount[A]){var a=T(u);a[A]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=L,this.shader.uniforms.minorAxis=x,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=S;var C=T(c);C[A]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A])}},p.drawGrid=function(A,L,x,E,S,a){if(this.gridCount[A]){var C=T(f);C[L]=x[1][L]-x[0][L],this.shader.uniforms.minorAxis=C;var b=h(m,E);b[L]+=x[0][L],this.shader.uniforms.offset=b;var z=T(u);z[A]=1,this.shader.uniforms.majorAxis=z;var k=T(c);k[A]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[A],this.gridOffset[A])}},p.drawZero=function(A,L,x,E,S,a){var C=T(f);this.shader.uniforms.majorAxis=C,C[A]=x[1][A]-x[0][A],this.shader.uniforms.minorAxis=C;var b=h(m,E);b[A]+=x[0][A],this.shader.uniforms.offset=b;var z=T(c);z[L]=1,this.shader.uniforms.screenAxis=z,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function w(A,L,x){var E=[],S=[0,0,0],a=[0,0,0],C=[0,0,0],b=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var z=0;z<3;++z){for(var F=E.length/3|0,k=0;k<x[z].length;++k){var U=+x[z][k].x;E.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var N=E.length/3|0;S[z]=F,a[z]=N-F;for(var F=E.length/3|0,V=0;V<x[z].length;++V){var U=+x[z][V].x;E.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var N=E.length/3|0;C[z]=F,b[z]=N-F}var O=e(A,new Float32Array(E)),H=o(A,[{buffer:O,type:A.FLOAT,size:3,stride:0,offset:0}]),X=n(A);return X.attributes.position.location=0,new i(A,O,H,X,a,S,b,C)}},1879:function(d,g,r){var e=r(3236),o=r(9405),n=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),u=e([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.n=function(T){return o(T,n,u,null,[{name:"position",type:"vec3"}])};var f=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),c=e([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.Q=function(T){return o(T,f,c,null,[{name:"position",type:"vec3"}])};var m=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),v=e([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);g.bg=function(T){return o(T,m,v,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(d,g,r){d.exports=p;var e=r(2762),o=r(8116),n=r(4359),u=r(1879).Q,f=window||y.global||{},c=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};var m=3;function v(w,A,L,x){this.gl=w,this.shader=A,this.buffer=L,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=v.prototype,h=[0,0];T.bind=function(w,A,L,x){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=w,E.view=A,E.projection=L,E.pixelScale=x,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},T.unbind=function(){this.vao.unbind()},T.update=function(w,A,L,x,E){var S=[];function a(H,X,J,et,it,ft){var ot=[J.style,J.weight,J.variant,J.family].join("_"),Q=c[ot];Q||(Q=c[ot]={});var tt=Q[X];tt||(tt=Q[X]=i(X,{triangles:!0,font:J.family,fontStyle:J.style,fontWeight:J.weight,fontVariant:J.variant,textAlign:"center",textBaseline:"middle",lineSpacing:it,styletags:ft}));for(var Z=(et||12)/12,q=tt.positions,ut=tt.cells,$=0,j=ut.length;$<j;++$)for(var lt=ut[$],nt=2;nt>=0;--nt){var ht=q[lt[nt]];S.push(Z*ht[0],-Z*ht[1],H)}}for(var C=[0,0,0],b=[0,0,0],z=[0,0,0],k=[0,0,0],U=1.25,F={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},V=0;V<3;++V){z[V]=S.length/m|0,a(.5*(w[0][V]+w[1][V]),A[V],L[V],12,U,F),k[V]=(S.length/m|0)-z[V],C[V]=S.length/m|0;for(var N=0;N<x[V].length;++N)if(x[V][N].text){var O={family:x[V][N].font||E[V].family,style:E[V].fontStyle||E[V].style,weight:E[V].fontWeight||E[V].weight,variant:E[V].fontVariant||E[V].variant};a(x[V][N].x,x[V][N].text,O,x[V][N].fontSize||12,U,F)}b[V]=(S.length/m|0)-C[V]}this.buffer.update(S),this.tickOffset=C,this.tickCount=b,this.labelOffset=z,this.labelCount=k},T.drawTicks=function(w,A,L,x,E,S,a,C){this.tickCount[w]&&(this.shader.uniforms.axis=S,this.shader.uniforms.color=E,this.shader.uniforms.angle=L,this.shader.uniforms.scale=A,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w]))},T.drawLabel=function(w,A,L,x,E,S,a,C){this.labelCount[w]&&(this.shader.uniforms.axis=S,this.shader.uniforms.color=E,this.shader.uniforms.angle=L,this.shader.uniforms.scale=A,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.labelCount[w],this.labelOffset[w]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function i(w,A){try{return n(w,A)}catch(L){return console.warn('error vectorizing text:"'+w+'" error:',L),{cells:[],positions:[]}}}function p(w,A,L,x,E,S){var a=e(w),C=o(w,[{buffer:a,size:3}]),b=u(w);b.attributes.position.location=0;var z=new v(w,b,a,C);return z.update(A,L,x,E,S),z}},6444:function(d,g){g.create=e,g.equal=o;function r(n,u){var f=n+"",c=f.indexOf("."),m=0;c>=0&&(m=f.length-c-1);var v=Math.pow(10,m),T=Math.round(n*u*v),h=T+"";if(h.indexOf("e")>=0)return h;var i=T/v,p=T%v;T<0?(i=-Math.ceil(i)|0,p=-p|0):(i=Math.floor(i)|0,p=p|0);var w=""+i;if(T<0&&(w="-"+w),m){for(var A=""+p;A.length<m;)A="0"+A;return w+"."+A}else return w}function e(n,u){for(var f=[],c=0;c<3;++c){var m=[];.5*(n[0][c]+n[1][c]);for(var v=0;v*u[c]<=n[1][c];++v)m.push({x:v*u[c],text:r(u[c],v)});for(var v=-1;v*u[c]>=n[0][c];--v)m.push({x:v*u[c],text:r(u[c],v)});f.push(m)}return f}function o(n,u){for(var f=0;f<3;++f){if(n[f].length!==u[f].length)return!1;for(var c=0;c<n[f].length;++c){var m=n[f][c],v=u[f][c];if(m.x!==v.x||m.text!==v.text||m.font!==v.font||m.fontColor!==v.fontColor||m.fontSize!==v.fontSize||m.dx!==v.dx||m.dy!==v.dy)return!1}}return!0}},5445:function(d,g,r){d.exports=L;var e=r(5033),o=r(5202),n=r(6429),u=r(6760),f=r(5665),c=r(5352),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),v=new Float32Array(16);function T(x,E,S){this.lo=x,this.hi=E,this.pixelsPerDataUnit=S}var h=[0,0,0,1],i=[0,0,0,1];function p(x,E,S,a,C){for(var b=0;b<3;++b){for(var z=h,k=i,U=0;U<3;++U)k[U]=z[U]=S[U];k[3]=z[3]=1,k[b]+=1,c(k,k,E),k[3]<0&&(x[b]=1/0),z[b]-=1,c(z,z,E),z[3]<0&&(x[b]=1/0);var F=(z[0]/z[3]-k[0]/k[3])*a,V=(z[1]/z[3]-k[1]/k[3])*C;x[b]=.25*Math.sqrt(F*F+V*V)}return x}var w=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],A=[0,0,0];function L(x,E,S,a,V){var b=E.model||m,z=E.view||m,k=E.projection||m,U=E._ortho||!1,F=x.bounds,V=V||n(b,z,k,F,U),N=V.axis;u(v,z,b),u(v,k,v);for(var O=w,H=0;H<3;++H)O[H].lo=1/0,O[H].hi=-1/0,O[H].pixelsPerDataUnit=1/0;var X=e(f(v,v));f(v,v);for(var J=0;J<3;++J){var et=(J+1)%3,it=(J+2)%3,ft=A;t:for(var H=0;H<2;++H){var ot=[];if(N[J]<0!=!!H){ft[J]=F[H][J];for(var Q=0;Q<2;++Q){ft[et]=F[Q^H][et];for(var tt=0;tt<2;++tt)ft[it]=F[tt^Q^H][it],ot.push(ft.slice())}for(var Z=U?5:4,Q=Z;Q===Z;++Q){if(ot.length===0)continue t;ot=o.positive(ot,X[Q])}for(var Q=0;Q<ot.length;++Q)for(var it=ot[Q],q=p(A,v,it,S,a),tt=0;tt<3;++tt)O[tt].lo=Math.min(O[tt].lo,it[tt]),O[tt].hi=Math.max(O[tt].hi,it[tt]),tt!==J&&(O[tt].pixelsPerDataUnit=Math.min(O[tt].pixelsPerDataUnit,Math.abs(q[tt])))}}}return O}},2762:function(d,g,r){var e=r(1888),o=r(5298),n=r(9618),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(i,p,w,A,L){this.gl=i,this.type=p,this.handle=w,this.length=A,this.usage=L}var c=f.prototype;c.bind=function(){this.gl.bindBuffer(this.type,this.handle)},c.unbind=function(){this.gl.bindBuffer(this.type,null)},c.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(i,p,w,A,L,x){var E=L.length*L.BYTES_PER_ELEMENT;if(x<0)return i.bufferData(p,L,A),E;if(E+x>w)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return i.bufferSubData(p,x,L),w}function v(i,p){for(var w=e.malloc(i.length,p),A=i.length,L=0;L<A;++L)w[L]=i[L];return w}function T(i,p){for(var w=1,A=p.length-1;A>=0;--A){if(p[A]!==w)return!1;w*=i[A]}return!0}c.update=function(i,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof i=="object"&&typeof i.shape<"u"){var w=i.dtype;if(u.indexOf(w)<0&&(w="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var A=gl.getExtension("OES_element_index_uint");A&&w!=="uint16"?w="uint32":w="uint16"}if(w===i.dtype&&T(i.shape,i.stride))i.offset===0&&i.data.length===i.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,i.data,p):this.length=m(this.gl,this.type,this.length,this.usage,i.data.subarray(i.offset,i.shape[0]),p);else{var L=e.malloc(i.size,w),x=n(L,i.shape);o.assign(x,i),p<0?this.length=m(this.gl,this.type,this.length,this.usage,L,p):this.length=m(this.gl,this.type,this.length,this.usage,L.subarray(0,i.size),p),e.free(L)}}else if(Array.isArray(i)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=v(i,"uint16"):E=v(i,"float32"),p<0?this.length=m(this.gl,this.type,this.length,this.usage,E,p):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,i.length),p),e.free(E)}else if(typeof i=="object"&&typeof i.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,i,p);else if(typeof i=="number"||i===void 0){if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");i=i|0,i<=0&&(i=1),this.gl.bufferData(this.type,i|0,this.usage),this.length=i}else throw new Error("gl-buffer: Invalid data type")};function h(i,p,w,A){if(w=w||i.ARRAY_BUFFER,A=A||i.DYNAMIC_DRAW,w!==i.ARRAY_BUFFER&&w!==i.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(A!==i.DYNAMIC_DRAW&&A!==i.STATIC_DRAW&&A!==i.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var L=i.createBuffer(),x=new f(i,w,L,0,A);return x.update(p),x}d.exports=h},6405:function(d,g,r){var e=r(2931);d.exports=function(n,u){var f=n.positions,c=n.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),m;for(var v=0,T=1/0,h=-1/0,i=1/0,p=-1/0,w=1/0,A=-1/0,L=null,x=null,E=[],S=1/0,a=!1,C=n.coneSizemode==="raw",b=0;b<f.length;b++){var z=f[b];T=Math.min(z[0],T),h=Math.max(z[0],h),i=Math.min(z[1],i),p=Math.max(z[1],p),w=Math.min(z[2],w),A=Math.max(z[2],A);var k=c[b];if(e.length(k)>v&&(v=e.length(k)),b&&!C){var U=2*e.distance(L,z)/(e.length(x)+e.length(k));U?(S=Math.min(S,U),a=!1):a=!0}a||(L=z,x=k),E.push(k)}var F=[T,i,w],V=[h,p,A];u&&(u[0]=F,u[1]=V),v===0&&(v=1);var N=1/v;isFinite(S)||(S=1),m.vectorScale=S;var O=n.coneSize||(C?1:.5);n.absoluteConeSize&&(O=n.absoluteConeSize*N),m.coneScale=O;for(var b=0,H=0;b<f.length;b++)for(var z=f[b],X=z[0],J=z[1],et=z[2],it=E[b],ft=e.length(it)*N,ot=0,Q=8;ot<Q;ot++){m.positions.push([X,J,et,H++]),m.positions.push([X,J,et,H++]),m.positions.push([X,J,et,H++]),m.positions.push([X,J,et,H++]),m.positions.push([X,J,et,H++]),m.positions.push([X,J,et,H++]),m.vectors.push(it),m.vectors.push(it),m.vectors.push(it),m.vectors.push(it),m.vectors.push(it),m.vectors.push(it),m.vertexIntensity.push(ft,ft,ft),m.vertexIntensity.push(ft,ft,ft);var tt=m.positions.length;m.cells.push([tt-6,tt-5,tt-4],[tt-3,tt-2,tt-1])}return m};var o=r(614);d.exports.createMesh=r(9060),d.exports.createConeMesh=function(n,u){return d.exports.createMesh(n,u,{shaders:o,traceType:"cone"})}},9060:function(d,g,r){var e=r(9405),o=r(2762),n=r(8116),u=r(7766),f=r(6760),c=r(7608),m=r(9618),v=r(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(E,S,a,C,b,z,k,U,F,V,N){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=S,this.dirty=!0,this.triShader=a,this.pickShader=C,this.trianglePositions=b,this.triangleVectors=z,this.triangleColors=U,this.triangleUVs=F,this.triangleIds=k,this.triangleVAO=V,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=N,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var i=h.prototype;i.isOpaque=function(){return this.opacity>=1},i.isTransparent=function(){return this.opacity<1},i.pickSlots=1,i.setPickBase=function(E){this.pickId=E};function p(E){for(var S=v({colormap:E,nshades:256,format:"rgba"}),a=new Uint8Array(256*4),C=0;C<256;++C){for(var b=S[C],z=0;z<3;++z)a[4*C+z]=b[z];a[4*C+3]=b[3]*255}return m(a,[256,256,4],[4,0,1])}function w(E){for(var S=E.length,a=new Array(S),C=0;C<S;++C)a[C]=E[C][2];return a}i.update=function(E){E=E||{};var S=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=S.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=S.LINEAR,this.texture.setPixels(p(E.colormap)),this.texture.generateMipmap());var a=E.cells,C=E.positions,b=E.vectors;if(!(!C||!a||!b)){var z=[],k=[],U=[],F=[],V=[];this.cells=a,this.positions=C,this.vectors=b;var N=E.meshColor||[1,1,1,1],O=E.vertexIntensity,H=1/0,X=-1/0;if(O)if(E.vertexIntensityBounds)H=+E.vertexIntensityBounds[0],X=+E.vertexIntensityBounds[1];else for(var J=0;J<O.length;++J){var et=O[J];H=Math.min(H,et),X=Math.max(X,et)}else for(var J=0;J<C.length;++J){var et=C[J][2];H=Math.min(H,et),X=Math.max(X,et)}O?this.intensity=O:this.intensity=w(C),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var J=0;J<C.length;++J)for(var it=C[J],ft=0;ft<3;++ft)isNaN(it[ft])||!isFinite(it[ft])||(this.bounds[0][ft]=Math.min(this.bounds[0][ft],it[ft]),this.bounds[1][ft]=Math.max(this.bounds[1][ft],it[ft]));var ot=0;t:for(var J=0;J<a.length;++J){var Q=a[J];switch(Q.length){case 3:for(var ft=0;ft<3;++ft)for(var tt=Q[ft],it=C[tt],Z=0;Z<3;++Z)if(isNaN(it[Z])||!isFinite(it[Z]))continue t;for(var ft=0;ft<3;++ft){var tt=Q[2-ft],it=C[tt];z.push(it[0],it[1],it[2],it[3]);var q=b[tt];k.push(q[0],q[1],q[2],q[3]||0);var ut=N;ut.length===3?U.push(ut[0],ut[1],ut[2],1):U.push(ut[0],ut[1],ut[2],ut[3]);var $;O?$=[(O[tt]-H)/(X-H),0]:$=[(it[2]-H)/(X-H),0],F.push($[0],$[1]),V.push(J)}ot+=1;break}}this.triangleCount=ot,this.trianglePositions.update(z),this.triangleVectors.update(k),this.triangleColors.update(U),this.triangleUVs.update(F),this.triangleIds.update(new Uint32Array(V))}},i.drawTransparent=i.draw=function(E){E=E||{};for(var S=this.gl,a=E.model||T,C=E.view||T,b=E.projection||T,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)z[0][k]=Math.max(z[0][k],this.clipBounds[0][k]),z[1][k]=Math.min(z[1][k],this.clipBounds[1][k]);var U={model:a,view:C,projection:b,inverseModel:T.slice(),clipBounds:z,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};U.inverseModel=c(U.inverseModel,U.model),S.disable(S.CULL_FACE),this.texture.bind(0);var F=new Array(16);f(F,U.view,U.model),f(F,U.projection,F),c(F,F);for(var k=0;k<3;++k)U.eyePosition[k]=F[12+k]/F[15];for(var V=F[15],k=0;k<3;++k)V+=this.lightPosition[k]*F[4*k+3];for(var k=0;k<3;++k){for(var N=F[12+k],O=0;O<3;++O)N+=F[4*O+k]*this.lightPosition[O];U.lightPosition[k]=N/V}if(this.triangleCount>0){var H=this.triShader;H.bind(),H.uniforms=U,this.triangleVAO.bind(),S.drawArrays(S.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},i.drawPick=function(E){E=E||{};for(var S=this.gl,a=E.model||T,C=E.view||T,b=E.projection||T,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)z[0][k]=Math.max(z[0][k],this.clipBounds[0][k]),z[1][k]=Math.min(z[1][k],this.clipBounds[1][k]);this._model=[].slice.call(a),this._view=[].slice.call(C),this._projection=[].slice.call(b),this._resolution=[S.drawingBufferWidth,S.drawingBufferHeight];var U={model:a,view:C,projection:b,clipBounds:z,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},F=this.pickShader;F.bind(),F.uniforms=U,this.triangleCount>0&&(this.triangleVAO.bind(),S.drawArrays(S.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},i.pick=function(E){if(!E||E.id!==this.pickId)return null;var S=E.value[0]+256*E.value[1]+65536*E.value[2],a=this.cells[S],C=this.positions[a[1]].slice(0,3),b={position:C,dataCoordinate:C,index:Math.floor(a[1]/48)};return this.traceType==="cone"?b.index=Math.floor(a[1]/48):this.traceType==="streamtube"&&(b.intensity=this.intensity[a[1]],b.velocity=this.vectors[a[1]].slice(0,3),b.divergence=this.vectors[a[1]][3],b.index=S),b},i.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function A(E,S){var a=e(E,S.meshShader.vertex,S.meshShader.fragment,null,S.meshShader.attributes);return a.attributes.position.location=0,a.attributes.color.location=2,a.attributes.uv.location=3,a.attributes.vector.location=4,a}function L(E,S){var a=e(E,S.pickShader.vertex,S.pickShader.fragment,null,S.pickShader.attributes);return a.attributes.position.location=0,a.attributes.id.location=1,a.attributes.vector.location=4,a}function x(E,S,a){var C=a.shaders;arguments.length===1&&(S=E,E=S.gl);var b=A(E,C),z=L(E,C),k=u(E,m(new Uint8Array([255,255,255,255]),[1,1,4]));k.generateMipmap(),k.minFilter=E.LINEAR_MIPMAP_LINEAR,k.magFilter=E.LINEAR;var U=o(E),F=o(E),V=o(E),N=o(E),O=o(E),H=n(E,[{buffer:U,type:E.FLOAT,size:4},{buffer:O,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:V,type:E.FLOAT,size:4},{buffer:N,type:E.FLOAT,size:2},{buffer:F,type:E.FLOAT,size:4}]),X=new h(E,k,b,z,U,F,O,V,N,H,a.traceType||"cone");return X.update(S),X}d.exports=x},614:function(d,g,r){var e=r(3236),o=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=e([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},g.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(d){d.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(d,g,r){var e=r(737);d.exports=function(n){return e[n]}},9165:function(d,g,r){d.exports=h;var e=r(2762),o=r(8116),n=r(3436),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(i,p,w,A){this.gl=i,this.shader=A,this.buffer=p,this.vao=w,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var c=f.prototype;c.isOpaque=function(){return!this.hasAlpha},c.isTransparent=function(){return this.hasAlpha},c.drawTransparent=c.draw=function(i){var p=this.gl,w=this.shader.uniforms;this.shader.bind();var A=w.view=i.view||u,L=w.projection=i.projection||u;w.model=i.model||u,w.clipBounds=this.clipBounds,w.opacity=this.opacity;var x=A[12],E=A[13],S=A[14],a=A[15],C=i._ortho||!1,b=C?2:1,z=b*this.pixelRatio*(L[3]*x+L[7]*E+L[11]*S+L[15]*a)/p.drawingBufferHeight;this.vao.bind();for(var k=0;k<3;++k)p.lineWidth(this.lineWidth[k]*this.pixelRatio),w.capSize=this.capSize[k]*z,this.lineCount[k]&&p.drawArrays(p.LINES,this.lineOffset[k],this.lineCount[k]);this.vao.unbind()};function m(i,p){for(var w=0;w<3;++w)i[0][w]=Math.min(i[0][w],p[w]),i[1][w]=Math.max(i[1][w],p[w])}var v=function(){for(var i=new Array(3),p=0;p<3;++p){for(var w=[],A=1;A<=2;++A)for(var L=-1;L<=1;L+=2){var x=(A+p)%3,E=[0,0,0];E[x]=L,w.push(E)}i[p]=w}return i}();function T(i,p,w,A){for(var L=v[A],x=0;x<L.length;++x){var E=L[x];i.push(p[0],p[1],p[2],w[0],w[1],w[2],w[3],E[0],E[1],E[2])}return L.length}c.update=function(i){i=i||{},"lineWidth"in i&&(this.lineWidth=i.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in i&&(this.capSize=i.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=i.color||[[0,0,0],[0,0,0],[0,0,0]],w=i.position,A=i.error;if(Array.isArray(p[0])||(p=[p,p,p]),w&&A){var L=[],x=w.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=E;t:for(var a=0;a<x;++a){for(var C=w[a],b=0;b<3;++b)if(isNaN(C[b])||!isFinite(C[b]))continue t;var z=A[a],k=p[S];if(Array.isArray(k[0])&&(k=p[a]),k.length===3?k=[k[0],k[1],k[2],1]:k.length===4&&(k=[k[0],k[1],k[2],k[3]],!this.hasAlpha&&k[3]<1&&(this.hasAlpha=!0)),!(isNaN(z[0][S])||isNaN(z[1][S]))){if(z[0][S]<0){var U=C.slice();U[S]+=z[0][S],L.push(C[0],C[1],C[2],k[0],k[1],k[2],k[3],0,0,0,U[0],U[1],U[2],k[0],k[1],k[2],k[3],0,0,0),m(this.bounds,U),E+=2+T(L,U,k,S)}if(z[1][S]>0){var U=C.slice();U[S]+=z[1][S],L.push(C[0],C[1],C[2],k[0],k[1],k[2],k[3],0,0,0,U[0],U[1],U[2],k[0],k[1],k[2],k[3],0,0,0),m(this.bounds,U),E+=2+T(L,U,k,S)}}}this.lineCount[S]=E-this.lineOffset[S]}this.buffer.update(L)}},c.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function h(i){var p=i.gl,w=e(p),A=o(p,[{buffer:w,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:w,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:w,type:p.FLOAT,size:3,offset:28,stride:40}]),L=n(p);L.attributes.position.location=0,L.attributes.color.location=1,L.attributes.offset.location=2;var x=new f(p,w,A,L);return x.update(i),x}},3436:function(d,g,r){var e=r(3236),o=r(9405),n=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),u=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);d.exports=function(f){return o(f,n,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(d,g,r){var e=r(7766);d.exports=E;var o=null,n,u,f,c;function m(S){var a=S.getParameter(S.FRAMEBUFFER_BINDING),C=S.getParameter(S.RENDERBUFFER_BINDING),b=S.getParameter(S.TEXTURE_BINDING_2D);return[a,C,b]}function v(S,a){S.bindFramebuffer(S.FRAMEBUFFER,a[0]),S.bindRenderbuffer(S.RENDERBUFFER,a[1]),S.bindTexture(S.TEXTURE_2D,a[2])}function T(S,a){var C=S.getParameter(a.MAX_COLOR_ATTACHMENTS_WEBGL);o=new Array(C+1);for(var b=0;b<=C;++b){for(var z=new Array(C),k=0;k<b;++k)z[k]=S.COLOR_ATTACHMENT0+k;for(var k=b;k<C;++k)z[k]=S.NONE;o[b]=z}}function h(S){switch(S){case n:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case c:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function i(S,a,C,b,z,k){if(!b)return null;var U=e(S,a,C,z,b);return U.magFilter=S.NEAREST,U.minFilter=S.NEAREST,U.mipSamples=1,U.bind(),S.framebufferTexture2D(S.FRAMEBUFFER,k,S.TEXTURE_2D,U.handle,0),U}function p(S,a,C,b,z){var k=S.createRenderbuffer();return S.bindRenderbuffer(S.RENDERBUFFER,k),S.renderbufferStorage(S.RENDERBUFFER,b,a,C),S.framebufferRenderbuffer(S.FRAMEBUFFER,z,S.RENDERBUFFER,k),k}function w(S){var a=m(S.gl),C=S.gl,b=S.handle=C.createFramebuffer(),z=S._shape[0],k=S._shape[1],U=S.color.length,F=S._ext,V=S._useStencil,N=S._useDepth,O=S._colorType;C.bindFramebuffer(C.FRAMEBUFFER,b);for(var H=0;H<U;++H)S.color[H]=i(C,z,k,O,C.RGBA,C.COLOR_ATTACHMENT0+H);U===0?(S._color_rb=p(C,z,k,C.RGBA4,C.COLOR_ATTACHMENT0),F&&F.drawBuffersWEBGL(o[0])):U>1&&F.drawBuffersWEBGL(o[U]);var X=C.getExtension("WEBGL_depth_texture");X?V?S.depth=i(C,z,k,X.UNSIGNED_INT_24_8_WEBGL,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):N&&(S.depth=i(C,z,k,C.UNSIGNED_SHORT,C.DEPTH_COMPONENT,C.DEPTH_ATTACHMENT)):N&&V?S._depth_rb=p(C,z,k,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):N?S._depth_rb=p(C,z,k,C.DEPTH_COMPONENT16,C.DEPTH_ATTACHMENT):V&&(S._depth_rb=p(C,z,k,C.STENCIL_INDEX,C.STENCIL_ATTACHMENT));var J=C.checkFramebufferStatus(C.FRAMEBUFFER);if(J!==C.FRAMEBUFFER_COMPLETE){S._destroyed=!0,C.bindFramebuffer(C.FRAMEBUFFER,null),C.deleteFramebuffer(S.handle),S.handle=null,S.depth&&(S.depth.dispose(),S.depth=null),S._depth_rb&&(C.deleteRenderbuffer(S._depth_rb),S._depth_rb=null);for(var H=0;H<S.color.length;++H)S.color[H].dispose(),S.color[H]=null;S._color_rb&&(C.deleteRenderbuffer(S._color_rb),S._color_rb=null),v(C,a),h(J)}v(C,a)}function A(S,a,C,b,z,k,U,F){this.gl=S,this._shape=[a|0,C|0],this._destroyed=!1,this._ext=F,this.color=new Array(z);for(var V=0;V<z;++V)this.color[V]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=b,this._useDepth=k,this._useStencil=U;var N=this,O=[a|0,C|0];Object.defineProperties(O,{0:{get:function(){return N._shape[0]},set:function(H){return N.width=H}},1:{get:function(){return N._shape[1]},set:function(H){return N.height=H}}}),this._shapeVector=O,w(this)}var L=A.prototype;function x(S,a,C){if(S._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(S._shape[0]===a&&S._shape[1]===C)){var b=S.gl,z=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(a<0||a>z||C<0||C>z)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");S._shape[0]=a,S._shape[1]=C;for(var k=m(b),U=0;U<S.color.length;++U)S.color[U].shape=S._shape;S._color_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,S._color_rb),b.renderbufferStorage(b.RENDERBUFFER,b.RGBA4,S._shape[0],S._shape[1])),S.depth&&(S.depth.shape=S._shape),S._depth_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,S._depth_rb),S._useDepth&&S._useStencil?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,S._shape[0],S._shape[1]):S._useDepth?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,S._shape[0],S._shape[1]):S._useStencil&&b.renderbufferStorage(b.RENDERBUFFER,b.STENCIL_INDEX,S._shape[0],S._shape[1])),b.bindFramebuffer(b.FRAMEBUFFER,S.handle);var F=b.checkFramebufferStatus(b.FRAMEBUFFER);F!==b.FRAMEBUFFER_COMPLETE&&(S.dispose(),v(b,k),h(F)),v(b,k)}}Object.defineProperties(L,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(S){if(Array.isArray(S)||(S=[S|0,S|0]),S.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var a=S[0]|0,C=S[1]|0;return x(this,a,C),[a,C]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(S){return S=S|0,x(this,S,this._shape[1]),S},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(S){return S=S|0,x(this,this._shape[0],S),S},enumerable:!1}}),L.bind=function(){if(!this._destroyed){var S=this.gl;S.bindFramebuffer(S.FRAMEBUFFER,this.handle),S.viewport(0,0,this._shape[0],this._shape[1])}},L.dispose=function(){if(!this._destroyed){this._destroyed=!0;var S=this.gl;S.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(S.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var a=0;a<this.color.length;++a)this.color[a].dispose(),this.color[a]=null;this._color_rb&&(S.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(S,a,C,b){n||(n=S.FRAMEBUFFER_UNSUPPORTED,u=S.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=S.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,c=S.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var z=S.getExtension("WEBGL_draw_buffers");if(!o&&z&&T(S,z),Array.isArray(a)&&(b=C,C=a[1]|0,a=a[0]|0),typeof a!="number")throw new Error("gl-fbo: Missing shape parameter");var k=S.getParameter(S.MAX_RENDERBUFFER_SIZE);if(a<0||a>k||C<0||C>k)throw new Error("gl-fbo: Parameters are too large for FBO");b=b||{};var U=1;if("color"in b){if(U=Math.max(b.color|0,0),U<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(U>1)if(z){if(U>S.getParameter(z.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+U+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var F=S.UNSIGNED_BYTE,V=S.getExtension("OES_texture_float");if(b.float&&U>0){if(!V)throw new Error("gl-fbo: Context does not support floating point textures");F=S.FLOAT}else b.preferFloat&&U>0&&V&&(F=S.FLOAT);var N=!0;"depth"in b&&(N=!!b.depth);var O=!1;return"stencil"in b&&(O=!!b.stencil),new A(S,a,C,F,U,N,O,z)}},2992:function(d,g,r){var e=r(3387).sprintf,o=r(5171),n=r(1848),u=r(1085);d.exports=f;function f(c,m,v){var T=n(m)||"of unknown name (see npm glsl-shader-name)",h="unknown type";v!==void 0&&(h=v===o.FRAGMENT_SHADER?"fragment":"vertex");for(var i=e(`Error compiling %s shader %s:
`,h,T),p=e("%s%s",i,c),w=c.split(`
`),A={},L=0;L<w.length;L++){var x=w[L];if(!(x===""||x==="\0")){var E=parseInt(x.split(":")[2]);if(isNaN(E))throw new Error(e("Could not parse error: %s",x));A[E]=x}}for(var S=u(m).split(`
`),L=0;L<S.length;L++)if(!(!A[L+3]&&!A[L+2]&&!A[L+1])){var a=S[L];if(i+=a+`
`,A[L+1]){var C=A[L+1];C=C.substr(C.split(":",3).join(":").length+1).trim(),i+=e(`^^^ %s

`,C)}}return{long:i.trim(),short:p.trim()}}},2510:function(d,g,r){d.exports=h;var e=r(2478),o=r(7762),n=r(1888),u=r(9405),f=r(2762),c=r(6768);function m(i,p,w,A,L,x,E){this.plot=i,this.shader=p,this.pickShader=w,this.positionBuffer=A,this.weightBuffer=L,this.colorBuffer=x,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var v=m.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];v.draw=function(){var i=[1,0,0,0,1,0,0,0,1];return function(){var p=this.plot,w=this.shader,A=this.bounds,L=this.numVertices;if(!(L<=0)){var x=p.gl,E=p.dataBox,S=A[2]-A[0],a=A[3]-A[1],C=E[2]-E[0],b=E[3]-E[1];i[0]=2*S/C,i[4]=2*a/b,i[6]=2*(A[0]-E[0])/C-1,i[7]=2*(A[1]-E[1])/b-1,w.bind();var z=w.uniforms;z.viewTransform=i,z.shape=this.shape;var k=w.attributes;this.positionBuffer.bind(),k.position.pointer(),this.weightBuffer.bind(),k.weight.pointer(x.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),k.color.pointer(x.UNSIGNED_BYTE,!0),x.drawArrays(x.TRIANGLES,0,L)}}}(),v.drawPick=function(){var i=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0];return function(w){var A=this.plot,L=this.pickShader,x=this.bounds,E=this.numVertices;if(!(E<=0)){var S=A.gl,a=A.dataBox,C=x[2]-x[0],b=x[3]-x[1],z=a[2]-a[0],k=a[3]-a[1];i[0]=2*C/z,i[4]=2*b/k,i[6]=2*(x[0]-a[0])/z-1,i[7]=2*(x[1]-a[1])/k-1;for(var U=0;U<4;++U)p[U]=w>>U*8&255;this.pickOffset=w,L.bind();var F=L.uniforms;F.viewTransform=i,F.pickOffset=p,F.shape=this.shape;var V=L.attributes;return this.positionBuffer.bind(),V.position.pointer(),this.weightBuffer.bind(),V.weight.pointer(S.UNSIGNED_BYTE,!1),this.idBuffer.bind(),V.pickId.pointer(S.UNSIGNED_BYTE,!1),S.drawArrays(S.TRIANGLES,0,E),w+this.shape[0]*this.shape[1]}}}(),v.pick=function(i,p,w){var A=this.pickOffset,L=this.shape[0]*this.shape[1];if(w<A||w>=A+L)return null;var x=w-A,E=this.xData,S=this.yData;return{object:this,pointId:x,dataCoord:[E[x%this.shape[0]],S[x/this.shape[0]|0]]}},v.update=function(i){i=i||{};var p=i.shape||[0,0],w=i.x||o(p[0]),A=i.y||o(p[1]),L=i.z||new Float32Array(p[0]*p[1]),x=i.zsmooth!==!1;this.xData=w,this.yData=A;var E=i.colorLevels||[0],S=i.colorValues||[0,0,0,1],a=E.length,C=this.bounds,b,z,k,U;x?(b=C[0]=w[0],z=C[1]=A[0],k=C[2]=w[w.length-1],U=C[3]=A[A.length-1]):(b=C[0]=w[0]+(w[1]-w[0])/2,z=C[1]=A[0]+(A[1]-A[0])/2,k=C[2]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2,U=C[3]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2);var F=1/(k-b),V=1/(U-z),N=p[0],O=p[1];this.shape=[N,O];var H=(x?(N-1)*(O-1):N*O)*(T.length>>>1);this.numVertices=H;for(var X=n.mallocUint8(H*4),J=n.mallocFloat32(H*2),et=n.mallocUint8(H*2),it=n.mallocUint32(H),ft=0,ot=x?N-1:N,Q=x?O-1:O,tt=0;tt<Q;++tt){var Z,q;x?(Z=V*(A[tt]-z),q=V*(A[tt+1]-z)):(Z=tt<O-1?V*(A[tt]-(A[tt+1]-A[tt])/2-z):V*(A[tt]-(A[tt]-A[tt-1])/2-z),q=tt<O-1?V*(A[tt]+(A[tt+1]-A[tt])/2-z):V*(A[tt]+(A[tt]-A[tt-1])/2-z));for(var ut=0;ut<ot;++ut){var $,j;x?($=F*(w[ut]-b),j=F*(w[ut+1]-b)):($=ut<N-1?F*(w[ut]-(w[ut+1]-w[ut])/2-b):F*(w[ut]-(w[ut]-w[ut-1])/2-b),j=ut<N-1?F*(w[ut]+(w[ut+1]-w[ut])/2-b):F*(w[ut]+(w[ut]-w[ut-1])/2-b));for(var lt=0;lt<T.length;lt+=2){var nt=T[lt],ht=T[lt+1],mt=x?(tt+ht)*N+(ut+nt):tt*N+ut,At=L[mt],bt=e.le(E,At),Pt,_t,Ut,St;if(bt<0)Pt=S[0],_t=S[1],Ut=S[2],St=S[3];else if(bt===a-1)Pt=S[4*a-4],_t=S[4*a-3],Ut=S[4*a-2],St=S[4*a-1];else{var Rt=(At-E[bt])/(E[bt+1]-E[bt]),Et=1-Rt,zt=4*bt,Ct=4*(bt+1);Pt=Et*S[zt]+Rt*S[Ct],_t=Et*S[zt+1]+Rt*S[Ct+1],Ut=Et*S[zt+2]+Rt*S[Ct+2],St=Et*S[zt+3]+Rt*S[Ct+3]}X[4*ft]=255*Pt,X[4*ft+1]=255*_t,X[4*ft+2]=255*Ut,X[4*ft+3]=255*St,J[2*ft]=$*.5+j*.5,J[2*ft+1]=Z*.5+q*.5,et[2*ft]=nt,et[2*ft+1]=ht,it[ft]=tt*N+ut,ft+=1}}}this.positionBuffer.update(J),this.weightBuffer.update(et),this.colorBuffer.update(X),this.idBuffer.update(it),n.free(J),n.free(X),n.free(et),n.free(it)},v.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function h(i,p){var w=i.gl,A=u(w,c.vertex,c.fragment),L=u(w,c.pickVertex,c.pickFragment),x=f(w),E=f(w),S=f(w),a=f(w),C=new m(i,A,L,x,E,S,a);return C.update(p),i.addObject(C),C}},6768:function(d,g,r){var e=r(3236);d.exports={fragment:e([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:e([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(d,g,r){var e=r(3236),o=r(9405),n=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),u=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),f=e([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),c=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];g.createShader=function(m){return o(m,n,u,null,c)},g.createPickShader=function(m){return o(m,n,f,null,c)}},5714:function(d,g,r){d.exports=S;var e=r(2762),o=r(8116),n=r(7766),u=new Uint8Array(4),f=new Float32Array(u.buffer);function c(a,C,b,z){return u[0]=z,u[1]=b,u[2]=C,u[3]=a,f[0]}var m=r(2478),v=r(9618),T=r(7319),h=T.createShader,i=T.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function w(a,C){for(var b=0,z=0;z<3;++z){var k=a[z]-C[z];b+=k*k}return Math.sqrt(b)}function A(a){for(var C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)C[0][b]=Math.max(a[0][b],C[0][b]),C[1][b]=Math.min(a[1][b],C[1][b]);return C}function L(a,C,b,z){this.arcLength=a,this.position=C,this.index=b,this.dataCoordinate=z}function x(a,C,b,z,k,U){this.gl=a,this.shader=C,this.pickShader=b,this.buffer=z,this.vao=k,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=U,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=x.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(a){this.pickId=a},E.drawTransparent=E.draw=function(a){if(this.vertexCount){var C=this.gl,b=this.shader,z=this.vao;b.bind(),b.uniforms={model:a.model||p,view:a.view||p,projection:a.projection||p,clipBounds:A(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(C.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},E.drawPick=function(a){if(this.vertexCount){var C=this.gl,b=this.pickShader,z=this.vao;b.bind(),b.uniforms={model:a.model||p,view:a.view||p,projection:a.projection||p,pickId:this.pickId,clipBounds:A(this.clipBounds),screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(C.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},E.update=function(a){var C,b;this.dirty=!0;var z=!!a.connectGaps;"dashScale"in a&&(this.dashScale=a.dashScale),this.hasAlpha=!1,"opacity"in a&&(this.opacity=+a.opacity,this.opacity<1&&(this.hasAlpha=!0));var k=[],U=[],F=[],V=0,N=0,O=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],H=a.position||a.positions;if(H){var X=a.color||a.colors||[0,0,0,1],J=a.lineWidth||1,et=!1;t:for(C=1;C<H.length;++C){var it=H[C-1],ft=H[C];for(U.push(V),F.push(it.slice()),b=0;b<3;++b){if(isNaN(it[b])||isNaN(ft[b])||!isFinite(it[b])||!isFinite(ft[b])){if(!z&&k.length>0){for(var ot=0;ot<24;++ot)k.push(k[k.length-12]);N+=2,et=!0}continue t}O[0][b]=Math.min(O[0][b],it[b],ft[b]),O[1][b]=Math.max(O[1][b],it[b],ft[b])}var Q,tt;Array.isArray(X[0])?(Q=X.length>C-1?X[C-1]:X.length>0?X[X.length-1]:[0,0,0,1],tt=X.length>C?X[C]:X.length>0?X[X.length-1]:[0,0,0,1]):Q=tt=X,Q.length===3&&(Q=[Q[0],Q[1],Q[2],1]),tt.length===3&&(tt=[tt[0],tt[1],tt[2],1]),!this.hasAlpha&&Q[3]<1&&(this.hasAlpha=!0);var Z;Array.isArray(J)?Z=J.length>C-1?J[C-1]:J.length>0?J[J.length-1]:[0,0,0,1]:Z=J;var q=V;if(V+=w(it,ft),et){for(b=0;b<2;++b)k.push(it[0],it[1],it[2],ft[0],ft[1],ft[2],q,Z,Q[0],Q[1],Q[2],Q[3]);N+=2,et=!1}k.push(it[0],it[1],it[2],ft[0],ft[1],ft[2],q,Z,Q[0],Q[1],Q[2],Q[3],it[0],it[1],it[2],ft[0],ft[1],ft[2],q,-Z,Q[0],Q[1],Q[2],Q[3],ft[0],ft[1],ft[2],it[0],it[1],it[2],V,-Z,tt[0],tt[1],tt[2],tt[3],ft[0],ft[1],ft[2],it[0],it[1],it[2],V,Z,tt[0],tt[1],tt[2],tt[3]),N+=4}}if(this.buffer.update(k),U.push(V),F.push(H[H.length-1].slice()),this.bounds=O,this.vertexCount=N,this.points=F,this.arcLength=U,"dashes"in a){var ut=a.dashes,$=ut.slice();for($.unshift(0),C=1;C<$.length;++C)$[C]=$[C-1]+$[C];var j=v(new Array(256*4),[256,1,4]);for(C=0;C<256;++C){for(b=0;b<4;++b)j.set(C,0,b,0);m.le($,$[$.length-1]*C/255)&1?j.set(C,0,0,0):j.set(C,0,0,255)}this.texture.setPixels(j)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(a){if(!a||a.id!==this.pickId)return null;var C=c(a.value[0],a.value[1],a.value[2],0),b=m.le(this.arcLength,C);if(b<0)return null;if(b===this.arcLength.length-1)return new L(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),b);for(var z=this.points[b],k=this.points[Math.min(b+1,this.points.length-1)],U=(C-this.arcLength[b])/(this.arcLength[b+1]-this.arcLength[b]),F=1-U,V=[0,0,0],N=0;N<3;++N)V[N]=F*z[N]+U*k[N];var O=Math.min(U<.5?b:b+1,this.points.length-1);return new L(C,V,O,this.points[O])};function S(a){var C=a.gl||a.scene&&a.scene.gl,b=h(C);b.attributes.position.location=0,b.attributes.nextPosition.location=1,b.attributes.arcLength.location=2,b.attributes.lineWidth.location=3,b.attributes.color.location=4;var z=i(C);z.attributes.position.location=0,z.attributes.nextPosition.location=1,z.attributes.arcLength.location=2,z.attributes.lineWidth.location=3,z.attributes.color.location=4;for(var k=e(C),U=o(C,[{buffer:k,size:3,offset:0,stride:48},{buffer:k,size:3,offset:12,stride:48},{buffer:k,size:1,offset:24,stride:48},{buffer:k,size:1,offset:28,stride:48},{buffer:k,size:4,offset:32,stride:48}]),F=v(new Array(256*4),[256,1,4]),V=0;V<1024;++V)F.data[V]=255;var N=n(C,F);N.wrap=C.REPEAT;var O=new x(C,b,z,k,U,N);return O.update(a),O}},1903:function(d){d.exports=g;function g(r){var e=new Float32Array(16);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}},6864:function(d){d.exports=g;function g(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(d){d.exports=g;function g(r){var e=r[0],o=r[1],n=r[2],u=r[3],f=r[4],c=r[5],m=r[6],v=r[7],T=r[8],h=r[9],i=r[10],p=r[11],w=r[12],A=r[13],L=r[14],x=r[15],E=e*c-o*f,S=e*m-n*f,a=e*v-u*f,C=o*m-n*c,b=o*v-u*c,z=n*v-u*m,k=T*A-h*w,U=T*L-i*w,F=T*x-p*w,V=h*L-i*A,N=h*x-p*A,O=i*x-p*L;return E*O-S*N+a*V+C*F-b*U+z*k}},7399:function(d){d.exports=g;function g(r,e){var o=e[0],n=e[1],u=e[2],f=e[3],c=o+o,m=n+n,v=u+u,T=o*c,h=n*c,i=n*m,p=u*c,w=u*m,A=u*v,L=f*c,x=f*m,E=f*v;return r[0]=1-i-A,r[1]=h+E,r[2]=p-x,r[3]=0,r[4]=h-E,r[5]=1-T-A,r[6]=w+L,r[7]=0,r[8]=p+x,r[9]=w-L,r[10]=1-T-i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(d){d.exports=g;function g(r,e,o){var n=e[0],u=e[1],f=e[2],c=e[3],m=n+n,v=u+u,T=f+f,h=n*m,i=n*v,p=n*T,w=u*v,A=u*T,L=f*T,x=c*m,E=c*v,S=c*T;return r[0]=1-(w+L),r[1]=i+S,r[2]=p-E,r[3]=0,r[4]=i-S,r[5]=1-(h+L),r[6]=A+x,r[7]=0,r[8]=p+E,r[9]=A-x,r[10]=1-(h+w),r[11]=0,r[12]=o[0],r[13]=o[1],r[14]=o[2],r[15]=1,r}},7894:function(d){d.exports=g;function g(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(d){d.exports=g;function g(r,e){var o=e[0],n=e[1],u=e[2],f=e[3],c=e[4],m=e[5],v=e[6],T=e[7],h=e[8],i=e[9],p=e[10],w=e[11],A=e[12],L=e[13],x=e[14],E=e[15],S=o*m-n*c,a=o*v-u*c,C=o*T-f*c,b=n*v-u*m,z=n*T-f*m,k=u*T-f*v,U=h*L-i*A,F=h*x-p*A,V=h*E-w*A,N=i*x-p*L,O=i*E-w*L,H=p*E-w*x,X=S*H-a*O+C*N+b*V-z*F+k*U;return X?(X=1/X,r[0]=(m*H-v*O+T*N)*X,r[1]=(u*O-n*H-f*N)*X,r[2]=(L*k-x*z+E*b)*X,r[3]=(p*z-i*k-w*b)*X,r[4]=(v*V-c*H-T*F)*X,r[5]=(o*H-u*V+f*F)*X,r[6]=(x*C-A*k-E*a)*X,r[7]=(h*k-p*C+w*a)*X,r[8]=(c*O-m*V+T*U)*X,r[9]=(n*V-o*O-f*U)*X,r[10]=(A*z-L*C+E*S)*X,r[11]=(i*C-h*z-w*S)*X,r[12]=(m*F-c*N-v*U)*X,r[13]=(o*N-n*F+u*U)*X,r[14]=(L*a-A*b-x*S)*X,r[15]=(h*b-i*a+p*S)*X,r):null}},6582:function(d,g,r){var e=r(7894);d.exports=o;function o(n,u,f,c){var m,v,T,h,i,p,w,A,L,x,E=u[0],S=u[1],a=u[2],C=c[0],b=c[1],z=c[2],k=f[0],U=f[1],F=f[2];return Math.abs(E-k)<1e-6&&Math.abs(S-U)<1e-6&&Math.abs(a-F)<1e-6?e(n):(w=E-k,A=S-U,L=a-F,x=1/Math.sqrt(w*w+A*A+L*L),w*=x,A*=x,L*=x,m=b*L-z*A,v=z*w-C*L,T=C*A-b*w,x=Math.sqrt(m*m+v*v+T*T),x?(x=1/x,m*=x,v*=x,T*=x):(m=0,v=0,T=0),h=A*T-L*v,i=L*m-w*T,p=w*v-A*m,x=Math.sqrt(h*h+i*i+p*p),x?(x=1/x,h*=x,i*=x,p*=x):(h=0,i=0,p=0),n[0]=m,n[1]=h,n[2]=w,n[3]=0,n[4]=v,n[5]=i,n[6]=A,n[7]=0,n[8]=T,n[9]=p,n[10]=L,n[11]=0,n[12]=-(m*E+v*S+T*a),n[13]=-(h*E+i*S+p*a),n[14]=-(w*E+A*S+L*a),n[15]=1,n)}},6760:function(d){d.exports=g;function g(r,e,o){var n=e[0],u=e[1],f=e[2],c=e[3],m=e[4],v=e[5],T=e[6],h=e[7],i=e[8],p=e[9],w=e[10],A=e[11],L=e[12],x=e[13],E=e[14],S=e[15],a=o[0],C=o[1],b=o[2],z=o[3];return r[0]=a*n+C*m+b*i+z*L,r[1]=a*u+C*v+b*p+z*x,r[2]=a*f+C*T+b*w+z*E,r[3]=a*c+C*h+b*A+z*S,a=o[4],C=o[5],b=o[6],z=o[7],r[4]=a*n+C*m+b*i+z*L,r[5]=a*u+C*v+b*p+z*x,r[6]=a*f+C*T+b*w+z*E,r[7]=a*c+C*h+b*A+z*S,a=o[8],C=o[9],b=o[10],z=o[11],r[8]=a*n+C*m+b*i+z*L,r[9]=a*u+C*v+b*p+z*x,r[10]=a*f+C*T+b*w+z*E,r[11]=a*c+C*h+b*A+z*S,a=o[12],C=o[13],b=o[14],z=o[15],r[12]=a*n+C*m+b*i+z*L,r[13]=a*u+C*v+b*p+z*x,r[14]=a*f+C*T+b*w+z*E,r[15]=a*c+C*h+b*A+z*S,r}},4040:function(d){d.exports=g;function g(r,e,o,n,u,f,c){var m=1/(e-o),v=1/(n-u),T=1/(f-c);return r[0]=-2*m,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*v,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(e+o)*m,r[13]=(u+n)*v,r[14]=(c+f)*T,r[15]=1,r}},4772:function(d){d.exports=g;function g(r,e,o,n,u){var f=1/Math.tan(e/2),c=1/(n-u);return r[0]=f/o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(u+n)*c,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*u*n*c,r[15]=0,r}},6079:function(d){d.exports=g;function g(r,e,o,n){var u=n[0],f=n[1],c=n[2],m=Math.sqrt(u*u+f*f+c*c),v,T,h,i,p,w,A,L,x,E,S,a,C,b,z,k,U,F,V,N,O,H,X,J;return Math.abs(m)<1e-6?null:(m=1/m,u*=m,f*=m,c*=m,v=Math.sin(o),T=Math.cos(o),h=1-T,i=e[0],p=e[1],w=e[2],A=e[3],L=e[4],x=e[5],E=e[6],S=e[7],a=e[8],C=e[9],b=e[10],z=e[11],k=u*u*h+T,U=f*u*h+c*v,F=c*u*h-f*v,V=u*f*h-c*v,N=f*f*h+T,O=c*f*h+u*v,H=u*c*h+f*v,X=f*c*h-u*v,J=c*c*h+T,r[0]=i*k+L*U+a*F,r[1]=p*k+x*U+C*F,r[2]=w*k+E*U+b*F,r[3]=A*k+S*U+z*F,r[4]=i*V+L*N+a*O,r[5]=p*V+x*N+C*O,r[6]=w*V+E*N+b*O,r[7]=A*V+S*N+z*O,r[8]=i*H+L*X+a*J,r[9]=p*H+x*X+C*J,r[10]=w*H+E*X+b*J,r[11]=A*H+S*X+z*J,e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r)}},5567:function(d){d.exports=g;function g(r,e,o){var n=Math.sin(o),u=Math.cos(o),f=e[4],c=e[5],m=e[6],v=e[7],T=e[8],h=e[9],i=e[10],p=e[11];return e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[4]=f*u+T*n,r[5]=c*u+h*n,r[6]=m*u+i*n,r[7]=v*u+p*n,r[8]=T*u-f*n,r[9]=h*u-c*n,r[10]=i*u-m*n,r[11]=p*u-v*n,r}},2408:function(d){d.exports=g;function g(r,e,o){var n=Math.sin(o),u=Math.cos(o),f=e[0],c=e[1],m=e[2],v=e[3],T=e[8],h=e[9],i=e[10],p=e[11];return e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=f*u-T*n,r[1]=c*u-h*n,r[2]=m*u-i*n,r[3]=v*u-p*n,r[8]=f*n+T*u,r[9]=c*n+h*u,r[10]=m*n+i*u,r[11]=v*n+p*u,r}},7089:function(d){d.exports=g;function g(r,e,o){var n=Math.sin(o),u=Math.cos(o),f=e[0],c=e[1],m=e[2],v=e[3],T=e[4],h=e[5],i=e[6],p=e[7];return e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=f*u+T*n,r[1]=c*u+h*n,r[2]=m*u+i*n,r[3]=v*u+p*n,r[4]=T*u-f*n,r[5]=h*u-c*n,r[6]=i*u-m*n,r[7]=p*u-v*n,r}},2504:function(d){d.exports=g;function g(r,e,o){var n=o[0],u=o[1],f=o[2];return r[0]=e[0]*n,r[1]=e[1]*n,r[2]=e[2]*n,r[3]=e[3]*n,r[4]=e[4]*u,r[5]=e[5]*u,r[6]=e[6]*u,r[7]=e[7]*u,r[8]=e[8]*f,r[9]=e[9]*f,r[10]=e[10]*f,r[11]=e[11]*f,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}},7656:function(d){d.exports=g;function g(r,e,o){var n=o[0],u=o[1],f=o[2],c,m,v,T,h,i,p,w,A,L,x,E;return e===r?(r[12]=e[0]*n+e[4]*u+e[8]*f+e[12],r[13]=e[1]*n+e[5]*u+e[9]*f+e[13],r[14]=e[2]*n+e[6]*u+e[10]*f+e[14],r[15]=e[3]*n+e[7]*u+e[11]*f+e[15]):(c=e[0],m=e[1],v=e[2],T=e[3],h=e[4],i=e[5],p=e[6],w=e[7],A=e[8],L=e[9],x=e[10],E=e[11],r[0]=c,r[1]=m,r[2]=v,r[3]=T,r[4]=h,r[5]=i,r[6]=p,r[7]=w,r[8]=A,r[9]=L,r[10]=x,r[11]=E,r[12]=c*n+h*u+A*f+e[12],r[13]=m*n+i*u+L*f+e[13],r[14]=v*n+p*u+x*f+e[14],r[15]=T*n+w*u+E*f+e[15]),r}},5665:function(d){d.exports=g;function g(r,e){if(r===e){var o=e[1],n=e[2],u=e[3],f=e[6],c=e[7],m=e[11];r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=o,r[6]=e[9],r[7]=e[13],r[8]=n,r[9]=f,r[11]=e[14],r[12]=u,r[13]=c,r[14]=m}else r[0]=e[0],r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=e[1],r[5]=e[5],r[6]=e[9],r[7]=e[13],r[8]=e[2],r[9]=e[6],r[10]=e[10],r[11]=e[14],r[12]=e[3],r[13]=e[7],r[14]=e[11],r[15]=e[15];return r}},7626:function(d,g,r){var e=r(2642),o=r(9346);d.exports=m;function n(v,T){for(var h=[0,0,0,0],i=0;i<4;++i)for(var p=0;p<4;++p)h[p]+=v[4*i+p]*T[i];return h}function u(v,T,h,i,p){for(var w=n(i,n(h,n(T,[v[0],v[1],v[2],1]))),A=0;A<3;++A)w[A]/=w[3];return[.5*p[0]*(1+w[0]),.5*p[1]*(1-w[1])]}function f(v,T){if(v.length===2){for(var h=0,i=0,p=0;p<2;++p)h+=Math.pow(T[p]-v[0][p],2),i+=Math.pow(T[p]-v[1][p],2);return h=Math.sqrt(h),i=Math.sqrt(i),h+i<1e-6?[1,0]:[i/(h+i),h/(i+h)]}else if(v.length===3){var w=[0,0];return o(v[0],v[1],v[2],T,w),e(v,w)}return[]}function c(v,T){for(var h=[0,0,0],i=0;i<v.length;++i)for(var p=v[i],w=T[i],A=0;A<3;++A)h[A]+=w*p[A];return h}function m(v,T,h,i,p,w){if(v.length===1)return[0,v[0].slice()];for(var A=new Array(v.length),L=0;L<v.length;++L)A[L]=u(v[L],h,i,p,w);for(var x=0,E=1/0,L=0;L<A.length;++L){for(var S=0,a=0;a<2;++a)S+=Math.pow(A[L][a]-T[a],2);S<E&&(E=S,x=L)}for(var C=f(A,T),b=0,L=0;L<3;++L){if(C[L]<-.001||C[L]>1.0001)return null;b+=C[L]}return Math.abs(b-1)>.001?null:[x,c(v,C),C]}},840:function(d,g,r){var e=r(3236),o=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=e([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),u=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),f=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=e([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),v=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),T=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),h=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),i=e([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),p=e([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);g.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.wireShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.pointShader={vertex:c,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},g.pickShader={vertex:v,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},g.pointPickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},g.contourShader={vertex:i,fragment:p,attributes:[{name:"position",type:"vec3"}]}},7201:function(d,g,r){var e=1e-6,o=1e-6,n=r(9405),u=r(2762),f=r(8116),c=r(7766),m=r(8406),v=r(6760),T=r(7608),h=r(9618),i=r(6729),p=r(7765),w=r(1888),A=r(840),L=r(7626),x=A.meshShader,E=A.wireShader,S=A.pointShader,a=A.pickShader,C=A.pointPickShader,b=A.contourShader,z=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function k(ot,Q,tt,Z,q,ut,$,j,lt,nt,ht,mt,At,bt,Pt,_t,Ut,St,Rt,Et,zt,Ct,Wt,Kt,oe,Jt,te){this.gl=ot,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Q,this.dirty=!0,this.triShader=tt,this.lineShader=Z,this.pointShader=q,this.pickShader=ut,this.pointPickShader=$,this.contourShader=j,this.trianglePositions=lt,this.triangleColors=ht,this.triangleNormals=At,this.triangleUVs=mt,this.triangleIds=nt,this.triangleVAO=bt,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Pt,this.edgeColors=Ut,this.edgeUVs=St,this.edgeIds=_t,this.edgeVAO=Rt,this.edgeCount=0,this.pointPositions=Et,this.pointColors=Ct,this.pointUVs=Wt,this.pointSizes=Kt,this.pointIds=zt,this.pointVAO=oe,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Jt,this.contourVAO=te,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=z,this._view=z,this._projection=z,this._resolution=[1,1]}var U=k.prototype;U.isOpaque=function(){return!this.hasAlpha},U.isTransparent=function(){return this.hasAlpha},U.pickSlots=1,U.setPickBase=function(ot){this.pickId=ot};function F(ot,Q){if(!Q||!Q.length)return 1;for(var tt=0;tt<Q.length;++tt){if(Q.length<2)return 1;if(Q[tt][0]===ot)return Q[tt][1];if(Q[tt][0]>ot&&tt>0){var Z=(Q[tt][0]-ot)/(Q[tt][0]-Q[tt-1][0]);return Q[tt][1]*(1-Z)+Z*Q[tt-1][1]}}return 1}function V(ot,Q){for(var tt=i({colormap:ot,nshades:256,format:"rgba"}),Z=new Uint8Array(256*4),q=0;q<256;++q){for(var ut=tt[q],$=0;$<3;++$)Z[4*q+$]=ut[$];Q?Z[4*q+3]=255*F(q/255,Q):Z[4*q+3]=255*ut[3]}return h(Z,[256,256,4],[4,0,1])}function N(ot){for(var Q=ot.length,tt=new Array(Q),Z=0;Z<Q;++Z)tt[Z]=ot[Z][2];return tt}U.highlight=function(ot){if(!ot||!this.contourEnable){this.contourCount=0;return}for(var Q=p(this.cells,this.intensity,ot.intensity),tt=Q.cells,Z=Q.vertexIds,q=Q.vertexWeights,ut=tt.length,$=w.mallocFloat32(2*3*ut),j=0,lt=0;lt<ut;++lt)for(var nt=tt[lt],ht=0;ht<2;++ht){var mt=nt[0];nt.length===2&&(mt=nt[ht]);for(var At=Z[mt][0],bt=Z[mt][1],Pt=q[mt],_t=1-Pt,Ut=this.positions[At],St=this.positions[bt],Rt=0;Rt<3;++Rt)$[j++]=Pt*Ut[Rt]+_t*St[Rt]}this.contourCount=j/3|0,this.contourPositions.update($.subarray(0,j)),w.free($)},U.update=function(ot){ot=ot||{};var Q=this.gl;this.dirty=!0,"contourEnable"in ot&&(this.contourEnable=ot.contourEnable),"contourColor"in ot&&(this.contourColor=ot.contourColor),"lineWidth"in ot&&(this.lineWidth=ot.lineWidth),"lightPosition"in ot&&(this.lightPosition=ot.lightPosition),this.hasAlpha=!1,"opacity"in ot&&(this.opacity=ot.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in ot&&(this.opacityscale=ot.opacityscale,this.hasAlpha=!0),"ambient"in ot&&(this.ambientLight=ot.ambient),"diffuse"in ot&&(this.diffuseLight=ot.diffuse),"specular"in ot&&(this.specularLight=ot.specular),"roughness"in ot&&(this.roughness=ot.roughness),"fresnel"in ot&&(this.fresnel=ot.fresnel),ot.texture?(this.texture.dispose(),this.texture=c(Q,ot.texture)):ot.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Q.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Q.LINEAR,this.texture.setPixels(V(ot.colormap,this.opacityscale)),this.texture.generateMipmap());var tt=ot.cells,Z=ot.positions;if(!(!Z||!tt)){var q=[],ut=[],$=[],j=[],lt=[],nt=[],ht=[],mt=[],At=[],bt=[],Pt=[],_t=[],Ut=[],St=[];this.cells=tt,this.positions=Z;var Rt=ot.vertexNormals,Et=ot.cellNormals,zt=ot.vertexNormalsEpsilon===void 0?e:ot.vertexNormalsEpsilon,Ct=ot.faceNormalsEpsilon===void 0?o:ot.faceNormalsEpsilon;ot.useFacetNormals&&!Et&&(Et=m.faceNormals(tt,Z,Ct)),!Et&&!Rt&&(Rt=m.vertexNormals(tt,Z,zt));var Wt=ot.vertexColors,Kt=ot.cellColors,oe=ot.meshColor||[1,1,1,1],Jt=ot.vertexUVs,te=ot.vertexIntensity,fe=ot.cellUVs,ve=ot.cellIntensity,de=1/0,xe=-1/0;if(!Jt&&!fe)if(te)if(ot.vertexIntensityBounds)de=+ot.vertexIntensityBounds[0],xe=+ot.vertexIntensityBounds[1];else for(var Me=0;Me<te.length;++Me){var ne=te[Me];de=Math.min(de,ne),xe=Math.max(xe,ne)}else if(ve)if(ot.cellIntensityBounds)de=+ot.cellIntensityBounds[0],xe=+ot.cellIntensityBounds[1];else for(var Me=0;Me<ve.length;++Me){var ne=ve[Me];de=Math.min(de,ne),xe=Math.max(xe,ne)}else for(var Me=0;Me<Z.length;++Me){var ne=Z[Me][2];de=Math.min(de,ne),xe=Math.max(xe,ne)}te?this.intensity=te:ve?this.intensity=ve:this.intensity=N(Z),this.pickVertex=!(ve||Kt);var kt=ot.pointSizes,Gt=ot.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Me=0;Me<Z.length;++Me)for(var Yt=Z[Me],Zt=0;Zt<3;++Zt)isNaN(Yt[Zt])||!isFinite(Yt[Zt])||(this.bounds[0][Zt]=Math.min(this.bounds[0][Zt],Yt[Zt]),this.bounds[1][Zt]=Math.max(this.bounds[1][Zt],Yt[Zt]));var It=0,Nt=0,Ht=0;t:for(var Me=0;Me<tt.length;++Me){var Lt=tt[Me];switch(Lt.length){case 1:for(var dt=Lt[0],Yt=Z[dt],Zt=0;Zt<3;++Zt)if(isNaN(Yt[Zt])||!isFinite(Yt[Zt]))continue t;bt.push(Yt[0],Yt[1],Yt[2]);var xt;Wt?xt=Wt[dt]:Kt?xt=Kt[Me]:xt=oe,this.opacityscale&&te?ut.push(xt[0],xt[1],xt[2],this.opacity*F((te[dt]-de)/(xe-de),this.opacityscale)):xt.length===3?Pt.push(xt[0],xt[1],xt[2],this.opacity):(Pt.push(xt[0],xt[1],xt[2],xt[3]*this.opacity),xt[3]<1&&(this.hasAlpha=!0));var Ot;Jt?Ot=Jt[dt]:te?Ot=[(te[dt]-de)/(xe-de),0]:fe?Ot=fe[Me]:ve?Ot=[(ve[Me]-de)/(xe-de),0]:Ot=[(Yt[2]-de)/(xe-de),0],_t.push(Ot[0],Ot[1]),kt?Ut.push(kt[dt]):Ut.push(Gt),St.push(Me),Ht+=1;break;case 2:for(var Zt=0;Zt<2;++Zt)for(var dt=Lt[Zt],Yt=Z[dt],jt=0;jt<3;++jt)if(isNaN(Yt[jt])||!isFinite(Yt[jt]))continue t;for(var Zt=0;Zt<2;++Zt){var dt=Lt[Zt],Yt=Z[dt];nt.push(Yt[0],Yt[1],Yt[2]);var xt;Wt?xt=Wt[dt]:Kt?xt=Kt[Me]:xt=oe,this.opacityscale&&te?ut.push(xt[0],xt[1],xt[2],this.opacity*F((te[dt]-de)/(xe-de),this.opacityscale)):xt.length===3?ht.push(xt[0],xt[1],xt[2],this.opacity):(ht.push(xt[0],xt[1],xt[2],xt[3]*this.opacity),xt[3]<1&&(this.hasAlpha=!0));var Ot;Jt?Ot=Jt[dt]:te?Ot=[(te[dt]-de)/(xe-de),0]:fe?Ot=fe[Me]:ve?Ot=[(ve[Me]-de)/(xe-de),0]:Ot=[(Yt[2]-de)/(xe-de),0],mt.push(Ot[0],Ot[1]),At.push(Me)}Nt+=1;break;case 3:for(var Zt=0;Zt<3;++Zt)for(var dt=Lt[Zt],Yt=Z[dt],jt=0;jt<3;++jt)if(isNaN(Yt[jt])||!isFinite(Yt[jt]))continue t;for(var Zt=0;Zt<3;++Zt){var dt=Lt[2-Zt],Yt=Z[dt];q.push(Yt[0],Yt[1],Yt[2]);var xt;Wt?xt=Wt[dt]:Kt?xt=Kt[Me]:xt=oe,xt?this.opacityscale&&te?ut.push(xt[0],xt[1],xt[2],this.opacity*F((te[dt]-de)/(xe-de),this.opacityscale)):xt.length===3?ut.push(xt[0],xt[1],xt[2],this.opacity):(ut.push(xt[0],xt[1],xt[2],xt[3]*this.opacity),xt[3]<1&&(this.hasAlpha=!0)):ut.push(.5,.5,.5,1);var Ot;Jt?Ot=Jt[dt]:te?Ot=[(te[dt]-de)/(xe-de),0]:fe?Ot=fe[Me]:ve?Ot=[(ve[Me]-de)/(xe-de),0]:Ot=[(Yt[2]-de)/(xe-de),0],j.push(Ot[0],Ot[1]);var ie;Rt?ie=Rt[dt]:ie=Et[Me],$.push(ie[0],ie[1],ie[2]),lt.push(Me)}It+=1;break}}this.pointCount=Ht,this.edgeCount=Nt,this.triangleCount=It,this.pointPositions.update(bt),this.pointColors.update(Pt),this.pointUVs.update(_t),this.pointSizes.update(Ut),this.pointIds.update(new Uint32Array(St)),this.edgePositions.update(nt),this.edgeColors.update(ht),this.edgeUVs.update(mt),this.edgeIds.update(new Uint32Array(At)),this.trianglePositions.update(q),this.triangleColors.update(ut),this.triangleUVs.update(j),this.triangleNormals.update($),this.triangleIds.update(new Uint32Array(lt))}},U.drawTransparent=U.draw=function(ot){ot=ot||{};for(var Q=this.gl,tt=ot.model||z,Z=ot.view||z,q=ot.projection||z,ut=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)ut[0][$]=Math.max(ut[0][$],this.clipBounds[0][$]),ut[1][$]=Math.min(ut[1][$],this.clipBounds[1][$]);var j={model:tt,view:Z,projection:q,inverseModel:z.slice(),clipBounds:ut,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};j.inverseModel=T(j.inverseModel,j.model),Q.disable(Q.CULL_FACE),this.texture.bind(0);var lt=new Array(16);v(lt,j.view,j.model),v(lt,j.projection,lt),T(lt,lt);for(var $=0;$<3;++$)j.eyePosition[$]=lt[12+$]/lt[15];for(var nt=lt[15],$=0;$<3;++$)nt+=this.lightPosition[$]*lt[4*$+3];for(var $=0;$<3;++$){for(var ht=lt[12+$],mt=0;mt<3;++mt)ht+=lt[4*mt+$]*this.lightPosition[mt];j.lightPosition[$]=ht/nt}if(this.triangleCount>0){var At=this.triShader;At.bind(),At.uniforms=j,this.triangleVAO.bind(),Q.drawArrays(Q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var At=this.lineShader;At.bind(),At.uniforms=j,this.edgeVAO.bind(),Q.lineWidth(this.lineWidth*this.pixelRatio),Q.drawArrays(Q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var At=this.pointShader;At.bind(),At.uniforms=j,this.pointVAO.bind(),Q.drawArrays(Q.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var At=this.contourShader;At.bind(),At.uniforms=j,this.contourVAO.bind(),Q.drawArrays(Q.LINES,0,this.contourCount),this.contourVAO.unbind()}},U.drawPick=function(ot){ot=ot||{};for(var Q=this.gl,tt=ot.model||z,Z=ot.view||z,q=ot.projection||z,ut=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)ut[0][$]=Math.max(ut[0][$],this.clipBounds[0][$]),ut[1][$]=Math.min(ut[1][$],this.clipBounds[1][$]);this._model=[].slice.call(tt),this._view=[].slice.call(Z),this._projection=[].slice.call(q),this._resolution=[Q.drawingBufferWidth,Q.drawingBufferHeight];var j={model:tt,view:Z,projection:q,clipBounds:ut,pickId:this.pickId/255},lt=this.pickShader;if(lt.bind(),lt.uniforms=j,this.triangleCount>0&&(this.triangleVAO.bind(),Q.drawArrays(Q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Q.lineWidth(this.lineWidth*this.pixelRatio),Q.drawArrays(Q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var lt=this.pointPickShader;lt.bind(),lt.uniforms=j,this.pointVAO.bind(),Q.drawArrays(Q.POINTS,0,this.pointCount),this.pointVAO.unbind()}},U.pick=function(ot){if(!ot||ot.id!==this.pickId)return null;for(var Q=ot.value[0]+256*ot.value[1]+65536*ot.value[2],tt=this.cells[Q],Z=this.positions,q=new Array(tt.length),ut=0;ut<tt.length;++ut)q[ut]=Z[tt[ut]];var $=ot.coord[0],j=ot.coord[1];if(!this.pickVertex){var lt=this.positions[tt[0]],nt=this.positions[tt[1]],ht=this.positions[tt[2]],mt=[(lt[0]+nt[0]+ht[0])/3,(lt[1]+nt[1]+ht[1])/3,(lt[2]+nt[2]+ht[2])/3];return{_cellCenter:!0,position:[$,j],index:Q,cell:tt,cellId:Q,intensity:this.intensity[Q],dataCoordinate:mt}}var At=L(q,[$*this.pixelRatio,this._resolution[1]-j*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!At)return null;for(var bt=At[2],Pt=0,ut=0;ut<tt.length;++ut)Pt+=bt[ut]*this.intensity[tt[ut]];return{position:At[1],index:tt[At[0]],cell:tt,cellId:Q,intensity:Pt,dataCoordinate:this.positions[tt[At[0]]]}},U.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function O(ot){var Q=n(ot,x.vertex,x.fragment);return Q.attributes.position.location=0,Q.attributes.color.location=2,Q.attributes.uv.location=3,Q.attributes.normal.location=4,Q}function H(ot){var Q=n(ot,E.vertex,E.fragment);return Q.attributes.position.location=0,Q.attributes.color.location=2,Q.attributes.uv.location=3,Q}function X(ot){var Q=n(ot,S.vertex,S.fragment);return Q.attributes.position.location=0,Q.attributes.color.location=2,Q.attributes.uv.location=3,Q.attributes.pointSize.location=4,Q}function J(ot){var Q=n(ot,a.vertex,a.fragment);return Q.attributes.position.location=0,Q.attributes.id.location=1,Q}function et(ot){var Q=n(ot,C.vertex,C.fragment);return Q.attributes.position.location=0,Q.attributes.id.location=1,Q.attributes.pointSize.location=4,Q}function it(ot){var Q=n(ot,b.vertex,b.fragment);return Q.attributes.position.location=0,Q}function ft(ot,Q){arguments.length===1&&(Q=ot,ot=Q.gl);var tt=ot.getExtension("OES_standard_derivatives")||ot.getExtension("MOZ_OES_standard_derivatives")||ot.getExtension("WEBKIT_OES_standard_derivatives");if(!tt)throw new Error("derivatives not supported");var Z=O(ot),q=H(ot),ut=X(ot),$=J(ot),j=et(ot),lt=it(ot),nt=c(ot,h(new Uint8Array([255,255,255,255]),[1,1,4]));nt.generateMipmap(),nt.minFilter=ot.LINEAR_MIPMAP_LINEAR,nt.magFilter=ot.LINEAR;var ht=u(ot),mt=u(ot),At=u(ot),bt=u(ot),Pt=u(ot),_t=f(ot,[{buffer:ht,type:ot.FLOAT,size:3},{buffer:Pt,type:ot.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:mt,type:ot.FLOAT,size:4},{buffer:At,type:ot.FLOAT,size:2},{buffer:bt,type:ot.FLOAT,size:3}]),Ut=u(ot),St=u(ot),Rt=u(ot),Et=u(ot),zt=f(ot,[{buffer:Ut,type:ot.FLOAT,size:3},{buffer:Et,type:ot.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:St,type:ot.FLOAT,size:4},{buffer:Rt,type:ot.FLOAT,size:2}]),Ct=u(ot),Wt=u(ot),Kt=u(ot),oe=u(ot),Jt=u(ot),te=f(ot,[{buffer:Ct,type:ot.FLOAT,size:3},{buffer:Jt,type:ot.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Wt,type:ot.FLOAT,size:4},{buffer:Kt,type:ot.FLOAT,size:2},{buffer:oe,type:ot.FLOAT,size:1}]),fe=u(ot),ve=f(ot,[{buffer:fe,type:ot.FLOAT,size:3}]),de=new k(ot,nt,Z,q,ut,$,j,lt,ht,Pt,mt,At,bt,_t,Ut,Et,St,Rt,zt,Ct,Jt,Wt,Kt,oe,te,fe,ve);return de.update(Q),de}d.exports=ft},8120:function(d,g,r){d.exports=c;var e=r(2762),o=r(9405),n=r(3603);function u(m,v,T){this.plot=m,this.vbo=v,this.shader=T}var f=u.prototype;f.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},f.drawBox=function(){var m=[0,0],v=[0,0];return function(T,h,i,p,w){var A=this.plot,L=this.shader,x=A.gl;m[0]=T,m[1]=h,v[0]=i,v[1]=p,L.uniforms.lo=m,L.uniforms.hi=v,L.uniforms.color=w,x.drawArrays(x.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(m){var v=m.gl,T=e(v,[0,0,0,1,1,0,1,1]),h=o(v,n.boxVert,n.lineFrag);return new u(m,T,h)}},1913:function(d,g,r){d.exports=v;var e=r(2762),o=r(9405),n=r(2478),u=r(3603);function f(T,h,i,p){this.plot=T,this.vbo=h,this.shader=i,this.tickShader=p,this.ticks=[[],[]]}function c(T,h){return T-h}var m=f.prototype;m.draw=function(){var T=[0,0],h=[0,0],i=[0,0];return function(){for(var p=this.plot,w=this.vbo,A=this.shader,L=this.ticks,x=p.gl,E=p._tickBounds,S=p.dataBox,a=p.viewBox,C=p.gridLineWidth,b=p.gridLineColor,z=p.gridLineEnable,k=p.pixelRatio,U=0;U<2;++U){var F=E[U],V=E[U+2],N=V-F,O=.5*(S[U+2]+S[U]),H=S[U+2]-S[U];h[U]=2*N/H,T[U]=2*(F-O)/H}A.bind(),w.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=T,A.uniforms.dataScale=h;for(var X=0,U=0;U<2;++U){i[0]=i[1]=0,i[U]=1,A.uniforms.dataAxis=i,A.uniforms.lineWidth=C[U]/(a[U+2]-a[U])*k,A.uniforms.color=b[U];var J=L[U].length*6;z[U]&&J&&x.drawArrays(x.TRIANGLES,X,J),X+=J}}}(),m.drawTickMarks=function(){var T=[0,0],h=[0,0],i=[1,0],p=[0,1],w=[0,0],A=[0,0];return function(){for(var L=this.plot,x=this.vbo,E=this.tickShader,S=this.ticks,a=L.gl,C=L._tickBounds,b=L.dataBox,z=L.viewBox,k=L.pixelRatio,U=L.screenBox,F=U[2]-U[0],V=U[3]-U[1],N=z[2]-z[0],O=z[3]-z[1],H=0;H<2;++H){var X=C[H],J=C[H+2],et=J-X,it=.5*(b[H+2]+b[H]),ft=b[H+2]-b[H];h[H]=2*et/ft,T[H]=2*(X-it)/ft}h[0]*=N/F,T[0]*=N/F,h[1]*=O/V,T[1]*=O/V,E.bind(),x.bind(),E.attributes.dataCoord.pointer();var ot=E.uniforms;ot.dataShift=T,ot.dataScale=h;var Q=L.tickMarkLength,tt=L.tickMarkWidth,Z=L.tickMarkColor,q=0,ut=S[0].length*6,$=Math.min(n.ge(S[0],(b[0]-C[0])/(C[2]-C[0]),c),S[0].length),j=Math.min(n.gt(S[0],(b[2]-C[0])/(C[2]-C[0]),c),S[0].length),lt=q+6*$,nt=6*Math.max(0,j-$),ht=Math.min(n.ge(S[1],(b[1]-C[1])/(C[3]-C[1]),c),S[1].length),mt=Math.min(n.gt(S[1],(b[3]-C[1])/(C[3]-C[1]),c),S[1].length),At=ut+6*ht,bt=6*Math.max(0,mt-ht);w[0]=2*(z[0]-Q[1])/F-1,w[1]=(z[3]+z[1])/V-1,A[0]=Q[1]*k/F,A[1]=tt[1]*k/V,bt&&(ot.color=Z[1],ot.tickScale=A,ot.dataAxis=p,ot.screenOffset=w,a.drawArrays(a.TRIANGLES,At,bt)),w[0]=(z[2]+z[0])/F-1,w[1]=2*(z[1]-Q[0])/V-1,A[0]=tt[0]*k/F,A[1]=Q[0]*k/V,nt&&(ot.color=Z[0],ot.tickScale=A,ot.dataAxis=i,ot.screenOffset=w,a.drawArrays(a.TRIANGLES,lt,nt)),w[0]=2*(z[2]+Q[3])/F-1,w[1]=(z[3]+z[1])/V-1,A[0]=Q[3]*k/F,A[1]=tt[3]*k/V,bt&&(ot.color=Z[3],ot.tickScale=A,ot.dataAxis=p,ot.screenOffset=w,a.drawArrays(a.TRIANGLES,At,bt)),w[0]=(z[2]+z[0])/F-1,w[1]=2*(z[3]+Q[2])/V-1,A[0]=tt[2]*k/F,A[1]=Q[2]*k/V,nt&&(ot.color=Z[2],ot.tickScale=A,ot.dataAxis=i,ot.screenOffset=w,a.drawArrays(a.TRIANGLES,lt,nt))}}(),m.update=function(){var T=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1];return function(i){var p=i.ticks,w=i.bounds,A=new Float32Array(6*3*(p[0].length+p[1].length));this.plot.zeroLineEnable;for(var L=0,x=[[],[]],E=0;E<2;++E)for(var S=x[E],a=p[E],C=w[E],b=w[E+2],z=0;z<a.length;++z){var k=(a[z].x-C)/(b-C);S.push(k);for(var U=0;U<6;++U)A[L++]=k,A[L++]=T[U],A[L++]=h[U]}this.ticks=x,this.vbo.update(A)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function v(T){var h=T.gl,i=e(h),p=o(h,u.gridVert,u.gridFrag),w=o(h,u.tickVert,u.gridFrag),A=new f(T,i,p,w);return A}},4747:function(d,g,r){d.exports=c;var e=r(2762),o=r(9405),n=r(3603);function u(m,v,T){this.plot=m,this.vbo=v,this.shader=T}var f=u.prototype;f.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},f.drawLine=function(){var m=[0,0],v=[0,0];return function(T,h,i,p,w,A){var L=this.plot,x=this.shader,E=L.gl;m[0]=T,m[1]=h,v[0]=i,v[1]=p,x.uniforms.start=m,x.uniforms.end=v,x.uniforms.width=w*L.pixelRatio,x.uniforms.color=A,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(m){var v=m.gl,T=e(v,[-1,-1,-1,1,1,-1,1,1]),h=o(v,n.lineVert,n.lineFrag),i=new u(m,T,h);return i}},3603:function(d,g,r){var e=r(3236),o=e([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);d.exports={lineVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:o,textVert:e([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:o,gridVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:o,boxVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:e([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(d,g,r){d.exports=v;var e=r(2762),o=r(9405),n=r(529),u=r(2478),f=r(3603);function c(T,h,i){this.plot=T,this.vbo=h,this.shader=i,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=c.prototype;m.drawTicks=function(){var T=[0,0],h=[0,0],i=[0,0];return function(p){var w=this.plot,A=this.shader,L=this.tickX[p],x=this.tickOffset[p],E=w.gl,S=w.viewBox,a=w.dataBox,C=w.screenBox,b=w.pixelRatio,z=w.tickEnable,k=w.tickPad,U=w.tickColor,F=w.tickAngle,V=w.labelEnable,N=w.labelPad,O=w.labelColor,H=w.labelAngle,X=this.labelOffset[p],J=this.labelCount[p],et=u.lt(L,a[p]),it=u.le(L,a[p+2]);T[0]=T[1]=0,T[p]=1,h[p]=(S[2+p]+S[p])/(C[2+p]-C[p])-1;var ft=2/C[2+(p^1)]-C[p^1];h[p^1]=ft*S[p^1]-1,z[p]&&(h[p^1]-=ft*b*k[p],et<it&&x[it]>x[et]&&(A.uniforms.dataAxis=T,A.uniforms.screenOffset=h,A.uniforms.color=U[p],A.uniforms.angle=F[p],E.drawArrays(E.TRIANGLES,x[et],x[it]-x[et]))),V[p]&&J&&(h[p^1]-=ft*b*N[p],A.uniforms.dataAxis=i,A.uniforms.screenOffset=h,A.uniforms.color=O[p],A.uniforms.angle=H[p],E.drawArrays(E.TRIANGLES,X,J)),h[p^1]=ft*S[2+(p^1)]-1,z[p+2]&&(h[p^1]+=ft*b*k[p+2],et<it&&x[it]>x[et]&&(A.uniforms.dataAxis=T,A.uniforms.screenOffset=h,A.uniforms.color=U[p+2],A.uniforms.angle=F[p+2],E.drawArrays(E.TRIANGLES,x[et],x[it]-x[et]))),V[p+2]&&J&&(h[p^1]+=ft*b*N[p+2],A.uniforms.dataAxis=i,A.uniforms.screenOffset=h,A.uniforms.color=O[p+2],A.uniforms.angle=H[p+2],E.drawArrays(E.TRIANGLES,X,J))}}(),m.drawTitle=function(){var T=[0,0],h=[0,0];return function(){var i=this.plot,p=this.shader,w=i.gl,A=i.screenBox,L=i.titleCenter,x=i.titleAngle,E=i.titleColor,S=i.pixelRatio;if(this.titleCount){for(var a=0;a<2;++a)h[a]=2*(L[a]*S-A[a])/(A[2+a]-A[a])-1;p.bind(),p.uniforms.dataAxis=T,p.uniforms.screenOffset=h,p.uniforms.angle=x,p.uniforms.color=E,w.drawArrays(w.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var T=[0,0],h=[0,0],i=[0,0];return function(){var p=this.plot,w=this.shader,A=p._tickBounds,L=p.dataBox,x=p.screenBox,E=p.viewBox;w.bind();for(var S=0;S<2;++S){var a=A[S],C=A[S+2],b=C-a,z=.5*(L[S+2]+L[S]),k=L[S+2]-L[S],U=E[S],F=E[S+2],V=F-U,N=x[S],O=x[S+2],H=O-N;h[S]=2*b/k*V/H,T[S]=2*(a-z)/k*V/H}i[1]=2*p.pixelRatio/(x[3]-x[1]),i[0]=i[1]*(x[3]-x[1])/(x[2]-x[0]),w.uniforms.dataScale=h,w.uniforms.dataShift=T,w.uniforms.textScale=i,this.vbo.bind(),w.attributes.textCoordinate.pointer()}}(),m.update=function(T){var h=[],i=T.ticks,p=T.bounds,w,A,L,x,E;for(E=0;E<2;++E){var S=[Math.floor(h.length/3)],a=[-1/0],C=i[E];for(w=0;w<C.length;++w){var b=C[w],z=b.x,k=b.text,U=b.font||"sans-serif",F=b.fontStyle||"normal",V=b.fontWeight||"normal",N=b.fontVariant||"normal";x=b.fontSize||12;for(var O=1/(p[E+2]-p[E]),H=p[E],X=k.split(`
`),J=0;J<X.length;J++)for(L=n(U,X[J],{fontStyle:F,fontWeight:V,fontVariant:N}).data,A=0;A<L.length;A+=2)h.push(L[A]*x,-L[A+1]*x-J*x*1.2,(z-H)*O);S.push(Math.floor(h.length/3)),a.push(z)}this.tickOffset[E]=S,this.tickX[E]=a}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(h.length/3),L=n(T.labelFont[E],T.labels[E],{fontStyle:T.labelFontStyle[E],fontWeight:T.labelFontWeight[E],fontVariant:T.labelFontVariant[E],textAlign:"center"}).data,x=T.labelSize[E],w=0;w<L.length;w+=2)h.push(L[w]*x,-L[w+1]*x,0);this.labelCount[E]=Math.floor(h.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(h.length/3),L=n(T.titleFont,T.title,{fontStyle:T.titleFontStyle,fontWeight:T.titleFontWeight,fontVariant:T.titleFontVariant}).data,x=T.titleSize,w=0;w<L.length;w+=2)h.push(L[w]*x,-L[w+1]*x,0);this.titleCount=Math.floor(h.length/3)-this.titleOffset,this.vbo.update(h)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function v(T){var h=T.gl,i=e(h),p=o(h,f.textVert,f.textFrag),w=new c(T,i,p);return w}},1850:function(d,g,r){d.exports=h;var e=r(3589),o=r(1913),n=r(2142),u=r(4747),f=r(8120);function c(i,p){this.gl=i,this.pickBuffer=p,this.screenBox=[0,0,i.drawingBufferWidth,i.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=c.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var i=this.gl,p=this.screenBox,w=this.viewBox,A=this.dataBox,L=this.pixelRatio,x=this.grid,E=this.line,S=this.text,a=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),i.disable(i.DEPTH_TEST),i.depthFunc(i.LESS),i.depthMask(!1),i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD,i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.borderColor){i.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var C=this.borderColor;i.clearColor(C[0]*C[3],C[1]*C[3],C[2]*C[3],C[3]),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)}i.scissor(w[0],w[1],w[2]-w[0],w[3]-w[1]),i.viewport(w[0],w[1],w[2]-w[0],w[3]-w[1]);var b=this.backgroundColor;i.clearColor(b[0]*b[3],b[1]*b[3],b[2]*b[3],b[3]),i.clear(i.COLOR_BUFFER_BIT),x.draw();var z=this.zeroLineEnable,k=this.zeroLineColor,U=this.zeroLineWidth;if(z[0]||z[1]){E.bind();for(var F=0;F<2;++F)if(!(!z[F]||!(A[F]<=0&&A[F+2]>=0))){var V=p[F]-A[F]*(p[F+2]-p[F])/(A[F+2]-A[F]);F===0?E.drawLine(V,p[1],V,p[3],U[F],k[F]):E.drawLine(p[0],V,p[2],V,U[F],k[F])}}for(var F=0;F<a.length;++F)a[F].draw();i.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),i.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),E.bind();var N=this.borderLineEnable,O=this.borderLineWidth,H=this.borderLineColor;N[1]&&E.drawLine(w[0],w[1]-.5*O[1]*L,w[0],w[3]+.5*O[3]*L,O[1],H[1]),N[0]&&E.drawLine(w[0]-.5*O[0]*L,w[1],w[2]+.5*O[2]*L,w[1],O[0],H[0]),N[3]&&E.drawLine(w[2],w[1]-.5*O[1]*L,w[2],w[3]+.5*O[3]*L,O[3],H[3]),N[2]&&E.drawLine(w[0]-.5*O[0]*L,w[3],w[2]+.5*O[2]*L,w[3],O[2],H[2]),S.bind();for(var F=0;F<2;++F)S.drawTicks(F);this.titleEnable&&S.drawTitle();for(var X=this.overlays,F=0;F<X.length;++F)X[F].draw();i.disable(i.SCISSOR_TEST),i.disable(i.BLEND),i.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var i=this.pickBuffer;this.gl,this._pickTimeout=null,i.begin();for(var p=1,w=this.objects,A=0;A<w.length;++A)p=w[A].drawPick(p);i.end()}}}(),m.pick=function(){return function(i,p){if(!this.static){var w=this.pixelRatio,A=this.pickPixelRatio,L=this.viewBox,x=Math.round((i-L[0]/w)*A)|0,E=Math.round((p-L[1]/w)*A)|0,S=this.pickBuffer.query(x,E,this.pickRadius);if(!S)return null;for(var a=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),C=this.objects,b=0;b<C.length;++b){var z=C[b].pick(x,E,a);if(z)return z}return null}}}();function v(i){for(var p=i.slice(),w=0;w<p.length;++w)p[w]=p[w].slice();return p}function T(i,p){return i.x-p.x}m.setScreenBox=function(i){var p=this.screenBox,w=this.pixelRatio;p[0]=Math.round(i[0]*w)|0,p[1]=Math.round(i[1]*w)|0,p[2]=Math.round(i[2]*w)|0,p[3]=Math.round(i[3]*w)|0,this.setDirty()},m.setDataBox=function(i){var p=this.dataBox,w=p[0]!==i[0]||p[1]!==i[1]||p[2]!==i[2]||p[3]!==i[3];w&&(p[0]=i[0],p[1]=i[1],p[2]=i[2],p[3]=i[3],this.setDirty())},m.setViewBox=function(i){var p=this.pixelRatio,w=this.viewBox;w[0]=Math.round(i[0]*p)|0,w[1]=Math.round(i[1]*p)|0,w[2]=Math.round(i[2]*p)|0,w[3]=Math.round(i[3]*p)|0;var A=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((i[2]-i[0])*A)|0,Math.round((i[3]-i[1])*A)|0],this.setDirty()},m.update=function(i){i=i||{};var p=this.gl;this.pixelRatio=i.pixelRatio||1;var w=this.pixelRatio;this.pickPixelRatio=Math.max(w,1),this.setScreenBox(i.screenBox||[0,0,p.drawingBufferWidth/w,p.drawingBufferHeight/w]),this.screenBox,this.setViewBox(i.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/w,.125*(this.screenBox[3]-this.screenBox[1])/w,.875*(this.screenBox[2]-this.screenBox[0])/w,.875*(this.screenBox[3]-this.screenBox[1])/w]);var A=this.viewBox,L=(A[2]-A[0])/(A[3]-A[1]);this.setDataBox(i.dataBox||[-10,-10/L,10,10/L]),this.borderColor=i.borderColor!==!1?(i.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(i.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(i.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(i.gridLineWidth||[1,1]).slice(),this.gridLineColor=v(i.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(i.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(i.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=v(i.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(i.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(i.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=v(i.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(i.titleCenter||[.5*(A[0]+A[2])/w,(A[3]+120)/w]).slice(),this.titleEnable=!("titleEnable"in i)||!!i.titleEnable,this.titleAngle=i.titleAngle||0,this.titleColor=(i.titleColor||[0,0,0,1]).slice(),this.labelPad=(i.labelPad||[15,15,15,15]).slice(),this.labelAngle=(i.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(i.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=v(i.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(i.tickPad||[15,15,15,15]).slice(),this.tickAngle=(i.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(i.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=v(i.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(i.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(i.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=v(i.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var x=i.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var S=0;S<2;++S){var a=x[S].slice(0);a.length!==0&&(a.sort(T),E[S]=Math.min(E[S],a[0].x),E[S+2]=Math.max(E[S+2],a[a.length-1].x))}this.grid.update({bounds:E,ticks:x}),this.text.update({bounds:E,ticks:x,labels:i.labels||["x","y"],labelSize:i.labelSize||[12,12],labelFont:i.labelFont||["sans-serif","sans-serif"],labelFontStyle:i.labelFontStyle||["normal","normal"],labelFontWeight:i.labelFontWeight||["normal","normal"],labelFontVariant:i.labelFontVariant||["normal","normal"],title:i.title||"",titleSize:i.titleSize||18,titleFont:i.titleFont||"sans-serif",titleFontStyle:i.titleFontStyle||"normal",titleFontWeight:i.titleFontWeight||"normal",titleFontVariant:i.titleFontVariant||"normal"}),this.static=!!i.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var i=this.objects.length-1;i>=0;--i)this.objects[i].dispose();this.objects.length=0;for(var i=this.overlays.length-1;i>=0;--i)this.overlays[i].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(i){this.objects.indexOf(i)<0&&(this.objects.push(i),this.setDirty())},m.removeObject=function(i){for(var p=this.objects,w=0;w<p.length;++w)if(p[w]===i){p.splice(w,1),this.setDirty();break}},m.addOverlay=function(i){this.overlays.indexOf(i)<0&&(this.overlays.push(i),this.setOverlayDirty())},m.removeOverlay=function(i){for(var p=this.overlays,w=0;w<p.length;++w)if(p[w]===i){p.splice(w,1),this.setOverlayDirty();break}};function h(i){var p=i.gl,w=e(p,[p.drawingBufferWidth,p.drawingBufferHeight]),A=new c(p,w);return A.grid=o(A),A.text=n(A),A.line=u(A),A.box=f(A),A.update(i),A}},4437:function(d,g,r){d.exports=m;var e=r(3025),o=r(6296),n=r(351),u=r(8512),f=r(24),c=r(7520);function m(v,T){v=v||document.body,T=T||{};var h=[.01,1/0];"distanceLimits"in T&&(h[0]=T.distanceLimits[0],h[1]=T.distanceLimits[1]),"zoomMin"in T&&(h[0]=T.zoomMin),"zoomMax"in T&&(h[1]=T.zoomMax);var i=o({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:h}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0,A=v.clientWidth,L=v.clientHeight,x={keyBindingMode:"rotate",enableWheel:!0,view:i,element:v,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:i.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var E=e(),S=this.delay,a=E-2*S;i.idle(E-S),i.recalcMatrix(a),i.flush(E-(100+S*2));for(var C=!0,b=i.computedMatrix,z=0;z<16;++z)C=C&&p[z]===b[z],p[z]=b[z];var k=v.clientWidth===A&&v.clientHeight===L;return A=v.clientWidth,L=v.clientHeight,C?!k:(w=Math.exp(i.computedRadius[0]),!0)},lookAt:function(E,S,a){i.lookAt(i.lastT(),E,S,a)},rotate:function(E,S,a){i.rotate(i.lastT(),E,S,a)},pan:function(E,S,a){i.pan(i.lastT(),E,S,a)},translate:function(E,S,a){i.translate(i.lastT(),E,S,a)}};return Object.defineProperties(x,{matrix:{get:function(){return i.computedMatrix},set:function(E){return i.setMatrix(i.lastT(),E),i.computedMatrix},enumerable:!0},mode:{get:function(){return i.getMode()},set:function(E){var S=i.computedUp.slice(),a=i.computedEye.slice(),C=i.computedCenter.slice();if(i.setMode(E),E==="turntable"){var b=e();i._active.lookAt(b,a,C,S),i._active.lookAt(b+500,a,C,[0,0,1]),i._active.flush(b)}return i.getMode()},enumerable:!0},center:{get:function(){return i.computedCenter},set:function(E){return i.lookAt(i.lastT(),null,E),i.computedCenter},enumerable:!0},eye:{get:function(){return i.computedEye},set:function(E){return i.lookAt(i.lastT(),E),i.computedEye},enumerable:!0},up:{get:function(){return i.computedUp},set:function(E){return i.lookAt(i.lastT(),null,null,E),i.computedUp},enumerable:!0},distance:{get:function(){return w},set:function(E){return i.setDistance(i.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return i.getDistanceLimits(h)},set:function(E){return i.setDistanceLimits(E),E},enumerable:!0}}),v.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),x._lastX=-1,x._lastY=-1,x._lastMods={shift:!1,control:!1,alt:!1,meta:!1},x.enableMouseListeners=function(){x.mouseListener=n(v,E),v.addEventListener("touchstart",function(S){var a=f(S.changedTouches[0],v);E(0,a[0],a[1],x._lastMods),E(1,a[0],a[1],x._lastMods)},c?{passive:!0}:!1),v.addEventListener("touchmove",function(S){var a=f(S.changedTouches[0],v);E(1,a[0],a[1],x._lastMods),S.preventDefault()},c?{passive:!1}:!1),v.addEventListener("touchend",function(S){E(0,x._lastX,x._lastY,x._lastMods)},c?{passive:!0}:!1);function E(S,a,C,b){var z=x.keyBindingMode;if(z!==!1){var k=z==="rotate",U=z==="pan",F=z==="zoom",V=!!b.control,N=!!b.alt,O=!!b.shift,H=!!(S&1),X=!!(S&2),J=!!(S&4),et=1/v.clientHeight,it=et*(a-x._lastX),ft=et*(C-x._lastY),ot=x.flipX?1:-1,Q=x.flipY?1:-1,tt=Math.PI*x.rotateSpeed,Z=e();if(x._lastX!==-1&&x._lastY!==-1&&((k&&H&&!V&&!N&&!O||H&&!V&&!N&&O)&&i.rotate(Z,ot*tt*it,-Q*tt*ft,0),(U&&H&&!V&&!N&&!O||X||H&&V&&!N&&!O)&&i.pan(Z,-x.translateSpeed*it*w,x.translateSpeed*ft*w,0),F&&H&&!V&&!N&&!O||J||H&&!V&&N&&!O)){var q=-x.zoomSpeed*ft/window.innerHeight*(Z-i.lastT())*100;i.pan(Z,0,0,w*(Math.exp(q)-1))}return x._lastX=a,x._lastY=C,x._lastMods=b,!0}}x.wheelListener=u(v,function(S,a){if(x.keyBindingMode!==!1&&x.enableWheel){var C=x.flipX?1:-1,b=x.flipY?1:-1,z=e();if(Math.abs(S)>Math.abs(a))i.rotate(z,0,0,-S*C*Math.PI*x.rotateSpeed/window.innerWidth);else if(!x._ortho){var k=-x.zoomSpeed*b*a/window.innerHeight*(z-i.lastT())/20;i.pan(z,0,0,w*(Math.exp(k)-1))}}},!0)},x.enableMouseListeners(),x}},799:function(d,g,r){var e=r(3236),o=r(9405),n=e([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),u=e([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);d.exports=function(f){return o(f,n,u,null,[{name:"position",type:"vec2"}])}},4100:function(d,g,r){var e=r(4437),o=r(3837),n=r(5445),u=r(4449),f=r(3589),c=r(2260),m=r(7169),v=r(351),T=r(4772),h=r(4040),i=r(799),p=r(9216)({tablet:!0,featureDetect:!0});d.exports={createScene:E,createCamera:e};function w(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function A(a,C){var b=null;try{b=a.getContext("webgl",C),b||(b=a.getContext("experimental-webgl",C))}catch{return null}return b}function L(a){var C=Math.round(Math.log(Math.abs(a))/Math.log(10));if(C<0){var b=Math.round(Math.pow(10,-C));return Math.ceil(a*b)/b}else if(C>0){var b=Math.round(Math.pow(10,C));return Math.ceil(a/b)*b}return Math.ceil(a)}function x(a){return typeof a=="boolean"?a:!0}function E(a){a=a||{},a.camera=a.camera||{};var C=a.canvas;if(!C)if(C=document.createElement("canvas"),a.container){var b=a.container;b.appendChild(C)}else document.body.appendChild(C);var z=a.gl;if(z||(a.glOptions&&(p=!!a.glOptions.preserveDrawingBuffer),z=A(C,a.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!z)throw new Error("webgl not supported");var k=a.bounds||[[-10,-10,-10],[10,10,10]],U=new w,F=c(z,z.drawingBufferWidth,z.drawingBufferHeight,{preferFloat:!p}),V=i(z),N=a.cameraObject&&a.cameraObject._ortho===!0||a.camera.projection&&a.camera.projection.type==="orthographic"||!1,O={eye:a.camera.eye||[2,0,0],center:a.camera.center||[0,0,0],up:a.camera.up||[0,1,0],zoomMin:a.camera.zoomMax||.1,zoomMax:a.camera.zoomMin||100,mode:a.camera.mode||"turntable",_ortho:N},H=a.axes||{},X=o(z,H);X.enable=!H.disable;var J=a.spikes||{},et=u(z,J),it=[],ft=[],ot=[],Q=[],tt=!0,$=!0,Z=new Array(16),q=new Array(16),ut={view:null,projection:Z,model:q,_ortho:!1},$=!0,j=[z.drawingBufferWidth,z.drawingBufferHeight],lt=a.cameraObject||e(C,O),nt={gl:z,contextLost:!1,pixelRatio:a.pixelRatio||1,canvas:C,selection:U,camera:lt,axes:X,axesPixels:null,spikes:et,bounds:k,objects:it,shape:j,aspect:a.aspectRatio||[1,1,1],pickRadius:a.pickRadius||10,zNear:a.zNear||.01,zFar:a.zFar||1e3,fovy:a.fovy||Math.PI/4,clearColor:a.clearColor||[0,0,0,0],autoResize:x(a.autoResize),autoBounds:x(a.autoBounds),autoScale:!!a.autoScale,autoCenter:x(a.autoCenter),clipToBounds:x(a.clipToBounds),snapToData:!!a.snapToData,onselect:a.onselect||null,onrender:a.onrender||null,onclick:a.onclick||null,cameraParams:ut,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Et){this.aspect[0]=Et.x,this.aspect[1]=Et.y,this.aspect[2]=Et.z,$=!0},setBounds:function(Et,zt){this.bounds[0][Et]=zt.min,this.bounds[1][Et]=zt.max},setClearColor:function(Et){this.clearColor=Et},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ht=[z.drawingBufferWidth/nt.pixelRatio|0,z.drawingBufferHeight/nt.pixelRatio|0];function mt(){if(!nt._stopped&&nt.autoResize){var Et=C.parentNode,zt=1,Ct=1;Et&&Et!==document.body?(zt=Et.clientWidth,Ct=Et.clientHeight):(zt=window.innerWidth,Ct=window.innerHeight);var Wt=Math.ceil(zt*nt.pixelRatio)|0,Kt=Math.ceil(Ct*nt.pixelRatio)|0;if(Wt!==C.width||Kt!==C.height){C.width=Wt,C.height=Kt;var oe=C.style;oe.position=oe.position||"absolute",oe.left="0px",oe.top="0px",oe.width=zt+"px",oe.height=Ct+"px",tt=!0}}}nt.autoResize&&mt(),window.addEventListener("resize",mt);function At(){for(var Et=it.length,zt=Q.length,Ct=0;Ct<zt;++Ct)ot[Ct]=0;t:for(var Ct=0;Ct<Et;++Ct){var Wt=it[Ct],Kt=Wt.pickSlots;if(!Kt){ft[Ct]=-1;continue}for(var oe=0;oe<zt;++oe)if(ot[oe]+Kt<255){ft[Ct]=oe,Wt.setPickBase(ot[oe]+1),ot[oe]+=Kt;continue t}var Jt=f(z,j);ft[Ct]=zt,Q.push(Jt),ot.push(Kt),Wt.setPickBase(1),zt+=1}for(;zt>0&&ot[zt-1]===0;)ot.pop(),Q.pop().dispose()}nt.update=function(Et){nt._stopped||(tt=!0,$=!0)},nt.add=function(Et){nt._stopped||(Et.axes=X,it.push(Et),ft.push(-1),tt=!0,$=!0,At())},nt.remove=function(Et){if(!nt._stopped){var zt=it.indexOf(Et);zt<0||(it.splice(zt,1),ft.pop(),tt=!0,$=!0,At())}},nt.dispose=function(){if(!nt._stopped&&(nt._stopped=!0,window.removeEventListener("resize",mt),C.removeEventListener("webglcontextlost",bt),nt.mouseListener.enabled=!1,!nt.contextLost)){X.dispose(),et.dispose();for(var Et=0;Et<it.length;++Et)it[Et].dispose();F.dispose();for(var Et=0;Et<Q.length;++Et)Q[Et].dispose();V.dispose(),z=null,X=null,et=null,it=[]}},nt._mouseRotating=!1,nt._prevButtons=0,nt.enableMouseListeners=function(){nt.mouseListener=v(C,function(Et,zt,Ct){if(!nt._stopped){var Wt=Q.length,Kt=it.length,oe=U.object;U.distance=1/0,U.mouse[0]=zt,U.mouse[1]=Ct,U.object=null,U.screen=null,U.dataCoordinate=U.dataPosition=null;var Jt=!1;if(Et&&nt._prevButtons)nt._mouseRotating=!0;else{nt._mouseRotating&&($=!0),nt._mouseRotating=!1;for(var te=0;te<Wt;++te){var fe=Q[te].query(zt,ht[1]-Ct-1,nt.pickRadius);if(fe){if(fe.distance>U.distance)continue;for(var ve=0;ve<Kt;++ve){var de=it[ve];if(ft[ve]===te){var xe=de.pick(fe);xe&&(U.buttons=Et,U.screen=fe.coord,U.distance=fe.distance,U.object=de,U.index=xe.distance,U.dataPosition=xe.position,U.dataCoordinate=xe.dataCoordinate,U.data=xe,Jt=!0)}}}}}oe&&oe!==U.object&&(oe.highlight&&oe.highlight(null),tt=!0),U.object&&(U.object.highlight&&U.object.highlight(U.data),tt=!0),Jt=Jt||U.object!==oe,Jt&&nt.onselect&&nt.onselect(U),Et&1&&!(nt._prevButtons&1)&&nt.onclick&&nt.onclick(U),nt._prevButtons=Et}})};function bt(){if(nt.contextLost)return!0;z.isContextLost()&&(nt.contextLost=!0,nt.mouseListener.enabled=!1,nt.selection.object=null,nt.oncontextloss&&nt.oncontextloss())}C.addEventListener("webglcontextlost",bt);function Pt(){if(!bt()){z.colorMask(!0,!0,!0,!0),z.depthMask(!0),z.disable(z.BLEND),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL);for(var Et=it.length,zt=Q.length,Ct=0;Ct<zt;++Ct){var Wt=Q[Ct];Wt.shape=ht,Wt.begin();for(var Kt=0;Kt<Et;++Kt)if(ft[Kt]===Ct){var oe=it[Kt];oe.drawPick&&(oe.pixelRatio=1,oe.drawPick(ut))}Wt.end()}}}var _t=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ut=[_t[0].slice(),_t[1].slice()];function St(){if(!bt()){mt();var Et=nt.camera.tick();ut.view=nt.camera.matrix,tt=tt||Et,$=$||Et,X.pixelRatio=nt.pixelRatio,et.pixelRatio=nt.pixelRatio;var zt=it.length,Ct=_t[0],Wt=_t[1];Ct[0]=Ct[1]=Ct[2]=1/0,Wt[0]=Wt[1]=Wt[2]=-1/0;for(var Kt=0;Kt<zt;++Kt){var oe=it[Kt];oe.pixelRatio=nt.pixelRatio,oe.axes=nt.axes,tt=tt||!!oe.dirty,$=$||!!oe.dirty;var Jt=oe.bounds;if(Jt)for(var te=Jt[0],fe=Jt[1],ve=0;ve<3;++ve)Ct[ve]=Math.min(Ct[ve],te[ve]),Wt[ve]=Math.max(Wt[ve],fe[ve])}var de=nt.bounds;if(nt.autoBounds)for(var ve=0;ve<3;++ve){if(Wt[ve]<Ct[ve])Ct[ve]=-1,Wt[ve]=1;else{Ct[ve]===Wt[ve]&&(Ct[ve]-=1,Wt[ve]+=1);var xe=.05*(Wt[ve]-Ct[ve]);Ct[ve]=Ct[ve]-xe,Wt[ve]=Wt[ve]+xe}de[0][ve]=Ct[ve],de[1][ve]=Wt[ve]}for(var Me=!1,ve=0;ve<3;++ve)Me=Me||Ut[0][ve]!==de[0][ve]||Ut[1][ve]!==de[1][ve],Ut[0][ve]=de[0][ve],Ut[1][ve]=de[1][ve];if($=$||Me,tt=tt||Me,!!tt){if(Me){for(var ne=[0,0,0],Kt=0;Kt<3;++Kt)ne[Kt]=L((de[1][Kt]-de[0][Kt])/10);X.autoTicks?X.update({bounds:de,tickSpacing:ne}):X.update({bounds:de})}var kt=z.drawingBufferWidth,Gt=z.drawingBufferHeight;j[0]=kt,j[1]=Gt,ht[0]=Math.max(kt/nt.pixelRatio,1)|0,ht[1]=Math.max(Gt/nt.pixelRatio,1)|0,S(nt,N);for(var Kt=0;Kt<zt;++Kt){var oe=it[Kt];oe.axesBounds=de,nt.clipToBounds&&(oe.clipBounds=de)}U.object&&(nt.snapToData?et.position=U.dataCoordinate:et.position=U.dataPosition,et.bounds=de),$&&($=!1,Pt()),nt.axesPixels=n(nt.axes,ut,kt,Gt),nt.onrender&&nt.onrender(),z.bindFramebuffer(z.FRAMEBUFFER,null),z.viewport(0,0,kt,Gt),nt.clearRGBA(),z.depthMask(!0),z.colorMask(!0,!0,!0,!0),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL),z.disable(z.BLEND),z.disable(z.CULL_FACE);var Yt=!1;X.enable&&(Yt=Yt||X.isTransparent(),X.draw(ut)),et.axes=X,U.object&&et.draw(ut),z.disable(z.CULL_FACE);for(var Kt=0;Kt<zt;++Kt){var oe=it[Kt];oe.axes=X,oe.pixelRatio=nt.pixelRatio,oe.isOpaque&&oe.isOpaque()&&oe.draw(ut),oe.isTransparent&&oe.isTransparent()&&(Yt=!0)}if(Yt){F.shape=j,F.bind(),z.clear(z.DEPTH_BUFFER_BIT),z.colorMask(!1,!1,!1,!1),z.depthMask(!0),z.depthFunc(z.LESS),X.enable&&X.isTransparent()&&X.drawTransparent(ut);for(var Kt=0;Kt<zt;++Kt){var oe=it[Kt];oe.isOpaque&&oe.isOpaque()&&oe.draw(ut)}z.enable(z.BLEND),z.blendEquation(z.FUNC_ADD),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.colorMask(!0,!0,!0,!0),z.depthMask(!1),z.clearColor(0,0,0,0),z.clear(z.COLOR_BUFFER_BIT),X.isTransparent()&&X.drawTransparent(ut);for(var Kt=0;Kt<zt;++Kt){var oe=it[Kt];oe.isTransparent&&oe.isTransparent()&&oe.drawTransparent(ut)}z.bindFramebuffer(z.FRAMEBUFFER,null),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.disable(z.DEPTH_TEST),V.bind(),F.color[0].bind(0),V.uniforms.accumBuffer=0,m(z),z.disable(z.BLEND)}tt=!1;for(var Kt=0;Kt<zt;++Kt)it[Kt].dirty=!1}}}function Rt(){nt._stopped||nt.contextLost||(St(),requestAnimationFrame(Rt))}return nt.enableMouseListeners(),Rt(),nt.redraw=function(){nt._stopped||(tt=!0,St())},nt}function S(a,C){var b=a.bounds,z=a.cameraParams,k=z.projection,U=z.model,F=a.gl.drawingBufferWidth,V=a.gl.drawingBufferHeight,N=a.zNear,O=a.zFar,H=a.fovy,X=F/V;C?(h(k,-X,X,-1,1,N,O),z._ortho=!0):(T(k,H,X,N,O),z._ortho=!1);for(var J=0;J<16;++J)U[J]=0;U[15]=1;for(var et=0,J=0;J<3;++J)et=Math.max(et,b[1][J]-b[0][J]);for(var J=0;J<3;++J)a.autoScale?U[5*J]=a.aspect[J]/(b[1][J]-b[0][J]):U[5*J]=1/et,a.autoCenter&&(U[12+J]=-U[5*J]*.5*(b[0][J]+b[1][J]))}},6640:function(d,g,r){var e=r(3236);g.pointVertex=e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),g.pointFragment=e([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),g.pickVertex=e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),g.pickFragment=e([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(d,g,r){var e=r(9405),o=r(2762),n=r(1888),u=r(6640);d.exports=v;function f(T,h,i,p,w){this.plot=T,this.offsetBuffer=h,this.pickBuffer=i,this.shader=p,this.pickShader=w,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var c=f.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(T){var h;T=T||{};function i(S,a){return S in T?T[S]:a}this.sizeMin=i("sizeMin",.5),this.sizeMax=i("sizeMax",20),this.color=i("color",[1,0,0,1]).slice(),this.areaRatio=i("areaRatio",1),this.borderColor=i("borderColor",[0,0,0,1]).slice(),this.blend=i("blend",!1);var p=T.positions.length>>>1,w=T.positions instanceof Float32Array,A=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=p,L=T.positions,x=w?L:n.mallocFloat32(L.length),E=A?T.idToIndex:n.mallocInt32(p);if(w||x.set(L),!A)for(x.set(L),h=0;h<p;h++)E[h]=h;this.points=L,this.offsetBuffer.update(x),this.pickBuffer.update(E),w||n.free(x),A||n.free(E),this.pointCount=p,this.pickOffset=0};function m(T,h){var i=0,p=T.length>>>1,w;for(w=0;w<p;w++){var A=T[w*2],L=T[w*2+1];A>=h[0]&&A<=h[2]&&L>=h[1]&&L<=h[3]&&i++}return i}c.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(i){var p=i!==void 0,w=p?this.pickShader:this.shader,A=this.plot.gl,L=this.plot.dataBox;if(this.pointCount===0)return i;var x=L[2]-L[0],E=L[3]-L[1],S=m(this.points,L),a=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(S,.33333)));T[0]=2/x,T[4]=2/E,T[6]=-2*L[0]/x-1,T[7]=-2*L[1]/E-1,this.offsetBuffer.bind(),w.bind(),w.attributes.position.pointer(),w.uniforms.matrix=T,w.uniforms.color=this.color,w.uniforms.borderColor=this.borderColor,w.uniforms.pointCloud=a<5,w.uniforms.pointSize=a,w.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(h[0]=i&255,h[1]=i>>8&255,h[2]=i>>16&255,h[3]=i>>24&255,this.pickBuffer.bind(),w.attributes.pickId.pointer(A.UNSIGNED_BYTE),w.uniforms.pickOffset=h,this.pickOffset=i);var C=A.getParameter(A.BLEND),b=A.getParameter(A.DITHER);return C&&!this.blend&&A.disable(A.BLEND),b&&A.disable(A.DITHER),A.drawArrays(A.POINTS,0,this.pointCount),C&&!this.blend&&A.enable(A.BLEND),b&&A.enable(A.DITHER),i+this.pointCount}}(),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(T,h,i){var p=this.pickOffset,w=this.pointCount;if(i<p||i>=p+w)return null;var A=i-p,L=this.points;return{object:this,pointId:A,dataCoord:[L[2*A],L[2*A+1]]}};function v(T,h){var i=T.gl,p=o(i),w=o(i),A=e(i,u.pointVertex,u.pointFragment),L=e(i,u.pickVertex,u.pickFragment),x=new f(T,p,w,A,L);return x.update(h),T.addObject(x),x}},783:function(d){d.exports=g;function g(r,e,o,n){var u=e[0],f=e[1],c=e[2],m=e[3],v=o[0],T=o[1],h=o[2],i=o[3],p,w,A,L,x;return w=u*v+f*T+c*h+m*i,w<0&&(w=-w,v=-v,T=-T,h=-h,i=-i),1-w>1e-6?(p=Math.acos(w),A=Math.sin(p),L=Math.sin((1-n)*p)/A,x=Math.sin(n*p)/A):(L=1-n,x=n),r[0]=L*u+x*v,r[1]=L*f+x*T,r[2]=L*c+x*h,r[3]=L*m+x*i,r}},5964:function(d){d.exports=function(g){return!g&&g!==0?"":g.toString()}},9366:function(d,g,r){var e=r(4359);d.exports=n;var o={};function n(u,f,c){var m=[f.style,f.weight,f.variant,f.family].join("_"),v=o[m];if(v||(v=o[m]={}),u in v)return v[u];var T={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f.family,fontStyle:f.style,fontWeight:f.weight,fontVariant:f.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};T.triangles=!0;var h=e(u,T);T.triangles=!1;var i=e(u,T),p,w;if(c&&c!==1){for(p=0;p<h.positions.length;++p)for(w=0;w<h.positions[p].length;++w)h.positions[p][w]/=c;for(p=0;p<i.positions.length;++p)for(w=0;w<i.positions[p].length;++w)i.positions[p][w]/=c}var A=[[1/0,1/0],[-1/0,-1/0]],L=i.positions.length;for(p=0;p<L;++p){var x=i.positions[p];for(w=0;w<2;++w)A[0][w]=Math.min(A[0][w],x[w]),A[1][w]=Math.max(A[1][w],x[w])}return v[u]=[h,i,A]}},1283:function(d,g,r){var e=r(9405),o=r(3236),n=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),c=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),v=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:n,fragment:c,attributes:v},h={vertex:u,fragment:c,attributes:v},i={vertex:f,fragment:c,attributes:v},p={vertex:n,fragment:m,attributes:v},w={vertex:u,fragment:m,attributes:v},A={vertex:f,fragment:m,attributes:v};function L(x,E){var S=e(x,E),a=S.attributes;return a.position.location=0,a.color.location=1,a.glyph.location=2,a.id.location=3,S}g.createPerspective=function(x){return L(x,T)},g.createOrtho=function(x){return L(x,h)},g.createProject=function(x){return L(x,i)},g.createPickPerspective=function(x){return L(x,p)},g.createPickOrtho=function(x){return L(x,w)},g.createPickProject=function(x){return L(x,A)}},8418:function(d,g,r){var e=r(5219),o=r(2762),n=r(8116),u=r(1888),f=r(6760),c=r(1283),m=r(9366),v=r(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],h=ArrayBuffer,i=DataView;function p(q){return h.isView(q)&&!(q instanceof i)}function w(q){return Array.isArray(q)||p(q)}d.exports=Z;function A(q,ut){var $=q[0],j=q[1],lt=q[2],nt=q[3];return q[0]=ut[0]*$+ut[4]*j+ut[8]*lt+ut[12]*nt,q[1]=ut[1]*$+ut[5]*j+ut[9]*lt+ut[13]*nt,q[2]=ut[2]*$+ut[6]*j+ut[10]*lt+ut[14]*nt,q[3]=ut[3]*$+ut[7]*j+ut[11]*lt+ut[15]*nt,q}function L(q,ut,$,j){return A(j,j),A(j,j),A(j,j)}function x(q,ut){this.index=q,this.dataCoordinate=this.position=ut}function E(q){return q===!0||q>1?1:q}function S(q,ut,$,j,lt,nt,ht,mt,At,bt,Pt,_t){this.gl=q,this.pixelRatio=1,this.shader=ut,this.orthoShader=$,this.projectShader=j,this.pointBuffer=lt,this.colorBuffer=nt,this.glyphBuffer=ht,this.idBuffer=mt,this.vao=At,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=bt,this.pickOrthoShader=Pt,this.pickProjectShader=_t,this.points=[],this._selectResult=new x(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var a=S.prototype;a.pickSlots=1,a.setPickBase=function(q){this.pickId=q},a.isTransparent=function(){if(this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&this.projectHasAlpha)return!0;return!1},a.isOpaque=function(){if(!this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&!this.projectHasAlpha)return!0;return!1};var C=[0,0],b=[0,0,0],z=[0,0,0],k=[0,0,0,1],U=[0,0,0,1],F=T.slice(),V=[0,0,0],N=[[0,0,0],[0,0,0]];function O(q){return q[0]=q[1]=q[2]=0,q}function H(q,ut){return q[0]=ut[0],q[1]=ut[1],q[2]=ut[2],q[3]=1,q}function X(q,ut,$,j){return q[0]=ut[0],q[1]=ut[1],q[2]=ut[2],q[$]=j,q}function J(q){for(var ut=N,$=0;$<2;++$)for(var j=0;j<3;++j)ut[$][j]=Math.max(Math.min(q[$][j],1e8),-1e8);return ut}function et(q,ut,$,j){var lt=ut.axesProject,nt=ut.gl,ht=q.uniforms,mt=$.model||T,At=$.view||T,bt=$.projection||T,Pt=ut.axesBounds,_t=J(ut.clipBounds),Ut;ut.axes&&ut.axes.lastCubeProps?Ut=ut.axes.lastCubeProps.axis:Ut=[1,1,1],C[0]=2/nt.drawingBufferWidth,C[1]=2/nt.drawingBufferHeight,q.bind(),ht.view=At,ht.projection=bt,ht.screenSize=C,ht.highlightId=ut.highlightId,ht.highlightScale=ut.highlightScale,ht.clipBounds=_t,ht.pickGroup=ut.pickId/255,ht.pixelRatio=j;for(var St=0;St<3;++St)if(lt[St]){ht.scale=ut.projectScale[St],ht.opacity=ut.projectOpacity[St];for(var Rt=F,Et=0;Et<16;++Et)Rt[Et]=0;for(var Et=0;Et<4;++Et)Rt[5*Et]=1;Rt[5*St]=0,Ut[St]<0?Rt[12+St]=Pt[0][St]:Rt[12+St]=Pt[1][St],f(Rt,mt,Rt),ht.model=Rt;var zt=(St+1)%3,Ct=(St+2)%3,Wt=O(b),Kt=O(z);Wt[zt]=1,Kt[Ct]=1;var oe=L(bt,At,mt,H(k,Wt)),Jt=L(bt,At,mt,H(U,Kt));if(Math.abs(oe[1])>Math.abs(Jt[1])){var te=oe;oe=Jt,Jt=te,te=Wt,Wt=Kt,Kt=te;var fe=zt;zt=Ct,Ct=fe}oe[0]<0&&(Wt[zt]=-1),Jt[1]>0&&(Kt[Ct]=-1);for(var ve=0,de=0,Et=0;Et<4;++Et)ve+=Math.pow(mt[4*zt+Et],2),de+=Math.pow(mt[4*Ct+Et],2);Wt[zt]/=Math.sqrt(ve),Kt[Ct]/=Math.sqrt(de),ht.axes[0]=Wt,ht.axes[1]=Kt,ht.fragClipBounds[0]=X(V,_t[0],St,-1e8),ht.fragClipBounds[1]=X(V,_t[1],St,1e8),ut.vao.bind(),ut.vao.draw(nt.TRIANGLES,ut.vertexCount),ut.lineWidth>0&&(nt.lineWidth(ut.lineWidth*j),ut.vao.draw(nt.LINES,ut.lineVertexCount,ut.vertexCount)),ut.vao.unbind()}}var it=[-1e8,-1e8,-1e8],ft=[1e8,1e8,1e8],ot=[it,ft];function Q(q,ut,$,j,lt,nt,ht){var mt=$.gl;if((nt===$.projectHasAlpha||ht)&&et(ut,$,j,lt),nt===$.hasAlpha||ht){q.bind();var At=q.uniforms;At.model=j.model||T,At.view=j.view||T,At.projection=j.projection||T,C[0]=2/mt.drawingBufferWidth,C[1]=2/mt.drawingBufferHeight,At.screenSize=C,At.highlightId=$.highlightId,At.highlightScale=$.highlightScale,At.fragClipBounds=ot,At.clipBounds=$.axes.bounds,At.opacity=$.opacity,At.pickGroup=$.pickId/255,At.pixelRatio=lt,$.vao.bind(),$.vao.draw(mt.TRIANGLES,$.vertexCount),$.lineWidth>0&&(mt.lineWidth($.lineWidth*lt),$.vao.draw(mt.LINES,$.lineVertexCount,$.vertexCount)),$.vao.unbind()}}a.draw=function(q){var ut=this.useOrtho?this.orthoShader:this.shader;Q(ut,this.projectShader,this,q,this.pixelRatio,!1,!1)},a.drawTransparent=function(q){var ut=this.useOrtho?this.orthoShader:this.shader;Q(ut,this.projectShader,this,q,this.pixelRatio,!0,!1)},a.drawPick=function(q){var ut=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;Q(ut,this.pickProjectShader,this,q,1,!0,!0)},a.pick=function(q){if(!q||q.id!==this.pickId)return null;var ut=q.value[2]+(q.value[1]<<8)+(q.value[0]<<16);if(ut>=this.pointCount||ut<0)return null;var $=this.points[ut],j=this._selectResult;j.index=ut;for(var lt=0;lt<3;++lt)j.position[lt]=j.dataCoordinate[lt]=$[lt];return j},a.highlight=function(q){if(!q)this.highlightId=[1,1,1,1];else{var ut=q.index,$=ut&255,j=ut>>8&255,lt=ut>>16&255;this.highlightId=[$/255,j/255,lt/255,0]}};function tt(q,ut,$,j){var lt;w(q)?ut<q.length?lt=q[ut]:lt=void 0:lt=q,lt=v(lt);var nt=!0;e(lt)&&(lt="",nt=!1),$||($={});var ht=$.family;w(ht)&&(ht=ht[ut]),ht||(ht="normal");var mt=$.weight;w(mt)&&(mt=mt[ut]),mt||(mt="normal");var At=$.style;w(At)&&(At=At[ut]),At||(At="normal");var bt=$.variant;w(bt)&&(bt=bt[ut]),bt||(bt="normal");var Pt=m(lt,{family:ht,weight:mt,style:At,variant:bt},j),Pt=m(lt,$,j);return{mesh:Pt[0],lines:Pt[1],bounds:Pt[2],visible:nt}}a.update=function(q){if(q=q||{},"perspective"in q&&(this.useOrtho=!q.perspective),"orthographic"in q&&(this.useOrtho=!!q.orthographic),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"project"in q)if(w(q.project))this.axesProject=q.project;else{var ut=!!q.project;this.axesProject=[ut,ut,ut]}if("projectScale"in q)if(w(q.projectScale))this.projectScale=q.projectScale.slice();else{var $=+q.projectScale;this.projectScale=[$,$,$]}if(this.projectHasAlpha=!1,"projectOpacity"in q){if(w(q.projectOpacity))this.projectOpacity=q.projectOpacity.slice();else{var $=+q.projectOpacity;this.projectOpacity=[$,$,$]}for(var j=0;j<3;++j)this.projectOpacity[j]=E(this.projectOpacity[j]),this.projectOpacity[j]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in q&&(this.opacity=E(q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var lt=q.position,nt={family:q.font||"normal",style:q.fontStyle||"normal",weight:q.fontWeight||"normal",variant:q.fontVariant||"normal"},ht=q.alignment||[0,0],mt,At;if(ht.length===2)mt=ht[0],At=ht[1];else{mt=[],At=[];for(var j=0;j<ht.length;++j)mt[j]=ht[j][0],At[j]=ht[j][1]}var bt=[1/0,1/0,1/0],Pt=[-1/0,-1/0,-1/0],_t=q.glyph,Ut=q.color,St=q.size,Rt=q.angle,Et=q.lineColor,zt=-1,Ct=0,Wt=0,Kt=0;if(lt.length){Kt=lt.length;t:for(var j=0;j<Kt;++j){for(var oe=lt[j],Jt=0;Jt<3;++Jt)if(isNaN(oe[Jt])||!isFinite(oe[Jt]))continue t;var te=tt(_t,j,nt,this.pixelRatio),fe=te.mesh,ve=te.lines,de=te.bounds;Ct+=fe.cells.length*3,Wt+=ve.edges.length*2}}var xe=Ct+Wt,Me=u.mallocFloat(3*xe),ne=u.mallocFloat(4*xe),kt=u.mallocFloat(2*xe),Gt=u.mallocUint32(xe);if(xe>0){var Yt=0,Zt=Ct,It=[0,0,0,1],Nt=[0,0,0,1],Ht=w(Ut)&&w(Ut[0]),Lt=w(Et)&&w(Et[0]);t:for(var j=0;j<Kt;++j){zt+=1;for(var oe=lt[j],Jt=0;Jt<3;++Jt){if(isNaN(oe[Jt])||!isFinite(oe[Jt]))continue t;Pt[Jt]=Math.max(Pt[Jt],oe[Jt]),bt[Jt]=Math.min(bt[Jt],oe[Jt])}var te=tt(_t,j,nt,this.pixelRatio),fe=te.mesh,ve=te.lines,de=te.bounds,dt=te.visible;if(!dt)It=[1,1,1,0];else if(w(Ut)){var xt;if(Ht?j<Ut.length?xt=Ut[j]:xt=[0,0,0,0]:xt=Ut,xt.length===3){for(var Jt=0;Jt<3;++Jt)It[Jt]=xt[Jt];It[3]=1}else if(xt.length===4){for(var Jt=0;Jt<4;++Jt)It[Jt]=xt[Jt];!this.hasAlpha&&xt[3]<1&&(this.hasAlpha=!0)}}else It[0]=It[1]=It[2]=0,It[3]=1;if(!dt)Nt=[1,1,1,0];else if(w(Et)){var xt;if(Lt?j<Et.length?xt=Et[j]:xt=[0,0,0,0]:xt=Et,xt.length===3){for(var Jt=0;Jt<3;++Jt)Nt[Jt]=xt[Jt];Nt[Jt]=1}else if(xt.length===4){for(var Jt=0;Jt<4;++Jt)Nt[Jt]=xt[Jt];!this.hasAlpha&&xt[3]<1&&(this.hasAlpha=!0)}}else Nt[0]=Nt[1]=Nt[2]=0,Nt[3]=1;var Ot=.5;dt?w(St)?j<St.length?Ot=+St[j]:Ot=12:St?Ot=+St:this.useOrtho&&(Ot=12):Ot=0;var jt=0;w(Rt)?j<Rt.length?jt=+Rt[j]:jt=0:Rt&&(jt=+Rt);for(var ie=Math.cos(jt),le=Math.sin(jt),oe=lt[j],Jt=0;Jt<3;++Jt)Pt[Jt]=Math.max(Pt[Jt],oe[Jt]),bt[Jt]=Math.min(bt[Jt],oe[Jt]);var Ve=mt,je=At,Ve=0;w(mt)?j<mt.length?Ve=mt[j]:Ve=0:mt&&(Ve=mt);var je=0;w(At)?j<At.length?je=At[j]:je=0:At&&(je=At),Ve*=Ve>0?1-de[0][0]:Ve<0?1+de[1][0]:1,je*=je>0?1-de[0][1]:je<0?1+de[1][1]:1;for(var Te=[Ve,je],Xe=fe.cells||[],$e=fe.positions||[],Jt=0;Jt<Xe.length;++Jt)for(var Le=Xe[Jt],Ke=0;Ke<3;++Ke){for(var vr=0;vr<3;++vr)Me[3*Yt+vr]=oe[vr];for(var vr=0;vr<4;++vr)ne[4*Yt+vr]=It[vr];Gt[Yt]=zt;var ge=$e[Le[Ke]];kt[2*Yt]=Ot*(ie*ge[0]-le*ge[1]+Te[0]),kt[2*Yt+1]=Ot*(le*ge[0]+ie*ge[1]+Te[1]),Yt+=1}for(var Xe=ve.edges,$e=ve.positions,Jt=0;Jt<Xe.length;++Jt)for(var Le=Xe[Jt],Ke=0;Ke<2;++Ke){for(var vr=0;vr<3;++vr)Me[3*Zt+vr]=oe[vr];for(var vr=0;vr<4;++vr)ne[4*Zt+vr]=Nt[vr];Gt[Zt]=zt;var ge=$e[Le[Ke]];kt[2*Zt]=Ot*(ie*ge[0]-le*ge[1]+Te[0]),kt[2*Zt+1]=Ot*(le*ge[0]+ie*ge[1]+Te[1]),Zt+=1}}}this.bounds=[bt,Pt],this.points=lt,this.pointCount=lt.length,this.vertexCount=Ct,this.lineVertexCount=Wt,this.pointBuffer.update(Me),this.colorBuffer.update(ne),this.glyphBuffer.update(kt),this.idBuffer.update(Gt),u.free(Me),u.free(ne),u.free(kt),u.free(Gt)},a.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function Z(q){var ut=q.gl,$=c.createPerspective(ut),j=c.createOrtho(ut),lt=c.createProject(ut),nt=c.createPickPerspective(ut),ht=c.createPickOrtho(ut),mt=c.createPickProject(ut),At=o(ut),bt=o(ut),Pt=o(ut),_t=o(ut),Ut=n(ut,[{buffer:At,size:3,type:ut.FLOAT},{buffer:bt,size:4,type:ut.FLOAT},{buffer:Pt,size:2,type:ut.FLOAT},{buffer:_t,size:4,type:ut.UNSIGNED_BYTE,normalized:!0}]),St=new S(ut,$,j,lt,At,bt,Pt,_t,Ut,nt,ht,mt);return St.update(q),St}},4298:function(d,g,r){var e=r(3236);g.boxVertex=e([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),g.boxFragment=e([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(d,g,r){var e=r(9405),o=r(2762),n=r(4298);d.exports=c;function u(m,v,T){this.plot=m,this.boxBuffer=v,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var f=u.prototype;f.draw=function(){if(this.enabled){var m=this.plot,v=this.selectBox,T=this.borderWidth;this.innerFill;var h=this.innerColor;this.outerFill;var i=this.outerColor,p=this.borderColor,w=m.box,A=m.screenBox,L=m.dataBox,x=m.viewBox,E=m.pixelRatio,S=(v[0]-L[0])*(x[2]-x[0])/(L[2]-L[0])+x[0],a=(v[1]-L[1])*(x[3]-x[1])/(L[3]-L[1])+x[1],C=(v[2]-L[0])*(x[2]-x[0])/(L[2]-L[0])+x[0],b=(v[3]-L[1])*(x[3]-x[1])/(L[3]-L[1])+x[1];if(S=Math.max(S,x[0]),a=Math.max(a,x[1]),C=Math.min(C,x[2]),b=Math.min(b,x[3]),!(C<S||b<a)){w.bind();var z=A[2]-A[0],k=A[3]-A[1];if(this.outerFill&&(w.drawBox(0,0,z,a,i),w.drawBox(0,a,S,b,i),w.drawBox(0,b,z,k,i),w.drawBox(C,a,z,b,i)),this.innerFill&&w.drawBox(S,a,C,b,h),T>0){var U=T*E;w.drawBox(S-U,a-U,C+U,a+U,p),w.drawBox(S-U,b-U,C+U,b+U,p),w.drawBox(S-U,a-U,S+U,b+U,p),w.drawBox(C-U,a-U,C+U,b+U,p)}}}},f.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function c(m,v){var T=m.gl,h=o(T,[0,0,0,1,1,0,1,1]),i=e(T,n.boxVertex,n.boxFragment),p=new u(m,h,i);return p.update(v),m.addOverlay(p),p}},3589:function(d,g,r){d.exports=T;var e=r(2260),o=r(1888),n=r(9618),u=r(8828).nextPow2,f=function(h,i,p){for(var w=1e8,A=-1,L=-1,x=h.shape[0],E=h.shape[1],S=0;S<x;S++)for(var a=0;a<E;a++){var C=h.get(S,a,0),b=h.get(S,a,1),z=h.get(S,a,2),k=h.get(S,a,3);if(C<255||b<255||z<255||k<255){var U=i-S,F=p-a,V=U*U+F*F;V<w&&(w=V,A=S,L=a)}}return[A,L,w]};function c(h,i,p,w,A){this.coord=[h,i],this.id=p,this.value=w,this.distance=A}function m(h,i,p){this.gl=h,this.fbo=i,this.buffer=p,this._readTimeout=null;var w=this;this._readCallback=function(){w.gl&&(i.bind(),h.readPixels(0,0,i.shape[0],i.shape[1],h.RGBA,h.UNSIGNED_BYTE,w.buffer),w._readTimeout=null)}}var v=m.prototype;Object.defineProperty(v,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var i=this.fbo.shape[0],p=this.fbo.shape[1];if(p*i*4>this.buffer.length){o.free(this.buffer);for(var w=this.buffer=o.mallocUint8(u(p*i*4)),A=0;A<p*i*4;++A)w[A]=255}return h}}}),v.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},v.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},v.query=function(h,i,p){if(!this.gl)return null;var w=this.fbo.shape.slice();h=h|0,i=i|0,typeof p!="number"&&(p=1);var A=Math.min(Math.max(h-p,0),w[0])|0,L=Math.min(Math.max(h+p,0),w[0])|0,x=Math.min(Math.max(i-p,0),w[1])|0,E=Math.min(Math.max(i+p,0),w[1])|0;if(L<=A||E<=x)return null;var S=[L-A,E-x],a=n(this.buffer,[S[0],S[1],4],[4,w[0]*4,1],4*(A+w[0]*x)),C=f(a.hi(S[0],S[1],1),p,p),b=C[0],z=C[1];if(b<0||Math.pow(this.radius,2)<C[2])return null;var k=a.get(b,z,0),U=a.get(b,z,1),F=a.get(b,z,2),V=a.get(b,z,3);return new c(b+A|0,z+x|0,k,[U,F,V],Math.sqrt(C[2]))},v.dispose=function(){this.gl&&(this.fbo.dispose(),o.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(h,i){var p=i[0],w=i[1],A={},L=e(h,p,w,A),x=o.mallocUint8(p*w*4);return new m(h,L,x)}},9405:function(d,g,r){var e=r(3327),o=r(8731),n=r(216),u=r(5091),f=r(2145),c=r(8866);function m(i){this.gl=i,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var v=m.prototype;v.bind=function(){this.program||this._relink();var i,p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),w=this.gl.lastAttribCount;if(p>w)for(i=w;i<p;i++)this.gl.enableVertexAttribArray(i);else if(w>p)for(i=p;i<w;i++)this.gl.disableVertexAttribArray(i);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},v.dispose=function(){for(var i=this.gl.lastAttribCount,p=0;p<i;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(i,p){return i.name<p.name?-1:1}v.update=function(i,p,w,A){if(!p||arguments.length===1){var L=i;i=L.vertex,p=L.fragment,w=L.uniforms,A=L.attributes}var x=this,E=x.gl,S=x._vref;x._vref=u.shader(E,E.VERTEX_SHADER,i),S&&S.dispose(),x.vertShader=x._vref.shader;var a=this._fref;if(x._fref=u.shader(E,E.FRAGMENT_SHADER,p),a&&a.dispose(),x.fragShader=x._fref.shader,!w||!A){var C=E.createProgram();if(E.attachShader(C,x.fragShader),E.attachShader(C,x.vertShader),E.linkProgram(C),!E.getProgramParameter(C,E.LINK_STATUS)){var b=E.getProgramInfoLog(C);throw new c(b,"Error linking program:"+b)}w=w||f.uniforms(E,C),A=A||f.attributes(E,C),E.deleteProgram(C)}A=A.slice(),A.sort(T);var z=[],k=[],U=[],F;for(F=0;F<A.length;++F){var V=A[F];if(V.type.indexOf("mat")>=0){for(var N=V.type.charAt(V.type.length-1)|0,O=new Array(N),H=0;H<N;++H)O[H]=U.length,k.push(V.name+"["+H+"]"),typeof V.location=="number"?U.push(V.location+H):Array.isArray(V.location)&&V.location.length===N&&typeof V.location[H]=="number"?U.push(V.location[H]|0):U.push(-1);z.push({name:V.name,type:V.type,locations:O})}else z.push({name:V.name,type:V.type,locations:[U.length]}),k.push(V.name),typeof V.location=="number"?U.push(V.location|0):U.push(-1)}var X=0;for(F=0;F<U.length;++F)if(U[F]<0){for(;U.indexOf(X)>=0;)X+=1;U[F]=X}var J=new Array(w.length);function et(){x.program=u.program(E,x._vref,x._fref,k,U);for(var it=0;it<w.length;++it)J[it]=E.getUniformLocation(x.program,w[it].name)}et(),x._relink=et,x.types={uniforms:n(w),attributes:n(A)},x.attributes=o(E,x,z,U),Object.defineProperty(x,"uniforms",e(E,x,w,J))};function h(i,p,w,A,L){var x=new m(i);return x.update(p,w,A,L),x}d.exports=h},8866:function(d){function g(r,e,o){this.shortMessage=e||"",this.longMessage=o||"",this.rawError=r||"",this.message="gl-shader: "+(e||r||"")+(o?`
`+o:""),this.stack=new Error().stack}g.prototype=new Error,g.prototype.name="GLError",g.prototype.constructor=g,d.exports=g},8731:function(d,g,r){d.exports=m;var e=r(8866);function o(v,T,h,i,p,w){this._gl=v,this._wrapper=T,this._index=h,this._locations=i,this._dimension=p,this._constFunc=w}var n=o.prototype;n.pointer=function(T,h,i,p){var w=this,A=w._gl,L=w._locations[w._index];A.vertexAttribPointer(L,w._dimension,T||A.FLOAT,!!h,i||0,p||0),A.enableVertexAttribArray(L)},n.set=function(v,T,h,i){return this._constFunc(this._locations[this._index],v,T,h,i)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(v){return v!==this._locations[this._index]&&(this._locations[this._index]=v|0,this._wrapper.program=null),v|0}});var u=[function(v,T,h){return h.length===void 0?v.vertexAttrib1f(T,h):v.vertexAttrib1fv(T,h)},function(v,T,h,i){return h.length===void 0?v.vertexAttrib2f(T,h,i):v.vertexAttrib2fv(T,h)},function(v,T,h,i,p){return h.length===void 0?v.vertexAttrib3f(T,h,i,p):v.vertexAttrib3fv(T,h)},function(v,T,h,i,p,w){return h.length===void 0?v.vertexAttrib4f(T,h,i,p,w):v.vertexAttrib4fv(T,h)}];function f(v,T,h,i,p,w,A){var L=u[p],x=new o(v,T,h,i,p,L);Object.defineProperty(w,A,{set:function(E){return v.disableVertexAttribArray(i[h]),L(v,i[h],E),E},get:function(){return x},enumerable:!0})}function c(v,T,h,i,p,w,A){for(var L=new Array(p),x=new Array(p),E=0;E<p;++E)f(v,T,h[E],i,p,L,E),x[E]=L[E];Object.defineProperty(L,"location",{set:function(C){if(Array.isArray(C))for(var b=0;b<p;++b)x[b].location=C[b];else for(var b=0;b<p;++b)x[b].location=C+b;return C},get:function(){for(var C=new Array(p),b=0;b<p;++b)C[b]=i[h[b]];return C},enumerable:!0}),L.pointer=function(C,b,z,k){C=C||v.FLOAT,b=!!b,z=z||p*p,k=k||0;for(var U=0;U<p;++U){var F=i[h[U]];v.vertexAttribPointer(F,p,C,b,z,k+U*p),v.enableVertexAttribArray(F)}};var S=new Array(p),a=v["vertexAttrib"+p+"fv"];Object.defineProperty(w,A,{set:function(C){for(var b=0;b<p;++b){var z=i[h[b]];if(v.disableVertexAttribArray(z),Array.isArray(C[0]))a.call(v,z,C[b]);else{for(var k=0;k<p;++k)S[k]=C[p*b+k];a.call(v,z,S)}}return C},get:function(){return L},enumerable:!0})}function m(v,T,h,i){for(var p={},w=0,A=h.length;w<A;++w){var L=h[w],x=L.name,E=L.type,S=L.locations;switch(E){case"bool":case"int":case"float":f(v,T,S[0],i,1,p,x);break;default:if(E.indexOf("vec")>=0){var a=E.charCodeAt(E.length-1)-48;if(a<2||a>4)throw new e("","Invalid data type for attribute "+x+": "+E);f(v,T,S[0],i,a,p,x)}else if(E.indexOf("mat")>=0){var a=E.charCodeAt(E.length-1)-48;if(a<2||a>4)throw new e("","Invalid data type for attribute "+x+": "+E);c(v,T,S,i,a,p,x)}else throw new e("","Unknown data type for attribute "+x+": "+E);break}}return p}},3327:function(d,g,r){var e=r(216),o=r(8866);d.exports=f;function n(c){return function(){return c}}function u(c,m){for(var v=new Array(c),T=0;T<c;++T)v[T]=m;return v}function f(c,m,v,T){function h(E){return function(S,a,C){return S.getUniform(a.program,C[E])}}function i(E){return function(a){for(var C=p("",E),b=0;b<C.length;++b){var z=C[b],k=z[0],U=z[1];if(T[U]){var F=a;if(typeof k=="string"&&(k.indexOf(".")===0||k.indexOf("[")===0)){var V=k;if(k.indexOf(".")===0&&(V=k.slice(1)),V.indexOf("]")===V.length-1){var N=V.indexOf("["),O=V.slice(0,N),H=V.slice(N+1,V.length-1);F=O?a[O][H]:a[H]}else F=a[V]}var X=v[U].type,J;switch(X){case"bool":case"int":case"sampler2D":case"samplerCube":c.uniform1i(T[U],F);break;case"float":c.uniform1f(T[U],F);break;default:var et=X.indexOf("vec");if(0<=et&&et<=1&&X.length===4+et){if(J=X.charCodeAt(X.length-1)-48,J<2||J>4)throw new o("","Invalid data type");switch(X.charAt(0)){case"b":case"i":c["uniform"+J+"iv"](T[U],F);break;case"v":c["uniform"+J+"fv"](T[U],F);break;default:throw new o("","Unrecognized data type for vector "+name+": "+X)}}else if(X.indexOf("mat")===0&&X.length===4){if(J=X.charCodeAt(X.length-1)-48,J<2||J>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+X);c["uniformMatrix"+J+"fv"](T[U],!1,F);break}else throw new o("","Unknown uniform data type for "+name+": "+X)}}}}}function p(E,S){if(typeof S!="object")return[[E,S]];var a=[];for(var C in S){var b=S[C],z=E;parseInt(C)+""===C?z+="["+C+"]":z+="."+C,typeof b=="object"?a.push.apply(a,p(z,b)):a.push([z,b])}return a}function w(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var S=E.indexOf("vec");if(0<=S&&S<=1&&E.length===4+S){var a=E.charCodeAt(E.length-1)-48;if(a<2||a>4)throw new o("","Invalid data type");return E.charAt(0)==="b"?u(a,!1):u(a,0)}else if(E.indexOf("mat")===0&&E.length===4){var a=E.charCodeAt(E.length-1)-48;if(a<2||a>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+E);return u(a*a,0)}else throw new o("","Unknown uniform data type for "+name+": "+E)}}function A(E,S,a){if(typeof a=="object"){var C=L(a);Object.defineProperty(E,S,{get:n(C),set:i(a),enumerable:!0,configurable:!1})}else T[a]?Object.defineProperty(E,S,{get:h(a),set:i(a),enumerable:!0,configurable:!1}):E[S]=w(v[a].type)}function L(E){var S;if(Array.isArray(E)){S=new Array(E.length);for(var a=0;a<E.length;++a)A(S,a,E[a])}else{S={};for(var C in E)A(S,C,E[C])}return S}var x=e(v,!0);return{get:n(L(x)),set:i(x),enumerable:!0,configurable:!0}}},216:function(d){d.exports=g;function g(r,e){for(var o={},n=0;n<r.length;++n)for(var u=r[n].name,f=u.split("."),c=o,m=0;m<f.length;++m){var v=f[m].split("[");if(v.length>1){v[0]in c||(c[v[0]]=[]),c=c[v[0]];for(var T=1;T<v.length;++T){var h=parseInt(v[T]);T<v.length-1||m<f.length-1?(h in c||(T<v.length-1?c[h]=[]:c[h]={}),c=c[h]):e?c[h]=n:c[h]=r[n].type}}else m<f.length-1?(v[0]in c||(c[v[0]]={}),c=c[v[0]]):e?c[v[0]]=n:c[v[0]]=r[n].type}return o}},2145:function(d,g){g.uniforms=n,g.attributes=u;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},e=null;function o(f,c){if(!e){var m=Object.keys(r);e={};for(var v=0;v<m.length;++v){var T=m[v];e[f[T]]=r[T]}}return e[c]}function n(f,c){for(var m=f.getProgramParameter(c,f.ACTIVE_UNIFORMS),v=[],T=0;T<m;++T){var h=f.getActiveUniform(c,T);if(h){var i=o(f,h.type);if(h.size>1)for(var p=0;p<h.size;++p)v.push({name:h.name.replace("[0]","["+p+"]"),type:i});else v.push({name:h.name,type:i})}}return v}function u(f,c){for(var m=f.getProgramParameter(c,f.ACTIVE_ATTRIBUTES),v=[],T=0;T<m;++T){var h=f.getActiveAttrib(c,T);h&&v.push({name:h.name,type:o(f,h.type)})}return v}},5091:function(d,g,r){g.shader=p,g.program=w;var e=r(8866),o=r(2992),n=typeof WeakMap>"u"?r(606):WeakMap,u=new n,f=0;function c(A,L,x,E,S,a,C){this.id=A,this.src=L,this.type=x,this.shader=E,this.count=a,this.programs=[],this.cache=C}c.prototype.dispose=function(){if(--this.count===0){for(var A=this.cache,L=A.gl,x=this.programs,E=0,S=x.length;E<S;++E){var a=A.programs[x[E]];a&&(delete A.programs[E],L.deleteProgram(a))}L.deleteShader(this.shader),delete A.shaders[this.type===L.FRAGMENT_SHADER|0][this.src]}};function m(A){this.gl=A,this.shaders=[{},{}],this.programs={}}var v=m.prototype;function T(A,L,x){var E=A.createShader(L);if(A.shaderSource(E,x),A.compileShader(E),!A.getShaderParameter(E,A.COMPILE_STATUS)){var S=A.getShaderInfoLog(E);try{var a=o(S,x,L)}catch(C){throw console.warn("Failed to format compiler error: "+C),new e(S,`Error compiling shader:
`+S)}throw new e(S,a.short,a.long)}return E}v.getShaderReference=function(A,L){var x=this.gl,E=this.shaders[A===x.FRAGMENT_SHADER|0],S=E[L];if(!S||!x.isShader(S.shader)){var a=T(x,A,L);S=E[L]=new c(f++,L,A,a,[],1,this)}else S.count+=1;return S};function h(A,L,x,E,S){var a=A.createProgram();A.attachShader(a,L),A.attachShader(a,x);for(var C=0;C<E.length;++C)A.bindAttribLocation(a,S[C],E[C]);if(A.linkProgram(a),!A.getProgramParameter(a,A.LINK_STATUS)){var b=A.getProgramInfoLog(a);throw new e(b,"Error linking program: "+b)}return a}v.getProgram=function(A,L,x,E){var S=[A.id,L.id,x.join(":"),E.join(":")].join("@"),a=this.programs[S];return(!a||!this.gl.isProgram(a))&&(this.programs[S]=a=h(this.gl,A.shader,L.shader,x,E),A.programs.push(S),L.programs.push(S)),a};function i(A){var L=u.get(A);return L||(L=new m(A),u.set(A,L)),L}function p(A,L,x){return i(A).getShaderReference(L,x)}function w(A,L,x,E,S){return i(A).getProgram(L,x,E,S)}},4098:function(d){d.exports=e;function g(o){this.plot=o,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=g.prototype;r.update=function(o){o=o||{},this.enable=(o.enable||[!0,!0,!1,!1]).slice(),this.width=(o.width||[1,1,1,1]).slice(),this.color=(o.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(o.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var o=this.enable,n=this.width,u=this.color,f=this.center,c=this.plot,m=c.line,v=c.dataBox,T=c.viewBox;if(m.bind(),v[0]<=f[0]&&f[0]<=v[2]&&v[1]<=f[1]&&f[1]<=v[3]){var h=T[0]+(f[0]-v[0])/(v[2]-v[0])*(T[2]-T[0]),i=T[1]+(f[1]-v[1])/(v[3]-v[1])*(T[3]-T[1]);o[0]&&m.drawLine(h,i,T[0],i,n[0],u[0]),o[1]&&m.drawLine(h,i,h,T[1],n[1],u[1]),o[2]&&m.drawLine(h,i,T[2],i,n[2],u[2]),o[3]&&m.drawLine(h,i,h,T[3],n[3],u[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function e(o,n){var u=new g(o);return u.update(n),o.addOverlay(u),u}},1493:function(d,g,r){var e=r(3236),o=r(9405),n=e([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),u=e([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);d.exports=function(f){return o(f,n,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(d,g,r){var e=r(2762),o=r(8116),n=r(1493);d.exports=h;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(i,p,w,A){this.gl=i,this.buffer=p,this.vao=w,this.shader=A,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var c=f.prototype,m=[0,0,0],v=[0,0,0],T=[0,0];c.isTransparent=function(){return!1},c.drawTransparent=function(i){},c.draw=function(i){var p=this.gl,w=this.vao,A=this.shader;w.bind(),A.bind();var L=i.model||u,x=i.view||u,E=i.projection||u,S;this.axes&&(S=this.axes.lastCubeProps.axis);for(var a=m,C=v,b=0;b<3;++b)S&&S[b]<0?(a[b]=this.bounds[0][b],C[b]=this.bounds[1][b]):(a[b]=this.bounds[1][b],C[b]=this.bounds[0][b]);T[0]=p.drawingBufferWidth,T[1]=p.drawingBufferHeight,A.uniforms.model=L,A.uniforms.view=x,A.uniforms.projection=E,A.uniforms.coordinates=[this.position,a,C],A.uniforms.colors=this.colors,A.uniforms.screenShape=T;for(var b=0;b<3;++b)A.uniforms.lineWidth=this.lineWidth[b]*this.pixelRatio,this.enabled[b]&&(w.draw(p.TRIANGLES,6,6*b),this.drawSides[b]&&w.draw(p.TRIANGLES,12,18+12*b));w.unbind()},c.update=function(i){i&&("bounds"in i&&(this.bounds=i.bounds),"position"in i&&(this.position=i.position),"lineWidth"in i&&(this.lineWidth=i.lineWidth),"colors"in i&&(this.colors=i.colors),"enabled"in i&&(this.enabled=i.enabled),"drawSides"in i&&(this.drawSides=i.drawSides))},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(i,p){var w=[];function A(a,C,b,z,k,U){var F=[a,C,b,0,0,0,1];F[z+3]=1,F[z]=k,w.push.apply(w,F),F[6]=-1,w.push.apply(w,F),F[z]=U,w.push.apply(w,F),w.push.apply(w,F),F[6]=1,w.push.apply(w,F),F[z]=k,w.push.apply(w,F)}A(0,0,0,0,0,1),A(0,0,0,1,0,1),A(0,0,0,2,0,1),A(1,0,0,1,-1,1),A(1,0,0,2,-1,1),A(0,1,0,0,-1,1),A(0,1,0,2,-1,1),A(0,0,1,0,-1,1),A(0,0,1,1,-1,1);var L=e(i,w),x=o(i,[{type:i.FLOAT,buffer:L,size:3,offset:0,stride:28},{type:i.FLOAT,buffer:L,size:3,offset:12,stride:28},{type:i.FLOAT,buffer:L,size:1,offset:24,stride:28}]),E=n(i);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var S=new f(i,L,x,E);return S.update(p),S}},6740:function(d,g,r){var e=r(3236),o=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=e([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=e([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=e([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:o,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},g.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(d,g,r){var e=r(2931),o=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],u=function(w,A,L,x){for(var E=w.points,S=w.velocities,a=w.divergences,C=[],b=[],z=[],k=[],U=[],F=[],V=0,N=0,O=o.create(),H=o.create(),X=8,J=0;J<E.length;J++){var et=E[J],it=S[J],ft=a[J];A===0&&(ft=L*.05),N=e.length(it)/x,O=o.create(),e.copy(O,it),O[3]=ft;for(var ot=0;ot<X;ot++)U[ot]=[et[0],et[1],et[2],ot];if(k.length>0)for(var ot=0;ot<X;ot++){var Q=(ot+1)%X;C.push(k[ot],U[ot],U[Q],U[Q],k[Q],k[ot]),z.push(H,O,O,O,H,H),F.push(V,N,N,N,V,V);var tt=C.length;b.push([tt-6,tt-5,tt-4],[tt-3,tt-2,tt-1])}var Z=k;k=U,U=Z;var q=H;H=O,O=q;var ut=V;V=N,N=ut}return{positions:C,cells:b,vectors:z,vertexIntensity:F}},f=function(w,A,L,x){for(var E=0,S=0;S<w.length;S++)for(var a=w[S].velocities,C=0;C<a.length;C++)E=Math.max(E,e.length(a[C]));for(var b=w.map(function(J){return u(J,L,x,E)}),z=[],k=[],U=[],F=[],S=0;S<b.length;S++){var V=b[S],N=z.length;z=z.concat(V.positions),U=U.concat(V.vectors),F=F.concat(V.vertexIntensity);for(var C=0;C<V.cells.length;C++){var O=V.cells[C],H=[];k.push(H);for(var X=0;X<O.length;X++)H.push(O[X]+N)}}return{positions:z,cells:k,vectors:U,vertexIntensity:F,colormap:A}},c=function(w,A){var L=w.length,x;for(x=0;x<L;x++){var E=w[x];if(E===A)return x;if(E>A)return x-1}return x},m=function(w,A,L){return w<A?A:w>L?L:w},v=function(w,A,L){var x=A.vectors,E=A.meshgrid,S=w[0],a=w[1],C=w[2],b=E[0].length,z=E[1].length,k=E[2].length,U=c(E[0],S),F=c(E[1],a),V=c(E[2],C),N=U+1,O=F+1,H=V+1;if(U=m(U,0,b-1),N=m(N,0,b-1),F=m(F,0,z-1),O=m(O,0,z-1),V=m(V,0,k-1),H=m(H,0,k-1),U<0||F<0||V<0||N>b-1||O>z-1||H>k-1)return e.create();var X=E[0][U],J=E[0][N],et=E[1][F],it=E[1][O],ft=E[2][V],ot=E[2][H],Q=(S-X)/(J-X),tt=(a-et)/(it-et),Z=(C-ft)/(ot-ft);isFinite(Q)||(Q=.5),isFinite(tt)||(tt=.5),isFinite(Z)||(Z=.5);var q,ut,$,j,lt,nt;switch(L.reversedX&&(U=b-1-U,N=b-1-N),L.reversedY&&(F=z-1-F,O=z-1-O),L.reversedZ&&(V=k-1-V,H=k-1-H),L.filled){case 5:lt=V,nt=H,$=F*k,j=O*k,q=U*k*z,ut=N*k*z;break;case 4:lt=V,nt=H,q=U*k,ut=N*k,$=F*k*b,j=O*k*b;break;case 3:$=F,j=O,lt=V*z,nt=H*z,q=U*z*k,ut=N*z*k;break;case 2:$=F,j=O,q=U*z,ut=N*z,lt=V*z*b,nt=H*z*b;break;case 1:q=U,ut=N,lt=V*b,nt=H*b,$=F*b*k,j=O*b*k;break;default:q=U,ut=N,$=F*b,j=O*b,lt=V*b*z,nt=H*b*z;break}var ht=x[q+$+lt],mt=x[q+$+nt],At=x[q+j+lt],bt=x[q+j+nt],Pt=x[ut+$+lt],_t=x[ut+$+nt],Ut=x[ut+j+lt],St=x[ut+j+nt],Rt=e.create(),Et=e.create(),zt=e.create(),Ct=e.create();e.lerp(Rt,ht,Pt,Q),e.lerp(Et,mt,_t,Q),e.lerp(zt,At,Ut,Q),e.lerp(Ct,bt,St,Q);var Wt=e.create(),Kt=e.create();e.lerp(Wt,Rt,zt,tt),e.lerp(Kt,Et,Ct,tt);var oe=e.create();return e.lerp(oe,Wt,Kt,Z),oe},T=function(w){var A=1/0;w.sort(function(S,a){return S-a});for(var L=w.length,x=1;x<L;x++){var E=Math.abs(w[x]-w[x-1]);E<A&&(A=E)}return A},h=function(w){for(var A=[],L=[],x=[],E={},S={},a={},C=w.length,b=0;b<C;b++){var z=w[b],k=z[0],U=z[1],F=z[2];E[k]||(A.push(k),E[k]=!0),S[U]||(L.push(U),S[U]=!0),a[F]||(x.push(F),a[F]=!0)}var V=T(A),N=T(L),O=T(x),H=Math.min(V,N,O);return isFinite(H)?H:1};d.exports=function(w,A){var L=w.startingPositions,x=w.maxLength||1e3,E=w.tubeSize||1,S=w.absoluteTubeSize,a=w.gridFill||"+x+y+z",C={};a.indexOf("-x")!==-1&&(C.reversedX=!0),a.indexOf("-y")!==-1&&(C.reversedY=!0),a.indexOf("-z")!==-1&&(C.reversedZ=!0),C.filled=n.indexOf(a.replace(/-/g,"").replace(/\+/g,""));var b=w.getVelocity||function(_t){return v(_t,w,C)},z=w.getDivergence||function(_t,Ut){var St=e.create(),Rt=1e-4;e.add(St,_t,[Rt,0,0]);var Et=b(St);e.subtract(Et,Et,Ut),e.scale(Et,Et,1/Rt),e.add(St,_t,[0,Rt,0]);var zt=b(St);e.subtract(zt,zt,Ut),e.scale(zt,zt,1/Rt),e.add(St,_t,[0,0,Rt]);var Ct=b(St);return e.subtract(Ct,Ct,Ut),e.scale(Ct,Ct,1/Rt),e.add(St,Et,zt),e.add(St,St,Ct),St},k=[],U=A[0][0],F=A[0][1],V=A[0][2],N=A[1][0],O=A[1][1],H=A[1][2],X=function(_t){var Ut=_t[0],St=_t[1],Rt=_t[2];return!(Ut<U||Ut>N||St<F||St>O||Rt<V||Rt>H)},J=e.distance(A[0],A[1]),et=10*J/x,it=et*et,ft=1,ot=0,Q=L.length;Q>1&&(ft=h(L));for(var tt=0;tt<Q;tt++){var Z=e.create();e.copy(Z,L[tt]);var q=[Z],ut=[],$=b(Z),j=Z;ut.push($);var lt=[],nt=z(Z,$),ht=e.length(nt);isFinite(ht)&&ht>ot&&(ot=ht),lt.push(ht),k.push({points:q,velocities:ut,divergences:lt});for(var mt=0;mt<x*100&&q.length<x&&X(Z);){mt++;var At=e.clone($),bt=e.squaredLength(At);if(bt===0)break;if(bt>it&&e.scale(At,At,et/Math.sqrt(bt)),e.add(At,At,Z),$=b(At),e.squaredDistance(j,At)-it>-1e-4*it){q.push(At),j=At,ut.push($);var nt=z(At,$),ht=e.length(nt);isFinite(ht)&&ht>ot&&(ot=ht),lt.push(ht)}Z=At}}var Pt=f(k,w.colormap,ot,ft);return S?Pt.tubeScale=S:(ot===0&&(ot=1),Pt.tubeScale=E*.5*ft/ot),Pt};var i=r(6740),p=r(6405).createMesh;d.exports.createTubeMesh=function(w,A){return p(w,A,{shaders:i,traceType:"streamtube"})}},990:function(d,g,r){var e=r(9405),o=r(3236),n=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),f=o([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),c=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);g.createShader=function(m){var v=e(m,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v.attributes.normal.location=2,v},g.createPickShader=function(m){var v=e(m,n,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v.attributes.normal.location=2,v},g.createContourShader=function(m){var v=e(m,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v},g.createPickContourShader=function(m){var v=e(m,f,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v}},9499:function(d,g,r){d.exports=ut;var e=r(8828),o=r(2762),n=r(8116),u=r(7766),f=r(1888),c=r(6729),m=r(5298),v=r(9994),T=r(9618),h=r(3711),i=r(6760),p=r(7608),w=r(2478),A=r(6199),L=r(990),x=L.createShader,E=L.createContourShader,S=L.createPickShader,a=L.createPickContourShader,C=4*10,b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],z=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],k=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var $=0;$<3;++$){var j=k[$],lt=($+1)%3,nt=($+2)%3;j[lt+0]=1,j[nt+3]=1,j[$+6]=1}})();function U($,j,lt,nt,ht){this.position=$,this.index=j,this.uv=lt,this.level=nt,this.dataCoordinate=ht}var F=256;function V($,j,lt,nt,ht,mt,At,bt,Pt,_t,Ut,St,Rt,Et,zt){this.gl=$,this.shape=j,this.bounds=lt,this.objectOffset=zt,this.intensityBounds=[],this._shader=nt,this._pickShader=ht,this._coordinateBuffer=mt,this._vao=At,this._colorMap=bt,this._contourShader=Pt,this._contourPickShader=_t,this._contourBuffer=Ut,this._contourVAO=St,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new U([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Rt,this._dynamicVAO=Et,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(f.mallocFloat(1024),[0,0]),T(f.mallocFloat(1024),[0,0]),T(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var N=V.prototype;N.genColormap=function($,j){var lt=!1,nt=v([c({colormap:$,nshades:F,format:"rgba"}).map(function(ht,mt){var At=j?O(mt/255,j):ht[3];return At<1&&(lt=!0),[ht[0],ht[1],ht[2],255*At]})]);return m.divseq(nt,255),this.hasAlphaScale=lt,nt},N.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},N.isOpaque=function(){return!this.isTransparent()},N.pickSlots=1,N.setPickBase=function($){this.pickId=$};function O($,j){if(!j||!j.length)return 1;for(var lt=0;lt<j.length;++lt){if(j.length<2)return 1;if(j[lt][0]===$)return j[lt][1];if(j[lt][0]>$&&lt>0){var nt=(j[lt][0]-$)/(j[lt][0]-j[lt-1][0]);return j[lt][1]*(1-nt)+nt*j[lt-1][1]}}return 1}var H=[0,0,0],X={showSurface:!1,showContour:!1,projections:[b.slice(),b.slice(),b.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function J($,j){var lt,nt,ht,mt=j.axes&&j.axes.lastCubeProps.axis||H,At=j.showSurface,bt=j.showContour;for(lt=0;lt<3;++lt)for(At=At||j.surfaceProject[lt],nt=0;nt<3;++nt)bt=bt||j.contourProject[lt][nt];for(lt=0;lt<3;++lt){var Pt=X.projections[lt];for(nt=0;nt<16;++nt)Pt[nt]=0;for(nt=0;nt<4;++nt)Pt[5*nt]=1;Pt[5*lt]=0,Pt[12+lt]=j.axesBounds[+(mt[lt]>0)][lt],i(Pt,$.model,Pt);var _t=X.clipBounds[lt];for(ht=0;ht<2;++ht)for(nt=0;nt<3;++nt)_t[ht][nt]=$.clipBounds[ht][nt];_t[0][lt]=-1e8,_t[1][lt]=1e8}return X.showSurface=At,X.showContour=bt,X}var et={model:b,view:b,projection:b,inverseModel:b.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},it=b.slice(),ft=[1,0,0,0,1,0,0,0,1];function ot($,j){$=$||{};var lt=this.gl;lt.disable(lt.CULL_FACE),this._colorMap.bind(0);var nt=et;nt.model=$.model||b,nt.view=$.view||b,nt.projection=$.projection||b,nt.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],nt.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],nt.objectOffset=this.objectOffset,nt.contourColor=this.contourColor[0],nt.inverseModel=p(nt.inverseModel,nt.model);for(var ht=0;ht<2;++ht)for(var mt=nt.clipBounds[ht],At=0;At<3;++At)mt[At]=Math.min(Math.max(this.clipBounds[ht][At],-1e8),1e8);nt.kambient=this.ambientLight,nt.kdiffuse=this.diffuseLight,nt.kspecular=this.specularLight,nt.roughness=this.roughness,nt.fresnel=this.fresnel,nt.opacity=this.opacity,nt.height=0,nt.permutation=ft,nt.vertexColor=this.vertexColor;var bt=it;for(i(bt,nt.view,nt.model),i(bt,nt.projection,bt),p(bt,bt),ht=0;ht<3;++ht)nt.eyePosition[ht]=bt[12+ht]/bt[15];var Pt=bt[15];for(ht=0;ht<3;++ht)Pt+=this.lightPosition[ht]*bt[4*ht+3];for(ht=0;ht<3;++ht){var _t=bt[12+ht];for(At=0;At<3;++At)_t+=bt[4*At+ht]*this.lightPosition[At];nt.lightPosition[ht]=_t/Pt}var Ut=J(nt,this);if(Ut.showSurface){for(this._shader.bind(),this._shader.uniforms=nt,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(lt.TRIANGLES,this._vertexCount),ht=0;ht<3;++ht)!this.surfaceProject[ht]||!this.vertexCount||(this._shader.uniforms.model=Ut.projections[ht],this._shader.uniforms.clipBounds=Ut.clipBounds[ht],this._vao.draw(lt.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ut.showContour){var St=this._contourShader;nt.kambient=1,nt.kdiffuse=0,nt.kspecular=0,nt.opacity=1,St.bind(),St.uniforms=nt;var Rt=this._contourVAO;for(Rt.bind(),ht=0;ht<3;++ht)for(St.uniforms.permutation=k[ht],lt.lineWidth(this.contourWidth[ht]*this.pixelRatio),At=0;At<this.contourLevels[ht].length;++At)At===this.highlightLevel[ht]?(St.uniforms.contourColor=this.highlightColor[ht],St.uniforms.contourTint=this.highlightTint[ht]):(At===0||At-1===this.highlightLevel[ht])&&(St.uniforms.contourColor=this.contourColor[ht],St.uniforms.contourTint=this.contourTint[ht]),this._contourCounts[ht][At]&&(St.uniforms.height=this.contourLevels[ht][At],Rt.draw(lt.LINES,this._contourCounts[ht][At],this._contourOffsets[ht][At]));for(ht=0;ht<3;++ht)for(St.uniforms.model=Ut.projections[ht],St.uniforms.clipBounds=Ut.clipBounds[ht],At=0;At<3;++At)if(this.contourProject[ht][At]){St.uniforms.permutation=k[At],lt.lineWidth(this.contourWidth[At]*this.pixelRatio);for(var Et=0;Et<this.contourLevels[At].length;++Et)Et===this.highlightLevel[At]?(St.uniforms.contourColor=this.highlightColor[At],St.uniforms.contourTint=this.highlightTint[At]):(Et===0||Et-1===this.highlightLevel[At])&&(St.uniforms.contourColor=this.contourColor[At],St.uniforms.contourTint=this.contourTint[At]),this._contourCounts[At][Et]&&(St.uniforms.height=this.contourLevels[At][Et],Rt.draw(lt.LINES,this._contourCounts[At][Et],this._contourOffsets[At][Et]))}for(Rt.unbind(),Rt=this._dynamicVAO,Rt.bind(),ht=0;ht<3;++ht)if(this._dynamicCounts[ht]!==0)for(St.uniforms.model=nt.model,St.uniforms.clipBounds=nt.clipBounds,St.uniforms.permutation=k[ht],lt.lineWidth(this.dynamicWidth[ht]*this.pixelRatio),St.uniforms.contourColor=this.dynamicColor[ht],St.uniforms.contourTint=this.dynamicTint[ht],St.uniforms.height=this.dynamicLevel[ht],Rt.draw(lt.LINES,this._dynamicCounts[ht],this._dynamicOffsets[ht]),At=0;At<3;++At)this.contourProject[At][ht]&&(St.uniforms.model=Ut.projections[At],St.uniforms.clipBounds=Ut.clipBounds[At],Rt.draw(lt.LINES,this._dynamicCounts[ht],this._dynamicOffsets[ht]));Rt.unbind()}}N.draw=function($){return ot.call(this,$,!1)},N.drawTransparent=function($){return ot.call(this,$,!0)};var Q={model:b,view:b,projection:b,inverseModel:b,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};N.drawPick=function($){$=$||{};var j=this.gl;j.disable(j.CULL_FACE);var lt=Q;lt.model=$.model||b,lt.view=$.view||b,lt.projection=$.projection||b,lt.shape=this._field[2].shape,lt.pickId=this.pickId/255,lt.lowerBound=this.bounds[0],lt.upperBound=this.bounds[1],lt.objectOffset=this.objectOffset,lt.permutation=ft;for(var nt=0;nt<2;++nt)for(var ht=lt.clipBounds[nt],mt=0;mt<3;++mt)ht[mt]=Math.min(Math.max(this.clipBounds[nt][mt],-1e8),1e8);var At=J(lt,this);if(At.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=lt,this._vao.bind(),this._vao.draw(j.TRIANGLES,this._vertexCount),nt=0;nt<3;++nt)this.surfaceProject[nt]&&(this._pickShader.uniforms.model=At.projections[nt],this._pickShader.uniforms.clipBounds=At.clipBounds[nt],this._vao.draw(j.TRIANGLES,this._vertexCount));this._vao.unbind()}if(At.showContour){var bt=this._contourPickShader;bt.bind(),bt.uniforms=lt;var Pt=this._contourVAO;for(Pt.bind(),mt=0;mt<3;++mt)for(j.lineWidth(this.contourWidth[mt]*this.pixelRatio),bt.uniforms.permutation=k[mt],nt=0;nt<this.contourLevels[mt].length;++nt)this._contourCounts[mt][nt]&&(bt.uniforms.height=this.contourLevels[mt][nt],Pt.draw(j.LINES,this._contourCounts[mt][nt],this._contourOffsets[mt][nt]));for(nt=0;nt<3;++nt)for(bt.uniforms.model=At.projections[nt],bt.uniforms.clipBounds=At.clipBounds[nt],mt=0;mt<3;++mt)if(this.contourProject[nt][mt]){bt.uniforms.permutation=k[mt],j.lineWidth(this.contourWidth[mt]*this.pixelRatio);for(var _t=0;_t<this.contourLevels[mt].length;++_t)this._contourCounts[mt][_t]&&(bt.uniforms.height=this.contourLevels[mt][_t],Pt.draw(j.LINES,this._contourCounts[mt][_t],this._contourOffsets[mt][_t]))}Pt.unbind()}},N.pick=function($){if(!$||$.id!==this.pickId)return null;var j=this._field[2].shape,lt=this._pickResult,nt=j[0]*($.value[0]+($.value[2]>>4)/16)/255,ht=Math.floor(nt),mt=nt-ht,At=j[1]*($.value[1]+($.value[2]&15)/16)/255,bt=Math.floor(At),Pt=At-bt;ht+=1,bt+=1;var _t=lt.position;_t[0]=_t[1]=_t[2]=0;for(var Ut=0;Ut<2;++Ut)for(var St=Ut?mt:1-mt,Rt=0;Rt<2;++Rt)for(var Et=Rt?Pt:1-Pt,zt=ht+Ut,Ct=bt+Rt,Wt=St*Et,Kt=0;Kt<3;++Kt)_t[Kt]+=this._field[Kt].get(zt,Ct)*Wt;for(var oe=this._pickResult.level,Jt=0;Jt<3;++Jt)if(oe[Jt]=w.le(this.contourLevels[Jt],_t[Jt]),oe[Jt]<0)this.contourLevels[Jt].length>0&&(oe[Jt]=0);else if(oe[Jt]<this.contourLevels[Jt].length-1){var te=this.contourLevels[Jt][oe[Jt]],fe=this.contourLevels[Jt][oe[Jt]+1];Math.abs(te-_t[Jt])>Math.abs(fe-_t[Jt])&&(oe[Jt]+=1)}for(lt.index[0]=mt<.5?ht:ht+1,lt.index[1]=Pt<.5?bt:bt+1,lt.uv[0]=nt/j[0],lt.uv[1]=At/j[1],Kt=0;Kt<3;++Kt)lt.dataCoordinate[Kt]=this._field[Kt].get(lt.index[0],lt.index[1]);return lt},N.padField=function($,j){var lt=j.shape.slice(),nt=$.shape.slice();m.assign($.lo(1,1).hi(lt[0],lt[1]),j),m.assign($.lo(1).hi(lt[0],1),j.hi(lt[0],1)),m.assign($.lo(1,nt[1]-1).hi(lt[0],1),j.lo(0,lt[1]-1).hi(lt[0],1)),m.assign($.lo(0,1).hi(1,lt[1]),j.hi(1)),m.assign($.lo(nt[0]-1,1).hi(1,lt[1]),j.lo(lt[0]-1)),$.set(0,0,j.get(0,0)),$.set(0,nt[1]-1,j.get(0,lt[1]-1)),$.set(nt[0]-1,0,j.get(lt[0]-1,0)),$.set(nt[0]-1,nt[1]-1,j.get(lt[0]-1,lt[1]-1))};function tt($,j){return Array.isArray($)?[j($[0]),j($[1]),j($[2])]:[j($),j($),j($)]}function Z($){return Array.isArray($)?$.length===3?[$[0],$[1],$[2],1]:[$[0],$[1],$[2],$[3]]:[0,0,0,1]}function q($){if(Array.isArray($)){if(Array.isArray($))return[Z($[0]),Z($[1]),Z($[2])];var j=Z($);return[j.slice(),j.slice(),j.slice()]}}N.update=function($){$=$||{},this.objectOffset=$.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in $&&(this.contourWidth=tt($.contourWidth,Number)),"showContour"in $&&(this.showContour=tt($.showContour,Boolean)),"showSurface"in $&&(this.showSurface=!!$.showSurface),"contourTint"in $&&(this.contourTint=tt($.contourTint,Boolean)),"contourColor"in $&&(this.contourColor=q($.contourColor)),"contourProject"in $&&(this.contourProject=tt($.contourProject,function(Qt){return tt(Qt,Boolean)})),"surfaceProject"in $&&(this.surfaceProject=$.surfaceProject),"dynamicColor"in $&&(this.dynamicColor=q($.dynamicColor)),"dynamicTint"in $&&(this.dynamicTint=tt($.dynamicTint,Number)),"dynamicWidth"in $&&(this.dynamicWidth=tt($.dynamicWidth,Number)),"opacity"in $&&(this.opacity=$.opacity),"opacityscale"in $&&(this.opacityscale=$.opacityscale),"colorBounds"in $&&(this.colorBounds=$.colorBounds),"vertexColor"in $&&(this.vertexColor=$.vertexColor?1:0),"colormap"in $&&this._colorMap.setPixels(this.genColormap($.colormap,this.opacityscale));var j=$.field||$.coords&&$.coords[2]||null,lt=!1;if(j||(this._field[2].shape[0]||this._field[2].shape[2]?j=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):j=this._field[2].hi(0,0)),"field"in $||"coords"in $){var nt=(j.shape[0]+2)*(j.shape[1]+2);nt>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(e.nextPow2(nt))),this._field[2]=T(this._field[2].data,[j.shape[0]+2,j.shape[1]+2]),this.padField(this._field[2],j),this.shape=j.shape.slice();for(var ht=this.shape,mt=0;mt<2;++mt)this._field[2].size>this._field[mt].data.length&&(f.freeFloat(this._field[mt].data),this._field[mt].data=f.mallocFloat(this._field[2].size)),this._field[mt]=T(this._field[mt].data,[ht[0]+2,ht[1]+2]);if($.coords){var At=$.coords;if(!Array.isArray(At)||At.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(mt=0;mt<2;++mt){var bt=At[mt];for(Rt=0;Rt<2;++Rt)if(bt.shape[Rt]!==ht[Rt])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[mt],bt)}}else if($.ticks){var Pt=$.ticks;if(!Array.isArray(Pt)||Pt.length!==2)throw new Error("gl-surface: invalid ticks");for(mt=0;mt<2;++mt){var _t=Pt[mt];if((Array.isArray(_t)||_t.length)&&(_t=T(_t)),_t.shape[0]!==ht[mt])throw new Error("gl-surface: invalid tick length");var Ut=T(_t.data,ht);Ut.stride[mt]=_t.stride[0],Ut.stride[mt^1]=0,this.padField(this._field[mt],Ut)}}else{for(mt=0;mt<2;++mt){var St=[0,0];St[mt]=1,this._field[mt]=T(this._field[mt].data,[ht[0]+2,ht[1]+2],St,0)}this._field[0].set(0,0,0);for(var Rt=0;Rt<ht[0];++Rt)this._field[0].set(Rt+1,0,Rt);for(this._field[0].set(ht[0]+1,0,ht[0]-1),this._field[1].set(0,0,0),Rt=0;Rt<ht[1];++Rt)this._field[1].set(0,Rt+1,Rt);this._field[1].set(0,ht[1]+1,ht[1]-1)}var Et=this._field,zt=T(f.mallocFloat(Et[2].size*3*2),[3,ht[0]+2,ht[1]+2,2]);for(mt=0;mt<3;++mt)A(zt.pick(mt),Et[mt],"mirror");var Ct=T(f.mallocFloat(Et[2].size*3),[ht[0]+2,ht[1]+2,3]);for(mt=0;mt<ht[0]+2;++mt)for(Rt=0;Rt<ht[1]+2;++Rt){var Wt=zt.get(0,mt,Rt,0),Kt=zt.get(0,mt,Rt,1),oe=zt.get(1,mt,Rt,0),Jt=zt.get(1,mt,Rt,1),te=zt.get(2,mt,Rt,0),fe=zt.get(2,mt,Rt,1),ve=oe*fe-Jt*te,de=te*Kt-fe*Wt,xe=Wt*Jt-Kt*oe,Me=Math.sqrt(ve*ve+de*de+xe*xe);Me<1e-8?(Me=Math.max(Math.abs(ve),Math.abs(de),Math.abs(xe)),Me<1e-8?(xe=1,de=ve=0,Me=1):Me=1/Me):Me=1/Math.sqrt(Me),Ct.set(mt,Rt,0,ve*Me),Ct.set(mt,Rt,1,de*Me),Ct.set(mt,Rt,2,xe*Me)}f.free(zt.data);var ne=[1/0,1/0,1/0],kt=[-1/0,-1/0,-1/0],Gt=1/0,Yt=-1/0,Zt=(ht[0]-1)*(ht[1]-1)*6,It=f.mallocFloat(e.nextPow2(10*Zt)),Nt=0,Ht=0;for(mt=0;mt<ht[0]-1;++mt)t:for(Rt=0;Rt<ht[1]-1;++Rt){for(var Lt=0;Lt<2;++Lt)for(var dt=0;dt<2;++dt)for(var xt=0;xt<3;++xt){var Ot=this._field[xt].get(1+mt+Lt,1+Rt+dt);if(isNaN(Ot)||!isFinite(Ot))continue t}for(xt=0;xt<6;++xt){var jt=mt+z[xt][0],ie=Rt+z[xt][1],le=this._field[0].get(jt+1,ie+1),Ve=this._field[1].get(jt+1,ie+1);Ot=this._field[2].get(jt+1,ie+1),ve=Ct.get(jt+1,ie+1,0),de=Ct.get(jt+1,ie+1,1),xe=Ct.get(jt+1,ie+1,2),$.intensity&&(je=$.intensity.get(jt,ie));var je=$.intensity?$.intensity.get(jt,ie):Ot+this.objectOffset[2];It[Nt++]=jt,It[Nt++]=ie,It[Nt++]=le,It[Nt++]=Ve,It[Nt++]=Ot,It[Nt++]=0,It[Nt++]=je,It[Nt++]=ve,It[Nt++]=de,It[Nt++]=xe,ne[0]=Math.min(ne[0],le+this.objectOffset[0]),ne[1]=Math.min(ne[1],Ve+this.objectOffset[1]),ne[2]=Math.min(ne[2],Ot+this.objectOffset[2]),Gt=Math.min(Gt,je),kt[0]=Math.max(kt[0],le+this.objectOffset[0]),kt[1]=Math.max(kt[1],Ve+this.objectOffset[1]),kt[2]=Math.max(kt[2],Ot+this.objectOffset[2]),Yt=Math.max(Yt,je),Ht+=1}}for($.intensityBounds&&(Gt=+$.intensityBounds[0],Yt=+$.intensityBounds[1]),mt=6;mt<Nt;mt+=10)It[mt]=(It[mt]-Gt)/(Yt-Gt);this._vertexCount=Ht,this._coordinateBuffer.update(It.subarray(0,Nt)),f.freeFloat(It),f.free(Ct.data),this.bounds=[ne,kt],this.intensity=$.intensity||this._field[2],(this.intensityBounds[0]!==Gt||this.intensityBounds[1]!==Yt)&&(lt=!0),this.intensityBounds=[Gt,Yt]}if("levels"in $){var Te=$.levels;for(Array.isArray(Te[0])?Te=Te.slice():Te=[[],[],Te],mt=0;mt<3;++mt)Te[mt]=Te[mt].slice(),Te[mt].sort(function(Qt,re){return Qt-re});for(mt=0;mt<3;++mt)for(Rt=0;Rt<Te[mt].length;++Rt)Te[mt][Rt]-=this.objectOffset[mt];t:for(mt=0;mt<3;++mt){if(Te[mt].length!==this.contourLevels[mt].length){lt=!0;break}for(Rt=0;Rt<Te[mt].length;++Rt)if(Te[mt][Rt]!==this.contourLevels[mt][Rt]){lt=!0;break t}}this.contourLevels=Te}if(lt){Et=this._field,ht=this.shape;for(var Le=[],Ke=0;Ke<3;++Ke){var vr=this.contourLevels[Ke],ge=[],Xe=[],$e=[0,0,0];for(mt=0;mt<vr.length;++mt){var mr=h(this._field[Ke],vr[mt]);ge.push(Le.length/5|0),Ht=0;t:for(Rt=0;Rt<mr.cells.length;++Rt){var or=mr.cells[Rt];for(xt=0;xt<2;++xt){var ye=mr.positions[or[xt]],ue=ye[0],be=Math.floor(ue)|0,Ee=ue-be,_e=ye[1],Oe=Math.floor(_e)|0,Fe=_e-Oe,Be=!1;e:for(var Je=0;Je<3;++Je){$e[Je]=0;var hr=(Ke+Je+1)%3;for(Lt=0;Lt<2;++Lt){var cr=Lt?Ee:1-Ee;for(jt=Math.min(Math.max(be+Lt,0),ht[0])|0,dt=0;dt<2;++dt){var dr=dt?Fe:1-Fe;if(ie=Math.min(Math.max(Oe+dt,0),ht[1])|0,Je<2?Ot=this._field[hr].get(jt,ie):Ot=(this.intensity.get(jt,ie)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ot)||isNaN(Ot)){Be=!0;break e}var fr=cr*dr;$e[Je]+=fr*Ot}}}if(!Be)Le.push($e[0],$e[1],ye[0],ye[1],$e[2]),Ht+=1;else{if(xt>0){for(var Lr=0;Lr<5;++Lr)Le.pop();Ht-=1}continue t}}}Xe.push(Ht)}this._contourOffsets[Ke]=ge,this._contourCounts[Ke]=Xe}var xr=f.mallocFloat(Le.length);for(mt=0;mt<Le.length;++mt)xr[mt]=Le[mt];this._contourBuffer.update(xr),f.freeFloat(xr)}},N.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var $=0;$<3;++$)f.freeFloat(this._field[$].data)},N.highlight=function($){var j;if(!$){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(j=0;j<3;++j)this.enableHighlight[j]?this.highlightLevel[j]=$.level[j]:this.highlightLevel[j]=-1;var lt;for(this.snapToData?lt=$.dataCoordinate:lt=$.position,j=0;j<3;++j)lt[j]-=this.objectOffset[j];if(!((!this.enableDynamic[0]||lt[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||lt[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||lt[2]===this.dynamicLevel[2]))){for(var nt=0,ht=this.shape,mt=f.mallocFloat(12*ht[0]*ht[1]),At=0;At<3;++At){if(!this.enableDynamic[At]){this.dynamicLevel[At]=NaN,this._dynamicCounts[At]=0;continue}this.dynamicLevel[At]=lt[At];var bt=(At+1)%3,Pt=(At+2)%3,_t=this._field[At],Ut=this._field[bt],St=this._field[Pt],Rt=h(_t,lt[At]),Et=Rt.cells,zt=Rt.positions;for(this._dynamicOffsets[At]=nt,j=0;j<Et.length;++j)for(var Ct=Et[j],Wt=0;Wt<2;++Wt){var Kt=zt[Ct[Wt]],oe=+Kt[0],Jt=oe|0,te=Math.min(Jt+1,ht[0])|0,fe=oe-Jt,ve=1-fe,de=+Kt[1],xe=de|0,Me=Math.min(xe+1,ht[1])|0,ne=de-xe,kt=1-ne,Gt=ve*kt,Yt=ve*ne,Zt=fe*kt,It=fe*ne,Nt=Gt*Ut.get(Jt,xe)+Yt*Ut.get(Jt,Me)+Zt*Ut.get(te,xe)+It*Ut.get(te,Me),Ht=Gt*St.get(Jt,xe)+Yt*St.get(Jt,Me)+Zt*St.get(te,xe)+It*St.get(te,Me);if(isNaN(Nt)||isNaN(Ht)){Wt&&(nt-=1);break}mt[2*nt+0]=Nt,mt[2*nt+1]=Ht,nt+=1}this._dynamicCounts[At]=nt-this._dynamicOffsets[At]}this._dynamicBuffer.update(mt.subarray(0,2*nt)),f.freeFloat(mt)}};function ut($){var j=$.gl,lt=x(j),nt=S(j),ht=E(j),mt=a(j),At=o(j),bt=n(j,[{buffer:At,size:4,stride:C,offset:0},{buffer:At,size:3,stride:C,offset:16},{buffer:At,size:3,stride:C,offset:28}]),Pt=o(j),_t=n(j,[{buffer:Pt,size:4,stride:20,offset:0},{buffer:Pt,size:1,stride:20,offset:16}]),Ut=o(j),St=n(j,[{buffer:Ut,size:2,type:j.FLOAT}]),Rt=u(j,1,F,j.RGBA,j.UNSIGNED_BYTE);Rt.minFilter=j.LINEAR,Rt.magFilter=j.LINEAR;var Et=new V(j,[0,0],[[0,0,0],[0,0,0]],lt,nt,At,bt,Rt,ht,mt,Pt,_t,Ut,St,[0,0,0]),zt={levels:[[],[],[]]};for(var Ct in $)zt[Ct]=$[Ct];return zt.colormap=zt.colormap||"jet",Et.update(zt),Et}},7766:function(d,g,r){var e=r(9618),o=r(5298),n=r(1888);d.exports=a;var u=null,f=null,c=null;function m(C){u=[C.LINEAR,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_NEAREST],f=[C.NEAREST,C.LINEAR,C.NEAREST_MIPMAP_NEAREST,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_LINEAR],c=[C.REPEAT,C.CLAMP_TO_EDGE,C.MIRRORED_REPEAT]}function v(C){return typeof HTMLCanvasElement<"u"&&C instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&C instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&C instanceof HTMLVideoElement||typeof ImageData<"u"&&C instanceof ImageData}var T=function(C,b){o.muls(C,b,255)};function h(C,b,z){var k=C.gl,U=k.getParameter(k.MAX_TEXTURE_SIZE);if(b<0||b>U||z<0||z>U)throw new Error("gl-texture2d: Invalid texture size");return C._shape=[b,z],C.bind(),k.texImage2D(k.TEXTURE_2D,0,C.format,b,z,0,C.format,C.type,null),C._mipLevels=[0],C}function i(C,b,z,k,U,F){this.gl=C,this.handle=b,this.format=U,this.type=F,this._shape=[z,k],this._mipLevels=[0],this._magFilter=C.NEAREST,this._minFilter=C.NEAREST,this._wrapS=C.CLAMP_TO_EDGE,this._wrapT=C.CLAMP_TO_EDGE,this._anisoSamples=1;var V=this,N=[this._wrapS,this._wrapT];Object.defineProperties(N,[{get:function(){return V._wrapS},set:function(H){return V.wrapS=H}},{get:function(){return V._wrapT},set:function(H){return V.wrapT=H}}]),this._wrapVector=N;var O=[this._shape[0],this._shape[1]];Object.defineProperties(O,[{get:function(){return V._shape[0]},set:function(H){return V.width=H}},{get:function(){return V._shape[1]},set:function(H){return V.height=H}}]),this._shapeVector=O}var p=i.prototype;Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(C){this.bind();var b=this.gl;if(this.type===b.FLOAT&&u.indexOf(C)>=0&&(b.getExtension("OES_texture_float_linear")||(C=b.NEAREST)),f.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,C),this._minFilter=C}},magFilter:{get:function(){return this._magFilter},set:function(C){this.bind();var b=this.gl;if(this.type===b.FLOAT&&u.indexOf(C)>=0&&(b.getExtension("OES_texture_float_linear")||(C=b.NEAREST)),f.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,C),this._magFilter=C}},mipSamples:{get:function(){return this._anisoSamples},set:function(C){var b=this._anisoSamples;if(this._anisoSamples=Math.max(C,1)|0,b!==this._anisoSamples){var z=this.gl.getExtension("EXT_texture_filter_anisotropic");z&&this.gl.texParameterf(this.gl.TEXTURE_2D,z.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(C){if(this.bind(),c.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,C),this._wrapS=C}},wrapT:{get:function(){return this._wrapT},set:function(C){if(this.bind(),c.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,C),this._wrapT=C}},wrap:{get:function(){return this._wrapVector},set:function(C){if(Array.isArray(C)||(C=[C,C]),C.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;b<2;++b)if(c.indexOf(C[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);this._wrapS=C[0],this._wrapT=C[1];var z=this.gl;return this.bind(),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,this._wrapS),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,this._wrapT),C}},shape:{get:function(){return this._shapeVector},set:function(C){if(!Array.isArray(C))C=[C|0,C|0];else if(C.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return h(this,C[0]|0,C[1]|0),[C[0]|0,C[1]|0]}},width:{get:function(){return this._shape[0]},set:function(C){return C=C|0,h(this,C,this._shape[1]),C}},height:{get:function(){return this._shape[1]},set:function(C){return C=C|0,h(this,this._shape[0],C),C}}}),p.bind=function(C){var b=this.gl;return C!==void 0&&b.activeTexture(b.TEXTURE0+(C|0)),b.bindTexture(b.TEXTURE_2D,this.handle),C!==void 0?C|0:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var C=Math.min(this._shape[0],this._shape[1]),b=0;C>0;++b,C>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},p.setPixels=function(C,b,z,k){var U=this.gl;this.bind(),Array.isArray(b)?(k=z,z=b[1]|0,b=b[0]|0):(b=b||0,z=z||0),k=k||0;var F=v(C)?C:C.raw;if(F){var V=this._mipLevels.indexOf(k)<0;V?(U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,this.type,F),this._mipLevels.push(k)):U.texSubImage2D(U.TEXTURE_2D,k,b,z,this.format,this.type,F)}else if(C.shape&&C.stride&&C.data){if(C.shape.length<2||b+C.shape[1]>this._shape[1]>>>k||z+C.shape[0]>this._shape[0]>>>k||b<0||z<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");A(U,b,z,k,this.format,this.type,this._mipLevels,C)}else throw new Error("gl-texture2d: Unsupported data type")};function w(C,b){return C.length===3?b[2]===1&&b[1]===C[0]*C[2]&&b[0]===C[2]:b[0]===1&&b[1]===C[0]}function A(C,b,z,k,U,F,V,N){var O=N.dtype,H=N.shape.slice();if(H.length<2||H.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var X=0,J=0,et=w(H,N.stride.slice());if(O==="float32"?X=C.FLOAT:O==="float64"?(X=C.FLOAT,et=!1,O="float32"):O==="uint8"?X=C.UNSIGNED_BYTE:(X=C.UNSIGNED_BYTE,et=!1,O="uint8"),H.length===2)J=C.LUMINANCE,H=[H[0],H[1],1],N=e(N.data,H,[N.stride[0],N.stride[1],1],N.offset);else if(H.length===3){if(H[2]===1)J=C.ALPHA;else if(H[2]===2)J=C.LUMINANCE_ALPHA;else if(H[2]===3)J=C.RGB;else if(H[2]===4)J=C.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");H[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((J===C.LUMINANCE||J===C.ALPHA)&&(U===C.LUMINANCE||U===C.ALPHA)&&(J=U),J!==U)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var it=N.size,ft=V.indexOf(k)<0;if(ft&&V.push(k),X===F&&et)N.offset===0&&N.data.length===it?ft?C.texImage2D(C.TEXTURE_2D,k,U,H[0],H[1],0,U,F,N.data):C.texSubImage2D(C.TEXTURE_2D,k,b,z,H[0],H[1],U,F,N.data):ft?C.texImage2D(C.TEXTURE_2D,k,U,H[0],H[1],0,U,F,N.data.subarray(N.offset,N.offset+it)):C.texSubImage2D(C.TEXTURE_2D,k,b,z,H[0],H[1],U,F,N.data.subarray(N.offset,N.offset+it));else{var ot;F===C.FLOAT?ot=n.mallocFloat32(it):ot=n.mallocUint8(it);var Q=e(ot,H,[H[2],H[2]*H[0],1]);X===C.FLOAT&&F===C.UNSIGNED_BYTE?T(Q,N):o.assign(Q,N),ft?C.texImage2D(C.TEXTURE_2D,k,U,H[0],H[1],0,U,F,ot.subarray(0,it)):C.texSubImage2D(C.TEXTURE_2D,k,b,z,H[0],H[1],U,F,ot.subarray(0,it)),F===C.FLOAT?n.freeFloat32(ot):n.freeUint8(ot)}}function L(C){var b=C.createTexture();return C.bindTexture(C.TEXTURE_2D,b),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE),b}function x(C,b,z,k,U){var F=C.getParameter(C.MAX_TEXTURE_SIZE);if(b<0||b>F||z<0||z>F)throw new Error("gl-texture2d: Invalid texture shape");if(U===C.FLOAT&&!C.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var V=L(C);return C.texImage2D(C.TEXTURE_2D,0,k,b,z,0,k,U,null),new i(C,V,b,z,k,U)}function E(C,b,z,k,U,F){var V=L(C);return C.texImage2D(C.TEXTURE_2D,0,U,U,F,b),new i(C,V,z,k,U,F)}function S(C,b){var z=b.dtype,k=b.shape.slice(),U=C.getParameter(C.MAX_TEXTURE_SIZE);if(k[0]<0||k[0]>U||k[1]<0||k[1]>U)throw new Error("gl-texture2d: Invalid texture size");var F=w(k,b.stride.slice()),V=0;z==="float32"?V=C.FLOAT:z==="float64"?(V=C.FLOAT,F=!1,z="float32"):z==="uint8"?V=C.UNSIGNED_BYTE:(V=C.UNSIGNED_BYTE,F=!1,z="uint8");var N=0;if(k.length===2)N=C.LUMINANCE,k=[k[0],k[1],1],b=e(b.data,k,[b.stride[0],b.stride[1],1],b.offset);else if(k.length===3)if(k[2]===1)N=C.ALPHA;else if(k[2]===2)N=C.LUMINANCE_ALPHA;else if(k[2]===3)N=C.RGB;else if(k[2]===4)N=C.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");V===C.FLOAT&&!C.getExtension("OES_texture_float")&&(V=C.UNSIGNED_BYTE,F=!1);var O,H,X=b.size;if(F)b.offset===0&&b.data.length===X?O=b.data:O=b.data.subarray(b.offset,b.offset+X);else{var J=[k[2],k[2]*k[0],1];H=n.malloc(X,z);var et=e(H,k,J,0);(z==="float32"||z==="float64")&&V===C.UNSIGNED_BYTE?T(et,b):o.assign(et,b),O=H.subarray(0,X)}var it=L(C);return C.texImage2D(C.TEXTURE_2D,0,N,k[0],k[1],0,N,V,O),F||n.free(H),new i(C,it,k[0],k[1],N,V)}function a(C){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||m(C),typeof arguments[1]=="number")return x(C,arguments[1],arguments[2],arguments[3]||C.RGBA,arguments[4]||C.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(C,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var b=arguments[1],z=v(b)?b:b.raw;if(z)return E(C,z,b.width|0,b.height|0,arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return S(C,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(d){function g(r,e,o){e?e.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(o){if(o.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var u=0;u<o.length;++u){var f=o[u];if(f.buffer){var c=f.buffer,m=f.size||4,v=f.type||r.FLOAT,T=!!f.normalized,h=f.stride||0,i=f.offset||0;c.bind(),r.enableVertexAttribArray(u),r.vertexAttribPointer(u,m,v,T,h,i)}else{if(typeof f=="number")r.vertexAttrib1f(u,f);else if(f.length===1)r.vertexAttrib1f(u,f[0]);else if(f.length===2)r.vertexAttrib2f(u,f[0],f[1]);else if(f.length===3)r.vertexAttrib3f(u,f[0],f[1],f[2]);else if(f.length===4)r.vertexAttrib4f(u,f[0],f[1],f[2],f[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(u)}}for(;u<n;++u)r.disableVertexAttribArray(u)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var u=0;u<n;++u)r.disableVertexAttribArray(u)}}d.exports=g},870:function(d,g,r){var e=r(1433);function o(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}o.prototype.bind=function(){e(this.gl,this._elements,this._attributes)},o.prototype.update=function(u,f,c){this._elements=f,this._attributes=u,this._elementsType=c||this.gl.UNSIGNED_SHORT},o.prototype.dispose=function(){},o.prototype.unbind=function(){},o.prototype.draw=function(u,f,c){c=c||0;var m=this.gl;this._elements?m.drawElements(u,f,this._elementsType,c):m.drawArrays(u,c,f)};function n(u){return new o(u)}d.exports=n},7518:function(d,g,r){var e=r(1433);function o(f,c,m,v,T,h){this.location=f,this.dimension=c,this.a=m,this.b=v,this.c=T,this.d=h}o.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(f,c,m){this.gl=f,this._ext=c,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(f,c,m){if(this.bind(),e(this.gl,c,f),this.unbind(),this._attribs.length=0,f)for(var v=0;v<f.length;++v){var T=f[v];typeof T=="number"?this._attribs.push(new o(v,1,T)):Array.isArray(T)&&this._attribs.push(new o(v,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!c,this._elementsType=m||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(f,c,m){m=m||0;var v=this.gl;this._useElements?v.drawElements(f,c,this._elementsType,m):v.drawArrays(f,m,c)};function u(f,c){return new n(f,c,c.createVertexArrayOES())}d.exports=u},8116:function(d,g,r){var e=r(7518),o=r(870);function n(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}function u(f,c,m,v){var T=f.createVertexArray?new n(f):f.getExtension("OES_vertex_array_object"),h;return T?h=e(f,T):h=o(f),h.update(c,m,v),h}d.exports=u},5632:function(d){d.exports=g;function g(r,e,o){return r[0]=e[0]+o[0],r[1]=e[1]+o[1],r[2]=e[2]+o[2],r}},8192:function(d,g,r){d.exports=u;var e=r(2825),o=r(3536),n=r(244);function u(f,c){var m=e(f[0],f[1],f[2]),v=e(c[0],c[1],c[2]);o(m,m),o(v,v);var T=n(m,v);return T>1?0:Math.acos(T)}},9226:function(d){d.exports=g;function g(r,e){return r[0]=Math.ceil(e[0]),r[1]=Math.ceil(e[1]),r[2]=Math.ceil(e[2]),r}},3126:function(d){d.exports=g;function g(r){var e=new Float32Array(3);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}},3990:function(d){d.exports=g;function g(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r}},1091:function(d){d.exports=g;function g(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(d){d.exports=g;function g(r,e,o){var n=e[0],u=e[1],f=e[2],c=o[0],m=o[1],v=o[2];return r[0]=u*v-f*m,r[1]=f*c-n*v,r[2]=n*m-u*c,r}},5455:function(d,g,r){d.exports=r(7056)},7056:function(d){d.exports=g;function g(r,e){var o=e[0]-r[0],n=e[1]-r[1],u=e[2]-r[2];return Math.sqrt(o*o+n*n+u*u)}},4008:function(d,g,r){d.exports=r(6690)},6690:function(d){d.exports=g;function g(r,e,o){return r[0]=e[0]/o[0],r[1]=e[1]/o[1],r[2]=e[2]/o[2],r}},244:function(d){d.exports=g;function g(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}},2613:function(d){d.exports=1e-6},9922:function(d,g,r){d.exports=o;var e=r(2613);function o(n,u){var f=n[0],c=n[1],m=n[2],v=u[0],T=u[1],h=u[2];return Math.abs(f-v)<=e*Math.max(1,Math.abs(f),Math.abs(v))&&Math.abs(c-T)<=e*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(m-h)<=e*Math.max(1,Math.abs(m),Math.abs(h))}},9265:function(d){d.exports=g;function g(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]}},2681:function(d){d.exports=g;function g(r,e){return r[0]=Math.floor(e[0]),r[1]=Math.floor(e[1]),r[2]=Math.floor(e[2]),r}},5137:function(d,g,r){d.exports=o;var e=r(1091)();function o(n,u,f,c,m,v){var T,h;for(u||(u=3),f||(f=0),c?h=Math.min(c*u+f,n.length):h=n.length,T=f;T<h;T+=u)e[0]=n[T],e[1]=n[T+1],e[2]=n[T+2],m(e,e,v),n[T]=e[0],n[T+1]=e[1],n[T+2]=e[2];return n}},2825:function(d){d.exports=g;function g(r,e,o){var n=new Float32Array(3);return n[0]=r,n[1]=e,n[2]=o,n}},2931:function(d,g,r){d.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(d){d.exports=g;function g(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r}},868:function(d,g,r){d.exports=r(1387)},1387:function(d){d.exports=g;function g(r){var e=r[0],o=r[1],n=r[2];return Math.sqrt(e*e+o*o+n*n)}},6658:function(d){d.exports=g;function g(r,e,o,n){var u=e[0],f=e[1],c=e[2];return r[0]=u+n*(o[0]-u),r[1]=f+n*(o[1]-f),r[2]=c+n*(o[2]-c),r}},7417:function(d){d.exports=g;function g(r,e,o){return r[0]=Math.max(e[0],o[0]),r[1]=Math.max(e[1],o[1]),r[2]=Math.max(e[2],o[2]),r}},8107:function(d){d.exports=g;function g(r,e,o){return r[0]=Math.min(e[0],o[0]),r[1]=Math.min(e[1],o[1]),r[2]=Math.min(e[2],o[2]),r}},4505:function(d,g,r){d.exports=r(5847)},5847:function(d){d.exports=g;function g(r,e,o){return r[0]=e[0]*o[0],r[1]=e[1]*o[1],r[2]=e[2]*o[2],r}},5093:function(d){d.exports=g;function g(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r}},3536:function(d){d.exports=g;function g(r,e){var o=e[0],n=e[1],u=e[2],f=o*o+n*n+u*u;return f>0&&(f=1/Math.sqrt(f),r[0]=e[0]*f,r[1]=e[1]*f,r[2]=e[2]*f),r}},7636:function(d){d.exports=g;function g(r,e){e=e||1;var o=Math.random()*2*Math.PI,n=Math.random()*2-1,u=Math.sqrt(1-n*n)*e;return r[0]=Math.cos(o)*u,r[1]=Math.sin(o)*u,r[2]=n*e,r}},6894:function(d){d.exports=g;function g(r,e,o,n){var u=o[1],f=o[2],c=e[1]-u,m=e[2]-f,v=Math.sin(n),T=Math.cos(n);return r[0]=e[0],r[1]=u+c*T-m*v,r[2]=f+c*v+m*T,r}},109:function(d){d.exports=g;function g(r,e,o,n){var u=o[0],f=o[2],c=e[0]-u,m=e[2]-f,v=Math.sin(n),T=Math.cos(n);return r[0]=u+m*v+c*T,r[1]=e[1],r[2]=f+m*T-c*v,r}},8692:function(d){d.exports=g;function g(r,e,o,n){var u=o[0],f=o[1],c=e[0]-u,m=e[1]-f,v=Math.sin(n),T=Math.cos(n);return r[0]=u+c*T-m*v,r[1]=f+c*v+m*T,r[2]=e[2],r}},2447:function(d){d.exports=g;function g(r,e){return r[0]=Math.round(e[0]),r[1]=Math.round(e[1]),r[2]=Math.round(e[2]),r}},6621:function(d){d.exports=g;function g(r,e,o){return r[0]=e[0]*o,r[1]=e[1]*o,r[2]=e[2]*o,r}},8489:function(d){d.exports=g;function g(r,e,o,n){return r[0]=e[0]+o[0]*n,r[1]=e[1]+o[1]*n,r[2]=e[2]+o[2]*n,r}},1463:function(d){d.exports=g;function g(r,e,o,n){return r[0]=e,r[1]=o,r[2]=n,r}},6141:function(d,g,r){d.exports=r(2953)},5486:function(d,g,r){d.exports=r(3066)},2953:function(d){d.exports=g;function g(r,e){var o=e[0]-r[0],n=e[1]-r[1],u=e[2]-r[2];return o*o+n*n+u*u}},3066:function(d){d.exports=g;function g(r){var e=r[0],o=r[1],n=r[2];return e*e+o*o+n*n}},2229:function(d,g,r){d.exports=r(6843)},6843:function(d){d.exports=g;function g(r,e,o){return r[0]=e[0]-o[0],r[1]=e[1]-o[1],r[2]=e[2]-o[2],r}},492:function(d){d.exports=g;function g(r,e,o){var n=e[0],u=e[1],f=e[2];return r[0]=n*o[0]+u*o[3]+f*o[6],r[1]=n*o[1]+u*o[4]+f*o[7],r[2]=n*o[2]+u*o[5]+f*o[8],r}},5673:function(d){d.exports=g;function g(r,e,o){var n=e[0],u=e[1],f=e[2],c=o[3]*n+o[7]*u+o[11]*f+o[15];return c=c||1,r[0]=(o[0]*n+o[4]*u+o[8]*f+o[12])/c,r[1]=(o[1]*n+o[5]*u+o[9]*f+o[13])/c,r[2]=(o[2]*n+o[6]*u+o[10]*f+o[14])/c,r}},264:function(d){d.exports=g;function g(r,e,o){var n=e[0],u=e[1],f=e[2],c=o[0],m=o[1],v=o[2],T=o[3],h=T*n+m*f-v*u,i=T*u+v*n-c*f,p=T*f+c*u-m*n,w=-c*n-m*u-v*f;return r[0]=h*T+w*-c+i*-v-p*-m,r[1]=i*T+w*-m+p*-c-h*-v,r[2]=p*T+w*-v+h*-m-i*-c,r}},4361:function(d){d.exports=g;function g(r,e,o){return r[0]=e[0]+o[0],r[1]=e[1]+o[1],r[2]=e[2]+o[2],r[3]=e[3]+o[3],r}},2335:function(d){d.exports=g;function g(r){var e=new Float32Array(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}},2933:function(d){d.exports=g;function g(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}},7536:function(d){d.exports=g;function g(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(d){d.exports=g;function g(r,e){var o=e[0]-r[0],n=e[1]-r[1],u=e[2]-r[2],f=e[3]-r[3];return Math.sqrt(o*o+n*n+u*u+f*f)}},1373:function(d){d.exports=g;function g(r,e,o){return r[0]=e[0]/o[0],r[1]=e[1]/o[1],r[2]=e[2]/o[2],r[3]=e[3]/o[3],r}},3750:function(d){d.exports=g;function g(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3]}},3390:function(d){d.exports=g;function g(r,e,o,n){var u=new Float32Array(4);return u[0]=r,u[1]=e,u[2]=o,u[3]=n,u}},9970:function(d,g,r){d.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(d){d.exports=g;function g(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r[3]=1/e[3],r}},6808:function(d){d.exports=g;function g(r){var e=r[0],o=r[1],n=r[2],u=r[3];return Math.sqrt(e*e+o*o+n*n+u*u)}},2573:function(d){d.exports=g;function g(r,e,o,n){var u=e[0],f=e[1],c=e[2],m=e[3];return r[0]=u+n*(o[0]-u),r[1]=f+n*(o[1]-f),r[2]=c+n*(o[2]-c),r[3]=m+n*(o[3]-m),r}},160:function(d){d.exports=g;function g(r,e,o){return r[0]=Math.max(e[0],o[0]),r[1]=Math.max(e[1],o[1]),r[2]=Math.max(e[2],o[2]),r[3]=Math.max(e[3],o[3]),r}},2334:function(d){d.exports=g;function g(r,e,o){return r[0]=Math.min(e[0],o[0]),r[1]=Math.min(e[1],o[1]),r[2]=Math.min(e[2],o[2]),r[3]=Math.min(e[3],o[3]),r}},3576:function(d){d.exports=g;function g(r,e,o){return r[0]=e[0]*o[0],r[1]=e[1]*o[1],r[2]=e[2]*o[2],r[3]=e[3]*o[3],r}},1498:function(d){d.exports=g;function g(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r}},5177:function(d){d.exports=g;function g(r,e){var o=e[0],n=e[1],u=e[2],f=e[3],c=o*o+n*n+u*u+f*f;return c>0&&(c=1/Math.sqrt(c),r[0]=o*c,r[1]=n*c,r[2]=u*c,r[3]=f*c),r}},9131:function(d,g,r){var e=r(5177),o=r(9288);d.exports=n;function n(u,f){return f=f||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),e(u,u),o(u,u,f),u}},9288:function(d){d.exports=g;function g(r,e,o){return r[0]=e[0]*o,r[1]=e[1]*o,r[2]=e[2]*o,r[3]=e[3]*o,r}},4844:function(d){d.exports=g;function g(r,e,o,n){return r[0]=e[0]+o[0]*n,r[1]=e[1]+o[1]*n,r[2]=e[2]+o[2]*n,r[3]=e[3]+o[3]*n,r}},4578:function(d){d.exports=g;function g(r,e,o,n,u){return r[0]=e,r[1]=o,r[2]=n,r[3]=u,r}},7960:function(d){d.exports=g;function g(r,e){var o=e[0]-r[0],n=e[1]-r[1],u=e[2]-r[2],f=e[3]-r[3];return o*o+n*n+u*u+f*f}},483:function(d){d.exports=g;function g(r){var e=r[0],o=r[1],n=r[2],u=r[3];return e*e+o*o+n*n+u*u}},6860:function(d){d.exports=g;function g(r,e,o){return r[0]=e[0]-o[0],r[1]=e[1]-o[1],r[2]=e[2]-o[2],r[3]=e[3]-o[3],r}},5352:function(d){d.exports=g;function g(r,e,o){var n=e[0],u=e[1],f=e[2],c=e[3];return r[0]=o[0]*n+o[4]*u+o[8]*f+o[12]*c,r[1]=o[1]*n+o[5]*u+o[9]*f+o[13]*c,r[2]=o[2]*n+o[6]*u+o[10]*f+o[14]*c,r[3]=o[3]*n+o[7]*u+o[11]*f+o[15]*c,r}},4041:function(d){d.exports=g;function g(r,e,o){var n=e[0],u=e[1],f=e[2],c=o[0],m=o[1],v=o[2],T=o[3],h=T*n+m*f-v*u,i=T*u+v*n-c*f,p=T*f+c*u-m*n,w=-c*n-m*u-v*f;return r[0]=h*T+w*-c+i*-v-p*-m,r[1]=i*T+w*-m+p*-c-h*-v,r[2]=p*T+w*-v+h*-m-i*-c,r[3]=e[3],r}},1848:function(d,g,r){var e=r(4905),o=r(6468);d.exports=n;function n(u){for(var f=Array.isArray(u)?u:e(u),c=0;c<f.length;c++){var m=f[c];if(m.type==="preprocessor"){var v=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(v&&v[2]){var T=v[1],h=v[2];return(T?o(h):h).trim()}}}}},5874:function(d,g,r){d.exports=b;var e=r(620),o=r(7827),n=r(6852),u=r(7932),f=r(3508),c=999,m=9999,v=0,T=1,h=2,i=3,p=4,w=5,A=6,L=7,x=8,E=9,S=10,a=11,C=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function b(z){var k=0,U=0,F=c,V,N,O=[],H=[],X=1,J=0,et=0,it=!1,ft=!1,ot="",Q;z=z||{};var tt=n,Z=e;z.version==="300 es"&&(tt=f,Z=u);for(var q={},ut={},k=0;k<tt.length;k++)q[tt[k]]=!0;for(var k=0;k<Z.length;k++)ut[Z[k]]=!0;return function(zt){return H=[],zt!==null?j(zt):lt()};function $(zt){zt.length&&H.push({type:C[F],data:zt,position:et,line:X,column:J})}function j(zt){k=0,zt.toString&&(zt=zt.toString()),ot+=zt.replace(/\r\n/g,`
`),Q=ot.length;for(var Ct;V=ot[k],k<Q;){switch(Ct=k,F){case v:k=bt();break;case T:k=At();break;case h:k=mt();break;case i:k=Pt();break;case p:k=St();break;case a:k=Ut();break;case w:k=Rt();break;case m:k=Et();break;case E:k=ht();break;case c:k=nt();break}if(Ct!==k)switch(ot[Ct]){case`
`:J=0,++X;break;default:++J;break}}return U+=k,ot=ot.slice(k),H}function lt(zt){return O.length&&$(O.join("")),F=S,$("(eof)"),H}function nt(){return O=O.length?[]:O,N==="/"&&V==="*"?(et=U+k-1,F=v,N=V,k+1):N==="/"&&V==="/"?(et=U+k-1,F=T,N=V,k+1):V==="#"?(F=h,et=U+k,k):/\s/.test(V)?(F=E,et=U+k,k):(it=/\d/.test(V),ft=/[^\w_]/.test(V),et=U+k,F=it?p:ft?i:m,k)}function ht(){return/[^\s]/g.test(V)?($(O.join("")),F=c,k):(O.push(V),N=V,k+1)}function mt(){return(V==="\r"||V===`
`)&&N!=="\\"?($(O.join("")),F=c,k):(O.push(V),N=V,k+1)}function At(){return mt()}function bt(){return V==="/"&&N==="*"?(O.push(V),$(O.join("")),F=c,k+1):(O.push(V),N=V,k+1)}function Pt(){if(N==="."&&/\d/.test(V))return F=w,k;if(N==="/"&&V==="*")return F=v,k;if(N==="/"&&V==="/")return F=T,k;if(V==="."&&O.length){for(;_t(O););return F=w,k}if(V===";"||V===")"||V==="("){if(O.length)for(;_t(O););return $(V),F=c,k+1}var zt=O.length===2&&V!=="=";if(/[\w_\d\s]/.test(V)||zt){for(;_t(O););return F=c,k}return O.push(V),N=V,k+1}function _t(zt){var Ct=0,Wt,Kt;do{if(Wt=o.indexOf(zt.slice(0,zt.length+Ct).join("")),Kt=o[Wt],Wt===-1){if(Ct--+zt.length>0)continue;Kt=zt.slice(0,1).join("")}return $(Kt),et+=Kt.length,O=O.slice(Kt.length),O.length}while(!0)}function Ut(){return/[^a-fA-F0-9]/.test(V)?($(O.join("")),F=c,k):(O.push(V),N=V,k+1)}function St(){return V==="."||/[eE]/.test(V)?(O.push(V),F=w,N=V,k+1):V==="x"&&O.length===1&&O[0]==="0"?(F=a,O.push(V),N=V,k+1):/[^\d]/.test(V)?($(O.join("")),F=c,k):(O.push(V),N=V,k+1)}function Rt(){return V==="f"&&(O.push(V),N=V,k+=1),/[eE]/.test(V)||(V==="-"||V==="+")&&/[eE]/.test(N)?(O.push(V),N=V,k+1):/[^\d]/.test(V)?($(O.join("")),F=c,k):(O.push(V),N=V,k+1)}function Et(){if(/[^\d\w_]/.test(V)){var zt=O.join("");return ut[zt]?F=x:q[zt]?F=L:F=A,$(O.join("")),F=c,k}return O.push(V),N=V,k+1}}},3508:function(d,g,r){var e=r(6852);e=e.slice().filter(function(o){return!/^(gl\_|texture)/.test(o)}),d.exports=e.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(d){d.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(d,g,r){var e=r(620);d.exports=e.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(d){d.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(d){d.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(d,g,r){var e=r(5874);d.exports=o;function o(n,u){var f=e(u),c=[];return c=c.concat(f(n)),c=c.concat(f(null)),c}},3236:function(d){d.exports=function(g){typeof g=="string"&&(g=[g]);for(var r=[].slice.call(arguments,1),e=[],o=0;o<g.length-1;o++)e.push(g[o],r[o]||"");return e.push(g[o]),e.join("")}},7520:function(d,g,r){var e=r(9507);function o(){var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{n=!1}return n}d.exports=e&&o()},3778:function(d,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(r,e,o,n,u){var f,c,m=u*8-n-1,v=(1<<m)-1,T=v>>1,h=-7,i=o?u-1:0,p=o?-1:1,w=r[e+i];for(i+=p,f=w&(1<<-h)-1,w>>=-h,h+=m;h>0;f=f*256+r[e+i],i+=p,h-=8);for(c=f&(1<<-h)-1,f>>=-h,h+=n;h>0;c=c*256+r[e+i],i+=p,h-=8);if(f===0)f=1-T;else{if(f===v)return c?NaN:(w?-1:1)*(1/0);c=c+Math.pow(2,n),f=f-T}return(w?-1:1)*c*Math.pow(2,f-n)},g.write=function(r,e,o,n,u,f){var c,m,v,T=f*8-u-1,h=(1<<T)-1,i=h>>1,p=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:f-1,A=n?1:-1,L=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(m=isNaN(e)?1:0,c=h):(c=Math.floor(Math.log(e)/Math.LN2),e*(v=Math.pow(2,-c))<1&&(c--,v*=2),c+i>=1?e+=p/v:e+=p*Math.pow(2,1-i),e*v>=2&&(c++,v/=2),c+i>=h?(m=0,c=h):c+i>=1?(m=(e*v-1)*Math.pow(2,u),c=c+i):(m=e*Math.pow(2,i-1)*Math.pow(2,u),c=0));u>=8;r[o+w]=m&255,w+=A,m/=256,u-=8);for(c=c<<u|m,T+=u;T>0;r[o+w]=c&255,w+=A,c/=256,T-=8);r[o+w-A]|=L*128}},8954:function(d,g,r){d.exports=i;var e=r(3250),o=r(6803).Fw;function n(p,w,A){this.vertices=p,this.adjacent=w,this.boundary=A,this.lastVisited=-1}n.prototype.flip=function(){var p=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=p;var w=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=w};function u(p,w,A){this.vertices=p,this.cell=w,this.index=A}function f(p,w){return o(p.vertices,w.vertices)}function c(p){return function(){var w=this.tuple;return p.apply(this,w)}}function m(p){var w=e[p+1];return w||(w=e),c(w)}var v=[];function T(p,w,A){this.dimension=p,this.vertices=w,this.simplices=A,this.interior=A.filter(function(E){return!E.boundary}),this.tuple=new Array(p+1);for(var L=0;L<=p;++L)this.tuple[L]=this.vertices[L];var x=v[p];x||(x=v[p]=m(p)),this.orient=x}var h=T.prototype;h.handleBoundaryDegeneracy=function(p,w){var A=this.dimension,L=this.vertices.length-1,x=this.tuple,E=this.vertices,S=[p];for(p.lastVisited=-L;S.length>0;){p=S.pop();for(var a=p.adjacent,C=0;C<=A;++C){var b=a[C];if(!(!b.boundary||b.lastVisited<=-L)){for(var z=b.vertices,k=0;k<=A;++k){var U=z[k];U<0?x[k]=w:x[k]=E[U]}var F=this.orient();if(F>0)return b;b.lastVisited=-L,F===0&&S.push(b)}}}return null},h.walk=function(p,w){var A=this.vertices.length-1,L=this.dimension,x=this.vertices,E=this.tuple,S=w?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[S];t:for(;!a.boundary;){for(var C=a.vertices,b=a.adjacent,z=0;z<=L;++z)E[z]=x[C[z]];a.lastVisited=A;for(var z=0;z<=L;++z){var k=b[z];if(!(k.lastVisited>=A)){var U=E[z];E[z]=p;var F=this.orient();if(E[z]=U,F<0){a=k;continue t}else k.boundary?k.lastVisited=-A:k.lastVisited=A}}return}return a},h.addPeaks=function(p,w){var A=this.vertices.length-1,L=this.dimension,x=this.vertices,E=this.tuple,S=this.interior,a=this.simplices,C=[w];w.lastVisited=A,w.vertices[w.vertices.indexOf(-1)]=A,w.boundary=!1,S.push(w);for(var b=[];C.length>0;){var w=C.pop(),z=w.vertices,k=w.adjacent,U=z.indexOf(A);if(!(U<0)){for(var F=0;F<=L;++F)if(F!==U){var V=k[F];if(!(!V.boundary||V.lastVisited>=A)){var N=V.vertices;if(V.lastVisited!==-A){for(var O=0,H=0;H<=L;++H)N[H]<0?(O=H,E[H]=p):E[H]=x[N[H]];var X=this.orient();if(X>0){N[O]=A,V.boundary=!1,S.push(V),C.push(V),V.lastVisited=A;continue}else V.lastVisited=-A}var J=V.adjacent,et=z.slice(),it=k.slice(),ft=new n(et,it,!0);a.push(ft);var ot=J.indexOf(w);if(!(ot<0)){J[ot]=ft,it[U]=V,et[F]=-1,it[F]=w,k[F]=ft,ft.flip();for(var H=0;H<=L;++H){var Q=et[H];if(!(Q<0||Q===A)){for(var tt=new Array(L-1),Z=0,q=0;q<=L;++q){var ut=et[q];ut<0||q===H||(tt[Z++]=ut)}b.push(new u(tt,ft,H))}}}}}}}b.sort(f);for(var F=0;F+1<b.length;F+=2){var $=b[F],j=b[F+1],lt=$.index,nt=j.index;lt<0||nt<0||($.cell.adjacent[$.index]=j.cell,j.cell.adjacent[j.index]=$.cell)}},h.insert=function(p,w){var A=this.vertices;A.push(p);var L=this.walk(p,w);if(L){for(var x=this.dimension,E=this.tuple,S=0;S<=x;++S){var a=L.vertices[S];a<0?E[S]=p:E[S]=A[a]}var C=this.orient(E);C<0||C===0&&(L=this.handleBoundaryDegeneracy(L,p),!L)||this.addPeaks(p,L)}},h.boundary=function(){for(var p=this.dimension,w=[],A=this.simplices,L=A.length,x=0;x<L;++x){var E=A[x];if(E.boundary){for(var S=new Array(p),a=E.vertices,C=0,b=0,z=0;z<=p;++z)a[z]>=0?S[C++]=a[z]:b=z&1;if(b===(p&1)){var k=S[0];S[0]=S[1],S[1]=k}w.push(S)}}return w};function i(p,w){var A=p.length;if(A===0)throw new Error("Must have at least d+1 points");var L=p[0].length;if(A<=L)throw new Error("Must input at least d+1 points");var x=p.slice(0,L+1),E=e.apply(void 0,x);if(E===0)throw new Error("Input not in general position");for(var S=new Array(L+1),a=0;a<=L;++a)S[a]=a;E<0&&(S[0]=1,S[1]=0);for(var C=new n(S,new Array(L+1),!1),b=C.adjacent,z=new Array(L+2),a=0;a<=L;++a){for(var k=S.slice(),U=0;U<=L;++U)U===a&&(k[U]=-1);var F=k[0];k[0]=k[1],k[1]=F;var V=new n(k,new Array(L+1),!0);b[a]=V,z[a]=V}z[L+1]=C;for(var a=0;a<=L;++a)for(var k=b[a].vertices,N=b[a].adjacent,U=0;U<=L;++U){var O=k[U];if(O<0){N[U]=C;continue}for(var H=0;H<=L;++H)b[H].vertices.indexOf(O)<0&&(N[U]=b[H])}for(var X=new T(L,x,z),J=!!w,a=L+1;a<A;++a)X.insert(p[a],J);return X.boundary()}},3352:function(d,g,r){var e=r(2478),o=0,n=1,u=2;d.exports=C;function f(b,z,k,U,F){this.mid=b,this.left=z,this.right=k,this.leftPoints=U,this.rightPoints=F,this.count=(z?z.count:0)+(k?k.count:0)+U.length}var c=f.prototype;function m(b,z){b.mid=z.mid,b.left=z.left,b.right=z.right,b.leftPoints=z.leftPoints,b.rightPoints=z.rightPoints,b.count=z.count}function v(b,z){var k=E(z);b.mid=k.mid,b.left=k.left,b.right=k.right,b.leftPoints=k.leftPoints,b.rightPoints=k.rightPoints,b.count=k.count}function T(b,z){var k=b.intervals([]);k.push(z),v(b,k)}function h(b,z){var k=b.intervals([]),U=k.indexOf(z);return U<0?o:(k.splice(U,1),v(b,k),n)}c.intervals=function(b){return b.push.apply(b,this.leftPoints),this.left&&this.left.intervals(b),this.right&&this.right.intervals(b),b},c.insert=function(b){var z=this.count-this.leftPoints.length;if(this.count+=1,b[1]<this.mid)this.left?4*(this.left.count+1)>3*(z+1)?T(this,b):this.left.insert(b):this.left=E([b]);else if(b[0]>this.mid)this.right?4*(this.right.count+1)>3*(z+1)?T(this,b):this.right.insert(b):this.right=E([b]);else{var k=e.ge(this.leftPoints,b,L),U=e.ge(this.rightPoints,b,x);this.leftPoints.splice(k,0,b),this.rightPoints.splice(U,0,b)}},c.remove=function(b){var z=this.count-this.leftPoints;if(b[1]<this.mid){if(!this.left)return o;var k=this.right?this.right.count:0;if(4*k>3*(z-1))return h(this,b);var U=this.left.remove(b);return U===u?(this.left=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else if(b[0]>this.mid){if(!this.right)return o;var F=this.left?this.left.count:0;if(4*F>3*(z-1))return h(this,b);var U=this.right.remove(b);return U===u?(this.right=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else{if(this.count===1)return this.leftPoints[0]===b?u:o;if(this.leftPoints.length===1&&this.leftPoints[0]===b){if(this.left&&this.right){for(var V=this,N=this.left;N.right;)V=N,N=N.right;if(V===this)N.right=this.right;else{var O=this.left,U=this.right;V.count-=N.count,V.right=N.left,N.left=O,N.right=U}m(this,N),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return n}for(var O=e.ge(this.leftPoints,b,L);O<this.leftPoints.length&&this.leftPoints[O][0]===b[0];++O)if(this.leftPoints[O]===b){this.count-=1,this.leftPoints.splice(O,1);for(var U=e.ge(this.rightPoints,b,x);U<this.rightPoints.length&&this.rightPoints[U][1]===b[1];++U)if(this.rightPoints[U]===b)return this.rightPoints.splice(U,1),n}return o}};function i(b,z,k){for(var U=0;U<b.length&&b[U][0]<=z;++U){var F=k(b[U]);if(F)return F}}function p(b,z,k){for(var U=b.length-1;U>=0&&b[U][1]>=z;--U){var F=k(b[U]);if(F)return F}}function w(b,z){for(var k=0;k<b.length;++k){var U=z(b[k]);if(U)return U}}c.queryPoint=function(b,z){if(b<this.mid){if(this.left){var k=this.left.queryPoint(b,z);if(k)return k}return i(this.leftPoints,b,z)}else if(b>this.mid){if(this.right){var k=this.right.queryPoint(b,z);if(k)return k}return p(this.rightPoints,b,z)}else return w(this.leftPoints,z)},c.queryInterval=function(b,z,k){if(b<this.mid&&this.left){var U=this.left.queryInterval(b,z,k);if(U)return U}if(z>this.mid&&this.right){var U=this.right.queryInterval(b,z,k);if(U)return U}return z<this.mid?i(this.leftPoints,z,k):b>this.mid?p(this.rightPoints,b,k):w(this.leftPoints,k)};function A(b,z){return b-z}function L(b,z){var k=b[0]-z[0];return k||b[1]-z[1]}function x(b,z){var k=b[1]-z[1];return k||b[0]-z[0]}function E(b){if(b.length===0)return null;for(var z=[],k=0;k<b.length;++k)z.push(b[k][0],b[k][1]);z.sort(A);for(var U=z[z.length>>1],F=[],V=[],N=[],k=0;k<b.length;++k){var O=b[k];O[1]<U?F.push(O):U<O[0]?V.push(O):N.push(O)}var H=N,X=N.slice();return H.sort(L),X.sort(x),new f(U,E(F),E(V),H,X)}function S(b){this.root=b}var a=S.prototype;a.insert=function(b){this.root?this.root.insert(b):this.root=new f(b[0],null,null,[b],[b])},a.remove=function(b){if(this.root){var z=this.root.remove(b);return z===u&&(this.root=null),z!==o}return!1},a.queryPoint=function(b,z){if(this.root)return this.root.queryPoint(b,z)},a.queryInterval=function(b,z,k){if(b<=z&&this.root)return this.root.queryInterval(b,z,k)},Object.defineProperty(a,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(a,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function C(b){return!b||b.length===0?new S(null):new S(E(b))}},7762:function(d){function g(r){for(var e=new Array(r),o=0;o<r;++o)e[o]=o;return e}d.exports=g},9507:function(d){d.exports=!0},7163:function(d){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/d.exports=function(e){return e!=null&&(g(e)||r(e)||!!e._isBuffer)};function g(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function r(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&g(e.slice(0,0))}},5219:function(d){d.exports=function(g){for(var r=g.length,e,o=0;o<r;o++)if(e=g.charCodeAt(o),(e<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},395:function(d){function g(r,e,o){return r*(1-o)+e*o}d.exports=g},2652:function(d,g,r){var e=r(4335),o=r(6864),n=r(1903),u=r(9921),f=r(7608),c=r(5665),m={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},v=o(),T=o(),h=[0,0,0,0],i=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];d.exports=function(E,S,a,C,b,z){if(S||(S=[0,0,0]),a||(a=[0,0,0]),C||(C=[0,0,0]),b||(b=[0,0,0,1]),z||(z=[0,0,0,1]),!e(v,E)||(n(T,v),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(u(T)<1e-8)))return!1;var k=v[3],U=v[7],F=v[11],V=v[12],N=v[13],O=v[14],H=v[15];if(k!==0||U!==0||F!==0){h[0]=k,h[1]=U,h[2]=F,h[3]=H;var X=f(T,T);if(!X)return!1;c(T,T),w(b,h,T)}else b[0]=b[1]=b[2]=0,b[3]=1;if(S[0]=V,S[1]=N,S[2]=O,A(i,v),a[0]=m.length(i[0]),m.normalize(i[0],i[0]),C[0]=m.dot(i[0],i[1]),L(i[1],i[1],i[0],1,-C[0]),a[1]=m.length(i[1]),m.normalize(i[1],i[1]),C[0]/=a[1],C[1]=m.dot(i[0],i[2]),L(i[2],i[2],i[0],1,-C[1]),C[2]=m.dot(i[1],i[2]),L(i[2],i[2],i[1],1,-C[2]),a[2]=m.length(i[2]),m.normalize(i[2],i[2]),C[1]/=a[2],C[2]/=a[2],m.cross(p,i[1],i[2]),m.dot(i[0],p)<0)for(var J=0;J<3;J++)a[J]*=-1,i[J][0]*=-1,i[J][1]*=-1,i[J][2]*=-1;return z[0]=.5*Math.sqrt(Math.max(1+i[0][0]-i[1][1]-i[2][2],0)),z[1]=.5*Math.sqrt(Math.max(1-i[0][0]+i[1][1]-i[2][2],0)),z[2]=.5*Math.sqrt(Math.max(1-i[0][0]-i[1][1]+i[2][2],0)),z[3]=.5*Math.sqrt(Math.max(1+i[0][0]+i[1][1]+i[2][2],0)),i[2][1]>i[1][2]&&(z[0]=-z[0]),i[0][2]>i[2][0]&&(z[1]=-z[1]),i[1][0]>i[0][1]&&(z[2]=-z[2]),!0};function w(x,E,S){var a=E[0],C=E[1],b=E[2],z=E[3];return x[0]=S[0]*a+S[4]*C+S[8]*b+S[12]*z,x[1]=S[1]*a+S[5]*C+S[9]*b+S[13]*z,x[2]=S[2]*a+S[6]*C+S[10]*b+S[14]*z,x[3]=S[3]*a+S[7]*C+S[11]*b+S[15]*z,x}function A(x,E){x[0][0]=E[0],x[0][1]=E[1],x[0][2]=E[2],x[1][0]=E[4],x[1][1]=E[5],x[1][2]=E[6],x[2][0]=E[8],x[2][1]=E[9],x[2][2]=E[10]}function L(x,E,S,a,C){x[0]=E[0]*a+S[0]*C,x[1]=E[1]*a+S[1]*C,x[2]=E[2]*a+S[2]*C}},4335:function(d){d.exports=function(r,e){var o=e[15];if(o===0)return!1;for(var n=1/o,u=0;u<16;u++)r[u]=e[u]*n;return!0}},7442:function(d,g,r){var e=r(6658),o=r(7182),n=r(2652),u=r(9921),f=r(8648),c=h(),m=h(),v=h();d.exports=T;function T(w,A,L,x){if(u(A)===0||u(L)===0)return!1;var E=n(A,c.translate,c.scale,c.skew,c.perspective,c.quaternion),S=n(L,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!E||!S?!1:(e(v.translate,c.translate,m.translate,x),e(v.skew,c.skew,m.skew,x),e(v.scale,c.scale,m.scale,x),e(v.perspective,c.perspective,m.perspective,x),f(v.quaternion,c.quaternion,m.quaternion,x),o(w,v.translate,v.scale,v.skew,v.perspective,v.quaternion),!0)}function h(){return{translate:i(),scale:i(1),skew:i(),perspective:p(),quaternion:p()}}function i(w){return[w||0,w||0,w||0]}function p(){return[0,0,0,1]}},7182:function(d,g,r){var e={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};e.create();var o=e.create();d.exports=function(u,f,c,m,v,T){return e.identity(u),e.fromRotationTranslation(u,T,f),u[3]=v[0],u[7]=v[1],u[11]=v[2],u[15]=v[3],e.identity(o),m[2]!==0&&(o[9]=m[2],e.multiply(u,u,o)),m[1]!==0&&(o[9]=0,o[8]=m[1],e.multiply(u,u,o)),m[0]!==0&&(o[8]=0,o[4]=m[0],e.multiply(u,u,o)),e.scale(u,u,c),u}},4192:function(d,g,r){var e=r(2478),o=r(7442),n=r(7608),u=r(5567),f=r(2408),c=r(7089),m=r(6582),v=r(7656);r(2504);var T=r(3536),h=[0,0,0];d.exports=A;function i(L){this._components=L.slice(),this._time=[0],this.prevMatrix=L.slice(),this.nextMatrix=L.slice(),this.computedMatrix=L.slice(),this.computedInverse=L.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var p=i.prototype;p.recalcMatrix=function(L){var x=this._time,E=e.le(x,L),S=this.computedMatrix;if(!(E<0)){var a=this._components;if(E===x.length-1)for(var C=16*E,b=0;b<16;++b)S[b]=a[C++];else{for(var z=x[E+1]-x[E],C=16*E,k=this.prevMatrix,U=!0,b=0;b<16;++b)k[b]=a[C++];for(var F=this.nextMatrix,b=0;b<16;++b)F[b]=a[C++],U=U&&k[b]===F[b];if(z<1e-6||U)for(var b=0;b<16;++b)S[b]=k[b];else o(S,k,F,(L-x[E])/z)}var V=this.computedUp;V[0]=S[1],V[1]=S[5],V[2]=S[9],T(V,V);var N=this.computedInverse;n(N,S);var O=this.computedEye,H=N[15];O[0]=N[12]/H,O[1]=N[13]/H,O[2]=N[14]/H;for(var X=this.computedCenter,J=Math.exp(this.computedRadius[0]),b=0;b<3;++b)X[b]=O[b]-S[2+4*b]*J}},p.idle=function(L){if(!(L<this.lastT())){for(var x=this._components,E=x.length-16,S=0;S<16;++S)x.push(x[E++]);this._time.push(L)}},p.flush=function(L){var x=e.gt(this._time,L)-2;x<0||(this._time.splice(0,x),this._components.splice(0,16*x))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(L,x,E,S){this.recalcMatrix(L),x=x||this.computedEye,E=E||h,S=S||this.computedUp,this.setMatrix(L,m(this.computedMatrix,x,E,S));for(var a=0,C=0;C<3;++C)a+=Math.pow(E[C]-x[C],2);a=Math.log(Math.sqrt(a)),this.computedRadius[0]=a},p.rotate=function(L,x,E,S){this.recalcMatrix(L);var a=this.computedInverse;x&&f(a,a,x),E&&u(a,a,E),S&&c(a,a,S),this.setMatrix(L,n(this.computedMatrix,a))};var w=[0,0,0];p.pan=function(L,x,E,S){w[0]=-(x||0),w[1]=-(E||0),w[2]=-(S||0),this.recalcMatrix(L);var a=this.computedInverse;v(a,a,w),this.setMatrix(L,n(a,a))},p.translate=function(L,x,E,S){w[0]=x||0,w[1]=E||0,w[2]=S||0,this.recalcMatrix(L);var a=this.computedMatrix;v(a,a,w),this.setMatrix(L,a)},p.setMatrix=function(L,x){if(!(L<this.lastT())){this._time.push(L);for(var E=0;E<16;++E)this._components.push(x[E])}},p.setDistance=function(L,x){this.computedRadius[0]=x},p.setDistanceLimits=function(L,x){var E=this._limits;E[0]=L,E[1]=x},p.getDistanceLimits=function(L){var x=this._limits;return L?(L[0]=x[0],L[1]=x[1],L):x};function A(L){L=L||{};var x=L.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new i(x)}},3090:function(d,g,r){d.exports=o;var e=r(3250)[3];function o(n){var u=n.length;if(u<3){for(var p=new Array(u),f=0;f<u;++f)p[f]=f;return u===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:p}for(var c=new Array(u),f=0;f<u;++f)c[f]=f;c.sort(function(x,E){var S=n[x][0]-n[E][0];return S||n[x][1]-n[E][1]});for(var m=[c[0],c[1]],v=[c[0],c[1]],f=2;f<u;++f){for(var T=c[f],h=n[T],i=m.length;i>1&&e(n[m[i-2]],n[m[i-1]],h)<=0;)i-=1,m.pop();for(m.push(T),i=v.length;i>1&&e(n[v[i-2]],n[v[i-1]],h)>=0;)i-=1,v.pop();v.push(T)}for(var p=new Array(v.length+m.length-2),w=0,f=0,A=m.length;f<A;++f)p[w++]=m[f];for(var L=v.length-2;L>0;--L)p[w++]=v[L];return p}},351:function(d,g,r){d.exports=o;var e=r(4687);function o(n,u){u||(u=n,n=window);var f=0,c=0,m=0,v={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function h(b){var z=!1;return"altKey"in b&&(z=z||b.altKey!==v.alt,v.alt=!!b.altKey),"shiftKey"in b&&(z=z||b.shiftKey!==v.shift,v.shift=!!b.shiftKey),"ctrlKey"in b&&(z=z||b.ctrlKey!==v.control,v.control=!!b.ctrlKey),"metaKey"in b&&(z=z||b.metaKey!==v.meta,v.meta=!!b.metaKey),z}function i(b,z){var k=e.x(z),U=e.y(z);"buttons"in z&&(b=z.buttons|0),(b!==f||k!==c||U!==m||h(z))&&(f=b|0,c=k||0,m=U||0,u&&u(f,c,m,v))}function p(b){i(0,b)}function w(){(f||c||m||v.shift||v.alt||v.meta||v.control)&&(c=m=0,f=0,v.shift=v.alt=v.control=v.meta=!1,u&&u(0,0,0,v))}function A(b){h(b)&&u&&u(f,c,m,v)}function L(b){e.buttons(b)===0?i(0,b):i(f,b)}function x(b){i(f|e.buttons(b),b)}function E(b){i(f&~e.buttons(b),b)}function S(){T||(T=!0,n.addEventListener("mousemove",L),n.addEventListener("mousedown",x),n.addEventListener("mouseup",E),n.addEventListener("mouseleave",p),n.addEventListener("mouseenter",p),n.addEventListener("mouseout",p),n.addEventListener("mouseover",p),n.addEventListener("blur",w),n.addEventListener("keyup",A),n.addEventListener("keydown",A),n.addEventListener("keypress",A),n!==window&&(window.addEventListener("blur",w),window.addEventListener("keyup",A),window.addEventListener("keydown",A),window.addEventListener("keypress",A)))}function a(){T&&(T=!1,n.removeEventListener("mousemove",L),n.removeEventListener("mousedown",x),n.removeEventListener("mouseup",E),n.removeEventListener("mouseleave",p),n.removeEventListener("mouseenter",p),n.removeEventListener("mouseout",p),n.removeEventListener("mouseover",p),n.removeEventListener("blur",w),n.removeEventListener("keyup",A),n.removeEventListener("keydown",A),n.removeEventListener("keypress",A),n!==window&&(window.removeEventListener("blur",w),window.removeEventListener("keyup",A),window.removeEventListener("keydown",A),window.removeEventListener("keypress",A)))}S();var C={element:n};return Object.defineProperties(C,{enabled:{get:function(){return T},set:function(b){b?S():a()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return c},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return v},enumerable:!0}}),C}},24:function(d){var g={left:0,top:0};d.exports=r;function r(o,n,u){n=n||o.currentTarget||o.srcElement,Array.isArray(u)||(u=[0,0]);var f=o.clientX||0,c=o.clientY||0,m=e(n);return u[0]=f-m.left,u[1]=c-m.top,u}function e(o){return o===window||o===document||o===document.body?g:o.getBoundingClientRect()}},4687:function(d,g){function r(u){if(typeof u=="object"){if("buttons"in u)return u.buttons;if("which"in u){var f=u.which;if(f===2)return 4;if(f===3)return 2;if(f>0)return 1<<f-1}else if("button"in u){var f=u.button;if(f===1)return 4;if(f===2)return 2;if(f>=0)return 1<<f}}return 0}g.buttons=r;function e(u){return u.target||u.srcElement||window}g.element=e;function o(u){if(typeof u=="object"){if("offsetX"in u)return u.offsetX;var f=e(u),c=f.getBoundingClientRect();return u.clientX-c.left}return 0}g.x=o;function n(u){if(typeof u=="object"){if("offsetY"in u)return u.offsetY;var f=e(u),c=f.getBoundingClientRect();return u.clientY-c.top}return 0}g.y=n},8512:function(d,g,r){var e=r(665);d.exports=o;function o(n,u,f){typeof n=="function"&&(f=!!u,u=n,n=window);var c=e("ex",n),m=function(v){f&&v.preventDefault();var T=v.deltaX||0,h=v.deltaY||0,i=v.deltaZ||0,p=v.deltaMode,w=1;switch(p){case 1:w=c;break;case 2:w=window.innerHeight;break}if(T*=w,h*=w,i*=w,T||h||i)return u(T,h,i,v)};return n.addEventListener("wheel",m),m}},2640:function(d,g,r){var e=r(1888);d.exports=u;var o={"false,0,1":function(c,m,v,T,h){return function(p,w,A,L){var x=p.shape[0]|0,E=p.shape[1]|0,S=p.data,a=p.offset|0,C=p.stride[0]|0,b=p.stride[1]|0,z=a,k,U=-C|0,F=0,V=-b|0,N=0,O=-C-b|0,H=0,X=C|0,J=b-C*x|0,et=0,it=0,ft=0,ot=2*x|0,Q=T(ot),tt=T(ot),Z=0,q=0,ut=-1,$=-1,j=0,lt=-x|0,nt=x|0,ht=0,mt=-x-1|0,At=x-1|0,bt=0,Pt=0,_t=0;for(et=0;et<x;++et)Q[Z++]=v(S[z],w,A,L),z+=X;if(z+=J,E>0){if(it=1,Q[Z++]=v(S[z],w,A,L),z+=X,x>0)for(et=1,k=S[z],q=Q[Z]=v(k,w,A,L),j=Q[Z+ut],ht=Q[Z+lt],bt=Q[Z+mt],(q!==j||q!==ht||q!==bt)&&(F=S[z+U],N=S[z+V],H=S[z+O],c(et,it,k,F,N,H,q,j,ht,bt,w,A,L),Pt=tt[Z]=ft++),Z+=1,z+=X,et=2;et<x;++et)k=S[z],q=Q[Z]=v(k,w,A,L),j=Q[Z+ut],ht=Q[Z+lt],bt=Q[Z+mt],(q!==j||q!==ht||q!==bt)&&(F=S[z+U],N=S[z+V],H=S[z+O],c(et,it,k,F,N,H,q,j,ht,bt,w,A,L),Pt=tt[Z]=ft++,bt!==j&&m(tt[Z+ut],Pt,H,F,bt,j,w,A,L)),Z+=1,z+=X;for(z+=J,Z=0,_t=ut,ut=$,$=_t,_t=lt,lt=nt,nt=_t,_t=mt,mt=At,At=_t,it=2;it<E;++it){if(Q[Z++]=v(S[z],w,A,L),z+=X,x>0)for(et=1,k=S[z],q=Q[Z]=v(k,w,A,L),j=Q[Z+ut],ht=Q[Z+lt],bt=Q[Z+mt],(q!==j||q!==ht||q!==bt)&&(F=S[z+U],N=S[z+V],H=S[z+O],c(et,it,k,F,N,H,q,j,ht,bt,w,A,L),Pt=tt[Z]=ft++,bt!==ht&&m(tt[Z+lt],Pt,N,H,ht,bt,w,A,L)),Z+=1,z+=X,et=2;et<x;++et)k=S[z],q=Q[Z]=v(k,w,A,L),j=Q[Z+ut],ht=Q[Z+lt],bt=Q[Z+mt],(q!==j||q!==ht||q!==bt)&&(F=S[z+U],N=S[z+V],H=S[z+O],c(et,it,k,F,N,H,q,j,ht,bt,w,A,L),Pt=tt[Z]=ft++,bt!==ht&&m(tt[Z+lt],Pt,N,H,ht,bt,w,A,L),bt!==j&&m(tt[Z+ut],Pt,H,F,bt,j,w,A,L)),Z+=1,z+=X;it&1&&(Z=0),_t=ut,ut=$,$=_t,_t=lt,lt=nt,nt=_t,_t=mt,mt=At,At=_t,z+=J}}h(tt),h(Q)}},"false,1,0":function(c,m,v,T,h){return function(p,w,A,L){var x=p.shape[0]|0,E=p.shape[1]|0,S=p.data,a=p.offset|0,C=p.stride[0]|0,b=p.stride[1]|0,z=a,k,U=-C|0,F=0,V=-b|0,N=0,O=-C-b|0,H=0,X=b|0,J=C-b*E|0,et=0,it=0,ft=0,ot=2*E|0,Q=T(ot),tt=T(ot),Z=0,q=0,ut=-1,$=-1,j=0,lt=-E|0,nt=E|0,ht=0,mt=-E-1|0,At=E-1|0,bt=0,Pt=0,_t=0;for(it=0;it<E;++it)Q[Z++]=v(S[z],w,A,L),z+=X;if(z+=J,x>0){if(et=1,Q[Z++]=v(S[z],w,A,L),z+=X,E>0)for(it=1,k=S[z],q=Q[Z]=v(k,w,A,L),ht=Q[Z+lt],j=Q[Z+ut],bt=Q[Z+mt],(q!==ht||q!==j||q!==bt)&&(F=S[z+U],N=S[z+V],H=S[z+O],c(et,it,k,F,N,H,q,ht,j,bt,w,A,L),Pt=tt[Z]=ft++),Z+=1,z+=X,it=2;it<E;++it)k=S[z],q=Q[Z]=v(k,w,A,L),ht=Q[Z+lt],j=Q[Z+ut],bt=Q[Z+mt],(q!==ht||q!==j||q!==bt)&&(F=S[z+U],N=S[z+V],H=S[z+O],c(et,it,k,F,N,H,q,ht,j,bt,w,A,L),Pt=tt[Z]=ft++,bt!==j&&m(tt[Z+ut],Pt,N,H,j,bt,w,A,L)),Z+=1,z+=X;for(z+=J,Z=0,_t=lt,lt=nt,nt=_t,_t=ut,ut=$,$=_t,_t=mt,mt=At,At=_t,et=2;et<x;++et){if(Q[Z++]=v(S[z],w,A,L),z+=X,E>0)for(it=1,k=S[z],q=Q[Z]=v(k,w,A,L),ht=Q[Z+lt],j=Q[Z+ut],bt=Q[Z+mt],(q!==ht||q!==j||q!==bt)&&(F=S[z+U],N=S[z+V],H=S[z+O],c(et,it,k,F,N,H,q,ht,j,bt,w,A,L),Pt=tt[Z]=ft++,bt!==ht&&m(tt[Z+lt],Pt,H,F,bt,ht,w,A,L)),Z+=1,z+=X,it=2;it<E;++it)k=S[z],q=Q[Z]=v(k,w,A,L),ht=Q[Z+lt],j=Q[Z+ut],bt=Q[Z+mt],(q!==ht||q!==j||q!==bt)&&(F=S[z+U],N=S[z+V],H=S[z+O],c(et,it,k,F,N,H,q,ht,j,bt,w,A,L),Pt=tt[Z]=ft++,bt!==j&&m(tt[Z+ut],Pt,N,H,j,bt,w,A,L),bt!==ht&&m(tt[Z+lt],Pt,H,F,bt,ht,w,A,L)),Z+=1,z+=X;et&1&&(Z=0),_t=lt,lt=nt,nt=_t,_t=ut,ut=$,$=_t,_t=mt,mt=At,At=_t,z+=J}}h(tt),h(Q)}}};function n(f,c,m,v,T,h){var i=[h,T].join(","),p=o[i];return p(f,c,m,e.mallocUint32,e.freeUint32)}function u(f){function c(w){throw new Error("ndarray-extract-contour: "+w)}typeof f!="object"&&c("Must specify arguments");var m=f.order;Array.isArray(m)||c("Must specify order");var v=f.arrayArguments||1;v<1&&c("Must have at least one array argument");var T=f.scalarArguments||0;T<0&&c("Scalar arg count must be > 0"),typeof f.vertex!="function"&&c("Must specify vertex creation function"),typeof f.cell!="function"&&c("Must specify cell creation function"),typeof f.phase!="function"&&c("Must specify phase function");for(var h=f.getters||[],i=new Array(v),p=0;p<v;++p)h.indexOf(p)>=0?i[p]=!0:i[p]=!1;return n(f.vertex,f.cell,f.phase,T,m,i)}},6199:function(d,g,r){var e=r(1338),o={zero:function(A,L,x,E){var S=A[0],a=x[0];E|=0;var C=0,b=a;for(C=0;C<S;++C)L[E]=0,E+=b},fdTemplate1:function(A,L,x,E,S,a,C){var b=A[0],z=x[0],k=a[0],U=-1*z,F=z;E|=0,C|=0;var V=0,N=z,O=k;for(V=0;V<b;++V)S[C]=.5*(L[E+U]-L[E+F]),E+=N,C+=O},fdTemplate2:function(A,L,x,E,S,a,C,b,z,k){var U=A[0],F=A[1],V=x[0],N=x[1],O=a[0],H=a[1],X=z[0],J=z[1],et=-1*V,it=V,ft=-1*N,ot=N;E|=0,C|=0,k|=0;var Q=0,tt=0,Z=N,q=V-F*N,ut=H,$=O-F*H,j=J,lt=X-F*J;for(tt=0;tt<U;++tt){for(Q=0;Q<F;++Q)S[C]=.5*(L[E+et]-L[E+it]),b[k]=.5*(L[E+ft]-L[E+ot]),E+=Z,C+=ut,k+=j;E+=q,C+=$,k+=lt}}},n={cdiff:function(A){var L={};return function(E,S,a){var C=E.dtype,b=E.order,z=S.dtype,k=S.order,U=a.dtype,F=a.order,V=[C,b.join(),z,k.join(),U,F.join()].join(),N=L[V];return N||(L[V]=N=A([C,b,z,k,U,F])),N(E.shape.slice(0),E.data,E.stride,E.offset|0,S.data,S.stride,S.offset|0,a.data,a.stride,a.offset|0)}},zero:function(A){var L={};return function(E){var S=E.dtype,a=E.order,C=[S,a.join()].join(),b=L[C];return b||(L[C]=b=A([S,a])),b(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(A){var L={};return function(E,S){var a=E.dtype,C=E.order,b=S.dtype,z=S.order,k=[a,C.join(),b,z.join()].join(),U=L[k];return U||(L[k]=U=A([a,C,b,z])),U(E.shape.slice(0),E.data,E.stride,E.offset|0,S.data,S.stride,S.offset|0)}},fdTemplate2:function(A){var L={};return function(E,S,a){var C=E.dtype,b=E.order,z=S.dtype,k=S.order,U=a.dtype,F=a.order,V=[C,b.join(),z,k.join(),U,F.join()].join(),N=L[V];return N||(L[V]=N=A([C,b,z,k,U,F])),N(E.shape.slice(0),E.data,E.stride,E.offset|0,S.data,S.stride,S.offset|0,a.data,a.stride,a.offset|0)}}};function u(A){var L=n[A.funcName];return L(f.bind(void 0,A))}function f(A){return o[A.funcName]}function c(A){return u({funcName:A.funcName})}var m={},v={},T=c({funcName:"cdiff"}),h=c({funcName:"zero"});function i(A){return A in m?m[A]:m[A]=c({funcName:"fdTemplate"+A})}function p(A,L,x,E){return function(S,a){var C=a.shape.slice();return C[0]>2&&C[1]>2&&E(a.pick(-1,-1).lo(1,1).hi(C[0]-2,C[1]-2),S.pick(-1,-1,0).lo(1,1).hi(C[0]-2,C[1]-2),S.pick(-1,-1,1).lo(1,1).hi(C[0]-2,C[1]-2)),C[1]>2&&(x(a.pick(0,-1).lo(1).hi(C[1]-2),S.pick(0,-1,1).lo(1).hi(C[1]-2)),L(S.pick(0,-1,0).lo(1).hi(C[1]-2))),C[1]>2&&(x(a.pick(C[0]-1,-1).lo(1).hi(C[1]-2),S.pick(C[0]-1,-1,1).lo(1).hi(C[1]-2)),L(S.pick(C[0]-1,-1,0).lo(1).hi(C[1]-2))),C[0]>2&&(x(a.pick(-1,0).lo(1).hi(C[0]-2),S.pick(-1,0,0).lo(1).hi(C[0]-2)),L(S.pick(-1,0,1).lo(1).hi(C[0]-2))),C[0]>2&&(x(a.pick(-1,C[1]-1).lo(1).hi(C[0]-2),S.pick(-1,C[1]-1,0).lo(1).hi(C[0]-2)),L(S.pick(-1,C[1]-1,1).lo(1).hi(C[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(C[0]-1,0,0,0),S.set(C[0]-1,0,1,0),S.set(0,C[1]-1,0,0),S.set(0,C[1]-1,1,0),S.set(C[0]-1,C[1]-1,0,0),S.set(C[0]-1,C[1]-1,1,0),S}}function w(A){var L=A.join(),C=v[L];if(C)return C;for(var x=A.length,E=[T,h],S=1;S<=x;++S)E.push(i(S));var a=p,C=a.apply(void 0,E);return v[L]=C,C}d.exports=function(L,x,E){if(Array.isArray(E)||(typeof E=="string"?E=e(x.dimension,E):E=e(x.dimension,"clamp")),x.size===0)return L;if(x.dimension===0)return L.set(0),L;var S=w(E);return S(L,x)}},4317:function(d){function g(u,f){var c=Math.floor(f),m=f-c,v=0<=c&&c<u.shape[0],T=0<=c+1&&c+1<u.shape[0],h=v?+u.get(c):0,i=T?+u.get(c+1):0;return(1-m)*h+m*i}function r(u,f,c){var m=Math.floor(f),v=f-m,T=0<=m&&m<u.shape[0],h=0<=m+1&&m+1<u.shape[0],i=Math.floor(c),p=c-i,w=0<=i&&i<u.shape[1],A=0<=i+1&&i+1<u.shape[1],L=T&&w?u.get(m,i):0,x=T&&A?u.get(m,i+1):0,E=h&&w?u.get(m+1,i):0,S=h&&A?u.get(m+1,i+1):0;return(1-p)*((1-v)*L+v*E)+p*((1-v)*x+v*S)}function e(u,f,c,m){var v=Math.floor(f),T=f-v,h=0<=v&&v<u.shape[0],i=0<=v+1&&v+1<u.shape[0],p=Math.floor(c),w=c-p,A=0<=p&&p<u.shape[1],L=0<=p+1&&p+1<u.shape[1],x=Math.floor(m),E=m-x,S=0<=x&&x<u.shape[2],a=0<=x+1&&x+1<u.shape[2],C=h&&A&&S?u.get(v,p,x):0,b=h&&L&&S?u.get(v,p+1,x):0,z=i&&A&&S?u.get(v+1,p,x):0,k=i&&L&&S?u.get(v+1,p+1,x):0,U=h&&A&&a?u.get(v,p,x+1):0,F=h&&L&&a?u.get(v,p+1,x+1):0,V=i&&A&&a?u.get(v+1,p,x+1):0,N=i&&L&&a?u.get(v+1,p+1,x+1):0;return(1-E)*((1-w)*((1-T)*C+T*z)+w*((1-T)*b+T*k))+E*((1-w)*((1-T)*U+T*V)+w*((1-T)*F+T*N))}function o(u){var f=u.shape.length|0,c=new Array(f),m=new Array(f),v=new Array(f),T=new Array(f),h,i;for(h=0;h<f;++h)i=+arguments[h+1],c[h]=Math.floor(i),m[h]=i-c[h],v[h]=0<=c[h]&&c[h]<u.shape[h],T[h]=0<=c[h]+1&&c[h]+1<u.shape[h];var p=0,w,A,L;t:for(h=0;h<1<<f;++h){for(A=1,L=u.offset,w=0;w<f;++w)if(h&1<<w){if(!T[w])continue t;A*=m[w],L+=u.stride[w]*(c[w]+1)}else{if(!v[w])continue t;A*=1-m[w],L+=u.stride[w]*c[w]}p+=A*u.data[L]}return p}function n(u,f,c,m){switch(u.shape.length){case 0:return 0;case 1:return g(u,f);case 2:return r(u,f,c);case 3:return e(u,f,c,m);default:return o.apply(void 0,arguments)}}d.exports=n,d.exports.d1=g,d.exports.d2=r,d.exports.d3=e},5298:function(d,g){var r={"float64,2,1,0":function(){return function(v,T,h,i,p){var w=v[0],A=v[1],L=v[2],x=h[0],E=h[1],S=h[2];i|=0;var a=0,C=0,b=0,z=S,k=E-L*S,U=x-A*E;for(b=0;b<w;++b){for(C=0;C<A;++C){for(a=0;a<L;++a)T[i]/=p,i+=z;i+=k}i+=U}}},"uint8,2,0,1,float64,2,1,0":function(){return function(v,T,h,i,p,w,A,L){var x=v[0],E=v[1],S=v[2],a=h[0],C=h[1],b=h[2],z=w[0],k=w[1],U=w[2];i|=0,A|=0;for(var F=i,V=A,N=v[0]|0;N>0;){N<64?(x=N,N=0):(x=64,N-=64);for(var O=v[1]|0;O>0;){O<64?(E=O,O=0):(E=64,O-=64),i=F+N*a+O*C,A=V+N*z+O*k;var H=0,X=0,J=0,et=b,it=a-S*b,ft=C-x*a,ot=U,Q=z-S*U,tt=k-x*z;for(J=0;J<E;++J){for(X=0;X<x;++X){for(H=0;H<S;++H)T[i]=p[A]*L,i+=et,A+=ot;i+=it,A+=Q}i+=ft,A+=tt}}}}},"float32,1,0,float32,1,0":function(){return function(v,T,h,i,p,w,A){var L=v[0],x=v[1],E=h[0],S=h[1],a=w[0],C=w[1];i|=0,A|=0;var b=0,z=0,k=S,U=E-x*S,F=C,V=a-x*C;for(z=0;z<L;++z){for(b=0;b<x;++b)T[i]=p[A],i+=k,A+=F;i+=U,A+=V}}},"float32,1,0,float32,0,1":function(){return function(v,T,h,i,p,w,A){var L=v[0],x=v[1],E=h[0],S=h[1],a=w[0],C=w[1];i|=0,A|=0;for(var b=i,z=A,k=v[1]|0;k>0;){k<64?(x=k,k=0):(x=64,k-=64);for(var U=v[0]|0;U>0;){U<64?(L=U,U=0):(L=64,U-=64),i=b+k*S+U*E,A=z+k*C+U*a;var F=0,V=0,N=S,O=E-x*S,H=C,X=a-x*C;for(V=0;V<L;++V){for(F=0;F<x;++F)T[i]=p[A],i+=N,A+=H;i+=O,A+=X}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(v,T,h,i,p,w,A){var L=v[0],x=v[1],E=v[2],S=h[0],a=h[1],C=h[2],b=w[0],z=w[1],k=w[2];i|=0,A|=0;for(var U=i,F=A,V=v[2]|0;V>0;){V<64?(E=V,V=0):(E=64,V-=64);for(var N=v[0]|0;N>0;){N<64?(L=N,N=0):(L=64,N-=64);for(var O=v[1]|0;O>0;){O<64?(x=O,O=0):(x=64,O-=64),i=U+V*C+N*S+O*a,A=F+V*k+N*b+O*z;var H=0,X=0,J=0,et=C,it=S-E*C,ft=a-L*S,ot=k,Q=b-E*k,tt=z-L*b;for(J=0;J<x;++J){for(X=0;X<L;++X){for(H=0;H<E;++H)T[i]=p[A],i+=et,A+=ot;i+=it,A+=Q}i+=ft,A+=tt}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(v,T,h,i,p,w,A){var L=v[0],x=v[1],E=v[2],S=h[0],a=h[1],C=h[2],b=w[0],z=w[1],k=w[2];i|=0,A|=0;var U=0,F=0,V=0,N=C,O=S-E*C,H=a-L*S,X=k,J=b-E*k,et=z-L*b;for(V=0;V<x;++V){for(F=0;F<L;++F){for(U=0;U<E;++U)T[i]=p[A],i+=N,A+=X;i+=O,A+=J}i+=H,A+=et}}}};function e(m,v){var T=v.join(","),h=r[T];return h()}var o=e,n={mul:function(m){var v={};return function(h,i,p){var w=h.dtype,A=h.order,L=i.dtype,x=i.order,E=p.dtype,S=p.order,a=[w,A.join(),L,x.join(),E,S.join()].join(),C=v[a];return C||(v[a]=C=m([w,A,L,x,E,S])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,p.data,p.stride,p.offset|0)}},muls:function(m){var v={};return function(h,i,p){var w=h.dtype,A=h.order,L=i.dtype,x=i.order,E=[w,A.join(),L,x.join()].join(),S=v[E];return S||(v[E]=S=m([w,A,L,x])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,p)}},mulseq:function(m){var v={};return function(h,i){var p=h.dtype,w=h.order,A=[p,w.join()].join(),L=v[A];return L||(v[A]=L=m([p,w])),L(h.shape.slice(0),h.data,h.stride,h.offset|0,i)}},div:function(m){var v={};return function(h,i,p){var w=h.dtype,A=h.order,L=i.dtype,x=i.order,E=p.dtype,S=p.order,a=[w,A.join(),L,x.join(),E,S.join()].join(),C=v[a];return C||(v[a]=C=m([w,A,L,x,E,S])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,p.data,p.stride,p.offset|0)}},divs:function(m){var v={};return function(h,i,p){var w=h.dtype,A=h.order,L=i.dtype,x=i.order,E=[w,A.join(),L,x.join()].join(),S=v[E];return S||(v[E]=S=m([w,A,L,x])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0,p)}},divseq:function(m){var v={};return function(h,i){var p=h.dtype,w=h.order,A=[p,w.join()].join(),L=v[A];return L||(v[A]=L=m([p,w])),L(h.shape.slice(0),h.data,h.stride,h.offset|0,i)}},assign:function(m){var v={};return function(h,i){var p=h.dtype,w=h.order,A=i.dtype,L=i.order,x=[p,w.join(),A,L.join()].join(),E=v[x];return E||(v[x]=E=m([p,w,A,L])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,i.data,i.stride,i.offset|0)}}};function u(m){var v=n[m.funcName];return v(o.bind(void 0,m))}function f(m){return u({funcName:m.funcName})}var c={mul:"*",div:"/"};(function(){for(var m in c)g[m]=f({funcName:m}),g[m+"s"]=f({funcName:m+"s"}),g[m+"seq"]=f({funcName:m+"seq"})})(),g.assign=f({funcName:"assign"})},9994:function(d,g,r){var e=r(9618),o=r(8277);d.exports=function(u,f){for(var c=[],m=u,v=1;Array.isArray(m);)c.push(m.length),v*=m.length,m=m[0];return c.length===0?e():(f||(f=e(new Float64Array(v),c)),o(f,u),f)}},8277:function(d){function g(){return function(f,c,m,v,T){var h=f[0],i=f[1],p=f[2],w=m[0],A=m[1],L=m[2],x=[0,0,0];v|=0;var E=0,S=0,a=0,C=L,b=A-p*L,z=w-i*A;for(a=0;a<h;++a){for(S=0;S<i;++S){for(E=0;E<p;++E){{var k=T,U;for(U=0;U<x.length-1;++U)k=k[x[U]];c[v]=k[x[x.length-1]]}v+=C,++x[2]}v+=b,x[2]-=p,++x[1]}v+=z,x[1]-=i,++x[0]}}}function r(){return g()}var e=r;function o(f){var c={};return function(v,T){var h=v.dtype,i=v.order,p=[h,i.join()].join(),w=c[p];return w||(c[p]=w=f([h,i])),w(v.shape.slice(0),v.data,v.stride,v.offset|0,T)}}function n(f){return o(e.bind(void 0,f))}function u(f){return n({funcName:f.funcName})}d.exports=u({funcName:"convert"})},7640:function(d,g,r){var e=r(1888);function o(T){switch(T){case"uint32":return[e.mallocUint32,e.freeUint32];default:return null}}var n={"uint32,1,0":function(T,h){return function(p,w,A,L,x,E,S,a,C,b,z){var k,U,F,V=p*x+L,N,O=T(a),H,X,J,et;for(k=p+1;k<=w;++k){for(U=k,V+=x,F=V,H=0,X=V,N=0;N<a;++N)O[H++]=A[X],X+=C;t:for(;U-- >p;){H=0,X=F-x;e:for(N=0;N<a;++N){if(J=A[X],et=O[H],J<et)break t;if(J>et)break e;X+=b,H+=z}for(H=F,X=F-x,N=0;N<a;++N)A[H]=A[X],H+=C,X+=C;F-=x}for(H=F,X=0,N=0;N<a;++N)A[H]=O[X++],H+=C}h(O)}}};function u(T,h){var i=o(h),p=[h,T].join(","),w=n[p];return i?w(i[0],i[1]):w()}var f={"uint32,1,0":function(T,h,i){return function p(w,A,L,x,E,S,a,C,b,z,k){var U=(A-w+1)/6|0,F=w+U,V=A-U,N=w+A>>1,O=N-U,H=N+U,X=F,J=O,et=N,it=H,ft=V,ot=w+1,Q=A-1,tt=!0,Z,q,ut,$,j,lt,nt,ht,mt,At=0,bt=0,Pt=0,_t,Ut,St,Rt,Et,zt,Ct,Wt,Kt,oe,Jt,te,fe,ve,de,xe,Me=C,ne=h(Me),kt=h(Me);Ut=E*X,St=E*J,xe=x;t:for(_t=0;_t<C;++_t){if(nt=Ut+xe,ht=St+xe,Pt=L[nt]-L[ht],Pt>0){q=X,X=J,J=q;break t}if(Pt<0)break t;xe+=z}Ut=E*it,St=E*ft,xe=x;t:for(_t=0;_t<C;++_t){if(nt=Ut+xe,ht=St+xe,Pt=L[nt]-L[ht],Pt>0){q=it,it=ft,ft=q;break t}if(Pt<0)break t;xe+=z}Ut=E*X,St=E*et,xe=x;t:for(_t=0;_t<C;++_t){if(nt=Ut+xe,ht=St+xe,Pt=L[nt]-L[ht],Pt>0){q=X,X=et,et=q;break t}if(Pt<0)break t;xe+=z}Ut=E*J,St=E*et,xe=x;t:for(_t=0;_t<C;++_t){if(nt=Ut+xe,ht=St+xe,Pt=L[nt]-L[ht],Pt>0){q=J,J=et,et=q;break t}if(Pt<0)break t;xe+=z}Ut=E*X,St=E*it,xe=x;t:for(_t=0;_t<C;++_t){if(nt=Ut+xe,ht=St+xe,Pt=L[nt]-L[ht],Pt>0){q=X,X=it,it=q;break t}if(Pt<0)break t;xe+=z}Ut=E*et,St=E*it,xe=x;t:for(_t=0;_t<C;++_t){if(nt=Ut+xe,ht=St+xe,Pt=L[nt]-L[ht],Pt>0){q=et,et=it,it=q;break t}if(Pt<0)break t;xe+=z}Ut=E*J,St=E*ft,xe=x;t:for(_t=0;_t<C;++_t){if(nt=Ut+xe,ht=St+xe,Pt=L[nt]-L[ht],Pt>0){q=J,J=ft,ft=q;break t}if(Pt<0)break t;xe+=z}Ut=E*J,St=E*et,xe=x;t:for(_t=0;_t<C;++_t){if(nt=Ut+xe,ht=St+xe,Pt=L[nt]-L[ht],Pt>0){q=J,J=et,et=q;break t}if(Pt<0)break t;xe+=z}Ut=E*it,St=E*ft,xe=x;t:for(_t=0;_t<C;++_t){if(nt=Ut+xe,ht=St+xe,Pt=L[nt]-L[ht],Pt>0){q=it,it=ft,ft=q;break t}if(Pt<0)break t;xe+=z}for(Ut=E*X,St=E*J,Rt=E*et,Et=E*it,zt=E*ft,Ct=E*F,Wt=E*N,Kt=E*V,de=0,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,mt=Rt+xe,oe=Et+xe,Jt=zt+xe,te=Ct+xe,fe=Wt+xe,ve=Kt+xe,ne[de]=L[ht],kt[de]=L[oe],tt=tt&&ne[de]===kt[de],ut=L[nt],$=L[mt],j=L[Jt],L[te]=ut,L[fe]=$,L[ve]=j,++de,xe+=b;for(Ut=E*O,St=E*w,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,L[nt]=L[ht],xe+=b;for(Ut=E*H,St=E*A,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,L[nt]=L[ht],xe+=b;if(tt)for(lt=ot;lt<=Q;++lt){nt=x+lt*E,de=0;t:for(_t=0;_t<C;++_t){if(Pt=L[nt]-ne[de],Pt!==0)break t;de+=k,nt+=z}if(Pt!==0)if(Pt<0){if(lt!==ot)for(Ut=E*lt,St=E*ot,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,Z=L[nt],L[nt]=L[ht],L[ht]=Z,xe+=b;++ot}else for(;;){nt=x+Q*E,de=0;t:for(_t=0;_t<C;++_t){if(Pt=L[nt]-ne[de],Pt!==0)break t;de+=k,nt+=z}if(Pt>0)Q--;else if(Pt<0){for(Ut=E*lt,St=E*ot,Rt=E*Q,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,mt=Rt+xe,Z=L[nt],L[nt]=L[ht],L[ht]=L[mt],L[mt]=Z,xe+=b;++ot,--Q;break}else{for(Ut=E*lt,St=E*Q,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,Z=L[nt],L[nt]=L[ht],L[ht]=Z,xe+=b;--Q;break}}}else for(lt=ot;lt<=Q;++lt){nt=x+lt*E,de=0;t:for(_t=0;_t<C;++_t){if(At=L[nt]-ne[de],At!==0)break t;de+=k,nt+=z}if(At<0){if(lt!==ot)for(Ut=E*lt,St=E*ot,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,Z=L[nt],L[nt]=L[ht],L[ht]=Z,xe+=b;++ot}else{nt=x+lt*E,de=0;t:for(_t=0;_t<C;++_t){if(bt=L[nt]-kt[de],bt!==0)break t;de+=k,nt+=z}if(bt>0)for(;;){nt=x+Q*E,de=0;t:for(_t=0;_t<C;++_t){if(Pt=L[nt]-kt[de],Pt!==0)break t;de+=k,nt+=z}if(Pt>0){if(--Q<lt)break;continue}else{nt=x+Q*E,de=0;t:for(_t=0;_t<C;++_t){if(Pt=L[nt]-ne[de],Pt!==0)break t;de+=k,nt+=z}if(Pt<0){for(Ut=E*lt,St=E*ot,Rt=E*Q,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,mt=Rt+xe,Z=L[nt],L[nt]=L[ht],L[ht]=L[mt],L[mt]=Z,xe+=b;++ot,--Q}else{for(Ut=E*lt,St=E*Q,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,Z=L[nt],L[nt]=L[ht],L[ht]=Z,xe+=b;--Q}break}}}}for(Ut=E*w,St=E*(ot-1),de=0,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,L[nt]=L[ht],L[ht]=ne[de],++de,xe+=b;for(Ut=E*A,St=E*(Q+1),de=0,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,L[nt]=L[ht],L[ht]=kt[de],++de,xe+=b;if(ot-2-w<=32?T(w,ot-2,L,x,E,S,a,C,b,z,k):p(w,ot-2,L,x,E,S,a,C,b,z,k),A-(Q+2)<=32?T(Q+2,A,L,x,E,S,a,C,b,z,k):p(Q+2,A,L,x,E,S,a,C,b,z,k),tt){i(ne),i(kt);return}if(ot<F&&Q>V){t:for(;;){for(nt=x+ot*E,de=0,xe=x,_t=0;_t<C;++_t){if(L[nt]!==ne[de])break t;++de,nt+=b}++ot}t:for(;;){for(nt=x+Q*E,de=0,xe=x,_t=0;_t<C;++_t){if(L[nt]!==kt[de])break t;++de,nt+=b}--Q}for(lt=ot;lt<=Q;++lt){nt=x+lt*E,de=0;t:for(_t=0;_t<C;++_t){if(At=L[nt]-ne[de],At!==0)break t;de+=k,nt+=z}if(At===0){if(lt!==ot)for(Ut=E*lt,St=E*ot,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,Z=L[nt],L[nt]=L[ht],L[ht]=Z,xe+=b;++ot}else{nt=x+lt*E,de=0;t:for(_t=0;_t<C;++_t){if(bt=L[nt]-kt[de],bt!==0)break t;de+=k,nt+=z}if(bt===0)for(;;){nt=x+Q*E,de=0;t:for(_t=0;_t<C;++_t){if(Pt=L[nt]-kt[de],Pt!==0)break t;de+=k,nt+=z}if(Pt===0){if(--Q<lt)break;continue}else{nt=x+Q*E,de=0;t:for(_t=0;_t<C;++_t){if(Pt=L[nt]-ne[de],Pt!==0)break t;de+=k,nt+=z}if(Pt<0){for(Ut=E*lt,St=E*ot,Rt=E*Q,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,mt=Rt+xe,Z=L[nt],L[nt]=L[ht],L[ht]=L[mt],L[mt]=Z,xe+=b;++ot,--Q}else{for(Ut=E*lt,St=E*Q,xe=x,_t=0;_t<C;++_t)nt=Ut+xe,ht=St+xe,Z=L[nt],L[nt]=L[ht],L[ht]=Z,xe+=b;--Q}break}}}}}i(ne),i(kt),Q-ot<=32?T(ot,Q,L,x,E,S,a,C,b,z,k):p(ot,Q,L,x,E,S,a,C,b,z,k)}}};function c(T,h,i){var p=o(h),w=[h,T].join(","),A=f[w];return T.length>1&&p?A(i,p[0],p[1]):A(i)}var m={"uint32,1,0":function(T,h){return function(i){var p=i.data,w=i.offset|0,A=i.shape,L=i.stride,x=L[0]|0,E=A[0]|0,S=L[1]|0,a=A[1]|0,C=S,b=S,z=1;E<=32?T(0,E-1,p,w,x,S,E,a,C,b,z):h(0,E-1,p,w,x,S,E,a,C,b,z)}}};function v(T,h){var i=[h,T].join(","),p=m[i],w=u(T,h),A=c(T,h,w);return p(w,A)}d.exports=v},446:function(d,g,r){var e=r(7640),o={};function n(u){var f=u.order,c=u.dtype,m=[f,c],v=m.join(":"),T=o[v];return T||(o[v]=T=e(f,c)),T(u),u}d.exports=n},9618:function(d,g,r){var e=r(7163),o=typeof Float64Array<"u";function n(h,i){return h[0]-i[0]}function u(){var h=this.stride,i=new Array(h.length),p;for(p=0;p<i.length;++p)i[p]=[Math.abs(h[p]),p];i.sort(n);var w=new Array(i.length);for(p=0;p<w.length;++p)w[p]=i[p][1];return w}var f={T:function(h){function i(w){this.data=w}var p=i.prototype;return p.dtype=h,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new i(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(A){return new i(A)}},0:function(h,i){function p(A,L){this.data=A,this.offset=L}var w=p.prototype;return w.dtype=h,w.index=function(){return this.offset},w.dimension=0,w.size=1,w.shape=w.stride=w.order=[],w.lo=w.hi=w.transpose=w.step=function(){return new p(this.data,this.offset)},w.pick=function(){return i(this.data)},w.valueOf=w.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},w.set=function(L){return h==="generic"?this.data.set(this.offset,L):this.data[this.offset]=L},function(L,x,E,S){return new p(L,S)}},1:function(h,i,p){function w(L,x,E,S){this.data=L,this.shape=[x],this.stride=[E],this.offset=S|0}var A=w.prototype;return A.dtype=h,A.dimension=1,Object.defineProperty(A,"size",{get:function(){return this.shape[0]}}),A.order=[0],A.set=function(x,E){return h==="generic"?this.data.set(this.offset+this.stride[0]*x,E):this.data[this.offset+this.stride[0]*x]=E},A.get=function(x){return h==="generic"?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},A.index=function(x){return this.offset+this.stride[0]*x},A.hi=function(x){return new w(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,this.stride[0],this.offset)},A.lo=function(x){var E=this.offset,S=0,a=this.shape[0],C=this.stride[0];return typeof x=="number"&&x>=0&&(S=x|0,E+=C*S,a-=S),new w(this.data,a,C,E)},A.step=function(x){var E=this.shape[0],S=this.stride[0],a=this.offset,C=0,b=Math.ceil;return typeof x=="number"&&(C=x|0,C<0?(a+=S*(E-1),E=b(-E/C)):E=b(E/C),S*=C),new w(this.data,E,S,a)},A.transpose=function(x){x=x===void 0?0:x|0;var E=this.shape,S=this.stride;return new w(this.data,E[x],S[x],this.offset)},A.pick=function(x){var E=[],S=[],a=this.offset;typeof x=="number"&&x>=0?a=a+this.stride[0]*x|0:(E.push(this.shape[0]),S.push(this.stride[0]));var C=i[E.length+1];return C(this.data,E,S,a)},function(x,E,S,a){return new w(x,E[0],S[0],a)}},2:function(h,i,p){function w(L,x,E,S,a,C){this.data=L,this.shape=[x,E],this.stride=[S,a],this.offset=C|0}var A=w.prototype;return A.dtype=h,A.dimension=2,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(A,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),A.set=function(x,E,S){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E,S):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]=S},A.get=function(x,E){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]},A.index=function(x,E){return this.offset+this.stride[0]*x+this.stride[1]*E},A.hi=function(x,E){return new w(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},A.lo=function(x,E){var S=this.offset,a=0,C=this.shape[0],b=this.shape[1],z=this.stride[0],k=this.stride[1];return typeof x=="number"&&x>=0&&(a=x|0,S+=z*a,C-=a),typeof E=="number"&&E>=0&&(a=E|0,S+=k*a,b-=a),new w(this.data,C,b,z,k,S)},A.step=function(x,E){var S=this.shape[0],a=this.shape[1],C=this.stride[0],b=this.stride[1],z=this.offset,k=0,U=Math.ceil;return typeof x=="number"&&(k=x|0,k<0?(z+=C*(S-1),S=U(-S/k)):S=U(S/k),C*=k),typeof E=="number"&&(k=E|0,k<0?(z+=b*(a-1),a=U(-a/k)):a=U(a/k),b*=k),new w(this.data,S,a,C,b,z)},A.transpose=function(x,E){x=x===void 0?0:x|0,E=E===void 0?1:E|0;var S=this.shape,a=this.stride;return new w(this.data,S[x],S[E],a[x],a[E],this.offset)},A.pick=function(x,E){var S=[],a=[],C=this.offset;typeof x=="number"&&x>=0?C=C+this.stride[0]*x|0:(S.push(this.shape[0]),a.push(this.stride[0])),typeof E=="number"&&E>=0?C=C+this.stride[1]*E|0:(S.push(this.shape[1]),a.push(this.stride[1]));var b=i[S.length+1];return b(this.data,S,a,C)},function(x,E,S,a){return new w(x,E[0],E[1],S[0],S[1],a)}},3:function(h,i,p){function w(L,x,E,S,a,C,b,z){this.data=L,this.shape=[x,E,S],this.stride=[a,C,b],this.offset=z|0}var A=w.prototype;return A.dtype=h,A.dimension=3,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(A,"order",{get:function(){var x=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),S=Math.abs(this.stride[2]);return x>E?E>S?[2,1,0]:x>S?[1,2,0]:[1,0,2]:x>S?[2,0,1]:S>E?[0,1,2]:[0,2,1]}}),A.set=function(x,E,S,a){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*S,a):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*S]=a},A.get=function(x,E,S){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*S):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*S]},A.index=function(x,E,S){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*S},A.hi=function(x,E,S){return new w(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof S!="number"||S<0?this.shape[2]:S|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},A.lo=function(x,E,S){var a=this.offset,C=0,b=this.shape[0],z=this.shape[1],k=this.shape[2],U=this.stride[0],F=this.stride[1],V=this.stride[2];return typeof x=="number"&&x>=0&&(C=x|0,a+=U*C,b-=C),typeof E=="number"&&E>=0&&(C=E|0,a+=F*C,z-=C),typeof S=="number"&&S>=0&&(C=S|0,a+=V*C,k-=C),new w(this.data,b,z,k,U,F,V,a)},A.step=function(x,E,S){var a=this.shape[0],C=this.shape[1],b=this.shape[2],z=this.stride[0],k=this.stride[1],U=this.stride[2],F=this.offset,V=0,N=Math.ceil;return typeof x=="number"&&(V=x|0,V<0?(F+=z*(a-1),a=N(-a/V)):a=N(a/V),z*=V),typeof E=="number"&&(V=E|0,V<0?(F+=k*(C-1),C=N(-C/V)):C=N(C/V),k*=V),typeof S=="number"&&(V=S|0,V<0?(F+=U*(b-1),b=N(-b/V)):b=N(b/V),U*=V),new w(this.data,a,C,b,z,k,U,F)},A.transpose=function(x,E,S){x=x===void 0?0:x|0,E=E===void 0?1:E|0,S=S===void 0?2:S|0;var a=this.shape,C=this.stride;return new w(this.data,a[x],a[E],a[S],C[x],C[E],C[S],this.offset)},A.pick=function(x,E,S){var a=[],C=[],b=this.offset;typeof x=="number"&&x>=0?b=b+this.stride[0]*x|0:(a.push(this.shape[0]),C.push(this.stride[0])),typeof E=="number"&&E>=0?b=b+this.stride[1]*E|0:(a.push(this.shape[1]),C.push(this.stride[1])),typeof S=="number"&&S>=0?b=b+this.stride[2]*S|0:(a.push(this.shape[2]),C.push(this.stride[2]));var z=i[a.length+1];return z(this.data,a,C,b)},function(x,E,S,a){return new w(x,E[0],E[1],E[2],S[0],S[1],S[2],a)}},4:function(h,i,p){function w(L,x,E,S,a,C,b,z,k,U){this.data=L,this.shape=[x,E,S,a],this.stride=[C,b,z,k],this.offset=U|0}var A=w.prototype;return A.dtype=h,A.dimension=4,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(A,"order",{get:p}),A.set=function(x,E,S,a,C){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*S+this.stride[3]*a,C):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*S+this.stride[3]*a]=C},A.get=function(x,E,S,a){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*S+this.stride[3]*a):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*S+this.stride[3]*a]},A.index=function(x,E,S,a){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*S+this.stride[3]*a},A.hi=function(x,E,S,a){return new w(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof S!="number"||S<0?this.shape[2]:S|0,typeof a!="number"||a<0?this.shape[3]:a|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},A.lo=function(x,E,S,a){var C=this.offset,b=0,z=this.shape[0],k=this.shape[1],U=this.shape[2],F=this.shape[3],V=this.stride[0],N=this.stride[1],O=this.stride[2],H=this.stride[3];return typeof x=="number"&&x>=0&&(b=x|0,C+=V*b,z-=b),typeof E=="number"&&E>=0&&(b=E|0,C+=N*b,k-=b),typeof S=="number"&&S>=0&&(b=S|0,C+=O*b,U-=b),typeof a=="number"&&a>=0&&(b=a|0,C+=H*b,F-=b),new w(this.data,z,k,U,F,V,N,O,H,C)},A.step=function(x,E,S,a){var C=this.shape[0],b=this.shape[1],z=this.shape[2],k=this.shape[3],U=this.stride[0],F=this.stride[1],V=this.stride[2],N=this.stride[3],O=this.offset,H=0,X=Math.ceil;return typeof x=="number"&&(H=x|0,H<0?(O+=U*(C-1),C=X(-C/H)):C=X(C/H),U*=H),typeof E=="number"&&(H=E|0,H<0?(O+=F*(b-1),b=X(-b/H)):b=X(b/H),F*=H),typeof S=="number"&&(H=S|0,H<0?(O+=V*(z-1),z=X(-z/H)):z=X(z/H),V*=H),typeof a=="number"&&(H=a|0,H<0?(O+=N*(k-1),k=X(-k/H)):k=X(k/H),N*=H),new w(this.data,C,b,z,k,U,F,V,N,O)},A.transpose=function(x,E,S,a){x=x===void 0?0:x|0,E=E===void 0?1:E|0,S=S===void 0?2:S|0,a=a===void 0?3:a|0;var C=this.shape,b=this.stride;return new w(this.data,C[x],C[E],C[S],C[a],b[x],b[E],b[S],b[a],this.offset)},A.pick=function(x,E,S,a){var C=[],b=[],z=this.offset;typeof x=="number"&&x>=0?z=z+this.stride[0]*x|0:(C.push(this.shape[0]),b.push(this.stride[0])),typeof E=="number"&&E>=0?z=z+this.stride[1]*E|0:(C.push(this.shape[1]),b.push(this.stride[1])),typeof S=="number"&&S>=0?z=z+this.stride[2]*S|0:(C.push(this.shape[2]),b.push(this.stride[2])),typeof a=="number"&&a>=0?z=z+this.stride[3]*a|0:(C.push(this.shape[3]),b.push(this.stride[3]));var k=i[C.length+1];return k(this.data,C,b,z)},function(x,E,S,a){return new w(x,E[0],E[1],E[2],E[3],S[0],S[1],S[2],S[3],a)}},5:function(i,p,w){function A(x,E,S,a,C,b,z,k,U,F,V,N){this.data=x,this.shape=[E,S,a,C,b],this.stride=[z,k,U,F,V],this.offset=N|0}var L=A.prototype;return L.dtype=i,L.dimension=5,Object.defineProperty(L,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(L,"order",{get:w}),L.set=function(E,S,a,C,b,z){return i==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*S+this.stride[2]*a+this.stride[3]*C+this.stride[4]*b,z):this.data[this.offset+this.stride[0]*E+this.stride[1]*S+this.stride[2]*a+this.stride[3]*C+this.stride[4]*b]=z},L.get=function(E,S,a,C,b){return i==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*S+this.stride[2]*a+this.stride[3]*C+this.stride[4]*b):this.data[this.offset+this.stride[0]*E+this.stride[1]*S+this.stride[2]*a+this.stride[3]*C+this.stride[4]*b]},L.index=function(E,S,a,C,b){return this.offset+this.stride[0]*E+this.stride[1]*S+this.stride[2]*a+this.stride[3]*C+this.stride[4]*b},L.hi=function(E,S,a,C,b){return new A(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof a!="number"||a<0?this.shape[2]:a|0,typeof C!="number"||C<0?this.shape[3]:C|0,typeof b!="number"||b<0?this.shape[4]:b|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},L.lo=function(E,S,a,C,b){var z=this.offset,k=0,U=this.shape[0],F=this.shape[1],V=this.shape[2],N=this.shape[3],O=this.shape[4],H=this.stride[0],X=this.stride[1],J=this.stride[2],et=this.stride[3],it=this.stride[4];return typeof E=="number"&&E>=0&&(k=E|0,z+=H*k,U-=k),typeof S=="number"&&S>=0&&(k=S|0,z+=X*k,F-=k),typeof a=="number"&&a>=0&&(k=a|0,z+=J*k,V-=k),typeof C=="number"&&C>=0&&(k=C|0,z+=et*k,N-=k),typeof b=="number"&&b>=0&&(k=b|0,z+=it*k,O-=k),new A(this.data,U,F,V,N,O,H,X,J,et,it,z)},L.step=function(E,S,a,C,b){var z=this.shape[0],k=this.shape[1],U=this.shape[2],F=this.shape[3],V=this.shape[4],N=this.stride[0],O=this.stride[1],H=this.stride[2],X=this.stride[3],J=this.stride[4],et=this.offset,it=0,ft=Math.ceil;return typeof E=="number"&&(it=E|0,it<0?(et+=N*(z-1),z=ft(-z/it)):z=ft(z/it),N*=it),typeof S=="number"&&(it=S|0,it<0?(et+=O*(k-1),k=ft(-k/it)):k=ft(k/it),O*=it),typeof a=="number"&&(it=a|0,it<0?(et+=H*(U-1),U=ft(-U/it)):U=ft(U/it),H*=it),typeof C=="number"&&(it=C|0,it<0?(et+=X*(F-1),F=ft(-F/it)):F=ft(F/it),X*=it),typeof b=="number"&&(it=b|0,it<0?(et+=J*(V-1),V=ft(-V/it)):V=ft(V/it),J*=it),new A(this.data,z,k,U,F,V,N,O,H,X,J,et)},L.transpose=function(E,S,a,C,b){E=E===void 0?0:E|0,S=S===void 0?1:S|0,a=a===void 0?2:a|0,C=C===void 0?3:C|0,b=b===void 0?4:b|0;var z=this.shape,k=this.stride;return new A(this.data,z[E],z[S],z[a],z[C],z[b],k[E],k[S],k[a],k[C],k[b],this.offset)},L.pick=function(E,S,a,C,b){var z=[],k=[],U=this.offset;typeof E=="number"&&E>=0?U=U+this.stride[0]*E|0:(z.push(this.shape[0]),k.push(this.stride[0])),typeof S=="number"&&S>=0?U=U+this.stride[1]*S|0:(z.push(this.shape[1]),k.push(this.stride[1])),typeof a=="number"&&a>=0?U=U+this.stride[2]*a|0:(z.push(this.shape[2]),k.push(this.stride[2])),typeof C=="number"&&C>=0?U=U+this.stride[3]*C|0:(z.push(this.shape[3]),k.push(this.stride[3])),typeof b=="number"&&b>=0?U=U+this.stride[4]*b|0:(z.push(this.shape[4]),k.push(this.stride[4]));var F=p[z.length+1];return F(this.data,z,k,U)},function(E,S,a,C){return new A(E,S[0],S[1],S[2],S[3],S[4],a[0],a[1],a[2],a[3],a[4],C)}}};function c(h,i){var p=i===-1?"T":String(i),w=f[p];return i===-1?w(h):i===0?w(h,v[h][0]):w(h,v[h],u)}function m(h){if(e(h))return"buffer";if(o)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var v={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(h,i,p,w){if(h===void 0){var a=v.array[0];return a([])}else typeof h=="number"&&(h=[h]);i===void 0&&(i=[h.length]);var A=i.length;if(p===void 0){p=new Array(A);for(var L=A-1,x=1;L>=0;--L)p[L]=x,x*=i[L]}if(w===void 0){w=0;for(var L=0;L<A;++L)p[L]<0&&(w-=(i[L]-1)*p[L])}for(var E=m(h),S=v[E];S.length<=A+1;)S.push(c(E,S.length-1));var a=S[A+1];return a(h,i,p,w)}d.exports=T},1278:function(d,g,r){var e=r(2361),o=Math.pow(2,-1074),n=-1>>>0;d.exports=u;function u(f,c){if(isNaN(f)||isNaN(c))return NaN;if(f===c)return f;if(f===0)return c<0?-o:o;var m=e.hi(f),v=e.lo(f);return c>f==f>0?v===n?(m+=1,v=0):v+=1:v===0?(v=n,m-=1):v-=1,e.pack(v,m)}},8406:function(d,g){var r=1e-6,e=1e-6;g.vertexNormals=function(o,n,u){for(var f=n.length,c=new Array(f),m=u===void 0?r:u,v=0;v<f;++v)c[v]=[0,0,0];for(var v=0;v<o.length;++v)for(var T=o[v],h=0,i=T[T.length-1],p=T[0],w=0;w<T.length;++w){h=i,i=p,p=T[(w+1)%T.length];for(var A=n[h],L=n[i],x=n[p],E=new Array(3),S=0,a=new Array(3),C=0,b=0;b<3;++b)E[b]=A[b]-L[b],S+=E[b]*E[b],a[b]=x[b]-L[b],C+=a[b]*a[b];if(S*C>m)for(var z=c[i],k=1/Math.sqrt(S*C),b=0;b<3;++b){var U=(b+1)%3,F=(b+2)%3;z[b]+=k*(a[U]*E[F]-a[F]*E[U])}}for(var v=0;v<f;++v){for(var z=c[v],V=0,b=0;b<3;++b)V+=z[b]*z[b];if(V>m)for(var k=1/Math.sqrt(V),b=0;b<3;++b)z[b]*=k;else for(var b=0;b<3;++b)z[b]=0}return c},g.faceNormals=function(o,n,u){for(var f=o.length,c=new Array(f),m=u===void 0?e:u,v=0;v<f;++v){for(var T=o[v],h=new Array(3),i=0;i<3;++i)h[i]=n[T[i]];for(var p=new Array(3),w=new Array(3),i=0;i<3;++i)p[i]=h[1][i]-h[0][i],w[i]=h[2][i]-h[0][i];for(var A=new Array(3),L=0,i=0;i<3;++i){var x=(i+1)%3,E=(i+2)%3;A[i]=p[x]*w[E]-p[E]*w[x],L+=A[i]*A[i]}L>m?L=1/Math.sqrt(L):L=0;for(var i=0;i<3;++i)A[i]*=L;c[v]=A}return c}},4081:function(d){d.exports=g;function g(r,e,o,n,u,f,c,m,v,T){var h=e+f+T;if(i>0){var i=Math.sqrt(h+1);r[0]=.5*(c-v)/i,r[1]=.5*(m-n)/i,r[2]=.5*(o-f)/i,r[3]=.5*i}else{var p=Math.max(e,f,T),i=Math.sqrt(2*p-h+1);e>=p?(r[0]=.5*i,r[1]=.5*(u+o)/i,r[2]=.5*(m+n)/i,r[3]=.5*(c-v)/i):f>=p?(r[0]=.5*(o+u)/i,r[1]=.5*i,r[2]=.5*(v+c)/i,r[3]=.5*(m-n)/i):(r[0]=.5*(n+m)/i,r[1]=.5*(c+v)/i,r[2]=.5*i,r[3]=.5*(o-u)/i)}return r}},9977:function(d,g,r){d.exports=i;var e=r(9215),o=r(6582),n=r(7399),u=r(7608),f=r(4081);function c(p,w,A){return Math.sqrt(Math.pow(p,2)+Math.pow(w,2)+Math.pow(A,2))}function m(p,w,A,L){return Math.sqrt(Math.pow(p,2)+Math.pow(w,2)+Math.pow(A,2)+Math.pow(L,2))}function v(p,w){var A=w[0],L=w[1],x=w[2],E=w[3],S=m(A,L,x,E);S>1e-6?(p[0]=A/S,p[1]=L/S,p[2]=x/S,p[3]=E/S):(p[0]=p[1]=p[2]=0,p[3]=1)}function T(p,w,A){this.radius=e([A]),this.center=e(w),this.rotation=e(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=T.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var w=this.computedRotation;v(w,w);var A=this.computedMatrix;n(A,w);var L=this.computedCenter,x=this.computedEye,E=this.computedUp,S=Math.exp(this.computedRadius[0]);x[0]=L[0]+S*A[2],x[1]=L[1]+S*A[6],x[2]=L[2]+S*A[10],E[0]=A[1],E[1]=A[5],E[2]=A[9];for(var a=0;a<3;++a){for(var C=0,b=0;b<3;++b)C+=A[a+4*b]*x[b];A[12+a]=-C}},h.getMatrix=function(p,w){this.recalcMatrix(p);var A=this.computedMatrix;if(w){for(var L=0;L<16;++L)w[L]=A[L];return w}return A},h.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},h.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},h.pan=function(p,w,A,L){w=w||0,A=A||0,L=L||0,this.recalcMatrix(p);var x=this.computedMatrix,E=x[1],S=x[5],a=x[9],C=c(E,S,a);E/=C,S/=C,a/=C;var b=x[0],z=x[4],k=x[8],U=b*E+z*S+k*a;b-=E*U,z-=S*U,k-=a*U;var F=c(b,z,k);b/=F,z/=F,k/=F,x[2],x[6],x[10];var V=b*w+E*A,N=z*w+S*A,O=k*w+a*A;this.center.move(p,V,N,O);var H=Math.exp(this.computedRadius[0]);H=Math.max(1e-4,H+L),this.radius.set(p,Math.log(H))},h.rotate=function(p,w,A,L){this.recalcMatrix(p),w=w||0,A=A||0;var x=this.computedMatrix,E=x[0],S=x[4],a=x[8],C=x[1],b=x[5],z=x[9],k=x[2],U=x[6],F=x[10],V=w*E+A*C,N=w*S+A*b,O=w*a+A*z,H=-(U*O-F*N),X=-(F*V-k*O),J=-(k*N-U*V),et=Math.sqrt(Math.max(0,1-Math.pow(H,2)-Math.pow(X,2)-Math.pow(J,2))),it=m(H,X,J,et);it>1e-6?(H/=it,X/=it,J/=it,et/=it):(H=X=J=0,et=1);var ft=this.computedRotation,ot=ft[0],Q=ft[1],tt=ft[2],Z=ft[3],q=ot*et+Z*H+Q*J-tt*X,ut=Q*et+Z*X+tt*H-ot*J,$=tt*et+Z*J+ot*X-Q*H,j=Z*et-ot*H-Q*X-tt*J;if(L){H=k,X=U,J=F;var lt=Math.sin(L)/c(H,X,J);H*=lt,X*=lt,J*=lt,et=Math.cos(w),q=q*et+j*H+ut*J-$*X,ut=ut*et+j*X+$*H-q*J,$=$*et+j*J+q*X-ut*H,j=j*et-q*H-ut*X-$*J}var nt=m(q,ut,$,j);nt>1e-6?(q/=nt,ut/=nt,$/=nt,j/=nt):(q=ut=$=0,j=1),this.rotation.set(p,q,ut,$,j)},h.lookAt=function(p,w,A,L){this.recalcMatrix(p),A=A||this.computedCenter,w=w||this.computedEye,L=L||this.computedUp;var x=this.computedMatrix;o(x,w,A,L);var E=this.computedRotation;f(E,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),v(E,E),this.rotation.set(p,E[0],E[1],E[2],E[3]);for(var S=0,a=0;a<3;++a)S+=Math.pow(A[a]-w[a],2);this.radius.set(p,.5*Math.log(Math.max(S,1e-6))),this.center.set(p,A[0],A[1],A[2])},h.translate=function(p,w,A,L){this.center.move(p,w||0,A||0,L||0)},h.setMatrix=function(p,w){var A=this.computedRotation;f(A,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),v(A,A),this.rotation.set(p,A[0],A[1],A[2],A[3]);var L=this.computedMatrix;u(L,w);var x=L[15];if(Math.abs(x)>1e-6){var E=L[12]/x,S=L[13]/x,a=L[14]/x;this.recalcMatrix(p);var C=Math.exp(this.computedRadius[0]);this.center.set(p,E-L[2]*C,S-L[6]*C,a-L[10]*C),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},h.setDistance=function(p,w){w>0&&this.radius.set(p,Math.log(w))},h.setDistanceLimits=function(p,w){p>0?p=Math.log(p):p=-1/0,w>0?w=Math.log(w):w=1/0,w=Math.max(w,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=w},h.getDistanceLimits=function(p){var w=this.radius.bounds;return p?(p[0]=Math.exp(w[0][0]),p[1]=Math.exp(w[1][0]),p):[Math.exp(w[0][0]),Math.exp(w[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(p){var w=this.lastT(),A=p.center;A&&this.center.set(w,A[0],A[1],A[2]);var L=p.rotation;L&&this.rotation.set(w,L[0],L[1],L[2],L[3]);var x=p.distance;x&&x>0&&this.radius.set(w,Math.log(x)),this.setDistanceLimits(p.zoomMin,p.zoomMax)};function i(p){p=p||{};var w=p.center||[0,0,0],A=p.rotation||[0,0,0,1],L=p.radius||1;w=[].slice.call(w,0,3),A=[].slice.call(A,0,4),v(A,A);var x=new T(A,w,Math.log(L));return x.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&x.lookAt(0,p.eye,p.center,p.up),x}},1371:function(d,g,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var e=r(3233);d.exports=function(n,u,f){return f=typeof f<"u"?f+"":" ",e(f,u)+n}},3202:function(d){d.exports=function(r,e){e||(e=[0,""]),r=String(r);var o=parseFloat(r,10);return e[0]=o,e[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},3088:function(d,g,r){d.exports=o;var e=r(3140);function o(n,u){for(var f=u.length|0,c=n.length,m=[new Array(f),new Array(f)],v=0;v<f;++v)m[0][v]=[],m[1][v]=[];for(var v=0;v<c;++v){var T=n[v];m[0][T[0]].push(T),m[1][T[1]].push(T)}for(var h=[],v=0;v<f;++v)m[0][v].length+m[1][v].length===0&&h.push([v]);function i(S,a){var C=m[a][S[a]];C.splice(C.indexOf(S),1)}function p(S,a,C){for(var b,z,k,U=0;U<2;++U)if(m[U][a].length>0){b=m[U][a][0],k=U;break}z=b[k^1];for(var F=0;F<2;++F)for(var V=m[F][a],N=0;N<V.length;++N){var O=V[N],H=O[F^1],X=e(u[S],u[a],u[z],u[H]);X>0&&(b=O,z=H,k=F)}return C||b&&i(b,k),z}function w(S,a){var C=m[a][S][0],b=[S];i(C,a);for(var z=C[a^1];;){for(;z!==S;)b.push(z),z=p(b[b.length-2],z,!1);if(m[0][S].length+m[1][S].length===0)break;var k=b[b.length-1],U=S,F=b[1],V=p(k,U,!0);if(e(u[k],u[U],u[F],u[V])<0)break;b.push(S),z=p(k,U)}return b}function A(S,a){return a[1]===a[a.length-1]}for(var v=0;v<f;++v)for(var L=0;L<2;++L){for(var x=[];m[L][v].length>0;){m[0][v].length;var E=w(v,L);A(x,E)?x.push.apply(x,E):(x.length>0&&h.push(x),x=E)}x.length>0&&h.push(x)}return h}},5609:function(d,g,r){d.exports=o;var e=r(3134);function o(n,u){for(var f=e(n,u.length),c=new Array(u.length),m=new Array(u.length),v=[],T=0;T<u.length;++T){var h=f[T].length;m[T]=h,c[T]=!0,h<=1&&v.push(T)}for(;v.length>0;){var i=v.pop();c[i]=!1;for(var p=f[i],T=0;T<p.length;++T){var w=p[T];--m[w]===0&&v.push(w)}}for(var A=new Array(u.length),L=[],T=0;T<u.length;++T)if(c[T]){var i=L.length;A[T]=i,L.push(u[T])}else A[T]=-1;for(var x=[],T=0;T<n.length;++T){var E=n[T];c[E[0]]&&c[E[1]]&&x.push([A[E[0]],A[E[1]]])}return[x,L]}},2095:function(d,g,r){d.exports=h;var e=r(3134),o=r(3088),n=r(5085),u=r(5250),f=r(8210),c=r(1682),m=r(5609);function v(i,p){for(var w=new Array(i),A=0;A<i;++A)w[A]=p;return w}function T(i){for(var p=new Array(i),w=0;w<i;++w)p[w]=[];return p}function h(i,p){var j=m(i,p);i=j[0],p=j[1];var w=p.length;i.length;for(var A=e(i,p.length),L=0;L<w;++L)if(A[L].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var x=o(i,p);function E(Pt){for(var _t=Pt.length,Ut=[0],St=0;St<_t;++St){var Rt=p[Pt[St]],Et=p[Pt[(St+1)%_t]],zt=u(-Rt[0],Rt[1]),Ct=u(-Rt[0],Et[1]),Wt=u(Et[0],Rt[1]),Kt=u(Et[0],Et[1]);Ut=f(Ut,f(f(zt,Ct),f(Wt,Kt)))}return Ut[Ut.length-1]>0}x=x.filter(E);for(var S=x.length,a=new Array(S),C=new Array(S),L=0;L<S;++L){a[L]=L;var b=new Array(S),z=x[L].map(function(_t){return p[_t]}),k=n([z]),U=0;t:for(var F=0;F<S;++F)if(b[F]=0,L!==F){for(var V=x[F],N=V.length,O=0;O<N;++O){var H=k(p[V[O]]);if(H!==0){H<0&&(b[F]=1,U+=1);continue t}}b[F]=1,U+=1}C[L]=[U,L,b]}C.sort(function(Pt,_t){return _t[0]-Pt[0]});for(var L=0;L<S;++L)for(var b=C[L],X=b[1],J=b[2],F=0;F<S;++F)J[F]&&(a[F]=X);for(var et=T(S),L=0;L<S;++L)et[L].push(a[L]),et[a[L]].push(L);for(var it={},ft=v(w,!1),L=0;L<S;++L)for(var V=x[L],N=V.length,F=0;F<N;++F){var ot=V[F],Q=V[(F+1)%N],tt=Math.min(ot,Q)+":"+Math.max(ot,Q);if(tt in it){var Z=it[tt];et[Z].push(L),et[L].push(Z),ft[ot]=ft[Q]=!0}else it[tt]=L}function q(Pt){for(var _t=Pt.length,Ut=0;Ut<_t;++Ut)if(!ft[Pt[Ut]])return!1;return!0}for(var ut=[],$=v(S,-1),L=0;L<S;++L)a[L]===L&&!q(x[L])?(ut.push(L),$[L]=0):$[L]=-1;for(var j=[];ut.length>0;){var lt=ut.pop(),nt=et[lt];c(nt,function(Pt,_t){return Pt-_t});var ht=nt.length,mt=$[lt],At;if(mt===0){var V=x[lt];At=[V]}for(var L=0;L<ht;++L){var bt=nt[L];if(!($[bt]>=0)&&($[bt]=mt^1,ut.push(bt),mt===0)){var V=x[bt];q(V)||(V.reverse(),At.push(V))}}mt===0&&j.push(At)}return j}},5085:function(d,g,r){d.exports=p;var e=r(3250)[3],o=r(4209),n=r(3352),u=r(2478);function f(){return!0}function c(w){return function(A,L){var x=w[A];return x?!!x.queryPoint(L,f):!1}}function m(w){for(var A={},L=0;L<w.length;++L){var x=w[L],E=x[0][0],S=x[0][1],a=x[1][1],C=[Math.min(S,a),Math.max(S,a)];E in A?A[E].push(C):A[E]=[C]}for(var b={},z=Object.keys(A),L=0;L<z.length;++L){var k=A[z[L]];b[z[L]]=n(k)}return c(b)}function v(w,A){return function(L){var x=u.le(A,L[0]);if(x<0)return 1;var E=w[x];if(!E)if(x>0&&A[x]===L[0])E=w[x-1];else return 1;for(var S=1;E;){var a=E.key,C=e(L,a[0],a[1]);if(a[0][0]<a[1][0])if(C<0)E=E.left;else if(C>0)S=-1,E=E.right;else return 0;else if(C>0)E=E.left;else if(C<0)S=1,E=E.right;else return 0}return S}}function T(w){return 1}function h(w){return function(L){return w(L[0],L[1])?0:1}}function i(w,A){return function(x){return w(x[0],x[1])?0:A(x)}}function p(w){for(var A=w.length,L=[],x=[],E=0;E<A;++E)for(var S=w[E],a=S.length,C=a-1,b=0;b<a;C=b++){var z=S[C],k=S[b];z[0]===k[0]?x.push([z,k]):L.push([z,k])}if(L.length===0)return x.length===0?T:h(m(x));var U=o(L),F=v(U.slabs,U.coordinates);return x.length===0?F:i(m(x),F)}},9346:function(d){var g=new Float64Array(4),r=new Float64Array(4),e=new Float64Array(4);function o(n,u,f,c,m){g.length<c.length&&(g=new Float64Array(c.length),r=new Float64Array(c.length),e=new Float64Array(c.length));for(var v=0;v<c.length;++v)g[v]=n[v]-c[v],r[v]=u[v]-n[v],e[v]=f[v]-n[v];for(var T=0,h=0,i=0,p=0,w=0,A=0,v=0;v<c.length;++v){var L=r[v],x=e[v],E=g[v];T+=L*L,h+=L*x,i+=x*x,p+=E*L,w+=E*x,A+=E*E}var S=Math.abs(T*i-h*h),a=h*w-i*p,C=h*p-T*w,b;if(a+C<=S)if(a<0)C<0&&p<0?(C=0,-p>=T?(a=1,b=T+2*p+A):(a=-p/T,b=p*a+A)):(a=0,w>=0?(C=0,b=A):-w>=i?(C=1,b=i+2*w+A):(C=-w/i,b=w*C+A));else if(C<0)C=0,p>=0?(a=0,b=A):-p>=T?(a=1,b=T+2*p+A):(a=-p/T,b=p*a+A);else{var z=1/S;a*=z,C*=z,b=a*(T*a+h*C+2*p)+C*(h*a+i*C+2*w)+A}else{var k,U,F,V;a<0?(k=h+p,U=i+w,U>k?(F=U-k,V=T-2*h+i,F>=V?(a=1,C=0,b=T+2*p+A):(a=F/V,C=1-a,b=a*(T*a+h*C+2*p)+C*(h*a+i*C+2*w)+A)):(a=0,U<=0?(C=1,b=i+2*w+A):w>=0?(C=0,b=A):(C=-w/i,b=w*C+A))):C<0?(k=h+w,U=T+p,U>k?(F=U-k,V=T-2*h+i,F>=V?(C=1,a=0,b=i+2*w+A):(C=F/V,a=1-C,b=a*(T*a+h*C+2*p)+C*(h*a+i*C+2*w)+A)):(C=0,U<=0?(a=1,b=T+2*p+A):p>=0?(a=0,b=A):(a=-p/T,b=p*a+A))):(F=i+w-h-p,F<=0?(a=0,C=1,b=i+2*w+A):(V=T-2*h+i,F>=V?(a=1,C=0,b=T+2*p+A):(a=F/V,C=1-a,b=a*(T*a+h*C+2*p)+C*(h*a+i*C+2*w)+A)))}for(var N=1-a-C,v=0;v<c.length;++v)m[v]=N*n[v]+a*u[v]+C*f[v];return b<0?0:b}d.exports=o},8648:function(d,g,r){d.exports=r(783)},2653:function(d,g,r){var e=r(3865);d.exports=o;function o(n,u){for(var f=n.length,c=new Array(f),m=0;m<f;++m)c[m]=e(n[m],u[m]);return c}},5838:function(d,g,r){d.exports=o;var e=r(7842);function o(n){for(var u=new Array(n.length),f=0;f<n.length;++f)u[f]=e(n[f]);return u}},8987:function(d,g,r){var e=r(7842),o=r(6504);d.exports=n;function n(u,f){for(var c=e(f),m=u.length,v=new Array(m),T=0;T<m;++T)v[T]=o(u[T],c);return v}},544:function(d,g,r){var e=r(5572);d.exports=o;function o(n,u){for(var f=n.length,c=new Array(f),m=0;m<f;++m)c[m]=e(n[m],u[m]);return c}},5771:function(d,g,r){var e=r(8507),o=r(3788),n=r(2419);d.exports=u;function u(f){f.sort(o);for(var c=f.length,m=0,v=0;v<c;++v){var T=f[v],h=n(T);if(h!==0){if(m>0){var i=f[m-1];if(e(T,i)===0&&n(i)!==h){m-=1;continue}}f[m++]=T}}return f.length=m,f}},3233:function(d){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var g="",r;d.exports=e;function e(o,n){if(typeof o!="string")throw new TypeError("expected a string");if(n===1)return o;if(n===2)return o+o;var u=o.length*n;if(r!==o||typeof r>"u")r=o,g="";else if(g.length>=u)return g.substr(0,u);for(;u>g.length&&n>1;)n&1&&(g+=o),n>>=1,o+=o;return g+=o,g=g.substr(0,u),g}},3025:function(d,g,r){d.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(d){d.exports=g;function g(r){for(var e=r.length,o=r[r.length-1],n=e,u=e-2;u>=0;--u){var f=o,c=r[u];o=f+c;var m=o-f,v=c-m;v&&(r[--n]=o,o=v)}for(var T=0,u=n;u<e;++u){var f=r[u],c=o;o=f+c;var m=o-f,v=c-m;v&&(r[T++]=v)}return r[T++]=o,r.length=T,r}},2962:function(d,g,r){var e=r(5250),o=r(8210),n=r(3012),u=r(7004),f=6;function c(A,L,x,E){return function(a){return E(A(x(a[0][0],a[1][1]),x(-a[0][1],a[1][0])))}}function m(A,L,x,E){return function(a){return E(A(L(A(x(a[1][1],a[2][2]),x(-a[1][2],a[2][1])),a[0][0]),A(L(A(x(a[1][0],a[2][2]),x(-a[1][2],a[2][0])),-a[0][1]),L(A(x(a[1][0],a[2][1]),x(-a[1][1],a[2][0])),a[0][2]))))}}function v(A,L,x,E){return function(a){return E(A(A(L(A(L(A(x(a[2][2],a[3][3]),x(-a[2][3],a[3][2])),a[1][1]),A(L(A(x(a[2][1],a[3][3]),x(-a[2][3],a[3][1])),-a[1][2]),L(A(x(a[2][1],a[3][2]),x(-a[2][2],a[3][1])),a[1][3]))),a[0][0]),L(A(L(A(x(a[2][2],a[3][3]),x(-a[2][3],a[3][2])),a[1][0]),A(L(A(x(a[2][0],a[3][3]),x(-a[2][3],a[3][0])),-a[1][2]),L(A(x(a[2][0],a[3][2]),x(-a[2][2],a[3][0])),a[1][3]))),-a[0][1])),A(L(A(L(A(x(a[2][1],a[3][3]),x(-a[2][3],a[3][1])),a[1][0]),A(L(A(x(a[2][0],a[3][3]),x(-a[2][3],a[3][0])),-a[1][1]),L(A(x(a[2][0],a[3][1]),x(-a[2][1],a[3][0])),a[1][3]))),a[0][2]),L(A(L(A(x(a[2][1],a[3][2]),x(-a[2][2],a[3][1])),a[1][0]),A(L(A(x(a[2][0],a[3][2]),x(-a[2][2],a[3][0])),-a[1][1]),L(A(x(a[2][0],a[3][1]),x(-a[2][1],a[3][0])),a[1][2]))),-a[0][3]))))}}function T(A,L,x,E){return function(a){return E(A(A(L(A(A(L(A(L(A(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][2]),A(L(A(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),-a[2][3]),L(A(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][4]))),a[1][1]),L(A(L(A(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][1]),A(L(A(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),-a[2][3]),L(A(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),a[2][4]))),-a[1][2])),A(L(A(L(A(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),a[2][1]),A(L(A(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),-a[2][2]),L(A(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][4]))),a[1][3]),L(A(L(A(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][1]),A(L(A(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),-a[2][2]),L(A(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][3]))),-a[1][4]))),a[0][0]),L(A(A(L(A(L(A(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][2]),A(L(A(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),-a[2][3]),L(A(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][4]))),a[1][0]),L(A(L(A(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][0]),A(L(A(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][3]),L(A(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),a[2][4]))),-a[1][2])),A(L(A(L(A(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),a[2][0]),A(L(A(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][2]),L(A(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),a[2][4]))),a[1][3]),L(A(L(A(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][0]),A(L(A(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),-a[2][2]),L(A(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),a[2][3]))),-a[1][4]))),-a[0][1])),A(L(A(A(L(A(L(A(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][1]),A(L(A(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),-a[2][3]),L(A(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),a[2][4]))),a[1][0]),L(A(L(A(x(a[3][3],a[4][4]),x(-a[3][4],a[4][3])),a[2][0]),A(L(A(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][3]),L(A(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),a[2][4]))),-a[1][1])),A(L(A(L(A(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),a[2][0]),A(L(A(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][1]),L(A(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][4]))),a[1][3]),L(A(L(A(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),a[2][0]),A(L(A(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),-a[2][1]),L(A(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][3]))),-a[1][4]))),a[0][2]),A(L(A(A(L(A(L(A(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),a[2][1]),A(L(A(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),-a[2][2]),L(A(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][4]))),a[1][0]),L(A(L(A(x(a[3][2],a[4][4]),x(-a[3][4],a[4][2])),a[2][0]),A(L(A(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][2]),L(A(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),a[2][4]))),-a[1][1])),A(L(A(L(A(x(a[3][1],a[4][4]),x(-a[3][4],a[4][1])),a[2][0]),A(L(A(x(a[3][0],a[4][4]),x(-a[3][4],a[4][0])),-a[2][1]),L(A(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][4]))),a[1][2]),L(A(L(A(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][0]),A(L(A(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),-a[2][1]),L(A(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][2]))),-a[1][4]))),-a[0][3]),L(A(A(L(A(L(A(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][1]),A(L(A(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),-a[2][2]),L(A(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][3]))),a[1][0]),L(A(L(A(x(a[3][2],a[4][3]),x(-a[3][3],a[4][2])),a[2][0]),A(L(A(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),-a[2][2]),L(A(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),a[2][3]))),-a[1][1])),A(L(A(L(A(x(a[3][1],a[4][3]),x(-a[3][3],a[4][1])),a[2][0]),A(L(A(x(a[3][0],a[4][3]),x(-a[3][3],a[4][0])),-a[2][1]),L(A(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][3]))),a[1][2]),L(A(L(A(x(a[3][1],a[4][2]),x(-a[3][2],a[4][1])),a[2][0]),A(L(A(x(a[3][0],a[4][2]),x(-a[3][2],a[4][0])),-a[2][1]),L(A(x(a[3][0],a[4][1]),x(-a[3][1],a[4][0])),a[2][2]))),-a[1][3]))),a[0][4])))))}}function h(A){var L=A===2?c:A===3?m:A===4?v:A===5?T:void 0;return L(o,n,e,u)}var i=[function(){return[0]},function(L){return[L[0][0]]}];function p(A,L,x,E,S,a,C,b){return function(k){switch(k.length){case 0:return A(k);case 1:return L(k);case 2:return x(k);case 3:return E(k);case 4:return S(k);case 5:return a(k)}var U=C[k.length];return U||(U=C[k.length]=b(k.length)),U(k)}}function w(){for(;i.length<f;)i.push(h(i.length));d.exports=p.apply(void 0,i.concat([i,h]));for(var A=0;A<i.length;++A)d.exports[A]=i[A]}w()},1944:function(d,g,r){var e=r(5250),o=r(8210);d.exports=n;function n(u,f){for(var c=e(u[0],f[0]),m=1;m<u.length;++m)c=o(c,e(u[m],f[m]));return c}},2646:function(d,g,r){var e=r(5250),o=r(8210),n=r(8545),u=r(3012),f=6;function c(S){var a=S===3?h:S===4?i:S===5?p:w;return a(o,n,e,u)}function m(){return 0}function v(){return 0}function T(){return 0}function h(S,a,C,b){function z(k,U,F){var V=C(k[0],k[0]),N=b(V,U[0]),O=b(V,F[0]),H=C(U[0],U[0]),X=b(H,k[0]),J=b(H,F[0]),et=C(F[0],F[0]),it=b(et,k[0]),ft=b(et,U[0]),ot=S(a(ft,J),a(X,N)),Q=a(it,O),tt=a(ot,Q);return tt[tt.length-1]}return z}function i(S,a,C,b){function z(k,U,F,V){var N=S(C(k[0],k[0]),C(k[1],k[1])),O=b(N,U[0]),H=b(N,F[0]),X=b(N,V[0]),J=S(C(U[0],U[0]),C(U[1],U[1])),et=b(J,k[0]),it=b(J,F[0]),ft=b(J,V[0]),ot=S(C(F[0],F[0]),C(F[1],F[1])),Q=b(ot,k[0]),tt=b(ot,U[0]),Z=b(ot,V[0]),q=S(C(V[0],V[0]),C(V[1],V[1])),ut=b(q,k[0]),$=b(q,U[0]),j=b(q,F[0]),lt=S(S(b(a(j,Z),U[1]),S(b(a($,ft),-F[1]),b(a(tt,it),V[1]))),S(b(a($,ft),k[1]),S(b(a(ut,X),-U[1]),b(a(et,O),V[1])))),nt=S(S(b(a(j,Z),k[1]),S(b(a(ut,X),-F[1]),b(a(Q,H),V[1]))),S(b(a(tt,it),k[1]),S(b(a(Q,H),-U[1]),b(a(et,O),F[1])))),ht=a(lt,nt);return ht[ht.length-1]}return z}function p(S,a,C,b){function z(k,U,F,V,N){var O=S(C(k[0],k[0]),S(C(k[1],k[1]),C(k[2],k[2]))),H=b(O,U[0]),X=b(O,F[0]),J=b(O,V[0]),et=b(O,N[0]),it=S(C(U[0],U[0]),S(C(U[1],U[1]),C(U[2],U[2]))),ft=b(it,k[0]),ot=b(it,F[0]),Q=b(it,V[0]),tt=b(it,N[0]),Z=S(C(F[0],F[0]),S(C(F[1],F[1]),C(F[2],F[2]))),q=b(Z,k[0]),ut=b(Z,U[0]),$=b(Z,V[0]),j=b(Z,N[0]),lt=S(C(V[0],V[0]),S(C(V[1],V[1]),C(V[2],V[2]))),nt=b(lt,k[0]),ht=b(lt,U[0]),mt=b(lt,F[0]),At=b(lt,N[0]),bt=S(C(N[0],N[0]),S(C(N[1],N[1]),C(N[2],N[2]))),Pt=b(bt,k[0]),_t=b(bt,U[0]),Ut=b(bt,F[0]),St=b(bt,V[0]),Rt=S(S(S(b(S(b(a(St,At),F[1]),S(b(a(Ut,j),-V[1]),b(a(mt,$),N[1]))),U[2]),S(b(S(b(a(St,At),U[1]),S(b(a(_t,tt),-V[1]),b(a(ht,Q),N[1]))),-F[2]),b(S(b(a(Ut,j),U[1]),S(b(a(_t,tt),-F[1]),b(a(ut,ot),N[1]))),V[2]))),S(b(S(b(a(mt,$),U[1]),S(b(a(ht,Q),-F[1]),b(a(ut,ot),V[1]))),-N[2]),S(b(S(b(a(St,At),U[1]),S(b(a(_t,tt),-V[1]),b(a(ht,Q),N[1]))),k[2]),b(S(b(a(St,At),k[1]),S(b(a(Pt,et),-V[1]),b(a(nt,J),N[1]))),-U[2])))),S(S(b(S(b(a(_t,tt),k[1]),S(b(a(Pt,et),-U[1]),b(a(ft,H),N[1]))),V[2]),S(b(S(b(a(ht,Q),k[1]),S(b(a(nt,J),-U[1]),b(a(ft,H),V[1]))),-N[2]),b(S(b(a(mt,$),U[1]),S(b(a(ht,Q),-F[1]),b(a(ut,ot),V[1]))),k[2]))),S(b(S(b(a(mt,$),k[1]),S(b(a(nt,J),-F[1]),b(a(q,X),V[1]))),-U[2]),S(b(S(b(a(ht,Q),k[1]),S(b(a(nt,J),-U[1]),b(a(ft,H),V[1]))),F[2]),b(S(b(a(ut,ot),k[1]),S(b(a(q,X),-U[1]),b(a(ft,H),F[1]))),-V[2]))))),Et=S(S(S(b(S(b(a(St,At),F[1]),S(b(a(Ut,j),-V[1]),b(a(mt,$),N[1]))),k[2]),b(S(b(a(St,At),k[1]),S(b(a(Pt,et),-V[1]),b(a(nt,J),N[1]))),-F[2])),S(b(S(b(a(Ut,j),k[1]),S(b(a(Pt,et),-F[1]),b(a(q,X),N[1]))),V[2]),b(S(b(a(mt,$),k[1]),S(b(a(nt,J),-F[1]),b(a(q,X),V[1]))),-N[2]))),S(S(b(S(b(a(Ut,j),U[1]),S(b(a(_t,tt),-F[1]),b(a(ut,ot),N[1]))),k[2]),b(S(b(a(Ut,j),k[1]),S(b(a(Pt,et),-F[1]),b(a(q,X),N[1]))),-U[2])),S(b(S(b(a(_t,tt),k[1]),S(b(a(Pt,et),-U[1]),b(a(ft,H),N[1]))),F[2]),b(S(b(a(ut,ot),k[1]),S(b(a(q,X),-U[1]),b(a(ft,H),F[1]))),-N[2])))),zt=a(Rt,Et);return zt[zt.length-1]}return z}function w(S,a,C,b){function z(k,U,F,V,N,O){var H=S(S(C(k[0],k[0]),C(k[1],k[1])),S(C(k[2],k[2]),C(k[3],k[3]))),X=b(H,U[0]),J=b(H,F[0]),et=b(H,V[0]),it=b(H,N[0]),ft=b(H,O[0]),ot=S(S(C(U[0],U[0]),C(U[1],U[1])),S(C(U[2],U[2]),C(U[3],U[3]))),Q=b(ot,k[0]),tt=b(ot,F[0]),Z=b(ot,V[0]),q=b(ot,N[0]),ut=b(ot,O[0]),$=S(S(C(F[0],F[0]),C(F[1],F[1])),S(C(F[2],F[2]),C(F[3],F[3]))),j=b($,k[0]),lt=b($,U[0]),nt=b($,V[0]),ht=b($,N[0]),mt=b($,O[0]),At=S(S(C(V[0],V[0]),C(V[1],V[1])),S(C(V[2],V[2]),C(V[3],V[3]))),bt=b(At,k[0]),Pt=b(At,U[0]),_t=b(At,F[0]),Ut=b(At,N[0]),St=b(At,O[0]),Rt=S(S(C(N[0],N[0]),C(N[1],N[1])),S(C(N[2],N[2]),C(N[3],N[3]))),Et=b(Rt,k[0]),zt=b(Rt,U[0]),Ct=b(Rt,F[0]),Wt=b(Rt,V[0]),Kt=b(Rt,O[0]),oe=S(S(C(O[0],O[0]),C(O[1],O[1])),S(C(O[2],O[2]),C(O[3],O[3]))),Jt=b(oe,k[0]),te=b(oe,U[0]),fe=b(oe,F[0]),ve=b(oe,V[0]),de=b(oe,N[0]),xe=S(S(S(b(S(S(b(S(b(a(de,Kt),V[1]),S(b(a(ve,St),-N[1]),b(a(Wt,Ut),O[1]))),F[2]),b(S(b(a(de,Kt),F[1]),S(b(a(fe,mt),-N[1]),b(a(Ct,ht),O[1]))),-V[2])),S(b(S(b(a(ve,St),F[1]),S(b(a(fe,mt),-V[1]),b(a(_t,nt),O[1]))),N[2]),b(S(b(a(Wt,Ut),F[1]),S(b(a(Ct,ht),-V[1]),b(a(_t,nt),N[1]))),-O[2]))),U[3]),S(b(S(S(b(S(b(a(de,Kt),V[1]),S(b(a(ve,St),-N[1]),b(a(Wt,Ut),O[1]))),U[2]),b(S(b(a(de,Kt),U[1]),S(b(a(te,ut),-N[1]),b(a(zt,q),O[1]))),-V[2])),S(b(S(b(a(ve,St),U[1]),S(b(a(te,ut),-V[1]),b(a(Pt,Z),O[1]))),N[2]),b(S(b(a(Wt,Ut),U[1]),S(b(a(zt,q),-V[1]),b(a(Pt,Z),N[1]))),-O[2]))),-F[3]),b(S(S(b(S(b(a(de,Kt),F[1]),S(b(a(fe,mt),-N[1]),b(a(Ct,ht),O[1]))),U[2]),b(S(b(a(de,Kt),U[1]),S(b(a(te,ut),-N[1]),b(a(zt,q),O[1]))),-F[2])),S(b(S(b(a(fe,mt),U[1]),S(b(a(te,ut),-F[1]),b(a(lt,tt),O[1]))),N[2]),b(S(b(a(Ct,ht),U[1]),S(b(a(zt,q),-F[1]),b(a(lt,tt),N[1]))),-O[2]))),V[3]))),S(S(b(S(S(b(S(b(a(ve,St),F[1]),S(b(a(fe,mt),-V[1]),b(a(_t,nt),O[1]))),U[2]),b(S(b(a(ve,St),U[1]),S(b(a(te,ut),-V[1]),b(a(Pt,Z),O[1]))),-F[2])),S(b(S(b(a(fe,mt),U[1]),S(b(a(te,ut),-F[1]),b(a(lt,tt),O[1]))),V[2]),b(S(b(a(_t,nt),U[1]),S(b(a(Pt,Z),-F[1]),b(a(lt,tt),V[1]))),-O[2]))),-N[3]),b(S(S(b(S(b(a(Wt,Ut),F[1]),S(b(a(Ct,ht),-V[1]),b(a(_t,nt),N[1]))),U[2]),b(S(b(a(Wt,Ut),U[1]),S(b(a(zt,q),-V[1]),b(a(Pt,Z),N[1]))),-F[2])),S(b(S(b(a(Ct,ht),U[1]),S(b(a(zt,q),-F[1]),b(a(lt,tt),N[1]))),V[2]),b(S(b(a(_t,nt),U[1]),S(b(a(Pt,Z),-F[1]),b(a(lt,tt),V[1]))),-N[2]))),O[3])),S(b(S(S(b(S(b(a(de,Kt),V[1]),S(b(a(ve,St),-N[1]),b(a(Wt,Ut),O[1]))),U[2]),b(S(b(a(de,Kt),U[1]),S(b(a(te,ut),-N[1]),b(a(zt,q),O[1]))),-V[2])),S(b(S(b(a(ve,St),U[1]),S(b(a(te,ut),-V[1]),b(a(Pt,Z),O[1]))),N[2]),b(S(b(a(Wt,Ut),U[1]),S(b(a(zt,q),-V[1]),b(a(Pt,Z),N[1]))),-O[2]))),k[3]),b(S(S(b(S(b(a(de,Kt),V[1]),S(b(a(ve,St),-N[1]),b(a(Wt,Ut),O[1]))),k[2]),b(S(b(a(de,Kt),k[1]),S(b(a(Jt,ft),-N[1]),b(a(Et,it),O[1]))),-V[2])),S(b(S(b(a(ve,St),k[1]),S(b(a(Jt,ft),-V[1]),b(a(bt,et),O[1]))),N[2]),b(S(b(a(Wt,Ut),k[1]),S(b(a(Et,it),-V[1]),b(a(bt,et),N[1]))),-O[2]))),-U[3])))),S(S(S(b(S(S(b(S(b(a(de,Kt),U[1]),S(b(a(te,ut),-N[1]),b(a(zt,q),O[1]))),k[2]),b(S(b(a(de,Kt),k[1]),S(b(a(Jt,ft),-N[1]),b(a(Et,it),O[1]))),-U[2])),S(b(S(b(a(te,ut),k[1]),S(b(a(Jt,ft),-U[1]),b(a(Q,X),O[1]))),N[2]),b(S(b(a(zt,q),k[1]),S(b(a(Et,it),-U[1]),b(a(Q,X),N[1]))),-O[2]))),V[3]),b(S(S(b(S(b(a(ve,St),U[1]),S(b(a(te,ut),-V[1]),b(a(Pt,Z),O[1]))),k[2]),b(S(b(a(ve,St),k[1]),S(b(a(Jt,ft),-V[1]),b(a(bt,et),O[1]))),-U[2])),S(b(S(b(a(te,ut),k[1]),S(b(a(Jt,ft),-U[1]),b(a(Q,X),O[1]))),V[2]),b(S(b(a(Pt,Z),k[1]),S(b(a(bt,et),-U[1]),b(a(Q,X),V[1]))),-O[2]))),-N[3])),S(b(S(S(b(S(b(a(Wt,Ut),U[1]),S(b(a(zt,q),-V[1]),b(a(Pt,Z),N[1]))),k[2]),b(S(b(a(Wt,Ut),k[1]),S(b(a(Et,it),-V[1]),b(a(bt,et),N[1]))),-U[2])),S(b(S(b(a(zt,q),k[1]),S(b(a(Et,it),-U[1]),b(a(Q,X),N[1]))),V[2]),b(S(b(a(Pt,Z),k[1]),S(b(a(bt,et),-U[1]),b(a(Q,X),V[1]))),-N[2]))),O[3]),b(S(S(b(S(b(a(ve,St),F[1]),S(b(a(fe,mt),-V[1]),b(a(_t,nt),O[1]))),U[2]),b(S(b(a(ve,St),U[1]),S(b(a(te,ut),-V[1]),b(a(Pt,Z),O[1]))),-F[2])),S(b(S(b(a(fe,mt),U[1]),S(b(a(te,ut),-F[1]),b(a(lt,tt),O[1]))),V[2]),b(S(b(a(_t,nt),U[1]),S(b(a(Pt,Z),-F[1]),b(a(lt,tt),V[1]))),-O[2]))),k[3]))),S(S(b(S(S(b(S(b(a(ve,St),F[1]),S(b(a(fe,mt),-V[1]),b(a(_t,nt),O[1]))),k[2]),b(S(b(a(ve,St),k[1]),S(b(a(Jt,ft),-V[1]),b(a(bt,et),O[1]))),-F[2])),S(b(S(b(a(fe,mt),k[1]),S(b(a(Jt,ft),-F[1]),b(a(j,J),O[1]))),V[2]),b(S(b(a(_t,nt),k[1]),S(b(a(bt,et),-F[1]),b(a(j,J),V[1]))),-O[2]))),-U[3]),b(S(S(b(S(b(a(ve,St),U[1]),S(b(a(te,ut),-V[1]),b(a(Pt,Z),O[1]))),k[2]),b(S(b(a(ve,St),k[1]),S(b(a(Jt,ft),-V[1]),b(a(bt,et),O[1]))),-U[2])),S(b(S(b(a(te,ut),k[1]),S(b(a(Jt,ft),-U[1]),b(a(Q,X),O[1]))),V[2]),b(S(b(a(Pt,Z),k[1]),S(b(a(bt,et),-U[1]),b(a(Q,X),V[1]))),-O[2]))),F[3])),S(b(S(S(b(S(b(a(fe,mt),U[1]),S(b(a(te,ut),-F[1]),b(a(lt,tt),O[1]))),k[2]),b(S(b(a(fe,mt),k[1]),S(b(a(Jt,ft),-F[1]),b(a(j,J),O[1]))),-U[2])),S(b(S(b(a(te,ut),k[1]),S(b(a(Jt,ft),-U[1]),b(a(Q,X),O[1]))),F[2]),b(S(b(a(lt,tt),k[1]),S(b(a(j,J),-U[1]),b(a(Q,X),F[1]))),-O[2]))),-V[3]),b(S(S(b(S(b(a(_t,nt),U[1]),S(b(a(Pt,Z),-F[1]),b(a(lt,tt),V[1]))),k[2]),b(S(b(a(_t,nt),k[1]),S(b(a(bt,et),-F[1]),b(a(j,J),V[1]))),-U[2])),S(b(S(b(a(Pt,Z),k[1]),S(b(a(bt,et),-U[1]),b(a(Q,X),V[1]))),F[2]),b(S(b(a(lt,tt),k[1]),S(b(a(j,J),-U[1]),b(a(Q,X),F[1]))),-V[2]))),O[3]))))),Me=S(S(S(b(S(S(b(S(b(a(de,Kt),V[1]),S(b(a(ve,St),-N[1]),b(a(Wt,Ut),O[1]))),F[2]),b(S(b(a(de,Kt),F[1]),S(b(a(fe,mt),-N[1]),b(a(Ct,ht),O[1]))),-V[2])),S(b(S(b(a(ve,St),F[1]),S(b(a(fe,mt),-V[1]),b(a(_t,nt),O[1]))),N[2]),b(S(b(a(Wt,Ut),F[1]),S(b(a(Ct,ht),-V[1]),b(a(_t,nt),N[1]))),-O[2]))),k[3]),S(b(S(S(b(S(b(a(de,Kt),V[1]),S(b(a(ve,St),-N[1]),b(a(Wt,Ut),O[1]))),k[2]),b(S(b(a(de,Kt),k[1]),S(b(a(Jt,ft),-N[1]),b(a(Et,it),O[1]))),-V[2])),S(b(S(b(a(ve,St),k[1]),S(b(a(Jt,ft),-V[1]),b(a(bt,et),O[1]))),N[2]),b(S(b(a(Wt,Ut),k[1]),S(b(a(Et,it),-V[1]),b(a(bt,et),N[1]))),-O[2]))),-F[3]),b(S(S(b(S(b(a(de,Kt),F[1]),S(b(a(fe,mt),-N[1]),b(a(Ct,ht),O[1]))),k[2]),b(S(b(a(de,Kt),k[1]),S(b(a(Jt,ft),-N[1]),b(a(Et,it),O[1]))),-F[2])),S(b(S(b(a(fe,mt),k[1]),S(b(a(Jt,ft),-F[1]),b(a(j,J),O[1]))),N[2]),b(S(b(a(Ct,ht),k[1]),S(b(a(Et,it),-F[1]),b(a(j,J),N[1]))),-O[2]))),V[3]))),S(S(b(S(S(b(S(b(a(ve,St),F[1]),S(b(a(fe,mt),-V[1]),b(a(_t,nt),O[1]))),k[2]),b(S(b(a(ve,St),k[1]),S(b(a(Jt,ft),-V[1]),b(a(bt,et),O[1]))),-F[2])),S(b(S(b(a(fe,mt),k[1]),S(b(a(Jt,ft),-F[1]),b(a(j,J),O[1]))),V[2]),b(S(b(a(_t,nt),k[1]),S(b(a(bt,et),-F[1]),b(a(j,J),V[1]))),-O[2]))),-N[3]),b(S(S(b(S(b(a(Wt,Ut),F[1]),S(b(a(Ct,ht),-V[1]),b(a(_t,nt),N[1]))),k[2]),b(S(b(a(Wt,Ut),k[1]),S(b(a(Et,it),-V[1]),b(a(bt,et),N[1]))),-F[2])),S(b(S(b(a(Ct,ht),k[1]),S(b(a(Et,it),-F[1]),b(a(j,J),N[1]))),V[2]),b(S(b(a(_t,nt),k[1]),S(b(a(bt,et),-F[1]),b(a(j,J),V[1]))),-N[2]))),O[3])),S(b(S(S(b(S(b(a(de,Kt),F[1]),S(b(a(fe,mt),-N[1]),b(a(Ct,ht),O[1]))),U[2]),b(S(b(a(de,Kt),U[1]),S(b(a(te,ut),-N[1]),b(a(zt,q),O[1]))),-F[2])),S(b(S(b(a(fe,mt),U[1]),S(b(a(te,ut),-F[1]),b(a(lt,tt),O[1]))),N[2]),b(S(b(a(Ct,ht),U[1]),S(b(a(zt,q),-F[1]),b(a(lt,tt),N[1]))),-O[2]))),k[3]),b(S(S(b(S(b(a(de,Kt),F[1]),S(b(a(fe,mt),-N[1]),b(a(Ct,ht),O[1]))),k[2]),b(S(b(a(de,Kt),k[1]),S(b(a(Jt,ft),-N[1]),b(a(Et,it),O[1]))),-F[2])),S(b(S(b(a(fe,mt),k[1]),S(b(a(Jt,ft),-F[1]),b(a(j,J),O[1]))),N[2]),b(S(b(a(Ct,ht),k[1]),S(b(a(Et,it),-F[1]),b(a(j,J),N[1]))),-O[2]))),-U[3])))),S(S(S(b(S(S(b(S(b(a(de,Kt),U[1]),S(b(a(te,ut),-N[1]),b(a(zt,q),O[1]))),k[2]),b(S(b(a(de,Kt),k[1]),S(b(a(Jt,ft),-N[1]),b(a(Et,it),O[1]))),-U[2])),S(b(S(b(a(te,ut),k[1]),S(b(a(Jt,ft),-U[1]),b(a(Q,X),O[1]))),N[2]),b(S(b(a(zt,q),k[1]),S(b(a(Et,it),-U[1]),b(a(Q,X),N[1]))),-O[2]))),F[3]),b(S(S(b(S(b(a(fe,mt),U[1]),S(b(a(te,ut),-F[1]),b(a(lt,tt),O[1]))),k[2]),b(S(b(a(fe,mt),k[1]),S(b(a(Jt,ft),-F[1]),b(a(j,J),O[1]))),-U[2])),S(b(S(b(a(te,ut),k[1]),S(b(a(Jt,ft),-U[1]),b(a(Q,X),O[1]))),F[2]),b(S(b(a(lt,tt),k[1]),S(b(a(j,J),-U[1]),b(a(Q,X),F[1]))),-O[2]))),-N[3])),S(b(S(S(b(S(b(a(Ct,ht),U[1]),S(b(a(zt,q),-F[1]),b(a(lt,tt),N[1]))),k[2]),b(S(b(a(Ct,ht),k[1]),S(b(a(Et,it),-F[1]),b(a(j,J),N[1]))),-U[2])),S(b(S(b(a(zt,q),k[1]),S(b(a(Et,it),-U[1]),b(a(Q,X),N[1]))),F[2]),b(S(b(a(lt,tt),k[1]),S(b(a(j,J),-U[1]),b(a(Q,X),F[1]))),-N[2]))),O[3]),b(S(S(b(S(b(a(Wt,Ut),F[1]),S(b(a(Ct,ht),-V[1]),b(a(_t,nt),N[1]))),U[2]),b(S(b(a(Wt,Ut),U[1]),S(b(a(zt,q),-V[1]),b(a(Pt,Z),N[1]))),-F[2])),S(b(S(b(a(Ct,ht),U[1]),S(b(a(zt,q),-F[1]),b(a(lt,tt),N[1]))),V[2]),b(S(b(a(_t,nt),U[1]),S(b(a(Pt,Z),-F[1]),b(a(lt,tt),V[1]))),-N[2]))),k[3]))),S(S(b(S(S(b(S(b(a(Wt,Ut),F[1]),S(b(a(Ct,ht),-V[1]),b(a(_t,nt),N[1]))),k[2]),b(S(b(a(Wt,Ut),k[1]),S(b(a(Et,it),-V[1]),b(a(bt,et),N[1]))),-F[2])),S(b(S(b(a(Ct,ht),k[1]),S(b(a(Et,it),-F[1]),b(a(j,J),N[1]))),V[2]),b(S(b(a(_t,nt),k[1]),S(b(a(bt,et),-F[1]),b(a(j,J),V[1]))),-N[2]))),-U[3]),b(S(S(b(S(b(a(Wt,Ut),U[1]),S(b(a(zt,q),-V[1]),b(a(Pt,Z),N[1]))),k[2]),b(S(b(a(Wt,Ut),k[1]),S(b(a(Et,it),-V[1]),b(a(bt,et),N[1]))),-U[2])),S(b(S(b(a(zt,q),k[1]),S(b(a(Et,it),-U[1]),b(a(Q,X),N[1]))),V[2]),b(S(b(a(Pt,Z),k[1]),S(b(a(bt,et),-U[1]),b(a(Q,X),V[1]))),-N[2]))),F[3])),S(b(S(S(b(S(b(a(Ct,ht),U[1]),S(b(a(zt,q),-F[1]),b(a(lt,tt),N[1]))),k[2]),b(S(b(a(Ct,ht),k[1]),S(b(a(Et,it),-F[1]),b(a(j,J),N[1]))),-U[2])),S(b(S(b(a(zt,q),k[1]),S(b(a(Et,it),-U[1]),b(a(Q,X),N[1]))),F[2]),b(S(b(a(lt,tt),k[1]),S(b(a(j,J),-U[1]),b(a(Q,X),F[1]))),-N[2]))),-V[3]),b(S(S(b(S(b(a(_t,nt),U[1]),S(b(a(Pt,Z),-F[1]),b(a(lt,tt),V[1]))),k[2]),b(S(b(a(_t,nt),k[1]),S(b(a(bt,et),-F[1]),b(a(j,J),V[1]))),-U[2])),S(b(S(b(a(Pt,Z),k[1]),S(b(a(bt,et),-U[1]),b(a(Q,X),V[1]))),F[2]),b(S(b(a(lt,tt),k[1]),S(b(a(j,J),-U[1]),b(a(Q,X),F[1]))),-V[2]))),N[3]))))),ne=a(xe,Me);return ne[ne.length-1]}return z}var A=[m,v,T];function L(S){var a=A[S.length];return a||(a=A[S.length]=c(S.length)),a.apply(void 0,S)}function x(S,a,C,b,z,k,U,F){function V(N,O,H,X,J,et){switch(arguments.length){case 0:case 1:return 0;case 2:return b(N,O);case 3:return z(N,O,H);case 4:return k(N,O,H,X);case 5:return U(N,O,H,X,J);case 6:return F(N,O,H,X,J,et)}for(var it=new Array(arguments.length),ft=0;ft<arguments.length;++ft)it[ft]=arguments[ft];return S(it)}return V}function E(){for(;A.length<=f;)A.push(c(A.length));d.exports=x.apply(void 0,[L].concat(A));for(var S=0;S<=f;++S)d.exports[S]=A[S]}E()},727:function(d,g,r){var e=r(2962),o=6;function n(A){var L=A===2?c:A===3?m:A===4?v:A===5?T:h;return A<6?L(e[A]):L(e)}function u(){return[[0]]}function f(A,L){return[[L[0]],[A[0][0]]]}function c(A){return function(x,E){return[A([[+E[0],+x[0][1]],[+E[1],+x[1][1]]]),A([[+x[0][0],+E[0]],[+x[1][0],+E[1]]]),A(x)]}}function m(A){return function(x,E){return[A([[+E[0],+x[0][1],+x[0][2]],[+E[1],+x[1][1],+x[1][2]],[+E[2],+x[2][1],+x[2][2]]]),A([[+x[0][0],+E[0],+x[0][2]],[+x[1][0],+E[1],+x[1][2]],[+x[2][0],+E[2],+x[2][2]]]),A([[+x[0][0],+x[0][1],+E[0]],[+x[1][0],+x[1][1],+E[1]],[+x[2][0],+x[2][1],+E[2]]]),A(x)]}}function v(A){return function(x,E){return[A([[+E[0],+x[0][1],+x[0][2],+x[0][3]],[+E[1],+x[1][1],+x[1][2],+x[1][3]],[+E[2],+x[2][1],+x[2][2],+x[2][3]],[+E[3],+x[3][1],+x[3][2],+x[3][3]]]),A([[+x[0][0],+E[0],+x[0][2],+x[0][3]],[+x[1][0],+E[1],+x[1][2],+x[1][3]],[+x[2][0],+E[2],+x[2][2],+x[2][3]],[+x[3][0],+E[3],+x[3][2],+x[3][3]]]),A([[+x[0][0],+x[0][1],+E[0],+x[0][3]],[+x[1][0],+x[1][1],+E[1],+x[1][3]],[+x[2][0],+x[2][1],+E[2],+x[2][3]],[+x[3][0],+x[3][1],+E[3],+x[3][3]]]),A([[+x[0][0],+x[0][1],+x[0][2],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+E[3]]]),A(x)]}}function T(A){return function(x,E){return[A([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4]]]),A([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4]]]),A([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4]]]),A([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4]]]),A([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4]]]),A(x)]}}function h(A){return function(x,E){return[A([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+E[5],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),A([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+E[5],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),A([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+E[5],+x[5][3],+x[5][4],+x[5][5]]]),A([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+E[5],+x[5][4],+x[5][5]]]),A([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+E[5],+x[5][5]]]),A([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+E[4]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+E[5]]]),A(x)]}}var i=[u,f];function p(A,L,x,E,S,a,C,b){return function(k,U){switch(k.length){case 0:return A(k,U);case 1:return L(k,U);case 2:return x(k,U);case 3:return E(k,U);case 4:return S(k,U);case 5:return a(k,U)}var F=C[k.length];return F||(F=C[k.length]=b(k.length)),F(k,U)}}function w(){for(;i.length<o;)i.push(n(i.length));d.exports=p.apply(void 0,i.concat([i,n]));for(var A=0;A<o;++A)d.exports[A]=i[A]}w()},3250:function(d,g,r){var e=r(5250),o=r(8210),n=r(3012),u=r(8545),f=5,c=11102230246251565e-32,m=(3+16*c)*c,v=(7+56*c)*c;function T(a,C,b,z){return function(U,F,V){var N=a(a(C(F[1],V[0]),C(-V[1],F[0])),a(C(U[1],F[0]),C(-F[1],U[0]))),O=a(C(U[1],V[0]),C(-V[1],U[0])),H=z(N,O);return H[H.length-1]}}function h(a,C,b,z){return function(U,F,V,N){var O=a(a(b(a(C(V[1],N[0]),C(-N[1],V[0])),F[2]),a(b(a(C(F[1],N[0]),C(-N[1],F[0])),-V[2]),b(a(C(F[1],V[0]),C(-V[1],F[0])),N[2]))),a(b(a(C(F[1],N[0]),C(-N[1],F[0])),U[2]),a(b(a(C(U[1],N[0]),C(-N[1],U[0])),-F[2]),b(a(C(U[1],F[0]),C(-F[1],U[0])),N[2])))),H=a(a(b(a(C(V[1],N[0]),C(-N[1],V[0])),U[2]),a(b(a(C(U[1],N[0]),C(-N[1],U[0])),-V[2]),b(a(C(U[1],V[0]),C(-V[1],U[0])),N[2]))),a(b(a(C(F[1],V[0]),C(-V[1],F[0])),U[2]),a(b(a(C(U[1],V[0]),C(-V[1],U[0])),-F[2]),b(a(C(U[1],F[0]),C(-F[1],U[0])),V[2])))),X=z(O,H);return X[X.length-1]}}function i(a,C,b,z){return function(U,F,V,N,O){var H=a(a(a(b(a(b(a(C(N[1],O[0]),C(-O[1],N[0])),V[2]),a(b(a(C(V[1],O[0]),C(-O[1],V[0])),-N[2]),b(a(C(V[1],N[0]),C(-N[1],V[0])),O[2]))),F[3]),a(b(a(b(a(C(N[1],O[0]),C(-O[1],N[0])),F[2]),a(b(a(C(F[1],O[0]),C(-O[1],F[0])),-N[2]),b(a(C(F[1],N[0]),C(-N[1],F[0])),O[2]))),-V[3]),b(a(b(a(C(V[1],O[0]),C(-O[1],V[0])),F[2]),a(b(a(C(F[1],O[0]),C(-O[1],F[0])),-V[2]),b(a(C(F[1],V[0]),C(-V[1],F[0])),O[2]))),N[3]))),a(b(a(b(a(C(V[1],N[0]),C(-N[1],V[0])),F[2]),a(b(a(C(F[1],N[0]),C(-N[1],F[0])),-V[2]),b(a(C(F[1],V[0]),C(-V[1],F[0])),N[2]))),-O[3]),a(b(a(b(a(C(N[1],O[0]),C(-O[1],N[0])),F[2]),a(b(a(C(F[1],O[0]),C(-O[1],F[0])),-N[2]),b(a(C(F[1],N[0]),C(-N[1],F[0])),O[2]))),U[3]),b(a(b(a(C(N[1],O[0]),C(-O[1],N[0])),U[2]),a(b(a(C(U[1],O[0]),C(-O[1],U[0])),-N[2]),b(a(C(U[1],N[0]),C(-N[1],U[0])),O[2]))),-F[3])))),a(a(b(a(b(a(C(F[1],O[0]),C(-O[1],F[0])),U[2]),a(b(a(C(U[1],O[0]),C(-O[1],U[0])),-F[2]),b(a(C(U[1],F[0]),C(-F[1],U[0])),O[2]))),N[3]),a(b(a(b(a(C(F[1],N[0]),C(-N[1],F[0])),U[2]),a(b(a(C(U[1],N[0]),C(-N[1],U[0])),-F[2]),b(a(C(U[1],F[0]),C(-F[1],U[0])),N[2]))),-O[3]),b(a(b(a(C(V[1],N[0]),C(-N[1],V[0])),F[2]),a(b(a(C(F[1],N[0]),C(-N[1],F[0])),-V[2]),b(a(C(F[1],V[0]),C(-V[1],F[0])),N[2]))),U[3]))),a(b(a(b(a(C(V[1],N[0]),C(-N[1],V[0])),U[2]),a(b(a(C(U[1],N[0]),C(-N[1],U[0])),-V[2]),b(a(C(U[1],V[0]),C(-V[1],U[0])),N[2]))),-F[3]),a(b(a(b(a(C(F[1],N[0]),C(-N[1],F[0])),U[2]),a(b(a(C(U[1],N[0]),C(-N[1],U[0])),-F[2]),b(a(C(U[1],F[0]),C(-F[1],U[0])),N[2]))),V[3]),b(a(b(a(C(F[1],V[0]),C(-V[1],F[0])),U[2]),a(b(a(C(U[1],V[0]),C(-V[1],U[0])),-F[2]),b(a(C(U[1],F[0]),C(-F[1],U[0])),V[2]))),-N[3]))))),X=a(a(a(b(a(b(a(C(N[1],O[0]),C(-O[1],N[0])),V[2]),a(b(a(C(V[1],O[0]),C(-O[1],V[0])),-N[2]),b(a(C(V[1],N[0]),C(-N[1],V[0])),O[2]))),U[3]),b(a(b(a(C(N[1],O[0]),C(-O[1],N[0])),U[2]),a(b(a(C(U[1],O[0]),C(-O[1],U[0])),-N[2]),b(a(C(U[1],N[0]),C(-N[1],U[0])),O[2]))),-V[3])),a(b(a(b(a(C(V[1],O[0]),C(-O[1],V[0])),U[2]),a(b(a(C(U[1],O[0]),C(-O[1],U[0])),-V[2]),b(a(C(U[1],V[0]),C(-V[1],U[0])),O[2]))),N[3]),b(a(b(a(C(V[1],N[0]),C(-N[1],V[0])),U[2]),a(b(a(C(U[1],N[0]),C(-N[1],U[0])),-V[2]),b(a(C(U[1],V[0]),C(-V[1],U[0])),N[2]))),-O[3]))),a(a(b(a(b(a(C(V[1],O[0]),C(-O[1],V[0])),F[2]),a(b(a(C(F[1],O[0]),C(-O[1],F[0])),-V[2]),b(a(C(F[1],V[0]),C(-V[1],F[0])),O[2]))),U[3]),b(a(b(a(C(V[1],O[0]),C(-O[1],V[0])),U[2]),a(b(a(C(U[1],O[0]),C(-O[1],U[0])),-V[2]),b(a(C(U[1],V[0]),C(-V[1],U[0])),O[2]))),-F[3])),a(b(a(b(a(C(F[1],O[0]),C(-O[1],F[0])),U[2]),a(b(a(C(U[1],O[0]),C(-O[1],U[0])),-F[2]),b(a(C(U[1],F[0]),C(-F[1],U[0])),O[2]))),V[3]),b(a(b(a(C(F[1],V[0]),C(-V[1],F[0])),U[2]),a(b(a(C(U[1],V[0]),C(-V[1],U[0])),-F[2]),b(a(C(U[1],F[0]),C(-F[1],U[0])),V[2]))),-O[3])))),J=z(H,X);return J[J.length-1]}}function p(a){var C=a===3?T:a===4?h:i;return C(o,e,n,u)}var w=p(3),A=p(4),L=[function(){return 0},function(){return 0},function(C,b){return b[0]-C[0]},function(C,b,z){var k=(C[1]-z[1])*(b[0]-z[0]),U=(C[0]-z[0])*(b[1]-z[1]),F=k-U,V;if(k>0){if(U<=0)return F;V=k+U}else if(k<0){if(U>=0)return F;V=-(k+U)}else return F;var N=m*V;return F>=N||F<=-N?F:w(C,b,z)},function(C,b,z,k){var U=C[0]-k[0],F=b[0]-k[0],V=z[0]-k[0],N=C[1]-k[1],O=b[1]-k[1],H=z[1]-k[1],X=C[2]-k[2],J=b[2]-k[2],et=z[2]-k[2],it=F*H,ft=V*O,ot=V*N,Q=U*H,tt=U*O,Z=F*N,q=X*(it-ft)+J*(ot-Q)+et*(tt-Z),ut=(Math.abs(it)+Math.abs(ft))*Math.abs(X)+(Math.abs(ot)+Math.abs(Q))*Math.abs(J)+(Math.abs(tt)+Math.abs(Z))*Math.abs(et),$=v*ut;return q>$||-q>$?q:A(C,b,z,k)}];function x(a){var C=L[a.length];return C||(C=L[a.length]=p(a.length)),C.apply(void 0,a)}function E(a,C,b,z,k,U,F){return function(N,O,H,X,J){switch(arguments.length){case 0:case 1:return 0;case 2:return z(N,O);case 3:return k(N,O,H);case 4:return U(N,O,H,X);case 5:return F(N,O,H,X,J)}for(var et=new Array(arguments.length),it=0;it<arguments.length;++it)et[it]=arguments[it];return a(et)}}function S(){for(;L.length<=f;)L.push(p(L.length));d.exports=E.apply(void 0,[x].concat(L));for(var a=0;a<=f;++a)d.exports[a]=L[a]}S()},5382:function(d,g,r){var e=r(8210),o=r(3012);d.exports=n;function n(u,f){if(u.length===1)return o(f,u[0]);if(f.length===1)return o(u,f[0]);if(u.length===0||f.length===0)return[0];var c=[0];if(u.length<f.length)for(var m=0;m<u.length;++m)c=e(c,o(f,u[m]));else for(var m=0;m<f.length;++m)c=e(c,o(u,f[m]));return c}},3012:function(d,g,r){var e=r(5250),o=r(9362);d.exports=n;function n(u,f){var c=u.length;if(c===1){var m=e(u[0],f);return m[0]?m:[m[1]]}var v=new Array(2*c),T=[.1,.1],h=[.1,.1],i=0;e(u[0],f,T),T[0]&&(v[i++]=T[0]);for(var p=1;p<c;++p){e(u[p],f,h);var w=T[1];o(w,h[0],T),T[0]&&(v[i++]=T[0]);var A=h[1],L=T[1],x=A+L,E=x-A,S=L-E;T[1]=x,S&&(v[i++]=S)}return T[1]&&(v[i++]=T[1]),i===0&&(v[i++]=0),v.length=i,v}},1125:function(d,g,r){d.exports=n;var e=r(3250)[3];function o(u,f,c,m){for(var v=0;v<2;++v){var T=u[v],h=f[v],i=Math.min(T,h),p=Math.max(T,h),w=c[v],A=m[v],L=Math.min(w,A),x=Math.max(w,A);if(x<i||p<L)return!1}return!0}function n(u,f,c,m){var v=e(u,c,m),T=e(f,c,m);if(v>0&&T>0||v<0&&T<0)return!1;var h=e(c,u,f),i=e(m,u,f);return h>0&&i>0||h<0&&i<0?!1:v===0&&T===0&&h===0&&i===0?o(u,f,c,m):!0}},8545:function(d){d.exports=r;function g(e,o){var n=e+o,u=n-e,f=n-u,c=o-u,m=e-f,v=m+c;return v?[v,n]:[n]}function r(e,o){var n=e.length|0,u=o.length|0;if(n===1&&u===1)return g(e[0],-o[0]);var f=n+u,c=new Array(f),m=0,v=0,T=0,h=Math.abs,i=e[v],p=h(i),w=-o[T],A=h(w),L,x;p<A?(x=i,v+=1,v<n&&(i=e[v],p=h(i))):(x=w,T+=1,T<u&&(w=-o[T],A=h(w))),v<n&&p<A||T>=u?(L=i,v+=1,v<n&&(i=e[v],p=h(i))):(L=w,T+=1,T<u&&(w=-o[T],A=h(w)));for(var E=L+x,S=E-L,a=x-S,C=a,b=E,z,k,U,F,V;v<n&&T<u;)p<A?(L=i,v+=1,v<n&&(i=e[v],p=h(i))):(L=w,T+=1,T<u&&(w=-o[T],A=h(w))),x=C,E=L+x,S=E-L,a=x-S,a&&(c[m++]=a),z=b+E,k=z-b,U=z-k,F=E-k,V=b-U,C=V+F,b=z;for(;v<n;)L=i,x=C,E=L+x,S=E-L,a=x-S,a&&(c[m++]=a),z=b+E,k=z-b,U=z-k,F=E-k,V=b-U,C=V+F,b=z,v+=1,v<n&&(i=e[v]);for(;T<u;)L=w,x=C,E=L+x,S=E-L,a=x-S,a&&(c[m++]=a),z=b+E,k=z-b,U=z-k,F=E-k,V=b-U,C=V+F,b=z,T+=1,T<u&&(w=-o[T]);return C&&(c[m++]=C),b&&(c[m++]=b),m||(c[m++]=0),c.length=m,c}},8210:function(d){d.exports=r;function g(e,o){var n=e+o,u=n-e,f=n-u,c=o-u,m=e-f,v=m+c;return v?[v,n]:[n]}function r(e,o){var n=e.length|0,u=o.length|0;if(n===1&&u===1)return g(e[0],o[0]);var f=n+u,c=new Array(f),m=0,v=0,T=0,h=Math.abs,i=e[v],p=h(i),w=o[T],A=h(w),L,x;p<A?(x=i,v+=1,v<n&&(i=e[v],p=h(i))):(x=w,T+=1,T<u&&(w=o[T],A=h(w))),v<n&&p<A||T>=u?(L=i,v+=1,v<n&&(i=e[v],p=h(i))):(L=w,T+=1,T<u&&(w=o[T],A=h(w)));for(var E=L+x,S=E-L,a=x-S,C=a,b=E,z,k,U,F,V;v<n&&T<u;)p<A?(L=i,v+=1,v<n&&(i=e[v],p=h(i))):(L=w,T+=1,T<u&&(w=o[T],A=h(w))),x=C,E=L+x,S=E-L,a=x-S,a&&(c[m++]=a),z=b+E,k=z-b,U=z-k,F=E-k,V=b-U,C=V+F,b=z;for(;v<n;)L=i,x=C,E=L+x,S=E-L,a=x-S,a&&(c[m++]=a),z=b+E,k=z-b,U=z-k,F=E-k,V=b-U,C=V+F,b=z,v+=1,v<n&&(i=e[v]);for(;T<u;)L=w,x=C,E=L+x,S=E-L,a=x-S,a&&(c[m++]=a),z=b+E,k=z-b,U=z-k,F=E-k,V=b-U,C=V+F,b=z,T+=1,T<u&&(w=o[T]);return C&&(c[m++]=C),b&&(c[m++]=b),m||(c[m++]=0),c.length=m,c}},9127:function(d,g,r){d.exports=n;var e=r(6204),o=r(5771);function n(u){return o(e(u))}},7765:function(d,g,r){d.exports=i;var e=r(9618),o=r(1888),n=r(446),u=r(1570);function f(p){for(var w=p.length,A=0,L=0;L<w;++L)A=Math.max(A,p[L].length)|0;return A-1}function c(p,w){for(var A=p.length,L=o.mallocUint8(A),x=0;x<A;++x)L[x]=p[x]<w|0;return L}function m(p,w){for(var A=p.length,L=w*(w+1)/2*A|0,x=o.mallocUint32(L*2),E=0,S=0;S<A;++S)for(var a=p[S],w=a.length,C=0;C<w;++C)for(var b=0;b<C;++b){var z=a[b],k=a[C];x[E++]=Math.min(z,k)|0,x[E++]=Math.max(z,k)|0}var U=E/2|0;n(e(x,[U,2]));for(var F=2,S=2;S<E;S+=2)x[S-2]===x[S]&&x[S-1]===x[S+1]||(x[F++]=x[S],x[F++]=x[S+1]);return e(x,[F/2|0,2])}function v(p,w,A,L){for(var x=p.data,E=p.shape[0],S=o.mallocDouble(E),a=0,C=0;C<E;++C){var b=x[2*C],z=x[2*C+1];if(A[b]!==A[z]){var k=w[b],U=w[z];x[2*a]=b,x[2*a+1]=z,S[a++]=(U-L)/(U-k)}}return p.shape[0]=a,e(S,[a])}function T(p,w){var A=o.mallocInt32(w*2),L=p.shape[0],x=p.data;A[0]=0;for(var E=0,S=0;S<L;++S){var a=x[2*S];if(a!==E){for(A[2*E+1]=S;++E<a;)A[2*E]=S,A[2*E+1]=S;A[2*E]=S}}for(A[2*E+1]=L;++E<w;)A[2*E]=A[2*E+1]=L;return A}function h(p){for(var w=p.shape[0]|0,A=p.data,L=new Array(w),x=0;x<w;++x)L[x]=[A[2*x],A[2*x+1]];return L}function i(p,w,A,L){A=A||0,typeof L>"u"&&(L=f(p));var x=p.length;if(x===0||L<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=c(w,+A),S=m(p,L),a=v(S,w,E,+A),C=T(S,w.length|0),b=u(L)(p,S.data,C,E),z=h(S),k=[].slice.call(a.data,0,a.shape[0]);return o.free(E),o.free(S.data),o.free(a.data),o.free(C),{cells:b,vertexIds:z,vertexWeights:k}}},1570:function(d){d.exports=r;var g=[function(){function o(n,u,f,c){for(var m=n.length,v=[],T=0;T<m;++T){var h=n[T];h.length}return v}return o},function(){function o(u,f,c,m){for(var v=Math.min(c,m)|0,T=Math.max(c,m)|0,h=u[2*v],i=u[2*v+1];h<i;){var p=h+i>>1,w=f[2*p+1];if(w===T)return p;T<w?i=p:h=p+1}return h}function n(u,f,c,m){for(var v=u.length,T=[],h=0;h<v;++h){var i=u[h],p=i.length;if(p===2){var w=(m[i[0]]<<0)+(m[i[1]]<<1);if(w===0||w===3)continue;switch(w){case 0:break;case 1:T.push([o(c,f,i[0],i[1])]);break;case 2:T.push([o(c,f,i[1],i[0])]);break}}}return T}return n},function(){function o(u,f,c,m){for(var v=Math.min(c,m)|0,T=Math.max(c,m)|0,h=u[2*v],i=u[2*v+1];h<i;){var p=h+i>>1,w=f[2*p+1];if(w===T)return p;T<w?i=p:h=p+1}return h}function n(u,f,c,m){for(var v=u.length,T=[],h=0;h<v;++h){var i=u[h],p=i.length;if(p===3){var w=(m[i[0]]<<0)+(m[i[1]]<<1)+(m[i[2]]<<2);if(w===0||w===7)continue;switch(w){case 0:break;case 1:T.push([o(c,f,i[0],i[2]),o(c,f,i[0],i[1])]);break;case 2:T.push([o(c,f,i[1],i[0]),o(c,f,i[1],i[2])]);break;case 3:T.push([o(c,f,i[0],i[2]),o(c,f,i[1],i[2])]);break;case 4:T.push([o(c,f,i[2],i[1]),o(c,f,i[2],i[0])]);break;case 5:T.push([o(c,f,i[2],i[1]),o(c,f,i[0],i[1])]);break;case 6:T.push([o(c,f,i[1],i[0]),o(c,f,i[2],i[0])]);break}}else if(p===2){var w=(m[i[0]]<<0)+(m[i[1]]<<1);if(w===0||w===3)continue;switch(w){case 0:break;case 1:T.push([o(c,f,i[0],i[1])]);break;case 2:T.push([o(c,f,i[1],i[0])]);break}}}return T}return n},function(){function o(u,f,c,m){for(var v=Math.min(c,m)|0,T=Math.max(c,m)|0,h=u[2*v],i=u[2*v+1];h<i;){var p=h+i>>1,w=f[2*p+1];if(w===T)return p;T<w?i=p:h=p+1}return h}function n(u,f,c,m){for(var v=u.length,T=[],h=0;h<v;++h){var i=u[h],p=i.length;if(p===4){var w=(m[i[0]]<<0)+(m[i[1]]<<1)+(m[i[2]]<<2)+(m[i[3]]<<3);if(w===0||w===15)continue;switch(w){case 0:break;case 1:T.push([o(c,f,i[0],i[1]),o(c,f,i[0],i[2]),o(c,f,i[0],i[3])]);break;case 2:T.push([o(c,f,i[1],i[2]),o(c,f,i[1],i[0]),o(c,f,i[1],i[3])]);break;case 3:T.push([o(c,f,i[1],i[2]),o(c,f,i[0],i[2]),o(c,f,i[0],i[3])],[o(c,f,i[1],i[3]),o(c,f,i[1],i[2]),o(c,f,i[0],i[3])]);break;case 4:T.push([o(c,f,i[2],i[0]),o(c,f,i[2],i[1]),o(c,f,i[2],i[3])]);break;case 5:T.push([o(c,f,i[0],i[1]),o(c,f,i[2],i[1]),o(c,f,i[0],i[3])],[o(c,f,i[2],i[1]),o(c,f,i[2],i[3]),o(c,f,i[0],i[3])]);break;case 6:T.push([o(c,f,i[2],i[0]),o(c,f,i[1],i[0]),o(c,f,i[1],i[3])],[o(c,f,i[2],i[3]),o(c,f,i[2],i[0]),o(c,f,i[1],i[3])]);break;case 7:T.push([o(c,f,i[0],i[3]),o(c,f,i[1],i[3]),o(c,f,i[2],i[3])]);break;case 8:T.push([o(c,f,i[3],i[1]),o(c,f,i[3],i[0]),o(c,f,i[3],i[2])]);break;case 9:T.push([o(c,f,i[3],i[1]),o(c,f,i[0],i[1]),o(c,f,i[0],i[2])],[o(c,f,i[3],i[2]),o(c,f,i[3],i[1]),o(c,f,i[0],i[2])]);break;case 10:T.push([o(c,f,i[1],i[0]),o(c,f,i[3],i[0]),o(c,f,i[1],i[2])],[o(c,f,i[3],i[0]),o(c,f,i[3],i[2]),o(c,f,i[1],i[2])]);break;case 11:T.push([o(c,f,i[1],i[2]),o(c,f,i[0],i[2]),o(c,f,i[3],i[2])]);break;case 12:T.push([o(c,f,i[3],i[0]),o(c,f,i[2],i[0]),o(c,f,i[2],i[1])],[o(c,f,i[3],i[1]),o(c,f,i[3],i[0]),o(c,f,i[2],i[1])]);break;case 13:T.push([o(c,f,i[0],i[1]),o(c,f,i[2],i[1]),o(c,f,i[3],i[1])]);break;case 14:T.push([o(c,f,i[2],i[0]),o(c,f,i[1],i[0]),o(c,f,i[3],i[0])]);break}}else if(p===3){var w=(m[i[0]]<<0)+(m[i[1]]<<1)+(m[i[2]]<<2);if(w===0||w===7)continue;switch(w){case 0:break;case 1:T.push([o(c,f,i[0],i[2]),o(c,f,i[0],i[1])]);break;case 2:T.push([o(c,f,i[1],i[0]),o(c,f,i[1],i[2])]);break;case 3:T.push([o(c,f,i[0],i[2]),o(c,f,i[1],i[2])]);break;case 4:T.push([o(c,f,i[2],i[1]),o(c,f,i[2],i[0])]);break;case 5:T.push([o(c,f,i[2],i[1]),o(c,f,i[0],i[1])]);break;case 6:T.push([o(c,f,i[1],i[0]),o(c,f,i[2],i[0])]);break}}else if(p===2){var w=(m[i[0]]<<0)+(m[i[1]]<<1);if(w===0||w===3)continue;switch(w){case 0:break;case 1:T.push([o(c,f,i[0],i[1])]);break;case 2:T.push([o(c,f,i[1],i[0])]);break}}}return T}return n}];function r(e){return g[e]()}},6803:function(d,g,r){r(8828),r(1755);function e(o,n){var u=o.length,f=o.length-n.length,c=Math.min;if(f)return f;switch(u){case 0:return 0;case 1:return o[0]-n[0];case 2:var i=o[0]+o[1]-n[0]-n[1];return i||c(o[0],o[1])-c(n[0],n[1]);case 3:var m=o[0]+o[1],v=n[0]+n[1];if(i=m+o[2]-(v+n[2]),i)return i;var T=c(o[0],o[1]),h=c(n[0],n[1]),i=c(T,o[2])-c(h,n[2]);return i||c(T+o[2],m)-c(h+n[2],v);default:var p=o.slice(0);p.sort();var w=n.slice(0);w.sort();for(var A=0;A<u;++A)if(f=p[A]-w[A],f)return f;return 0}}g.Fw=e},3105:function(d,g){"use restrict";var r=32;g.INT_BITS=r,g.INT_MAX=2147483647,g.INT_MIN=-1<<r-1,g.sign=function(n){return(n>0)-(n<0)},g.abs=function(n){var u=n>>r-1;return(n^u)-u},g.min=function(n,u){return u^(n^u)&-(n<u)},g.max=function(n,u){return n^(n^u)&-(n<u)},g.isPow2=function(n){return!(n&n-1)&&!!n},g.log2=function(n){var u,f;return u=(n>65535)<<4,n>>>=u,f=(n>255)<<3,n>>>=f,u|=f,f=(n>15)<<2,n>>>=f,u|=f,f=(n>3)<<1,n>>>=f,u|=f,u|n>>1},g.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},g.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function e(n){var u=32;return n&=-n,n&&u--,n&65535&&(u-=16),n&16711935&&(u-=8),n&252645135&&(u-=4),n&858993459&&(u-=2),n&1431655765&&(u-=1),u}g.countTrailingZeros=e,g.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},g.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},g.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var o=new Array(256);(function(n){for(var u=0;u<256;++u){var f=u,c=u,m=7;for(f>>>=1;f;f>>>=1)c<<=1,c|=f&1,--m;n[u]=c<<m&255}})(o),g.reverse=function(n){return o[n&255]<<24|o[n>>>8&255]<<16|o[n>>>16&255]<<8|o[n>>>24&255]},g.interleave2=function(n,u){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,n|u<<1},g.deinterleave2=function(n,u){return n=n>>>u&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},g.interleave3=function(n,u,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|=u<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},g.deinterleave3=function(n,u){return n=n>>>u&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},g.nextCombination=function(n){var u=n|n-1;return u+1|(~u&-~u)-1>>>e(n)+1}},2014:function(d,g,r){"use restrict";var e=r(3105),o=r(4623);function n(a){for(var C=0,b=Math.max,z=0,k=a.length;z<k;++z)C=b(C,a[z].length);return C-1}g.dimension=n;function u(a){for(var C=-1,b=Math.max,z=0,k=a.length;z<k;++z)for(var U=a[z],F=0,V=U.length;F<V;++F)C=b(C,U[F]);return C+1}g.countVertices=u;function f(a){for(var C=new Array(a.length),b=0,z=a.length;b<z;++b)C[b]=a[b].slice(0);return C}g.cloneCells=f;function c(a,C){var b=a.length,z=a.length-C.length,k=Math.min;if(z)return z;switch(b){case 0:return 0;case 1:return a[0]-C[0];case 2:var O=a[0]+a[1]-C[0]-C[1];return O||k(a[0],a[1])-k(C[0],C[1]);case 3:var U=a[0]+a[1],F=C[0]+C[1];if(O=U+a[2]-(F+C[2]),O)return O;var V=k(a[0],a[1]),N=k(C[0],C[1]),O=k(V,a[2])-k(N,C[2]);return O||k(V+a[2],U)-k(N+C[2],F);default:var H=a.slice(0);H.sort();var X=C.slice(0);X.sort();for(var J=0;J<b;++J)if(z=H[J]-X[J],z)return z;return 0}}g.compareCells=c;function m(a,C){return c(a[0],C[0])}function v(a,C){if(C){for(var b=a.length,z=new Array(b),k=0;k<b;++k)z[k]=[a[k],C[k]];z.sort(m);for(var k=0;k<b;++k)a[k]=z[k][0],C[k]=z[k][1];return a}else return a.sort(c),a}g.normalize=v;function T(a){if(a.length===0)return[];for(var C=1,b=a.length,z=1;z<b;++z){var k=a[z];if(c(k,a[z-1])){if(z===C){C++;continue}a[C++]=k}}return a.length=C,a}g.unique=T;function h(a,C){for(var b=0,z=a.length-1,k=-1;b<=z;){var U=b+z>>1,F=c(a[U],C);F<=0?(F===0&&(k=U),b=U+1):F>0&&(z=U-1)}return k}g.findCell=h;function i(a,C){for(var b=new Array(a.length),z=0,k=b.length;z<k;++z)b[z]=[];for(var U=[],z=0,F=C.length;z<F;++z)for(var V=C[z],N=V.length,O=1,H=1<<N;O<H;++O){U.length=e.popCount(O);for(var X=0,J=0;J<N;++J)O&1<<J&&(U[X++]=V[J]);var et=h(a,U);if(!(et<0))for(;b[et++].push(z),!(et>=a.length||c(a[et],U)!==0););}return b}g.incidence=i;function p(a,C){if(!C)return i(T(A(a,0)),a);for(var b=new Array(C),z=0;z<C;++z)b[z]=[];for(var z=0,k=a.length;z<k;++z)for(var U=a[z],F=0,V=U.length;F<V;++F)b[U[F]].push(z);return b}g.dual=p;function w(a){for(var C=[],b=0,z=a.length;b<z;++b)for(var k=a[b],U=k.length|0,F=1,V=1<<U;F<V;++F){for(var N=[],O=0;O<U;++O)F>>>O&1&&N.push(k[O]);C.push(N)}return v(C)}g.explode=w;function A(a,C){if(C<0)return[];for(var b=[],z=(1<<C+1)-1,k=0;k<a.length;++k)for(var U=a[k],F=z;F<1<<U.length;F=e.nextCombination(F)){for(var V=new Array(C+1),N=0,O=0;O<U.length;++O)F&1<<O&&(V[N++]=U[O]);b.push(V)}return v(b)}g.skeleton=A;function L(a){for(var C=[],b=0,z=a.length;b<z;++b)for(var k=a[b],U=0,F=k.length;U<F;++U){for(var V=new Array(k.length-1),N=0,O=0;N<F;++N)N!==U&&(V[O++]=k[N]);C.push(V)}return v(C)}g.boundary=L;function x(a,C){for(var b=new o(C),z=0;z<a.length;++z)for(var k=a[z],U=0;U<k.length;++U)for(var F=U+1;F<k.length;++F)b.link(k[U],k[F]);for(var V=[],N=b.ranks,z=0;z<N.length;++z)N[z]=-1;for(var z=0;z<a.length;++z){var O=b.find(a[z][0]);N[O]<0?(N[O]=V.length,V.push([a[z].slice(0)])):V[N[O]].push(a[z].slice(0))}return V}function E(a){for(var C=T(v(A(a,0))),b=new o(C.length),z=0;z<a.length;++z)for(var k=a[z],U=0;U<k.length;++U)for(var F=h(C,[k[U]]),V=U+1;V<k.length;++V)b.link(F,h(C,[k[V]]));for(var N=[],O=b.ranks,z=0;z<O.length;++z)O[z]=-1;for(var z=0;z<a.length;++z){var H=b.find(h(C,[a[z][0]]));O[H]<0?(O[H]=N.length,N.push([a[z].slice(0)])):N[O[H]].push(a[z].slice(0))}return N}function S(a,C){return C?x(a,C):E(a)}g.connectedComponents=S},4623:function(d){"use restrict";d.exports=g;function g(r){this.roots=new Array(r),this.ranks=new Array(r);for(var e=0;e<r;++e)this.roots[e]=e,this.ranks[e]=0}g.prototype.length=function(){return this.roots.length},g.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},g.prototype.find=function(r){for(var e=this.roots;e[r]!==r;){var o=e[r];e[r]=e[o],r=o}return r},g.prototype.link=function(r,e){var o=this.find(r),n=this.find(e);if(o!==n){var u=this.ranks,f=this.roots,c=u[o],m=u[n];c<m?f[o]=n:m<c?f[n]=o:(f[n]=o,++u[o])}}},5878:function(d,g,r){d.exports=u;var e=r(3250),o=r(2014);function n(f,c,m){var v=Math.abs(e(f,c,m)),T=Math.sqrt(Math.pow(c[0]-m[0],2)+Math.pow(c[1]-m[1],2));return v/T}function u(f,c,m){for(var v=c.length,T=f.length,h=new Array(v),i=new Array(v),p=new Array(v),w=new Array(v),A=0;A<v;++A)h[A]=i[A]=-1,p[A]=1/0,w[A]=!1;for(var A=0;A<T;++A){var L=f[A];if(L.length!==2)throw new Error("Input must be a graph");var x=L[1],E=L[0];i[E]!==-1?i[E]=-2:i[E]=x,h[x]!==-1?h[x]=-2:h[x]=E}function S(ot){if(w[ot])return 1/0;var Q=h[ot],tt=i[ot];return Q<0||tt<0?1/0:n(c[ot],c[Q],c[tt])}function a(ot,Q){var tt=N[ot],Z=N[Q];N[ot]=Z,N[Q]=tt,O[tt]=Q,O[Z]=ot}function C(ot){return p[N[ot]]}function b(ot){return ot&1?ot-1>>1:(ot>>1)-1}function z(ot){for(var Q=C(ot);;){var tt=Q,Z=2*ot+1,q=2*(ot+1),ut=ot;if(Z<X){var $=C(Z);$<tt&&(ut=Z,tt=$)}if(q<X){var j=C(q);j<tt&&(ut=q)}if(ut===ot)return ot;a(ot,ut),ot=ut}}function k(ot){for(var Q=C(ot);ot>0;){var tt=b(ot);if(tt>=0){var Z=C(tt);if(Q<Z){a(ot,tt),ot=tt;continue}}return ot}}function U(){if(X>0){var ot=N[0];return a(0,X-1),X-=1,z(0),ot}return-1}function F(ot,Q){var tt=N[ot];return p[tt]===Q?ot:(p[tt]=-1/0,k(ot),U(),p[tt]=Q,X+=1,k(X-1))}function V(ot){if(!w[ot]){w[ot]=!0;var Q=h[ot],tt=i[ot];h[tt]>=0&&(h[tt]=Q),i[Q]>=0&&(i[Q]=tt),O[Q]>=0&&F(O[Q],S(Q)),O[tt]>=0&&F(O[tt],S(tt))}}for(var N=[],O=new Array(v),A=0;A<v;++A){var H=p[A]=S(A);H<1/0?(O[A]=N.length,N.push(A)):O[A]=-1}for(var X=N.length,A=X>>1;A>=0;--A)z(A);for(;;){var J=U();if(J<0||p[J]>m)break;V(J)}for(var et=[],A=0;A<v;++A)w[A]||(O[A]=et.length,et.push(c[A].slice()));et.length;function it(ot,Q){if(ot[Q]<0)return Q;var tt=Q,Z=Q;do{var q=ot[Z];if(!w[Z]||q<0||q===Z||(Z=q,q=ot[Z],!w[Z]||q<0||q===Z))break;Z=q,tt=ot[tt]}while(tt!==Z);for(var ut=Q;ut!==Z;ut=ot[ut])ot[ut]=Z;return Z}var ft=[];return f.forEach(function(ot){var Q=it(h,ot[0]),tt=it(i,ot[1]);if(Q>=0&&tt>=0&&Q!==tt){var Z=O[Q],q=O[tt];Z!==q&&ft.push([Z,q])}}),o.unique(o.normalize(ft)),{positions:et,edges:ft}}},1303:function(d,g,r){d.exports=n;var e=r(3250);function o(u,f){var c,m;if(f[0][0]<f[1][0])c=f[0],m=f[1];else if(f[0][0]>f[1][0])c=f[1],m=f[0];else{var v=Math.min(u[0][1],u[1][1]),T=Math.max(u[0][1],u[1][1]),h=Math.min(f[0][1],f[1][1]),i=Math.max(f[0][1],f[1][1]);return T<h?T-h:v>i?v-i:T-i}var p,w;u[0][1]<u[1][1]?(p=u[0],w=u[1]):(p=u[1],w=u[0]);var A=e(m,c,p);return A||(A=e(m,c,w),A)?A:w-m}function n(u,f){var c,m;if(f[0][0]<f[1][0])c=f[0],m=f[1];else if(f[0][0]>f[1][0])c=f[1],m=f[0];else return o(f,u);var v,T;if(u[0][0]<u[1][0])v=u[0],T=u[1];else if(u[0][0]>u[1][0])v=u[1],T=u[0];else return-o(u,f);var h=e(c,m,T),i=e(c,m,v);if(h<0){if(i<=0)return h}else if(h>0){if(i>=0)return h}else if(i)return i;if(h=e(T,v,m),i=e(T,v,c),h<0){if(i<=0)return h}else if(h>0){if(i>=0)return h}else if(i)return i;return m[0]-T[0]}},4209:function(d,g,r){d.exports=i;var e=r(2478),o=r(3840),n=r(3250),u=r(1303);function f(p,w,A){this.slabs=p,this.coordinates=w,this.horizontal=A}var c=f.prototype;function m(p,w){return p.y-w}function v(p,w){for(var A=null;p;){var L=p.key,x,E;L[0][0]<L[1][0]?(x=L[0],E=L[1]):(x=L[1],E=L[0]);var S=n(x,E,w);if(S<0)p=p.left;else if(S>0)if(w[0]!==L[1][0])A=p,p=p.right;else{var a=v(p.right,w);if(a)return a;p=p.left}else{if(w[0]!==L[1][0])return p;var a=v(p.right,w);if(a)return a;p=p.left}}return A}c.castUp=function(p){var w=e.le(this.coordinates,p[0]);if(w<0)return-1;this.slabs[w];var A=v(this.slabs[w],p),L=-1;if(A&&(L=A.value),this.coordinates[w]===p[0]){var x=null;if(A&&(x=A.key),w>0){var E=v(this.slabs[w-1],p);E&&(x?u(E.key,x)>0&&(x=E.key,L=E.value):(L=E.value,x=E.key))}var S=this.horizontal[w];if(S.length>0){var a=e.ge(S,p[1],m);if(a<S.length){var C=S[a];if(p[1]===C.y){if(C.closed)return C.index;for(;a<S.length-1&&S[a+1].y===p[1];)if(a=a+1,C=S[a],C.closed)return C.index;if(C.y===p[1]&&!C.start){if(a=a+1,a>=S.length)return L;C=S[a]}}if(C.start)if(x){var b=n(x[0],x[1],[p[0],C.y]);x[0][0]>x[1][0]&&(b=-b),b>0&&(L=C.index)}else L=C.index;else C.y!==p[1]&&(L=C.index)}}}return L};function T(p,w,A,L){this.y=p,this.index=w,this.start=A,this.closed=L}function h(p,w,A,L){this.x=p,this.segment=w,this.create=A,this.index=L}function i(p){for(var w=p.length,A=2*w,L=new Array(A),x=0;x<w;++x){var E=p[x],S=E[0][0]<E[1][0];L[2*x]=new h(E[0][0],E,S,x),L[2*x+1]=new h(E[1][0],E,!S,x)}L.sort(function(V,N){var O=V.x-N.x;return O||(O=V.create-N.create,O)?O:Math.min(V.segment[0][1],V.segment[1][1])-Math.min(N.segment[0][1],N.segment[1][1])});for(var a=o(u),C=[],b=[],z=[],x=0;x<A;){for(var k=L[x].x,U=[];x<A;){var F=L[x];if(F.x!==k)break;x+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(U.push(new T(F.segment[0][1],F.index,!0,!0)),U.push(new T(F.segment[1][1],F.index,!1,!1))):(U.push(new T(F.segment[1][1],F.index,!0,!1)),U.push(new T(F.segment[0][1],F.index,!1,!0)))):F.create?a=a.insert(F.segment,F.index):a=a.remove(F.segment)}C.push(a.root),b.push(k),z.push(U)}return new f(C,b,z)}},5202:function(d,g,r){var e=r(1944),o=r(8210);d.exports=f,d.exports.positive=c,d.exports.negative=m;function n(v,T){var h=o(e(v,T),[T[T.length-1]]);return h[h.length-1]}function u(v,T,h,i){var p=i-T,w=-T/p;w<0?w=0:w>1&&(w=1);for(var A=1-w,L=v.length,x=new Array(L),E=0;E<L;++E)x[E]=w*v[E]+A*h[E];return x}function f(v,T){for(var h=[],i=[],p=n(v[v.length-1],T),w=v[v.length-1],A=v[0],L=0;L<v.length;++L,w=A){A=v[L];var x=n(A,T);if(p<0&&x>0||p>0&&x<0){var E=u(w,x,A,p);h.push(E),i.push(E.slice())}x<0?i.push(A.slice()):x>0?h.push(A.slice()):(h.push(A.slice()),i.push(A.slice())),p=x}return{positive:h,negative:i}}function c(v,T){for(var h=[],i=n(v[v.length-1],T),p=v[v.length-1],w=v[0],A=0;A<v.length;++A,p=w){w=v[A];var L=n(w,T);(i<0&&L>0||i>0&&L<0)&&h.push(u(p,L,w,i)),L>=0&&h.push(w.slice()),i=L}return h}function m(v,T){for(var h=[],i=n(v[v.length-1],T),p=v[v.length-1],w=v[0],A=0;A<v.length;++A,p=w){w=v[A];var L=n(w,T);(i<0&&L>0||i>0&&L<0)&&h.push(u(p,L,w,i)),L<=0&&h.push(w.slice()),i=L}return h}},3387:function(d,g,r){var e;(function(){var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(v){return f(m(v),arguments)}function u(v,T){return n.apply(null,[v].concat(T||[]))}function f(v,T){var h=1,i=v.length,p,w="",A,L,x,E,S,a,C,b;for(A=0;A<i;A++)if(typeof v[A]=="string")w+=v[A];else if(typeof v[A]=="object"){if(x=v[A],x.keys)for(p=T[h],L=0;L<x.keys.length;L++){if(p==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[L],x.keys[L-1]));p=p[x.keys[L]]}else x.param_no?p=T[x.param_no]:p=T[h++];if(o.not_type.test(x.type)&&o.not_primitive.test(x.type)&&p instanceof Function&&(p=p()),o.numeric_arg.test(x.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(n("[sprintf] expecting number but found %T",p));switch(o.number.test(x.type)&&(C=p>=0),x.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,x.width?parseInt(x.width):0);break;case"e":p=x.precision?parseFloat(p).toExponential(x.precision):parseFloat(p).toExponential();break;case"f":p=x.precision?parseFloat(p).toFixed(x.precision):parseFloat(p);break;case"g":p=x.precision?String(Number(p.toPrecision(x.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=x.precision?p.substring(0,x.precision):p;break;case"t":p=String(!!p),p=x.precision?p.substring(0,x.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=x.precision?p.substring(0,x.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=x.precision?p.substring(0,x.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}o.json.test(x.type)?w+=p:(o.number.test(x.type)&&(!C||x.sign)?(b=C?"+":"-",p=p.toString().replace(o.sign,"")):b="",S=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",a=x.width-(b+p).length,E=x.width&&a>0?S.repeat(a):"",w+=x.align?b+p+E:S==="0"?b+E+p:E+b+p)}return w}var c=Object.create(null);function m(v){if(c[v])return c[v];for(var T=v,h,i=[],p=0;T;){if((h=o.text.exec(T))!==null)i.push(h[0]);else if((h=o.modulo.exec(T))!==null)i.push("%");else if((h=o.placeholder.exec(T))!==null){if(h[2]){p|=1;var w=[],A=h[2],L=[];if((L=o.key.exec(A))!==null)for(w.push(L[1]);(A=A.substring(L[0].length))!=="";)if((L=o.key_access.exec(A))!==null)w.push(L[1]);else if((L=o.index_access.exec(A))!==null)w.push(L[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=w}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(h[0].length)}return c[v]=i}g.sprintf=n,g.vsprintf=u,typeof window<"u"&&(window.sprintf=n,window.vsprintf=u,e=(function(){return{sprintf:n,vsprintf:u}}).call(g,r,g,d),e!==void 0&&(d.exports=e))})()},3711:function(d,g,r){d.exports=m;var e=r(2640),o=r(781),n={"2d":function(v,T,h){var i=v({order:T,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(w,A,L,x){return w>x|0},vertex:function(w,A,L,x,E,S,a,C,b,z,k,U,F){var V=(a<<0)+(C<<1)+(b<<2)+(z<<3)|0;if(!(V===0||V===15))switch(V){case 0:k.push([w-.5,A-.5]);break;case 1:k.push([w-.25-.25*(x+L-2*F)/(L-x),A-.25-.25*(E+L-2*F)/(L-E)]);break;case 2:k.push([w-.75-.25*(-x-L+2*F)/(x-L),A-.25-.25*(S+x-2*F)/(x-S)]);break;case 3:k.push([w-.5,A-.5-.5*(E+L+S+x-4*F)/(L-E+x-S)]);break;case 4:k.push([w-.25-.25*(S+E-2*F)/(E-S),A-.75-.25*(-E-L+2*F)/(E-L)]);break;case 5:k.push([w-.5-.5*(x+L+S+E-4*F)/(L-x+E-S),A-.5]);break;case 6:k.push([w-.5-.25*(-x-L+S+E)/(x-L+E-S),A-.5-.25*(-E-L+S+x)/(E-L+x-S)]);break;case 7:k.push([w-.75-.25*(S+E-2*F)/(E-S),A-.75-.25*(S+x-2*F)/(x-S)]);break;case 8:k.push([w-.75-.25*(-S-E+2*F)/(S-E),A-.75-.25*(-S-x+2*F)/(S-x)]);break;case 9:k.push([w-.5-.25*(x+L+-S-E)/(L-x+S-E),A-.5-.25*(E+L+-S-x)/(L-E+S-x)]);break;case 10:k.push([w-.5-.5*(-x-L+-S-E+4*F)/(x-L+S-E),A-.5]);break;case 11:k.push([w-.25-.25*(-S-E+2*F)/(S-E),A-.75-.25*(E+L-2*F)/(L-E)]);break;case 12:k.push([w-.5,A-.5-.5*(-E-L+-S-x+4*F)/(E-L+S-x)]);break;case 13:k.push([w-.75-.25*(x+L-2*F)/(L-x),A-.25-.25*(-S-x+2*F)/(S-x)]);break;case 14:k.push([w-.25-.25*(-x-L+2*F)/(x-L),A-.25-.25*(-E-L+2*F)/(E-L)]);break;case 15:k.push([w-.5,A-.5]);break}},cell:function(w,A,L,x,E,S,a,C,b){E?C.push([w,A]):C.push([A,w])}});return function(p,w){var A=[],L=[];return i(p,A,L,w),{positions:A,cells:L}}}};function u(v,T){var h=v.length+"d",i=n[h];if(i)return i(e,v,T)}function f(v,T){for(var h=o(v,T),i=h.length,p=new Array(i),w=new Array(i),A=0;A<i;++A)p[A]=[h[A]],w[A]=[A];return{positions:p,cells:w}}var c={};function m(v,p){if(v.dimension<=0)return{positions:[],cells:[]};if(v.dimension===1)return f(v,p);var h=v.order.join()+"-"+v.dtype,i=c[h],p=+p||0;return i||(i=c[h]=u(v.order,v.dtype)),i(v,p)}},529:function(d,g,r){d.exports=f;var e=r(4359),o=window||y.global||{},n=o.__TEXT_CACHE||{};o.__TEXT_CACHE={};function u(c){for(var m=c.cells,v=c.positions,T=new Float32Array(m.length*6),h=0,i=0,p=0;p<m.length;++p)for(var w=m[p],A=0;A<3;++A){var L=v[w[A]];T[h++]=L[0],T[h++]=L[1]+1.4,i=Math.max(L[0],i)}return{data:T,shape:i}}function f(c,m,T){var T=T||{},h=T.fontStyle||"normal",i=T.fontWeight||"normal",p=T.fontVariant||"normal",w=[h,i,p,c].join("_"),A=n[w];A||(A=n[w]={" ":{data:new Float32Array(0),shape:.2}});var L=A[m];if(!L)if(m.length<=1||!/\d/.test(m))L=A[m]=u(e(m,{triangles:!0,font:c,fontStyle:h,fontWeight:i,fontVariant:p,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var x=m.split(/(\d|\s)/),E=new Array(x.length),S=0,a=0,C=0;C<x.length;++C)E[C]=f(c,x[C]),S+=E[C].data.length,a+=E[C].shape,C>0&&(a+=.02);for(var b=new Float32Array(S),z=0,k=-.5*a,C=0;C<E.length;++C){for(var U=E[C].data,F=0;F<U.length;F+=2)b[z++]=U[F]+k,b[z++]=U[F+1];k+=E[C].shape+.02}L=A[m]={data:b,shape:a}}return L}},665:function(d,g,r){var e=r(3202);d.exports=f;var o=96;function n(c,m){var v=e(getComputedStyle(c).getPropertyValue(m));return v[0]*f(v[1],c)}function u(c,m){var v=document.createElement("div");v.style["font-size"]="128"+c,m.appendChild(v);var T=n(v,"font-size")/128;return m.removeChild(v),T}function f(c,m){switch(m=m||document.body,c=(c||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),c){case"%":return m.clientHeight/100;case"ch":case"ex":return u(c,m);case"em":return n(m,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return o;case"cm":return o/2.54;case"mm":return o/25.4;case"pt":return o/72;case"pc":return o/6}return 1}},7261:function(d,g,r){d.exports=w;var e=r(9215),o=r(7608),n=r(6079),u=r(5911),f=r(3536),c=r(244);function m(A,L,x){return Math.sqrt(Math.pow(A,2)+Math.pow(L,2)+Math.pow(x,2))}function v(A){return Math.min(1,Math.max(-1,A))}function T(A){var L=Math.abs(A[0]),x=Math.abs(A[1]),E=Math.abs(A[2]),S=[0,0,0];L>Math.max(x,E)?S[2]=1:x>Math.max(L,E)?S[0]=1:S[1]=1;for(var a=0,C=0,b=0;b<3;++b)a+=A[b]*A[b],C+=S[b]*A[b];for(var b=0;b<3;++b)S[b]-=C/a*A[b];return f(S,S),S}function h(A,L,x,E,S,a,C,b){this.center=e(x),this.up=e(E),this.right=e(S),this.radius=e([a]),this.angle=e([C,b]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(A,L),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var z=0;z<16;++z)this.computedMatrix[z]=.5;this.recalcMatrix(0)}var i=h.prototype;i.setDistanceLimits=function(A,L){A>0?A=Math.log(A):A=-1/0,L>0?L=Math.log(L):L=1/0,L=Math.max(L,A),this.radius.bounds[0][0]=A,this.radius.bounds[1][0]=L},i.getDistanceLimits=function(A){var L=this.radius.bounds[0];return A?(A[0]=Math.exp(L[0][0]),A[1]=Math.exp(L[1][0]),A):[Math.exp(L[0][0]),Math.exp(L[1][0])]},i.recalcMatrix=function(A){this.center.curve(A),this.up.curve(A),this.right.curve(A),this.radius.curve(A),this.angle.curve(A);for(var L=this.computedUp,x=this.computedRight,E=0,S=0,a=0;a<3;++a)S+=L[a]*x[a],E+=L[a]*L[a];for(var C=Math.sqrt(E),b=0,a=0;a<3;++a)x[a]-=L[a]*S/E,b+=x[a]*x[a],L[a]/=C;for(var z=Math.sqrt(b),a=0;a<3;++a)x[a]/=z;var k=this.computedToward;u(k,L,x),f(k,k);for(var U=Math.exp(this.computedRadius[0]),F=this.computedAngle[0],V=this.computedAngle[1],N=Math.cos(F),O=Math.sin(F),H=Math.cos(V),X=Math.sin(V),J=this.computedCenter,et=N*H,it=O*H,ft=X,ot=-N*X,Q=-O*X,tt=H,Z=this.computedEye,q=this.computedMatrix,a=0;a<3;++a){var ut=et*x[a]+it*k[a]+ft*L[a];q[4*a+1]=ot*x[a]+Q*k[a]+tt*L[a],q[4*a+2]=ut,q[4*a+3]=0}var $=q[1],j=q[5],lt=q[9],nt=q[2],ht=q[6],mt=q[10],At=j*mt-lt*ht,bt=lt*nt-$*mt,Pt=$*ht-j*nt,_t=m(At,bt,Pt);At/=_t,bt/=_t,Pt/=_t,q[0]=At,q[4]=bt,q[8]=Pt;for(var a=0;a<3;++a)Z[a]=J[a]+q[2+4*a]*U;for(var a=0;a<3;++a){for(var b=0,Ut=0;Ut<3;++Ut)b+=q[a+4*Ut]*Z[Ut];q[12+a]=-b}q[15]=1},i.getMatrix=function(A,L){this.recalcMatrix(A);var x=this.computedMatrix;if(L){for(var E=0;E<16;++E)L[E]=x[E];return L}return x};var p=[0,0,0];i.rotate=function(A,L,x,E){if(this.angle.move(A,L,x),E){this.recalcMatrix(A);var S=this.computedMatrix;p[0]=S[2],p[1]=S[6],p[2]=S[10];for(var a=this.computedUp,C=this.computedRight,b=this.computedToward,z=0;z<3;++z)S[4*z]=a[z],S[4*z+1]=C[z],S[4*z+2]=b[z];n(S,S,E,p);for(var z=0;z<3;++z)a[z]=S[4*z],C[z]=S[4*z+1];this.up.set(A,a[0],a[1],a[2]),this.right.set(A,C[0],C[1],C[2])}},i.pan=function(A,L,x,E){L=L||0,x=x||0,E=E||0,this.recalcMatrix(A);var S=this.computedMatrix;Math.exp(this.computedRadius[0]);var a=S[1],C=S[5],b=S[9],z=m(a,C,b);a/=z,C/=z,b/=z;var k=S[0],U=S[4],F=S[8],V=k*a+U*C+F*b;k-=a*V,U-=C*V,F-=b*V;var N=m(k,U,F);k/=N,U/=N,F/=N;var O=k*L+a*x,H=U*L+C*x,X=F*L+b*x;this.center.move(A,O,H,X);var J=Math.exp(this.computedRadius[0]);J=Math.max(1e-4,J+E),this.radius.set(A,Math.log(J))},i.translate=function(A,L,x,E){this.center.move(A,L||0,x||0,E||0)},i.setMatrix=function(A,L,x,E){var S=1;typeof x=="number"&&(S=x|0),(S<0||S>3)&&(S=1);var a=(S+2)%3;L||(this.recalcMatrix(A),L=this.computedMatrix);var C=L[S],b=L[S+4],z=L[S+8];if(E){var U=Math.abs(C),F=Math.abs(b),V=Math.abs(z),N=Math.max(U,F,V);U===N?(C=C<0?-1:1,b=z=0):V===N?(z=z<0?-1:1,C=b=0):(b=b<0?-1:1,C=z=0)}else{var k=m(C,b,z);C/=k,b/=k,z/=k}var O=L[a],H=L[a+4],X=L[a+8],J=O*C+H*b+X*z;O-=C*J,H-=b*J,X-=z*J;var et=m(O,H,X);O/=et,H/=et,X/=et;var it=b*X-z*H,ft=z*O-C*X,ot=C*H-b*O,Q=m(it,ft,ot);it/=Q,ft/=Q,ot/=Q,this.center.jump(A,zt,Ct,Wt),this.radius.idle(A),this.up.jump(A,C,b,z),this.right.jump(A,O,H,X);var tt,Z;if(S===2){var q=L[1],ut=L[5],$=L[9],j=q*O+ut*H+$*X,lt=q*it+ut*ft+$*ot;At<0?tt=-Math.PI/2:tt=Math.PI/2,Z=Math.atan2(lt,j)}else{var nt=L[2],ht=L[6],mt=L[10],At=nt*C+ht*b+mt*z,bt=nt*O+ht*H+mt*X,Pt=nt*it+ht*ft+mt*ot;tt=Math.asin(v(At)),Z=Math.atan2(Pt,bt)}this.angle.jump(A,Z,tt),this.recalcMatrix(A);var _t=L[2],Ut=L[6],St=L[10],Rt=this.computedMatrix;o(Rt,L);var Et=Rt[15],zt=Rt[12]/Et,Ct=Rt[13]/Et,Wt=Rt[14]/Et,Kt=Math.exp(this.computedRadius[0]);this.center.jump(A,zt-_t*Kt,Ct-Ut*Kt,Wt-St*Kt)},i.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},i.idle=function(A){this.center.idle(A),this.up.idle(A),this.right.idle(A),this.radius.idle(A),this.angle.idle(A)},i.flush=function(A){this.center.flush(A),this.up.flush(A),this.right.flush(A),this.radius.flush(A),this.angle.flush(A)},i.setDistance=function(A,L){L>0&&this.radius.set(A,Math.log(L))},i.lookAt=function(A,L,x,E){this.recalcMatrix(A),L=L||this.computedEye,x=x||this.computedCenter,E=E||this.computedUp;var S=E[0],a=E[1],C=E[2],b=m(S,a,C);if(!(b<1e-6)){S/=b,a/=b,C/=b;var z=L[0]-x[0],k=L[1]-x[1],U=L[2]-x[2],F=m(z,k,U);if(!(F<1e-6)){z/=F,k/=F,U/=F;var V=this.computedRight,N=V[0],O=V[1],H=V[2],X=S*N+a*O+C*H;N-=X*S,O-=X*a,H-=X*C;var J=m(N,O,H);if(!(J<.01&&(N=a*U-C*k,O=C*z-S*U,H=S*k-a*z,J=m(N,O,H),J<1e-6))){N/=J,O/=J,H/=J,this.up.set(A,S,a,C),this.right.set(A,N,O,H),this.center.set(A,x[0],x[1],x[2]),this.radius.set(A,Math.log(F));var et=a*H-C*O,it=C*N-S*H,ft=S*O-a*N,ot=m(et,it,ft);et/=ot,it/=ot,ft/=ot;var Q=S*z+a*k+C*U,tt=N*z+O*k+H*U,Z=et*z+it*k+ft*U,q=Math.asin(v(Q)),ut=Math.atan2(Z,tt),$=this.angle._state,j=$[$.length-1],lt=$[$.length-2];j=j%(2*Math.PI);var nt=Math.abs(j+2*Math.PI-ut),ht=Math.abs(j-ut),mt=Math.abs(j-2*Math.PI-ut);nt<ht&&(j+=2*Math.PI),mt<ht&&(j-=2*Math.PI),this.angle.jump(this.angle.lastT(),j,lt),this.angle.set(A,ut,q)}}}};function w(A){A=A||{};var L=A.center||[0,0,0],x=A.up||[0,1,0],E=A.right||T(x),S=A.radius||1,a=A.theta||0,C=A.phi||0;if(L=[].slice.call(L,0,3),x=[].slice.call(x,0,3),f(x,x),E=[].slice.call(E,0,3),f(E,E),"eye"in A){var b=A.eye,z=[b[0]-L[0],b[1]-L[1],b[2]-L[2]];u(E,z,x),m(E[0],E[1],E[2])<1e-6?E=T(x):f(E,E),S=m(z[0],z[1],z[2]);var k=c(x,z)/S,U=c(E,z)/S;C=Math.acos(k),a=Math.acos(U)}return S=Math.log(S),new h(A.zoomMin,A.zoomMax,L,x,E,S,a,C)}},5250:function(d){d.exports=r;var g=+(Math.pow(2,27)+1);function r(e,o,n){var u=e*o,f=g*e,c=f-e,m=f-c,v=e-m,T=g*o,h=T-o,i=T-h,p=o-i,w=u-m*i,A=w-v*i,L=A-m*p,x=v*p-L;return n?(n[0]=x,n[1]=u,n):[x,u]}},9362:function(d){d.exports=g;function g(r,e,o){var n=r+e,u=n-r,f=n-u,c=e-u,m=r-f;return o?(o[0]=m+c,o[1]=n,o):[m+c,n]}},1888:function(d,g,r){var e=r(8828),o=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),BIGUINT64:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),BIGINT64:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var u=typeof Uint8ClampedArray<"u",f=typeof BigUint64Array<"u",c=typeof BigInt64Array<"u",m=r.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=o([32,0])),m.BIGUINT64||(m.BIGUINT64=o([32,0])),m.BIGINT64||(m.BIGINT64=o([32,0])),m.BUFFER||(m.BUFFER=o([32,0]));var v=m.DATA,T=m.BUFFER;g.free=function(N){if(n.isBuffer(N))T[e.log2(N.length)].push(N);else{if(Object.prototype.toString.call(N)!=="[object ArrayBuffer]"&&(N=N.buffer),!N)return;var O=N.length||N.byteLength,H=e.log2(O)|0;v[H].push(N)}};function h(V){if(V){var N=V.length||V.byteLength,O=e.log2(N);v[O].push(V)}}function i(V){h(V.buffer)}g.freeUint8=g.freeUint16=g.freeUint32=g.freeBigUint64=g.freeInt8=g.freeInt16=g.freeInt32=g.freeBigInt64=g.freeFloat32=g.freeFloat=g.freeFloat64=g.freeDouble=g.freeUint8Clamped=g.freeDataView=i,g.freeArrayBuffer=h,g.freeBuffer=function(N){T[e.log2(N.length)].push(N)},g.malloc=function(N,O){if(O===void 0||O==="arraybuffer")return p(N);switch(O){case"uint8":return w(N);case"uint16":return A(N);case"uint32":return L(N);case"int8":return x(N);case"int16":return E(N);case"int32":return S(N);case"float":case"float32":return a(N);case"double":case"float64":return C(N);case"uint8_clamped":return b(N);case"bigint64":return k(N);case"biguint64":return z(N);case"buffer":return F(N);case"data":case"dataview":return U(N);default:return null}return null};function p(N){var N=e.nextPow2(N),O=e.log2(N),H=v[O];return H.length>0?H.pop():new ArrayBuffer(N)}g.mallocArrayBuffer=p;function w(V){return new Uint8Array(p(V),0,V)}g.mallocUint8=w;function A(V){return new Uint16Array(p(2*V),0,V)}g.mallocUint16=A;function L(V){return new Uint32Array(p(4*V),0,V)}g.mallocUint32=L;function x(V){return new Int8Array(p(V),0,V)}g.mallocInt8=x;function E(V){return new Int16Array(p(2*V),0,V)}g.mallocInt16=E;function S(V){return new Int32Array(p(4*V),0,V)}g.mallocInt32=S;function a(V){return new Float32Array(p(4*V),0,V)}g.mallocFloat32=g.mallocFloat=a;function C(V){return new Float64Array(p(8*V),0,V)}g.mallocFloat64=g.mallocDouble=C;function b(V){return u?new Uint8ClampedArray(p(V),0,V):w(V)}g.mallocUint8Clamped=b;function z(V){return f?new BigUint64Array(p(8*V),0,V):null}g.mallocBigUint64=z;function k(V){return c?new BigInt64Array(p(8*V),0,V):null}g.mallocBigInt64=k;function U(V){return new DataView(p(V),0,V)}g.mallocDataView=U;function F(V){V=e.nextPow2(V);var N=e.log2(V),O=T[N];return O.length>0?O.pop():new n(V)}g.mallocBuffer=F,g.clearCache=function(){for(var N=0;N<32;++N)m.UINT8[N].length=0,m.UINT16[N].length=0,m.UINT32[N].length=0,m.INT8[N].length=0,m.INT16[N].length=0,m.INT32[N].length=0,m.FLOAT[N].length=0,m.DOUBLE[N].length=0,m.BIGUINT64[N].length=0,m.BIGINT64[N].length=0,m.UINT8C[N].length=0,v[N].length=0,T[N].length=0}},1755:function(d){"use restrict";d.exports=g;function g(e){this.roots=new Array(e),this.ranks=new Array(e);for(var o=0;o<e;++o)this.roots[o]=o,this.ranks[o]=0}var r=g.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},r.find=function(e){for(var o=e,n=this.roots;n[e]!==e;)e=n[e];for(;n[o]!==e;){var u=n[o];n[o]=e,o=u}return e},r.link=function(e,o){var n=this.find(e),u=this.find(o);if(n!==u){var f=this.ranks,c=this.roots,m=f[n],v=f[u];m<v?c[n]=u:v<m?c[u]=n:(c[u]=n,++f[n])}}},1682:function(d){function g(o,n){for(var u=1,f=o.length,c=o[0],m=o[0],v=1;v<f;++v)if(m=c,c=o[v],n(c,m)){if(v===u){u++;continue}o[u++]=c}return o.length=u,o}function r(o){for(var n=1,u=o.length,f=o[0],c=o[0],m=1;m<u;++m,c=f)if(c=f,f=o[m],f!==c){if(m===n){n++;continue}o[n++]=f}return o.length=n,o}function e(o,n,u){return o.length===0?o:n?(u||o.sort(n),g(o,n)):(u||o.sort(),r(o))}d.exports=e},4359:function(d,g,r){d.exports=u;var e=r(7718),o=null,n=null;typeof document<"u"&&(o=document.createElement("canvas"),o.width=8192,o.height=1024,n=o.getContext("2d"));function u(f,c){return(typeof c!="object"||c===null)&&(c={}),e(f,c.canvas||o,c.context||n,c)}},7718:function(d,g,r){d.exports=k,d.exports.processPixels=z;var e=r(3711),o=r(9618),n=r(5878),u=r(332),f=r(2538),c=r(2095),m="b",v="b|",T="i",h="i|",i="sup",p="+",w="+1",A="sub",L="-",x="-1";function E(U,F,V,N){for(var O="<"+U+">",H="</"+U+">",X=O.length,J=H.length,et=F[0]===p||F[0]===L,it=0,ft=-J;it>-1&&(it=V.indexOf(O,it),!(it===-1||(ft=V.indexOf(H,it+X),ft===-1)||ft<=it));){for(var ot=it;ot<ft+J;++ot)if(ot<it+X||ot>=ft)N[ot]=null,V=V.substr(0,ot)+" "+V.substr(ot+1);else if(N[ot]!==null){var Q=N[ot].indexOf(F[0]);Q===-1?N[ot]+=F:et&&(N[ot]=N[ot].substr(0,Q+1)+(1+parseInt(N[ot][Q+1]))+N[ot].substr(Q+2))}var tt=it+X,Z=V.substr(tt,ft-tt),q=Z.indexOf(O);q!==-1?it=q:it=ft+J}return N}function S(U,F,V){for(var N=F.textAlign||"start",O=F.textBaseline||"alphabetic",H=[1<<30,1<<30],X=[0,0],J=U.length,et=0;et<J;++et)for(var it=U[et],ft=0;ft<2;++ft)H[ft]=Math.min(H[ft],it[ft])|0,X[ft]=Math.max(X[ft],it[ft])|0;var ot=0;switch(N){case"center":ot=-.5*(H[0]+X[0]);break;case"right":case"end":ot=-X[0];break;case"left":case"start":ot=-H[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+N+"'")}var Q=0;switch(O){case"hanging":case"top":Q=-H[1];break;case"middle":Q=-.5*(H[1]+X[1]);break;case"alphabetic":case"ideographic":Q=-3*V;break;case"bottom":Q=-X[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+O+"'")}var tt=1/V;return"lineHeight"in F?tt*=+F.lineHeight:"width"in F?tt=F.width/(X[0]-H[0]):"height"in F&&(tt=F.height/(X[1]-H[1])),U.map(function(Z){return[tt*(Z[0]+ot),tt*(Z[1]+Q)]})}function a(U,F,V,N,O,H){V=V.replace(/\n/g,""),H.breaklines===!0?V=V.replace(/\<br\>/g,`
`):V=V.replace(/\<br\>/g," ");var X="",J=[];for(j=0;j<V.length;++j)J[j]=X;H.bolds===!0&&(J=E(m,v,V,J)),H.italics===!0&&(J=E(T,h,V,J)),H.superscripts===!0&&(J=E(i,w,V,J)),H.subscripts===!0&&(J=E(A,x,V,J));var et=[],it="";for(j=0;j<V.length;++j)J[j]!==null&&(it+=V[j],et.push(J[j]));var ft=it.split(`
`),ot=ft.length,Q=Math.round(O*N),tt=N,Z=N*2,q=0,ut=ot*Q+Z;U.height<ut&&(U.height=ut),F.fillStyle="#000",F.fillRect(0,0,U.width,U.height),F.fillStyle="#fff";var $,j,lt,nt,ht,mt=0,At="";function bt(){if(At!==""){var Wt=F.measureText(At).width;F.fillText(At,tt+lt,Z+nt),lt+=Wt}}function Pt(){return""+Math.round(ht)+"px "}function _t(Wt,Kt){var oe=""+F.font;if(H.subscripts===!0){var Jt=Wt.indexOf(L),te=Kt.indexOf(L),fe=Jt>-1?parseInt(Wt[1+Jt]):0,ve=te>-1?parseInt(Kt[1+te]):0;fe!==ve&&(oe=oe.replace(Pt(),"?px "),ht*=Math.pow(.75,ve-fe),oe=oe.replace("?px ",Pt())),nt+=.25*Q*(ve-fe)}if(H.superscripts===!0){var de=Wt.indexOf(p),xe=Kt.indexOf(p),Me=de>-1?parseInt(Wt[1+de]):0,ne=xe>-1?parseInt(Kt[1+xe]):0;Me!==ne&&(oe=oe.replace(Pt(),"?px "),ht*=Math.pow(.75,ne-Me),oe=oe.replace("?px ",Pt())),nt-=.25*Q*(ne-Me)}if(H.bolds===!0){var kt=Wt.indexOf(v)>-1,Gt=Kt.indexOf(v)>-1;!kt&&Gt&&(Yt?oe=oe.replace("italic ","italic bold "):oe="bold "+oe),kt&&!Gt&&(oe=oe.replace("bold ",""))}if(H.italics===!0){var Yt=Wt.indexOf(h)>-1,Zt=Kt.indexOf(h)>-1;!Yt&&Zt&&(oe="italic "+oe),Yt&&!Zt&&(oe=oe.replace("italic ",""))}F.font=oe}for($=0;$<ot;++$){var Ut=ft[$]+`
`;for(lt=0,nt=$*Q,ht=N,At="",j=0;j<Ut.length;++j){var St=j+mt<et.length?et[j+mt]:et[et.length-1];X===St?At+=Ut[j]:(bt(),At=Ut[j],St!==void 0&&(_t(X,St),X=St))}bt(),mt+=Ut.length;var Rt=Math.round(lt+2*tt)|0;q<Rt&&(q=Rt)}var Et=q,zt=Z+Q*ot,Ct=o(F.getImageData(0,0,Et,zt).data,[zt,Et,4]);return Ct.pick(-1,-1,0).transpose(1,0)}function C(U,F){var V=e(U,128);return F?n(V.cells,V.positions,.25):{edges:V.cells,positions:V.positions}}function b(U,F,V,N){var O=C(U,N),H=S(O.positions,F,V),X=O.edges,J=F.orientation==="ccw";if(u(H,X),F.polygons||F.polygon||F.polyline){for(var et=c(X,H),it=new Array(et.length),ft=0;ft<et.length;++ft){for(var ot=et[ft],Q=new Array(ot.length),tt=0;tt<ot.length;++tt){for(var Z=ot[tt],q=new Array(Z.length),ut=0;ut<Z.length;++ut)q[ut]=H[Z[ut]].slice();J&&q.reverse(),Q[tt]=q}it[ft]=Q}return it}else return F.triangles||F.triangulate||F.triangle?{cells:f(H,X,{delaunay:!1,exterior:!1,interior:!0}),positions:H}:{edges:X,positions:H}}function z(U,F,V){try{return b(U,F,V,!0)}catch{}try{return b(U,F,V,!1)}catch{}return F.polygons||F.polyline||F.polygon?[]:F.triangles||F.triangulate||F.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function k(U,F,V,N){var O=64,H=1.25,X={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};N&&(N.size&&N.size>0&&(O=N.size),N.lineSpacing&&N.lineSpacing>0&&(H=N.lineSpacing),N.styletags&&N.styletags.breaklines&&(X.breaklines=!!N.styletags.breaklines),N.styletags&&N.styletags.bolds&&(X.bolds=!!N.styletags.bolds),N.styletags&&N.styletags.italics&&(X.italics=!!N.styletags.italics),N.styletags&&N.styletags.subscripts&&(X.subscripts=!!N.styletags.subscripts),N.styletags&&N.styletags.superscripts&&(X.superscripts=!!N.styletags.superscripts)),V.font=[N.fontStyle,N.fontVariant,N.fontWeight,O+"px",N.font].filter(function(et){return et}).join(" "),V.textAlign="start",V.textBaseline="alphabetic",V.direction="ltr";var J=a(F,V,U,O,H,X);return z(J,N,O)}},1538:function(d){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(C){C.permitHostObjects___&&C.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var e=!1;if(typeof WeakMap=="function"){var o=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new o,u=Object.freeze({});if(n.set(u,1),n.get(u)!==1)e=!0;else{d.exports=WeakMap;return}}}var f=Object.getOwnPropertyNames,c=Object.defineProperty,m=Object.isExtensible,v="weakmap:",T=v+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),i=new Uint8Array(h);crypto.getRandomValues(i),T=v+"rand:"+Array.prototype.map.call(i,function(C){return(C%36).toString(36)}).join("")+"___"}function p(C){return!(C.substr(0,v.length)==v&&C.substr(C.length-3)==="___")}if(c(Object,"getOwnPropertyNames",{value:function(b){return f(b).filter(p)}}),"getPropertyNames"in Object){var w=Object.getPropertyNames;c(Object,"getPropertyNames",{value:function(b){return w(b).filter(p)}})}function A(C){if(C!==Object(C))throw new TypeError("Not an object: "+C);var b=C[T];if(b&&b.key===C)return b;if(m(C)){b={key:C};try{return c(C,T,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch{return}}}(function(){var C=Object.freeze;c(Object,"freeze",{value:function(U){return A(U),C(U)}});var b=Object.seal;c(Object,"seal",{value:function(U){return A(U),b(U)}});var z=Object.preventExtensions;c(Object,"preventExtensions",{value:function(U){return A(U),z(U)}})})();function L(C){return C.prototype=null,Object.freeze(C)}var x=!1;function E(){!x&&typeof console<"u"&&(x=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var S=0,a=function(){this instanceof a||E();var C=[],b=[],z=S++;function k(N,O){var H,X=A(N);return X?z in X?X[z]:O:(H=C.indexOf(N),H>=0?b[H]:O)}function U(N){var O=A(N);return O?z in O:C.indexOf(N)>=0}function F(N,O){var H,X=A(N);return X?X[z]=O:(H=C.indexOf(N),H>=0?b[H]=O:(H=C.length,b[H]=O,C[H]=N)),this}function V(N){var O=A(N),H,X;return O?z in O&&delete O[z]:(H=C.indexOf(N),H<0?!1:(X=C.length-1,C[H]=void 0,b[H]=b[X],C[H]=C[X],C.length=X,b.length=X,!0))}return Object.create(a.prototype,{get___:{value:L(k)},has___:{value:L(U)},set___:{value:L(F)},delete___:{value:L(V)}})};a.prototype=Object.create(Object.prototype,{get:{value:function(b,z){return this.get___(b,z)},writable:!0,configurable:!0},has:{value:function(b){return this.has___(b)},writable:!0,configurable:!0},set:{value:function(b,z){return this.set___(b,z)},writable:!0,configurable:!0},delete:{value:function(b){return this.delete___(b)},writable:!0,configurable:!0}}),typeof o=="function"?function(){e&&typeof Proxy<"u"&&(Proxy=void 0);function C(){this instanceof a||E();var b=new o,z=void 0,k=!1;function U(O,H){return z?b.has(O)?b.get(O):z.get___(O,H):b.get(O,H)}function F(O){return b.has(O)||(z?z.has___(O):!1)}var V;e?V=function(O,H){return b.set(O,H),b.has(O)||(z||(z=new a),z.set(O,H)),this}:V=function(O,H){if(k)try{b.set(O,H)}catch{z||(z=new a),z.set___(O,H)}else b.set(O,H);return this};function N(O){var H=!!b.delete(O);return z&&z.delete___(O)||H}return Object.create(a.prototype,{get___:{value:L(U)},has___:{value:L(F)},set___:{value:L(V)},delete___:{value:L(N)},permitHostObjects___:{value:L(function(O){if(O===r)k=!0;else throw new Error("bogus call to permitHostObjects___")})}})}C.prototype=a.prototype,d.exports=C,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),d.exports=a)})()},236:function(d,g,r){var e=r(8284);d.exports=o;function o(){var n={};return function(u){if((typeof u!="object"||u===null)&&typeof u!="function")throw new Error("Weakmap-shim: Key must be object");var f=u.valueOf(n);return f&&f.identity===n?f:e(u,n)}}},8284:function(d){d.exports=g;function g(r,e){var o={identity:e},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(u){return u!==e?n.apply(this,arguments):o},writable:!0}),o}},606:function(d,g,r){var e=r(236);d.exports=o;function o(){var n=e();return{get:function(u,f){var c=n(u);return c.hasOwnProperty("value")?c.value:f},set:function(u,f){return n(u).value=f,this},has:function(u){return"value"in n(u)},delete:function(u){return delete n(u).value}}}},3349:function(d){function g(){return function(f,c,m,v,T,h){var i=f[0],p=m[0],w=[0],A=p;v|=0;var L=0,x=p;for(L=0;L<i;++L){{var E=c[v]-h,S=c[v+A]-h;E>=0!=S>=0&&T.push(w[0]+.5+.5*(E+S)/(E-S))}v+=x,++w[0]}}}function r(){return g()}var e=r;function o(f){var c={};return function(v,T,h){var i=v.dtype,p=v.order,w=[i,p.join()].join(),A=c[w];return A||(c[w]=A=f([i,p])),A(v.shape.slice(0),v.data,v.stride,v.offset|0,T,h)}}function n(f){return o(e.bind(void 0,f))}function u(f){return n({funcName:f.funcName})}d.exports=u({funcName:"zeroCrossings"})},781:function(d,g,r){d.exports=o;var e=r(3349);function o(n,u){var f=[];return u=+u||0,e(n.hi(n.shape[0]-1),f,u),f}},7790:function(){}},s={};function P(d){var g=s[d];if(g!==void 0)return g.exports;var r=s[d]={id:d,loaded:!1,exports:{}};return D[d].call(r.exports,r,r.exports,P),r.loaded=!0,r.exports}(function(){P.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){P.nmd=function(d){return d.paths=[],d.children||(d.children=[]),d}}();var M=P(1964);W.exports=M})()},33576:function(W,G,t){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function y(ne,kt){if(!(ne instanceof kt))throw new TypeError("Cannot call a class as a function")}function D(ne,kt){for(var Gt=0;Gt<kt.length;Gt++){var Yt=kt[Gt];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(ne,P(Yt.key),Yt)}}function s(ne,kt,Gt){return kt&&D(ne.prototype,kt),Object.defineProperty(ne,"prototype",{writable:!1}),ne}function P(ne){var kt=M(ne,"string");return u(kt)==="symbol"?kt:String(kt)}function M(ne,kt){if(u(ne)!=="object"||ne===null)return ne;var Gt=ne[Symbol.toPrimitive];if(Gt!==void 0){var Yt=Gt.call(ne,kt);if(u(Yt)!=="object")return Yt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}function d(ne,kt,Gt){function Yt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return kt=r(kt),g(ne,Yt()?Reflect.construct(kt,[],r(ne).constructor):kt.apply(ne,Gt))}function g(ne,kt){if(kt&&(u(kt)==="object"||typeof kt=="function"))return kt;if(kt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(ne)}function r(ne){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Gt){return Gt.__proto__||Object.getPrototypeOf(Gt)},r(ne)}function e(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function o(ne,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(kt&&kt.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),kt&&n(ne,kt)}function n(ne,kt){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Yt,Zt){return Yt.__proto__=Zt,Yt},n(ne,kt)}function u(ne){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(kt){return typeof kt}:function(kt){return kt&&typeof Symbol=="function"&&kt.constructor===Symbol&&kt!==Symbol.prototype?"symbol":typeof kt},u(ne)}var f=t(59968),c=t(35984),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;G.Buffer=i,G.SlowBuffer=z,G.INSPECT_MAX_BYTES=50;var v=2147483647;G.kMaxLength=v,i.TYPED_ARRAY_SUPPORT=T(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var ne=new Uint8Array(1),kt={foo:function(){return 42}};return Object.setPrototypeOf(kt,Uint8Array.prototype),Object.setPrototypeOf(ne,kt),ne.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function h(ne){if(ne>v)throw new RangeError('The value "'+ne+'" is invalid for option "size"');var kt=new Uint8Array(ne);return Object.setPrototypeOf(kt,i.prototype),kt}function i(ne,kt,Gt){if(typeof ne=="number"){if(typeof kt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return L(ne)}return p(ne,kt,Gt)}i.poolSize=8192;function p(ne,kt,Gt){if(typeof ne=="string")return x(ne,kt);if(ArrayBuffer.isView(ne))return S(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ne));if(fe(ne,ArrayBuffer)||ne&&fe(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe(ne,SharedArrayBuffer)||ne&&fe(ne.buffer,SharedArrayBuffer)))return a(ne,kt,Gt);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Yt=ne.valueOf&&ne.valueOf();if(Yt!=null&&Yt!==ne)return i.from(Yt,kt,Gt);var Zt=C(ne);if(Zt)return Zt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return i.from(ne[Symbol.toPrimitive]("string"),kt,Gt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ne))}i.from=function(ne,kt,Gt){return p(ne,kt,Gt)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function w(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function A(ne,kt,Gt){return w(ne),ne<=0?h(ne):kt!==void 0?typeof Gt=="string"?h(ne).fill(kt,Gt):h(ne).fill(kt):h(ne)}i.alloc=function(ne,kt,Gt){return A(ne,kt,Gt)};function L(ne){return w(ne),h(ne<0?0:b(ne)|0)}i.allocUnsafe=function(ne){return L(ne)},i.allocUnsafeSlow=function(ne){return L(ne)};function x(ne,kt){if((typeof kt!="string"||kt==="")&&(kt="utf8"),!i.isEncoding(kt))throw new TypeError("Unknown encoding: "+kt);var Gt=k(ne,kt)|0,Yt=h(Gt),Zt=Yt.write(ne,kt);return Zt!==Gt&&(Yt=Yt.slice(0,Zt)),Yt}function E(ne){for(var kt=ne.length<0?0:b(ne.length)|0,Gt=h(kt),Yt=0;Yt<kt;Yt+=1)Gt[Yt]=ne[Yt]&255;return Gt}function S(ne){if(fe(ne,Uint8Array)){var kt=new Uint8Array(ne);return a(kt.buffer,kt.byteOffset,kt.byteLength)}return E(ne)}function a(ne,kt,Gt){if(kt<0||ne.byteLength<kt)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<kt+(Gt||0))throw new RangeError('"length" is outside of buffer bounds');var Yt;return kt===void 0&&Gt===void 0?Yt=new Uint8Array(ne):Gt===void 0?Yt=new Uint8Array(ne,kt):Yt=new Uint8Array(ne,kt,Gt),Object.setPrototypeOf(Yt,i.prototype),Yt}function C(ne){if(i.isBuffer(ne)){var kt=b(ne.length)|0,Gt=h(kt);return Gt.length===0||ne.copy(Gt,0,0,kt),Gt}if(ne.length!==void 0)return typeof ne.length!="number"||ve(ne.length)?h(0):E(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return E(ne.data)}function b(ne){if(ne>=v)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v.toString(16)+" bytes");return ne|0}function z(ne){return+ne!=ne&&(ne=0),i.alloc(+ne)}i.isBuffer=function(kt){return kt!=null&&kt._isBuffer===!0&&kt!==i.prototype},i.compare=function(kt,Gt){if(fe(kt,Uint8Array)&&(kt=i.from(kt,kt.offset,kt.byteLength)),fe(Gt,Uint8Array)&&(Gt=i.from(Gt,Gt.offset,Gt.byteLength)),!i.isBuffer(kt)||!i.isBuffer(Gt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(kt===Gt)return 0;for(var Yt=kt.length,Zt=Gt.length,It=0,Nt=Math.min(Yt,Zt);It<Nt;++It)if(kt[It]!==Gt[It]){Yt=kt[It],Zt=Gt[It];break}return Yt<Zt?-1:Zt<Yt?1:0},i.isEncoding=function(kt){switch(String(kt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(kt,Gt){if(!Array.isArray(kt))throw new TypeError('"list" argument must be an Array of Buffers');if(kt.length===0)return i.alloc(0);var Yt;if(Gt===void 0)for(Gt=0,Yt=0;Yt<kt.length;++Yt)Gt+=kt[Yt].length;var Zt=i.allocUnsafe(Gt),It=0;for(Yt=0;Yt<kt.length;++Yt){var Nt=kt[Yt];if(fe(Nt,Uint8Array))It+Nt.length>Zt.length?(i.isBuffer(Nt)||(Nt=i.from(Nt)),Nt.copy(Zt,It)):Uint8Array.prototype.set.call(Zt,Nt,It);else if(i.isBuffer(Nt))Nt.copy(Zt,It);else throw new TypeError('"list" argument must be an Array of Buffers');It+=Nt.length}return Zt};function k(ne,kt){if(i.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||fe(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(ne));var Gt=ne.length,Yt=arguments.length>2&&arguments[2]===!0;if(!Yt&&Gt===0)return 0;for(var Zt=!1;;)switch(kt){case"ascii":case"latin1":case"binary":return Gt;case"utf8":case"utf-8":return Wt(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gt*2;case"hex":return Gt>>>1;case"base64":return Jt(ne).length;default:if(Zt)return Yt?-1:Wt(ne).length;kt=(""+kt).toLowerCase(),Zt=!0}}i.byteLength=k;function U(ne,kt,Gt){var Yt=!1;if((kt===void 0||kt<0)&&(kt=0),kt>this.length||((Gt===void 0||Gt>this.length)&&(Gt=this.length),Gt<=0)||(Gt>>>=0,kt>>>=0,Gt<=kt))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return q(this,kt,Gt);case"utf8":case"utf-8":return ft(this,kt,Gt);case"ascii":return tt(this,kt,Gt);case"latin1":case"binary":return Z(this,kt,Gt);case"base64":return it(this,kt,Gt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ut(this,kt,Gt);default:if(Yt)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),Yt=!0}}i.prototype._isBuffer=!0;function F(ne,kt,Gt){var Yt=ne[kt];ne[kt]=ne[Gt],ne[Gt]=Yt}i.prototype.swap16=function(){var kt=this.length;if(kt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Gt=0;Gt<kt;Gt+=2)F(this,Gt,Gt+1);return this},i.prototype.swap32=function(){var kt=this.length;if(kt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Gt=0;Gt<kt;Gt+=4)F(this,Gt,Gt+3),F(this,Gt+1,Gt+2);return this},i.prototype.swap64=function(){var kt=this.length;if(kt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Gt=0;Gt<kt;Gt+=8)F(this,Gt,Gt+7),F(this,Gt+1,Gt+6),F(this,Gt+2,Gt+5),F(this,Gt+3,Gt+4);return this},i.prototype.toString=function(){var kt=this.length;return kt===0?"":arguments.length===0?ft(this,0,kt):U.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(kt){if(!i.isBuffer(kt))throw new TypeError("Argument must be a Buffer");return this===kt?!0:i.compare(this,kt)===0},i.prototype.inspect=function(){var kt="",Gt=G.INSPECT_MAX_BYTES;return kt=this.toString("hex",0,Gt).replace(/(.{2})/g,"$1 ").trim(),this.length>Gt&&(kt+=" ... "),"<Buffer "+kt+">"},m&&(i.prototype[m]=i.prototype.inspect),i.prototype.compare=function(kt,Gt,Yt,Zt,It){if(fe(kt,Uint8Array)&&(kt=i.from(kt,kt.offset,kt.byteLength)),!i.isBuffer(kt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(kt));if(Gt===void 0&&(Gt=0),Yt===void 0&&(Yt=kt?kt.length:0),Zt===void 0&&(Zt=0),It===void 0&&(It=this.length),Gt<0||Yt>kt.length||Zt<0||It>this.length)throw new RangeError("out of range index");if(Zt>=It&&Gt>=Yt)return 0;if(Zt>=It)return-1;if(Gt>=Yt)return 1;if(Gt>>>=0,Yt>>>=0,Zt>>>=0,It>>>=0,this===kt)return 0;for(var Nt=It-Zt,Ht=Yt-Gt,Lt=Math.min(Nt,Ht),dt=this.slice(Zt,It),xt=kt.slice(Gt,Yt),Ot=0;Ot<Lt;++Ot)if(dt[Ot]!==xt[Ot]){Nt=dt[Ot],Ht=xt[Ot];break}return Nt<Ht?-1:Ht<Nt?1:0};function V(ne,kt,Gt,Yt,Zt){if(ne.length===0)return-1;if(typeof Gt=="string"?(Yt=Gt,Gt=0):Gt>2147483647?Gt=2147483647:Gt<-2147483648&&(Gt=-2147483648),Gt=+Gt,ve(Gt)&&(Gt=Zt?0:ne.length-1),Gt<0&&(Gt=ne.length+Gt),Gt>=ne.length){if(Zt)return-1;Gt=ne.length-1}else if(Gt<0)if(Zt)Gt=0;else return-1;if(typeof kt=="string"&&(kt=i.from(kt,Yt)),i.isBuffer(kt))return kt.length===0?-1:N(ne,kt,Gt,Yt,Zt);if(typeof kt=="number")return kt=kt&255,typeof Uint8Array.prototype.indexOf=="function"?Zt?Uint8Array.prototype.indexOf.call(ne,kt,Gt):Uint8Array.prototype.lastIndexOf.call(ne,kt,Gt):N(ne,[kt],Gt,Yt,Zt);throw new TypeError("val must be string, number or Buffer")}function N(ne,kt,Gt,Yt,Zt){var It=1,Nt=ne.length,Ht=kt.length;if(Yt!==void 0&&(Yt=String(Yt).toLowerCase(),Yt==="ucs2"||Yt==="ucs-2"||Yt==="utf16le"||Yt==="utf-16le")){if(ne.length<2||kt.length<2)return-1;It=2,Nt/=2,Ht/=2,Gt/=2}function Lt(ie,le){return It===1?ie[le]:ie.readUInt16BE(le*It)}var dt;if(Zt){var xt=-1;for(dt=Gt;dt<Nt;dt++)if(Lt(ne,dt)===Lt(kt,xt===-1?0:dt-xt)){if(xt===-1&&(xt=dt),dt-xt+1===Ht)return xt*It}else xt!==-1&&(dt-=dt-xt),xt=-1}else for(Gt+Ht>Nt&&(Gt=Nt-Ht),dt=Gt;dt>=0;dt--){for(var Ot=!0,jt=0;jt<Ht;jt++)if(Lt(ne,dt+jt)!==Lt(kt,jt)){Ot=!1;break}if(Ot)return dt}return-1}i.prototype.includes=function(kt,Gt,Yt){return this.indexOf(kt,Gt,Yt)!==-1},i.prototype.indexOf=function(kt,Gt,Yt){return V(this,kt,Gt,Yt,!0)},i.prototype.lastIndexOf=function(kt,Gt,Yt){return V(this,kt,Gt,Yt,!1)};function O(ne,kt,Gt,Yt){Gt=Number(Gt)||0;var Zt=ne.length-Gt;Yt?(Yt=Number(Yt),Yt>Zt&&(Yt=Zt)):Yt=Zt;var It=kt.length;Yt>It/2&&(Yt=It/2);var Nt;for(Nt=0;Nt<Yt;++Nt){var Ht=parseInt(kt.substr(Nt*2,2),16);if(ve(Ht))return Nt;ne[Gt+Nt]=Ht}return Nt}function H(ne,kt,Gt,Yt){return te(Wt(kt,ne.length-Gt),ne,Gt,Yt)}function X(ne,kt,Gt,Yt){return te(Kt(kt),ne,Gt,Yt)}function J(ne,kt,Gt,Yt){return te(Jt(kt),ne,Gt,Yt)}function et(ne,kt,Gt,Yt){return te(oe(kt,ne.length-Gt),ne,Gt,Yt)}i.prototype.write=function(kt,Gt,Yt,Zt){if(Gt===void 0)Zt="utf8",Yt=this.length,Gt=0;else if(Yt===void 0&&typeof Gt=="string")Zt=Gt,Yt=this.length,Gt=0;else if(isFinite(Gt))Gt=Gt>>>0,isFinite(Yt)?(Yt=Yt>>>0,Zt===void 0&&(Zt="utf8")):(Zt=Yt,Yt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var It=this.length-Gt;if((Yt===void 0||Yt>It)&&(Yt=It),kt.length>0&&(Yt<0||Gt<0)||Gt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Zt||(Zt="utf8");for(var Nt=!1;;)switch(Zt){case"hex":return O(this,kt,Gt,Yt);case"utf8":case"utf-8":return H(this,kt,Gt,Yt);case"ascii":case"latin1":case"binary":return X(this,kt,Gt,Yt);case"base64":return J(this,kt,Gt,Yt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return et(this,kt,Gt,Yt);default:if(Nt)throw new TypeError("Unknown encoding: "+Zt);Zt=(""+Zt).toLowerCase(),Nt=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function it(ne,kt,Gt){return kt===0&&Gt===ne.length?f.fromByteArray(ne):f.fromByteArray(ne.slice(kt,Gt))}function ft(ne,kt,Gt){Gt=Math.min(ne.length,Gt);for(var Yt=[],Zt=kt;Zt<Gt;){var It=ne[Zt],Nt=null,Ht=It>239?4:It>223?3:It>191?2:1;if(Zt+Ht<=Gt){var Lt=void 0,dt=void 0,xt=void 0,Ot=void 0;switch(Ht){case 1:It<128&&(Nt=It);break;case 2:Lt=ne[Zt+1],(Lt&192)===128&&(Ot=(It&31)<<6|Lt&63,Ot>127&&(Nt=Ot));break;case 3:Lt=ne[Zt+1],dt=ne[Zt+2],(Lt&192)===128&&(dt&192)===128&&(Ot=(It&15)<<12|(Lt&63)<<6|dt&63,Ot>2047&&(Ot<55296||Ot>57343)&&(Nt=Ot));break;case 4:Lt=ne[Zt+1],dt=ne[Zt+2],xt=ne[Zt+3],(Lt&192)===128&&(dt&192)===128&&(xt&192)===128&&(Ot=(It&15)<<18|(Lt&63)<<12|(dt&63)<<6|xt&63,Ot>65535&&Ot<1114112&&(Nt=Ot))}}Nt===null?(Nt=65533,Ht=1):Nt>65535&&(Nt-=65536,Yt.push(Nt>>>10&1023|55296),Nt=56320|Nt&1023),Yt.push(Nt),Zt+=Ht}return Q(Yt)}var ot=4096;function Q(ne){var kt=ne.length;if(kt<=ot)return String.fromCharCode.apply(String,ne);for(var Gt="",Yt=0;Yt<kt;)Gt+=String.fromCharCode.apply(String,ne.slice(Yt,Yt+=ot));return Gt}function tt(ne,kt,Gt){var Yt="";Gt=Math.min(ne.length,Gt);for(var Zt=kt;Zt<Gt;++Zt)Yt+=String.fromCharCode(ne[Zt]&127);return Yt}function Z(ne,kt,Gt){var Yt="";Gt=Math.min(ne.length,Gt);for(var Zt=kt;Zt<Gt;++Zt)Yt+=String.fromCharCode(ne[Zt]);return Yt}function q(ne,kt,Gt){var Yt=ne.length;(!kt||kt<0)&&(kt=0),(!Gt||Gt<0||Gt>Yt)&&(Gt=Yt);for(var Zt="",It=kt;It<Gt;++It)Zt+=de[ne[It]];return Zt}function ut(ne,kt,Gt){for(var Yt=ne.slice(kt,Gt),Zt="",It=0;It<Yt.length-1;It+=2)Zt+=String.fromCharCode(Yt[It]+Yt[It+1]*256);return Zt}i.prototype.slice=function(kt,Gt){var Yt=this.length;kt=~~kt,Gt=Gt===void 0?Yt:~~Gt,kt<0?(kt+=Yt,kt<0&&(kt=0)):kt>Yt&&(kt=Yt),Gt<0?(Gt+=Yt,Gt<0&&(Gt=0)):Gt>Yt&&(Gt=Yt),Gt<kt&&(Gt=kt);var Zt=this.subarray(kt,Gt);return Object.setPrototypeOf(Zt,i.prototype),Zt};function $(ne,kt,Gt){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+kt>Gt)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(kt,Gt,Yt){kt=kt>>>0,Gt=Gt>>>0,Yt||$(kt,Gt,this.length);for(var Zt=this[kt],It=1,Nt=0;++Nt<Gt&&(It*=256);)Zt+=this[kt+Nt]*It;return Zt},i.prototype.readUintBE=i.prototype.readUIntBE=function(kt,Gt,Yt){kt=kt>>>0,Gt=Gt>>>0,Yt||$(kt,Gt,this.length);for(var Zt=this[kt+--Gt],It=1;Gt>0&&(It*=256);)Zt+=this[kt+--Gt]*It;return Zt},i.prototype.readUint8=i.prototype.readUInt8=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,1,this.length),this[kt]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,2,this.length),this[kt]|this[kt+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,2,this.length),this[kt]<<8|this[kt+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,4,this.length),(this[kt]|this[kt+1]<<8|this[kt+2]<<16)+this[kt+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,4,this.length),this[kt]*16777216+(this[kt+1]<<16|this[kt+2]<<8|this[kt+3])},i.prototype.readBigUInt64LE=xe(function(kt){kt=kt>>>0,Rt(kt,"offset");var Gt=this[kt],Yt=this[kt+7];(Gt===void 0||Yt===void 0)&&Et(kt,this.length-8);var Zt=Gt+this[++kt]*Math.pow(2,8)+this[++kt]*Math.pow(2,16)+this[++kt]*Math.pow(2,24),It=this[++kt]+this[++kt]*Math.pow(2,8)+this[++kt]*Math.pow(2,16)+Yt*Math.pow(2,24);return BigInt(Zt)+(BigInt(It)<<BigInt(32))}),i.prototype.readBigUInt64BE=xe(function(kt){kt=kt>>>0,Rt(kt,"offset");var Gt=this[kt],Yt=this[kt+7];(Gt===void 0||Yt===void 0)&&Et(kt,this.length-8);var Zt=Gt*Math.pow(2,24)+this[++kt]*Math.pow(2,16)+this[++kt]*Math.pow(2,8)+this[++kt],It=this[++kt]*Math.pow(2,24)+this[++kt]*Math.pow(2,16)+this[++kt]*Math.pow(2,8)+Yt;return(BigInt(Zt)<<BigInt(32))+BigInt(It)}),i.prototype.readIntLE=function(kt,Gt,Yt){kt=kt>>>0,Gt=Gt>>>0,Yt||$(kt,Gt,this.length);for(var Zt=this[kt],It=1,Nt=0;++Nt<Gt&&(It*=256);)Zt+=this[kt+Nt]*It;return It*=128,Zt>=It&&(Zt-=Math.pow(2,8*Gt)),Zt},i.prototype.readIntBE=function(kt,Gt,Yt){kt=kt>>>0,Gt=Gt>>>0,Yt||$(kt,Gt,this.length);for(var Zt=Gt,It=1,Nt=this[kt+--Zt];Zt>0&&(It*=256);)Nt+=this[kt+--Zt]*It;return It*=128,Nt>=It&&(Nt-=Math.pow(2,8*Gt)),Nt},i.prototype.readInt8=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,1,this.length),this[kt]&128?(255-this[kt]+1)*-1:this[kt]},i.prototype.readInt16LE=function(kt,Gt){kt=kt>>>0,Gt||$(kt,2,this.length);var Yt=this[kt]|this[kt+1]<<8;return Yt&32768?Yt|4294901760:Yt},i.prototype.readInt16BE=function(kt,Gt){kt=kt>>>0,Gt||$(kt,2,this.length);var Yt=this[kt+1]|this[kt]<<8;return Yt&32768?Yt|4294901760:Yt},i.prototype.readInt32LE=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,4,this.length),this[kt]|this[kt+1]<<8|this[kt+2]<<16|this[kt+3]<<24},i.prototype.readInt32BE=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,4,this.length),this[kt]<<24|this[kt+1]<<16|this[kt+2]<<8|this[kt+3]},i.prototype.readBigInt64LE=xe(function(kt){kt=kt>>>0,Rt(kt,"offset");var Gt=this[kt],Yt=this[kt+7];(Gt===void 0||Yt===void 0)&&Et(kt,this.length-8);var Zt=this[kt+4]+this[kt+5]*Math.pow(2,8)+this[kt+6]*Math.pow(2,16)+(Yt<<24);return(BigInt(Zt)<<BigInt(32))+BigInt(Gt+this[++kt]*Math.pow(2,8)+this[++kt]*Math.pow(2,16)+this[++kt]*Math.pow(2,24))}),i.prototype.readBigInt64BE=xe(function(kt){kt=kt>>>0,Rt(kt,"offset");var Gt=this[kt],Yt=this[kt+7];(Gt===void 0||Yt===void 0)&&Et(kt,this.length-8);var Zt=(Gt<<24)+this[++kt]*Math.pow(2,16)+this[++kt]*Math.pow(2,8)+this[++kt];return(BigInt(Zt)<<BigInt(32))+BigInt(this[++kt]*Math.pow(2,24)+this[++kt]*Math.pow(2,16)+this[++kt]*Math.pow(2,8)+Yt)}),i.prototype.readFloatLE=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,4,this.length),c.read(this,kt,!0,23,4)},i.prototype.readFloatBE=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,4,this.length),c.read(this,kt,!1,23,4)},i.prototype.readDoubleLE=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,8,this.length),c.read(this,kt,!0,52,8)},i.prototype.readDoubleBE=function(kt,Gt){return kt=kt>>>0,Gt||$(kt,8,this.length),c.read(this,kt,!1,52,8)};function j(ne,kt,Gt,Yt,Zt,It){if(!i.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(kt>Zt||kt<It)throw new RangeError('"value" argument is out of bounds');if(Gt+Yt>ne.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(kt,Gt,Yt,Zt){if(kt=+kt,Gt=Gt>>>0,Yt=Yt>>>0,!Zt){var It=Math.pow(2,8*Yt)-1;j(this,kt,Gt,Yt,It,0)}var Nt=1,Ht=0;for(this[Gt]=kt&255;++Ht<Yt&&(Nt*=256);)this[Gt+Ht]=kt/Nt&255;return Gt+Yt},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(kt,Gt,Yt,Zt){if(kt=+kt,Gt=Gt>>>0,Yt=Yt>>>0,!Zt){var It=Math.pow(2,8*Yt)-1;j(this,kt,Gt,Yt,It,0)}var Nt=Yt-1,Ht=1;for(this[Gt+Nt]=kt&255;--Nt>=0&&(Ht*=256);)this[Gt+Nt]=kt/Ht&255;return Gt+Yt},i.prototype.writeUint8=i.prototype.writeUInt8=function(kt,Gt,Yt){return kt=+kt,Gt=Gt>>>0,Yt||j(this,kt,Gt,1,255,0),this[Gt]=kt&255,Gt+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(kt,Gt,Yt){return kt=+kt,Gt=Gt>>>0,Yt||j(this,kt,Gt,2,65535,0),this[Gt]=kt&255,this[Gt+1]=kt>>>8,Gt+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(kt,Gt,Yt){return kt=+kt,Gt=Gt>>>0,Yt||j(this,kt,Gt,2,65535,0),this[Gt]=kt>>>8,this[Gt+1]=kt&255,Gt+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(kt,Gt,Yt){return kt=+kt,Gt=Gt>>>0,Yt||j(this,kt,Gt,4,4294967295,0),this[Gt+3]=kt>>>24,this[Gt+2]=kt>>>16,this[Gt+1]=kt>>>8,this[Gt]=kt&255,Gt+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(kt,Gt,Yt){return kt=+kt,Gt=Gt>>>0,Yt||j(this,kt,Gt,4,4294967295,0),this[Gt]=kt>>>24,this[Gt+1]=kt>>>16,this[Gt+2]=kt>>>8,this[Gt+3]=kt&255,Gt+4};function lt(ne,kt,Gt,Yt,Zt){St(kt,Yt,Zt,ne,Gt,7);var It=Number(kt&BigInt(4294967295));ne[Gt++]=It,It=It>>8,ne[Gt++]=It,It=It>>8,ne[Gt++]=It,It=It>>8,ne[Gt++]=It;var Nt=Number(kt>>BigInt(32)&BigInt(4294967295));return ne[Gt++]=Nt,Nt=Nt>>8,ne[Gt++]=Nt,Nt=Nt>>8,ne[Gt++]=Nt,Nt=Nt>>8,ne[Gt++]=Nt,Gt}function nt(ne,kt,Gt,Yt,Zt){St(kt,Yt,Zt,ne,Gt,7);var It=Number(kt&BigInt(4294967295));ne[Gt+7]=It,It=It>>8,ne[Gt+6]=It,It=It>>8,ne[Gt+5]=It,It=It>>8,ne[Gt+4]=It;var Nt=Number(kt>>BigInt(32)&BigInt(4294967295));return ne[Gt+3]=Nt,Nt=Nt>>8,ne[Gt+2]=Nt,Nt=Nt>>8,ne[Gt+1]=Nt,Nt=Nt>>8,ne[Gt]=Nt,Gt+8}i.prototype.writeBigUInt64LE=xe(function(kt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return lt(this,kt,Gt,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=xe(function(kt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return nt(this,kt,Gt,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(kt,Gt,Yt,Zt){if(kt=+kt,Gt=Gt>>>0,!Zt){var It=Math.pow(2,8*Yt-1);j(this,kt,Gt,Yt,It-1,-It)}var Nt=0,Ht=1,Lt=0;for(this[Gt]=kt&255;++Nt<Yt&&(Ht*=256);)kt<0&&Lt===0&&this[Gt+Nt-1]!==0&&(Lt=1),this[Gt+Nt]=(kt/Ht>>0)-Lt&255;return Gt+Yt},i.prototype.writeIntBE=function(kt,Gt,Yt,Zt){if(kt=+kt,Gt=Gt>>>0,!Zt){var It=Math.pow(2,8*Yt-1);j(this,kt,Gt,Yt,It-1,-It)}var Nt=Yt-1,Ht=1,Lt=0;for(this[Gt+Nt]=kt&255;--Nt>=0&&(Ht*=256);)kt<0&&Lt===0&&this[Gt+Nt+1]!==0&&(Lt=1),this[Gt+Nt]=(kt/Ht>>0)-Lt&255;return Gt+Yt},i.prototype.writeInt8=function(kt,Gt,Yt){return kt=+kt,Gt=Gt>>>0,Yt||j(this,kt,Gt,1,127,-128),kt<0&&(kt=255+kt+1),this[Gt]=kt&255,Gt+1},i.prototype.writeInt16LE=function(kt,Gt,Yt){return kt=+kt,Gt=Gt>>>0,Yt||j(this,kt,Gt,2,32767,-32768),this[Gt]=kt&255,this[Gt+1]=kt>>>8,Gt+2},i.prototype.writeInt16BE=function(kt,Gt,Yt){return kt=+kt,Gt=Gt>>>0,Yt||j(this,kt,Gt,2,32767,-32768),this[Gt]=kt>>>8,this[Gt+1]=kt&255,Gt+2},i.prototype.writeInt32LE=function(kt,Gt,Yt){return kt=+kt,Gt=Gt>>>0,Yt||j(this,kt,Gt,4,2147483647,-2147483648),this[Gt]=kt&255,this[Gt+1]=kt>>>8,this[Gt+2]=kt>>>16,this[Gt+3]=kt>>>24,Gt+4},i.prototype.writeInt32BE=function(kt,Gt,Yt){return kt=+kt,Gt=Gt>>>0,Yt||j(this,kt,Gt,4,2147483647,-2147483648),kt<0&&(kt=4294967295+kt+1),this[Gt]=kt>>>24,this[Gt+1]=kt>>>16,this[Gt+2]=kt>>>8,this[Gt+3]=kt&255,Gt+4},i.prototype.writeBigInt64LE=xe(function(kt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return lt(this,kt,Gt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=xe(function(kt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return nt(this,kt,Gt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ht(ne,kt,Gt,Yt,Zt,It){if(Gt+Yt>ne.length)throw new RangeError("Index out of range");if(Gt<0)throw new RangeError("Index out of range")}function mt(ne,kt,Gt,Yt,Zt){return kt=+kt,Gt=Gt>>>0,Zt||ht(ne,kt,Gt,4),c.write(ne,kt,Gt,Yt,23,4),Gt+4}i.prototype.writeFloatLE=function(kt,Gt,Yt){return mt(this,kt,Gt,!0,Yt)},i.prototype.writeFloatBE=function(kt,Gt,Yt){return mt(this,kt,Gt,!1,Yt)};function At(ne,kt,Gt,Yt,Zt){return kt=+kt,Gt=Gt>>>0,Zt||ht(ne,kt,Gt,8),c.write(ne,kt,Gt,Yt,52,8),Gt+8}i.prototype.writeDoubleLE=function(kt,Gt,Yt){return At(this,kt,Gt,!0,Yt)},i.prototype.writeDoubleBE=function(kt,Gt,Yt){return At(this,kt,Gt,!1,Yt)},i.prototype.copy=function(kt,Gt,Yt,Zt){if(!i.isBuffer(kt))throw new TypeError("argument should be a Buffer");if(Yt||(Yt=0),!Zt&&Zt!==0&&(Zt=this.length),Gt>=kt.length&&(Gt=kt.length),Gt||(Gt=0),Zt>0&&Zt<Yt&&(Zt=Yt),Zt===Yt||kt.length===0||this.length===0)return 0;if(Gt<0)throw new RangeError("targetStart out of bounds");if(Yt<0||Yt>=this.length)throw new RangeError("Index out of range");if(Zt<0)throw new RangeError("sourceEnd out of bounds");Zt>this.length&&(Zt=this.length),kt.length-Gt<Zt-Yt&&(Zt=kt.length-Gt+Yt);var It=Zt-Yt;return this===kt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Gt,Yt,Zt):Uint8Array.prototype.set.call(kt,this.subarray(Yt,Zt),Gt),It},i.prototype.fill=function(kt,Gt,Yt,Zt){if(typeof kt=="string"){if(typeof Gt=="string"?(Zt=Gt,Gt=0,Yt=this.length):typeof Yt=="string"&&(Zt=Yt,Yt=this.length),Zt!==void 0&&typeof Zt!="string")throw new TypeError("encoding must be a string");if(typeof Zt=="string"&&!i.isEncoding(Zt))throw new TypeError("Unknown encoding: "+Zt);if(kt.length===1){var It=kt.charCodeAt(0);(Zt==="utf8"&&It<128||Zt==="latin1")&&(kt=It)}}else typeof kt=="number"?kt=kt&255:typeof kt=="boolean"&&(kt=Number(kt));if(Gt<0||this.length<Gt||this.length<Yt)throw new RangeError("Out of range index");if(Yt<=Gt)return this;Gt=Gt>>>0,Yt=Yt===void 0?this.length:Yt>>>0,kt||(kt=0);var Nt;if(typeof kt=="number")for(Nt=Gt;Nt<Yt;++Nt)this[Nt]=kt;else{var Ht=i.isBuffer(kt)?kt:i.from(kt,Zt),Lt=Ht.length;if(Lt===0)throw new TypeError('The value "'+kt+'" is invalid for argument "value"');for(Nt=0;Nt<Yt-Gt;++Nt)this[Nt+Gt]=Ht[Nt%Lt]}return this};var bt={};function Pt(ne,kt,Gt){bt[ne]=function(Yt){o(Zt,Yt);function Zt(){var It;return y(this,Zt),It=d(this,Zt),Object.defineProperty(e(It),"message",{value:kt.apply(e(It),arguments),writable:!0,configurable:!0}),It.name="".concat(It.name," [").concat(ne,"]"),It.stack,delete It.name,It}return s(Zt,[{key:"code",get:function(){return ne},set:function(Nt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Nt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ne,"]: ").concat(this.message)}}]),Zt}(Gt)}Pt("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?"".concat(ne," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Pt("ERR_INVALID_ARG_TYPE",function(ne,kt){return'The "'.concat(ne,'" argument must be of type number. Received type ').concat(u(kt))},TypeError),Pt("ERR_OUT_OF_RANGE",function(ne,kt,Gt){var Yt='The value of "'.concat(ne,'" is out of range.'),Zt=Gt;return Number.isInteger(Gt)&&Math.abs(Gt)>Math.pow(2,32)?Zt=_t(String(Gt)):typeof Gt=="bigint"&&(Zt=String(Gt),(Gt>Math.pow(BigInt(2),BigInt(32))||Gt<-Math.pow(BigInt(2),BigInt(32)))&&(Zt=_t(Zt)),Zt+="n"),Yt+=" It must be ".concat(kt,". Received ").concat(Zt),Yt},RangeError);function _t(ne){for(var kt="",Gt=ne.length,Yt=ne[0]==="-"?1:0;Gt>=Yt+4;Gt-=3)kt="_".concat(ne.slice(Gt-3,Gt)).concat(kt);return"".concat(ne.slice(0,Gt)).concat(kt)}function Ut(ne,kt,Gt){Rt(kt,"offset"),(ne[kt]===void 0||ne[kt+Gt]===void 0)&&Et(kt,ne.length-(Gt+1))}function St(ne,kt,Gt,Yt,Zt,It){if(ne>Gt||ne<kt){var Nt=typeof kt=="bigint"?"n":"",Ht;throw kt===0||kt===BigInt(0)?Ht=">= 0".concat(Nt," and < 2").concat(Nt," ** ").concat((It+1)*8).concat(Nt):Ht=">= -(2".concat(Nt," ** ").concat((It+1)*8-1).concat(Nt,") and < 2 ** ")+"".concat((It+1)*8-1).concat(Nt),new bt.ERR_OUT_OF_RANGE("value",Ht,ne)}Ut(Yt,Zt,It)}function Rt(ne,kt){if(typeof ne!="number")throw new bt.ERR_INVALID_ARG_TYPE(kt,"number",ne)}function Et(ne,kt,Gt){throw Math.floor(ne)!==ne?(Rt(ne,Gt),new bt.ERR_OUT_OF_RANGE("offset","an integer",ne)):kt<0?new bt.ERR_BUFFER_OUT_OF_BOUNDS:new bt.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(kt),ne)}var zt=/[^+/0-9A-Za-z-_]/g;function Ct(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(zt,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function Wt(ne,kt){kt=kt||1/0;for(var Gt,Yt=ne.length,Zt=null,It=[],Nt=0;Nt<Yt;++Nt){if(Gt=ne.charCodeAt(Nt),Gt>55295&&Gt<57344){if(!Zt){if(Gt>56319){(kt-=3)>-1&&It.push(239,191,189);continue}else if(Nt+1===Yt){(kt-=3)>-1&&It.push(239,191,189);continue}Zt=Gt;continue}if(Gt<56320){(kt-=3)>-1&&It.push(239,191,189),Zt=Gt;continue}Gt=(Zt-55296<<10|Gt-56320)+65536}else Zt&&(kt-=3)>-1&&It.push(239,191,189);if(Zt=null,Gt<128){if((kt-=1)<0)break;It.push(Gt)}else if(Gt<2048){if((kt-=2)<0)break;It.push(Gt>>6|192,Gt&63|128)}else if(Gt<65536){if((kt-=3)<0)break;It.push(Gt>>12|224,Gt>>6&63|128,Gt&63|128)}else if(Gt<1114112){if((kt-=4)<0)break;It.push(Gt>>18|240,Gt>>12&63|128,Gt>>6&63|128,Gt&63|128)}else throw new Error("Invalid code point")}return It}function Kt(ne){for(var kt=[],Gt=0;Gt<ne.length;++Gt)kt.push(ne.charCodeAt(Gt)&255);return kt}function oe(ne,kt){for(var Gt,Yt,Zt,It=[],Nt=0;Nt<ne.length&&!((kt-=2)<0);++Nt)Gt=ne.charCodeAt(Nt),Yt=Gt>>8,Zt=Gt%256,It.push(Zt),It.push(Yt);return It}function Jt(ne){return f.toByteArray(Ct(ne))}function te(ne,kt,Gt,Yt){var Zt;for(Zt=0;Zt<Yt&&!(Zt+Gt>=kt.length||Zt>=ne.length);++Zt)kt[Zt+Gt]=ne[Zt];return Zt}function fe(ne,kt){return ne instanceof kt||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===kt.name}function ve(ne){return ne!==ne}var de=function(){for(var ne="0123456789abcdef",kt=new Array(256),Gt=0;Gt<16;++Gt)for(var Yt=Gt*16,Zt=0;Zt<16;++Zt)kt[Yt+Zt]=ne[Gt]+ne[Zt];return kt}();function xe(ne){return typeof BigInt>"u"?Me:ne}function Me(){throw new Error("BigInt not supported")}},25928:function(W){W.exports=D,W.exports.isMobile=D,W.exports.default=D;var G=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,y=/android|ipad|playbook|silk/i;function D(s){s||(s={});var P=s.ua;if(!P&&typeof navigator<"u"&&(P=navigator.userAgent),P&&P.headers&&typeof P.headers["user-agent"]=="string"&&(P=P.headers["user-agent"]),typeof P!="string")return!1;var M=G.test(P)&&!t.test(P)||!!s.tablet&&y.test(P);return!M&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&P.indexOf("Macintosh")!==-1&&P.indexOf("Safari")!==-1&&(M=!0),M}},48932:function(W,G,t){t.r(G),t.d(G,{sankeyCenter:function(){return o},sankeyCircular:function(){return C},sankeyJustify:function(){return e},sankeyLeft:function(){return g},sankeyRight:function(){return r}});var y=t(84706),D=t(34712),s=t(10132),P=t(6688),M=t.n(P);function d(bt){return bt.target.depth}function g(bt){return bt.depth}function r(bt,Pt){return Pt-1-bt.height}function e(bt,Pt){return bt.sourceLinks.length?bt.depth:Pt-1}function o(bt){return bt.targetLinks.length?bt.depth:bt.sourceLinks.length?(0,y.SY)(bt.sourceLinks,d)-1:0}function n(bt){return function(){return bt}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt};function f(bt,Pt){return m(bt.source,Pt.source)||bt.index-Pt.index}function c(bt,Pt){return m(bt.target,Pt.target)||bt.index-Pt.index}function m(bt,Pt){return bt.partOfCycle===Pt.partOfCycle?bt.y0-Pt.y0:bt.circularLinkType==="top"||Pt.circularLinkType==="bottom"?-1:1}function v(bt){return bt.value}function T(bt){return(bt.y0+bt.y1)/2}function h(bt){return T(bt.source)}function i(bt){return T(bt.target)}function p(bt){return bt.index}function w(bt){return bt.nodes}function A(bt){return bt.links}function L(bt,Pt){var _t=bt.get(Pt);if(!_t)throw new Error("missing: "+Pt);return _t}function x(bt,Pt){return Pt(bt)}var E=25,S=10,a=.3;function C(){var bt=0,Pt=0,_t=1,Ut=1,St=24,Rt,Et=p,zt=e,Ct=w,Wt=A,Kt=32,oe=2,Jt,te=null;function fe(){var Yt={nodes:Ct.apply(null,arguments),links:Wt.apply(null,arguments)};ve(Yt),b(Yt,Et,te),de(Yt),ne(Yt),z(Yt,Et),kt(Yt,Kt,Et),Gt(Yt);for(var Zt=4,It=0;It<Zt;It++)j(Yt,Ut,Et),lt(Yt,Ut,Et),q(Yt,Pt,Ut,Et),j(Yt,Ut,Et),lt(Yt,Ut,Et);return At(Yt,Pt,Ut),O(Yt,oe,Ut,Et),Yt}fe.nodeId=function(Yt){return arguments.length?(Et=typeof Yt=="function"?Yt:n(Yt),fe):Et},fe.nodeAlign=function(Yt){return arguments.length?(zt=typeof Yt=="function"?Yt:n(Yt),fe):zt},fe.nodeWidth=function(Yt){return arguments.length?(St=+Yt,fe):St},fe.nodePadding=function(Yt){return arguments.length?(Rt=+Yt,fe):Rt},fe.nodes=function(Yt){return arguments.length?(Ct=typeof Yt=="function"?Yt:n(Yt),fe):Ct},fe.links=function(Yt){return arguments.length?(Wt=typeof Yt=="function"?Yt:n(Yt),fe):Wt},fe.size=function(Yt){return arguments.length?(bt=Pt=0,_t=+Yt[0],Ut=+Yt[1],fe):[_t-bt,Ut-Pt]},fe.extent=function(Yt){return arguments.length?(bt=+Yt[0][0],_t=+Yt[1][0],Pt=+Yt[0][1],Ut=+Yt[1][1],fe):[[bt,Pt],[_t,Ut]]},fe.iterations=function(Yt){return arguments.length?(Kt=+Yt,fe):Kt},fe.circularLinkGap=function(Yt){return arguments.length?(oe=+Yt,fe):oe},fe.nodePaddingRatio=function(Yt){return arguments.length?(Jt=+Yt,fe):Jt},fe.sortNodes=function(Yt){return arguments.length?(te=Yt,fe):te},fe.update=function(Yt){return z(Yt,Et),Gt(Yt),Yt.links.forEach(function(Zt){Zt.circular&&(Zt.circularLinkType=Zt.y0+Zt.y1<Ut?"top":"bottom",Zt.source.circularLinkType=Zt.circularLinkType,Zt.target.circularLinkType=Zt.circularLinkType)}),j(Yt,Ut,Et,!1),lt(Yt,Ut,Et),O(Yt,oe,Ut,Et),Yt};function ve(Yt){Yt.nodes.forEach(function(It,Nt){It.index=Nt,It.sourceLinks=[],It.targetLinks=[]});var Zt=(0,D.kH)(Yt.nodes,Et);return Yt.links.forEach(function(It,Nt){It.index=Nt;var Ht=It.source,Lt=It.target;(typeof Ht>"u"?"undefined":u(Ht))!=="object"&&(Ht=It.source=L(Zt,Ht)),(typeof Lt>"u"?"undefined":u(Lt))!=="object"&&(Lt=It.target=L(Zt,Lt)),Ht.sourceLinks.push(It),Lt.targetLinks.push(It)}),Yt}function de(Yt){Yt.nodes.forEach(function(Zt){Zt.partOfCycle=!1,Zt.value=Math.max((0,y.oh)(Zt.sourceLinks,v),(0,y.oh)(Zt.targetLinks,v)),Zt.sourceLinks.forEach(function(It){It.circular&&(Zt.partOfCycle=!0,Zt.circularLinkType=It.circularLinkType)}),Zt.targetLinks.forEach(function(It){It.circular&&(Zt.partOfCycle=!0,Zt.circularLinkType=It.circularLinkType)})})}function xe(Yt){var Zt=0,It=0,Nt=0,Ht=0,Lt=(0,y.kv)(Yt.nodes,function(dt){return dt.column});return Yt.links.forEach(function(dt){dt.circular&&(dt.circularLinkType=="top"?Zt=Zt+dt.width:It=It+dt.width,dt.target.column==0&&(Ht=Ht+dt.width),dt.source.column==Lt&&(Nt=Nt+dt.width))}),Zt=Zt>0?Zt+E+S:Zt,It=It>0?It+E+S:It,Nt=Nt>0?Nt+E+S:Nt,Ht=Ht>0?Ht+E+S:Ht,{top:Zt,bottom:It,left:Ht,right:Nt}}function Me(Yt,Zt){var It=(0,y.kv)(Yt.nodes,function(jt){return jt.column}),Nt=_t-bt,Ht=Ut-Pt,Lt=Nt+Zt.right+Zt.left,dt=Ht+Zt.top+Zt.bottom,xt=Nt/Lt,Ot=Ht/dt;return bt=bt*xt+Zt.left,_t=Zt.right==0?_t:_t*xt,Pt=Pt*Ot+Zt.top,Ut=Ut*Ot,Yt.nodes.forEach(function(jt){jt.x0=bt+jt.column*((_t-bt-St)/It),jt.x1=jt.x0+St}),Ot}function ne(Yt){var Zt,It,Nt;for(Zt=Yt.nodes,It=[],Nt=0;Zt.length;++Nt,Zt=It,It=[])Zt.forEach(function(Ht){Ht.depth=Nt,Ht.sourceLinks.forEach(function(Lt){It.indexOf(Lt.target)<0&&!Lt.circular&&It.push(Lt.target)})});for(Zt=Yt.nodes,It=[],Nt=0;Zt.length;++Nt,Zt=It,It=[])Zt.forEach(function(Ht){Ht.height=Nt,Ht.targetLinks.forEach(function(Lt){It.indexOf(Lt.source)<0&&!Lt.circular&&It.push(Lt.source)})});Yt.nodes.forEach(function(Ht){Ht.column=Math.floor(zt.call(null,Ht,Nt))})}function kt(Yt,Zt,It){var Nt=(0,D.UJ)().key(function(jt){return jt.column}).sortKeys(y.XE).entries(Yt.nodes).map(function(jt){return jt.values});dt(It),Ot();for(var Ht=1,Lt=Zt;Lt>0;--Lt)xt(Ht*=.99,It),Ot();function dt(jt){if(Jt){var ie=1/0;Nt.forEach(function(Te){var Le=Ut*Jt/(Te.length+1);ie=Le<ie?Le:ie}),Rt=ie}var le=(0,y.SY)(Nt,function(Te){return(Ut-Pt-(Te.length-1)*Rt)/(0,y.oh)(Te,v)});le=le*a,Yt.links.forEach(function(Te){Te.width=Te.value*le});var Ve=xe(Yt),je=Me(Yt,Ve);le=le*je,Yt.links.forEach(function(Te){Te.width=Te.value*le}),Nt.forEach(function(Te){var Le=Te.length;Te.forEach(function(Ke,vr){Ke.depth==Nt.length-1&&Le==1||Ke.depth==0&&Le==1?(Ke.y0=Ut/2-Ke.value*le,Ke.y1=Ke.y0+Ke.value*le):Ke.partOfCycle?F(Ke,jt)==0?(Ke.y0=Ut/2+vr,Ke.y1=Ke.y0+Ke.value*le):Ke.circularLinkType=="top"?(Ke.y0=Pt+vr,Ke.y1=Ke.y0+Ke.value*le):(Ke.y0=Ut-Ke.value*le-vr,Ke.y1=Ke.y0+Ke.value*le):Ve.top==0||Ve.bottom==0?(Ke.y0=(Ut-Pt)/Le*vr,Ke.y1=Ke.y0+Ke.value*le):(Ke.y0=(Ut-Pt)/2-Le/2+vr,Ke.y1=Ke.y0+Ke.value*le)})})}function xt(jt,ie){var le=Nt.length;Nt.forEach(function(Ve){var je=Ve.length,Te=Ve[0].depth;Ve.forEach(function(Le){var Ke;if((Le.sourceLinks.length||Le.targetLinks.length)&&!(Le.partOfCycle&&F(Le,ie)>0))if(Te==0&&je==1)Ke=Le.y1-Le.y0,Le.y0=Ut/2-Ke/2,Le.y1=Ut/2+Ke/2;else if(Te==le-1&&je==1)Ke=Le.y1-Le.y0,Le.y0=Ut/2-Ke/2,Le.y1=Ut/2+Ke/2;else{var vr=0,ge=(0,y.mo)(Le.sourceLinks,i),Xe=(0,y.mo)(Le.targetLinks,h);ge&&Xe?vr=(ge+Xe)/2:vr=ge||Xe;var $e=(vr-T(Le))*jt;Le.y0+=$e,Le.y1+=$e}})})}function Ot(){Nt.forEach(function(jt){var ie,le,Ve=Pt,je=jt.length,Te;for(jt.sort(m),Te=0;Te<je;++Te)ie=jt[Te],le=Ve-ie.y0,le>0&&(ie.y0+=le,ie.y1+=le),Ve=ie.y1+Rt;if(le=Ve-Rt-Ut,le>0)for(Ve=ie.y0-=le,ie.y1-=le,Te=je-2;Te>=0;--Te)ie=jt[Te],le=ie.y1+Rt-Ve,le>0&&(ie.y0-=le,ie.y1-=le),Ve=ie.y0})}}function Gt(Yt){Yt.nodes.forEach(function(Zt){Zt.sourceLinks.sort(c),Zt.targetLinks.sort(f)}),Yt.nodes.forEach(function(Zt){var It=Zt.y0,Nt=It,Ht=Zt.y1,Lt=Ht;Zt.sourceLinks.forEach(function(dt){dt.circular?(dt.y0=Ht-dt.width/2,Ht=Ht-dt.width):(dt.y0=It+dt.width/2,It+=dt.width)}),Zt.targetLinks.forEach(function(dt){dt.circular?(dt.y1=Lt-dt.width/2,Lt=Lt-dt.width):(dt.y1=Nt+dt.width/2,Nt+=dt.width)})})}return fe}function b(bt,Pt,_t){var Ut=0;if(_t===null){for(var St=[],Rt=0;Rt<bt.links.length;Rt++){var Et=bt.links[Rt],zt=Et.source.index,Ct=Et.target.index;St[zt]||(St[zt]=[]),St[Ct]||(St[Ct]=[]),St[zt].indexOf(Ct)===-1&&St[zt].push(Ct)}var Wt=M()(St);Wt.sort(function(te,fe){return te.length-fe.length});var Kt={};for(Rt=0;Rt<Wt.length;Rt++){var oe=Wt[Rt],Jt=oe.slice(-2);Kt[Jt[0]]||(Kt[Jt[0]]={}),Kt[Jt[0]][Jt[1]]=!0}bt.links.forEach(function(te){var fe=te.target.index,ve=te.source.index;fe===ve||Kt[ve]&&Kt[ve][fe]?(te.circular=!0,te.circularLinkID=Ut,Ut=Ut+1):te.circular=!1})}else bt.links.forEach(function(te){te.source[_t]<te.target[_t]?te.circular=!1:(te.circular=!0,te.circularLinkID=Ut,Ut=Ut+1)})}function z(bt,Pt){var _t=0,Ut=0;bt.links.forEach(function(St){St.circular&&(St.source.circularLinkType||St.target.circularLinkType?St.circularLinkType=St.source.circularLinkType?St.source.circularLinkType:St.target.circularLinkType:St.circularLinkType=_t<Ut?"top":"bottom",St.circularLinkType=="top"?_t=_t+1:Ut=Ut+1,bt.nodes.forEach(function(Rt){(x(Rt,Pt)==x(St.source,Pt)||x(Rt,Pt)==x(St.target,Pt))&&(Rt.circularLinkType=St.circularLinkType)}))}),bt.links.forEach(function(St){St.circular&&(St.source.circularLinkType==St.target.circularLinkType&&(St.circularLinkType=St.source.circularLinkType),mt(St,Pt)&&(St.circularLinkType=St.source.circularLinkType))})}function k(bt){var Pt=Math.abs(bt.y1-bt.y0),_t=Math.abs(bt.target.x0-bt.source.x1);return Math.atan(_t/Pt)}function U(bt,Pt){return bt.source.column<Pt.target.column?!1:!(bt.target.column>Pt.source.column)}function F(bt,Pt){var _t=0;bt.sourceLinks.forEach(function(St){_t=St.circular&&!mt(St,Pt)?_t+1:_t});var Ut=0;return bt.targetLinks.forEach(function(St){Ut=St.circular&&!mt(St,Pt)?Ut+1:Ut}),_t+Ut}function V(bt){var Pt=bt.source.sourceLinks,_t=0;Pt.forEach(function(Rt){_t=Rt.circular?_t+1:_t});var Ut=bt.target.targetLinks,St=0;return Ut.forEach(function(Rt){St=Rt.circular?St+1:St}),!(_t>1||St>1)}function N(bt,Pt,_t){return bt.sort(X),bt.forEach(function(Ut,St){var Rt=0;if(mt(Ut,_t)&&V(Ut))Ut.circularPathData.verticalBuffer=Rt+Ut.width/2;else{var Et=0;for(Et;Et<St;Et++)if(U(bt[St],bt[Et])){var zt=bt[Et].circularPathData.verticalBuffer+bt[Et].width/2+Pt;Rt=zt>Rt?zt:Rt}Ut.circularPathData.verticalBuffer=Rt+Ut.width/2}}),bt}function O(bt,Pt,_t,Ut){var St=5,Rt=(0,y.SY)(bt.links,function(Ct){return Ct.source.y0});bt.links.forEach(function(Ct){Ct.circular&&(Ct.circularPathData={})});var Et=bt.links.filter(function(Ct){return Ct.circularLinkType=="top"});N(Et,Pt,Ut);var zt=bt.links.filter(function(Ct){return Ct.circularLinkType=="bottom"});N(zt,Pt,Ut),bt.links.forEach(function(Ct){if(Ct.circular){if(Ct.circularPathData.arcRadius=Ct.width+S,Ct.circularPathData.leftNodeBuffer=St,Ct.circularPathData.rightNodeBuffer=St,Ct.circularPathData.sourceWidth=Ct.source.x1-Ct.source.x0,Ct.circularPathData.sourceX=Ct.source.x0+Ct.circularPathData.sourceWidth,Ct.circularPathData.targetX=Ct.target.x0,Ct.circularPathData.sourceY=Ct.y0,Ct.circularPathData.targetY=Ct.y1,mt(Ct,Ut)&&V(Ct))Ct.circularPathData.leftSmallArcRadius=S+Ct.width/2,Ct.circularPathData.leftLargeArcRadius=S+Ct.width/2,Ct.circularPathData.rightSmallArcRadius=S+Ct.width/2,Ct.circularPathData.rightLargeArcRadius=S+Ct.width/2,Ct.circularLinkType=="bottom"?(Ct.circularPathData.verticalFullExtent=Ct.source.y1+E+Ct.circularPathData.verticalBuffer,Ct.circularPathData.verticalLeftInnerExtent=Ct.circularPathData.verticalFullExtent-Ct.circularPathData.leftLargeArcRadius,Ct.circularPathData.verticalRightInnerExtent=Ct.circularPathData.verticalFullExtent-Ct.circularPathData.rightLargeArcRadius):(Ct.circularPathData.verticalFullExtent=Ct.source.y0-E-Ct.circularPathData.verticalBuffer,Ct.circularPathData.verticalLeftInnerExtent=Ct.circularPathData.verticalFullExtent+Ct.circularPathData.leftLargeArcRadius,Ct.circularPathData.verticalRightInnerExtent=Ct.circularPathData.verticalFullExtent+Ct.circularPathData.rightLargeArcRadius);else{var Wt=Ct.source.column,Kt=Ct.circularLinkType,oe=bt.links.filter(function(fe){return fe.source.column==Wt&&fe.circularLinkType==Kt});Ct.circularLinkType=="bottom"?oe.sort(et):oe.sort(J);var Jt=0;oe.forEach(function(fe,ve){fe.circularLinkID==Ct.circularLinkID&&(Ct.circularPathData.leftSmallArcRadius=S+Ct.width/2+Jt,Ct.circularPathData.leftLargeArcRadius=S+Ct.width/2+ve*Pt+Jt),Jt=Jt+fe.width}),Wt=Ct.target.column,oe=bt.links.filter(function(fe){return fe.target.column==Wt&&fe.circularLinkType==Kt}),Ct.circularLinkType=="bottom"?oe.sort(ft):oe.sort(it),Jt=0,oe.forEach(function(fe,ve){fe.circularLinkID==Ct.circularLinkID&&(Ct.circularPathData.rightSmallArcRadius=S+Ct.width/2+Jt,Ct.circularPathData.rightLargeArcRadius=S+Ct.width/2+ve*Pt+Jt),Jt=Jt+fe.width}),Ct.circularLinkType=="bottom"?(Ct.circularPathData.verticalFullExtent=Math.max(_t,Ct.source.y1,Ct.target.y1)+E+Ct.circularPathData.verticalBuffer,Ct.circularPathData.verticalLeftInnerExtent=Ct.circularPathData.verticalFullExtent-Ct.circularPathData.leftLargeArcRadius,Ct.circularPathData.verticalRightInnerExtent=Ct.circularPathData.verticalFullExtent-Ct.circularPathData.rightLargeArcRadius):(Ct.circularPathData.verticalFullExtent=Rt-E-Ct.circularPathData.verticalBuffer,Ct.circularPathData.verticalLeftInnerExtent=Ct.circularPathData.verticalFullExtent+Ct.circularPathData.leftLargeArcRadius,Ct.circularPathData.verticalRightInnerExtent=Ct.circularPathData.verticalFullExtent+Ct.circularPathData.rightLargeArcRadius)}Ct.circularPathData.leftInnerExtent=Ct.circularPathData.sourceX+Ct.circularPathData.leftNodeBuffer,Ct.circularPathData.rightInnerExtent=Ct.circularPathData.targetX-Ct.circularPathData.rightNodeBuffer,Ct.circularPathData.leftFullExtent=Ct.circularPathData.sourceX+Ct.circularPathData.leftLargeArcRadius+Ct.circularPathData.leftNodeBuffer,Ct.circularPathData.rightFullExtent=Ct.circularPathData.targetX-Ct.circularPathData.rightLargeArcRadius-Ct.circularPathData.rightNodeBuffer}if(Ct.circular)Ct.path=H(Ct);else{var te=(0,s.ak)().source(function(fe){var ve=fe.source.x0+(fe.source.x1-fe.source.x0),de=fe.y0;return[ve,de]}).target(function(fe){var ve=fe.target.x0,de=fe.y1;return[ve,de]});Ct.path=te(Ct)}})}function H(bt){var Pt="";return bt.circularLinkType=="top"?Pt="M"+bt.circularPathData.sourceX+" "+bt.circularPathData.sourceY+" L"+bt.circularPathData.leftInnerExtent+" "+bt.circularPathData.sourceY+" A"+bt.circularPathData.leftLargeArcRadius+" "+bt.circularPathData.leftSmallArcRadius+" 0 0 0 "+bt.circularPathData.leftFullExtent+" "+(bt.circularPathData.sourceY-bt.circularPathData.leftSmallArcRadius)+" L"+bt.circularPathData.leftFullExtent+" "+bt.circularPathData.verticalLeftInnerExtent+" A"+bt.circularPathData.leftLargeArcRadius+" "+bt.circularPathData.leftLargeArcRadius+" 0 0 0 "+bt.circularPathData.leftInnerExtent+" "+bt.circularPathData.verticalFullExtent+" L"+bt.circularPathData.rightInnerExtent+" "+bt.circularPathData.verticalFullExtent+" A"+bt.circularPathData.rightLargeArcRadius+" "+bt.circularPathData.rightLargeArcRadius+" 0 0 0 "+bt.circularPathData.rightFullExtent+" "+bt.circularPathData.verticalRightInnerExtent+" L"+bt.circularPathData.rightFullExtent+" "+(bt.circularPathData.targetY-bt.circularPathData.rightSmallArcRadius)+" A"+bt.circularPathData.rightLargeArcRadius+" "+bt.circularPathData.rightSmallArcRadius+" 0 0 0 "+bt.circularPathData.rightInnerExtent+" "+bt.circularPathData.targetY+" L"+bt.circularPathData.targetX+" "+bt.circularPathData.targetY:Pt="M"+bt.circularPathData.sourceX+" "+bt.circularPathData.sourceY+" L"+bt.circularPathData.leftInnerExtent+" "+bt.circularPathData.sourceY+" A"+bt.circularPathData.leftLargeArcRadius+" "+bt.circularPathData.leftSmallArcRadius+" 0 0 1 "+bt.circularPathData.leftFullExtent+" "+(bt.circularPathData.sourceY+bt.circularPathData.leftSmallArcRadius)+" L"+bt.circularPathData.leftFullExtent+" "+bt.circularPathData.verticalLeftInnerExtent+" A"+bt.circularPathData.leftLargeArcRadius+" "+bt.circularPathData.leftLargeArcRadius+" 0 0 1 "+bt.circularPathData.leftInnerExtent+" "+bt.circularPathData.verticalFullExtent+" L"+bt.circularPathData.rightInnerExtent+" "+bt.circularPathData.verticalFullExtent+" A"+bt.circularPathData.rightLargeArcRadius+" "+bt.circularPathData.rightLargeArcRadius+" 0 0 1 "+bt.circularPathData.rightFullExtent+" "+bt.circularPathData.verticalRightInnerExtent+" L"+bt.circularPathData.rightFullExtent+" "+(bt.circularPathData.targetY+bt.circularPathData.rightSmallArcRadius)+" A"+bt.circularPathData.rightLargeArcRadius+" "+bt.circularPathData.rightSmallArcRadius+" 0 0 1 "+bt.circularPathData.rightInnerExtent+" "+bt.circularPathData.targetY+" L"+bt.circularPathData.targetX+" "+bt.circularPathData.targetY,Pt}function X(bt,Pt){return ot(bt)==ot(Pt)?bt.circularLinkType=="bottom"?et(bt,Pt):J(bt,Pt):ot(Pt)-ot(bt)}function J(bt,Pt){return bt.y0-Pt.y0}function et(bt,Pt){return Pt.y0-bt.y0}function it(bt,Pt){return bt.y1-Pt.y1}function ft(bt,Pt){return Pt.y1-bt.y1}function ot(bt){return bt.target.column-bt.source.column}function Q(bt){return bt.target.x0-bt.source.x1}function tt(bt,Pt){var _t=k(bt),Ut=Q(Pt)/Math.tan(_t),St=ht(bt)=="up"?bt.y1+Ut:bt.y1-Ut;return St}function Z(bt,Pt){var _t=k(bt),Ut=Q(Pt)/Math.tan(_t),St=ht(bt)=="up"?bt.y1-Ut:bt.y1+Ut;return St}function q(bt,Pt,_t,Ut){bt.links.forEach(function(St){if(!St.circular&&St.target.column-St.source.column>1){var Rt=St.source.column+1,Et=St.target.column-1,zt=1,Ct=Et-Rt+1;for(zt=1;Rt<=Et;Rt++,zt++)bt.nodes.forEach(function(Wt){if(Wt.column==Rt){var Kt=zt/(Ct+1),oe=Math.pow(1-Kt,3),Jt=3*Kt*Math.pow(1-Kt,2),te=3*Math.pow(Kt,2)*(1-Kt),fe=Math.pow(Kt,3),ve=oe*St.y0+Jt*St.y0+te*St.y1+fe*St.y1,de=ve-St.width/2,xe=ve+St.width/2,Me;de>Wt.y0&&de<Wt.y1?(Me=Wt.y1-de+10,Me=Wt.circularLinkType=="bottom"?Me:-Me,Wt=$(Wt,Me,Pt,_t),bt.nodes.forEach(function(ne){x(ne,Ut)==x(Wt,Ut)||ne.column!=Wt.column||ut(Wt,ne)&&$(ne,Me,Pt,_t)})):xe>Wt.y0&&xe<Wt.y1?(Me=xe-Wt.y0+10,Wt=$(Wt,Me,Pt,_t),bt.nodes.forEach(function(ne){x(ne,Ut)==x(Wt,Ut)||ne.column!=Wt.column||ne.y0<Wt.y1&&ne.y1>Wt.y1&&$(ne,Me,Pt,_t)})):de<Wt.y0&&xe>Wt.y1&&(Me=xe-Wt.y0+10,Wt=$(Wt,Me,Pt,_t),bt.nodes.forEach(function(ne){x(ne,Ut)==x(Wt,Ut)||ne.column!=Wt.column||ne.y0<Wt.y1&&ne.y1>Wt.y1&&$(ne,Me,Pt,_t)}))}})}})}function ut(bt,Pt){return bt.y0>Pt.y0&&bt.y0<Pt.y1||bt.y1>Pt.y0&&bt.y1<Pt.y1?!0:bt.y0<Pt.y0&&bt.y1>Pt.y1}function $(bt,Pt,_t,Ut){return bt.y0+Pt>=_t&&bt.y1+Pt<=Ut&&(bt.y0=bt.y0+Pt,bt.y1=bt.y1+Pt,bt.targetLinks.forEach(function(St){St.y1=St.y1+Pt}),bt.sourceLinks.forEach(function(St){St.y0=St.y0+Pt})),bt}function j(bt,Pt,_t,Ut){bt.nodes.forEach(function(St){Ut&&St.y+(St.y1-St.y0)>Pt&&(St.y=St.y-(St.y+(St.y1-St.y0)-Pt));var Rt=bt.links.filter(function(Ct){return x(Ct.source,_t)==x(St,_t)}),Et=Rt.length;Et>1&&Rt.sort(function(Ct,Wt){if(!Ct.circular&&!Wt.circular){if(Ct.target.column==Wt.target.column)return Ct.y1-Wt.y1;if(nt(Ct,Wt)){if(Ct.target.column>Wt.target.column){var Kt=Z(Wt,Ct);return Ct.y1-Kt}if(Wt.target.column>Ct.target.column){var oe=Z(Ct,Wt);return oe-Wt.y1}}else return Ct.y1-Wt.y1}if(Ct.circular&&!Wt.circular)return Ct.circularLinkType=="top"?-1:1;if(Wt.circular&&!Ct.circular)return Wt.circularLinkType=="top"?1:-1;if(Ct.circular&&Wt.circular)return Ct.circularLinkType===Wt.circularLinkType&&Ct.circularLinkType=="top"?Ct.target.column===Wt.target.column?Ct.target.y1-Wt.target.y1:Wt.target.column-Ct.target.column:Ct.circularLinkType===Wt.circularLinkType&&Ct.circularLinkType=="bottom"?Ct.target.column===Wt.target.column?Wt.target.y1-Ct.target.y1:Ct.target.column-Wt.target.column:Ct.circularLinkType=="top"?-1:1});var zt=St.y0;Rt.forEach(function(Ct){Ct.y0=zt+Ct.width/2,zt=zt+Ct.width}),Rt.forEach(function(Ct,Wt){if(Ct.circularLinkType=="bottom"){var Kt=Wt+1,oe=0;for(Kt;Kt<Et;Kt++)oe=oe+Rt[Kt].width;Ct.y0=St.y1-oe-Ct.width/2}})})}function lt(bt,Pt,_t){bt.nodes.forEach(function(Ut){var St=bt.links.filter(function(zt){return x(zt.target,_t)==x(Ut,_t)}),Rt=St.length;Rt>1&&St.sort(function(zt,Ct){if(!zt.circular&&!Ct.circular){if(zt.source.column==Ct.source.column)return zt.y0-Ct.y0;if(nt(zt,Ct)){if(Ct.source.column<zt.source.column){var Wt=tt(Ct,zt);return zt.y0-Wt}if(zt.source.column<Ct.source.column){var Kt=tt(zt,Ct);return Kt-Ct.y0}}else return zt.y0-Ct.y0}if(zt.circular&&!Ct.circular)return zt.circularLinkType=="top"?-1:1;if(Ct.circular&&!zt.circular)return Ct.circularLinkType=="top"?1:-1;if(zt.circular&&Ct.circular)return zt.circularLinkType===Ct.circularLinkType&&zt.circularLinkType=="top"?zt.source.column===Ct.source.column?zt.source.y1-Ct.source.y1:zt.source.column-Ct.source.column:zt.circularLinkType===Ct.circularLinkType&&zt.circularLinkType=="bottom"?zt.source.column===Ct.source.column?zt.source.y1-Ct.source.y1:Ct.source.column-zt.source.column:zt.circularLinkType=="top"?-1:1});var Et=Ut.y0;St.forEach(function(zt){zt.y1=Et+zt.width/2,Et=Et+zt.width}),St.forEach(function(zt,Ct){if(zt.circularLinkType=="bottom"){var Wt=Ct+1,Kt=0;for(Wt;Wt<Rt;Wt++)Kt=Kt+St[Wt].width;zt.y1=Ut.y1-Kt-zt.width/2}})})}function nt(bt,Pt){return ht(bt)==ht(Pt)}function ht(bt){return bt.y0-bt.y1>0?"up":"down"}function mt(bt,Pt){return x(bt.source,Pt)==x(bt.target,Pt)}function At(bt,Pt,_t){var Ut=bt.nodes,St=bt.links,Rt=!1,Et=!1;if(St.forEach(function(Jt){Jt.circularLinkType=="top"?Rt=!0:Jt.circularLinkType=="bottom"&&(Et=!0)}),Rt==!1||Et==!1){var zt=(0,y.SY)(Ut,function(Jt){return Jt.y0}),Ct=(0,y.kv)(Ut,function(Jt){return Jt.y1}),Wt=Ct-zt,Kt=_t-Pt,oe=Kt/Wt;Ut.forEach(function(Jt){var te=(Jt.y1-Jt.y0)*oe;Jt.y0=(Jt.y0-zt)*oe,Jt.y1=Jt.y0+te}),St.forEach(function(Jt){Jt.y0=(Jt.y0-zt)*oe,Jt.y1=(Jt.y1-zt)*oe,Jt.width=Jt.width*oe})}}},26800:function(W,G,t){t.r(G),t.d(G,{sankey:function(){return p},sankeyCenter:function(){return g},sankeyJustify:function(){return d},sankeyLeft:function(){return P},sankeyLinkHorizontal:function(){return x},sankeyRight:function(){return M}});var y=t(84706),D=t(34712);function s(E){return E.target.depth}function P(E){return E.depth}function M(E,S){return S-1-E.height}function d(E,S){return E.sourceLinks.length?E.depth:S-1}function g(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,y.SY)(E.sourceLinks,s)-1:0}function r(E){return function(){return E}}function e(E,S){return n(E.source,S.source)||E.index-S.index}function o(E,S){return n(E.target,S.target)||E.index-S.index}function n(E,S){return E.y0-S.y0}function u(E){return E.value}function f(E){return(E.y0+E.y1)/2}function c(E){return f(E.source)*E.value}function m(E){return f(E.target)*E.value}function v(E){return E.index}function T(E){return E.nodes}function h(E){return E.links}function i(E,S){var a=E.get(S);if(!a)throw new Error("missing: "+S);return a}function p(){var E=0,S=0,a=1,C=1,b=24,z=8,k=v,U=d,F=T,V=h,N=32,O=2/3;function H(){var ot={nodes:F.apply(null,arguments),links:V.apply(null,arguments)};return X(ot),J(ot),et(ot),it(ot),ft(ot),ot}H.update=function(ot){return ft(ot),ot},H.nodeId=function(ot){return arguments.length?(k=typeof ot=="function"?ot:r(ot),H):k},H.nodeAlign=function(ot){return arguments.length?(U=typeof ot=="function"?ot:r(ot),H):U},H.nodeWidth=function(ot){return arguments.length?(b=+ot,H):b},H.nodePadding=function(ot){return arguments.length?(z=+ot,H):z},H.nodes=function(ot){return arguments.length?(F=typeof ot=="function"?ot:r(ot),H):F},H.links=function(ot){return arguments.length?(V=typeof ot=="function"?ot:r(ot),H):V},H.size=function(ot){return arguments.length?(E=S=0,a=+ot[0],C=+ot[1],H):[a-E,C-S]},H.extent=function(ot){return arguments.length?(E=+ot[0][0],a=+ot[1][0],S=+ot[0][1],C=+ot[1][1],H):[[E,S],[a,C]]},H.iterations=function(ot){return arguments.length?(N=+ot,H):N};function X(ot){ot.nodes.forEach(function(tt,Z){tt.index=Z,tt.sourceLinks=[],tt.targetLinks=[]});var Q=(0,D.kH)(ot.nodes,k);ot.links.forEach(function(tt,Z){tt.index=Z;var q=tt.source,ut=tt.target;typeof q!="object"&&(q=tt.source=i(Q,q)),typeof ut!="object"&&(ut=tt.target=i(Q,ut)),q.sourceLinks.push(tt),ut.targetLinks.push(tt)})}function J(ot){ot.nodes.forEach(function(Q){Q.value=Math.max((0,y.oh)(Q.sourceLinks,u),(0,y.oh)(Q.targetLinks,u))})}function et(ot){var Q,tt,Z;for(Q=ot.nodes,tt=[],Z=0;Q.length;++Z,Q=tt,tt=[])Q.forEach(function(ut){ut.depth=Z,ut.sourceLinks.forEach(function($){tt.indexOf($.target)<0&&tt.push($.target)})});for(Q=ot.nodes,tt=[],Z=0;Q.length;++Z,Q=tt,tt=[])Q.forEach(function(ut){ut.height=Z,ut.targetLinks.forEach(function($){tt.indexOf($.source)<0&&tt.push($.source)})});var q=(a-E-b)/(Z-1);ot.nodes.forEach(function(ut){ut.x1=(ut.x0=E+Math.max(0,Math.min(Z-1,Math.floor(U.call(null,ut,Z))))*q)+b})}function it(ot){var Q=(0,D.UJ)().key(function(lt){return lt.x0}).sortKeys(y.XE).entries(ot.nodes).map(function(lt){return lt.values});q(),j();for(var tt=1,Z=N;Z>0;--Z)$(tt*=.99),j(),ut(tt),j();function q(){var lt=(0,y.kv)(Q,function(mt){return mt.length}),nt=O*(C-S)/(lt-1);z>nt&&(z=nt);var ht=(0,y.SY)(Q,function(mt){return(C-S-(mt.length-1)*z)/(0,y.oh)(mt,u)});Q.forEach(function(mt){mt.forEach(function(At,bt){At.y1=(At.y0=bt)+At.value*ht})}),ot.links.forEach(function(mt){mt.width=mt.value*ht})}function ut(lt){Q.forEach(function(nt){nt.forEach(function(ht){if(ht.targetLinks.length){var mt=((0,y.oh)(ht.targetLinks,c)/(0,y.oh)(ht.targetLinks,u)-f(ht))*lt;ht.y0+=mt,ht.y1+=mt}})})}function $(lt){Q.slice().reverse().forEach(function(nt){nt.forEach(function(ht){if(ht.sourceLinks.length){var mt=((0,y.oh)(ht.sourceLinks,m)/(0,y.oh)(ht.sourceLinks,u)-f(ht))*lt;ht.y0+=mt,ht.y1+=mt}})})}function j(){Q.forEach(function(lt){var nt,ht,mt=S,At=lt.length,bt;for(lt.sort(n),bt=0;bt<At;++bt)nt=lt[bt],ht=mt-nt.y0,ht>0&&(nt.y0+=ht,nt.y1+=ht),mt=nt.y1+z;if(ht=mt-z-C,ht>0)for(mt=nt.y0-=ht,nt.y1-=ht,bt=At-2;bt>=0;--bt)nt=lt[bt],ht=nt.y1+z-mt,ht>0&&(nt.y0-=ht,nt.y1-=ht),mt=nt.y0})}}function ft(ot){ot.nodes.forEach(function(Q){Q.sourceLinks.sort(o),Q.targetLinks.sort(e)}),ot.nodes.forEach(function(Q){var tt=Q.y0,Z=tt;Q.sourceLinks.forEach(function(q){q.y0=tt+q.width/2,tt+=q.width}),Q.targetLinks.forEach(function(q){q.y1=Z+q.width/2,Z+=q.width})})}return H}var w=t(10132);function A(E){return[E.source.x1,E.y0]}function L(E){return[E.target.x0,E.y1]}function x(){return(0,w.ak)().source(A).target(L)}},33428:function(W,G,t){var y,D;(function(){var s={version:"3.8.2"},P=[].slice,M=function(ct){return P.call(ct)},d=self.document;function g(ct){return ct&&(ct.ownerDocument||ct.document||ct).documentElement}function r(ct){return ct&&(ct.ownerDocument&&ct.ownerDocument.defaultView||ct.document&&ct||ct.defaultView)}if(d)try{M(d.documentElement.childNodes)[0].nodeType}catch{M=function(Mt){for(var Vt=Mt.length,ee=new Array(Vt);Vt--;)ee[Vt]=Mt[Vt];return ee}}if(Date.now||(Date.now=function(){return+new Date}),d)try{d.createElement("DIV").style.setProperty("opacity",0,"")}catch{var e=this.Element.prototype,o=e.setAttribute,n=e.setAttributeNS,u=this.CSSStyleDeclaration.prototype,f=u.setProperty;e.setAttribute=function(Mt,Vt){o.call(this,Mt,Vt+"")},e.setAttributeNS=function(Mt,Vt,ee){n.call(this,Mt,Vt,ee+"")},u.setProperty=function(Mt,Vt,ee){f.call(this,Mt,Vt+"",ee)}}s.ascending=c;function c(ct,Mt){return ct<Mt?-1:ct>Mt?1:ct>=Mt?0:NaN}s.descending=function(ct,Mt){return Mt<ct?-1:Mt>ct?1:Mt>=ct?0:NaN},s.min=function(ct,Mt){var Vt=-1,ee=ct.length,ae,he;if(arguments.length===1){for(;++Vt<ee;)if((he=ct[Vt])!=null&&he>=he){ae=he;break}for(;++Vt<ee;)(he=ct[Vt])!=null&&ae>he&&(ae=he)}else{for(;++Vt<ee;)if((he=Mt.call(ct,ct[Vt],Vt))!=null&&he>=he){ae=he;break}for(;++Vt<ee;)(he=Mt.call(ct,ct[Vt],Vt))!=null&&ae>he&&(ae=he)}return ae},s.max=function(ct,Mt){var Vt=-1,ee=ct.length,ae,he;if(arguments.length===1){for(;++Vt<ee;)if((he=ct[Vt])!=null&&he>=he){ae=he;break}for(;++Vt<ee;)(he=ct[Vt])!=null&&he>ae&&(ae=he)}else{for(;++Vt<ee;)if((he=Mt.call(ct,ct[Vt],Vt))!=null&&he>=he){ae=he;break}for(;++Vt<ee;)(he=Mt.call(ct,ct[Vt],Vt))!=null&&he>ae&&(ae=he)}return ae},s.extent=function(ct,Mt){var Vt=-1,ee=ct.length,ae,he,Ie;if(arguments.length===1){for(;++Vt<ee;)if((he=ct[Vt])!=null&&he>=he){ae=Ie=he;break}for(;++Vt<ee;)(he=ct[Vt])!=null&&(ae>he&&(ae=he),Ie<he&&(Ie=he))}else{for(;++Vt<ee;)if((he=Mt.call(ct,ct[Vt],Vt))!=null&&he>=he){ae=Ie=he;break}for(;++Vt<ee;)(he=Mt.call(ct,ct[Vt],Vt))!=null&&(ae>he&&(ae=he),Ie<he&&(Ie=he))}return[ae,Ie]};function m(ct){return ct===null?NaN:+ct}function v(ct){return!isNaN(ct)}s.sum=function(ct,Mt){var Vt=0,ee=ct.length,ae,he=-1;if(arguments.length===1)for(;++he<ee;)v(ae=+ct[he])&&(Vt+=ae);else for(;++he<ee;)v(ae=+Mt.call(ct,ct[he],he))&&(Vt+=ae);return Vt},s.mean=function(ct,Mt){var Vt=0,ee=ct.length,ae,he=-1,Ie=ee;if(arguments.length===1)for(;++he<ee;)v(ae=m(ct[he]))?Vt+=ae:--Ie;else for(;++he<ee;)v(ae=m(Mt.call(ct,ct[he],he)))?Vt+=ae:--Ie;if(Ie)return Vt/Ie},s.quantile=function(ct,Mt){var Vt=(ct.length-1)*Mt+1,ee=Math.floor(Vt),ae=+ct[ee-1],he=Vt-ee;return he?ae+he*(ct[ee]-ae):ae},s.median=function(ct,Mt){var Vt=[],ee=ct.length,ae,he=-1;if(arguments.length===1)for(;++he<ee;)v(ae=m(ct[he]))&&Vt.push(ae);else for(;++he<ee;)v(ae=m(Mt.call(ct,ct[he],he)))&&Vt.push(ae);if(Vt.length)return s.quantile(Vt.sort(c),.5)},s.variance=function(ct,Mt){var Vt=ct.length,ee=0,ae,he,Ie=0,Ae=-1,Ue=0;if(arguments.length===1)for(;++Ae<Vt;)v(ae=m(ct[Ae]))&&(he=ae-ee,ee+=he/++Ue,Ie+=he*(ae-ee));else for(;++Ae<Vt;)v(ae=m(Mt.call(ct,ct[Ae],Ae)))&&(he=ae-ee,ee+=he/++Ue,Ie+=he*(ae-ee));if(Ue>1)return Ie/(Ue-1)},s.deviation=function(){var ct=s.variance.apply(this,arguments);return ct&&Math.sqrt(ct)};function T(ct){return{left:function(Mt,Vt,ee,ae){for(arguments.length<3&&(ee=0),arguments.length<4&&(ae=Mt.length);ee<ae;){var he=ee+ae>>>1;ct(Mt[he],Vt)<0?ee=he+1:ae=he}return ee},right:function(Mt,Vt,ee,ae){for(arguments.length<3&&(ee=0),arguments.length<4&&(ae=Mt.length);ee<ae;){var he=ee+ae>>>1;ct(Mt[he],Vt)>0?ae=he:ee=he+1}return ee}}}var h=T(c);s.bisectLeft=h.left,s.bisect=s.bisectRight=h.right,s.bisector=function(ct){return T(ct.length===1?function(Mt,Vt){return c(ct(Mt),Vt)}:ct)},s.shuffle=function(ct,Mt,Vt){(ee=arguments.length)<3&&(Vt=ct.length,ee<2&&(Mt=0));for(var ee=Vt-Mt,ae,he;ee;)he=Math.random()*ee--|0,ae=ct[ee+Mt],ct[ee+Mt]=ct[he+Mt],ct[he+Mt]=ae;return ct},s.permute=function(ct,Mt){for(var Vt=Mt.length,ee=new Array(Vt);Vt--;)ee[Vt]=ct[Mt[Vt]];return ee},s.pairs=function(ct){for(var Mt=0,Vt=ct.length-1,ee=ct[0],ae=new Array(Vt<0?0:Vt);Mt<Vt;)ae[Mt]=[ee,ee=ct[++Mt]];return ae},s.transpose=function(ct){if(!(he=ct.length))return[];for(var Mt=-1,Vt=s.min(ct,i),ee=new Array(Vt);++Mt<Vt;)for(var ae=-1,he,Ie=ee[Mt]=new Array(he);++ae<he;)Ie[ae]=ct[ae][Mt];return ee};function i(ct){return ct.length}s.zip=function(){return s.transpose(arguments)},s.keys=function(ct){var Mt=[];for(var Vt in ct)Mt.push(Vt);return Mt},s.values=function(ct){var Mt=[];for(var Vt in ct)Mt.push(ct[Vt]);return Mt},s.entries=function(ct){var Mt=[];for(var Vt in ct)Mt.push({key:Vt,value:ct[Vt]});return Mt},s.merge=function(ct){for(var Mt=ct.length,Vt,ee=-1,ae=0,he,Ie;++ee<Mt;)ae+=ct[ee].length;for(he=new Array(ae);--Mt>=0;)for(Ie=ct[Mt],Vt=Ie.length;--Vt>=0;)he[--ae]=Ie[Vt];return he};var p=Math.abs;s.range=function(ct,Mt,Vt){if(arguments.length<3&&(Vt=1,arguments.length<2&&(Mt=ct,ct=0)),(Mt-ct)/Vt===1/0)throw new Error("infinite range");var ee=[],ae=w(p(Vt)),he=-1,Ie;if(ct*=ae,Mt*=ae,Vt*=ae,Vt<0)for(;(Ie=ct+Vt*++he)>Mt;)ee.push(Ie/ae);else for(;(Ie=ct+Vt*++he)<Mt;)ee.push(Ie/ae);return ee};function w(ct){for(var Mt=1;ct*Mt%1;)Mt*=10;return Mt}function A(ct,Mt){for(var Vt in Mt)Object.defineProperty(ct.prototype,Vt,{value:Mt[Vt],enumerable:!1})}s.map=function(ct,Mt){var Vt=new L;if(ct instanceof L)ct.forEach(function(Ae,Ue){Vt.set(Ae,Ue)});else if(Array.isArray(ct)){var ee=-1,ae=ct.length,he;if(arguments.length===1)for(;++ee<ae;)Vt.set(ee,ct[ee]);else for(;++ee<ae;)Vt.set(Mt.call(ct,he=ct[ee],ee),he)}else for(var Ie in ct)Vt.set(Ie,ct[Ie]);return Vt};function L(){this._=Object.create(null)}var x="__proto__",E="\0";A(L,{has:C,get:function(ct){return this._[S(ct)]},set:function(ct,Mt){return this._[S(ct)]=Mt},remove:b,keys:z,values:function(){var ct=[];for(var Mt in this._)ct.push(this._[Mt]);return ct},entries:function(){var ct=[];for(var Mt in this._)ct.push({key:a(Mt),value:this._[Mt]});return ct},size:k,empty:U,forEach:function(ct){for(var Mt in this._)ct.call(this,a(Mt),this._[Mt])}});function S(ct){return(ct+="")===x||ct[0]===E?E+ct:ct}function a(ct){return(ct+="")[0]===E?ct.slice(1):ct}function C(ct){return S(ct)in this._}function b(ct){return(ct=S(ct))in this._&&delete this._[ct]}function z(){var ct=[];for(var Mt in this._)ct.push(a(Mt));return ct}function k(){var ct=0;for(var Mt in this._)++ct;return ct}function U(){for(var ct in this._)return!1;return!0}s.nest=function(){var ct={},Mt=[],Vt=[],ee,ae;function he(Ae,Ue,He){if(He>=Mt.length)return ae?ae.call(ct,Ue):ee?Ue.sort(ee):Ue;for(var ir=-1,Ir=Ue.length,Dr=Mt[He++],Qr,sn,kr,Hr=new L,Kr;++ir<Ir;)(Kr=Hr.get(Qr=Dr(sn=Ue[ir])))?Kr.push(sn):Hr.set(Qr,[sn]);return Ae?(sn=Ae(),kr=function(hn,yn){sn.set(hn,he(Ae,yn,He))}):(sn={},kr=function(hn,yn){sn[hn]=he(Ae,yn,He)}),Hr.forEach(kr),sn}function Ie(Ae,Ue){if(Ue>=Mt.length)return Ae;var He=[],ir=Vt[Ue++];return Ae.forEach(function(Ir,Dr){He.push({key:Ir,values:Ie(Dr,Ue)})}),ir?He.sort(function(Ir,Dr){return ir(Ir.key,Dr.key)}):He}return ct.map=function(Ae,Ue){return he(Ue,Ae,0)},ct.entries=function(Ae){return Ie(he(s.map,Ae,0),0)},ct.key=function(Ae){return Mt.push(Ae),ct},ct.sortKeys=function(Ae){return Vt[Mt.length-1]=Ae,ct},ct.sortValues=function(Ae){return ee=Ae,ct},ct.rollup=function(Ae){return ae=Ae,ct},ct},s.set=function(ct){var Mt=new F;if(ct)for(var Vt=0,ee=ct.length;Vt<ee;++Vt)Mt.add(ct[Vt]);return Mt};function F(){this._=Object.create(null)}A(F,{has:C,add:function(ct){return this._[S(ct+="")]=!0,ct},remove:b,values:z,size:k,empty:U,forEach:function(ct){for(var Mt in this._)ct.call(this,a(Mt))}}),s.behavior={};function V(ct){return ct}s.rebind=function(ct,Mt){for(var Vt=1,ee=arguments.length,ae;++Vt<ee;)ct[ae=arguments[Vt]]=N(ct,Mt,Mt[ae]);return ct};function N(ct,Mt,Vt){return function(){var ee=Vt.apply(Mt,arguments);return ee===Mt?ct:ee}}function O(ct,Mt){if(Mt in ct)return Mt;Mt=Mt.charAt(0).toUpperCase()+Mt.slice(1);for(var Vt=0,ee=H.length;Vt<ee;++Vt){var ae=H[Vt]+Mt;if(ae in ct)return ae}}var H=["webkit","ms","moz","Moz","o","O"];function X(){}s.dispatch=function(){for(var ct=new J,Mt=-1,Vt=arguments.length;++Mt<Vt;)ct[arguments[Mt]]=et(ct);return ct};function J(){}J.prototype.on=function(ct,Mt){var Vt=ct.indexOf("."),ee="";if(Vt>=0&&(ee=ct.slice(Vt+1),ct=ct.slice(0,Vt)),ct)return arguments.length<2?this[ct].on(ee):this[ct].on(ee,Mt);if(arguments.length===2){if(Mt==null)for(ct in this)this.hasOwnProperty(ct)&&this[ct].on(ee,null);return this}};function et(ct){var Mt=[],Vt=new L;function ee(){for(var ae=Mt,he=-1,Ie=ae.length,Ae;++he<Ie;)(Ae=ae[he].on)&&Ae.apply(this,arguments);return ct}return ee.on=function(ae,he){var Ie=Vt.get(ae),Ae;return arguments.length<2?Ie&&Ie.on:(Ie&&(Ie.on=null,Mt=Mt.slice(0,Ae=Mt.indexOf(Ie)).concat(Mt.slice(Ae+1)),Vt.remove(ae)),he&&Mt.push(Vt.set(ae,{on:he})),ct)},ee}s.event=null;function it(){s.event.preventDefault()}function ft(){for(var ct=s.event,Mt;Mt=ct.sourceEvent;)ct=Mt;return ct}function ot(ct){for(var Mt=new J,Vt=0,ee=arguments.length;++Vt<ee;)Mt[arguments[Vt]]=et(Mt);return Mt.of=function(ae,he){return function(Ie){try{var Ae=Ie.sourceEvent=s.event;Ie.target=ct,s.event=Ie,Mt[Ie.type].apply(ae,he)}finally{s.event=Ae}}},Mt}s.requote=function(ct){return ct.replace(Q,"\\$&")};var Q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,tt={}.__proto__?function(ct,Mt){ct.__proto__=Mt}:function(ct,Mt){for(var Vt in Mt)ct[Vt]=Mt[Vt]};function Z(ct){return tt(ct,j),ct}var q=function(ct,Mt){return Mt.querySelector(ct)},ut=function(ct,Mt){return Mt.querySelectorAll(ct)},$=function(ct,Mt){var Vt=ct.matches||ct[O(ct,"matchesSelector")];return $=function(ee,ae){return Vt.call(ee,ae)},$(ct,Mt)};typeof Sizzle=="function"&&(q=function(ct,Mt){return Sizzle(ct,Mt)[0]||null},ut=Sizzle,$=Sizzle.matchesSelector),s.selection=function(){return s.select(d.documentElement)};var j=s.selection.prototype=[];j.select=function(ct){var Mt=[],Vt,ee,ae,he;ct=lt(ct);for(var Ie=-1,Ae=this.length;++Ie<Ae;){Mt.push(Vt=[]),Vt.parentNode=(ae=this[Ie]).parentNode;for(var Ue=-1,He=ae.length;++Ue<He;)(he=ae[Ue])?(Vt.push(ee=ct.call(he,he.__data__,Ue,Ie)),ee&&"__data__"in he&&(ee.__data__=he.__data__)):Vt.push(null)}return Z(Mt)};function lt(ct){return typeof ct=="function"?ct:function(){return q(ct,this)}}j.selectAll=function(ct){var Mt=[],Vt,ee;ct=nt(ct);for(var ae=-1,he=this.length;++ae<he;)for(var Ie=this[ae],Ae=-1,Ue=Ie.length;++Ae<Ue;)(ee=Ie[Ae])&&(Mt.push(Vt=M(ct.call(ee,ee.__data__,Ae,ae))),Vt.parentNode=ee);return Z(Mt)};function nt(ct){return typeof ct=="function"?ct:function(){return ut(ct,this)}}var ht="http://www.w3.org/1999/xhtml",mt={svg:"http://www.w3.org/2000/svg",xhtml:ht,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};s.ns={prefix:mt,qualify:function(ct){var Mt=ct.indexOf(":"),Vt=ct;return Mt>=0&&(Vt=ct.slice(0,Mt))!=="xmlns"&&(ct=ct.slice(Mt+1)),mt.hasOwnProperty(Vt)?{space:mt[Vt],local:ct}:ct}},j.attr=function(ct,Mt){if(arguments.length<2){if(typeof ct=="string"){var Vt=this.node();return ct=s.ns.qualify(ct),ct.local?Vt.getAttributeNS(ct.space,ct.local):Vt.getAttribute(ct)}for(Mt in ct)this.each(At(Mt,ct[Mt]));return this}return this.each(At(ct,Mt))};function At(ct,Mt){ct=s.ns.qualify(ct);function Vt(){this.removeAttribute(ct)}function ee(){this.removeAttributeNS(ct.space,ct.local)}function ae(){this.setAttribute(ct,Mt)}function he(){this.setAttributeNS(ct.space,ct.local,Mt)}function Ie(){var Ue=Mt.apply(this,arguments);Ue==null?this.removeAttribute(ct):this.setAttribute(ct,Ue)}function Ae(){var Ue=Mt.apply(this,arguments);Ue==null?this.removeAttributeNS(ct.space,ct.local):this.setAttributeNS(ct.space,ct.local,Ue)}return Mt==null?ct.local?ee:Vt:typeof Mt=="function"?ct.local?Ae:Ie:ct.local?he:ae}function bt(ct){return ct.trim().replace(/\s+/g," ")}j.classed=function(ct,Mt){if(arguments.length<2){if(typeof ct=="string"){var Vt=this.node(),ee=(ct=_t(ct)).length,ae=-1;if(Mt=Vt.classList){for(;++ae<ee;)if(!Mt.contains(ct[ae]))return!1}else for(Mt=Vt.getAttribute("class");++ae<ee;)if(!Pt(ct[ae]).test(Mt))return!1;return!0}for(Mt in ct)this.each(Ut(Mt,ct[Mt]));return this}return this.each(Ut(ct,Mt))};function Pt(ct){return new RegExp("(?:^|\\s+)"+s.requote(ct)+"(?:\\s+|$)","g")}function _t(ct){return(ct+"").trim().split(/^|\s+/)}function Ut(ct,Mt){ct=_t(ct).map(St);var Vt=ct.length;function ee(){for(var he=-1;++he<Vt;)ct[he](this,Mt)}function ae(){for(var he=-1,Ie=Mt.apply(this,arguments);++he<Vt;)ct[he](this,Ie)}return typeof Mt=="function"?ae:ee}function St(ct){var Mt=Pt(ct);return function(Vt,ee){if(ae=Vt.classList)return ee?ae.add(ct):ae.remove(ct);var ae=Vt.getAttribute("class")||"";ee?(Mt.lastIndex=0,Mt.test(ae)||Vt.setAttribute("class",bt(ae+" "+ct))):Vt.setAttribute("class",bt(ae.replace(Mt," ")))}}j.style=function(ct,Mt,Vt){var ee=arguments.length;if(ee<3){if(typeof ct!="string"){ee<2&&(Mt="");for(Vt in ct)this.each(Rt(Vt,ct[Vt],Mt));return this}if(ee<2){var ae=this.node();return r(ae).getComputedStyle(ae,null).getPropertyValue(ct)}Vt=""}return this.each(Rt(ct,Mt,Vt))};function Rt(ct,Mt,Vt){function ee(){this.style.removeProperty(ct)}function ae(){this.style.setProperty(ct,Mt,Vt)}function he(){var Ie=Mt.apply(this,arguments);Ie==null?this.style.removeProperty(ct):this.style.setProperty(ct,Ie,Vt)}return Mt==null?ee:typeof Mt=="function"?he:ae}j.property=function(ct,Mt){if(arguments.length<2){if(typeof ct=="string")return this.node()[ct];for(Mt in ct)this.each(Et(Mt,ct[Mt]));return this}return this.each(Et(ct,Mt))};function Et(ct,Mt){function Vt(){delete this[ct]}function ee(){this[ct]=Mt}function ae(){var he=Mt.apply(this,arguments);he==null?delete this[ct]:this[ct]=he}return Mt==null?Vt:typeof Mt=="function"?ae:ee}j.text=function(ct){return arguments.length?this.each(typeof ct=="function"?function(){var Mt=ct.apply(this,arguments);this.textContent=Mt??""}:ct==null?function(){this.textContent=""}:function(){this.textContent=ct}):this.node().textContent},j.html=function(ct){return arguments.length?this.each(typeof ct=="function"?function(){var Mt=ct.apply(this,arguments);this.innerHTML=Mt??""}:ct==null?function(){this.innerHTML=""}:function(){this.innerHTML=ct}):this.node().innerHTML},j.append=function(ct){return ct=zt(ct),this.select(function(){return this.appendChild(ct.apply(this,arguments))})};function zt(ct){function Mt(){var ee=this.ownerDocument,ae=this.namespaceURI;return ae===ht&&ee.documentElement.namespaceURI===ht?ee.createElement(ct):ee.createElementNS(ae,ct)}function Vt(){return this.ownerDocument.createElementNS(ct.space,ct.local)}return typeof ct=="function"?ct:(ct=s.ns.qualify(ct)).local?Vt:Mt}j.insert=function(ct,Mt){return ct=zt(ct),Mt=lt(Mt),this.select(function(){return this.insertBefore(ct.apply(this,arguments),Mt.apply(this,arguments)||null)})},j.remove=function(){return this.each(Ct)};function Ct(){var ct=this.parentNode;ct&&ct.removeChild(this)}j.data=function(ct,Mt){var Vt=-1,ee=this.length,ae,he;if(!arguments.length){for(ct=new Array(ee=(ae=this[0]).length);++Vt<ee;)(he=ae[Vt])&&(ct[Vt]=he.__data__);return ct}function Ie(ir,Ir){var Dr,Qr=ir.length,sn=Ir.length,kr=Math.min(Qr,sn),Hr=new Array(sn),Kr=new Array(sn),hn=new Array(Qr),yn,qr;if(Mt){var Hn=new L,ri=new Array(Qr),ci;for(Dr=-1;++Dr<Qr;)(yn=ir[Dr])&&(Hn.has(ci=Mt.call(yn,yn.__data__,Dr))?hn[Dr]=yn:Hn.set(ci,yn),ri[Dr]=ci);for(Dr=-1;++Dr<sn;)(yn=Hn.get(ci=Mt.call(Ir,qr=Ir[Dr],Dr)))?yn!==!0&&(Hr[Dr]=yn,yn.__data__=qr):Kr[Dr]=Wt(qr),Hn.set(ci,!0);for(Dr=-1;++Dr<Qr;)Dr in ri&&Hn.get(ri[Dr])!==!0&&(hn[Dr]=ir[Dr])}else{for(Dr=-1;++Dr<kr;)yn=ir[Dr],qr=Ir[Dr],yn?(yn.__data__=qr,Hr[Dr]=yn):Kr[Dr]=Wt(qr);for(;Dr<sn;++Dr)Kr[Dr]=Wt(Ir[Dr]);for(;Dr<Qr;++Dr)hn[Dr]=ir[Dr]}Kr.update=Hr,Kr.parentNode=Hr.parentNode=hn.parentNode=ir.parentNode,Ae.push(Kr),Ue.push(Hr),He.push(hn)}var Ae=te([]),Ue=Z([]),He=Z([]);if(typeof ct=="function")for(;++Vt<ee;)Ie(ae=this[Vt],ct.call(ae,ae.parentNode.__data__,Vt));else for(;++Vt<ee;)Ie(ae=this[Vt],ct);return Ue.enter=function(){return Ae},Ue.exit=function(){return He},Ue};function Wt(ct){return{__data__:ct}}j.datum=function(ct){return arguments.length?this.property("__data__",ct):this.property("__data__")},j.filter=function(ct){var Mt=[],Vt,ee,ae;typeof ct!="function"&&(ct=Kt(ct));for(var he=0,Ie=this.length;he<Ie;he++){Mt.push(Vt=[]),Vt.parentNode=(ee=this[he]).parentNode;for(var Ae=0,Ue=ee.length;Ae<Ue;Ae++)(ae=ee[Ae])&&ct.call(ae,ae.__data__,Ae,he)&&Vt.push(ae)}return Z(Mt)};function Kt(ct){return function(){return $(this,ct)}}j.order=function(){for(var ct=-1,Mt=this.length;++ct<Mt;)for(var Vt=this[ct],ee=Vt.length-1,ae=Vt[ee],he;--ee>=0;)(he=Vt[ee])&&(ae&&ae!==he.nextSibling&&ae.parentNode.insertBefore(he,ae),ae=he);return this},j.sort=function(ct){ct=oe.apply(this,arguments);for(var Mt=-1,Vt=this.length;++Mt<Vt;)this[Mt].sort(ct);return this.order()};function oe(ct){return arguments.length||(ct=c),function(Mt,Vt){return Mt&&Vt?ct(Mt.__data__,Vt.__data__):!Mt-!Vt}}j.each=function(ct){return Jt(this,function(Mt,Vt,ee){ct.call(Mt,Mt.__data__,Vt,ee)})};function Jt(ct,Mt){for(var Vt=0,ee=ct.length;Vt<ee;Vt++)for(var ae=ct[Vt],he=0,Ie=ae.length,Ae;he<Ie;he++)(Ae=ae[he])&&Mt(Ae,he,Vt);return ct}j.call=function(ct){var Mt=M(arguments);return ct.apply(Mt[0]=this,Mt),this},j.empty=function(){return!this.node()},j.node=function(){for(var ct=0,Mt=this.length;ct<Mt;ct++)for(var Vt=this[ct],ee=0,ae=Vt.length;ee<ae;ee++){var he=Vt[ee];if(he)return he}return null},j.size=function(){var ct=0;return Jt(this,function(){++ct}),ct};function te(ct){return tt(ct,fe),ct}var fe=[];s.selection.enter=te,s.selection.enter.prototype=fe,fe.append=j.append,fe.empty=j.empty,fe.node=j.node,fe.call=j.call,fe.size=j.size,fe.select=function(ct){for(var Mt=[],Vt,ee,ae,he,Ie,Ae=-1,Ue=this.length;++Ae<Ue;){ae=(he=this[Ae]).update,Mt.push(Vt=[]),Vt.parentNode=he.parentNode;for(var He=-1,ir=he.length;++He<ir;)(Ie=he[He])?(Vt.push(ae[He]=ee=ct.call(he.parentNode,Ie.__data__,He,Ae)),ee.__data__=Ie.__data__):Vt.push(null)}return Z(Mt)},fe.insert=function(ct,Mt){return arguments.length<2&&(Mt=ve(this)),j.insert.call(this,ct,Mt)};function ve(ct){var Mt,Vt;return function(ee,ae,he){var Ie=ct[he].update,Ae=Ie.length,Ue;for(he!=Vt&&(Vt=he,Mt=0),ae>=Mt&&(Mt=ae+1);!(Ue=Ie[Mt])&&++Mt<Ae;);return Ue}}s.select=function(ct){var Mt;return typeof ct=="string"?(Mt=[q(ct,d)],Mt.parentNode=d.documentElement):(Mt=[ct],Mt.parentNode=g(ct)),Z([Mt])},s.selectAll=function(ct){var Mt;return typeof ct=="string"?(Mt=M(ut(ct,d)),Mt.parentNode=d.documentElement):(Mt=M(ct),Mt.parentNode=null),Z([Mt])},j.on=function(ct,Mt,Vt){var ee=arguments.length;if(ee<3){if(typeof ct!="string"){ee<2&&(Mt=!1);for(Vt in ct)this.each(de(Vt,ct[Vt],Mt));return this}if(ee<2)return(ee=this.node()["__on"+ct])&&ee._;Vt=!1}return this.each(de(ct,Mt,Vt))};function de(ct,Mt,Vt){var ee="__on"+ct,ae=ct.indexOf("."),he=Me;ae>0&&(ct=ct.slice(0,ae));var Ie=xe.get(ct);Ie&&(ct=Ie,he=ne);function Ae(){var ir=this[ee];ir&&(this.removeEventListener(ct,ir,ir.$),delete this[ee])}function Ue(){var ir=he(Mt,M(arguments));Ae.call(this),this.addEventListener(ct,this[ee]=ir,ir.$=Vt),ir._=Mt}function He(){var ir=new RegExp("^__on([^.]+)"+s.requote(ct)+"$"),Ir;for(var Dr in this)if(Ir=Dr.match(ir)){var Qr=this[Dr];this.removeEventListener(Ir[1],Qr,Qr.$),delete this[Dr]}}return ae?Mt?Ue:Ae:Mt?X:He}var xe=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});d&&xe.forEach(function(ct){"on"+ct in d&&xe.remove(ct)});function Me(ct,Mt){return function(Vt){var ee=s.event;s.event=Vt,Mt[0]=this.__data__;try{ct.apply(this,Mt)}finally{s.event=ee}}}function ne(ct,Mt){var Vt=Me(ct,Mt);return function(ee){var ae=this,he=ee.relatedTarget;(!he||he!==ae&&!(he.compareDocumentPosition(ae)&8))&&Vt.call(ae,ee)}}var kt,Gt=0;function Yt(ct){var Mt=".dragsuppress-"+ ++Gt,Vt="click"+Mt,ee=s.select(r(ct)).on("touchmove"+Mt,it).on("dragstart"+Mt,it).on("selectstart"+Mt,it);if(kt==null&&(kt="onselectstart"in ct?!1:O(ct.style,"userSelect")),kt){var ae=g(ct).style,he=ae[kt];ae[kt]="none"}return function(Ie){if(ee.on(Mt,null),kt&&(ae[kt]=he),Ie){var Ae=function(){ee.on(Vt,null)};ee.on(Vt,function(){it(),Ae()},!0),setTimeout(Ae,0)}}}s.mouse=function(ct){return It(ct,ft())};var Zt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function It(ct,Mt){Mt.changedTouches&&(Mt=Mt.changedTouches[0]);var Vt=ct.ownerSVGElement||ct;if(Vt.createSVGPoint){var ee=Vt.createSVGPoint();if(Zt<0){var ae=r(ct);if(ae.scrollX||ae.scrollY){Vt=s.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var he=Vt[0][0].getScreenCTM();Zt=!(he.f||he.e),Vt.remove()}}return Zt?(ee.x=Mt.pageX,ee.y=Mt.pageY):(ee.x=Mt.clientX,ee.y=Mt.clientY),ee=ee.matrixTransform(ct.getScreenCTM().inverse()),[ee.x,ee.y]}var Ie=ct.getBoundingClientRect();return[Mt.clientX-Ie.left-ct.clientLeft,Mt.clientY-Ie.top-ct.clientTop]}s.touch=function(ct,Mt,Vt){if(arguments.length<3&&(Vt=Mt,Mt=ft().changedTouches),Mt){for(var ee=0,ae=Mt.length,he;ee<ae;++ee)if((he=Mt[ee]).identifier===Vt)return It(ct,he)}},s.behavior.drag=function(){var ct=ot(ae,"drag","dragstart","dragend"),Mt=null,Vt=he(X,s.mouse,r,"mousemove","mouseup"),ee=he(Nt,s.touch,V,"touchmove","touchend");function ae(){this.on("mousedown.drag",Vt).on("touchstart.drag",ee)}function he(Ie,Ae,Ue,He,ir){return function(){var Ir=this,Dr=s.event.target.correspondingElement||s.event.target,Qr=Ir.parentNode,sn=ct.of(Ir,arguments),kr=0,Hr=Ie(),Kr=".drag"+(Hr==null?"":"-"+Hr),hn,yn=s.select(Ue(Dr)).on(He+Kr,ri).on(ir+Kr,ci),qr=Yt(Dr),Hn=Ae(Qr,Hr);Mt?(hn=Mt.apply(Ir,arguments),hn=[hn.x-Hn[0],hn.y-Hn[1]]):hn=[0,0],sn({type:"dragstart"});function ri(){var ti=Ae(Qr,Hr),li,hi;ti&&(li=ti[0]-Hn[0],hi=ti[1]-Hn[1],kr|=li|hi,Hn=ti,sn({type:"drag",x:ti[0]+hn[0],y:ti[1]+hn[1],dx:li,dy:hi}))}function ci(){Ae(Qr,Hr)&&(yn.on(He+Kr,null).on(ir+Kr,null),qr(kr),sn({type:"dragend"}))}}}return ae.origin=function(Ie){return arguments.length?(Mt=Ie,ae):Mt},s.rebind(ae,ct,"on")};function Nt(){return s.event.changedTouches[0].identifier}s.touches=function(ct,Mt){return arguments.length<2&&(Mt=ft().touches),Mt?M(Mt).map(function(Vt){var ee=It(ct,Vt);return ee.identifier=Vt.identifier,ee}):[]};var Ht=1e-6,Lt=Ht*Ht,dt=Math.PI,xt=2*dt,Ot=xt-Ht,jt=dt/2,ie=dt/180,le=180/dt;function Ve(ct,Mt,Vt){return(Mt[0]-ct[0])*(Vt[1]-ct[1])-(Mt[1]-ct[1])*(Vt[0]-ct[0])}function je(ct){return ct>1?jt:ct<-1?-jt:Math.asin(ct)}function Te(ct){return((ct=Math.exp(ct))-1/ct)/2}function Le(ct){return((ct=Math.exp(ct))+1/ct)/2}function Ke(ct){return((ct=Math.exp(2*ct))-1)/(ct+1)}var vr=Math.SQRT2,ge=2,Xe=4;s.interpolateZoom=function(ct,Mt){var Vt=ct[0],ee=ct[1],ae=ct[2],he=Mt[0],Ie=Mt[1],Ae=Mt[2],Ue=he-Vt,He=Ie-ee,ir=Ue*Ue+He*He,Ir,Dr;if(ir<Lt)Dr=Math.log(Ae/ae)/vr,Ir=function(hn){return[Vt+hn*Ue,ee+hn*He,ae*Math.exp(vr*hn*Dr)]};else{var Qr=Math.sqrt(ir),sn=(Ae*Ae-ae*ae+Xe*ir)/(2*ae*ge*Qr),kr=(Ae*Ae-ae*ae-Xe*ir)/(2*Ae*ge*Qr),Hr=Math.log(Math.sqrt(sn*sn+1)-sn),Kr=Math.log(Math.sqrt(kr*kr+1)-kr);Dr=(Kr-Hr)/vr,Ir=function(hn){var yn=hn*Dr,qr=Le(Hr),Hn=ae/(ge*Qr)*(qr*Ke(vr*yn+Hr)-Te(Hr));return[Vt+Hn*Ue,ee+Hn*He,ae*qr/Le(vr*yn+Hr)]}}return Ir.duration=Dr*1e3,Ir},s.behavior.zoom=function(){var ct={x:0,y:0,k:1},Mt,Vt,ee,ae=[960,500],he=$e,Ie=250,Ae=0,Ue="mousedown.zoom",He="mousemove.zoom",ir="mouseup.zoom",Ir,Dr="touchstart.zoom",Qr,sn=ot(yn,"zoomstart","zoom","zoomend"),kr,Hr,Kr,hn;or||(or="onwheel"in d?(mr=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(mr=function(){return s.event.wheelDelta},"mousewheel"):(mr=function(){return-s.event.detail},"MozMousePixelScroll"));function yn(qn){qn.on(Ue,ki).on(or+".zoom",eo).on("dblclick.zoom",xa).on(Dr,ha)}yn.event=function(qn){qn.each(function(){var Ui=sn.of(this,arguments),Ai=ct;zr?s.select(this).transition().each("start.zoom",function(){ct=this.__chart__||{x:0,y:0,k:1},hi(Ui)}).tween("zoom:zoom",function(){var Xi=ae[0],Ra=ae[1],va=Vt?Vt[0]:Xi/2,wo=Vt?Vt[1]:Ra/2,To=s.interpolateZoom([(va-ct.x)/ct.k,(wo-ct.y)/ct.k,Xi/ct.k],[(va-Ai.x)/Ai.k,(wo-Ai.y)/Ai.k,Xi/Ai.k]);return function(Co){var _a=To(Co),Vo=Xi/_a[2];this.__chart__=ct={x:va-_a[0]*Vo,y:wo-_a[1]*Vo,k:Vo},Bi(Ui)}}).each("interrupt.zoom",function(){Mi(Ui)}).each("end.zoom",function(){Mi(Ui)}):(this.__chart__=ct,hi(Ui),Bi(Ui),Mi(Ui))})},yn.translate=function(qn){return arguments.length?(ct={x:+qn[0],y:+qn[1],k:ct.k},li(),yn):[ct.x,ct.y]},yn.scale=function(qn){return arguments.length?(ct={x:ct.x,y:ct.y,k:null},ri(+qn),li(),yn):ct.k},yn.scaleExtent=function(qn){return arguments.length?(he=qn==null?$e:[+qn[0],+qn[1]],yn):he},yn.center=function(qn){return arguments.length?(ee=qn&&[+qn[0],+qn[1]],yn):ee},yn.size=function(qn){return arguments.length?(ae=qn&&[+qn[0],+qn[1]],yn):ae},yn.duration=function(qn){return arguments.length?(Ie=+qn,yn):Ie},yn.x=function(qn){return arguments.length?(Hr=qn,kr=qn.copy(),ct={x:0,y:0,k:1},yn):Hr},yn.y=function(qn){return arguments.length?(hn=qn,Kr=qn.copy(),ct={x:0,y:0,k:1},yn):hn};function qr(qn){return[(qn[0]-ct.x)/ct.k,(qn[1]-ct.y)/ct.k]}function Hn(qn){return[qn[0]*ct.k+ct.x,qn[1]*ct.k+ct.y]}function ri(qn){ct.k=Math.max(he[0],Math.min(he[1],qn))}function ci(qn,Ui){Ui=Hn(Ui),ct.x+=qn[0]-Ui[0],ct.y+=qn[1]-Ui[1]}function ti(qn,Ui,Ai,Xi){qn.__chart__={x:ct.x,y:ct.y,k:ct.k},ri(Math.pow(2,Xi)),ci(Vt=Ui,Ai),qn=s.select(qn),Ie>0&&(qn=qn.transition().duration(Ie)),qn.call(yn.event)}function li(){Hr&&Hr.domain(kr.range().map(function(qn){return(qn-ct.x)/ct.k}).map(kr.invert)),hn&&hn.domain(Kr.range().map(function(qn){return(qn-ct.y)/ct.k}).map(Kr.invert))}function hi(qn){Ae++||qn({type:"zoomstart"})}function Bi(qn){li(),qn({type:"zoom",scale:ct.k,translate:[ct.x,ct.y]})}function Mi(qn){--Ae||(qn({type:"zoomend"}),Vt=null)}function ki(){var qn=this,Ui=sn.of(qn,arguments),Ai=0,Xi=s.select(r(qn)).on(He,wo).on(ir,To),Ra=qr(s.mouse(qn)),va=Yt(qn);ze.call(qn),hi(Ui);function wo(){Ai=1,ci(s.mouse(qn),Ra),Bi(Ui)}function To(){Xi.on(He,null).on(ir,null),va(Ai),Mi(Ui)}}function ha(){var qn=this,Ui=sn.of(qn,arguments),Ai={},Xi=0,Ra,va=".zoom-"+s.event.changedTouches[0].identifier,wo="touchmove"+va,To="touchend"+va,Co=[],_a=s.select(qn),Vo=Yt(qn);Ci(),hi(Ui),_a.on(Ue,null).on(Dr,Ci);function ui(){var Lo=s.touches(qn);return Ra=ct.k,Lo.forEach(function(wa){wa.identifier in Ai&&(Ai[wa.identifier]=qr(wa))}),Lo}function Ci(){var Lo=s.event.target;s.select(Lo).on(wo,rs).on(To,ls),Co.push(Lo);for(var wa=s.event.changedTouches,co=0,io=wa.length;co<io;++co)Ai[wa[co].identifier]=null;var Hs=ui(),ol=Date.now();if(Hs.length===1){if(ol-Qr<500){var Va=Hs[0];ti(qn,Va,Ai[Va.identifier],Math.floor(Math.log(ct.k)/Math.LN2)+1),it()}Qr=ol}else if(Hs.length>1){var Va=Hs[0],ku=Hs[1],Zi=Va[0]-ku[0],Ha=Va[1]-ku[1];Xi=Zi*Zi+Ha*Ha}}function rs(){var Lo=s.touches(qn),wa,co,io,Hs;ze.call(qn);for(var ol=0,Va=Lo.length;ol<Va;++ol,Hs=null)if(io=Lo[ol],Hs=Ai[io.identifier]){if(co)break;wa=io,co=Hs}if(Hs){var ku=(ku=io[0]-wa[0])*ku+(ku=io[1]-wa[1])*ku,Zi=Xi&&Math.sqrt(ku/Xi);wa=[(wa[0]+io[0])/2,(wa[1]+io[1])/2],co=[(co[0]+Hs[0])/2,(co[1]+Hs[1])/2],ri(Zi*Ra)}Qr=null,ci(wa,co),Bi(Ui)}function ls(){if(s.event.touches.length){for(var Lo=s.event.changedTouches,wa=0,co=Lo.length;wa<co;++wa)delete Ai[Lo[wa].identifier];for(var io in Ai)return void ui()}s.selectAll(Co).on(va,null),_a.on(Ue,ki).on(Dr,ha),Vo(),Mi(Ui)}}function eo(){var qn=sn.of(this,arguments);Ir?clearTimeout(Ir):(ze.call(this),Mt=qr(Vt=ee||s.mouse(this)),hi(qn)),Ir=setTimeout(function(){Ir=null,Mi(qn)},50),it(),ri(Math.pow(2,mr()*.002)*ct.k),ci(Vt,Mt),Bi(qn)}function xa(){var qn=s.mouse(this),Ui=Math.log(ct.k)/Math.LN2;ti(this,qn,qr(qn),s.event.shiftKey?Math.ceil(Ui)-1:Math.floor(Ui)+1)}return s.rebind(yn,sn,"on")};var $e=[0,1/0],mr,or;s.color=ye;function ye(){}ye.prototype.toString=function(){return this.rgb()+""},s.hsl=ue;function ue(ct,Mt,Vt){return this instanceof ue?(this.h=+ct,this.s=+Mt,void(this.l=+Vt)):arguments.length<2?ct instanceof ue?new ue(ct.h,ct.s,ct.l):Qe(""+ct,We,ue):new ue(ct,Mt,Vt)}var be=ue.prototype=new ye;be.brighter=function(ct){return ct=Math.pow(.7,arguments.length?ct:1),new ue(this.h,this.s,this.l/ct)},be.darker=function(ct){return ct=Math.pow(.7,arguments.length?ct:1),new ue(this.h,this.s,ct*this.l)},be.rgb=function(){return Ee(this.h,this.s,this.l)};function Ee(ct,Mt,Vt){var ee,ae;ct=isNaN(ct)?0:(ct%=360)<0?ct+360:ct,Mt=isNaN(Mt)||Mt<0?0:Mt>1?1:Mt,Vt=Vt<0?0:Vt>1?1:Vt,ae=Vt<=.5?Vt*(1+Mt):Vt+Mt-Vt*Mt,ee=2*Vt-ae;function he(Ae){return Ae>360?Ae-=360:Ae<0&&(Ae+=360),Ae<60?ee+(ae-ee)*Ae/60:Ae<180?ae:Ae<240?ee+(ae-ee)*(240-Ae)/60:ee}function Ie(Ae){return Math.round(he(Ae)*255)}return new er(Ie(ct+120),Ie(ct),Ie(ct-120))}s.hcl=_e;function _e(ct,Mt,Vt){return this instanceof _e?(this.h=+ct,this.c=+Mt,void(this.l=+Vt)):arguments.length<2?ct instanceof _e?new _e(ct.h,ct.c,ct.l):ct instanceof Be?xr(ct.l,ct.a,ct.b):xr((ct=yr((ct=s.rgb(ct)).r,ct.g,ct.b)).l,ct.a,ct.b):new _e(ct,Mt,Vt)}var Oe=_e.prototype=new ye;Oe.brighter=function(ct){return new _e(this.h,this.c,Math.min(100,this.l+Je*(arguments.length?ct:1)))},Oe.darker=function(ct){return new _e(this.h,this.c,Math.max(0,this.l-Je*(arguments.length?ct:1)))},Oe.rgb=function(){return Fe(this.h,this.c,this.l).rgb()};function Fe(ct,Mt,Vt){return isNaN(ct)&&(ct=0),isNaN(Mt)&&(Mt=0),new Be(Vt,Math.cos(ct*=ie)*Mt,Math.sin(ct)*Mt)}s.lab=Be;function Be(ct,Mt,Vt){return this instanceof Be?(this.l=+ct,this.a=+Mt,void(this.b=+Vt)):arguments.length<2?ct instanceof Be?new Be(ct.l,ct.a,ct.b):ct instanceof _e?Fe(ct.h,ct.c,ct.l):yr((ct=er(ct)).r,ct.g,ct.b):new Be(ct,Mt,Vt)}var Je=18,hr=.95047,cr=1,dr=1.08883,fr=Be.prototype=new ye;fr.brighter=function(ct){return new Be(Math.min(100,this.l+Je*(arguments.length?ct:1)),this.a,this.b)},fr.darker=function(ct){return new Be(Math.max(0,this.l-Je*(arguments.length?ct:1)),this.a,this.b)},fr.rgb=function(){return Lr(this.l,this.a,this.b)};function Lr(ct,Mt,Vt){var ee=(ct+16)/116,ae=ee+Mt/500,he=ee-Vt/200;return ae=Qt(ae)*hr,ee=Qt(ee)*cr,he=Qt(he)*dr,new er(tr(3.2404542*ae-1.5371385*ee-.4985314*he),tr(-.969266*ae+1.8760108*ee+.041556*he),tr(.0556434*ae-.2040259*ee+1.0572252*he))}function xr(ct,Mt,Vt){return ct>0?new _e(Math.atan2(Vt,Mt)*le,Math.sqrt(Mt*Mt+Vt*Vt),ct):new _e(NaN,NaN,ct)}function Qt(ct){return ct>.206893034?ct*ct*ct:(ct-.13793103448275862)/7.787037}function re(ct){return ct>.008856?Math.pow(ct,.3333333333333333):7.787037*ct+.13793103448275862}function tr(ct){return Math.round(255*(ct<=.00304?12.92*ct:1.055*Math.pow(ct,.4166666666666667)-.055))}s.rgb=er;function er(ct,Mt,Vt){return this instanceof er?(this.r=~~ct,this.g=~~Mt,void(this.b=~~Vt)):arguments.length<2?ct instanceof er?new er(ct.r,ct.g,ct.b):Qe(""+ct,er,Ee):new er(ct,Mt,Vt)}function Ye(ct){return new er(ct>>16,ct>>8&255,ct&255)}function Pe(ct){return Ye(ct)+""}var Ze=er.prototype=new ye;Ze.brighter=function(ct){ct=Math.pow(.7,arguments.length?ct:1);var Mt=this.r,Vt=this.g,ee=this.b,ae=30;return!Mt&&!Vt&&!ee?new er(ae,ae,ae):(Mt&&Mt<ae&&(Mt=ae),Vt&&Vt<ae&&(Vt=ae),ee&&ee<ae&&(ee=ae),new er(Math.min(255,Mt/ct),Math.min(255,Vt/ct),Math.min(255,ee/ct)))},Ze.darker=function(ct){return ct=Math.pow(.7,arguments.length?ct:1),new er(ct*this.r,ct*this.g,ct*this.b)},Ze.hsl=function(){return We(this.r,this.g,this.b)},Ze.toString=function(){return"#"+nr(this.r)+nr(this.g)+nr(this.b)};function nr(ct){return ct<16?"0"+Math.max(0,ct).toString(16):Math.min(255,ct).toString(16)}function Qe(ct,Mt,Vt){var ee=0,ae=0,he=0,Ie,Ae,Ue;if(Ie=/([a-z]+)\((.*)\)/.exec(ct=ct.toLowerCase()),Ie)switch(Ae=Ie[2].split(","),Ie[1]){case"hsl":return Vt(parseFloat(Ae[0]),parseFloat(Ae[1])/100,parseFloat(Ae[2])/100);case"rgb":return Mt(Tr(Ae[0]),Tr(Ae[1]),Tr(Ae[2]))}return(Ue=vn.get(ct))?Mt(Ue.r,Ue.g,Ue.b):(ct!=null&&ct.charAt(0)==="#"&&!isNaN(Ue=parseInt(ct.slice(1),16))&&(ct.length===4?(ee=(Ue&3840)>>4,ee=ee>>4|ee,ae=Ue&240,ae=ae>>4|ae,he=Ue&15,he=he<<4|he):ct.length===7&&(ee=(Ue&16711680)>>16,ae=(Ue&65280)>>8,he=Ue&255)),Mt(ee,ae,he))}function We(ct,Mt,Vt){var ee=Math.min(ct/=255,Mt/=255,Vt/=255),ae=Math.max(ct,Mt,Vt),he=ae-ee,Ie,Ae,Ue=(ae+ee)/2;return he?(Ae=Ue<.5?he/(ae+ee):he/(2-ae-ee),ct==ae?Ie=(Mt-Vt)/he+(Mt<Vt?6:0):Mt==ae?Ie=(Vt-ct)/he+2:Ie=(ct-Mt)/he+4,Ie*=60):(Ie=NaN,Ae=Ue>0&&Ue<1?0:Ie),new ue(Ie,Ae,Ue)}function yr(ct,Mt,Vt){ct=Rr(ct),Mt=Rr(Mt),Vt=Rr(Vt);var ee=re((.4124564*ct+.3575761*Mt+.1804375*Vt)/hr),ae=re((.2126729*ct+.7151522*Mt+.072175*Vt)/cr),he=re((.0193339*ct+.119192*Mt+.9503041*Vt)/dr);return Be(116*ae-16,500*(ee-ae),200*(ae-he))}function Rr(ct){return(ct/=255)<=.04045?ct/12.92:Math.pow((ct+.055)/1.055,2.4)}function Tr(ct){var Mt=parseFloat(ct);return ct.charAt(ct.length-1)==="%"?Math.round(Mt*2.55):Mt}var vn=s.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});vn.forEach(function(ct,Mt){vn.set(ct,Ye(Mt))});function Or(ct){return typeof ct=="function"?ct:function(){return ct}}s.functor=Or,s.xhr=En(V);function En(ct){return function(Mt,Vt,ee){return arguments.length===2&&typeof Vt=="function"&&(ee=Vt,Vt=null),nn(Mt,Vt,ct,ee)}}function nn(ct,Mt,Vt,ee){var ae={},he=s.dispatch("beforesend","progress","load","error"),Ie={},Ae=new XMLHttpRequest,Ue=null;self.XDomainRequest&&!("withCredentials"in Ae)&&/^(http(s)?:)?\/\//.test(ct)&&(Ae=new XDomainRequest),"onload"in Ae?Ae.onload=Ae.onerror=He:Ae.onreadystatechange=function(){Ae.readyState>3&&He()};function He(){var ir=Ae.status,Ir;if(!ir&&Pr(Ae)||ir>=200&&ir<300||ir===304){try{Ir=Vt.call(ae,Ae)}catch(Dr){he.error.call(ae,Dr);return}he.load.call(ae,Ir)}else he.error.call(ae,Ae)}return Ae.onprogress=function(ir){var Ir=s.event;s.event=ir;try{he.progress.call(ae,Ae)}finally{s.event=Ir}},ae.header=function(ir,Ir){return ir=(ir+"").toLowerCase(),arguments.length<2?Ie[ir]:(Ir==null?delete Ie[ir]:Ie[ir]=Ir+"",ae)},ae.mimeType=function(ir){return arguments.length?(Mt=ir==null?null:ir+"",ae):Mt},ae.responseType=function(ir){return arguments.length?(Ue=ir,ae):Ue},ae.response=function(ir){return Vt=ir,ae},["get","post"].forEach(function(ir){ae[ir]=function(){return ae.send.apply(ae,[ir].concat(M(arguments)))}}),ae.send=function(ir,Ir,Dr){if(arguments.length===2&&typeof Ir=="function"&&(Dr=Ir,Ir=null),Ae.open(ir,ct,!0),Mt!=null&&!("accept"in Ie)&&(Ie.accept=Mt+",*/*"),Ae.setRequestHeader)for(var Qr in Ie)Ae.setRequestHeader(Qr,Ie[Qr]);return Mt!=null&&Ae.overrideMimeType&&Ae.overrideMimeType(Mt),Ue!=null&&(Ae.responseType=Ue),Dr!=null&&ae.on("error",Dr).on("load",function(sn){Dr(null,sn)}),he.beforesend.call(ae,Ae),Ae.send(Ir??null),ae},ae.abort=function(){return Ae.abort(),ae},s.rebind(ae,he,"on"),ee==null?ae:ae.get(gr(ee))}function gr(ct){return ct.length===1?function(Mt,Vt){ct(Mt==null?Vt:null)}:ct}function Pr(ct){var Mt=ct.responseType;return Mt&&Mt!=="text"?ct.response:ct.responseText}s.dsv=function(ct,Mt){var Vt=new RegExp('["'+ct+`
]`),ee=ct.charCodeAt(0);function ae(He,ir,Ir){arguments.length<3&&(Ir=ir,ir=null);var Dr=nn(He,Mt,ir==null?he:Ie(ir),Ir);return Dr.row=function(Qr){return arguments.length?Dr.response((ir=Qr)==null?he:Ie(Qr)):ir},Dr}function he(He){return ae.parse(He.responseText)}function Ie(He){return function(ir){return ae.parse(ir.responseText,He)}}ae.parse=function(He,ir){var Ir;return ae.parseRows(He,function(Dr,Qr){if(Ir)return Ir(Dr,Qr-1);var sn=function(kr){for(var Hr={},Kr=Dr.length,hn=0;hn<Kr;++hn)Hr[Dr[hn]]=kr[hn];return Hr};Ir=ir?function(kr,Hr){return ir(sn(kr),Hr)}:sn})},ae.parseRows=function(He,ir){var Ir={},Dr={},Qr=[],sn=He.length,kr=0,Hr=0,Kr,hn;function yn(){if(kr>=sn)return Dr;if(hn)return hn=!1,Ir;var Hn=kr;if(He.charCodeAt(Hn)===34){for(var ri=Hn;ri++<sn;)if(He.charCodeAt(ri)===34){if(He.charCodeAt(ri+1)!==34)break;++ri}kr=ri+2;var ci=He.charCodeAt(ri+1);return ci===13?(hn=!0,He.charCodeAt(ri+2)===10&&++kr):ci===10&&(hn=!0),He.slice(Hn+1,ri).replace(/""/g,'"')}for(;kr<sn;){var ci=He.charCodeAt(kr++),ti=1;if(ci===10)hn=!0;else if(ci===13)hn=!0,He.charCodeAt(kr)===10&&(++kr,++ti);else if(ci!==ee)continue;return He.slice(Hn,kr-ti)}return He.slice(Hn)}for(;(Kr=yn())!==Dr;){for(var qr=[];Kr!==Ir&&Kr!==Dr;)qr.push(Kr),Kr=yn();ir&&(qr=ir(qr,Hr++))==null||Qr.push(qr)}return Qr},ae.format=function(He){if(Array.isArray(He[0]))return ae.formatRows(He);var ir=new F,Ir=[];return He.forEach(function(Dr){for(var Qr in Dr)ir.has(Qr)||Ir.push(ir.add(Qr))}),[Ir.map(Ue).join(ct)].concat(He.map(function(Dr){return Ir.map(function(Qr){return Ue(Dr[Qr])}).join(ct)})).join(`
`)},ae.formatRows=function(He){return He.map(Ae).join(`
`)};function Ae(He){return He.map(Ue).join(ct)}function Ue(He){return Vt.test(He)?'"'+He.replace(/\"/g,'""')+'"':He}return ae},s.csv=s.dsv(",","text/csv"),s.tsv=s.dsv("	","text/tab-separated-values");var jr,_r,pn,en,Tn=this[O(this,"requestAnimationFrame")]||function(ct){setTimeout(ct,17)};s.timer=function(){Pn.apply(this,arguments)};function Pn(ct,Mt,Vt){var ee=arguments.length;ee<2&&(Mt=0),ee<3&&(Vt=Date.now());var ae=Vt+Mt,he={c:ct,t:ae,n:null};return _r?_r.n=he:jr=he,_r=he,pn||(en=clearTimeout(en),pn=1,Tn(Gn)),he}function Gn(){var ct=gi(),Mt=bi()-ct;Mt>24?(isFinite(Mt)&&(clearTimeout(en),en=setTimeout(Gn,Mt)),pn=0):(pn=1,Tn(Gn))}s.timer.flush=function(){gi(),bi()};function gi(){for(var ct=Date.now(),Mt=jr;Mt;)ct>=Mt.t&&Mt.c(ct-Mt.t)&&(Mt.c=null),Mt=Mt.n;return ct}function bi(){for(var ct,Mt=jr,Vt=1/0;Mt;)Mt.c?(Mt.t<Vt&&(Vt=Mt.t),Mt=(ct=Mt).n):Mt=ct?ct.n=Mt.n:jr=Mt.n;return _r=ct,Vt}s.round=function(ct,Mt){return Mt?Math.round(ct*(Mt=Math.pow(10,Mt)))/Mt:Math.round(ct)},s.geom={};function oi(ct){return ct[0]}function ni(ct){return ct[1]}s.geom.hull=function(ct){var Mt=oi,Vt=ni;if(arguments.length)return ee(ct);function ee(ae){if(ae.length<3)return[];var he=Or(Mt),Ie=Or(Vt),Ae,Ue=ae.length,He=[],ir=[];for(Ae=0;Ae<Ue;Ae++)He.push([+he.call(this,ae[Ae],Ae),+Ie.call(this,ae[Ae],Ae),Ae]);for(He.sort(Cr),Ae=0;Ae<Ue;Ae++)ir.push([He[Ae][0],-He[Ae][1]]);var Ir=Dn(He),Dr=Dn(ir),Qr=Dr[0]===Ir[0],sn=Dr[Dr.length-1]===Ir[Ir.length-1],kr=[];for(Ae=Ir.length-1;Ae>=0;--Ae)kr.push(ae[He[Ir[Ae]][2]]);for(Ae=+Qr;Ae<Dr.length-sn;++Ae)kr.push(ae[He[Dr[Ae]][2]]);return kr}return ee.x=function(ae){return arguments.length?(Mt=ae,ee):Mt},ee.y=function(ae){return arguments.length?(Vt=ae,ee):Vt},ee};function Dn(ct){for(var Mt=ct.length,Vt=[0,1],ee=2,ae=2;ae<Mt;ae++){for(;ee>1&&Ve(ct[Vt[ee-2]],ct[Vt[ee-1]],ct[ae])<=0;)--ee;Vt[ee++]=ae}return Vt.slice(0,ee)}function Cr(ct,Mt){return ct[0]-Mt[0]||ct[1]-Mt[1]}s.geom.polygon=function(ct){return tt(ct,an),ct};var an=s.geom.polygon.prototype=[];an.area=function(){for(var ct=-1,Mt=this.length,Vt,ee=this[Mt-1],ae=0;++ct<Mt;)Vt=ee,ee=this[ct],ae+=Vt[1]*ee[0]-Vt[0]*ee[1];return ae*.5},an.centroid=function(ct){var Mt=-1,Vt=this.length,ee=0,ae=0,he,Ie=this[Vt-1],Ae;for(arguments.length||(ct=-1/(6*this.area()));++Mt<Vt;)he=Ie,Ie=this[Mt],Ae=he[0]*Ie[1]-Ie[0]*he[1],ee+=(he[0]+Ie[0])*Ae,ae+=(he[1]+Ie[1])*Ae;return[ee*ct,ae*ct]},an.clip=function(ct){for(var Mt,Vt=Bn(ct),ee=-1,ae=this.length-Bn(this),he,Ie,Ae=this[ae-1],Ue,He,ir;++ee<ae;){for(Mt=ct.slice(),ct.length=0,Ue=this[ee],He=Mt[(Ie=Mt.length-Vt)-1],he=-1;++he<Ie;)ir=Mt[he],on(ir,Ae,Ue)?(on(He,Ae,Ue)||ct.push(ln(He,ir,Ae,Ue)),ct.push(ir)):on(He,Ae,Ue)&&ct.push(ln(He,ir,Ae,Ue)),He=ir;Vt&&ct.push(ct[0]),Ae=Ue}return ct};function on(ct,Mt,Vt){return(Vt[0]-Mt[0])*(ct[1]-Mt[1])<(Vt[1]-Mt[1])*(ct[0]-Mt[0])}function ln(ct,Mt,Vt,ee){var ae=ct[0],he=Vt[0],Ie=Mt[0]-ae,Ae=ee[0]-he,Ue=ct[1],He=Vt[1],ir=Mt[1]-Ue,Ir=ee[1]-He,Dr=(Ae*(Ue-He)-Ir*(ae-he))/(Ir*Ie-Ae*ir);return[ae+Dr*Ie,Ue+Dr*ir]}function Bn(ct){var Mt=ct[0],Vt=ct[ct.length-1];return!(Mt[0]-Vt[0]||Mt[1]-Vt[1])}var gn,Cn,Nn,$n=[],vi,Di,Ar=[];function Br(){No(this),this.edge=this.site=this.circle=null}function Sr(ct){var Mt=$n.pop()||new Br;return Mt.site=ct,Mt}function Nr(ct){An(ct),Nn.remove(ct),$n.push(ct),No(ct)}function un(ct){var Mt=ct.circle,Vt=Mt.x,ee=Mt.cy,ae={x:Vt,y:ee},he=ct.P,Ie=ct.N,Ae=[ct];Nr(ct);for(var Ue=he;Ue.circle&&p(Vt-Ue.circle.x)<Ht&&p(ee-Ue.circle.cy)<Ht;)he=Ue.P,Ae.unshift(Ue),Nr(Ue),Ue=he;Ae.unshift(Ue),An(Ue);for(var He=Ie;He.circle&&p(Vt-He.circle.x)<Ht&&p(ee-He.circle.cy)<Ht;)Ie=He.N,Ae.push(He),Nr(He),He=Ie;Ae.push(He),An(He);var ir=Ae.length,Ir;for(Ir=1;Ir<ir;++Ir)He=Ae[Ir],Ue=Ae[Ir-1],Li(He.edge,Ue.site,He.site,ae);Ue=Ae[0],He=Ae[ir-1],He.edge=Zn(Ue.site,He.site,null,ae),wn(Ue),wn(He)}function Rn(ct){for(var Mt=ct.x,Vt=ct.y,ee,ae,he,Ie,Ae=Nn._;Ae;)if(he=mn(Ae,Vt)-Mt,he>Ht)Ae=Ae.L;else if(Ie=Mt-cn(Ae,Vt),Ie>Ht){if(!Ae.R){ee=Ae;break}Ae=Ae.R}else{he>-Ht?(ee=Ae.P,ae=Ae):Ie>-Ht?(ee=Ae,ae=Ae.N):ee=ae=Ae;break}var Ue=Sr(ct);if(Nn.insert(ee,Ue),!(!ee&&!ae)){if(ee===ae){An(ee),ae=Sr(ee.site),Nn.insert(Ue,ae),Ue.edge=ae.edge=Zn(ee.site,Ue.site),wn(ee),wn(ae);return}if(!ae){Ue.edge=Zn(ee.site,Ue.site);return}An(ee),An(ae);var He=ee.site,ir=He.x,Ir=He.y,Dr=ct.x-ir,Qr=ct.y-Ir,sn=ae.site,kr=sn.x-ir,Hr=sn.y-Ir,Kr=2*(Dr*Hr-Qr*kr),hn=Dr*Dr+Qr*Qr,yn=kr*kr+Hr*Hr,qr={x:(Hr*hn-Qr*yn)/Kr+ir,y:(Dr*yn-kr*hn)/Kr+Ir};Li(ae.edge,He,sn,qr),Ue.edge=Zn(He,ct,null,qr),ae.edge=Zn(ct,sn,null,qr),wn(ee),wn(ae)}}function mn(ct,Mt){var Vt=ct.site,ee=Vt.x,ae=Vt.y,he=ae-Mt;if(!he)return ee;var Ie=ct.P;if(!Ie)return-1/0;Vt=Ie.site;var Ae=Vt.x,Ue=Vt.y,He=Ue-Mt;if(!He)return Ae;var ir=Ae-ee,Ir=1/he-1/He,Dr=ir/He;return Ir?(-Dr+Math.sqrt(Dr*Dr-2*Ir*(ir*ir/(-2*He)-Ue+He/2+ae-he/2)))/Ir+ee:(ee+Ae)/2}function cn(ct,Mt){var Vt=ct.N;if(Vt)return mn(Vt,Mt);var ee=ct.site;return ee.y===Mt?ee.x:1/0}function Er(ct){this.site=ct,this.edges=[]}Er.prototype.prepare=function(){for(var ct=this.edges,Mt=ct.length,Vt;Mt--;)Vt=ct[Mt].edge,(!Vt.b||!Vt.a)&&ct.splice(Mt,1);return ct.sort(Gr),ct.length};function Yr(ct){for(var Mt=ct[0][0],Vt=ct[1][0],ee=ct[0][1],ae=ct[1][1],he,Ie,Ae,Ue,He=Cn,ir=He.length,Ir,Dr,Qr,sn,kr,Hr;ir--;)if(Ir=He[ir],!(!Ir||!Ir.prepare()))for(Qr=Ir.edges,sn=Qr.length,Dr=0;Dr<sn;)Hr=Qr[Dr].end(),Ae=Hr.x,Ue=Hr.y,kr=Qr[++Dr%sn].start(),he=kr.x,Ie=kr.y,(p(Ae-he)>Ht||p(Ue-Ie)>Ht)&&(Qr.splice(Dr,0,new Ma(si(Ir.site,Hr,p(Ae-Mt)<Ht&&ae-Ue>Ht?{x:Mt,y:p(he-Mt)<Ht?Ie:ae}:p(Ue-ae)<Ht&&Vt-Ae>Ht?{x:p(Ie-ae)<Ht?he:Vt,y:ae}:p(Ae-Vt)<Ht&&Ue-ee>Ht?{x:Vt,y:p(he-Vt)<Ht?Ie:ee}:p(Ue-ee)<Ht&&Ae-Mt>Ht?{x:p(Ie-ee)<Ht?he:Mt,y:ee}:null),Ir.site,null)),++sn)}function Gr(ct,Mt){return Mt.angle-ct.angle}function $r(){No(this),this.x=this.y=this.arc=this.site=this.cy=null}function wn(ct){var Mt=ct.P,Vt=ct.N;if(!(!Mt||!Vt)){var ee=Mt.site,ae=ct.site,he=Vt.site;if(ee!==he){var Ie=ae.x,Ae=ae.y,Ue=ee.x-Ie,He=ee.y-Ae,ir=he.x-Ie,Hr=he.y-Ae,Ir=2*(Ue*Hr-He*ir);if(!(Ir>=-Lt)){var Dr=Ue*Ue+He*He,Qr=ir*ir+Hr*Hr,sn=(Hr*Dr-He*Qr)/Ir,kr=(Ue*Qr-ir*Dr)/Ir,Hr=kr+Ae,Kr=Ar.pop()||new $r;Kr.arc=ct,Kr.site=ae,Kr.x=sn+Ie,Kr.y=Hr+Math.sqrt(sn*sn+kr*kr),Kr.cy=Hr,ct.circle=Kr;for(var hn=null,yn=Di._;yn;)if(Kr.y<yn.y||Kr.y===yn.y&&Kr.x<=yn.x)if(yn.L)yn=yn.L;else{hn=yn.P;break}else if(yn.R)yn=yn.R;else{hn=yn;break}Di.insert(hn,Kr),hn||(vi=Kr)}}}}function An(ct){var Mt=ct.circle;Mt&&(Mt.P||(vi=Mt.N),Di.remove(Mt),Ar.push(Mt),No(Mt),ct.circle=null)}function On(ct,Mt,Vt,ee){return function(ae){var he=ae.a,Ie=ae.b,Ae=he.x,Ue=he.y,He=Ie.x,ir=Ie.y,Ir=0,Dr=1,Qr=He-Ae,sn=ir-Ue,kr;if(kr=ct-Ae,!(!Qr&&kr>0)){if(kr/=Qr,Qr<0){if(kr<Ir)return;kr<Dr&&(Dr=kr)}else if(Qr>0){if(kr>Dr)return;kr>Ir&&(Ir=kr)}if(kr=Vt-Ae,!(!Qr&&kr<0)){if(kr/=Qr,Qr<0){if(kr>Dr)return;kr>Ir&&(Ir=kr)}else if(Qr>0){if(kr<Ir)return;kr<Dr&&(Dr=kr)}if(kr=Mt-Ue,!(!sn&&kr>0)){if(kr/=sn,sn<0){if(kr<Ir)return;kr<Dr&&(Dr=kr)}else if(sn>0){if(kr>Dr)return;kr>Ir&&(Ir=kr)}if(kr=ee-Ue,!(!sn&&kr<0)){if(kr/=sn,sn<0){if(kr>Dr)return;kr>Ir&&(Ir=kr)}else if(sn>0){if(kr<Ir)return;kr<Dr&&(Dr=kr)}return Ir>0&&(ae.a={x:Ae+Ir*Qr,y:Ue+Ir*sn}),Dr<1&&(ae.b={x:Ae+Dr*Qr,y:Ue+Dr*sn}),ae}}}}}}function Un(ct){for(var Mt=gn,Vt=On(ct[0][0],ct[0][1],ct[1][0],ct[1][1]),ee=Mt.length,ae;ee--;)ae=Mt[ee],(!zn(ae,ct)||!Vt(ae)||p(ae.a.x-ae.b.x)<Ht&&p(ae.a.y-ae.b.y)<Ht)&&(ae.a=ae.b=null,Mt.splice(ee,1))}function zn(ct,Mt){var Vt=ct.b;if(Vt)return!0;var ee=ct.a,ae=Mt[0][0],he=Mt[1][0],Ie=Mt[0][1],Ae=Mt[1][1],Ue=ct.l,He=ct.r,ir=Ue.x,Ir=Ue.y,Dr=He.x,Qr=He.y,sn=(ir+Dr)/2,kr=(Ir+Qr)/2,Hr,Kr;if(Qr===Ir){if(sn<ae||sn>=he)return;if(ir>Dr){if(!ee)ee={x:sn,y:Ie};else if(ee.y>=Ae)return;Vt={x:sn,y:Ae}}else{if(!ee)ee={x:sn,y:Ae};else if(ee.y<Ie)return;Vt={x:sn,y:Ie}}}else if(Hr=(ir-Dr)/(Qr-Ir),Kr=kr-Hr*sn,Hr<-1||Hr>1)if(ir>Dr){if(!ee)ee={x:(Ie-Kr)/Hr,y:Ie};else if(ee.y>=Ae)return;Vt={x:(Ae-Kr)/Hr,y:Ae}}else{if(!ee)ee={x:(Ae-Kr)/Hr,y:Ae};else if(ee.y<Ie)return;Vt={x:(Ie-Kr)/Hr,y:Ie}}else if(Ir<Qr){if(!ee)ee={x:ae,y:Hr*ae+Kr};else if(ee.x>=he)return;Vt={x:he,y:Hr*he+Kr}}else{if(!ee)ee={x:he,y:Hr*he+Kr};else if(ee.x<ae)return;Vt={x:ae,y:Hr*ae+Kr}}return ct.a=ee,ct.b=Vt,!0}function Yn(ct,Mt){this.l=ct,this.r=Mt,this.a=this.b=null}function Zn(ct,Mt,Vt,ee){var ae=new Yn(ct,Mt);return gn.push(ae),Vt&&Li(ae,ct,Mt,Vt),ee&&Li(ae,Mt,ct,ee),Cn[ct.i].edges.push(new Ma(ae,ct,Mt)),Cn[Mt.i].edges.push(new Ma(ae,Mt,ct)),ae}function si(ct,Mt,Vt){var ee=new Yn(ct,null);return ee.a=Mt,ee.b=Vt,gn.push(ee),ee}function Li(ct,Mt,Vt,ee){!ct.a&&!ct.b?(ct.a=ee,ct.l=Mt,ct.r=Vt):ct.l===Vt?ct.b=ee:ct.a=ee}function Ma(ct,Mt,Vt){var ee=ct.a,ae=ct.b;this.edge=ct,this.site=Mt,this.angle=Vt?Math.atan2(Vt.y-Mt.y,Vt.x-Mt.x):ct.l===Mt?Math.atan2(ae.x-ee.x,ee.y-ae.y):Math.atan2(ee.x-ae.x,ae.y-ee.y)}Ma.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function sa(){this._=null}function No(ct){ct.U=ct.C=ct.L=ct.R=ct.P=ct.N=null}sa.prototype={insert:function(ct,Mt){var Vt,ee,ae;if(ct){if(Mt.P=ct,Mt.N=ct.N,ct.N&&(ct.N.P=Mt),ct.N=Mt,ct.R){for(ct=ct.R;ct.L;)ct=ct.L;ct.L=Mt}else ct.R=Mt;Vt=ct}else this._?(ct=$s(this._),Mt.P=null,Mt.N=ct,ct.P=ct.L=Mt,Vt=ct):(Mt.P=Mt.N=null,this._=Mt,Vt=null);for(Mt.L=Mt.R=null,Mt.U=Vt,Mt.C=!0,ct=Mt;Vt&&Vt.C;)ee=Vt.U,Vt===ee.L?(ae=ee.R,ae&&ae.C?(Vt.C=ae.C=!1,ee.C=!0,ct=ee):(ct===Vt.R&&($o(this,Vt),ct=Vt,Vt=ct.U),Vt.C=!1,ee.C=!0,So(this,ee))):(ae=ee.L,ae&&ae.C?(Vt.C=ae.C=!1,ee.C=!0,ct=ee):(ct===Vt.L&&(So(this,Vt),ct=Vt,Vt=ct.U),Vt.C=!1,ee.C=!0,$o(this,ee))),Vt=ct.U;this._.C=!1},remove:function(ct){ct.N&&(ct.N.P=ct.P),ct.P&&(ct.P.N=ct.N),ct.N=ct.P=null;var Mt=ct.U,Vt,ee=ct.L,ae=ct.R,he,Ie;if(ee?ae?he=$s(ae):he=ee:he=ae,Mt?Mt.L===ct?Mt.L=he:Mt.R=he:this._=he,ee&&ae?(Ie=he.C,he.C=ct.C,he.L=ee,ee.U=he,he!==ae?(Mt=he.U,he.U=ct.U,ct=he.R,Mt.L=ct,he.R=ae,ae.U=he):(he.U=Mt,Mt=he,ct=he.R)):(Ie=ct.C,ct=he),ct&&(ct.U=Mt),!Ie){if(ct&&ct.C){ct.C=!1;return}do{if(ct===this._)break;if(ct===Mt.L){if(Vt=Mt.R,Vt.C&&(Vt.C=!1,Mt.C=!0,$o(this,Mt),Vt=Mt.R),Vt.L&&Vt.L.C||Vt.R&&Vt.R.C){(!Vt.R||!Vt.R.C)&&(Vt.L.C=!1,Vt.C=!0,So(this,Vt),Vt=Mt.R),Vt.C=Mt.C,Mt.C=Vt.R.C=!1,$o(this,Mt),ct=this._;break}}else if(Vt=Mt.L,Vt.C&&(Vt.C=!1,Mt.C=!0,So(this,Mt),Vt=Mt.L),Vt.L&&Vt.L.C||Vt.R&&Vt.R.C){(!Vt.L||!Vt.L.C)&&(Vt.R.C=!1,Vt.C=!0,$o(this,Vt),Vt=Mt.L),Vt.C=Mt.C,Mt.C=Vt.L.C=!1,So(this,Mt),ct=this._;break}Vt.C=!0,ct=Mt,Mt=Mt.U}while(!ct.C);ct&&(ct.C=!1)}}};function $o(ct,Mt){var Vt=Mt,ee=Mt.R,ae=Vt.U;ae?ae.L===Vt?ae.L=ee:ae.R=ee:ct._=ee,ee.U=ae,Vt.U=ee,Vt.R=ee.L,Vt.R&&(Vt.R.U=Vt),ee.L=Vt}function So(ct,Mt){var Vt=Mt,ee=Mt.L,ae=Vt.U;ae?ae.L===Vt?ae.L=ee:ae.R=ee:ct._=ee,ee.U=ae,Vt.U=ee,Vt.L=ee.R,Vt.L&&(Vt.L.U=Vt),ee.R=Vt}function $s(ct){for(;ct.L;)ct=ct.L;return ct}function pu(ct,Mt){var Vt=ct.sort(Ju).pop(),ee,ae,he;for(gn=[],Cn=new Array(ct.length),Nn=new sa,Di=new sa;;)if(he=vi,Vt&&(!he||Vt.y<he.y||Vt.y===he.y&&Vt.x<he.x))(Vt.x!==ee||Vt.y!==ae)&&(Cn[Vt.i]=new Er(Vt),Rn(Vt),ee=Vt.x,ae=Vt.y),Vt=ct.pop();else if(he)un(he.arc);else break;Mt&&(Un(Mt),Yr(Mt));var Ie={cells:Cn,edges:gn};return Nn=Di=gn=Cn=null,Ie}function Ju(ct,Mt){return Mt.y-ct.y||Mt.x-ct.x}s.geom.voronoi=function(ct){var Mt=oi,Vt=ni,ee=Mt,ae=Vt,he=la;if(ct)return Ie(ct);function Ie(Ue){var He=new Array(Ue.length),ir=he[0][0],Ir=he[0][1],Dr=he[1][0],Qr=he[1][1];return pu(Ae(Ue),he).cells.forEach(function(sn,kr){var Hr=sn.edges,Kr=sn.site,hn=He[kr]=Hr.length?Hr.map(function(yn){var qr=yn.start();return[qr.x,qr.y]}):Kr.x>=ir&&Kr.x<=Dr&&Kr.y>=Ir&&Kr.y<=Qr?[[ir,Qr],[Dr,Qr],[Dr,Ir],[ir,Ir]]:[];hn.point=Ue[kr]}),He}function Ae(Ue){return Ue.map(function(He,ir){return{x:Math.round(ee(He,ir)/Ht)*Ht,y:Math.round(ae(He,ir)/Ht)*Ht,i:ir}})}return Ie.links=function(Ue){return pu(Ae(Ue)).edges.filter(function(He){return He.l&&He.r}).map(function(He){return{source:Ue[He.l.i],target:Ue[He.r.i]}})},Ie.triangles=function(Ue){var He=[];return pu(Ae(Ue)).cells.forEach(function(ir,Ir){for(var Dr=ir.site,Qr=ir.edges.sort(Gr),sn=-1,kr=Qr.length,Hr,Kr=Qr[kr-1].edge,hn=Kr.l===Dr?Kr.r:Kr.l;++sn<kr;)Hr=hn,Kr=Qr[sn].edge,hn=Kr.l===Dr?Kr.r:Kr.l,Ir<Hr.i&&Ir<hn.i&&Qu(Dr,Hr,hn)<0&&He.push([Ue[Ir],Ue[Hr.i],Ue[hn.i]])}),He},Ie.x=function(Ue){return arguments.length?(ee=Or(Mt=Ue),Ie):Mt},Ie.y=function(Ue){return arguments.length?(ae=Or(Vt=Ue),Ie):Vt},Ie.clipExtent=function(Ue){return arguments.length?(he=Ue??la,Ie):he===la?null:he},Ie.size=function(Ue){return arguments.length?Ie.clipExtent(Ue&&[[0,0],Ue]):he===la?null:he&&he[1]},Ie};var la=[[-1e6,-1e6],[1e6,1e6]];function Qu(ct,Mt,Vt){return(ct.x-Vt.x)*(Mt.y-ct.y)-(ct.x-Mt.x)*(Vt.y-ct.y)}s.geom.delaunay=function(ct){return s.geom.voronoi().triangles(ct)},s.geom.quadtree=function(ct,Mt,Vt,ee,ae){var he=oi,Ie=ni,Ae;if(Ae=arguments.length)return he=wc,Ie=mo,Ae===3&&(ae=Vt,ee=Mt,Vt=Mt=0),Ue(ct);function Ue(He){var ir,Ir=Or(he),Dr=Or(Ie),Qr,sn,kr,Hr,Kr,hn,yn,qr;if(Mt!=null)Kr=Mt,hn=Vt,yn=ee,qr=ae;else if(yn=qr=-(Kr=hn=1/0),Qr=[],sn=[],Hr=He.length,Ae)for(kr=0;kr<Hr;++kr)ir=He[kr],ir.x<Kr&&(Kr=ir.x),ir.y<hn&&(hn=ir.y),ir.x>yn&&(yn=ir.x),ir.y>qr&&(qr=ir.y),Qr.push(ir.x),sn.push(ir.y);else for(kr=0;kr<Hr;++kr){var Hn=+Ir(ir=He[kr],kr),ri=+Dr(ir,kr);Hn<Kr&&(Kr=Hn),ri<hn&&(hn=ri),Hn>yn&&(yn=Hn),ri>qr&&(qr=ri),Qr.push(Hn),sn.push(ri)}var ci=yn-Kr,ti=qr-hn;ci>ti?qr=hn+ci:yn=Kr+ti;function li(Mi,ki,ha,eo,xa,qn,Ui,Ai){if(!(isNaN(ha)||isNaN(eo)))if(Mi.leaf){var Xi=Mi.x,Ra=Mi.y;if(Xi!=null)if(p(Xi-ha)+p(Ra-eo)<.01)hi(Mi,ki,ha,eo,xa,qn,Ui,Ai);else{var va=Mi.point;Mi.x=Mi.y=Mi.point=null,hi(Mi,va,Xi,Ra,xa,qn,Ui,Ai),hi(Mi,ki,ha,eo,xa,qn,Ui,Ai)}else Mi.x=ha,Mi.y=eo,Mi.point=ki}else hi(Mi,ki,ha,eo,xa,qn,Ui,Ai)}function hi(Mi,ki,ha,eo,xa,qn,Ui,Ai){var Xi=(xa+Ui)*.5,Ra=(qn+Ai)*.5,va=ha>=Xi,wo=eo>=Ra,To=wo<<1|va;Mi.leaf=!1,Mi=Mi.nodes[To]||(Mi.nodes[To]=Yo()),va?xa=Xi:Ui=Xi,wo?qn=Ra:Ai=Ra,li(Mi,ki,ha,eo,xa,qn,Ui,Ai)}var Bi=Yo();if(Bi.add=function(Mi){li(Bi,Mi,+Ir(Mi,++kr),+Dr(Mi,kr),Kr,hn,yn,qr)},Bi.visit=function(Mi){gu(Mi,Bi,Kr,hn,yn,qr)},Bi.find=function(Mi){return zf(Bi,Mi[0],Mi[1],Kr,hn,yn,qr)},kr=-1,Mt==null){for(;++kr<Hr;)li(Bi,He[kr],Qr[kr],sn[kr],Kr,hn,yn,qr);--kr}else He.forEach(Bi.add);return Qr=sn=He=ir=null,Bi}return Ue.x=function(He){return arguments.length?(he=He,Ue):he},Ue.y=function(He){return arguments.length?(Ie=He,Ue):Ie},Ue.extent=function(He){return arguments.length?(He==null?Mt=Vt=ee=ae=null:(Mt=+He[0][0],Vt=+He[0][1],ee=+He[1][0],ae=+He[1][1]),Ue):Mt==null?null:[[Mt,Vt],[ee,ae]]},Ue.size=function(He){return arguments.length?(He==null?Mt=Vt=ee=ae=null:(Mt=Vt=0,ee=+He[0],ae=+He[1]),Ue):Mt==null?null:[ee-Mt,ae-Vt]},Ue};function wc(ct){return ct.x}function mo(ct){return ct.y}function Yo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gu(ct,Mt,Vt,ee,ae,he){if(!ct(Mt,Vt,ee,ae,he)){var Ie=(Vt+ae)*.5,Ae=(ee+he)*.5,Ue=Mt.nodes;Ue[0]&&gu(ct,Ue[0],Vt,ee,Ie,Ae),Ue[1]&&gu(ct,Ue[1],Ie,ee,ae,Ae),Ue[2]&&gu(ct,Ue[2],Vt,Ae,Ie,he),Ue[3]&&gu(ct,Ue[3],Ie,Ae,ae,he)}}function zf(ct,Mt,Vt,ee,ae,he,Ie){var Ae=1/0,Ue;return function He(ir,Ir,Dr,Qr,sn){if(!(Ir>he||Dr>Ie||Qr<ee||sn<ae)){if(kr=ir.point){var kr,Hr=Mt-ir.x,Kr=Vt-ir.y,hn=Hr*Hr+Kr*Kr;if(hn<Ae){var yn=Math.sqrt(Ae=hn);ee=Mt-yn,ae=Vt-yn,he=Mt+yn,Ie=Vt+yn,Ue=kr}}for(var qr=ir.nodes,Hn=(Ir+Qr)*.5,ri=(Dr+sn)*.5,ci=Mt>=Hn,ti=Vt>=ri,li=ti<<1|ci,hi=li+4;li<hi;++li)if(ir=qr[li&3])switch(li&3){case 0:He(ir,Ir,Dr,Hn,ri);break;case 1:He(ir,Hn,Dr,Qr,ri);break;case 2:He(ir,Ir,ri,Hn,sn);break;case 3:He(ir,Hn,ri,Qr,sn);break}}}(ct,ee,ae,he,Ie),Ue}s.interpolateRgb=Qa;function Qa(ct,Mt){ct=s.rgb(ct),Mt=s.rgb(Mt);var Vt=ct.r,ee=ct.g,ae=ct.b,he=Mt.r-Vt,Ie=Mt.g-ee,Ae=Mt.b-ae;return function(Ue){return"#"+nr(Math.round(Vt+he*Ue))+nr(Math.round(ee+Ie*Ue))+nr(Math.round(ae+Ae*Ue))}}s.interpolateObject=yu;function yu(ct,Mt){var Vt={},ee={},ae;for(ae in ct)ae in Mt?Vt[ae]=Eo(ct[ae],Mt[ae]):ee[ae]=ct[ae];for(ae in Mt)ae in ct||(ee[ae]=Mt[ae]);return function(he){for(ae in Vt)ee[ae]=Vt[ae](he);return ee}}s.interpolateNumber=to;function to(ct,Mt){return ct=+ct,Mt=+Mt,function(Vt){return ct*(1-Vt)+Mt*Vt}}s.interpolateString=uo;function uo(ct,Mt){var Vt=mu.lastIndex=Mo.lastIndex=0,ee,ae,he,Ie=-1,Ae=[],Ue=[];for(ct=ct+"",Mt=Mt+"";(ee=mu.exec(ct))&&(ae=Mo.exec(Mt));)(he=ae.index)>Vt&&(he=Mt.slice(Vt,he),Ae[Ie]?Ae[Ie]+=he:Ae[++Ie]=he),(ee=ee[0])===(ae=ae[0])?Ae[Ie]?Ae[Ie]+=ae:Ae[++Ie]=ae:(Ae[++Ie]=null,Ue.push({i:Ie,x:to(ee,ae)})),Vt=Mo.lastIndex;return Vt<Mt.length&&(he=Mt.slice(Vt),Ae[Ie]?Ae[Ie]+=he:Ae[++Ie]=he),Ae.length<2?Ue[0]?(Mt=Ue[0].x,function(He){return Mt(He)+""}):function(){return Mt}:(Mt=Ue.length,function(He){for(var ir=0,Ir;ir<Mt;++ir)Ae[(Ir=Ue[ir]).i]=Ir.x(He);return Ae.join("")})}var mu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mo=new RegExp(mu.source,"g");s.interpolate=Eo;function Eo(ct,Mt){for(var Vt=s.interpolators.length,ee;--Vt>=0&&!(ee=s.interpolators[Vt](ct,Mt)););return ee}s.interpolators=[function(ct,Mt){var Vt=typeof Mt;return(Vt==="string"?vn.has(Mt.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Mt)?Qa:uo:Mt instanceof ye?Qa:Array.isArray(Mt)?os:Vt==="object"&&isNaN(Mt)?yu:to)(ct,Mt)}],s.interpolateArray=os;function os(ct,Mt){var Vt=[],ee=[],ae=ct.length,he=Mt.length,Ie=Math.min(ct.length,Mt.length),Ae;for(Ae=0;Ae<Ie;++Ae)Vt.push(Eo(ct[Ae],Mt[Ae]));for(;Ae<ae;++Ae)ee[Ae]=ct[Ae];for(;Ae<he;++Ae)ee[Ae]=Mt[Ae];return function(Ue){for(Ae=0;Ae<Ie;++Ae)ee[Ae]=Vt[Ae](Ue);return ee}}var vh=function(){return V},qo=s.map({linear:vh,poly:dh,quad:function(){return yl},cubic:function(){return Ns},sin:function(){return Lv},exp:function(){return Ff},circle:function(){return Pv},elastic:Iv,back:Dv,bounce:function(){return Sc}}),Cv=s.map({in:V,out:xo,"in-out":Tc,"out-in":function(ct){return Tc(xo(ct))}});s.ease=function(ct){var Mt=ct.indexOf("-"),Vt=Mt>=0?ct.slice(0,Mt):ct,ee=Mt>=0?ct.slice(Mt+1):"in";return Vt=qo.get(Vt)||vh,ee=Cv.get(ee)||V,Bs(ee(Vt.apply(null,P.call(arguments,1))))};function Bs(ct){return function(Mt){return Mt<=0?0:Mt>=1?1:ct(Mt)}}function xo(ct){return function(Mt){return 1-ct(1-Mt)}}function Tc(ct){return function(Mt){return .5*(Mt<.5?ct(2*Mt):2-ct(2-2*Mt))}}function yl(ct){return ct*ct}function Ns(ct){return ct*ct*ct}function Ac(ct){if(ct<=0)return 0;if(ct>=1)return 1;var Mt=ct*ct,Vt=Mt*ct;return 4*(ct<.5?Vt:3*(ct-Mt)+Vt-.75)}function dh(ct){return function(Mt){return Math.pow(Mt,ct)}}function Lv(ct){return 1-Math.cos(ct*jt)}function Ff(ct){return Math.pow(2,10*(ct-1))}function Pv(ct){return 1-Math.sqrt(1-ct*ct)}function Iv(ct,Mt){var Vt;return arguments.length<2&&(Mt=.45),arguments.length?Vt=Mt/xt*Math.asin(1/ct):(ct=1,Vt=Mt/4),function(ee){return 1+ct*Math.pow(2,-10*ee)*Math.sin((ee-Vt)*xt/Mt)}}function Dv(ct){return ct||(ct=1.70158),function(Mt){return Mt*Mt*((ct+1)*Mt-ct)}}function Sc(ct){return ct<.36363636363636365?7.5625*ct*ct:ct<.7272727272727273?7.5625*(ct-=.5454545454545454)*ct+.75:ct<.9090909090909091?7.5625*(ct-=.8181818181818182)*ct+.9375:7.5625*(ct-=.9545454545454546)*ct+.984375}s.interpolateHcl=Rv;function Rv(ct,Mt){ct=s.hcl(ct),Mt=s.hcl(Mt);var Vt=ct.h,ee=ct.c,ae=ct.l,he=Mt.h-Vt,Ie=Mt.c-ee,Ae=Mt.l-ae;return isNaN(Ie)&&(Ie=0,ee=isNaN(ee)?Mt.c:ee),isNaN(he)?(he=0,Vt=isNaN(Vt)?Mt.h:Vt):he>180?he-=360:he<-180&&(he+=360),function(Ue){return Fe(Vt+he*Ue,ee+Ie*Ue,ae+Ae*Ue)+""}}s.interpolateHsl=_v;function _v(ct,Mt){ct=s.hsl(ct),Mt=s.hsl(Mt);var Vt=ct.h,ee=ct.s,ae=ct.l,he=Mt.h-Vt,Ie=Mt.s-ee,Ae=Mt.l-ae;return isNaN(Ie)&&(Ie=0,ee=isNaN(ee)?Mt.s:ee),isNaN(he)?(he=0,Vt=isNaN(Vt)?Mt.h:Vt):he>180?he-=360:he<-180&&(he+=360),function(Ue){return Ee(Vt+he*Ue,ee+Ie*Ue,ae+Ae*Ue)+""}}s.interpolateLab=ph;function ph(ct,Mt){ct=s.lab(ct),Mt=s.lab(Mt);var Vt=ct.l,ee=ct.a,ae=ct.b,he=Mt.l-Vt,Ie=Mt.a-ee,Ae=Mt.b-ae;return function(Ue){return Lr(Vt+he*Ue,ee+Ie*Ue,ae+Ae*Ue)+""}}s.interpolateRound=gh;function gh(ct,Mt){return Mt-=ct,function(Vt){return Math.round(ct+Mt*Vt)}}s.transform=function(ct){var Mt=d.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(Vt){if(Vt!=null){Mt.setAttribute("transform",Vt);var ee=Mt.transform.baseVal.consolidate()}return new Wl(ee?ee.matrix:yh)})(ct)};function Wl(ct){var Mt=[ct.a,ct.b],Vt=[ct.c,ct.d],ee=$u(Mt),ae=xu(Mt,Vt),he=$u(qu(Vt,Mt,-ae))||0;Mt[0]*Vt[1]<Vt[0]*Mt[1]&&(Mt[0]*=-1,Mt[1]*=-1,ee*=-1,ae*=-1),this.rotate=(ee?Math.atan2(Mt[1],Mt[0]):Math.atan2(-Vt[0],Vt[1]))*le,this.translate=[ct.e,ct.f],this.scale=[ee,he],this.skew=he?Math.atan2(ae,he)*le:0}Wl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function xu(ct,Mt){return ct[0]*Mt[0]+ct[1]*Mt[1]}function $u(ct){var Mt=Math.sqrt(xu(ct,ct));return Mt&&(ct[0]/=Mt,ct[1]/=Mt),Mt}function qu(ct,Mt,Vt){return ct[0]+=Vt*Mt[0],ct[1]+=Vt*Mt[1],ct}var yh={a:1,b:0,c:0,d:1,e:0,f:0};s.interpolateTransform=Bf;function qs(ct){return ct.length?ct.pop()+",":""}function kv(ct,Mt,Vt,ee){if(ct[0]!==Mt[0]||ct[1]!==Mt[1]){var ae=Vt.push("translate(",null,",",null,")");ee.push({i:ae-4,x:to(ct[0],Mt[0])},{i:ae-2,x:to(ct[1],Mt[1])})}else(Mt[0]||Mt[1])&&Vt.push("translate("+Mt+")")}function Of(ct,Mt,Vt,ee){ct!==Mt?(ct-Mt>180?Mt+=360:Mt-ct>180&&(ct+=360),ee.push({i:Vt.push(qs(Vt)+"rotate(",null,")")-2,x:to(ct,Mt)})):Mt&&Vt.push(qs(Vt)+"rotate("+Mt+")")}function mh(ct,Mt,Vt,ee){ct!==Mt?ee.push({i:Vt.push(qs(Vt)+"skewX(",null,")")-2,x:to(ct,Mt)}):Mt&&Vt.push(qs(Vt)+"skewX("+Mt+")")}function xh(ct,Mt,Vt,ee){if(ct[0]!==Mt[0]||ct[1]!==Mt[1]){var ae=Vt.push(qs(Vt)+"scale(",null,",",null,")");ee.push({i:ae-4,x:to(ct[0],Mt[0])},{i:ae-2,x:to(ct[1],Mt[1])})}else(Mt[0]!==1||Mt[1]!==1)&&Vt.push(qs(Vt)+"scale("+Mt+")")}function Bf(ct,Mt){var Vt=[],ee=[];return ct=s.transform(ct),Mt=s.transform(Mt),kv(ct.translate,Mt.translate,Vt,ee),Of(ct.rotate,Mt.rotate,Vt,ee),mh(ct.skew,Mt.skew,Vt,ee),xh(ct.scale,Mt.scale,Vt,ee),ct=Mt=null,function(ae){for(var he=-1,Ie=ee.length,Ae;++he<Ie;)Vt[(Ae=ee[he]).i]=Ae.x(ae);return Vt.join("")}}function ws(ct,Mt){return Mt=(Mt-=ct=+ct)||1/Mt,function(Vt){return(Vt-ct)/Mt}}function bu(ct,Mt){return Mt=(Mt-=ct=+ct)||1/Mt,function(Vt){return Math.max(0,Math.min(1,(Vt-ct)/Mt))}}s.layout={},s.layout.bundle=function(){return function(ct){for(var Mt=[],Vt=-1,ee=ct.length;++Vt<ee;)Mt.push(Yl(ct[Vt]));return Mt}};function Yl(ct){for(var Mt=ct.source,Vt=ct.target,ee=ml(Mt,Vt),ae=[Mt];Mt!==ee;)Mt=Mt.parent,ae.push(Mt);for(var he=ae.length;Vt!==ee;)ae.splice(he,0,Vt),Vt=Vt.parent;return ae}function tf(ct){for(var Mt=[],Vt=ct.parent;Vt!=null;)Mt.push(ct),ct=Vt,Vt=Vt.parent;return Mt.push(ct),Mt}function ml(ct,Mt){if(ct===Mt)return ct;for(var Vt=tf(ct),ee=tf(Mt),ae=Vt.pop(),he=ee.pop(),Ie=null;ae===he;)Ie=ae,ae=Vt.pop(),he=ee.pop();return Ie}s.layout.chord=function(){var ct={},Mt,Vt,ee,ae,he=0,Ie,Ae,Ue;function He(){var Ir={},Dr=[],Qr=s.range(ae),sn=[],kr,Hr,Kr,hn,yn;for(Mt=[],Vt=[],kr=0,hn=-1;++hn<ae;){for(Hr=0,yn=-1;++yn<ae;)Hr+=ee[hn][yn];Dr.push(Hr),sn.push(s.range(ae)),kr+=Hr}for(Ie&&Qr.sort(function(Bi,Mi){return Ie(Dr[Bi],Dr[Mi])}),Ae&&sn.forEach(function(Bi,Mi){Bi.sort(function(ki,ha){return Ae(ee[Mi][ki],ee[Mi][ha])})}),kr=(xt-he*ae)/kr,Hr=0,hn=-1;++hn<ae;){for(Kr=Hr,yn=-1;++yn<ae;){var qr=Qr[hn],Hn=sn[qr][yn],ri=ee[qr][Hn],ci=Hr,ti=Hr+=ri*kr;Ir[qr+"-"+Hn]={index:qr,subindex:Hn,startAngle:ci,endAngle:ti,value:ri}}Vt[qr]={index:qr,startAngle:Kr,endAngle:Hr,value:Dr[qr]},Hr+=he}for(hn=-1;++hn<ae;)for(yn=hn-1;++yn<ae;){var li=Ir[hn+"-"+yn],hi=Ir[yn+"-"+hn];(li.value||hi.value)&&Mt.push(li.value<hi.value?{source:hi,target:li}:{source:li,target:hi})}Ue&&ir()}function ir(){Mt.sort(function(Ir,Dr){return Ue((Ir.source.value+Ir.target.value)/2,(Dr.source.value+Dr.target.value)/2)})}return ct.matrix=function(Ir){return arguments.length?(ae=(ee=Ir)&&ee.length,Mt=Vt=null,ct):ee},ct.padding=function(Ir){return arguments.length?(he=Ir,Mt=Vt=null,ct):he},ct.sortGroups=function(Ir){return arguments.length?(Ie=Ir,Mt=Vt=null,ct):Ie},ct.sortSubgroups=function(Ir){return arguments.length?(Ae=Ir,Mt=null,ct):Ae},ct.sortChords=function(Ir){return arguments.length?(Ue=Ir,Mt&&ir(),ct):Ue},ct.chords=function(){return Mt||He(),Mt},ct.groups=function(){return Vt||He(),Vt},ct},s.layout.force=function(){var ct={},Mt=s.dispatch("start","tick","end"),Vt,ee=[1,1],ae,he,Ie=.9,Ae=Ec,Ue=zv,He=-30,ir=Nf,Ir=.1,Dr=.64,Qr=[],sn=[],kr,Hr,Kr;function hn(qr){return function(Hn,ri,ci,ti){if(Hn.point!==qr){var li=Hn.cx-qr.x,hi=Hn.cy-qr.y,Bi=ti-ri,Mi=li*li+hi*hi;if(Bi*Bi/Dr<Mi){if(Mi<ir){var ki=Hn.charge/Mi;qr.px-=li*ki,qr.py-=hi*ki}return!0}if(Hn.point&&Mi&&Mi<ir){var ki=Hn.pointCharge/Mi;qr.px-=li*ki,qr.py-=hi*ki}}return!Hn.charge}}ct.tick=function(){if((he*=.99)<.005)return Vt=null,Mt.end({type:"end",alpha:he=0}),!0;var qr=Qr.length,Hn=sn.length,ri,ci,ti,li,hi,Bi,Mi,ki,ha;for(ci=0;ci<Hn;++ci)ti=sn[ci],li=ti.source,hi=ti.target,ki=hi.x-li.x,ha=hi.y-li.y,(Bi=ki*ki+ha*ha)&&(Bi=he*Hr[ci]*((Bi=Math.sqrt(Bi))-kr[ci])/Bi,ki*=Bi,ha*=Bi,hi.x-=ki*(Mi=li.weight+hi.weight?li.weight/(li.weight+hi.weight):.5),hi.y-=ha*Mi,li.x+=ki*(Mi=1-Mi),li.y+=ha*Mi);if((Mi=he*Ir)&&(ki=ee[0]/2,ha=ee[1]/2,ci=-1,Mi))for(;++ci<qr;)ti=Qr[ci],ti.x+=(ki-ti.x)*Mi,ti.y+=(ha-ti.y)*Mi;if(He)for(ja(ri=s.geom.quadtree(Qr),he,Kr),ci=-1;++ci<qr;)(ti=Qr[ci]).fixed||ri.visit(hn(ti));for(ci=-1;++ci<qr;)ti=Qr[ci],ti.fixed?(ti.x=ti.px,ti.y=ti.py):(ti.x-=(ti.px-(ti.px=ti.x))*Ie,ti.y-=(ti.py-(ti.py=ti.y))*Ie);Mt.tick({type:"tick",alpha:he})},ct.nodes=function(qr){return arguments.length?(Qr=qr,ct):Qr},ct.links=function(qr){return arguments.length?(sn=qr,ct):sn},ct.size=function(qr){return arguments.length?(ee=qr,ct):ee},ct.linkDistance=function(qr){return arguments.length?(Ae=typeof qr=="function"?qr:+qr,ct):Ae},ct.distance=ct.linkDistance,ct.linkStrength=function(qr){return arguments.length?(Ue=typeof qr=="function"?qr:+qr,ct):Ue},ct.friction=function(qr){return arguments.length?(Ie=+qr,ct):Ie},ct.charge=function(qr){return arguments.length?(He=typeof qr=="function"?qr:+qr,ct):He},ct.chargeDistance=function(qr){return arguments.length?(ir=qr*qr,ct):Math.sqrt(ir)},ct.gravity=function(qr){return arguments.length?(Ir=+qr,ct):Ir},ct.theta=function(qr){return arguments.length?(Dr=qr*qr,ct):Math.sqrt(Dr)},ct.alpha=function(qr){return arguments.length?(qr=+qr,he?qr>0?he=qr:(Vt.c=null,Vt.t=NaN,Vt=null,Mt.end({type:"end",alpha:he=0})):qr>0&&(Mt.start({type:"start",alpha:he=qr}),Vt=Pn(ct.tick)),ct):he},ct.start=function(){var qr,Hn=Qr.length,ri=sn.length,ci=ee[0],ti=ee[1],li,hi;for(qr=0;qr<Hn;++qr)(hi=Qr[qr]).index=qr,hi.weight=0;for(qr=0;qr<ri;++qr)hi=sn[qr],typeof hi.source=="number"&&(hi.source=Qr[hi.source]),typeof hi.target=="number"&&(hi.target=Qr[hi.target]),++hi.source.weight,++hi.target.weight;for(qr=0;qr<Hn;++qr)hi=Qr[qr],isNaN(hi.x)&&(hi.x=Bi("x",ci)),isNaN(hi.y)&&(hi.y=Bi("y",ti)),isNaN(hi.px)&&(hi.px=hi.x),isNaN(hi.py)&&(hi.py=hi.y);if(kr=[],typeof Ae=="function")for(qr=0;qr<ri;++qr)kr[qr]=+Ae.call(this,sn[qr],qr);else for(qr=0;qr<ri;++qr)kr[qr]=Ae;if(Hr=[],typeof Ue=="function")for(qr=0;qr<ri;++qr)Hr[qr]=+Ue.call(this,sn[qr],qr);else for(qr=0;qr<ri;++qr)Hr[qr]=Ue;if(Kr=[],typeof He=="function")for(qr=0;qr<Hn;++qr)Kr[qr]=+He.call(this,Qr[qr],qr);else for(qr=0;qr<Hn;++qr)Kr[qr]=He;function Bi(Mi,ki){if(!li){for(li=new Array(Hn),xa=0;xa<Hn;++xa)li[xa]=[];for(xa=0;xa<ri;++xa){var ha=sn[xa];li[ha.source.index].push(ha.target),li[ha.target.index].push(ha.source)}}for(var eo=li[qr],xa=-1,qn=eo.length,Ui;++xa<qn;)if(!isNaN(Ui=eo[xa][Mi]))return Ui;return Math.random()*ki}return ct.resume()},ct.resume=function(){return ct.alpha(.1)},ct.stop=function(){return ct.alpha(0)},ct.drag=function(){if(ae||(ae=s.behavior.drag().origin(V).on("dragstart.force",Us).on("drag.force",yn).on("dragend.force",Mc)),!arguments.length)return ae;this.on("mouseover.force",wu).on("mouseout.force",Ts).call(ae)};function yn(qr){qr.px=s.event.x,qr.py=s.event.y,ct.resume()}return s.rebind(ct,Mt,"on")};function Us(ct){ct.fixed|=2}function Mc(ct){ct.fixed&=-7}function wu(ct){ct.fixed|=4,ct.px=ct.x,ct.py=ct.y}function Ts(ct){ct.fixed&=-5}function ja(ct,Mt,Vt){var ee=0,ae=0;if(ct.charge=0,!ct.leaf)for(var he=ct.nodes,Ie=he.length,Ae=-1,Ue;++Ae<Ie;)Ue=he[Ae],Ue!=null&&(ja(Ue,Mt,Vt),ct.charge+=Ue.charge,ee+=Ue.charge*Ue.cx,ae+=Ue.charge*Ue.cy);if(ct.point){ct.leaf||(ct.point.x+=Math.random()-.5,ct.point.y+=Math.random()-.5);var He=Mt*Vt[ct.point.index];ct.charge+=ct.pointCharge=He,ee+=He*ct.point.x,ae+=He*ct.point.y}ct.cx=ee/ct.charge,ct.cy=ae/ct.charge}var Ec=20,zv=1,Nf=1/0;s.layout.hierarchy=function(){var ct=Vf,Mt=Uf,Vt=Su;function ee(ae){var he=[ae],Ie=[],Ae;for(ae.depth=0;(Ae=he.pop())!=null;)if(Ie.push(Ae),(He=Mt.call(ee,Ae,Ae.depth))&&(Ue=He.length)){for(var Ue,He,ir;--Ue>=0;)he.push(ir=He[Ue]),ir.parent=Ae,ir.depth=Ae.depth+1;Vt&&(Ae.value=0),Ae.children=He}else Vt&&(Ae.value=+Vt.call(ee,Ae,Ae.depth)||0),delete Ae.children;return ts(ae,function(Ir){var Dr,Qr;ct&&(Dr=Ir.children)&&Dr.sort(ct),Vt&&(Qr=Ir.parent)&&(Qr.value+=Ir.value)}),Ie}return ee.sort=function(ae){return arguments.length?(ct=ae,ee):ct},ee.children=function(ae){return arguments.length?(Mt=ae,ee):Mt},ee.value=function(ae){return arguments.length?(Vt=ae,ee):Vt},ee.revalue=function(ae){return Vt&&(Au(ae,function(he){he.children&&(he.value=0)}),ts(ae,function(he){var Ie;he.children||(he.value=+Vt.call(ee,he,he.depth)||0),(Ie=he.parent)&&(Ie.value+=he.value)})),ae},ee};function Tu(ct,Mt){return s.rebind(ct,Mt,"sort","children","value"),ct.nodes=ct,ct.links=Fv,ct}function Au(ct,Mt){for(var Vt=[ct];(ct=Vt.pop())!=null;)if(Mt(ct),(ae=ct.children)&&(ee=ae.length))for(var ee,ae;--ee>=0;)Vt.push(ae[ee])}function ts(ct,Mt){for(var Vt=[ct],ee=[];(ct=Vt.pop())!=null;)if(ee.push(ct),(Ie=ct.children)&&(he=Ie.length))for(var ae=-1,he,Ie;++ae<he;)Vt.push(Ie[ae]);for(;(ct=ee.pop())!=null;)Mt(ct)}function Uf(ct){return ct.children}function Su(ct){return ct.value}function Vf(ct,Mt){return Mt.value-ct.value}function Fv(ct){return s.merge(ct.map(function(Mt){return(Mt.children||[]).map(function(Vt){return{source:Mt,target:Vt}})}))}s.layout.partition=function(){var ct=s.layout.hierarchy(),Mt=[1,1];function Vt(he,Ie,Ae,Ue){var He=he.children;if(he.x=Ie,he.y=he.depth*Ue,he.dx=Ae,he.dy=Ue,He&&(Ir=He.length)){var ir=-1,Ir,Dr,Qr;for(Ae=he.value?Ae/he.value:0;++ir<Ir;)Vt(Dr=He[ir],Ie,Qr=Dr.value*Ae,Ue),Ie+=Qr}}function ee(he){var Ie=he.children,Ae=0;if(Ie&&(He=Ie.length))for(var Ue=-1,He;++Ue<He;)Ae=Math.max(Ae,ee(Ie[Ue]));return 1+Ae}function ae(he,Ie){var Ae=ct.call(this,he,Ie);return Vt(Ae[0],0,Mt[0],Mt[1]/ee(Ae[0])),Ae}return ae.size=function(he){return arguments.length?(Mt=he,ae):Mt},Tu(ae,ct)},s.layout.pie=function(){var ct=Number,Mt=bh,Vt=0,ee=xt,ae=0;function he(Ie){var Ae=Ie.length,Ue=Ie.map(function(hn,yn){return+ct.call(he,hn,yn)}),He=+(typeof Vt=="function"?Vt.apply(this,arguments):Vt),ir=(typeof ee=="function"?ee.apply(this,arguments):ee)-He,Ir=Math.min(Math.abs(ir)/Ae,+(typeof ae=="function"?ae.apply(this,arguments):ae)),Dr=Ir*(ir<0?-1:1),Qr=s.sum(Ue),sn=Qr?(ir-Ae*Dr)/Qr:0,kr=s.range(Ae),Hr=[],Kr;return Mt!=null&&kr.sort(Mt===bh?function(hn,yn){return Ue[yn]-Ue[hn]}:function(hn,yn){return Mt(Ie[hn],Ie[yn])}),kr.forEach(function(hn){Hr[hn]={data:Ie[hn],value:Kr=Ue[hn],startAngle:He,endAngle:He+=Kr*sn+Dr,padAngle:Ir}}),Hr}return he.value=function(Ie){return arguments.length?(ct=Ie,he):ct},he.sort=function(Ie){return arguments.length?(Mt=Ie,he):Mt},he.startAngle=function(Ie){return arguments.length?(Vt=Ie,he):Vt},he.endAngle=function(Ie){return arguments.length?(ee=Ie,he):ee},he.padAngle=function(Ie){return arguments.length?(ae=Ie,he):ae},he};var bh={};s.layout.stack=function(){var ct=V,Mt=ef,Vt=Gf,ee=Pc,ae=Cc,he=Lc;function Ie(Ae,Ue){if(!(sn=Ae.length))return Ae;var He=Ae.map(function(hn,yn){return ct.call(Ie,hn,yn)}),ir=He.map(function(hn){return hn.map(function(yn,qr){return[ae.call(Ie,yn,qr),he.call(Ie,yn,qr)]})}),Ir=Mt.call(Ie,ir,Ue);He=s.permute(He,Ir),ir=s.permute(ir,Ir);var Dr=Vt.call(Ie,ir,Ue),Qr=He[0].length,sn,kr,Hr,Kr;for(Hr=0;Hr<Qr;++Hr)for(ee.call(Ie,He[0][Hr],Kr=Dr[Hr],ir[0][Hr][1]),kr=1;kr<sn;++kr)ee.call(Ie,He[kr][Hr],Kr+=ir[kr-1][Hr][1],ir[kr][Hr][1]);return Ae}return Ie.values=function(Ae){return arguments.length?(ct=Ae,Ie):ct},Ie.order=function(Ae){return arguments.length?(Mt=typeof Ae=="function"?Ae:Mu.get(Ae)||ef,Ie):Mt},Ie.offset=function(Ae){return arguments.length?(Vt=typeof Ae=="function"?Ae:Hf.get(Ae)||Gf,Ie):Vt},Ie.x=function(Ae){return arguments.length?(ae=Ae,Ie):ae},Ie.y=function(Ae){return arguments.length?(he=Ae,Ie):he},Ie.out=function(Ae){return arguments.length?(ee=Ae,Ie):ee},Ie};function Cc(ct){return ct.x}function Lc(ct){return ct.y}function Pc(ct,Mt,Vt){ct.y0=Mt,ct.y=Vt}var Mu=s.map({"inside-out":function(ct){var Mt=ct.length,Vt,ee,ae=ct.map(Ea),he=ct.map(wh),Ie=s.range(Mt).sort(function(Ir,Dr){return ae[Ir]-ae[Dr]}),Ae=0,Ue=0,He=[],ir=[];for(Vt=0;Vt<Mt;++Vt)ee=Ie[Vt],Ae<Ue?(Ae+=he[ee],He.push(ee)):(Ue+=he[ee],ir.push(ee));return ir.reverse().concat(He)},reverse:function(ct){return s.range(ct.length).reverse()},default:ef}),Hf=s.map({silhouette:function(ct){var Mt=ct.length,Vt=ct[0].length,ee=[],ae=0,he,Ie,Ae,Ue=[];for(Ie=0;Ie<Vt;++Ie){for(he=0,Ae=0;he<Mt;he++)Ae+=ct[he][Ie][1];Ae>ae&&(ae=Ae),ee.push(Ae)}for(Ie=0;Ie<Vt;++Ie)Ue[Ie]=(ae-ee[Ie])/2;return Ue},wiggle:function(ct){var Mt=ct.length,Vt=ct[0],ee=Vt.length,ae,he,Ie,Ae,Ue,He,ir,Ir,Dr,Qr=[];for(Qr[0]=Ir=Dr=0,he=1;he<ee;++he){for(ae=0,Ae=0;ae<Mt;++ae)Ae+=ct[ae][he][1];for(ae=0,Ue=0,ir=Vt[he][0]-Vt[he-1][0];ae<Mt;++ae){for(Ie=0,He=(ct[ae][he][1]-ct[ae][he-1][1])/(2*ir);Ie<ae;++Ie)He+=(ct[Ie][he][1]-ct[Ie][he-1][1])/ir;Ue+=He*ct[ae][he][1]}Qr[he]=Ir-=Ae?Ue/Ae*ir:0,Ir<Dr&&(Dr=Ir)}for(he=0;he<ee;++he)Qr[he]-=Dr;return Qr},expand:function(ct){var Mt=ct.length,Vt=ct[0].length,ee=1/Mt,ae,he,Ie,Ae=[];for(he=0;he<Vt;++he){for(ae=0,Ie=0;ae<Mt;ae++)Ie+=ct[ae][he][1];if(Ie)for(ae=0;ae<Mt;ae++)ct[ae][he][1]/=Ie;else for(ae=0;ae<Mt;ae++)ct[ae][he][1]=ee}for(he=0;he<Vt;++he)Ae[he]=0;return Ae},zero:Gf});function ef(ct){return s.range(ct.length)}function Gf(ct){for(var Mt=-1,Vt=ct[0].length,ee=[];++Mt<Vt;)ee[Mt]=0;return ee}function Ea(ct){for(var Mt=1,Vt=0,ee=ct[0][1],ae,he=ct.length;Mt<he;++Mt)(ae=ct[Mt][1])>ee&&(Vt=Mt,ee=ae);return Vt}function wh(ct){return ct.reduce(As,0)}function As(ct,Mt){return ct+Mt[1]}s.layout.histogram=function(){var ct=!0,Mt=Number,Vt=jl,ee=Th;function ae(he,Dr){for(var Ae=[],Ue=he.map(Mt,this),He=Vt.call(this,Ue,Dr),ir=ee.call(this,He,Ue,Dr),Ir,Dr=-1,Qr=Ue.length,sn=ir.length-1,kr=ct?1:1/Qr,Hr;++Dr<sn;)Ir=Ae[Dr]=[],Ir.dx=ir[Dr+1]-(Ir.x=ir[Dr]),Ir.y=0;if(sn>0)for(Dr=-1;++Dr<Qr;)Hr=Ue[Dr],Hr>=He[0]&&Hr<=He[1]&&(Ir=Ae[s.bisect(ir,Hr,1,sn)-1],Ir.y+=kr,Ir.push(he[Dr]));return Ae}return ae.value=function(he){return arguments.length?(Mt=he,ae):Mt},ae.range=function(he){return arguments.length?(Vt=Or(he),ae):Vt},ae.bins=function(he){return arguments.length?(ee=typeof he=="number"?function(Ie){return Ic(Ie,he)}:Or(he),ae):ee},ae.frequency=function(he){return arguments.length?(ct=!!he,ae):ct},ae};function Th(ct,Mt){return Ic(ct,Math.ceil(Math.log(Mt.length)/Math.LN2+1))}function Ic(ct,Mt){for(var Vt=-1,ee=+ct[0],ae=(ct[1]-ee)/Mt,he=[];++Vt<=Mt;)he[Vt]=ae*Vt+ee;return he}function jl(ct){return[s.min(ct),s.max(ct)]}s.layout.pack=function(){var ct=s.layout.hierarchy().sort(xl),Mt=0,Vt=[1,1],ee;function ae(he,Ie){var Ae=ct.call(this,he,Ie),Ue=Ae[0],He=Vt[0],ir=Vt[1],Ir=ee==null?Math.sqrt:typeof ee=="function"?ee:function(){return ee};if(Ue.x=Ue.y=0,ts(Ue,function(Qr){Qr.r=+Ir(Qr.value)}),ts(Ue,Ss),Mt){var Dr=Mt*(ee?1:Math.max(2*Ue.r/He,2*Ue.r/ir))/2;ts(Ue,function(Qr){Qr.r+=Dr}),ts(Ue,Ss),ts(Ue,function(Qr){Qr.r-=Dr})}return bl(Ue,He/2,ir/2,ee?1:1/Math.max(2*Ue.r/He,2*Ue.r/ir)),Ae}return ae.size=function(he){return arguments.length?(Vt=he,ae):Vt},ae.radius=function(he){return arguments.length?(ee=he==null||typeof he=="function"?he:+he,ae):ee},ae.padding=function(he){return arguments.length?(Mt=+he,ae):Mt},Tu(ae,ct)};function xl(ct,Mt){return ct.value-Mt.value}function Wf(ct,Mt){var Vt=ct._pack_next;ct._pack_next=Mt,Mt._pack_prev=ct,Mt._pack_next=Vt,Vt._pack_prev=Mt}function $a(ct,Mt){ct._pack_next=Mt,Mt._pack_prev=ct}function rf(ct,Mt){var Vt=Mt.x-ct.x,ee=Mt.y-ct.y,ae=ct.r+Mt.r;return .999*ae*ae>Vt*Vt+ee*ee}function Ss(ct){if(!(Mt=ct.children)||!(Dr=Mt.length))return;var Mt,Vt=1/0,ee=-1/0,ae=1/0,he=-1/0,Ie,Ae,Ue,He,ir,Ir,Dr;function Qr(qr){Vt=Math.min(qr.x-qr.r,Vt),ee=Math.max(qr.x+qr.r,ee),ae=Math.min(qr.y-qr.r,ae),he=Math.max(qr.y+qr.r,he)}if(Mt.forEach(tl),Ie=Mt[0],Ie.x=-Ie.r,Ie.y=0,Qr(Ie),Dr>1&&(Ae=Mt[1],Ae.x=Ae.r,Ae.y=0,Qr(Ae),Dr>2))for(Ue=Mt[2],Ms(Ie,Ae,Ue),Qr(Ue),Wf(Ie,Ue),Ie._pack_prev=Ue,Wf(Ue,Ae),Ae=Ie._pack_next,He=3;He<Dr;He++){Ms(Ie,Ae,Ue=Mt[He]);var sn=0,kr=1,Hr=1;for(ir=Ae._pack_next;ir!==Ae;ir=ir._pack_next,kr++)if(rf(ir,Ue)){sn=1;break}if(sn==1)for(Ir=Ie._pack_prev;Ir!==ir._pack_prev&&!rf(Ir,Ue);Ir=Ir._pack_prev,Hr++);sn?(kr<Hr||kr==Hr&&Ae.r<Ie.r?$a(Ie,Ae=ir):$a(Ie=Ir,Ae),He--):(Wf(Ie,Ue),Ae=Ue,Qr(Ue))}var Kr=(Vt+ee)/2,hn=(ae+he)/2,yn=0;for(He=0;He<Dr;He++)Ue=Mt[He],Ue.x-=Kr,Ue.y-=hn,yn=Math.max(yn,Ue.r+Math.sqrt(Ue.x*Ue.x+Ue.y*Ue.y));ct.r=yn,Mt.forEach(Xl)}function tl(ct){ct._pack_next=ct._pack_prev=ct}function Xl(ct){delete ct._pack_next,delete ct._pack_prev}function bl(ct,Mt,Vt,ee){var ae=ct.children;if(ct.x=Mt+=ee*ct.x,ct.y=Vt+=ee*ct.y,ct.r*=ee,ae)for(var he=-1,Ie=ae.length;++he<Ie;)bl(ae[he],Mt,Vt,ee)}function Ms(ct,Mt,Vt){var ee=ct.r+Vt.r,ae=Mt.x-ct.x,he=Mt.y-ct.y;if(ee&&(ae||he)){var Ie=Mt.r+Vt.r,Ae=ae*ae+he*he;Ie*=Ie,ee*=ee;var Ue=.5+(ee-Ie)/(2*Ae),He=Math.sqrt(Math.max(0,2*Ie*(ee+Ae)-(ee-=Ae)*ee-Ie*Ie))/(2*Ae);Vt.x=ct.x+Ue*ae+He*he,Vt.y=ct.y+Ue*he-He*ae}else Vt.x=ct.x+ee,Vt.y=ct.y}s.layout.tree=function(){var ct=s.layout.hierarchy().sort(null).value(null),Mt=el,Vt=[1,1],ee=null;function ae(ir,Ir){var Dr=ct.call(this,ir,Ir),Qr=Dr[0],sn=he(Qr);if(ts(sn,Ie),sn.parent.m=-sn.z,Au(sn,Ae),ee)Au(Qr,He);else{var kr=Qr,Hr=Qr,Kr=Qr;Au(Qr,function(Hn){Hn.x<kr.x&&(kr=Hn),Hn.x>Hr.x&&(Hr=Hn),Hn.depth>Kr.depth&&(Kr=Hn)});var hn=Mt(kr,Hr)/2-kr.x,yn=Vt[0]/(Hr.x+Mt(Hr,kr)/2+hn),qr=Vt[1]/(Kr.depth||1);Au(Qr,function(Hn){Hn.x=(Hn.x+hn)*yn,Hn.y=Hn.depth*qr})}return Dr}function he(ir){for(var Ir={A:null,children:[ir]},Dr=[Ir],Qr;(Qr=Dr.pop())!=null;)for(var sn=Qr.children,kr,Hr=0,Kr=sn.length;Hr<Kr;++Hr)Dr.push((sn[Hr]=kr={_:sn[Hr],parent:Qr,children:(kr=sn[Hr].children)&&kr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Hr}).a=kr);return Ir.children[0]}function Ie(ir){var Ir=ir.children,Dr=ir.parent.children,Qr=ir.i?Dr[ir.i-1]:null;if(Ir.length){Ov(ir);var sn=(Ir[0].z+Ir[Ir.length-1].z)/2;Qr?(ir.z=Qr.z+Mt(ir._,Qr._),ir.m=ir.z-sn):ir.z=sn}else Qr&&(ir.z=Qr.z+Mt(ir._,Qr._));ir.parent.A=Ue(ir,Qr,ir.parent.A||Dr[0])}function Ae(ir){ir._.x=ir.z+ir.parent.m,ir.m+=ir.parent.m}function Ue(ir,Ir,Dr){if(Ir){for(var Qr=ir,sn=ir,kr=Ir,Hr=Qr.parent.children[0],Kr=Qr.m,hn=sn.m,yn=kr.m,qr=Hr.m,Hn;kr=vs(kr),Qr=Es(Qr),kr&&Qr;)Hr=Es(Hr),sn=vs(sn),sn.a=ir,Hn=kr.z+yn-Qr.z-Kr+Mt(kr._,Qr._),Hn>0&&(nf(Bv(kr,ir,Dr),ir,Hn),Kr+=Hn,hn+=Hn),yn+=kr.m,Kr+=Qr.m,qr+=Hr.m,hn+=sn.m;kr&&!vs(sn)&&(sn.t=kr,sn.m+=yn-hn),Qr&&!Es(Hr)&&(Hr.t=Qr,Hr.m+=Kr-qr,Dr=ir)}return Dr}function He(ir){ir.x*=Vt[0],ir.y=ir.depth*Vt[1]}return ae.separation=function(ir){return arguments.length?(Mt=ir,ae):Mt},ae.size=function(ir){return arguments.length?(ee=(Vt=ir)==null?He:null,ae):ee?null:Vt},ae.nodeSize=function(ir){return arguments.length?(ee=(Vt=ir)==null?null:He,ae):ee?Vt:null},Tu(ae,ct)};function el(ct,Mt){return ct.parent==Mt.parent?1:2}function Es(ct){var Mt=ct.children;return Mt.length?Mt[0]:ct.t}function vs(ct){var Mt=ct.children,Vt;return(Vt=Mt.length)?Mt[Vt-1]:ct.t}function nf(ct,Mt,Vt){var ee=Vt/(Mt.i-ct.i);Mt.c-=ee,Mt.s+=Vt,ct.c+=ee,Mt.z+=Vt,Mt.m+=Vt}function Ov(ct){for(var Mt=0,Vt=0,ee=ct.children,ae=ee.length,he;--ae>=0;)he=ee[ae],he.z+=Mt,he.m+=Mt,Mt+=he.s+(Vt+=he.c)}function Bv(ct,Mt,Vt){return ct.a.parent===Mt.parent?ct.a:Vt}s.layout.cluster=function(){var ct=s.layout.hierarchy().sort(null).value(null),Mt=el,Vt=[1,1],ee=!1;function ae(he,Ie){var Ae=ct.call(this,he,Ie),Ue=Ae[0],He,ir=0;ts(Ue,function(kr){var Hr=kr.children;Hr&&Hr.length?(kr.x=Uv(Hr),kr.y=Nv(Hr)):(kr.x=He?ir+=Mt(kr,He):0,kr.y=0,He=kr)});var Ir=Dc(Ue),Dr=Ah(Ue),Qr=Ir.x-Mt(Ir,Dr)/2,sn=Dr.x+Mt(Dr,Ir)/2;return ts(Ue,ee?function(kr){kr.x=(kr.x-Ue.x)*Vt[0],kr.y=(Ue.y-kr.y)*Vt[1]}:function(kr){kr.x=(kr.x-Qr)/(sn-Qr)*Vt[0],kr.y=(1-(Ue.y?kr.y/Ue.y:1))*Vt[1]}),Ae}return ae.separation=function(he){return arguments.length?(Mt=he,ae):Mt},ae.size=function(he){return arguments.length?(ee=(Vt=he)==null,ae):ee?null:Vt},ae.nodeSize=function(he){return arguments.length?(ee=(Vt=he)!=null,ae):ee?Vt:null},Tu(ae,ct)};function Nv(ct){return 1+s.max(ct,function(Mt){return Mt.y})}function Uv(ct){return ct.reduce(function(Mt,Vt){return Mt+Vt.x},0)/ct.length}function Dc(ct){var Mt=ct.children;return Mt&&Mt.length?Dc(Mt[0]):ct}function Ah(ct){var Mt=ct.children,Vt;return Mt&&(Vt=Mt.length)?Ah(Mt[Vt-1]):ct}s.layout.treemap=function(){var ct=s.layout.hierarchy(),Mt=Math.round,Vt=[1,1],ee=null,ae=Eu,he=!1,Ie,Ae="squarify",Ue=.5*(1+Math.sqrt(5));function He(kr,Hr){for(var Kr=-1,hn=kr.length,yn,qr;++Kr<hn;)qr=(yn=kr[Kr]).value*(Hr<0?0:Hr),yn.area=isNaN(qr)||qr<=0?0:qr}function ir(kr){var Hr=kr.children;if(Hr&&Hr.length){var Kr=ae(kr),hn=[],yn=Hr.slice(),qr,Hn=1/0,ri,ci=Ae==="slice"?Kr.dx:Ae==="dice"?Kr.dy:Ae==="slice-dice"?kr.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),ti;for(He(yn,Kr.dx*Kr.dy/kr.value),hn.area=0;(ti=yn.length)>0;)hn.push(qr=yn[ti-1]),hn.area+=qr.area,Ae!=="squarify"||(ri=Dr(hn,ci))<=Hn?(yn.pop(),Hn=ri):(hn.area-=hn.pop().area,Qr(hn,ci,Kr,!1),ci=Math.min(Kr.dx,Kr.dy),hn.length=hn.area=0,Hn=1/0);hn.length&&(Qr(hn,ci,Kr,!0),hn.length=hn.area=0),Hr.forEach(ir)}}function Ir(kr){var Hr=kr.children;if(Hr&&Hr.length){var Kr=ae(kr),hn=Hr.slice(),yn,qr=[];for(He(hn,Kr.dx*Kr.dy/kr.value),qr.area=0;yn=hn.pop();)qr.push(yn),qr.area+=yn.area,yn.z!=null&&(Qr(qr,yn.z?Kr.dx:Kr.dy,Kr,!hn.length),qr.length=qr.area=0);Hr.forEach(Ir)}}function Dr(kr,Hr){for(var Kr=kr.area,hn,yn=0,qr=1/0,Hn=-1,ri=kr.length;++Hn<ri;)(hn=kr[Hn].area)&&(hn<qr&&(qr=hn),hn>yn&&(yn=hn));return Kr*=Kr,Hr*=Hr,Kr?Math.max(Hr*yn*Ue/Kr,Kr/(Hr*qr*Ue)):1/0}function Qr(kr,Hr,Kr,hn){var yn=-1,qr=kr.length,Hn=Kr.x,ri=Kr.y,ci=Hr?Mt(kr.area/Hr):0,ti;if(Hr==Kr.dx){for((hn||ci>Kr.dy)&&(ci=Kr.dy);++yn<qr;)ti=kr[yn],ti.x=Hn,ti.y=ri,ti.dy=ci,Hn+=ti.dx=Math.min(Kr.x+Kr.dx-Hn,ci?Mt(ti.area/ci):0);ti.z=!0,ti.dx+=Kr.x+Kr.dx-Hn,Kr.y+=ci,Kr.dy-=ci}else{for((hn||ci>Kr.dx)&&(ci=Kr.dx);++yn<qr;)ti=kr[yn],ti.x=Hn,ti.y=ri,ti.dx=ci,ri+=ti.dy=Math.min(Kr.y+Kr.dy-ri,ci?Mt(ti.area/ci):0);ti.z=!1,ti.dy+=Kr.y+Kr.dy-ri,Kr.x+=ci,Kr.dx-=ci}}function sn(kr){var Hr=Ie||ct(kr),Kr=Hr[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=Vt[0],Kr.dy=Vt[1]):Kr.dx=Kr.dy=0,Ie&&ct.revalue(Kr),He([Kr],Kr.dx*Kr.dy/Kr.value),(Ie?Ir:ir)(Kr),he&&(Ie=Hr),Hr}return sn.size=function(kr){return arguments.length?(Vt=kr,sn):Vt},sn.padding=function(kr){if(!arguments.length)return ee;function Hr(yn){var qr=kr.call(sn,yn,yn.depth);return qr==null?Eu(yn):bo(yn,typeof qr=="number"?[qr,qr,qr,qr]:qr)}function Kr(yn){return bo(yn,kr)}var hn;return ae=(ee=kr)==null?Eu:(hn=typeof kr)=="function"?Hr:(hn==="number"&&(kr=[kr,kr,kr,kr]),Kr),sn},sn.round=function(kr){return arguments.length?(Mt=kr?Math.round:Number,sn):Mt!=Number},sn.sticky=function(kr){return arguments.length?(he=kr,Ie=null,sn):he},sn.ratio=function(kr){return arguments.length?(Ue=kr,sn):Ue},sn.mode=function(kr){return arguments.length?(Ae=kr+"",sn):Ae},Tu(sn,ct)};function Eu(ct){return{x:ct.x,y:ct.y,dx:ct.dx,dy:ct.dy}}function bo(ct,Mt){var Vt=ct.x+Mt[3],ee=ct.y+Mt[0],ae=ct.dx-Mt[1]-Mt[3],he=ct.dy-Mt[0]-Mt[2];return ae<0&&(Vt+=ae/2,ae=0),he<0&&(ee+=he/2,he=0),{x:Vt,y:ee,dx:ae,dy:he}}s.random={normal:function(ct,Mt){var Vt=arguments.length;return Vt<2&&(Mt=1),Vt<1&&(ct=0),function(){var ee,ae,he;do ee=Math.random()*2-1,ae=Math.random()*2-1,he=ee*ee+ae*ae;while(!he||he>1);return ct+Mt*ee*Math.sqrt(-2*Math.log(he)/he)}},logNormal:function(){var ct=s.random.normal.apply(s,arguments);return function(){return Math.exp(ct())}},bates:function(ct){var Mt=s.random.irwinHall(ct);return function(){return Mt()/ct}},irwinHall:function(ct){return function(){for(var Mt=0,Vt=0;Vt<ct;Vt++)Mt+=Math.random();return Mt}}},s.scale={};function ss(ct){var Mt=ct[0],Vt=ct[ct.length-1];return Mt<Vt?[Mt,Vt]:[Vt,Mt]}function Cu(ct){return ct.rangeExtent?ct.rangeExtent():ss(ct.range())}function Sh(ct,Mt,Vt,ee){var ae=Vt(ct[0],ct[1]),he=ee(Mt[0],Mt[1]);return function(Ie){return he(ae(Ie))}}function af(ct,Mt){var Vt=0,ee=ct.length-1,ae=ct[Vt],he=ct[ee],Ie;return he<ae&&(Ie=Vt,Vt=ee,ee=Ie,Ie=ae,ae=he,he=Ie),ct[Vt]=Mt.floor(ae),ct[ee]=Mt.ceil(he),ct}function rl(ct){return ct?{floor:function(Mt){return Math.floor(Mt/ct)*ct},ceil:function(Mt){return Math.ceil(Mt/ct)*ct}}:Vv}var Vv={floor:V,ceil:V};function Mh(ct,Mt,Vt,ee){var ae=[],he=[],Ie=0,Ae=Math.min(ct.length,Mt.length)-1;for(ct[Ae]<ct[0]&&(ct=ct.slice().reverse(),Mt=Mt.slice().reverse());++Ie<=Ae;)ae.push(Vt(ct[Ie-1],ct[Ie])),he.push(ee(Mt[Ie-1],Mt[Ie]));return function(Ue){var He=s.bisect(ct,Ue,1,Ae)-1;return he[He](ae[He](Ue))}}s.scale.linear=function(){return Eh([0,1],[0,1],Eo,!1)};function Eh(ct,Mt,Vt,ee){var ae,he;function Ie(){var Ue=Math.min(ct.length,Mt.length)>2?Mh:Sh,He=ee?bu:ws;return ae=Ue(ct,Mt,He,Vt),he=Ue(Mt,ct,He,Eo),Ae}function Ae(Ue){return ae(Ue)}return Ae.invert=function(Ue){return he(Ue)},Ae.domain=function(Ue){return arguments.length?(ct=Ue.map(Number),Ie()):ct},Ae.range=function(Ue){return arguments.length?(Mt=Ue,Ie()):Mt},Ae.rangeRound=function(Ue){return Ae.range(Ue).interpolate(gh)},Ae.clamp=function(Ue){return arguments.length?(ee=Ue,Ie()):ee},Ae.interpolate=function(Ue){return arguments.length?(Vt=Ue,Ie()):Vt},Ae.ticks=function(Ue){return Cs(ct,Ue)},Ae.tickFormat=function(Ue,He){return d3_scale_linearTickFormat(ct,Ue,He)},Ae.nice=function(Ue){return Ch(ct,Ue),Ie()},Ae.copy=function(){return Eh(ct,Mt,Vt,ee)},Ie()}function Rc(ct,Mt){return s.rebind(ct,Mt,"range","rangeRound","interpolate","clamp")}function Ch(ct,Mt){return af(ct,rl(jo(ct,Mt)[2])),af(ct,rl(jo(ct,Mt)[2])),ct}function jo(ct,Mt){Mt==null&&(Mt=10);var Vt=ss(ct),ee=Vt[1]-Vt[0],ae=Math.pow(10,Math.floor(Math.log(ee/Mt)/Math.LN10)),he=Mt/ee*ae;return he<=.15?ae*=10:he<=.35?ae*=5:he<=.75&&(ae*=2),Vt[0]=Math.ceil(Vt[0]/ae)*ae,Vt[1]=Math.floor(Vt[1]/ae)*ae+ae*.5,Vt[2]=ae,Vt}function Cs(ct,Mt){return s.range.apply(s,jo(ct,Mt))}s.scale.log=function(){return wl(s.scale.linear().domain([0,1]),10,!0,[1,10])};function wl(ct,Mt,Vt,ee){function ae(Ae){return(Vt?Math.log(Ae<0?0:Ae):-Math.log(Ae>0?0:-Ae))/Math.log(Mt)}function he(Ae){return Vt?Math.pow(Mt,Ae):-Math.pow(Mt,-Ae)}function Ie(Ae){return ct(ae(Ae))}return Ie.invert=function(Ae){return he(ct.invert(Ae))},Ie.domain=function(Ae){return arguments.length?(Vt=Ae[0]>=0,ct.domain((ee=Ae.map(Number)).map(ae)),Ie):ee},Ie.base=function(Ae){return arguments.length?(Mt=+Ae,ct.domain(ee.map(ae)),Ie):Mt},Ie.nice=function(){var Ae=af(ee.map(ae),Vt?Math:Lu);return ct.domain(Ae),ee=Ae.map(he),Ie},Ie.ticks=function(){var Ae=ss(ee),Ue=[],He=Ae[0],ir=Ae[1],Ir=Math.floor(ae(He)),Dr=Math.ceil(ae(ir)),Qr=Mt%1?2:Mt;if(isFinite(Dr-Ir)){if(Vt){for(;Ir<Dr;Ir++)for(var sn=1;sn<Qr;sn++)Ue.push(he(Ir)*sn);Ue.push(he(Ir))}else for(Ue.push(he(Ir));Ir++<Dr;)for(var sn=Qr-1;sn>0;sn--)Ue.push(he(Ir)*sn);for(Ir=0;Ue[Ir]<He;Ir++);for(Dr=Ue.length;Ue[Dr-1]>ir;Dr--);Ue=Ue.slice(Ir,Dr)}return Ue},Ie.copy=function(){return wl(ct.copy(),Mt,Vt,ee)},Rc(Ie,ct)}var Lu={floor:function(ct){return-Math.ceil(-ct)},ceil:function(ct){return-Math.floor(-ct)}};s.scale.pow=function(){return Yf(s.scale.linear(),1,[0,1])};function Yf(ct,Mt,Vt){var ee=Zl(Mt),ae=Zl(1/Mt);function he(Ie){return ct(ee(Ie))}return he.invert=function(Ie){return ae(ct.invert(Ie))},he.domain=function(Ie){return arguments.length?(ct.domain((Vt=Ie.map(Number)).map(ee)),he):Vt},he.ticks=function(Ie){return Cs(Vt,Ie)},he.tickFormat=function(Ie,Ae){return d3_scale_linearTickFormat(Vt,Ie,Ae)},he.nice=function(Ie){return he.domain(Ch(Vt,Ie))},he.exponent=function(Ie){return arguments.length?(ee=Zl(Mt=Ie),ae=Zl(1/Mt),ct.domain(Vt.map(ee)),he):Mt},he.copy=function(){return Yf(ct.copy(),Mt,Vt)},Rc(he,ct)}function Zl(ct){return function(Mt){return Mt<0?-Math.pow(-Mt,ct):Math.pow(Mt,ct)}}s.scale.sqrt=function(){return s.scale.pow().exponent(.5)},s.scale.ordinal=function(){return Kl([],{t:"range",a:[[]]})};function Kl(ct,Mt){var Vt,ee,ae;function he(Ae){return ee[((Vt.get(Ae)||(Mt.t==="range"?Vt.set(Ae,ct.push(Ae)):NaN))-1)%ee.length]}function Ie(Ae,Ue){return s.range(ct.length).map(function(He){return Ae+Ue*He})}return he.domain=function(Ae){if(!arguments.length)return ct;ct=[],Vt=new L;for(var Ue=-1,He=Ae.length,ir;++Ue<He;)Vt.has(ir=Ae[Ue])||Vt.set(ir,ct.push(ir));return he[Mt.t].apply(he,Mt.a)},he.range=function(Ae){return arguments.length?(ee=Ae,ae=0,Mt={t:"range",a:arguments},he):ee},he.rangePoints=function(Ae,Ue){arguments.length<2&&(Ue=0);var He=Ae[0],ir=Ae[1],Ir=ct.length<2?(He=(He+ir)/2,0):(ir-He)/(ct.length-1+Ue);return ee=Ie(He+Ir*Ue/2,Ir),ae=0,Mt={t:"rangePoints",a:arguments},he},he.rangeRoundPoints=function(Ae,Ue){arguments.length<2&&(Ue=0);var He=Ae[0],ir=Ae[1],Ir=ct.length<2?(He=ir=Math.round((He+ir)/2),0):(ir-He)/(ct.length-1+Ue)|0;return ee=Ie(He+Math.round(Ir*Ue/2+(ir-He-(ct.length-1+Ue)*Ir)/2),Ir),ae=0,Mt={t:"rangeRoundPoints",a:arguments},he},he.rangeBands=function(Ae,Ue,He){arguments.length<2&&(Ue=0),arguments.length<3&&(He=Ue);var ir=Ae[1]<Ae[0],Ir=Ae[ir-0],Dr=Ae[1-ir],Qr=(Dr-Ir)/(ct.length-Ue+2*He);return ee=Ie(Ir+Qr*He,Qr),ir&&ee.reverse(),ae=Qr*(1-Ue),Mt={t:"rangeBands",a:arguments},he},he.rangeRoundBands=function(Ae,Ue,He){arguments.length<2&&(Ue=0),arguments.length<3&&(He=Ue);var ir=Ae[1]<Ae[0],Ir=Ae[ir-0],Dr=Ae[1-ir],Qr=Math.floor((Dr-Ir)/(ct.length-Ue+2*He));return ee=Ie(Ir+Math.round((Dr-Ir-(ct.length-Ue)*Qr)/2),Qr),ir&&ee.reverse(),ae=Math.round(Qr*(1-Ue)),Mt={t:"rangeRoundBands",a:arguments},he},he.rangeBand=function(){return ae},he.rangeExtent=function(){return ss(Mt.a[0])},he.copy=function(){return Kl(ct,Mt)},he.domain(ct)}s.scale.category10=function(){return s.scale.ordinal().range(Lh)},s.scale.category20=function(){return s.scale.ordinal().range(nl)},s.scale.category20b=function(){return s.scale.ordinal().range(Pu)},s.scale.category20c=function(){return s.scale.ordinal().range(Tl)};var Lh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Pe),nl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Pe),Pu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Pe),Tl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Pe);s.scale.quantile=function(){return il([],[])};function il(ct,Mt){var Vt;function ee(){var he=0,Ie=Mt.length;for(Vt=[];++he<Ie;)Vt[he-1]=s.quantile(ct,he/Ie);return ae}function ae(he){if(!isNaN(he=+he))return Mt[s.bisect(Vt,he)]}return ae.domain=function(he){return arguments.length?(ct=he.map(m).filter(v).sort(c),ee()):ct},ae.range=function(he){return arguments.length?(Mt=he,ee()):Mt},ae.quantiles=function(){return Vt},ae.invertExtent=function(he){return he=Mt.indexOf(he),he<0?[NaN,NaN]:[he>0?Vt[he-1]:ct[0],he<Vt.length?Vt[he]:ct[ct.length-1]]},ae.copy=function(){return il(ct,Mt)},ee()}s.scale.quantize=function(){return of(0,1,[0,1])};function of(ct,Mt,Vt){var ee,ae;function he(Ae){return Vt[Math.max(0,Math.min(ae,Math.floor(ee*(Ae-ct))))]}function Ie(){return ee=Vt.length/(Mt-ct),ae=Vt.length-1,he}return he.domain=function(Ae){return arguments.length?(ct=+Ae[0],Mt=+Ae[Ae.length-1],Ie()):[ct,Mt]},he.range=function(Ae){return arguments.length?(Vt=Ae,Ie()):Vt},he.invertExtent=function(Ae){return Ae=Vt.indexOf(Ae),Ae=Ae<0?NaN:Ae/ee+ct,[Ae,Ae+1/ee]},he.copy=function(){return of(ct,Mt,Vt)},Ie()}s.scale.threshold=function(){return Iu([.5],[0,1])};function Iu(ct,Mt){function Vt(ee){if(ee<=ee)return Mt[s.bisect(ct,ee)]}return Vt.domain=function(ee){return arguments.length?(ct=ee,Vt):ct},Vt.range=function(ee){return arguments.length?(Mt=ee,Vt):Mt},Vt.invertExtent=function(ee){return ee=Mt.indexOf(ee),[ct[ee-1],ct[ee]]},Vt.copy=function(){return Iu(ct,Mt)},Vt}s.scale.identity=function(){return Ta([0,1])};function Ta(ct){function Mt(Vt){return+Vt}return Mt.invert=Mt,Mt.domain=Mt.range=function(Vt){return arguments.length?(ct=Vt.map(Mt),Mt):ct},Mt.ticks=function(Vt){return Cs(ct,Vt)},Mt.tickFormat=function(Vt,ee){return d3_scale_linearTickFormat(ct,Vt,ee)},Mt.copy=function(){return Ta(ct)},Mt}s.svg={};function Du(){return 0}s.svg.arc=function(){var ct=Ph,Mt=Ru,Vt=Du,ee=jf,ae=sf,he=Xf,Ie=_c;function Ae(){var He=Math.max(0,+ct.apply(this,arguments)),ir=Math.max(0,+Mt.apply(this,arguments)),Ir=ae.apply(this,arguments)-jt,Dr=he.apply(this,arguments)-jt,Qr=Math.abs(Dr-Ir),sn=Ir>Dr?0:1;if(ir<He&&(kr=ir,ir=He,He=kr),Qr>=Ot)return Ue(ir,sn)+(He?Ue(He,1-sn):"")+"Z";var kr,Hr,Kr,hn,yn=0,qr=0,Hn,ri,ci,ti,li,hi,Bi,Mi,ki=[];if((hn=(+Ie.apply(this,arguments)||0)/2)&&(Kr=ee===jf?Math.sqrt(He*He+ir*ir):+ee.apply(this,arguments),sn||(qr*=-1),ir&&(qr=je(Kr/ir*Math.sin(hn))),He&&(yn=je(Kr/He*Math.sin(hn)))),ir){Hn=ir*Math.cos(Ir+qr),ri=ir*Math.sin(Ir+qr),ci=ir*Math.cos(Dr-qr),ti=ir*Math.sin(Dr-qr);var ha=Math.abs(Dr-Ir-2*qr)<=dt?0:1;if(qr&&lf(Hn,ri,ci,ti)===sn^ha){var eo=(Ir+Dr)/2;Hn=ir*Math.cos(eo),ri=ir*Math.sin(eo),ci=ti=null}}else Hn=ri=0;if(He){li=He*Math.cos(Dr-yn),hi=He*Math.sin(Dr-yn),Bi=He*Math.cos(Ir+yn),Mi=He*Math.sin(Ir+yn);var xa=Math.abs(Ir-Dr+2*yn)<=dt?0:1;if(yn&&lf(li,hi,Bi,Mi)===1-sn^xa){var qn=(Ir+Dr)/2;li=He*Math.cos(qn),hi=He*Math.sin(qn),Bi=Mi=null}}else li=hi=0;if(Qr>Ht&&(kr=Math.min(Math.abs(ir-He)/2,+Vt.apply(this,arguments)))>.001){Hr=He<ir^sn?0:1;var Ui=kr,Ai=kr;if(Qr<dt){var Xi=Bi==null?[li,hi]:ci==null?[Hn,ri]:ln([Hn,ri],[Bi,Mi],[ci,ti],[li,hi]),Ra=Hn-Xi[0],va=ri-Xi[1],wo=ci-Xi[0],To=ti-Xi[1],Co=1/Math.sin(Math.acos((Ra*wo+va*To)/(Math.sqrt(Ra*Ra+va*va)*Math.sqrt(wo*wo+To*To)))/2),_a=Math.sqrt(Xi[0]*Xi[0]+Xi[1]*Xi[1]);Ai=Math.min(kr,(He-_a)/(Co-1)),Ui=Math.min(kr,(ir-_a)/(Co+1))}if(ci!=null){var Vo=uf(Bi==null?[li,hi]:[Bi,Mi],[Hn,ri],ir,Ui,sn),ui=uf([ci,ti],[li,hi],ir,Ui,sn);kr===Ui?ki.push("M",Vo[0],"A",Ui,",",Ui," 0 0,",Hr," ",Vo[1],"A",ir,",",ir," 0 ",1-sn^lf(Vo[1][0],Vo[1][1],ui[1][0],ui[1][1]),",",sn," ",ui[1],"A",Ui,",",Ui," 0 0,",Hr," ",ui[0]):ki.push("M",Vo[0],"A",Ui,",",Ui," 0 1,",Hr," ",ui[0])}else ki.push("M",Hn,",",ri);if(Bi!=null){var Ci=uf([Hn,ri],[Bi,Mi],He,-Ai,sn),rs=uf([li,hi],ci==null?[Hn,ri]:[ci,ti],He,-Ai,sn);kr===Ai?ki.push("L",rs[0],"A",Ai,",",Ai," 0 0,",Hr," ",rs[1],"A",He,",",He," 0 ",sn^lf(rs[1][0],rs[1][1],Ci[1][0],Ci[1][1]),",",1-sn," ",Ci[1],"A",Ai,",",Ai," 0 0,",Hr," ",Ci[0]):ki.push("L",rs[0],"A",Ai,",",Ai," 0 0,",Hr," ",Ci[0])}else ki.push("L",li,",",hi)}else ki.push("M",Hn,",",ri),ci!=null&&ki.push("A",ir,",",ir," 0 ",ha,",",sn," ",ci,",",ti),ki.push("L",li,",",hi),Bi!=null&&ki.push("A",He,",",He," 0 ",xa,",",1-sn," ",Bi,",",Mi);return ki.push("Z"),ki.join("")}function Ue(He,ir){return"M0,"+He+"A"+He+","+He+" 0 1,"+ir+" 0,"+-He+"A"+He+","+He+" 0 1,"+ir+" 0,"+He}return Ae.innerRadius=function(He){return arguments.length?(ct=Or(He),Ae):ct},Ae.outerRadius=function(He){return arguments.length?(Mt=Or(He),Ae):Mt},Ae.cornerRadius=function(He){return arguments.length?(Vt=Or(He),Ae):Vt},Ae.padRadius=function(He){return arguments.length?(ee=He==jf?jf:Or(He),Ae):ee},Ae.startAngle=function(He){return arguments.length?(ae=Or(He),Ae):ae},Ae.endAngle=function(He){return arguments.length?(he=Or(He),Ae):he},Ae.padAngle=function(He){return arguments.length?(Ie=Or(He),Ae):Ie},Ae.centroid=function(){var He=(+ct.apply(this,arguments)+ +Mt.apply(this,arguments))/2,ir=(+ae.apply(this,arguments)+ +he.apply(this,arguments))/2-jt;return[Math.cos(ir)*He,Math.sin(ir)*He]},Ae};var jf="auto";function Ph(ct){return ct.innerRadius}function Ru(ct){return ct.outerRadius}function sf(ct){return ct.startAngle}function Xf(ct){return ct.endAngle}function _c(ct){return ct&&ct.padAngle}function lf(ct,Mt,Vt,ee){return(ct-Vt)*Mt-(Mt-ee)*ct>0?0:1}function uf(ct,Mt,Vt,ee,ae){var he=ct[0]-Mt[0],Ie=ct[1]-Mt[1],Ae=(ae?ee:-ee)/Math.sqrt(he*he+Ie*Ie),Ue=Ae*Ie,He=-Ae*he,ir=ct[0]+Ue,Ir=ct[1]+He,Dr=Mt[0]+Ue,Qr=Mt[1]+He,sn=(ir+Dr)/2,kr=(Ir+Qr)/2,Hr=Dr-ir,Kr=Qr-Ir,hn=Hr*Hr+Kr*Kr,yn=Vt-ee,qr=ir*Qr-Dr*Ir,Hn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,yn*yn*hn-qr*qr)),ri=(qr*Kr-Hr*Hn)/hn,ci=(-qr*Hr-Kr*Hn)/hn,ti=(qr*Kr+Hr*Hn)/hn,li=(-qr*Hr+Kr*Hn)/hn,hi=ri-sn,Bi=ci-kr,Mi=ti-sn,ki=li-kr;return hi*hi+Bi*Bi>Mi*Mi+ki*ki&&(ri=ti,ci=li),[[ri-Ue,ci-He],[ri*Vt/yn,ci*Vt/yn]]}function Al(){return!0}function ff(ct){var Mt=oi,Vt=ni,ee=Al,ae=fo,he=ae.key,Ie=.7;function Ae(Ue){var He=[],ir=[],Ir=-1,Dr=Ue.length,Qr,sn=Or(Mt),kr=Or(Vt);function Hr(){He.push("M",ae(ct(ir),Ie))}for(;++Ir<Dr;)ee.call(this,Qr=Ue[Ir],Ir)?ir.push([+sn.call(this,Qr,Ir),+kr.call(this,Qr,Ir)]):ir.length&&(Hr(),ir=[]);return ir.length&&Hr(),He.length?He.join(""):null}return Ae.x=function(Ue){return arguments.length?(Mt=Ue,Ae):Mt},Ae.y=function(Ue){return arguments.length?(Vt=Ue,Ae):Vt},Ae.defined=function(Ue){return arguments.length?(ee=Ue,Ae):ee},Ae.interpolate=function(Ue){return arguments.length?(typeof Ue=="function"?he=ae=Ue:he=(ae=Sl.get(Ue)||fo).key,Ae):he},Ae.tension=function(Ue){return arguments.length?(Ie=Ue,Ae):Ie},Ae}s.svg.line=function(){return ff(V)};var Sl=s.map({linear:fo,"linear-closed":Vs,step:kc,"step-before":Jl,"step-after":Zf,basis:_u,"basis-open":Dh,"basis-closed":Ml,bundle:Gv,cardinal:Ih,"cardinal-open":cf,"cardinal-closed":Hv,monotone:Jf});Sl.forEach(function(ct,Mt){Mt.key=ct,Mt.closed=/-closed$/.test(ct)});function fo(ct){return ct.length>1?ct.join("L"):ct+"Z"}function Vs(ct){return ct.join("L")+"Z"}function kc(ct){for(var Mt=0,Vt=ct.length,ee=ct[0],ae=[ee[0],",",ee[1]];++Mt<Vt;)ae.push("H",(ee[0]+(ee=ct[Mt])[0])/2,"V",ee[1]);return Vt>1&&ae.push("H",ee[0]),ae.join("")}function Jl(ct){for(var Mt=0,Vt=ct.length,ee=ct[0],ae=[ee[0],",",ee[1]];++Mt<Vt;)ae.push("V",(ee=ct[Mt])[1],"H",ee[0]);return ae.join("")}function Zf(ct){for(var Mt=0,Vt=ct.length,ee=ct[0],ae=[ee[0],",",ee[1]];++Mt<Vt;)ae.push("H",(ee=ct[Mt])[0],"V",ee[1]);return ae.join("")}function cf(ct,Mt){return ct.length<4?fo(ct):ct[1]+Uo(ct.slice(1,-1),hf(ct,Mt))}function Hv(ct,Mt){return ct.length<3?Vs(ct):ct[0]+Uo((ct.push(ct[0]),ct),hf([ct[ct.length-2]].concat(ct,[ct[1]]),Mt))}function Ih(ct,Mt){return ct.length<3?fo(ct):ct[0]+Uo(ct,hf(ct,Mt))}function Uo(ct,Mt){if(Mt.length<1||ct.length!=Mt.length&&ct.length!=Mt.length+2)return fo(ct);var Vt=ct.length!=Mt.length,ee="",ae=ct[0],he=ct[1],Ie=Mt[0],Ae=Ie,Ue=1;if(Vt&&(ee+="Q"+(he[0]-Ie[0]*2/3)+","+(he[1]-Ie[1]*2/3)+","+he[0]+","+he[1],ae=ct[1],Ue=2),Mt.length>1){Ae=Mt[1],he=ct[Ue],Ue++,ee+="C"+(ae[0]+Ie[0])+","+(ae[1]+Ie[1])+","+(he[0]-Ae[0])+","+(he[1]-Ae[1])+","+he[0]+","+he[1];for(var He=2;He<Mt.length;He++,Ue++)he=ct[Ue],Ae=Mt[He],ee+="S"+(he[0]-Ae[0])+","+(he[1]-Ae[1])+","+he[0]+","+he[1]}if(Vt){var ir=ct[Ue];ee+="Q"+(he[0]+Ae[0]*2/3)+","+(he[1]+Ae[1]*2/3)+","+ir[0]+","+ir[1]}return ee}function hf(ct,Mt){for(var Vt=[],ee=(1-Mt)/2,ae,he=ct[0],Ie=ct[1],Ae=1,Ue=ct.length;++Ae<Ue;)ae=he,he=Ie,Ie=ct[Ae],Vt.push([ee*(Ie[0]-ae[0]),ee*(Ie[1]-ae[1])]);return Vt}function _u(ct){if(ct.length<3)return fo(ct);var Mt=1,Vt=ct.length,ee=ct[0],ae=ee[0],he=ee[1],Ie=[ae,ae,ae,(ee=ct[1])[0]],Ae=[he,he,he,ee[1]],Ue=[ae,",",he,"L",es(al,Ie),",",es(al,Ae)];for(ct.push(ct[Vt-1]);++Mt<=Vt;)ee=ct[Mt],Ie.shift(),Ie.push(ee[0]),Ae.shift(),Ae.push(ee[1]),El(Ue,Ie,Ae);return ct.pop(),Ue.push("L",ee),Ue.join("")}function Dh(ct){if(ct.length<4)return fo(ct);for(var Mt=[],Vt=-1,ee=ct.length,ae,he=[0],Ie=[0];++Vt<3;)ae=ct[Vt],he.push(ae[0]),Ie.push(ae[1]);for(Mt.push(es(al,he)+","+es(al,Ie)),--Vt;++Vt<ee;)ae=ct[Vt],he.shift(),he.push(ae[0]),Ie.shift(),Ie.push(ae[1]),El(Mt,he,Ie);return Mt.join("")}function Ml(ct){for(var Mt,Vt=-1,ee=ct.length,ae=ee+4,he,Ie=[],Ae=[];++Vt<4;)he=ct[Vt%ee],Ie.push(he[0]),Ae.push(he[1]);for(Mt=[es(al,Ie),",",es(al,Ae)],--Vt;++Vt<ae;)he=ct[Vt%ee],Ie.shift(),Ie.push(he[0]),Ae.shift(),Ae.push(he[1]),El(Mt,Ie,Ae);return Mt.join("")}function Gv(ct,Mt){var Vt=ct.length-1;if(Vt)for(var ee=ct[0][0],ae=ct[0][1],he=ct[Vt][0]-ee,Ie=ct[Vt][1]-ae,Ae=-1,Ue,He;++Ae<=Vt;)Ue=ct[Ae],He=Ae/Vt,Ue[0]=Mt*Ue[0]+(1-Mt)*(ee+He*he),Ue[1]=Mt*Ue[1]+(1-Mt)*(ae+He*Ie);return _u(ct)}function es(ct,Mt){return ct[0]*Mt[0]+ct[1]*Mt[1]+ct[2]*Mt[2]+ct[3]*Mt[3]}var vf=[0,2/3,1/3,0],Kf=[0,1/3,2/3,0],al=[0,1/6,2/3,1/6];function El(ct,Mt,Vt){ct.push("C",es(vf,Mt),",",es(vf,Vt),",",es(Kf,Mt),",",es(Kf,Vt),",",es(al,Mt),",",es(al,Vt))}function zc(ct,Mt){return(Mt[1]-ct[1])/(Mt[0]-ct[0])}function df(ct){for(var Mt=0,Vt=ct.length-1,ee=[],ae=ct[0],he=ct[1],Ie=ee[0]=zc(ae,he);++Mt<Vt;)ee[Mt]=(Ie+(Ie=zc(ae=he,he=ct[Mt+1])))/2;return ee[Mt]=Ie,ee}function pf(ct){for(var Mt=[],Vt,ee,ae,he,Ie=df(ct),Ae=-1,Ue=ct.length-1;++Ae<Ue;)Vt=zc(ct[Ae],ct[Ae+1]),p(Vt)<Ht?Ie[Ae]=Ie[Ae+1]=0:(ee=Ie[Ae]/Vt,ae=Ie[Ae+1]/Vt,he=ee*ee+ae*ae,he>9&&(he=Vt*3/Math.sqrt(he),Ie[Ae]=he*ee,Ie[Ae+1]=he*ae));for(Ae=-1;++Ae<=Ue;)he=(ct[Math.min(Ue,Ae+1)][0]-ct[Math.max(0,Ae-1)][0])/(6*(1+Ie[Ae]*Ie[Ae])),Mt.push([he||0,Ie[Ae]*he||0]);return Mt}function Jf(ct){return ct.length<3?fo(ct):ct[0]+Uo(ct,pf(ct))}s.svg.line.radial=function(){var ct=ff(Rh);return ct.radius=ct.x,delete ct.x,ct.angle=ct.y,delete ct.y,ct};function Rh(ct){for(var Mt,Vt=-1,ee=ct.length,ae,he;++Vt<ee;)Mt=ct[Vt],ae=Mt[0],he=Mt[1]-jt,Mt[0]=ae*Math.cos(he),Mt[1]=ae*Math.sin(he);return ct}function gf(ct){var Mt=oi,Vt=oi,ee=0,ae=ni,he=Al,Ie=fo,Ae=Ie.key,Ue=Ie,He="L",ir=.7;function Ir(Dr){var Qr=[],sn=[],kr=[],Hr=-1,Kr=Dr.length,hn,yn=Or(Mt),qr=Or(ee),Hn=Mt===Vt?function(){return ci}:Or(Vt),ri=ee===ae?function(){return ti}:Or(ae),ci,ti;function li(){Qr.push("M",Ie(ct(kr),ir),He,Ue(ct(sn.reverse()),ir),"Z")}for(;++Hr<Kr;)he.call(this,hn=Dr[Hr],Hr)?(sn.push([ci=+yn.call(this,hn,Hr),ti=+qr.call(this,hn,Hr)]),kr.push([+Hn.call(this,hn,Hr),+ri.call(this,hn,Hr)])):sn.length&&(li(),sn=[],kr=[]);return sn.length&&li(),Qr.length?Qr.join(""):null}return Ir.x=function(Dr){return arguments.length?(Mt=Vt=Dr,Ir):Vt},Ir.x0=function(Dr){return arguments.length?(Mt=Dr,Ir):Mt},Ir.x1=function(Dr){return arguments.length?(Vt=Dr,Ir):Vt},Ir.y=function(Dr){return arguments.length?(ee=ae=Dr,Ir):ae},Ir.y0=function(Dr){return arguments.length?(ee=Dr,Ir):ee},Ir.y1=function(Dr){return arguments.length?(ae=Dr,Ir):ae},Ir.defined=function(Dr){return arguments.length?(he=Dr,Ir):he},Ir.interpolate=function(Dr){return arguments.length?(typeof Dr=="function"?Ae=Ie=Dr:Ae=(Ie=Sl.get(Dr)||fo).key,Ue=Ie.reverse||Ie,He=Ie.closed?"M":"L",Ir):Ae},Ir.tension=function(Dr){return arguments.length?(ir=Dr,Ir):ir},Ir}Jl.reverse=Zf,Zf.reverse=Jl,s.svg.area=function(){return gf(V)},s.svg.area.radial=function(){var ct=gf(Rh);return ct.radius=ct.x,delete ct.x,ct.innerRadius=ct.x0,delete ct.x0,ct.outerRadius=ct.x1,delete ct.x1,ct.angle=ct.y,delete ct.y,ct.startAngle=ct.y0,delete ct.y0,ct.endAngle=ct.y1,delete ct.y1,ct};function Fc(ct){return ct.source}function Ql(ct){return ct.target}s.svg.chord=function(){var ct=Fc,Mt=Ql,Vt=Oc,ee=sf,ae=Xf;function he(ir,Ir){var Dr=Ie(this,ct,ir,Ir),Qr=Ie(this,Mt,ir,Ir);return"M"+Dr.p0+Ue(Dr.r,Dr.p1,Dr.a1-Dr.a0)+(Ae(Dr,Qr)?He(Dr.r,Dr.p1,Dr.r,Dr.p0):He(Dr.r,Dr.p1,Qr.r,Qr.p0)+Ue(Qr.r,Qr.p1,Qr.a1-Qr.a0)+He(Qr.r,Qr.p1,Dr.r,Dr.p0))+"Z"}function Ie(ir,Ir,Dr,Qr){var sn=Ir.call(ir,Dr,Qr),kr=Vt.call(ir,sn,Qr),Hr=ee.call(ir,sn,Qr)-jt,Kr=ae.call(ir,sn,Qr)-jt;return{r:kr,a0:Hr,a1:Kr,p0:[kr*Math.cos(Hr),kr*Math.sin(Hr)],p1:[kr*Math.cos(Kr),kr*Math.sin(Kr)]}}function Ae(ir,Ir){return ir.a0==Ir.a0&&ir.a1==Ir.a1}function Ue(ir,Ir,Dr){return"A"+ir+","+ir+" 0 "+ +(Dr>dt)+",1 "+Ir}function He(ir,Ir,Dr,Qr){return"Q 0,0 "+Qr}return he.radius=function(ir){return arguments.length?(Vt=Or(ir),he):Vt},he.source=function(ir){return arguments.length?(ct=Or(ir),he):ct},he.target=function(ir){return arguments.length?(Mt=Or(ir),he):Mt},he.startAngle=function(ir){return arguments.length?(ee=Or(ir),he):ee},he.endAngle=function(ir){return arguments.length?(ae=Or(ir),he):ae},he};function Oc(ct){return ct.radius}s.svg.diagonal=function(){var ct=Fc,Mt=Ql,Vt=yf;function ee(ae,he){var Ie=ct.call(this,ae,he),Ae=Mt.call(this,ae,he),Ue=(Ie.y+Ae.y)/2,He=[Ie,{x:Ie.x,y:Ue},{x:Ae.x,y:Ue},Ae];return He=He.map(Vt),"M"+He[0]+"C"+He[1]+" "+He[2]+" "+He[3]}return ee.source=function(ae){return arguments.length?(ct=Or(ae),ee):ct},ee.target=function(ae){return arguments.length?(Mt=Or(ae),ee):Mt},ee.projection=function(ae){return arguments.length?(Vt=ae,ee):Vt},ee};function yf(ct){return[ct.x,ct.y]}s.svg.diagonal.radial=function(){var ct=s.svg.diagonal(),Mt=yf,Vt=ct.projection;return ct.projection=function(ee){return arguments.length?Vt(_h(Mt=ee)):Mt},ct};function _h(ct){return function(){var Mt=ct.apply(this,arguments),Vt=Mt[0],ee=Mt[1]-jt;return[Vt*Math.cos(ee),Vt*Math.sin(ee)]}}s.svg.symbol=function(){var ct=se,Mt=$t;function Vt(ee,ae){return(we.get(ct.call(this,ee,ae))||me)(Mt.call(this,ee,ae))}return Vt.type=function(ee){return arguments.length?(ct=Or(ee),Vt):ct},Vt.size=function(ee){return arguments.length?(Mt=Or(ee),Vt):Mt},Vt};function $t(){return 64}function se(){return"circle"}function me(ct){var Mt=Math.sqrt(ct/dt);return"M0,"+Mt+"A"+Mt+","+Mt+" 0 1,1 0,"+-Mt+"A"+Mt+","+Mt+" 0 1,1 0,"+Mt+"Z"}var we=s.map({circle:me,cross:function(ct){var Mt=Math.sqrt(ct/5)/2;return"M"+-3*Mt+","+-Mt+"H"+-Mt+"V"+-3*Mt+"H"+Mt+"V"+-Mt+"H"+3*Mt+"V"+Mt+"H"+Mt+"V"+3*Mt+"H"+-Mt+"V"+Mt+"H"+-3*Mt+"Z"},diamond:function(ct){var Mt=Math.sqrt(ct/(2*Re)),Vt=Mt*Re;return"M0,"+-Mt+"L"+Vt+",0 0,"+Mt+" "+-Vt+",0Z"},square:function(ct){var Mt=Math.sqrt(ct)/2;return"M"+-Mt+","+-Mt+"L"+Mt+","+-Mt+" "+Mt+","+Mt+" "+-Mt+","+Mt+"Z"},"triangle-down":function(ct){var Mt=Math.sqrt(ct/ke),Vt=Mt*ke/2;return"M0,"+Vt+"L"+Mt+","+-Vt+" "+-Mt+","+-Vt+"Z"},"triangle-up":function(ct){var Mt=Math.sqrt(ct/ke),Vt=Mt*ke/2;return"M0,"+-Vt+"L"+Mt+","+Vt+" "+-Mt+","+Vt+"Z"}});s.svg.symbolTypes=we.keys();var ke=Math.sqrt(3),Re=Math.tan(30*ie);j.transition=function(ct){for(var Mt=zr||++Mr,Vt=In(ct),ee=[],ae,he,Ie=Vr||{time:Date.now(),ease:Ac,delay:0,duration:250},Ae=-1,Ue=this.length;++Ae<Ue;){ee.push(ae=[]);for(var He=this[Ae],ir=-1,Ir=He.length;++ir<Ir;)(he=He[ir])&&_n(he,ir,Vt,Mt,Ie),ae.push(he)}return wr(ee,Vt,Mt)},j.interrupt=function(ct){return this.each(ct==null?ze:pr(In(ct)))};var ze=pr(In());function pr(ct){return function(){var Mt,Vt,ee;(Mt=this[ct])&&(ee=Mt[Vt=Mt.active])&&(ee.timer.c=null,ee.timer.t=NaN,--Mt.count?delete Mt[Vt]:delete this[ct],Mt.active+=.5,ee.event&&ee.event.interrupt.call(this,this.__data__,ee.index))}}function wr(ct,Mt,Vt){return tt(ct,sr),ct.namespace=Mt,ct.id=Vt,ct}var sr=[],Mr=0,zr,Vr;sr.call=j.call,sr.empty=j.empty,sr.node=j.node,sr.size=j.size,s.transition=function(ct,Mt){return ct&&ct.transition?zr?ct.transition(Mt):ct:s.selection().transition(ct)},s.transition.prototype=sr,sr.select=function(ct){var Mt=this.id,Vt=this.namespace,ee=[],ae,he,Ie;ct=lt(ct);for(var Ae=-1,Ue=this.length;++Ae<Ue;){ee.push(ae=[]);for(var He=this[Ae],ir=-1,Ir=He.length;++ir<Ir;)(Ie=He[ir])&&(he=ct.call(Ie,Ie.__data__,ir,Ae))?("__data__"in Ie&&(he.__data__=Ie.__data__),_n(he,ir,Vt,Mt,Ie[Vt][Mt]),ae.push(he)):ae.push(null)}return wr(ee,Vt,Mt)},sr.selectAll=function(ct){var Mt=this.id,Vt=this.namespace,ee=[],ae,he,Ie,Ae,Ue;ct=nt(ct);for(var He=-1,ir=this.length;++He<ir;)for(var Ir=this[He],Dr=-1,Qr=Ir.length;++Dr<Qr;)if(Ie=Ir[Dr]){Ue=Ie[Vt][Mt],he=ct.call(Ie,Ie.__data__,Dr,He),ee.push(ae=[]);for(var sn=-1,kr=he.length;++sn<kr;)(Ae=he[sn])&&_n(Ae,sn,Vt,Mt,Ue),ae.push(Ae)}return wr(ee,Vt,Mt)},sr.filter=function(ct){var Mt=[],Vt,ee,ae;typeof ct!="function"&&(ct=Kt(ct));for(var he=0,Ie=this.length;he<Ie;he++){Mt.push(Vt=[]);for(var ee=this[he],Ae=0,Ue=ee.length;Ae<Ue;Ae++)(ae=ee[Ae])&&ct.call(ae,ae.__data__,Ae,he)&&Vt.push(ae)}return wr(Mt,this.namespace,this.id)},sr.tween=function(ct,Mt){var Vt=this.id,ee=this.namespace;return arguments.length<2?this.node()[ee][Vt].tween.get(ct):Jt(this,Mt==null?function(ae){ae[ee][Vt].tween.remove(ct)}:function(ae){ae[ee][Vt].tween.set(ct,Mt)})};function rn(ct,Mt,Vt,ee){var ae=ct.id,he=ct.namespace;return Jt(ct,typeof Vt=="function"?function(Ie,Ae,Ue){Ie[he][ae].tween.set(Mt,ee(Vt.call(Ie,Ie.__data__,Ae,Ue)))}:(Vt=ee(Vt),function(Ie){Ie[he][ae].tween.set(Mt,Vt)}))}sr.attr=function(ct,Mt){if(arguments.length<2){for(Mt in ct)this.attr(Mt,ct[Mt]);return this}var Vt=ct=="transform"?Bf:Eo,ee=s.ns.qualify(ct);function ae(){this.removeAttribute(ee)}function he(){this.removeAttributeNS(ee.space,ee.local)}function Ie(Ue){return Ue==null?ae:(Ue+="",function(){var He=this.getAttribute(ee),ir;return He!==Ue&&(ir=Vt(He,Ue),function(Ir){this.setAttribute(ee,ir(Ir))})})}function Ae(Ue){return Ue==null?he:(Ue+="",function(){var He=this.getAttributeNS(ee.space,ee.local),ir;return He!==Ue&&(ir=Vt(He,Ue),function(Ir){this.setAttributeNS(ee.space,ee.local,ir(Ir))})})}return rn(this,"attr."+ct,Mt,ee.local?Ae:Ie)},sr.attrTween=function(ct,Mt){var Vt=s.ns.qualify(ct);function ee(he,Ie){var Ae=Mt.call(this,he,Ie,this.getAttribute(Vt));return Ae&&function(Ue){this.setAttribute(Vt,Ae(Ue))}}function ae(he,Ie){var Ae=Mt.call(this,he,Ie,this.getAttributeNS(Vt.space,Vt.local));return Ae&&function(Ue){this.setAttributeNS(Vt.space,Vt.local,Ae(Ue))}}return this.tween("attr."+ct,Vt.local?ae:ee)},sr.style=function(ct,Mt,Vt){var ee=arguments.length;if(ee<3){if(typeof ct!="string"){ee<2&&(Mt="");for(Vt in ct)this.style(Vt,ct[Vt],Mt);return this}Vt=""}function ae(){this.style.removeProperty(ct)}function he(Ie){return Ie==null?ae:(Ie+="",function(){var Ae=r(this).getComputedStyle(this,null).getPropertyValue(ct),Ue;return Ae!==Ie&&(Ue=Eo(Ae,Ie),function(He){this.style.setProperty(ct,Ue(He),Vt)})})}return rn(this,"style."+ct,Mt,he)},sr.styleTween=function(ct,Mt,Vt){arguments.length<3&&(Vt="");function ee(ae,he){var Ie=Mt.call(this,ae,he,r(this).getComputedStyle(this,null).getPropertyValue(ct));return Ie&&function(Ae){this.style.setProperty(ct,Ie(Ae),Vt)}}return this.tween("style."+ct,ee)},sr.text=function(ct){return rn(this,"text",ct,bn)};function bn(ct){return ct==null&&(ct=""),function(){this.textContent=ct}}sr.remove=function(){var ct=this.namespace;return this.each("end.transition",function(){var Mt;this[ct].count<2&&(Mt=this.parentNode)&&Mt.removeChild(this)})},sr.ease=function(ct){var Mt=this.id,Vt=this.namespace;return arguments.length<1?this.node()[Vt][Mt].ease:(typeof ct!="function"&&(ct=s.ease.apply(s,arguments)),Jt(this,function(ee){ee[Vt][Mt].ease=ct}))},sr.delay=function(ct){var Mt=this.id,Vt=this.namespace;return arguments.length<1?this.node()[Vt][Mt].delay:Jt(this,typeof ct=="function"?function(ee,ae,he){ee[Vt][Mt].delay=+ct.call(ee,ee.__data__,ae,he)}:(ct=+ct,function(ee){ee[Vt][Mt].delay=ct}))},sr.duration=function(ct){var Mt=this.id,Vt=this.namespace;return arguments.length<1?this.node()[Vt][Mt].duration:Jt(this,typeof ct=="function"?function(ee,ae,he){ee[Vt][Mt].duration=Math.max(1,ct.call(ee,ee.__data__,ae,he))}:(ct=Math.max(1,ct),function(ee){ee[Vt][Mt].duration=ct}))},sr.each=function(ct,Mt){var Vt=this.id,ee=this.namespace;if(arguments.length<2){var ae=Vr,he=zr;try{zr=Vt,Jt(this,function(Ie,Ae,Ue){Vr=Ie[ee][Vt],ct.call(Ie,Ie.__data__,Ae,Ue)})}finally{Vr=ae,zr=he}}else Jt(this,function(Ie){var Ae=Ie[ee][Vt];(Ae.event||(Ae.event=s.dispatch("start","end","interrupt"))).on(ct,Mt)});return this},sr.transition=function(){for(var ct=this.id,Mt=++Mr,Vt=this.namespace,ee=[],ae,he,Ie,Ae,Ue=0,He=this.length;Ue<He;Ue++){ee.push(ae=[]);for(var he=this[Ue],ir=0,Ir=he.length;ir<Ir;ir++)(Ie=he[ir])&&(Ae=Ie[Vt][ct],_n(Ie,ir,Vt,Mt,{time:Ae.time,ease:Ae.ease,delay:Ae.delay+Ae.duration,duration:Ae.duration})),ae.push(Ie)}return wr(ee,Vt,Mt)};function In(ct){return ct==null?"__transition__":"__transition_"+ct+"__"}function _n(ct,Mt,Vt,ee,ae){var he=ct[Vt]||(ct[Vt]={active:0,count:0}),Ie=he[ee],Ae,Ue,He,ir,Ir;function Dr(kr){var Hr=Ie.delay;if(Ue.t=Hr+Ae,Hr<=kr)return Qr(kr-Hr);Ue.c=Qr}function Qr(kr){var Hr=he.active,Kr=he[Hr];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--he.count,delete he[Hr],Kr.event&&Kr.event.interrupt.call(ct,ct.__data__,Kr.index));for(var hn in he)if(+hn<ee){var yn=he[hn];yn.timer.c=null,yn.timer.t=NaN,--he.count,delete he[hn]}Ue.c=sn,Pn(function(){return Ue.c&&sn(kr||1)&&(Ue.c=null,Ue.t=NaN),1},0,Ae),he.active=ee,Ie.event&&Ie.event.start.call(ct,ct.__data__,Mt),Ir=[],Ie.tween.forEach(function(qr,Hn){(Hn=Hn.call(ct,ct.__data__,Mt))&&Ir.push(Hn)}),ir=Ie.ease,He=Ie.duration}function sn(kr){for(var Hr=kr/He,Kr=ir(Hr),hn=Ir.length;hn>0;)Ir[--hn].call(ct,Kr);if(Hr>=1)return Ie.event&&Ie.event.end.call(ct,ct.__data__,Mt),--he.count?delete he[ee]:delete ct[Vt],1}Ie||(Ae=ae.time,Ue=Pn(Dr,0,Ae),Ie=he[ee]={tween:new L,time:Ae,timer:Ue,delay:ae.delay,duration:ae.duration,ease:ae.ease,index:Mt},ae=null,++he.count)}s.svg.axis=function(){var ct=s.scale.linear(),Mt=Jn,Vt=6,ee=6,ae=3,he=[10],Ie=null,Ae;function Ue(He){He.each(function(){var ir=s.select(this),Ir=this.__chart__||ct,Dr=this.__chart__=ct.copy(),Qr=Ie??(Dr.ticks?Dr.ticks.apply(Dr,he):Dr.domain()),sn=Ae??(Dr.tickFormat?Dr.tickFormat.apply(Dr,he):V),kr=ir.selectAll(".tick").data(Qr,Dr),Hr=kr.enter().insert("g",".domain").attr("class","tick").style("opacity",Ht),Kr=s.transition(kr.exit()).style("opacity",Ht).remove(),hn=s.transition(kr.order()).style("opacity",1),yn=Math.max(Vt,0)+ae,qr,Hn=Cu(Dr),ri=ir.selectAll(".domain").data([0]),ci=(ri.enter().append("path").attr("class","domain"),s.transition(ri));Hr.append("line"),Hr.append("text");var ti=Hr.select("line"),li=hn.select("line"),hi=kr.select("text").text(sn),Bi=Hr.select("text"),Mi=hn.select("text"),ki=Mt==="top"||Mt==="left"?-1:1,ha,eo,xa,qn;if(Mt==="bottom"||Mt==="top"?(qr=Ii,ha="x",xa="y",eo="x2",qn="y2",hi.attr("dy",ki<0?"0em":".71em").style("text-anchor","middle"),ci.attr("d","M"+Hn[0]+","+ki*ee+"V0H"+Hn[1]+"V"+ki*ee)):(qr=Ri,ha="y",xa="x",eo="y2",qn="x2",hi.attr("dy",".32em").style("text-anchor",ki<0?"end":"start"),ci.attr("d","M"+ki*ee+","+Hn[0]+"H0V"+Hn[1]+"H"+ki*ee)),ti.attr(qn,ki*Vt),Bi.attr(xa,ki*yn),li.attr(eo,0).attr(qn,ki*Vt),Mi.attr(ha,0).attr(xa,ki*yn),Dr.rangeBand){var Ui=Dr,Ai=Ui.rangeBand()/2;Ir=Dr=function(Xi){return Ui(Xi)+Ai}}else Ir.rangeBand?Ir=Dr:Kr.call(qr,Dr,Ir);Hr.call(qr,Ir,Dr),hn.call(qr,Dr,Dr)})}return Ue.scale=function(He){return arguments.length?(ct=He,Ue):ct},Ue.orient=function(He){return arguments.length?(Mt=He in Pi?He+"":Jn,Ue):Mt},Ue.ticks=function(){return arguments.length?(he=M(arguments),Ue):he},Ue.tickValues=function(He){return arguments.length?(Ie=He,Ue):Ie},Ue.tickFormat=function(He){return arguments.length?(Ae=He,Ue):Ae},Ue.tickSize=function(He){var ir=arguments.length;return ir?(Vt=+He,ee=+arguments[ir-1],Ue):Vt},Ue.innerTickSize=function(He){return arguments.length?(Vt=+He,Ue):Vt},Ue.outerTickSize=function(He){return arguments.length?(ee=+He,Ue):ee},Ue.tickPadding=function(He){return arguments.length?(ae=+He,Ue):ae},Ue.tickSubdivide=function(){return arguments.length&&Ue},Ue};var Jn="bottom",Pi={top:1,right:1,bottom:1,left:1};function Ii(ct,Mt,Vt){ct.attr("transform",function(ee){var ae=Mt(ee);return"translate("+(isFinite(ae)?ae:Vt(ee))+",0)"})}function Ri(ct,Mt,Vt){ct.attr("transform",function(ee){var ae=Mt(ee);return"translate(0,"+(isFinite(ae)?ae:Vt(ee))+")"})}s.svg.brush=function(){var ct=ot(ir,"brushstart","brush","brushend"),Mt=null,Vt=null,ee=[0,0],ae=[0,0],he,Ie,Ae=!0,Ue=!0,He=ji[0];function ir(kr){kr.each(function(){var Hr=s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",sn).on("touchstart.brush",sn),Kr=Hr.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Hr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var hn=Hr.selectAll(".resize").data(He,V);hn.exit().remove(),hn.enter().append("g").attr("class",function(ri){return"resize "+ri}).style("cursor",function(ri){return Fi[ri]}).append("rect").attr("x",function(ri){return/[ew]$/.test(ri)?-3:null}).attr("y",function(ri){return/^[ns]/.test(ri)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),hn.style("display",ir.empty()?"none":null);var yn=s.transition(Hr),qr=s.transition(Kr),Hn;Mt&&(Hn=Cu(Mt),qr.attr("x",Hn[0]).attr("width",Hn[1]-Hn[0]),Dr(yn)),Vt&&(Hn=Cu(Vt),qr.attr("y",Hn[0]).attr("height",Hn[1]-Hn[0]),Qr(yn)),Ir(yn)})}ir.event=function(kr){kr.each(function(){var Hr=ct.of(this,arguments),Kr={x:ee,y:ae,i:he,j:Ie},hn=this.__chart__||Kr;this.__chart__=Kr,zr?s.select(this).transition().each("start.brush",function(){he=hn.i,Ie=hn.j,ee=hn.x,ae=hn.y,Hr({type:"brushstart"})}).tween("brush:brush",function(){var yn=os(ee,Kr.x),qr=os(ae,Kr.y);return he=Ie=null,function(Hn){ee=Kr.x=yn(Hn),ae=Kr.y=qr(Hn),Hr({type:"brush",mode:"resize"})}}).each("end.brush",function(){he=Kr.i,Ie=Kr.j,Hr({type:"brush",mode:"resize"}),Hr({type:"brushend"})}):(Hr({type:"brushstart"}),Hr({type:"brush",mode:"resize"}),Hr({type:"brushend"}))})};function Ir(kr){kr.selectAll(".resize").attr("transform",function(Hr){return"translate("+ee[+/e$/.test(Hr)]+","+ae[+/^s/.test(Hr)]+")"})}function Dr(kr){kr.select(".extent").attr("x",ee[0]),kr.selectAll(".extent,.n>rect,.s>rect").attr("width",ee[1]-ee[0])}function Qr(kr){kr.select(".extent").attr("y",ae[0]),kr.selectAll(".extent,.e>rect,.w>rect").attr("height",ae[1]-ae[0])}function sn(){var kr=this,Hr=s.select(s.event.target),Kr=ct.of(kr,arguments),hn=s.select(kr),yn=Hr.datum(),qr=!/^(n|s)$/.test(yn)&&Mt,Hn=!/^(e|w)$/.test(yn)&&Vt,ri=Hr.classed("extent"),ci=Yt(kr),ti,li=s.mouse(kr),hi,Bi=s.select(r(kr)).on("keydown.brush",ha).on("keyup.brush",eo);if(s.event.changedTouches?Bi.on("touchmove.brush",xa).on("touchend.brush",Ui):Bi.on("mousemove.brush",xa).on("mouseup.brush",Ui),hn.interrupt().selectAll("*").interrupt(),ri)li[0]=ee[0]-li[0],li[1]=ae[0]-li[1];else if(yn){var Mi=+/w$/.test(yn),ki=+/^n/.test(yn);hi=[ee[1-Mi]-li[0],ae[1-ki]-li[1]],li[0]=ee[Mi],li[1]=ae[ki]}else s.event.altKey&&(ti=li.slice());hn.style("pointer-events","none").selectAll(".resize").style("display",null),s.select("body").style("cursor",Hr.style("cursor")),Kr({type:"brushstart"}),xa();function ha(){s.event.keyCode==32&&(ri||(ti=null,li[0]-=ee[1],li[1]-=ae[1],ri=2),it())}function eo(){s.event.keyCode==32&&ri==2&&(li[0]+=ee[1],li[1]+=ae[1],ri=0,it())}function xa(){var Ai=s.mouse(kr),Xi=!1;hi&&(Ai[0]+=hi[0],Ai[1]+=hi[1]),ri||(s.event.altKey?(ti||(ti=[(ee[0]+ee[1])/2,(ae[0]+ae[1])/2]),li[0]=ee[+(Ai[0]<ti[0])],li[1]=ae[+(Ai[1]<ti[1])]):ti=null),qr&&qn(Ai,Mt,0)&&(Dr(hn),Xi=!0),Hn&&qn(Ai,Vt,1)&&(Qr(hn),Xi=!0),Xi&&(Ir(hn),Kr({type:"brush",mode:ri?"move":"resize"}))}function qn(Ai,Xi,Ra){var va=Cu(Xi),wo=va[0],To=va[1],Co=li[Ra],_a=Ra?ae:ee,Vo=_a[1]-_a[0],ui,Ci;if(ri&&(wo-=Co,To-=Vo+Co),ui=(Ra?Ue:Ae)?Math.max(wo,Math.min(To,Ai[Ra])):Ai[Ra],ri?Ci=(ui+=Co)+Vo:(ti&&(Co=Math.max(wo,Math.min(To,2*ti[Ra]-ui))),Co<ui?(Ci=ui,ui=Co):Ci=Co),_a[0]!=ui||_a[1]!=Ci)return Ra?Ie=null:he=null,_a[0]=ui,_a[1]=Ci,!0}function Ui(){xa(),hn.style("pointer-events","all").selectAll(".resize").style("display",ir.empty()?"none":null),s.select("body").style("cursor",null),Bi.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ci(),Kr({type:"brushend"})}}return ir.x=function(kr){return arguments.length?(Mt=kr,He=ji[!Mt<<1|!Vt],ir):Mt},ir.y=function(kr){return arguments.length?(Vt=kr,He=ji[!Mt<<1|!Vt],ir):Vt},ir.clamp=function(kr){return arguments.length?(Mt&&Vt?(Ae=!!kr[0],Ue=!!kr[1]):Mt?Ae=!!kr:Vt&&(Ue=!!kr),ir):Mt&&Vt?[Ae,Ue]:Mt?Ae:Vt?Ue:null},ir.extent=function(kr){var Hr,Kr,hn,yn,qr;return arguments.length?(Mt&&(Hr=kr[0],Kr=kr[1],Vt&&(Hr=Hr[0],Kr=Kr[0]),he=[Hr,Kr],Mt.invert&&(Hr=Mt(Hr),Kr=Mt(Kr)),Kr<Hr&&(qr=Hr,Hr=Kr,Kr=qr),(Hr!=ee[0]||Kr!=ee[1])&&(ee=[Hr,Kr])),Vt&&(hn=kr[0],yn=kr[1],Mt&&(hn=hn[1],yn=yn[1]),Ie=[hn,yn],Vt.invert&&(hn=Vt(hn),yn=Vt(yn)),yn<hn&&(qr=hn,hn=yn,yn=qr),(hn!=ae[0]||yn!=ae[1])&&(ae=[hn,yn])),ir):(Mt&&(he?(Hr=he[0],Kr=he[1]):(Hr=ee[0],Kr=ee[1],Mt.invert&&(Hr=Mt.invert(Hr),Kr=Mt.invert(Kr)),Kr<Hr&&(qr=Hr,Hr=Kr,Kr=qr))),Vt&&(Ie?(hn=Ie[0],yn=Ie[1]):(hn=ae[0],yn=ae[1],Vt.invert&&(hn=Vt.invert(hn),yn=Vt.invert(yn)),yn<hn&&(qr=hn,hn=yn,yn=qr))),Mt&&Vt?[[Hr,hn],[Kr,yn]]:Mt?[Hr,Kr]:Vt&&[hn,yn])},ir.clear=function(){return ir.empty()||(ee=[0,0],ae=[0,0],he=Ie=null),ir},ir.empty=function(){return!!Mt&&ee[0]==ee[1]||!!Vt&&ae[0]==ae[1]},s.rebind(ir,ct,"on")};var Fi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ji=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];s.text=En(function(ct){return ct.responseText}),s.json=function(ct,Mt){return nn(ct,"application/json",Aa,Mt)};function Aa(ct){return JSON.parse(ct.responseText)}s.html=function(ct,Mt){return nn(ct,"text/html",qa,Mt)};function qa(ct){var Mt=d.createRange();return Mt.selectNode(d.body),Mt.createContextualFragment(ct.responseText)}s.xml=En(function(ct){return ct.responseXML}),y=s,D=typeof y=="function"?y.call(G,t,G,W):y,D!==void 0&&(W.exports=D)}).apply(self)},3480:function(W){(function(G,t){W.exports=t()})(this,function(){var G,t,y;function D(s,P){if(!G)G=P;else if(!t)t=P;else{var M="var sharedChunk = {}; ("+G+")(sharedChunk); ("+t+")(sharedChunk);",d={};G(d),y=P(d),typeof window<"u"&&(y.workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"})))}}return D(["exports"],function(s){function P(R,_){return _={exports:{}},R(_,_.exports),_.exports}var M="1.13.4",d=g;function g(R,_,Y,at){this.cx=3*R,this.bx=3*(Y-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*_,this.by=3*(at-_)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=at,this.p2x=Y,this.p2y=at}g.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},g.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},g.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},g.prototype.solveCurveX=function(R,_){typeof _>"u"&&(_=1e-6);var Y,at,pt,wt,Dt;for(pt=R,Dt=0;Dt<8;Dt++){if(wt=this.sampleCurveX(pt)-R,Math.abs(wt)<_)return pt;var qt=this.sampleCurveDerivativeX(pt);if(Math.abs(qt)<1e-6)break;pt=pt-wt/qt}if(Y=0,at=1,pt=R,pt<Y)return Y;if(pt>at)return at;for(;Y<at;){if(wt=this.sampleCurveX(pt),Math.abs(wt-R)<_)return pt;R>wt?Y=pt:at=pt,pt=(at-Y)*.5+Y}return pt},g.prototype.solve=function(R,_){return this.sampleCurveY(this.solveCurveX(R,_))};var r=e;function e(R,_){this.x=R,this.y=_}e.prototype={clone:function(){return new e(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,_){return this.clone()._rotateAround(R,_)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var _=R.x-this.x,Y=R.y-this.y;return _*_+Y*Y},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,_){return Math.atan2(this.x*_-this.y*R,this.x*R+this.y*_)},_matMult:function(R){var _=R[0]*this.x+R[1]*this.y,Y=R[2]*this.x+R[3]*this.y;return this.x=_,this.y=Y,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var _=Math.cos(R),Y=Math.sin(R),at=_*this.x-Y*this.y,pt=Y*this.x+_*this.y;return this.x=at,this.y=pt,this},_rotateAround:function(R,_){var Y=Math.cos(R),at=Math.sin(R),pt=_.x+Y*(this.x-_.x)-at*(this.y-_.y),wt=_.y+at*(this.x-_.x)+Y*(this.y-_.y);return this.x=pt,this.y=wt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(R){return R instanceof e?R:Array.isArray(R)?new e(R[0],R[1]):R};var o=typeof self<"u"?self:{};function n(R,_){if(Array.isArray(R)){if(!Array.isArray(_)||R.length!==_.length)return!1;for(var Y=0;Y<R.length;Y++)if(!n(R[Y],_[Y]))return!1;return!0}if(typeof R=="object"&&R!==null&&_!==null){if(typeof _!="object")return!1;var at=Object.keys(R);if(at.length!==Object.keys(_).length)return!1;for(var pt in R)if(!n(R[pt],_[pt]))return!1;return!0}return R===_}var u=Math.pow(2,53)-1;function f(R){if(R<=0)return 0;if(R>=1)return 1;var _=R*R,Y=_*R;return 4*(R<.5?Y:3*(R-_)+Y-.75)}function c(R,_,Y,at){var pt=new d(R,_,Y,at);return function(wt){return pt.solve(wt)}}var m=c(.25,.1,.25,1);function v(R,_,Y){return Math.min(Y,Math.max(_,R))}function T(R,_,Y){var at=Y-_,pt=((R-_)%at+at)%at+_;return pt===_?Y:pt}function h(R,_,Y){if(!R.length)return Y(null,[]);var at=R.length,pt=new Array(R.length),wt=null;R.forEach(function(Dt,qt){_(Dt,function(pe,Se){pe&&(wt=pe),pt[qt]=Se,--at===0&&Y(wt,pt)})})}function i(R){var _=[];for(var Y in R)_.push(R[Y]);return _}function p(R,_){var Y=[];for(var at in R)at in _||Y.push(at);return Y}function w(R){for(var _=[],Y=arguments.length-1;Y-- >0;)_[Y]=arguments[Y+1];for(var at=0,pt=_;at<pt.length;at+=1){var wt=pt[at];for(var Dt in wt)R[Dt]=wt[Dt]}return R}function A(R,_){for(var Y={},at=0;at<_.length;at++){var pt=_[at];pt in R&&(Y[pt]=R[pt])}return Y}var L=1;function x(){return L++}function E(){function R(_){return _?(_^Math.random()*16>>_/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function S(R){return R<=1?1:Math.pow(2,Math.ceil(Math.log(R)/Math.LN2))}function a(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function C(R,_){R.forEach(function(Y){_[Y]&&(_[Y]=_[Y].bind(_))})}function b(R,_){return R.indexOf(_,R.length-_.length)!==-1}function z(R,_,Y){var at={};for(var pt in R)at[pt]=_.call(Y||this,R[pt],pt,R);return at}function k(R,_,Y){var at={};for(var pt in R)_.call(Y||this,R[pt],pt,R)&&(at[pt]=R[pt]);return at}function U(R){return Array.isArray(R)?R.map(U):typeof R=="object"&&R?z(R,U):R}function F(R,_){for(var Y=0;Y<R.length;Y++)if(_.indexOf(R[Y])>=0)return!0;return!1}var V={};function N(R){V[R]||(typeof console<"u"&&console.warn(R),V[R]=!0)}function O(R,_,Y){return(Y.y-R.y)*(_.x-R.x)>(_.y-R.y)*(Y.x-R.x)}function H(R){for(var _=0,Y=0,at=R.length,pt=at-1,wt=void 0,Dt=void 0;Y<at;pt=Y++)wt=R[Y],Dt=R[pt],_+=(Dt.x-wt.x)*(wt.y+Dt.y);return _}function X(R){var _=R[0],Y=R[1],at=R[2];return Y+=90,Y*=Math.PI/180,at*=Math.PI/180,{x:_*Math.cos(Y)*Math.sin(at),y:_*Math.sin(Y)*Math.sin(at),z:_*Math.cos(at)}}function J(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function et(R){var _=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,Y={};if(R.replace(_,function(pt,wt,Dt,qt){var pe=Dt||qt;return Y[wt]=pe?pe.toLowerCase():!0,""}),Y["max-age"]){var at=parseInt(Y["max-age"],10);isNaN(at)?delete Y["max-age"]:Y["max-age"]=at}return Y}var it=null;function ft(R){if(it==null){var _=R.navigator?R.navigator.userAgent:null;it=!!R.safari||!!(_&&(/\b(iPad|iPhone|iPod)\b/.test(_)||_.match("Safari")&&!_.match("Chrome")))}return it}function ot(R){try{var _=o[R];return _.setItem("_mapbox_test_",1),_.removeItem("_mapbox_test_"),!0}catch{return!1}}function Q(R){return o.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(_,Y){return String.fromCharCode(+("0x"+Y))}))}function tt(R){return decodeURIComponent(o.atob(R).split("").map(function(_){return"%"+("00"+_.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Z=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now.bind(Date),q=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame,ut=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame,$,j,lt={now:Z,frame:function(_){var Y=q(_);return{cancel:function(){return ut(Y)}}},getImageData:function(_,Y){Y===void 0&&(Y=0);var at=o.document.createElement("canvas"),pt=at.getContext("2d");if(!pt)throw new Error("failed to create canvas 2d context");return at.width=_.width,at.height=_.height,pt.drawImage(_,0,0,_.width,_.height),pt.getImageData(-Y,-Y,_.width+2*Y,_.height+2*Y)},resolveURL:function(_){return $||($=o.document.createElement("a")),$.href=_,$.href},hardwareConcurrency:o.navigator&&o.navigator.hardwareConcurrency||4,get devicePixelRatio(){return o.devicePixelRatio},get prefersReducedMotion(){return o.matchMedia?(j==null&&(j=o.matchMedia("(prefers-reduced-motion: reduce)")),j.matches):!1}},nt={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ht={supported:!1,testSupport:_t},mt,At=!1,bt,Pt=!1;o.document&&(bt=o.document.createElement("img"),bt.onload=function(){mt&&Ut(mt),mt=null,Pt=!0},bt.onerror=function(){At=!0,mt=null},bt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function _t(R){At||!bt||(Pt?Ut(R):mt=R)}function Ut(R){var _=R.createTexture();R.bindTexture(R.TEXTURE_2D,_);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,bt),R.isContextLost())return;ht.supported=!0}catch{}R.deleteTexture(_),At=!0}var St="01";function Rt(){for(var R="1",_="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Y="",at=0;at<10;at++)Y+=_[Math.floor(Math.random()*62)];var pt=12*60*60*1e3,wt=[R,St,Y].join(""),Dt=Date.now()+pt;return{token:wt,tokenExpiresAt:Dt}}var Et=function(_,Y){this._transformRequestFn=_,this._customAccessToken=Y,this._createSkuToken()};Et.prototype._createSkuToken=function(){var _=Rt();this._skuToken=_.token,this._skuTokenExpiresAt=_.tokenExpiresAt},Et.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Et.prototype.transformRequest=function(_,Y){return this._transformRequestFn?this._transformRequestFn(_,Y)||{url:_}:{url:_}},Et.prototype.normalizeStyleURL=function(_,Y){if(!zt(_))return _;var at=te(_);return at.path="/styles/v1"+at.path,this._makeAPIURL(at,this._customAccessToken||Y)},Et.prototype.normalizeGlyphsURL=function(_,Y){if(!zt(_))return _;var at=te(_);return at.path="/fonts/v1"+at.path,this._makeAPIURL(at,this._customAccessToken||Y)},Et.prototype.normalizeSourceURL=function(_,Y){if(!zt(_))return _;var at=te(_);return at.path="/v4/"+at.authority+".json",at.params.push("secure"),this._makeAPIURL(at,this._customAccessToken||Y)},Et.prototype.normalizeSpriteURL=function(_,Y,at,pt){var wt=te(_);return zt(_)?(wt.path="/styles/v1"+wt.path+"/sprite"+Y+at,this._makeAPIURL(wt,this._customAccessToken||pt)):(wt.path+=""+Y+at,fe(wt))},Et.prototype.normalizeTileURL=function(_,Y){if(this._isSkuTokenExpired()&&this._createSkuToken(),_&&!zt(_))return _;var at=te(_),pt=/(\.(png|jpg)\d*)(?=$)/,wt=/^.+\/v4\//,Dt=lt.devicePixelRatio>=2||Y===512?"@2x":"",qt=ht.supported?".webp":"$1";at.path=at.path.replace(pt,""+Dt+qt),at.path=at.path.replace(wt,"/"),at.path="/v4"+at.path;var pe=this._customAccessToken||oe(at.params)||nt.ACCESS_TOKEN;return nt.REQUIRE_ACCESS_TOKEN&&pe&&this._skuToken&&at.params.push("sku="+this._skuToken),this._makeAPIURL(at,pe)},Et.prototype.canonicalizeTileURL=function(_,Y){var at="/v4/",pt=/\.[\w]+$/,wt=te(_);if(!wt.path.match(/(^\/v4\/)/)||!wt.path.match(pt))return _;var Dt="mapbox://tiles/";Dt+=wt.path.replace(at,"");var qt=wt.params;return Y&&(qt=qt.filter(function(pe){return!pe.match(/^access_token=/)})),qt.length&&(Dt+="?"+qt.join("&")),Dt},Et.prototype.canonicalizeTileset=function(_,Y){for(var at=Y?zt(Y):!1,pt=[],wt=0,Dt=_.tiles||[];wt<Dt.length;wt+=1){var qt=Dt[wt];Wt(qt)?pt.push(this.canonicalizeTileURL(qt,at)):pt.push(qt)}return pt},Et.prototype._makeAPIURL=function(_,Y){var at="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",pt=te(nt.API_URL);if(_.protocol=pt.protocol,_.authority=pt.authority,_.protocol==="http"){var wt=_.params.indexOf("secure");wt>=0&&_.params.splice(wt,1)}if(pt.path!=="/"&&(_.path=""+pt.path+_.path),!nt.REQUIRE_ACCESS_TOKEN)return fe(_);if(Y=Y||nt.ACCESS_TOKEN,!Y)throw new Error("An API access token is required to use Mapbox GL. "+at);if(Y[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+at);return _.params=_.params.filter(function(Dt){return Dt.indexOf("access_token")===-1}),_.params.push("access_token="+Y),fe(_)};function zt(R){return R.indexOf("mapbox:")===0}var Ct=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Wt(R){return Ct.test(R)}function Kt(R){return R.indexOf("sku=")>0&&Wt(R)}function oe(R){for(var _=0,Y=R;_<Y.length;_+=1){var at=Y[_],pt=at.match(/^access_token=(.*)$/);if(pt)return pt[1]}return null}var Jt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function te(R){var _=R.match(Jt);if(!_)throw new Error("Unable to parse URL object");return{protocol:_[1],authority:_[2],path:_[3]||"/",params:_[4]?_[4].split("&"):[]}}function fe(R){var _=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+_}var ve="mapbox.eventData";function de(R){if(!R)return null;var _=R.split(".");if(!_||_.length!==3)return null;try{var Y=JSON.parse(tt(_[1]));return Y}catch{return null}}var xe=function(_){this.type=_,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};xe.prototype.getStorageKey=function(_){var Y=de(nt.ACCESS_TOKEN),at="";return Y&&Y.u?at=Q(Y.u):at=nt.ACCESS_TOKEN||"",_?ve+"."+_+":"+at:ve+":"+at},xe.prototype.fetchEventData=function(){var _=ot("localStorage"),Y=this.getStorageKey(),at=this.getStorageKey("uuid");if(_)try{var pt=o.localStorage.getItem(Y);pt&&(this.eventData=JSON.parse(pt));var wt=o.localStorage.getItem(at);wt&&(this.anonId=wt)}catch{N("Unable to read from LocalStorage")}},xe.prototype.saveEventData=function(){var _=ot("localStorage"),Y=this.getStorageKey(),at=this.getStorageKey("uuid");if(_)try{o.localStorage.setItem(at,this.anonId),Object.keys(this.eventData).length>=1&&o.localStorage.setItem(Y,JSON.stringify(this.eventData))}catch{N("Unable to write to LocalStorage")}},xe.prototype.processRequests=function(_){},xe.prototype.postEvent=function(_,Y,at,pt){var wt=this;if(nt.EVENTS_URL){var Dt=te(nt.EVENTS_URL);Dt.params.push("access_token="+(pt||nt.ACCESS_TOKEN||""));var qt={event:this.type,created:new Date(_).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:St,userId:this.anonId},pe=Y?w(qt,Y):qt,Se={url:fe(Dt),headers:{"Content-Type":"text/plain"},body:JSON.stringify([pe])};this.pendingRequest=Be(Se,function(De){wt.pendingRequest=null,at(De),wt.saveEventData(),wt.processRequests(pt)})}},xe.prototype.queueRequest=function(_,Y){this.queue.push(_),this.processRequests(Y)};var Me=function(R){function _(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.postMapLoadEvent=function(at,pt,wt,Dt){this.skuToken=wt,(nt.EVENTS_URL&&Dt||nt.ACCESS_TOKEN&&Array.isArray(at)&&at.some(function(qt){return zt(qt)||Wt(qt)}))&&this.queueRequest({id:pt,timestamp:Date.now()},Dt)},_.prototype.processRequests=function(at){var pt=this;if(!(this.pendingRequest||this.queue.length===0)){var wt=this.queue.shift(),Dt=wt.id,qt=wt.timestamp;Dt&&this.success[Dt]||(this.anonId||this.fetchEventData(),a(this.anonId)||(this.anonId=E()),this.postEvent(qt,{skuToken:this.skuToken},function(pe){pe||Dt&&(pt.success[Dt]=!0)},at))}},_}(xe),ne=function(R){function _(Y){R.call(this,"appUserTurnstile"),this._customAccessToken=Y}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.postTurnstileEvent=function(at,pt){nt.EVENTS_URL&&nt.ACCESS_TOKEN&&Array.isArray(at)&&at.some(function(wt){return zt(wt)||Wt(wt)})&&this.queueRequest(Date.now(),pt)},_.prototype.processRequests=function(at){var pt=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var wt=de(nt.ACCESS_TOKEN),Dt=wt?wt.u:nt.ACCESS_TOKEN,qt=Dt!==this.eventData.tokenU;a(this.anonId)||(this.anonId=E(),qt=!0);var pe=this.queue.shift();if(this.eventData.lastSuccess){var Se=new Date(this.eventData.lastSuccess),De=new Date(pe),Ge=(pe-this.eventData.lastSuccess)/(24*60*60*1e3);qt=qt||Ge>=1||Ge<-1||Se.getDate()!==De.getDate()}else qt=!0;if(!qt)return this.processRequests();this.postEvent(pe,{"enabled.telemetry":!1},function(ar){ar||(pt.eventData.lastSuccess=pe,pt.eventData.tokenU=Dt)},at)}},_}(xe),kt=new ne,Gt=kt.postTurnstileEvent.bind(kt),Yt=new Me,Zt=Yt.postMapLoadEvent.bind(Yt),It="mapbox-tiles",Nt=500,Ht=50,Lt=1e3*60*7,dt;function xt(){o.caches&&!dt&&(dt=o.caches.open(It))}var Ot;function jt(R,_){if(Ot===void 0)try{new Response(new ReadableStream),Ot=!0}catch{Ot=!1}Ot?_(R.body):R.blob().then(_)}function ie(R,_,Y){if(xt(),!!dt){var at={status:_.status,statusText:_.statusText,headers:new o.Headers};_.headers.forEach(function(Dt,qt){return at.headers.set(qt,Dt)});var pt=et(_.headers.get("Cache-Control")||"");if(!pt["no-store"]){pt["max-age"]&&at.headers.set("Expires",new Date(Y+pt["max-age"]*1e3).toUTCString());var wt=new Date(at.headers.get("Expires")).getTime()-Y;wt<Lt||jt(_,function(Dt){var qt=new o.Response(Dt,at);xt(),dt&&dt.then(function(pe){return pe.put(le(R.url),qt)}).catch(function(pe){return N(pe.message)})})}}}function le(R){var _=R.indexOf("?");return _<0?R:R.slice(0,_)}function Ve(R,_){if(xt(),!dt)return _(null);var Y=le(R.url);dt.then(function(at){at.match(Y).then(function(pt){var wt=je(pt);at.delete(Y),wt&&at.put(Y,pt.clone()),_(null,pt,wt)}).catch(_)}).catch(_)}function je(R){if(!R)return!1;var _=new Date(R.headers.get("Expires")||0),Y=et(R.headers.get("Cache-Control")||"");return _>Date.now()&&!Y["no-cache"]}var Te=1/0;function Le(R){Te++,Te>Ht&&(R.getActor().send("enforceCacheSizeLimit",Nt),Te=0)}function Ke(R){xt(),dt&&dt.then(function(_){_.keys().then(function(Y){for(var at=0;at<Y.length-R;at++)_.delete(Y[at])})})}function vr(R){var _=o.caches.delete(It);R&&_.catch(R).then(function(){return R()})}function ge(R,_){Nt=R,Ht=_}var Xe;function $e(){return Xe==null&&(Xe=o.OffscreenCanvas&&new o.OffscreenCanvas(1,1).getContext("2d")&&typeof o.createImageBitmap=="function"),Xe}var mr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(mr);var or=function(R){function _(Y,at,pt){at===401&&Wt(pt)&&(Y+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,Y),this.status=at,this.url=pt,this.name=this.constructor.name,this.message=Y}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},_}(Error),ye=J()?function(){return self.worker&&self.worker.referrer}:function(){return(o.location.protocol==="blob:"?o.parent:o).location.href},ue=function(R){return/^file:/.test(R)||/^file:/.test(ye())&&!/^\w+:/.test(R)};function be(R,_){var Y=new o.AbortController,at=new o.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:ye(),signal:Y.signal}),pt=!1,wt=!1,Dt=Kt(at.url);R.type==="json"&&at.headers.set("Accept","application/json");var qt=function(Se,De,Ge){if(!wt){if(Se&&Se.message!=="SecurityError"&&N(Se),De&&Ge)return pe(De);var ar=Date.now();o.fetch(at).then(function(rr){if(rr.ok){var br=Dt?rr.clone():null;return pe(rr,br,ar)}else return _(new or(rr.statusText,rr.status,R.url))}).catch(function(rr){rr.code!==20&&_(new Error(rr.message))})}},pe=function(Se,De,Ge){(R.type==="arrayBuffer"?Se.arrayBuffer():R.type==="json"?Se.json():Se.text()).then(function(ar){wt||(De&&Ge&&ie(at,De,Ge),pt=!0,_(null,ar,Se.headers.get("Cache-Control"),Se.headers.get("Expires")))}).catch(function(ar){wt||_(new Error(ar.message))})};return Dt?Ve(at,qt):qt(null,null),{cancel:function(){wt=!0,pt||Y.abort()}}}function Ee(R,_){var Y=new o.XMLHttpRequest;Y.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(Y.responseType="arraybuffer");for(var at in R.headers)Y.setRequestHeader(at,R.headers[at]);return R.type==="json"&&(Y.responseType="text",Y.setRequestHeader("Accept","application/json")),Y.withCredentials=R.credentials==="include",Y.onerror=function(){_(new Error(Y.statusText))},Y.onload=function(){if((Y.status>=200&&Y.status<300||Y.status===0)&&Y.response!==null){var pt=Y.response;if(R.type==="json")try{pt=JSON.parse(Y.response)}catch(wt){return _(wt)}_(null,pt,Y.getResponseHeader("Cache-Control"),Y.getResponseHeader("Expires"))}else _(new or(Y.statusText,Y.status,R.url))},Y.send(R.body),{cancel:function(){return Y.abort()}}}var _e=function(R,_){if(!ue(R.url)){if(o.fetch&&o.Request&&o.AbortController&&o.Request.prototype.hasOwnProperty("signal"))return be(R,_);if(J()&&self.worker&&self.worker.actor){var Y=!0;return self.worker.actor.send("getResource",R,_,void 0,Y)}}return Ee(R,_)},Oe=function(R,_){return _e(w(R,{type:"json"}),_)},Fe=function(R,_){return _e(w(R,{type:"arrayBuffer"}),_)},Be=function(R,_){return _e(w(R,{method:"POST"}),_)};function Je(R){var _=o.document.createElement("a");return _.href=R,_.protocol===o.document.location.protocol&&_.host===o.document.location.host}var hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function cr(R,_,Y,at){var pt=new o.Image,wt=o.URL;pt.onload=function(){_(null,pt),wt.revokeObjectURL(pt.src),pt.onload=null,o.requestAnimationFrame(function(){pt.src=hr})},pt.onerror=function(){return _(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Dt=new o.Blob([new Uint8Array(R)],{type:"image/png"});pt.cacheControl=Y,pt.expires=at,pt.src=R.byteLength?wt.createObjectURL(Dt):hr}function dr(R,_){var Y=new o.Blob([new Uint8Array(R)],{type:"image/png"});o.createImageBitmap(Y).then(function(at){_(null,at)}).catch(function(at){_(new Error("Could not load image because of "+at.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var fr,Lr,xr=function(){fr=[],Lr=0};xr();var Qt=function(R,_){if(ht.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),Lr>=nt.MAX_PARALLEL_IMAGE_REQUESTS){var Y={requestParameters:R,callback:_,cancelled:!1,cancel:function(){this.cancelled=!0}};return fr.push(Y),Y}Lr++;var at=!1,pt=function(){if(!at)for(at=!0,Lr--;fr.length&&Lr<nt.MAX_PARALLEL_IMAGE_REQUESTS;){var Dt=fr.shift(),qt=Dt.requestParameters,pe=Dt.callback,Se=Dt.cancelled;Se||(Dt.cancel=Qt(qt,pe).cancel)}},wt=Fe(R,function(Dt,qt,pe,Se){pt(),Dt?_(Dt):qt&&($e()?dr(qt,_):cr(qt,_,pe,Se))});return{cancel:function(){wt.cancel(),pt()}}},re=function(R,_){var Y=o.document.createElement("video");Y.muted=!0,Y.onloadstart=function(){_(null,Y)};for(var at=0;at<R.length;at++){var pt=o.document.createElement("source");Je(R[at])||(Y.crossOrigin="Anonymous"),pt.src=R[at],Y.appendChild(pt)}return{cancel:function(){}}};function tr(R,_,Y){var at=Y[R]&&Y[R].indexOf(_)!==-1;at||(Y[R]=Y[R]||[],Y[R].push(_))}function er(R,_,Y){if(Y&&Y[R]){var at=Y[R].indexOf(_);at!==-1&&Y[R].splice(at,1)}}var Ye=function(_,Y){Y===void 0&&(Y={}),w(this,Y),this.type=_},Pe=function(R){function _(Y,at){at===void 0&&(at={}),R.call(this,"error",w({error:Y},at))}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_}(Ye),Ze=function(){};Ze.prototype.on=function(_,Y){return this._listeners=this._listeners||{},tr(_,Y,this._listeners),this},Ze.prototype.off=function(_,Y){return er(_,Y,this._listeners),er(_,Y,this._oneTimeListeners),this},Ze.prototype.once=function(_,Y){return this._oneTimeListeners=this._oneTimeListeners||{},tr(_,Y,this._oneTimeListeners),this},Ze.prototype.fire=function(_,Y){typeof _=="string"&&(_=new Ye(_,Y||{}));var at=_.type;if(this.listens(at)){_.target=this;for(var pt=this._listeners&&this._listeners[at]?this._listeners[at].slice():[],wt=0,Dt=pt;wt<Dt.length;wt+=1){var qt=Dt[wt];qt.call(this,_)}for(var pe=this._oneTimeListeners&&this._oneTimeListeners[at]?this._oneTimeListeners[at].slice():[],Se=0,De=pe;Se<De.length;Se+=1){var Ge=De[Se];er(at,Ge,this._oneTimeListeners),Ge.call(this,_)}var ar=this._eventedParent;ar&&(w(_,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ar.fire(_))}else _ instanceof Pe&&console.error(_.error);return this},Ze.prototype.listens=function(_){return this._listeners&&this._listeners[_]&&this._listeners[_].length>0||this._oneTimeListeners&&this._oneTimeListeners[_]&&this._oneTimeListeners[_].length>0||this._eventedParent&&this._eventedParent.listens(_)},Ze.prototype.setEventedParent=function(_,Y){return this._eventedParent=_,this._eventedParentData=Y,this};var nr=8,Qe={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},We={"*":{type:"source"}},yr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Rr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Tr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},vn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Or={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},En={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},nn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},gr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Pr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],jr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},_r={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},pn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},en={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Tn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Gn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gi={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},bi={type:"array",value:"*"},oi={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ni={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Dn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Cr={type:"array",value:"*",minimum:1},an={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},on=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],ln={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Bn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},gn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Cn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Nn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},$n={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},vi={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Di={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ar={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Br={"*":{type:"string"}},Sr={$version:nr,$root:Qe,sources:We,source:yr,source_vector:Rr,source_raster:Tr,source_raster_dem:vn,source_geojson:Or,source_video:En,source_image:nn,layer:gr,layout:Pr,layout_background:jr,layout_fill:_r,layout_circle:pn,layout_heatmap:en,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Tn,layout_symbol:Pn,layout_raster:Gn,layout_hillshade:gi,filter:bi,filter_operator:oi,geometry_type:ni,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Dn,expression:Cr,light:an,paint:on,paint_fill:ln,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Bn,paint_circle:gn,paint_heatmap:Cn,paint_symbol:Nn,paint_raster:$n,paint_hillshade:vi,paint_background:Di,transition:Ar,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Br},Nr=function(_,Y,at,pt){this.message=(_?_+": ":"")+at,pt&&(this.identifier=pt),Y!=null&&Y.__line__&&(this.line=Y.__line__)};function un(R){var _=R.key,Y=R.value;return Y?[new Nr(_,Y,"constants have been deprecated as of v8")]:[]}function Rn(R){for(var _=[],Y=arguments.length-1;Y-- >0;)_[Y]=arguments[Y+1];for(var at=0,pt=_;at<pt.length;at+=1){var wt=pt[at];for(var Dt in wt)R[Dt]=wt[Dt]}return R}function mn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function cn(R){if(Array.isArray(R))return R.map(cn);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var _={};for(var Y in R)_[Y]=cn(R[Y]);return _}return mn(R)}var Er=function(R){function _(Y,at){R.call(this,at),this.message=at,this.key=Y}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_}(Error),Yr=function(_,Y){Y===void 0&&(Y=[]),this.parent=_,this.bindings={};for(var at=0,pt=Y;at<pt.length;at+=1){var wt=pt[at],Dt=wt[0],qt=wt[1];this.bindings[Dt]=qt}};Yr.prototype.concat=function(_){return new Yr(this,_)},Yr.prototype.get=function(_){if(this.bindings[_])return this.bindings[_];if(this.parent)return this.parent.get(_);throw new Error(_+" not found in scope.")},Yr.prototype.has=function(_){return this.bindings[_]?!0:this.parent?this.parent.has(_):!1};var Gr={kind:"null"},$r={kind:"number"},wn={kind:"string"},An={kind:"boolean"},On={kind:"color"},Un={kind:"object"},zn={kind:"value"},Yn={kind:"error"},Zn={kind:"collator"},si={kind:"formatted"},Li={kind:"resolvedImage"};function Ma(R,_){return{kind:"array",itemType:R,N:_}}function sa(R){if(R.kind==="array"){var _=sa(R.itemType);return typeof R.N=="number"?"array<"+_+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+_+">"}else return R.kind}var No=[Gr,$r,wn,An,On,si,Un,Ma(zn),Li];function $o(R,_){if(_.kind==="error")return null;if(R.kind==="array"){if(_.kind==="array"&&(_.N===0&&_.itemType.kind==="value"||!$o(R.itemType,_.itemType))&&(typeof R.N!="number"||R.N===_.N))return null}else{if(R.kind===_.kind)return null;if(R.kind==="value")for(var Y=0,at=No;Y<at.length;Y+=1){var pt=at[Y];if(!$o(pt,_))return null}}return"Expected "+sa(R)+" but found "+sa(_)+" instead."}function So(R,_){return _.some(function(Y){return Y.kind===R.kind})}function $s(R,_){return _.some(function(Y){return Y==="null"?R===null:Y==="array"?Array.isArray(R):Y==="object"?R&&!Array.isArray(R)&&typeof R=="object":Y===typeof R})}var pu=P(function(R,_){var Y={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function at(Se){return Se=Math.round(Se),Se<0?0:Se>255?255:Se}function pt(Se){return Se<0?0:Se>1?1:Se}function wt(Se){return Se[Se.length-1]==="%"?at(parseFloat(Se)/100*255):at(parseInt(Se))}function Dt(Se){return Se[Se.length-1]==="%"?pt(parseFloat(Se)/100):pt(parseFloat(Se))}function qt(Se,De,Ge){return Ge<0?Ge+=1:Ge>1&&(Ge-=1),Ge*6<1?Se+(De-Se)*Ge*6:Ge*2<1?De:Ge*3<2?Se+(De-Se)*(2/3-Ge)*6:Se}function pe(Se){var De=Se.replace(/ /g,"").toLowerCase();if(De in Y)return Y[De].slice();if(De[0]==="#"){if(De.length===4){var Ge=parseInt(De.substr(1),16);return Ge>=0&&Ge<=4095?[(Ge&3840)>>4|(Ge&3840)>>8,Ge&240|(Ge&240)>>4,Ge&15|(Ge&15)<<4,1]:null}else if(De.length===7){var Ge=parseInt(De.substr(1),16);return Ge>=0&&Ge<=16777215?[(Ge&16711680)>>16,(Ge&65280)>>8,Ge&255,1]:null}return null}var ar=De.indexOf("("),rr=De.indexOf(")");if(ar!==-1&&rr+1===De.length){var br=De.substr(0,ar),Ur=De.substr(ar+1,rr-(ar+1)).split(","),fn=1;switch(br){case"rgba":if(Ur.length!==4)return null;fn=Dt(Ur.pop());case"rgb":return Ur.length!==3?null:[wt(Ur[0]),wt(Ur[1]),wt(Ur[2]),fn];case"hsla":if(Ur.length!==4)return null;fn=Dt(Ur.pop());case"hsl":if(Ur.length!==3)return null;var tn=(parseFloat(Ur[0])%360+360)%360/360,Mn=Dt(Ur[1]),xn=Dt(Ur[2]),Sn=xn<=.5?xn*(Mn+1):xn+Mn-xn*Mn,Fn=xn*2-Sn;return[at(qt(Fn,Sn,tn+1/3)*255),at(qt(Fn,Sn,tn)*255),at(qt(Fn,Sn,tn-1/3)*255),fn];default:return null}}return null}try{_.parseCSSColor=pe}catch{}}),Ju=pu.parseCSSColor,la=function(_,Y,at,pt){pt===void 0&&(pt=1),this.r=_,this.g=Y,this.b=at,this.a=pt};la.parse=function(_){if(_){if(_ instanceof la)return _;if(typeof _=="string"){var Y=Ju(_);if(Y)return new la(Y[0]/255*Y[3],Y[1]/255*Y[3],Y[2]/255*Y[3],Y[3])}}},la.prototype.toString=function(){var _=this.toArray(),Y=_[0],at=_[1],pt=_[2],wt=_[3];return"rgba("+Math.round(Y)+","+Math.round(at)+","+Math.round(pt)+","+wt+")"},la.prototype.toArray=function(){var _=this,Y=_.r,at=_.g,pt=_.b,wt=_.a;return wt===0?[0,0,0,0]:[Y*255/wt,at*255/wt,pt*255/wt,wt]},la.black=new la(0,0,0,1),la.white=new la(1,1,1,1),la.transparent=new la(0,0,0,0),la.red=new la(1,0,0,1);var Qu=function(_,Y,at){_?this.sensitivity=Y?"variant":"case":this.sensitivity=Y?"accent":"base",this.locale=at,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Qu.prototype.compare=function(_,Y){return this.collator.compare(_,Y)},Qu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var wc=function(_,Y,at,pt,wt){this.text=_,this.image=Y,this.scale=at,this.fontStack=pt,this.textColor=wt},mo=function(_){this.sections=_};mo.fromString=function(_){return new mo([new wc(_,null,null,null,null)])},mo.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(_){return _.text.length!==0||_.image&&_.image.name.length!==0})},mo.factory=function(_){return _ instanceof mo?_:mo.fromString(_)},mo.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(_){return _.text}).join("")},mo.prototype.serialize=function(){for(var _=["format"],Y=0,at=this.sections;Y<at.length;Y+=1){var pt=at[Y];if(pt.image){_.push(["image",pt.image.name]);continue}_.push(pt.text);var wt={};pt.fontStack&&(wt["text-font"]=["literal",pt.fontStack.split(",")]),pt.scale&&(wt["font-scale"]=pt.scale),pt.textColor&&(wt["text-color"]=["rgba"].concat(pt.textColor.toArray())),_.push(wt)}return _};var Yo=function(_){this.name=_.name,this.available=_.available};Yo.prototype.toString=function(){return this.name},Yo.fromString=function(_){return _?new Yo({name:_,available:!1}):null},Yo.prototype.serialize=function(){return["image",this.name]};function gu(R,_,Y,at){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof _=="number"&&_>=0&&_<=255&&typeof Y=="number"&&Y>=0&&Y<=255)){var pt=typeof at=="number"?[R,_,Y,at]:[R,_,Y];return"Invalid rgba value ["+pt.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof at>"u"||typeof at=="number"&&at>=0&&at<=1?null:"Invalid rgba value ["+[R,_,Y,at].join(", ")+"]: 'a' must be between 0 and 1."}function zf(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof la)return!0;if(R instanceof Qu)return!0;if(R instanceof mo)return!0;if(R instanceof Yo)return!0;if(Array.isArray(R)){for(var _=0,Y=R;_<Y.length;_+=1){var at=Y[_];if(!zf(at))return!1}return!0}else if(typeof R=="object"){for(var pt in R)if(!zf(R[pt]))return!1;return!0}else return!1}function Qa(R){if(R===null)return Gr;if(typeof R=="string")return wn;if(typeof R=="boolean")return An;if(typeof R=="number")return $r;if(R instanceof la)return On;if(R instanceof Qu)return Zn;if(R instanceof mo)return si;if(R instanceof Yo)return Li;if(Array.isArray(R)){for(var _=R.length,Y,at=0,pt=R;at<pt.length;at+=1){var wt=pt[at],Dt=Qa(wt);if(!Y)Y=Dt;else{if(Y===Dt)continue;Y=zn;break}}return Ma(Y||zn,_)}else return Un}function yu(R){var _=typeof R;return R===null?"":_==="string"||_==="number"||_==="boolean"?String(R):R instanceof la||R instanceof mo||R instanceof Yo?R.toString():JSON.stringify(R)}var to=function(_,Y){this.type=_,this.value=Y};to.parse=function(_,Y){if(_.length!==2)return Y.error("'literal' expression requires exactly one argument, but found "+(_.length-1)+" instead.");if(!zf(_[1]))return Y.error("invalid value");var at=_[1],pt=Qa(at),wt=Y.expectedType;return pt.kind==="array"&&pt.N===0&&wt&&wt.kind==="array"&&(typeof wt.N!="number"||wt.N===0)&&(pt=wt),new to(pt,at)},to.prototype.evaluate=function(){return this.value},to.prototype.eachChild=function(){},to.prototype.outputDefined=function(){return!0},to.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof la?["rgba"].concat(this.value.toArray()):this.value instanceof mo?this.value.serialize():this.value};var uo=function(_){this.name="ExpressionEvaluationError",this.message=_};uo.prototype.toJSON=function(){return this.message};var mu={string:wn,number:$r,boolean:An,object:Un},Mo=function(_,Y){this.type=_,this.args=Y};Mo.parse=function(_,Y){if(_.length<2)return Y.error("Expected at least one argument.");var at=1,pt,wt=_[0];if(wt==="array"){var Dt;if(_.length>2){var qt=_[1];if(typeof qt!="string"||!(qt in mu)||qt==="object")return Y.error('The item type argument of "array" must be one of string, number, boolean',1);Dt=mu[qt],at++}else Dt=zn;var pe;if(_.length>3){if(_[2]!==null&&(typeof _[2]!="number"||_[2]<0||_[2]!==Math.floor(_[2])))return Y.error('The length argument to "array" must be a positive integer literal',2);pe=_[2],at++}pt=Ma(Dt,pe)}else pt=mu[wt];for(var Se=[];at<_.length;at++){var De=Y.parse(_[at],at,zn);if(!De)return null;Se.push(De)}return new Mo(pt,Se)},Mo.prototype.evaluate=function(_){for(var Y=0;Y<this.args.length;Y++){var at=this.args[Y].evaluate(_),pt=$o(this.type,Qa(at));if(pt){if(Y===this.args.length-1)throw new uo("Expected value to be of type "+sa(this.type)+", but found "+sa(Qa(at))+" instead.")}else return at}return null},Mo.prototype.eachChild=function(_){this.args.forEach(_)},Mo.prototype.outputDefined=function(){return this.args.every(function(_){return _.outputDefined()})},Mo.prototype.serialize=function(){var _=this.type,Y=[_.kind];if(_.kind==="array"){var at=_.itemType;if(at.kind==="string"||at.kind==="number"||at.kind==="boolean"){Y.push(at.kind);var pt=_.N;(typeof pt=="number"||this.args.length>1)&&Y.push(pt)}}return Y.concat(this.args.map(function(wt){return wt.serialize()}))};var Eo=function(_){this.type=si,this.sections=_};Eo.parse=function(_,Y){if(_.length<2)return Y.error("Expected at least one argument.");var at=_[1];if(!Array.isArray(at)&&typeof at=="object")return Y.error("First argument must be an image or text section.");for(var pt=[],wt=!1,Dt=1;Dt<=_.length-1;++Dt){var qt=_[Dt];if(wt&&typeof qt=="object"&&!Array.isArray(qt)){wt=!1;var pe=null;if(qt["font-scale"]&&(pe=Y.parse(qt["font-scale"],1,$r),!pe))return null;var Se=null;if(qt["text-font"]&&(Se=Y.parse(qt["text-font"],1,Ma(wn)),!Se))return null;var De=null;if(qt["text-color"]&&(De=Y.parse(qt["text-color"],1,On),!De))return null;var Ge=pt[pt.length-1];Ge.scale=pe,Ge.font=Se,Ge.textColor=De}else{var ar=Y.parse(_[Dt],1,zn);if(!ar)return null;var rr=ar.type.kind;if(rr!=="string"&&rr!=="value"&&rr!=="null"&&rr!=="resolvedImage")return Y.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");wt=!0,pt.push({content:ar,scale:null,font:null,textColor:null})}}return new Eo(pt)},Eo.prototype.evaluate=function(_){var Y=function(at){var pt=at.content.evaluate(_);return Qa(pt)===Li?new wc("",pt,null,null,null):new wc(yu(pt),null,at.scale?at.scale.evaluate(_):null,at.font?at.font.evaluate(_).join(","):null,at.textColor?at.textColor.evaluate(_):null)};return new mo(this.sections.map(Y))},Eo.prototype.eachChild=function(_){for(var Y=0,at=this.sections;Y<at.length;Y+=1){var pt=at[Y];_(pt.content),pt.scale&&_(pt.scale),pt.font&&_(pt.font),pt.textColor&&_(pt.textColor)}},Eo.prototype.outputDefined=function(){return!1},Eo.prototype.serialize=function(){for(var _=["format"],Y=0,at=this.sections;Y<at.length;Y+=1){var pt=at[Y];_.push(pt.content.serialize());var wt={};pt.scale&&(wt["font-scale"]=pt.scale.serialize()),pt.font&&(wt["text-font"]=pt.font.serialize()),pt.textColor&&(wt["text-color"]=pt.textColor.serialize()),_.push(wt)}return _};var os=function(_){this.type=Li,this.input=_};os.parse=function(_,Y){if(_.length!==2)return Y.error("Expected two arguments.");var at=Y.parse(_[1],1,wn);return at?new os(at):Y.error("No image name provided.")},os.prototype.evaluate=function(_){var Y=this.input.evaluate(_),at=Yo.fromString(Y);return at&&_.availableImages&&(at.available=_.availableImages.indexOf(Y)>-1),at},os.prototype.eachChild=function(_){_(this.input)},os.prototype.outputDefined=function(){return!1},os.prototype.serialize=function(){return["image",this.input.serialize()]};var vh={"to-boolean":An,"to-color":On,"to-number":$r,"to-string":wn},qo=function(_,Y){this.type=_,this.args=Y};qo.parse=function(_,Y){if(_.length<2)return Y.error("Expected at least one argument.");var at=_[0];if((at==="to-boolean"||at==="to-string")&&_.length!==2)return Y.error("Expected one argument.");for(var pt=vh[at],wt=[],Dt=1;Dt<_.length;Dt++){var qt=Y.parse(_[Dt],Dt,zn);if(!qt)return null;wt.push(qt)}return new qo(pt,wt)},qo.prototype.evaluate=function(_){if(this.type.kind==="boolean")return!!this.args[0].evaluate(_);if(this.type.kind==="color"){for(var Y,at,pt=0,wt=this.args;pt<wt.length;pt+=1){var Dt=wt[pt];if(Y=Dt.evaluate(_),at=null,Y instanceof la)return Y;if(typeof Y=="string"){var qt=_.parseColor(Y);if(qt)return qt}else if(Array.isArray(Y)&&(Y.length<3||Y.length>4?at="Invalid rbga value "+JSON.stringify(Y)+": expected an array containing either three or four numeric values.":at=gu(Y[0],Y[1],Y[2],Y[3]),!at))return new la(Y[0]/255,Y[1]/255,Y[2]/255,Y[3])}throw new uo(at||"Could not parse color from value '"+(typeof Y=="string"?Y:String(JSON.stringify(Y)))+"'")}else if(this.type.kind==="number"){for(var pe=null,Se=0,De=this.args;Se<De.length;Se+=1){var Ge=De[Se];if(pe=Ge.evaluate(_),pe===null)return 0;var ar=Number(pe);if(!isNaN(ar))return ar}throw new uo("Could not convert "+JSON.stringify(pe)+" to number.")}else return this.type.kind==="formatted"?mo.fromString(yu(this.args[0].evaluate(_))):this.type.kind==="resolvedImage"?Yo.fromString(yu(this.args[0].evaluate(_))):yu(this.args[0].evaluate(_))},qo.prototype.eachChild=function(_){this.args.forEach(_)},qo.prototype.outputDefined=function(){return this.args.every(function(_){return _.outputDefined()})},qo.prototype.serialize=function(){if(this.type.kind==="formatted")return new Eo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new os(this.args[0]).serialize();var _=["to-"+this.type.kind];return this.eachChild(function(Y){_.push(Y.serialize())}),_};var Cv=["Unknown","Point","LineString","Polygon"],Bs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Bs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Bs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Cv[this.feature.type]:this.feature.type:null},Bs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Bs.prototype.canonicalID=function(){return this.canonical},Bs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Bs.prototype.parseColor=function(_){var Y=this._parseColorCache[_];return Y||(Y=this._parseColorCache[_]=la.parse(_)),Y};var xo=function(_,Y,at,pt){this.name=_,this.type=Y,this._evaluate=at,this.args=pt};xo.prototype.evaluate=function(_){return this._evaluate(_,this.args)},xo.prototype.eachChild=function(_){this.args.forEach(_)},xo.prototype.outputDefined=function(){return!1},xo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(_){return _.serialize()}))},xo.parse=function(_,Y){var at,pt=_[0],wt=xo.definitions[pt];if(!wt)return Y.error('Unknown expression "'+pt+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Dt=Array.isArray(wt)?wt[0]:wt.type,qt=Array.isArray(wt)?[[wt[1],wt[2]]]:wt.overloads,pe=qt.filter(function(Ti){var Ei=Ti[0];return!Array.isArray(Ei)||Ei.length===_.length-1}),Se=null,De=0,Ge=pe;De<Ge.length;De+=1){var ar=Ge[De],rr=ar[0],br=ar[1];Se=new Us(Y.registry,Y.path,null,Y.scope);for(var Ur=[],fn=!1,tn=1;tn<_.length;tn++){var Mn=_[tn],xn=Array.isArray(rr)?rr[tn-1]:rr.type,Sn=Se.parse(Mn,1+Ur.length,xn);if(!Sn){fn=!0;break}Ur.push(Sn)}if(!fn){if(Array.isArray(rr)&&rr.length!==Ur.length){Se.error("Expected "+rr.length+" arguments, but found "+Ur.length+" instead.");continue}for(var Fn=0;Fn<Ur.length;Fn++){var jn=Array.isArray(rr)?rr[Fn]:rr.type,ai=Ur[Fn];Se.concat(Fn+1).checkSubtype(jn,ai.type)}if(Se.errors.length===0)return new xo(pt,Dt,br,Ur)}}if(pe.length===1)(at=Y.errors).push.apply(at,Se.errors);else{for(var ei=pe.length?pe:qt,wi=ei.map(function(Ti){var Ei=Ti[0];return Tc(Ei)}).join(" | "),pi=[],xi=1;xi<_.length;xi++){var Ni=Y.parse(_[xi],1+pi.length);if(!Ni)return null;pi.push(sa(Ni.type))}Y.error("Expected arguments of type "+wi+", but found ("+pi.join(", ")+") instead.")}return null},xo.register=function(_,Y){xo.definitions=Y;for(var at in Y)_[at]=xo};function Tc(R){return Array.isArray(R)?"("+R.map(sa).join(", ")+")":"("+sa(R.type)+"...)"}var yl=function(_,Y,at){this.type=Zn,this.locale=at,this.caseSensitive=_,this.diacriticSensitive=Y};yl.parse=function(_,Y){if(_.length!==2)return Y.error("Expected one argument.");var at=_[1];if(typeof at!="object"||Array.isArray(at))return Y.error("Collator options argument must be an object.");var pt=Y.parse(at["case-sensitive"]===void 0?!1:at["case-sensitive"],1,An);if(!pt)return null;var wt=Y.parse(at["diacritic-sensitive"]===void 0?!1:at["diacritic-sensitive"],1,An);if(!wt)return null;var Dt=null;return at.locale&&(Dt=Y.parse(at.locale,1,wn),!Dt)?null:new yl(pt,wt,Dt)},yl.prototype.evaluate=function(_){return new Qu(this.caseSensitive.evaluate(_),this.diacriticSensitive.evaluate(_),this.locale?this.locale.evaluate(_):null)},yl.prototype.eachChild=function(_){_(this.caseSensitive),_(this.diacriticSensitive),this.locale&&_(this.locale)},yl.prototype.outputDefined=function(){return!1},yl.prototype.serialize=function(){var _={};return _["case-sensitive"]=this.caseSensitive.serialize(),_["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(_.locale=this.locale.serialize()),["collator",_]};var Ns=8192;function Ac(R,_){R[0]=Math.min(R[0],_[0]),R[1]=Math.min(R[1],_[1]),R[2]=Math.max(R[2],_[0]),R[3]=Math.max(R[3],_[1])}function dh(R){return(180+R)/360}function Lv(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Ff(R,_){return!(R[0]<=_[0]||R[2]>=_[2]||R[1]<=_[1]||R[3]>=_[3])}function Pv(R,_){var Y=dh(R[0]),at=Lv(R[1]),pt=Math.pow(2,_.z);return[Math.round(Y*pt*Ns),Math.round(at*pt*Ns)]}function Iv(R,_,Y){var at=R[0]-_[0],pt=R[1]-_[1],wt=R[0]-Y[0],Dt=R[1]-Y[1];return at*Dt-wt*pt===0&&at*wt<=0&&pt*Dt<=0}function Dv(R,_,Y){return _[1]>R[1]!=Y[1]>R[1]&&R[0]<(Y[0]-_[0])*(R[1]-_[1])/(Y[1]-_[1])+_[0]}function Sc(R,_){for(var Y=!1,at=0,pt=_.length;at<pt;at++)for(var wt=_[at],Dt=0,qt=wt.length;Dt<qt-1;Dt++){if(Iv(R,wt[Dt],wt[Dt+1]))return!1;Dv(R,wt[Dt],wt[Dt+1])&&(Y=!Y)}return Y}function Rv(R,_){for(var Y=0;Y<_.length;Y++)if(Sc(R,_[Y]))return!0;return!1}function _v(R,_){return R[0]*_[1]-R[1]*_[0]}function ph(R,_,Y,at){var pt=R[0]-Y[0],wt=R[1]-Y[1],Dt=_[0]-Y[0],qt=_[1]-Y[1],pe=at[0]-Y[0],Se=at[1]-Y[1],De=pt*Se-pe*wt,Ge=Dt*Se-pe*qt;return De>0&&Ge<0||De<0&&Ge>0}function gh(R,_,Y,at){var pt=[_[0]-R[0],_[1]-R[1]],wt=[at[0]-Y[0],at[1]-Y[1]];return _v(wt,pt)===0?!1:!!(ph(R,_,Y,at)&&ph(Y,at,R,_))}function Wl(R,_,Y){for(var at=0,pt=Y;at<pt.length;at+=1)for(var wt=pt[at],Dt=0;Dt<wt.length-1;++Dt)if(gh(R,_,wt[Dt],wt[Dt+1]))return!0;return!1}function xu(R,_){for(var Y=0;Y<R.length;++Y)if(!Sc(R[Y],_))return!1;for(var at=0;at<R.length-1;++at)if(Wl(R[at],R[at+1],_))return!1;return!0}function $u(R,_){for(var Y=0;Y<_.length;Y++)if(xu(R,_[Y]))return!0;return!1}function qu(R,_,Y){for(var at=[],pt=0;pt<R.length;pt++){for(var wt=[],Dt=0;Dt<R[pt].length;Dt++){var qt=Pv(R[pt][Dt],Y);Ac(_,qt),wt.push(qt)}at.push(wt)}return at}function yh(R,_,Y){for(var at=[],pt=0;pt<R.length;pt++){var wt=qu(R[pt],_,Y);at.push(wt)}return at}function qs(R,_,Y,at){if(R[0]<Y[0]||R[0]>Y[2]){var pt=at*.5,wt=R[0]-Y[0]>pt?-at:Y[0]-R[0]>pt?at:0;wt===0&&(wt=R[0]-Y[2]>pt?-at:Y[2]-R[0]>pt?at:0),R[0]+=wt}Ac(_,R)}function kv(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function Of(R,_,Y,at){for(var pt=Math.pow(2,at.z)*Ns,wt=[at.x*Ns,at.y*Ns],Dt=[],qt=0,pe=R;qt<pe.length;qt+=1)for(var Se=pe[qt],De=0,Ge=Se;De<Ge.length;De+=1){var ar=Ge[De],rr=[ar.x+wt[0],ar.y+wt[1]];qs(rr,_,Y,pt),Dt.push(rr)}return Dt}function mh(R,_,Y,at){for(var pt=Math.pow(2,at.z)*Ns,wt=[at.x*Ns,at.y*Ns],Dt=[],qt=0,pe=R;qt<pe.length;qt+=1){for(var Se=pe[qt],De=[],Ge=0,ar=Se;Ge<ar.length;Ge+=1){var rr=ar[Ge],br=[rr.x+wt[0],rr.y+wt[1]];Ac(_,br),De.push(br)}Dt.push(De)}if(_[2]-_[0]<=pt/2){kv(_);for(var Ur=0,fn=Dt;Ur<fn.length;Ur+=1)for(var tn=fn[Ur],Mn=0,xn=tn;Mn<xn.length;Mn+=1){var Sn=xn[Mn];qs(Sn,_,Y,pt)}}return Dt}function xh(R,_){var Y=[1/0,1/0,-1/0,-1/0],at=[1/0,1/0,-1/0,-1/0],pt=R.canonicalID();if(_.type==="Polygon"){var wt=qu(_.coordinates,at,pt),Dt=Of(R.geometry(),Y,at,pt);if(!Ff(Y,at))return!1;for(var qt=0,pe=Dt;qt<pe.length;qt+=1){var Se=pe[qt];if(!Sc(Se,wt))return!1}}if(_.type==="MultiPolygon"){var De=yh(_.coordinates,at,pt),Ge=Of(R.geometry(),Y,at,pt);if(!Ff(Y,at))return!1;for(var ar=0,rr=Ge;ar<rr.length;ar+=1){var br=rr[ar];if(!Rv(br,De))return!1}}return!0}function Bf(R,_){var Y=[1/0,1/0,-1/0,-1/0],at=[1/0,1/0,-1/0,-1/0],pt=R.canonicalID();if(_.type==="Polygon"){var wt=qu(_.coordinates,at,pt),Dt=mh(R.geometry(),Y,at,pt);if(!Ff(Y,at))return!1;for(var qt=0,pe=Dt;qt<pe.length;qt+=1){var Se=pe[qt];if(!xu(Se,wt))return!1}}if(_.type==="MultiPolygon"){var De=yh(_.coordinates,at,pt),Ge=mh(R.geometry(),Y,at,pt);if(!Ff(Y,at))return!1;for(var ar=0,rr=Ge;ar<rr.length;ar+=1){var br=rr[ar];if(!$u(br,De))return!1}}return!0}var ws=function(_,Y){this.type=An,this.geojson=_,this.geometries=Y};ws.parse=function(_,Y){if(_.length!==2)return Y.error("'within' expression requires exactly one argument, but found "+(_.length-1)+" instead.");if(zf(_[1])){var at=_[1];if(at.type==="FeatureCollection")for(var pt=0;pt<at.features.length;++pt){var wt=at.features[pt].geometry.type;if(wt==="Polygon"||wt==="MultiPolygon")return new ws(at,at.features[pt].geometry)}else if(at.type==="Feature"){var Dt=at.geometry.type;if(Dt==="Polygon"||Dt==="MultiPolygon")return new ws(at,at.geometry)}else if(at.type==="Polygon"||at.type==="MultiPolygon")return new ws(at,at)}return Y.error("'within' expression requires valid geojson object that contains polygon geometry type.")},ws.prototype.evaluate=function(_){if(_.geometry()!=null&&_.canonicalID()!=null){if(_.geometryType()==="Point")return xh(_,this.geometries);if(_.geometryType()==="LineString")return Bf(_,this.geometries)}return!1},ws.prototype.eachChild=function(){},ws.prototype.outputDefined=function(){return!0},ws.prototype.serialize=function(){return["within",this.geojson]};function bu(R){if(R instanceof xo){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof ws)return!1;var _=!0;return R.eachChild(function(Y){_&&!bu(Y)&&(_=!1)}),_}function Yl(R){if(R instanceof xo&&R.name==="feature-state")return!1;var _=!0;return R.eachChild(function(Y){_&&!Yl(Y)&&(_=!1)}),_}function tf(R,_){if(R instanceof xo&&_.indexOf(R.name)>=0)return!1;var Y=!0;return R.eachChild(function(at){Y&&!tf(at,_)&&(Y=!1)}),Y}var ml=function(_,Y){this.type=Y.type,this.name=_,this.boundExpression=Y};ml.parse=function(_,Y){if(_.length!==2||typeof _[1]!="string")return Y.error("'var' expression requires exactly one string literal argument.");var at=_[1];return Y.scope.has(at)?new ml(at,Y.scope.get(at)):Y.error('Unknown variable "'+at+'". Make sure "'+at+'" has been bound in an enclosing "let" expression before using it.',1)},ml.prototype.evaluate=function(_){return this.boundExpression.evaluate(_)},ml.prototype.eachChild=function(){},ml.prototype.outputDefined=function(){return!1},ml.prototype.serialize=function(){return["var",this.name]};var Us=function(_,Y,at,pt,wt){Y===void 0&&(Y=[]),pt===void 0&&(pt=new Yr),wt===void 0&&(wt=[]),this.registry=_,this.path=Y,this.key=Y.map(function(Dt){return"["+Dt+"]"}).join(""),this.scope=pt,this.errors=wt,this.expectedType=at};Us.prototype.parse=function(_,Y,at,pt,wt){return wt===void 0&&(wt={}),Y?this.concat(Y,at,pt)._parse(_,wt):this._parse(_,wt)},Us.prototype._parse=function(_,Y){(_===null||typeof _=="string"||typeof _=="boolean"||typeof _=="number")&&(_=["literal",_]);function at(De,Ge,ar){return ar==="assert"?new Mo(Ge,[De]):ar==="coerce"?new qo(Ge,[De]):De}if(Array.isArray(_)){if(_.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var pt=_[0];if(typeof pt!="string")return this.error("Expression name must be a string, but found "+typeof pt+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var wt=this.registry[pt];if(wt){var Dt=wt.parse(_,this);if(!Dt)return null;if(this.expectedType){var qt=this.expectedType,pe=Dt.type;if((qt.kind==="string"||qt.kind==="number"||qt.kind==="boolean"||qt.kind==="object"||qt.kind==="array")&&pe.kind==="value")Dt=at(Dt,qt,Y.typeAnnotation||"assert");else if((qt.kind==="color"||qt.kind==="formatted"||qt.kind==="resolvedImage")&&(pe.kind==="value"||pe.kind==="string"))Dt=at(Dt,qt,Y.typeAnnotation||"coerce");else if(this.checkSubtype(qt,pe))return null}if(!(Dt instanceof to)&&Dt.type.kind!=="resolvedImage"&&Mc(Dt)){var Se=new Bs;try{Dt=new to(Dt.type,Dt.evaluate(Se))}catch(De){return this.error(De.message),null}}return Dt}return this.error('Unknown expression "'+pt+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof _>"u"?this.error("'undefined' value invalid. Use null instead."):typeof _=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof _+" instead.")},Us.prototype.concat=function(_,Y,at){var pt=typeof _=="number"?this.path.concat(_):this.path,wt=at?this.scope.concat(at):this.scope;return new Us(this.registry,pt,Y||null,wt,this.errors)},Us.prototype.error=function(_){for(var Y=[],at=arguments.length-1;at-- >0;)Y[at]=arguments[at+1];var pt=""+this.key+Y.map(function(wt){return"["+wt+"]"}).join("");this.errors.push(new Er(pt,_))},Us.prototype.checkSubtype=function(_,Y){var at=$o(_,Y);return at&&this.error(at),at};function Mc(R){if(R instanceof ml)return Mc(R.boundExpression);if(R instanceof xo&&R.name==="error")return!1;if(R instanceof yl)return!1;if(R instanceof ws)return!1;var _=R instanceof qo||R instanceof Mo,Y=!0;return R.eachChild(function(at){_?Y=Y&&Mc(at):Y=Y&&at instanceof to}),Y?bu(R)&&tf(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function wu(R,_){for(var Y=R.length-1,at=0,pt=Y,wt=0,Dt,qt;at<=pt;)if(wt=Math.floor((at+pt)/2),Dt=R[wt],qt=R[wt+1],Dt<=_){if(wt===Y||_<qt)return wt;at=wt+1}else if(Dt>_)pt=wt-1;else throw new uo("Input is not a number.");return 0}var Ts=function(_,Y,at){this.type=_,this.input=Y,this.labels=[],this.outputs=[];for(var pt=0,wt=at;pt<wt.length;pt+=1){var Dt=wt[pt],qt=Dt[0],pe=Dt[1];this.labels.push(qt),this.outputs.push(pe)}};Ts.parse=function(_,Y){if(_.length-1<4)return Y.error("Expected at least 4 arguments, but found only "+(_.length-1)+".");if((_.length-1)%2!==0)return Y.error("Expected an even number of arguments.");var at=Y.parse(_[1],1,$r);if(!at)return null;var pt=[],wt=null;Y.expectedType&&Y.expectedType.kind!=="value"&&(wt=Y.expectedType);for(var Dt=1;Dt<_.length;Dt+=2){var qt=Dt===1?-1/0:_[Dt],pe=_[Dt+1],Se=Dt,De=Dt+1;if(typeof qt!="number")return Y.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Se);if(pt.length&&pt[pt.length-1][0]>=qt)return Y.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Se);var Ge=Y.parse(pe,De,wt);if(!Ge)return null;wt=wt||Ge.type,pt.push([qt,Ge])}return new Ts(wt,at,pt)},Ts.prototype.evaluate=function(_){var Y=this.labels,at=this.outputs;if(Y.length===1)return at[0].evaluate(_);var pt=this.input.evaluate(_);if(pt<=Y[0])return at[0].evaluate(_);var wt=Y.length;if(pt>=Y[wt-1])return at[wt-1].evaluate(_);var Dt=wu(Y,pt);return at[Dt].evaluate(_)},Ts.prototype.eachChild=function(_){_(this.input);for(var Y=0,at=this.outputs;Y<at.length;Y+=1){var pt=at[Y];_(pt)}},Ts.prototype.outputDefined=function(){return this.outputs.every(function(_){return _.outputDefined()})},Ts.prototype.serialize=function(){for(var _=["step",this.input.serialize()],Y=0;Y<this.labels.length;Y++)Y>0&&_.push(this.labels[Y]),_.push(this.outputs[Y].serialize());return _};function ja(R,_,Y){return R*(1-Y)+_*Y}function Ec(R,_,Y){return new la(ja(R.r,_.r,Y),ja(R.g,_.g,Y),ja(R.b,_.b,Y),ja(R.a,_.a,Y))}function zv(R,_,Y){return R.map(function(at,pt){return ja(at,_[pt],Y)})}var Nf=Object.freeze({__proto__:null,number:ja,color:Ec,array:zv}),Tu=.95047,Au=1,ts=1.08883,Uf=4/29,Su=6/29,Vf=3*Su*Su,Fv=Su*Su*Su,bh=Math.PI/180,Cc=180/Math.PI;function Lc(R){return R>Fv?Math.pow(R,.3333333333333333):R/Vf+Uf}function Pc(R){return R>Su?R*R*R:Vf*(R-Uf)}function Mu(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function Hf(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function ef(R){var _=Hf(R.r),Y=Hf(R.g),at=Hf(R.b),pt=Lc((.4124564*_+.3575761*Y+.1804375*at)/Tu),wt=Lc((.2126729*_+.7151522*Y+.072175*at)/Au),Dt=Lc((.0193339*_+.119192*Y+.9503041*at)/ts);return{l:116*wt-16,a:500*(pt-wt),b:200*(wt-Dt),alpha:R.a}}function Gf(R){var _=(R.l+16)/116,Y=isNaN(R.a)?_:_+R.a/500,at=isNaN(R.b)?_:_-R.b/200;return _=Au*Pc(_),Y=Tu*Pc(Y),at=ts*Pc(at),new la(Mu(3.2404542*Y-1.5371385*_-.4985314*at),Mu(-.969266*Y+1.8760108*_+.041556*at),Mu(.0556434*Y-.2040259*_+1.0572252*at),R.alpha)}function Ea(R,_,Y){return{l:ja(R.l,_.l,Y),a:ja(R.a,_.a,Y),b:ja(R.b,_.b,Y),alpha:ja(R.alpha,_.alpha,Y)}}function wh(R){var _=ef(R),Y=_.l,at=_.a,pt=_.b,wt=Math.atan2(pt,at)*Cc;return{h:wt<0?wt+360:wt,c:Math.sqrt(at*at+pt*pt),l:Y,alpha:R.a}}function As(R){var _=R.h*bh,Y=R.c,at=R.l;return Gf({l:at,a:Math.cos(_)*Y,b:Math.sin(_)*Y,alpha:R.alpha})}function Th(R,_,Y){var at=_-R;return R+Y*(at>180||at<-180?at-360*Math.round(at/360):at)}function Ic(R,_,Y){return{h:Th(R.h,_.h,Y),c:ja(R.c,_.c,Y),l:ja(R.l,_.l,Y),alpha:ja(R.alpha,_.alpha,Y)}}var jl={forward:ef,reverse:Gf,interpolate:Ea},xl={forward:wh,reverse:As,interpolate:Ic},Wf=Object.freeze({__proto__:null,lab:jl,hcl:xl}),$a=function(_,Y,at,pt,wt){this.type=_,this.operator=Y,this.interpolation=at,this.input=pt,this.labels=[],this.outputs=[];for(var Dt=0,qt=wt;Dt<qt.length;Dt+=1){var pe=qt[Dt],Se=pe[0],De=pe[1];this.labels.push(Se),this.outputs.push(De)}};$a.interpolationFactor=function(_,Y,at,pt){var wt=0;if(_.name==="exponential")wt=rf(Y,_.base,at,pt);else if(_.name==="linear")wt=rf(Y,1,at,pt);else if(_.name==="cubic-bezier"){var Dt=_.controlPoints,qt=new d(Dt[0],Dt[1],Dt[2],Dt[3]);wt=qt.solve(rf(Y,1,at,pt))}return wt},$a.parse=function(_,Y){var at=_[0],pt=_[1],wt=_[2],Dt=_.slice(3);if(!Array.isArray(pt)||pt.length===0)return Y.error("Expected an interpolation type expression.",1);if(pt[0]==="linear")pt={name:"linear"};else if(pt[0]==="exponential"){var qt=pt[1];if(typeof qt!="number")return Y.error("Exponential interpolation requires a numeric base.",1,1);pt={name:"exponential",base:qt}}else if(pt[0]==="cubic-bezier"){var pe=pt.slice(1);if(pe.length!==4||pe.some(function(tn){return typeof tn!="number"||tn<0||tn>1}))return Y.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);pt={name:"cubic-bezier",controlPoints:pe}}else return Y.error("Unknown interpolation type "+String(pt[0]),1,0);if(_.length-1<4)return Y.error("Expected at least 4 arguments, but found only "+(_.length-1)+".");if((_.length-1)%2!==0)return Y.error("Expected an even number of arguments.");if(wt=Y.parse(wt,2,$r),!wt)return null;var Se=[],De=null;at==="interpolate-hcl"||at==="interpolate-lab"?De=On:Y.expectedType&&Y.expectedType.kind!=="value"&&(De=Y.expectedType);for(var Ge=0;Ge<Dt.length;Ge+=2){var ar=Dt[Ge],rr=Dt[Ge+1],br=Ge+3,Ur=Ge+4;if(typeof ar!="number")return Y.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',br);if(Se.length&&Se[Se.length-1][0]>=ar)return Y.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',br);var fn=Y.parse(rr,Ur,De);if(!fn)return null;De=De||fn.type,Se.push([ar,fn])}return De.kind!=="number"&&De.kind!=="color"&&!(De.kind==="array"&&De.itemType.kind==="number"&&typeof De.N=="number")?Y.error("Type "+sa(De)+" is not interpolatable."):new $a(De,at,pt,wt,Se)},$a.prototype.evaluate=function(_){var Y=this.labels,at=this.outputs;if(Y.length===1)return at[0].evaluate(_);var pt=this.input.evaluate(_);if(pt<=Y[0])return at[0].evaluate(_);var wt=Y.length;if(pt>=Y[wt-1])return at[wt-1].evaluate(_);var Dt=wu(Y,pt),qt=Y[Dt],pe=Y[Dt+1],Se=$a.interpolationFactor(this.interpolation,pt,qt,pe),De=at[Dt].evaluate(_),Ge=at[Dt+1].evaluate(_);return this.operator==="interpolate"?Nf[this.type.kind.toLowerCase()](De,Ge,Se):this.operator==="interpolate-hcl"?xl.reverse(xl.interpolate(xl.forward(De),xl.forward(Ge),Se)):jl.reverse(jl.interpolate(jl.forward(De),jl.forward(Ge),Se))},$a.prototype.eachChild=function(_){_(this.input);for(var Y=0,at=this.outputs;Y<at.length;Y+=1){var pt=at[Y];_(pt)}},$a.prototype.outputDefined=function(){return this.outputs.every(function(_){return _.outputDefined()})},$a.prototype.serialize=function(){var _;this.interpolation.name==="linear"?_=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?_=["linear"]:_=["exponential",this.interpolation.base]:_=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var Y=[this.operator,_,this.input.serialize()],at=0;at<this.labels.length;at++)Y.push(this.labels[at],this.outputs[at].serialize());return Y};function rf(R,_,Y,at){var pt=at-Y,wt=R-Y;return pt===0?0:_===1?wt/pt:(Math.pow(_,wt)-1)/(Math.pow(_,pt)-1)}var Ss=function(_,Y){this.type=_,this.args=Y};Ss.parse=function(_,Y){if(_.length<2)return Y.error("Expectected at least one argument.");var at=null,pt=Y.expectedType;pt&&pt.kind!=="value"&&(at=pt);for(var wt=[],Dt=0,qt=_.slice(1);Dt<qt.length;Dt+=1){var pe=qt[Dt],Se=Y.parse(pe,1+wt.length,at,void 0,{typeAnnotation:"omit"});if(!Se)return null;at=at||Se.type,wt.push(Se)}var De=pt&&wt.some(function(Ge){return $o(pt,Ge.type)});return De?new Ss(zn,wt):new Ss(at,wt)},Ss.prototype.evaluate=function(_){for(var Y=null,at=0,pt,wt=0,Dt=this.args;wt<Dt.length;wt+=1){var qt=Dt[wt];if(at++,Y=qt.evaluate(_),Y&&Y instanceof Yo&&!Y.available&&(pt||(pt=Y.name),Y=null,at===this.args.length&&(Y=pt)),Y!==null)break}return Y},Ss.prototype.eachChild=function(_){this.args.forEach(_)},Ss.prototype.outputDefined=function(){return this.args.every(function(_){return _.outputDefined()})},Ss.prototype.serialize=function(){var _=["coalesce"];return this.eachChild(function(Y){_.push(Y.serialize())}),_};var tl=function(_,Y){this.type=Y.type,this.bindings=[].concat(_),this.result=Y};tl.prototype.evaluate=function(_){return this.result.evaluate(_)},tl.prototype.eachChild=function(_){for(var Y=0,at=this.bindings;Y<at.length;Y+=1){var pt=at[Y];_(pt[1])}_(this.result)},tl.parse=function(_,Y){if(_.length<4)return Y.error("Expected at least 3 arguments, but found "+(_.length-1)+" instead.");for(var at=[],pt=1;pt<_.length-1;pt+=2){var wt=_[pt];if(typeof wt!="string")return Y.error("Expected string, but found "+typeof wt+" instead.",pt);if(/[^a-zA-Z0-9_]/.test(wt))return Y.error("Variable names must contain only alphanumeric characters or '_'.",pt);var Dt=Y.parse(_[pt+1],pt+1);if(!Dt)return null;at.push([wt,Dt])}var qt=Y.parse(_[_.length-1],_.length-1,Y.expectedType,at);return qt?new tl(at,qt):null},tl.prototype.outputDefined=function(){return this.result.outputDefined()},tl.prototype.serialize=function(){for(var _=["let"],Y=0,at=this.bindings;Y<at.length;Y+=1){var pt=at[Y],wt=pt[0],Dt=pt[1];_.push(wt,Dt.serialize())}return _.push(this.result.serialize()),_};var Xl=function(_,Y,at){this.type=_,this.index=Y,this.input=at};Xl.parse=function(_,Y){if(_.length!==3)return Y.error("Expected 2 arguments, but found "+(_.length-1)+" instead.");var at=Y.parse(_[1],1,$r),pt=Y.parse(_[2],2,Ma(Y.expectedType||zn));if(!at||!pt)return null;var wt=pt.type;return new Xl(wt.itemType,at,pt)},Xl.prototype.evaluate=function(_){var Y=this.index.evaluate(_),at=this.input.evaluate(_);if(Y<0)throw new uo("Array index out of bounds: "+Y+" < 0.");if(Y>=at.length)throw new uo("Array index out of bounds: "+Y+" > "+(at.length-1)+".");if(Y!==Math.floor(Y))throw new uo("Array index must be an integer, but found "+Y+" instead.");return at[Y]},Xl.prototype.eachChild=function(_){_(this.index),_(this.input)},Xl.prototype.outputDefined=function(){return!1},Xl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var bl=function(_,Y){this.type=An,this.needle=_,this.haystack=Y};bl.parse=function(_,Y){if(_.length!==3)return Y.error("Expected 2 arguments, but found "+(_.length-1)+" instead.");var at=Y.parse(_[1],1,zn),pt=Y.parse(_[2],2,zn);return!at||!pt?null:So(at.type,[An,wn,$r,Gr,zn])?new bl(at,pt):Y.error("Expected first argument to be of type boolean, string, number or null, but found "+sa(at.type)+" instead")},bl.prototype.evaluate=function(_){var Y=this.needle.evaluate(_),at=this.haystack.evaluate(_);if(!at)return!1;if(!$s(Y,["boolean","string","number","null"]))throw new uo("Expected first argument to be of type boolean, string, number or null, but found "+sa(Qa(Y))+" instead.");if(!$s(at,["string","array"]))throw new uo("Expected second argument to be of type array or string, but found "+sa(Qa(at))+" instead.");return at.indexOf(Y)>=0},bl.prototype.eachChild=function(_){_(this.needle),_(this.haystack)},bl.prototype.outputDefined=function(){return!0},bl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ms=function(_,Y,at){this.type=$r,this.needle=_,this.haystack=Y,this.fromIndex=at};Ms.parse=function(_,Y){if(_.length<=2||_.length>=5)return Y.error("Expected 3 or 4 arguments, but found "+(_.length-1)+" instead.");var at=Y.parse(_[1],1,zn),pt=Y.parse(_[2],2,zn);if(!at||!pt)return null;if(!So(at.type,[An,wn,$r,Gr,zn]))return Y.error("Expected first argument to be of type boolean, string, number or null, but found "+sa(at.type)+" instead");if(_.length===4){var wt=Y.parse(_[3],3,$r);return wt?new Ms(at,pt,wt):null}else return new Ms(at,pt)},Ms.prototype.evaluate=function(_){var Y=this.needle.evaluate(_),at=this.haystack.evaluate(_);if(!$s(Y,["boolean","string","number","null"]))throw new uo("Expected first argument to be of type boolean, string, number or null, but found "+sa(Qa(Y))+" instead.");if(!$s(at,["string","array"]))throw new uo("Expected second argument to be of type array or string, but found "+sa(Qa(at))+" instead.");if(this.fromIndex){var pt=this.fromIndex.evaluate(_);return at.indexOf(Y,pt)}return at.indexOf(Y)},Ms.prototype.eachChild=function(_){_(this.needle),_(this.haystack),this.fromIndex&&_(this.fromIndex)},Ms.prototype.outputDefined=function(){return!1},Ms.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var _=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),_]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var el=function(_,Y,at,pt,wt,Dt){this.inputType=_,this.type=Y,this.input=at,this.cases=pt,this.outputs=wt,this.otherwise=Dt};el.parse=function(_,Y){if(_.length<5)return Y.error("Expected at least 4 arguments, but found only "+(_.length-1)+".");if(_.length%2!==1)return Y.error("Expected an even number of arguments.");var at,pt;Y.expectedType&&Y.expectedType.kind!=="value"&&(pt=Y.expectedType);for(var wt={},Dt=[],qt=2;qt<_.length-1;qt+=2){var pe=_[qt],Se=_[qt+1];Array.isArray(pe)||(pe=[pe]);var De=Y.concat(qt);if(pe.length===0)return De.error("Expected at least one branch label.");for(var Ge=0,ar=pe;Ge<ar.length;Ge+=1){var rr=ar[Ge];if(typeof rr!="number"&&typeof rr!="string")return De.error("Branch labels must be numbers or strings.");if(typeof rr=="number"&&Math.abs(rr)>Number.MAX_SAFE_INTEGER)return De.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof rr=="number"&&Math.floor(rr)!==rr)return De.error("Numeric branch labels must be integer values.");if(!at)at=Qa(rr);else if(De.checkSubtype(at,Qa(rr)))return null;if(typeof wt[String(rr)]<"u")return De.error("Branch labels must be unique.");wt[String(rr)]=Dt.length}var br=Y.parse(Se,qt,pt);if(!br)return null;pt=pt||br.type,Dt.push(br)}var Ur=Y.parse(_[1],1,zn);if(!Ur)return null;var fn=Y.parse(_[_.length-1],_.length-1,pt);return!fn||Ur.type.kind!=="value"&&Y.concat(1).checkSubtype(at,Ur.type)?null:new el(at,pt,Ur,wt,Dt,fn)},el.prototype.evaluate=function(_){var Y=this.input.evaluate(_),at=Qa(Y)===this.inputType&&this.outputs[this.cases[Y]]||this.otherwise;return at.evaluate(_)},el.prototype.eachChild=function(_){_(this.input),this.outputs.forEach(_),_(this.otherwise)},el.prototype.outputDefined=function(){return this.outputs.every(function(_){return _.outputDefined()})&&this.otherwise.outputDefined()},el.prototype.serialize=function(){for(var _=this,Y=["match",this.input.serialize()],at=Object.keys(this.cases).sort(),pt=[],wt={},Dt=0,qt=at;Dt<qt.length;Dt+=1){var pe=qt[Dt],Se=wt[this.cases[pe]];Se===void 0?(wt[this.cases[pe]]=pt.length,pt.push([this.cases[pe],[pe]])):pt[Se][1].push(pe)}for(var De=function(Ur){return _.inputType.kind==="number"?Number(Ur):Ur},Ge=0,ar=pt;Ge<ar.length;Ge+=1){var rr=ar[Ge],Se=rr[0],br=rr[1];br.length===1?Y.push(De(br[0])):Y.push(br.map(De)),Y.push(this.outputs[outputIndex$1].serialize())}return Y.push(this.otherwise.serialize()),Y};var Es=function(_,Y,at){this.type=_,this.branches=Y,this.otherwise=at};Es.parse=function(_,Y){if(_.length<4)return Y.error("Expected at least 3 arguments, but found only "+(_.length-1)+".");if(_.length%2!==0)return Y.error("Expected an odd number of arguments.");var at;Y.expectedType&&Y.expectedType.kind!=="value"&&(at=Y.expectedType);for(var pt=[],wt=1;wt<_.length-1;wt+=2){var Dt=Y.parse(_[wt],wt,An);if(!Dt)return null;var qt=Y.parse(_[wt+1],wt+1,at);if(!qt)return null;pt.push([Dt,qt]),at=at||qt.type}var pe=Y.parse(_[_.length-1],_.length-1,at);return pe?new Es(at,pt,pe):null},Es.prototype.evaluate=function(_){for(var Y=0,at=this.branches;Y<at.length;Y+=1){var pt=at[Y],wt=pt[0],Dt=pt[1];if(wt.evaluate(_))return Dt.evaluate(_)}return this.otherwise.evaluate(_)},Es.prototype.eachChild=function(_){for(var Y=0,at=this.branches;Y<at.length;Y+=1){var pt=at[Y],wt=pt[0],Dt=pt[1];_(wt),_(Dt)}_(this.otherwise)},Es.prototype.outputDefined=function(){return this.branches.every(function(_){_[0];var Y=_[1];return Y.outputDefined()})&&this.otherwise.outputDefined()},Es.prototype.serialize=function(){var _=["case"];return this.eachChild(function(Y){_.push(Y.serialize())}),_};var vs=function(_,Y,at,pt){this.type=_,this.input=Y,this.beginIndex=at,this.endIndex=pt};vs.parse=function(_,Y){if(_.length<=2||_.length>=5)return Y.error("Expected 3 or 4 arguments, but found "+(_.length-1)+" instead.");var at=Y.parse(_[1],1,zn),pt=Y.parse(_[2],2,$r);if(!at||!pt)return null;if(!So(at.type,[Ma(zn),wn,zn]))return Y.error("Expected first argument to be of type array or string, but found "+sa(at.type)+" instead");if(_.length===4){var wt=Y.parse(_[3],3,$r);return wt?new vs(at.type,at,pt,wt):null}else return new vs(at.type,at,pt)},vs.prototype.evaluate=function(_){var Y=this.input.evaluate(_),at=this.beginIndex.evaluate(_);if(!$s(Y,["string","array"]))throw new uo("Expected first argument to be of type array or string, but found "+sa(Qa(Y))+" instead.");if(this.endIndex){var pt=this.endIndex.evaluate(_);return Y.slice(at,pt)}return Y.slice(at)},vs.prototype.eachChild=function(_){_(this.input),_(this.beginIndex),this.endIndex&&_(this.endIndex)},vs.prototype.outputDefined=function(){return!1},vs.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var _=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),_]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function nf(R,_){return R==="=="||R==="!="?_.kind==="boolean"||_.kind==="string"||_.kind==="number"||_.kind==="null"||_.kind==="value":_.kind==="string"||_.kind==="number"||_.kind==="value"}function Ov(R,_,Y){return _===Y}function Bv(R,_,Y){return _!==Y}function Nv(R,_,Y){return _<Y}function Uv(R,_,Y){return _>Y}function Dc(R,_,Y){return _<=Y}function Ah(R,_,Y){return _>=Y}function Eu(R,_,Y,at){return at.compare(_,Y)===0}function bo(R,_,Y,at){return!Eu(R,_,Y,at)}function ss(R,_,Y,at){return at.compare(_,Y)<0}function Cu(R,_,Y,at){return at.compare(_,Y)>0}function Sh(R,_,Y,at){return at.compare(_,Y)<=0}function af(R,_,Y,at){return at.compare(_,Y)>=0}function rl(R,_,Y){var at=R!=="=="&&R!=="!=";return function(){function pt(wt,Dt,qt){this.type=An,this.lhs=wt,this.rhs=Dt,this.collator=qt,this.hasUntypedArgument=wt.type.kind==="value"||Dt.type.kind==="value"}return pt.parse=function(Dt,qt){if(Dt.length!==3&&Dt.length!==4)return qt.error("Expected two or three arguments.");var pe=Dt[0],Se=qt.parse(Dt[1],1,zn);if(!Se)return null;if(!nf(pe,Se.type))return qt.concat(1).error('"'+pe+`" comparisons are not supported for type '`+sa(Se.type)+"'.");var De=qt.parse(Dt[2],2,zn);if(!De)return null;if(!nf(pe,De.type))return qt.concat(2).error('"'+pe+`" comparisons are not supported for type '`+sa(De.type)+"'.");if(Se.type.kind!==De.type.kind&&Se.type.kind!=="value"&&De.type.kind!=="value")return qt.error("Cannot compare types '"+sa(Se.type)+"' and '"+sa(De.type)+"'.");at&&(Se.type.kind==="value"&&De.type.kind!=="value"?Se=new Mo(De.type,[Se]):Se.type.kind!=="value"&&De.type.kind==="value"&&(De=new Mo(Se.type,[De])));var Ge=null;if(Dt.length===4){if(Se.type.kind!=="string"&&De.type.kind!=="string"&&Se.type.kind!=="value"&&De.type.kind!=="value")return qt.error("Cannot use collator to compare non-string types.");if(Ge=qt.parse(Dt[3],3,Zn),!Ge)return null}return new pt(Se,De,Ge)},pt.prototype.evaluate=function(Dt){var qt=this.lhs.evaluate(Dt),pe=this.rhs.evaluate(Dt);if(at&&this.hasUntypedArgument){var Se=Qa(qt),De=Qa(pe);if(Se.kind!==De.kind||!(Se.kind==="string"||Se.kind==="number"))throw new uo('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+Se.kind+", "+De.kind+") instead.")}if(this.collator&&!at&&this.hasUntypedArgument){var Ge=Qa(qt),ar=Qa(pe);if(Ge.kind!=="string"||ar.kind!=="string")return _(Dt,qt,pe)}return this.collator?Y(Dt,qt,pe,this.collator.evaluate(Dt)):_(Dt,qt,pe)},pt.prototype.eachChild=function(Dt){Dt(this.lhs),Dt(this.rhs),this.collator&&Dt(this.collator)},pt.prototype.outputDefined=function(){return!0},pt.prototype.serialize=function(){var Dt=[R];return this.eachChild(function(qt){Dt.push(qt.serialize())}),Dt},pt}()}var Vv=rl("==",Ov,Eu),Mh=rl("!=",Bv,bo),Eh=rl("<",Nv,ss),Rc=rl(">",Uv,Cu),Ch=rl("<=",Dc,Sh),jo=rl(">=",Ah,af),Cs=function(_,Y,at,pt,wt){this.type=wn,this.number=_,this.locale=Y,this.currency=at,this.minFractionDigits=pt,this.maxFractionDigits=wt};Cs.parse=function(_,Y){if(_.length!==3)return Y.error("Expected two arguments.");var at=Y.parse(_[1],1,$r);if(!at)return null;var pt=_[2];if(typeof pt!="object"||Array.isArray(pt))return Y.error("NumberFormat options argument must be an object.");var wt=null;if(pt.locale&&(wt=Y.parse(pt.locale,1,wn),!wt))return null;var Dt=null;if(pt.currency&&(Dt=Y.parse(pt.currency,1,wn),!Dt))return null;var qt=null;if(pt["min-fraction-digits"]&&(qt=Y.parse(pt["min-fraction-digits"],1,$r),!qt))return null;var pe=null;return pt["max-fraction-digits"]&&(pe=Y.parse(pt["max-fraction-digits"],1,$r),!pe)?null:new Cs(at,wt,Dt,qt,pe)},Cs.prototype.evaluate=function(_){return new Intl.NumberFormat(this.locale?this.locale.evaluate(_):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(_):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(_):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(_):void 0}).format(this.number.evaluate(_))},Cs.prototype.eachChild=function(_){_(this.number),this.locale&&_(this.locale),this.currency&&_(this.currency),this.minFractionDigits&&_(this.minFractionDigits),this.maxFractionDigits&&_(this.maxFractionDigits)},Cs.prototype.outputDefined=function(){return!1},Cs.prototype.serialize=function(){var _={};return this.locale&&(_.locale=this.locale.serialize()),this.currency&&(_.currency=this.currency.serialize()),this.minFractionDigits&&(_["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(_["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),_]};var wl=function(_){this.type=$r,this.input=_};wl.parse=function(_,Y){if(_.length!==2)return Y.error("Expected 1 argument, but found "+(_.length-1)+" instead.");var at=Y.parse(_[1],1);return at?at.type.kind!=="array"&&at.type.kind!=="string"&&at.type.kind!=="value"?Y.error("Expected argument of type string or array, but found "+sa(at.type)+" instead."):new wl(at):null},wl.prototype.evaluate=function(_){var Y=this.input.evaluate(_);if(typeof Y=="string")return Y.length;if(Array.isArray(Y))return Y.length;throw new uo("Expected value to be of type string or array, but found "+sa(Qa(Y))+" instead.")},wl.prototype.eachChild=function(_){_(this.input)},wl.prototype.outputDefined=function(){return!1},wl.prototype.serialize=function(){var _=["length"];return this.eachChild(function(Y){_.push(Y.serialize())}),_};var Lu={"==":Vv,"!=":Mh,">":Rc,"<":Eh,">=":jo,"<=":Ch,array:Mo,at:Xl,boolean:Mo,case:Es,coalesce:Ss,collator:yl,format:Eo,image:os,in:bl,"index-of":Ms,interpolate:$a,"interpolate-hcl":$a,"interpolate-lab":$a,length:wl,let:tl,literal:to,match:el,number:Mo,"number-format":Cs,object:Mo,slice:vs,step:Ts,string:Mo,"to-boolean":qo,"to-color":qo,"to-number":qo,"to-string":qo,var:ml,within:ws};function Yf(R,_){var Y=_[0],at=_[1],pt=_[2],wt=_[3];Y=Y.evaluate(R),at=at.evaluate(R),pt=pt.evaluate(R);var Dt=wt?wt.evaluate(R):1,qt=gu(Y,at,pt,Dt);if(qt)throw new uo(qt);return new la(Y/255*Dt,at/255*Dt,pt/255*Dt,Dt)}function Zl(R,_){return R in _}function Kl(R,_){var Y=_[R];return typeof Y>"u"?null:Y}function Lh(R,_,Y,at){for(;Y<=at;){var pt=Y+at>>1;if(_[pt]===R)return!0;_[pt]>R?at=pt-1:Y=pt+1}return!1}function nl(R){return{type:R}}xo.register(Lu,{error:[Yn,[wn],function(R,_){var Y=_[0];throw new uo(Y.evaluate(R))}],typeof:[wn,[zn],function(R,_){var Y=_[0];return sa(Qa(Y.evaluate(R)))}],"to-rgba":[Ma($r,4),[On],function(R,_){var Y=_[0];return Y.evaluate(R).toArray()}],rgb:[On,[$r,$r,$r],Yf],rgba:[On,[$r,$r,$r,$r],Yf],has:{type:An,overloads:[[[wn],function(R,_){var Y=_[0];return Zl(Y.evaluate(R),R.properties())}],[[wn,Un],function(R,_){var Y=_[0],at=_[1];return Zl(Y.evaluate(R),at.evaluate(R))}]]},get:{type:zn,overloads:[[[wn],function(R,_){var Y=_[0];return Kl(Y.evaluate(R),R.properties())}],[[wn,Un],function(R,_){var Y=_[0],at=_[1];return Kl(Y.evaluate(R),at.evaluate(R))}]]},"feature-state":[zn,[wn],function(R,_){var Y=_[0];return Kl(Y.evaluate(R),R.featureState||{})}],properties:[Un,[],function(R){return R.properties()}],"geometry-type":[wn,[],function(R){return R.geometryType()}],id:[zn,[],function(R){return R.id()}],zoom:[$r,[],function(R){return R.globals.zoom}],"heatmap-density":[$r,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[$r,[],function(R){return R.globals.lineProgress||0}],accumulated:[zn,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[$r,nl($r),function(R,_){for(var Y=0,at=0,pt=_;at<pt.length;at+=1){var wt=pt[at];Y+=wt.evaluate(R)}return Y}],"*":[$r,nl($r),function(R,_){for(var Y=1,at=0,pt=_;at<pt.length;at+=1){var wt=pt[at];Y*=wt.evaluate(R)}return Y}],"-":{type:$r,overloads:[[[$r,$r],function(R,_){var Y=_[0],at=_[1];return Y.evaluate(R)-at.evaluate(R)}],[[$r],function(R,_){var Y=_[0];return-Y.evaluate(R)}]]},"/":[$r,[$r,$r],function(R,_){var Y=_[0],at=_[1];return Y.evaluate(R)/at.evaluate(R)}],"%":[$r,[$r,$r],function(R,_){var Y=_[0],at=_[1];return Y.evaluate(R)%at.evaluate(R)}],ln2:[$r,[],function(){return Math.LN2}],pi:[$r,[],function(){return Math.PI}],e:[$r,[],function(){return Math.E}],"^":[$r,[$r,$r],function(R,_){var Y=_[0],at=_[1];return Math.pow(Y.evaluate(R),at.evaluate(R))}],sqrt:[$r,[$r],function(R,_){var Y=_[0];return Math.sqrt(Y.evaluate(R))}],log10:[$r,[$r],function(R,_){var Y=_[0];return Math.log(Y.evaluate(R))/Math.LN10}],ln:[$r,[$r],function(R,_){var Y=_[0];return Math.log(Y.evaluate(R))}],log2:[$r,[$r],function(R,_){var Y=_[0];return Math.log(Y.evaluate(R))/Math.LN2}],sin:[$r,[$r],function(R,_){var Y=_[0];return Math.sin(Y.evaluate(R))}],cos:[$r,[$r],function(R,_){var Y=_[0];return Math.cos(Y.evaluate(R))}],tan:[$r,[$r],function(R,_){var Y=_[0];return Math.tan(Y.evaluate(R))}],asin:[$r,[$r],function(R,_){var Y=_[0];return Math.asin(Y.evaluate(R))}],acos:[$r,[$r],function(R,_){var Y=_[0];return Math.acos(Y.evaluate(R))}],atan:[$r,[$r],function(R,_){var Y=_[0];return Math.atan(Y.evaluate(R))}],min:[$r,nl($r),function(R,_){return Math.min.apply(Math,_.map(function(Y){return Y.evaluate(R)}))}],max:[$r,nl($r),function(R,_){return Math.max.apply(Math,_.map(function(Y){return Y.evaluate(R)}))}],abs:[$r,[$r],function(R,_){var Y=_[0];return Math.abs(Y.evaluate(R))}],round:[$r,[$r],function(R,_){var Y=_[0],at=Y.evaluate(R);return at<0?-Math.round(-at):Math.round(at)}],floor:[$r,[$r],function(R,_){var Y=_[0];return Math.floor(Y.evaluate(R))}],ceil:[$r,[$r],function(R,_){var Y=_[0];return Math.ceil(Y.evaluate(R))}],"filter-==":[An,[wn,zn],function(R,_){var Y=_[0],at=_[1];return R.properties()[Y.value]===at.value}],"filter-id-==":[An,[zn],function(R,_){var Y=_[0];return R.id()===Y.value}],"filter-type-==":[An,[wn],function(R,_){var Y=_[0];return R.geometryType()===Y.value}],"filter-<":[An,[wn,zn],function(R,_){var Y=_[0],at=_[1],pt=R.properties()[Y.value],wt=at.value;return typeof pt==typeof wt&&pt<wt}],"filter-id-<":[An,[zn],function(R,_){var Y=_[0],at=R.id(),pt=Y.value;return typeof at==typeof pt&&at<pt}],"filter->":[An,[wn,zn],function(R,_){var Y=_[0],at=_[1],pt=R.properties()[Y.value],wt=at.value;return typeof pt==typeof wt&&pt>wt}],"filter-id->":[An,[zn],function(R,_){var Y=_[0],at=R.id(),pt=Y.value;return typeof at==typeof pt&&at>pt}],"filter-<=":[An,[wn,zn],function(R,_){var Y=_[0],at=_[1],pt=R.properties()[Y.value],wt=at.value;return typeof pt==typeof wt&&pt<=wt}],"filter-id-<=":[An,[zn],function(R,_){var Y=_[0],at=R.id(),pt=Y.value;return typeof at==typeof pt&&at<=pt}],"filter->=":[An,[wn,zn],function(R,_){var Y=_[0],at=_[1],pt=R.properties()[Y.value],wt=at.value;return typeof pt==typeof wt&&pt>=wt}],"filter-id->=":[An,[zn],function(R,_){var Y=_[0],at=R.id(),pt=Y.value;return typeof at==typeof pt&&at>=pt}],"filter-has":[An,[zn],function(R,_){var Y=_[0];return Y.value in R.properties()}],"filter-has-id":[An,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[An,[Ma(wn)],function(R,_){var Y=_[0];return Y.value.indexOf(R.geometryType())>=0}],"filter-id-in":[An,[Ma(zn)],function(R,_){var Y=_[0];return Y.value.indexOf(R.id())>=0}],"filter-in-small":[An,[wn,Ma(zn)],function(R,_){var Y=_[0],at=_[1];return at.value.indexOf(R.properties()[Y.value])>=0}],"filter-in-large":[An,[wn,Ma(zn)],function(R,_){var Y=_[0],at=_[1];return Lh(R.properties()[Y.value],at.value,0,at.value.length-1)}],all:{type:An,overloads:[[[An,An],function(R,_){var Y=_[0],at=_[1];return Y.evaluate(R)&&at.evaluate(R)}],[nl(An),function(R,_){for(var Y=0,at=_;Y<at.length;Y+=1){var pt=at[Y];if(!pt.evaluate(R))return!1}return!0}]]},any:{type:An,overloads:[[[An,An],function(R,_){var Y=_[0],at=_[1];return Y.evaluate(R)||at.evaluate(R)}],[nl(An),function(R,_){for(var Y=0,at=_;Y<at.length;Y+=1){var pt=at[Y];if(pt.evaluate(R))return!0}return!1}]]},"!":[An,[An],function(R,_){var Y=_[0];return!Y.evaluate(R)}],"is-supported-script":[An,[wn],function(R,_){var Y=_[0],at=R.globals&&R.globals.isSupportedScript;return at?at(Y.evaluate(R)):!0}],upcase:[wn,[wn],function(R,_){var Y=_[0];return Y.evaluate(R).toUpperCase()}],downcase:[wn,[wn],function(R,_){var Y=_[0];return Y.evaluate(R).toLowerCase()}],concat:[wn,nl(zn),function(R,_){return _.map(function(Y){return yu(Y.evaluate(R))}).join("")}],"resolved-locale":[wn,[Zn],function(R,_){var Y=_[0];return Y.evaluate(R).resolvedLocale()}]});function Pu(R){return{result:"success",value:R}}function Tl(R){return{result:"error",value:R}}function il(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function of(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function Iu(R){return!!R.expression&&R.expression.interpolated}function Ta(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function Du(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function jf(R){return R}function Ph(R,_){var Y=_.type==="color",at=R.stops&&typeof R.stops[0][0]=="object",pt=at||R.property!==void 0,wt=at||!pt,Dt=R.type||(Iu(_)?"exponential":"interval");if(Y&&(R=Rn({},R),R.stops&&(R.stops=R.stops.map(function(ei){return[ei[0],la.parse(ei[1])]})),R.default?R.default=la.parse(R.default):R.default=la.parse(_.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!Wf[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var qt,pe,Se;if(Dt==="exponential")qt=_c;else if(Dt==="interval")qt=Xf;else if(Dt==="categorical"){qt=sf,pe=Object.create(null);for(var De=0,Ge=R.stops;De<Ge.length;De+=1){var ar=Ge[De];pe[ar[0]]=ar[1]}Se=typeof R.stops[0][0]}else if(Dt==="identity")qt=lf;else throw new Error('Unknown function type "'+Dt+'"');if(at){for(var rr={},br=[],Ur=0;Ur<R.stops.length;Ur++){var fn=R.stops[Ur],tn=fn[0].zoom;rr[tn]===void 0&&(rr[tn]={zoom:tn,type:R.type,property:R.property,default:R.default,stops:[]},br.push(tn)),rr[tn].stops.push([fn[0].value,fn[1]])}for(var Mn=[],xn=0,Sn=br;xn<Sn.length;xn+=1){var Fn=Sn[xn];Mn.push([rr[Fn].zoom,Ph(rr[Fn],_)])}var jn={name:"linear"};return{kind:"composite",interpolationType:jn,interpolationFactor:$a.interpolationFactor.bind(void 0,jn),zoomStops:Mn.map(function(ei){return ei[0]}),evaluate:function(wi,pi){var xi=wi.zoom;return _c({stops:Mn,base:R.base},_,xi).evaluate(xi,pi)}}}else if(wt){var ai=Dt==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:ai,interpolationFactor:$a.interpolationFactor.bind(void 0,ai),zoomStops:R.stops.map(function(ei){return ei[0]}),evaluate:function(ei){var wi=ei.zoom;return qt(R,_,wi,pe,Se)}}}else return{kind:"source",evaluate:function(wi,pi){var xi=pi&&pi.properties?pi.properties[R.property]:void 0;return xi===void 0?Ru(R.default,_.default):qt(R,_,xi,pe,Se)}}}function Ru(R,_,Y){if(R!==void 0)return R;if(_!==void 0)return _;if(Y!==void 0)return Y}function sf(R,_,Y,at,pt){var wt=typeof Y===pt?at[Y]:void 0;return Ru(wt,R.default,_.default)}function Xf(R,_,Y){if(Ta(Y)!=="number")return Ru(R.default,_.default);var at=R.stops.length;if(at===1||Y<=R.stops[0][0])return R.stops[0][1];if(Y>=R.stops[at-1][0])return R.stops[at-1][1];var pt=wu(R.stops.map(function(wt){return wt[0]}),Y);return R.stops[pt][1]}function _c(R,_,Y){var at=R.base!==void 0?R.base:1;if(Ta(Y)!=="number")return Ru(R.default,_.default);var pt=R.stops.length;if(pt===1||Y<=R.stops[0][0])return R.stops[0][1];if(Y>=R.stops[pt-1][0])return R.stops[pt-1][1];var wt=wu(R.stops.map(function(Ge){return Ge[0]}),Y),Dt=uf(Y,at,R.stops[wt][0],R.stops[wt+1][0]),qt=R.stops[wt][1],pe=R.stops[wt+1][1],Se=Nf[_.type]||jf;if(R.colorSpace&&R.colorSpace!=="rgb"){var De=Wf[R.colorSpace];Se=function(Ge,ar){return De.reverse(De.interpolate(De.forward(Ge),De.forward(ar),Dt))}}return typeof qt.evaluate=="function"?{evaluate:function(){for(var ar=[],rr=arguments.length;rr--;)ar[rr]=arguments[rr];var br=qt.evaluate.apply(void 0,ar),Ur=pe.evaluate.apply(void 0,ar);if(!(br===void 0||Ur===void 0))return Se(br,Ur,Dt)}}:Se(qt,pe,Dt)}function lf(R,_,Y){return _.type==="color"?Y=la.parse(Y):_.type==="formatted"?Y=mo.fromString(Y.toString()):_.type==="resolvedImage"?Y=Yo.fromString(Y.toString()):Ta(Y)!==_.type&&(_.type!=="enum"||!_.values[Y])&&(Y=void 0),Ru(Y,R.default,_.default)}function uf(R,_,Y,at){var pt=at-Y,wt=R-Y;return pt===0?0:_===1?wt/pt:(Math.pow(_,wt)-1)/(Math.pow(_,pt)-1)}var Al=function(_,Y){this.expression=_,this._warningHistory={},this._evaluator=new Bs,this._defaultValue=Y?Ih(Y):null,this._enumValues=Y&&Y.type==="enum"?Y.values:null};Al.prototype.evaluateWithoutErrorHandling=function(_,Y,at,pt,wt,Dt){return this._evaluator.globals=_,this._evaluator.feature=Y,this._evaluator.featureState=at,this._evaluator.canonical=pt,this._evaluator.availableImages=wt||null,this._evaluator.formattedSection=Dt,this.expression.evaluate(this._evaluator)},Al.prototype.evaluate=function(_,Y,at,pt,wt,Dt){this._evaluator.globals=_,this._evaluator.feature=Y||null,this._evaluator.featureState=at||null,this._evaluator.canonical=pt,this._evaluator.availableImages=wt||null,this._evaluator.formattedSection=Dt||null;try{var qt=this.expression.evaluate(this._evaluator);if(qt==null||typeof qt=="number"&&qt!==qt)return this._defaultValue;if(this._enumValues&&!(qt in this._enumValues))throw new uo("Expected value to be one of "+Object.keys(this._enumValues).map(function(pe){return JSON.stringify(pe)}).join(", ")+", but found "+JSON.stringify(qt)+" instead.");return qt}catch(pe){return this._warningHistory[pe.message]||(this._warningHistory[pe.message]=!0,typeof console<"u"&&console.warn(pe.message)),this._defaultValue}};function ff(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in Lu}function Sl(R,_){var Y=new Us(Lu,[],_?Hv(_):void 0),at=Y.parse(R,void 0,void 0,void 0,_&&_.type==="string"?{typeAnnotation:"coerce"}:void 0);return at?Pu(new Al(at,_)):Tl(Y.errors)}var fo=function(_,Y){this.kind=_,this._styleExpression=Y,this.isStateDependent=_!=="constant"&&!Yl(Y.expression)};fo.prototype.evaluateWithoutErrorHandling=function(_,Y,at,pt,wt,Dt){return this._styleExpression.evaluateWithoutErrorHandling(_,Y,at,pt,wt,Dt)},fo.prototype.evaluate=function(_,Y,at,pt,wt,Dt){return this._styleExpression.evaluate(_,Y,at,pt,wt,Dt)};var Vs=function(_,Y,at,pt){this.kind=_,this.zoomStops=at,this._styleExpression=Y,this.isStateDependent=_!=="camera"&&!Yl(Y.expression),this.interpolationType=pt};Vs.prototype.evaluateWithoutErrorHandling=function(_,Y,at,pt,wt,Dt){return this._styleExpression.evaluateWithoutErrorHandling(_,Y,at,pt,wt,Dt)},Vs.prototype.evaluate=function(_,Y,at,pt,wt,Dt){return this._styleExpression.evaluate(_,Y,at,pt,wt,Dt)},Vs.prototype.interpolationFactor=function(_,Y,at){return this.interpolationType?$a.interpolationFactor(this.interpolationType,_,Y,at):0};function kc(R,_){if(R=Sl(R,_),R.result==="error")return R;var Y=R.value.expression,at=bu(Y);if(!at&&!il(_))return Tl([new Er("","data expressions not supported")]);var pt=tf(Y,["zoom"]);if(!pt&&!of(_))return Tl([new Er("","zoom expressions not supported")]);var wt=cf(Y);if(!wt&&!pt)return Tl([new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(wt instanceof Er)return Tl([wt]);if(wt instanceof $a&&!Iu(_))return Tl([new Er("",'"interpolate" expressions cannot be used with this property')]);if(!wt)return Pu(at?new fo("constant",R.value):new fo("source",R.value));var Dt=wt instanceof $a?wt.interpolation:void 0;return Pu(at?new Vs("camera",R.value,wt.labels,Dt):new Vs("composite",R.value,wt.labels,Dt))}var Jl=function(_,Y){this._parameters=_,this._specification=Y,Rn(this,Ph(this._parameters,this._specification))};Jl.deserialize=function(_){return new Jl(_._parameters,_._specification)},Jl.serialize=function(_){return{_parameters:_._parameters,_specification:_._specification}};function Zf(R,_){if(Du(R))return new Jl(R,_);if(ff(R)){var Y=kc(R,_);if(Y.result==="error")throw new Error(Y.value.map(function(pt){return pt.key+": "+pt.message}).join(", "));return Y.value}else{var at=R;return typeof R=="string"&&_.type==="color"&&(at=la.parse(R)),{kind:"constant",evaluate:function(){return at}}}}function cf(R){var _=null;if(R instanceof tl)_=cf(R.result);else if(R instanceof Ss)for(var Y=0,at=R.args;Y<at.length;Y+=1){var pt=at[Y];if(_=cf(pt),_)break}else(R instanceof Ts||R instanceof $a)&&R.input instanceof xo&&R.input.name==="zoom"&&(_=R);return _ instanceof Er||R.eachChild(function(wt){var Dt=cf(wt);Dt instanceof Er?_=Dt:!_&&Dt?_=new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):_&&Dt&&_!==Dt&&(_=new Er("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),_}function Hv(R){var _={color:On,string:wn,number:$r,enum:wn,boolean:An,formatted:si,resolvedImage:Li};return R.type==="array"?Ma(_[R.value]||zn,R.length):_[R.type]}function Ih(R){return R.type==="color"&&Du(R.default)?new la(0,0,0,0):R.type==="color"?la.parse(R.default)||null:R.default===void 0?null:R.default}function Uo(R){var _=R.key,Y=R.value,at=R.valueSpec||{},pt=R.objectElementValidators||{},wt=R.style,Dt=R.styleSpec,qt=[],pe=Ta(Y);if(pe!=="object")return[new Nr(_,Y,"object expected, "+pe+" found")];for(var Se in Y){var De=Se.split(".")[0],Ge=at[De]||at["*"],ar=void 0;if(pt[De])ar=pt[De];else if(at[De])ar=zr;else if(pt["*"])ar=pt["*"];else if(at["*"])ar=zr;else{qt.push(new Nr(_,Y[Se],'unknown property "'+Se+'"'));continue}qt=qt.concat(ar({key:(_&&_+".")+Se,value:Y[Se],valueSpec:Ge,style:wt,styleSpec:Dt,object:Y,objectKey:Se},Y))}for(var rr in at)pt[rr]||at[rr].required&&at[rr].default===void 0&&Y[rr]===void 0&&qt.push(new Nr(_,Y,'missing required property "'+rr+'"'));return qt}function hf(R){var _=R.value,Y=R.valueSpec,at=R.style,pt=R.styleSpec,wt=R.key,Dt=R.arrayElementValidator||zr;if(Ta(_)!=="array")return[new Nr(wt,_,"array expected, "+Ta(_)+" found")];if(Y.length&&_.length!==Y.length)return[new Nr(wt,_,"array length "+Y.length+" expected, length "+_.length+" found")];if(Y["min-length"]&&_.length<Y["min-length"])return[new Nr(wt,_,"array length at least "+Y["min-length"]+" expected, length "+_.length+" found")];var qt={type:Y.value,values:Y.values};pt.$version<7&&(qt.function=Y.function),Ta(Y.value)==="object"&&(qt=Y.value);for(var pe=[],Se=0;Se<_.length;Se++)pe=pe.concat(Dt({array:_,arrayIndex:Se,value:_[Se],valueSpec:qt,style:at,styleSpec:pt,key:wt+"["+Se+"]"}));return pe}function _u(R){var _=R.key,Y=R.value,at=R.valueSpec,pt=Ta(Y);return pt==="number"&&Y!==Y&&(pt="NaN"),pt!=="number"?[new Nr(_,Y,"number expected, "+pt+" found")]:"minimum"in at&&Y<at.minimum?[new Nr(_,Y,Y+" is less than the minimum value "+at.minimum)]:"maximum"in at&&Y>at.maximum?[new Nr(_,Y,Y+" is greater than the maximum value "+at.maximum)]:[]}function Dh(R){var _=R.valueSpec,Y=mn(R.value.type),at,pt={},wt,Dt,qt=Y!=="categorical"&&R.value.property===void 0,pe=!qt,Se=Ta(R.value.stops)==="array"&&Ta(R.value.stops[0])==="array"&&Ta(R.value.stops[0][0])==="object",De=Uo({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:Ge,default:br}});return Y==="identity"&&qt&&De.push(new Nr(R.key,R.value,'missing required property "property"')),Y!=="identity"&&!R.value.stops&&De.push(new Nr(R.key,R.value,'missing required property "stops"')),Y==="exponential"&&R.valueSpec.expression&&!Iu(R.valueSpec)&&De.push(new Nr(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(pe&&!il(R.valueSpec)?De.push(new Nr(R.key,R.value,"property functions not supported")):qt&&!of(R.valueSpec)&&De.push(new Nr(R.key,R.value,"zoom functions not supported"))),(Y==="categorical"||Se)&&R.value.property===void 0&&De.push(new Nr(R.key,R.value,'"property" property is required')),De;function Ge(Ur){if(Y==="identity")return[new Nr(Ur.key,Ur.value,'identity function may not have a "stops" property')];var fn=[],tn=Ur.value;return fn=fn.concat(hf({key:Ur.key,value:tn,valueSpec:Ur.valueSpec,style:Ur.style,styleSpec:Ur.styleSpec,arrayElementValidator:ar})),Ta(tn)==="array"&&tn.length===0&&fn.push(new Nr(Ur.key,tn,"array must have at least one stop")),fn}function ar(Ur){var fn=[],tn=Ur.value,Mn=Ur.key;if(Ta(tn)!=="array")return[new Nr(Mn,tn,"array expected, "+Ta(tn)+" found")];if(tn.length!==2)return[new Nr(Mn,tn,"array length 2 expected, length "+tn.length+" found")];if(Se){if(Ta(tn[0])!=="object")return[new Nr(Mn,tn,"object expected, "+Ta(tn[0])+" found")];if(tn[0].zoom===void 0)return[new Nr(Mn,tn,"object stop key must have zoom")];if(tn[0].value===void 0)return[new Nr(Mn,tn,"object stop key must have value")];if(Dt&&Dt>mn(tn[0].zoom))return[new Nr(Mn,tn[0].zoom,"stop zoom values must appear in ascending order")];mn(tn[0].zoom)!==Dt&&(Dt=mn(tn[0].zoom),wt=void 0,pt={}),fn=fn.concat(Uo({key:Mn+"[0]",value:tn[0],valueSpec:{zoom:{}},style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{zoom:_u,value:rr}}))}else fn=fn.concat(rr({key:Mn+"[0]",value:tn[0],valueSpec:{},style:Ur.style,styleSpec:Ur.styleSpec},tn));return ff(cn(tn[1]))?fn.concat([new Nr(Mn+"[1]",tn[1],"expressions are not allowed in function stops.")]):fn.concat(zr({key:Mn+"[1]",value:tn[1],valueSpec:_,style:Ur.style,styleSpec:Ur.styleSpec}))}function rr(Ur,fn){var tn=Ta(Ur.value),Mn=mn(Ur.value),xn=Ur.value!==null?Ur.value:fn;if(!at)at=tn;else if(tn!==at)return[new Nr(Ur.key,xn,tn+" stop domain type must match previous stop domain type "+at)];if(tn!=="number"&&tn!=="string"&&tn!=="boolean")return[new Nr(Ur.key,xn,"stop domain value must be a number, string, or boolean")];if(tn!=="number"&&Y!=="categorical"){var Sn="number expected, "+tn+" found";return il(_)&&Y===void 0&&(Sn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Nr(Ur.key,xn,Sn)]}return Y==="categorical"&&tn==="number"&&(!isFinite(Mn)||Math.floor(Mn)!==Mn)?[new Nr(Ur.key,xn,"integer expected, found "+Mn)]:Y!=="categorical"&&tn==="number"&&wt!==void 0&&Mn<wt?[new Nr(Ur.key,xn,"stop domain values must appear in ascending order")]:(wt=Mn,Y==="categorical"&&Mn in pt?[new Nr(Ur.key,xn,"stop domain values must be unique")]:(pt[Mn]=!0,[]))}function br(Ur){return zr({key:Ur.key,value:Ur.value,valueSpec:_,style:Ur.style,styleSpec:Ur.styleSpec})}}function Ml(R){var _=(R.expressionContext==="property"?kc:Sl)(cn(R.value),R.valueSpec);if(_.result==="error")return _.value.map(function(at){return new Nr(""+R.key+at.key,R.value,at.message)});var Y=_.value.expression||_.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!Y.outputDefined())return[new Nr(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!Yl(Y))return[new Nr(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!Yl(Y))return[new Nr(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!tf(Y,["zoom","feature-state"]))return[new Nr(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!bu(Y))return[new Nr(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Gv(R){var _=R.value,Y=R.key,at=Ta(_);return at!=="boolean"?[new Nr(Y,_,"boolean expected, "+at+" found")]:[]}function es(R){var _=R.key,Y=R.value,at=Ta(Y);return at!=="string"?[new Nr(_,Y,"color expected, "+at+" found")]:Ju(Y)===null?[new Nr(_,Y,'color expected, "'+Y+'" found')]:[]}function vf(R){var _=R.key,Y=R.value,at=R.valueSpec,pt=[];return Array.isArray(at.values)?at.values.indexOf(mn(Y))===-1&&pt.push(new Nr(_,Y,"expected one of ["+at.values.join(", ")+"], "+JSON.stringify(Y)+" found")):Object.keys(at.values).indexOf(mn(Y))===-1&&pt.push(new Nr(_,Y,"expected one of ["+Object.keys(at.values).join(", ")+"], "+JSON.stringify(Y)+" found")),pt}function Kf(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var _=0,Y=R.slice(1);_<Y.length;_+=1){var at=Y[_];if(!Kf(at)&&typeof at!="boolean")return!1}return!0;default:return!0}}var al={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function El(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};Kf(R)||(R=pf(R));var _=Sl(R,al);if(_.result==="error")throw new Error(_.value.map(function(at){return at.key+": "+at.message}).join(", "));var Y=df(R);return{filter:function(at,pt,wt){return _.value.evaluate(at,pt,{},wt)},needGeometry:Y}}function zc(R,_){return R<_?-1:R>_?1:0}function df(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var _=1;_<R.length;_++)if(df(R[_]))return!0;return!1}function pf(R){if(!R)return!0;var _=R[0];if(R.length<=1)return _!=="any";var Y=_==="=="?Jf(R[1],R[2],"=="):_==="!="?Ql(Jf(R[1],R[2],"==")):_==="<"||_===">"||_==="<="||_===">="?Jf(R[1],R[2],_):_==="any"?Rh(R.slice(1)):_==="all"?["all"].concat(R.slice(1).map(pf)):_==="none"?["all"].concat(R.slice(1).map(pf).map(Ql)):_==="in"?gf(R[1],R.slice(2)):_==="!in"?Ql(gf(R[1],R.slice(2))):_==="has"?Fc(R[1]):_==="!has"?Ql(Fc(R[1])):_==="within"?R:!0;return Y}function Jf(R,_,Y){switch(R){case"$type":return["filter-type-"+Y,_];case"$id":return["filter-id-"+Y,_];default:return["filter-"+Y,R,_]}}function Rh(R){return["any"].concat(R.map(pf))}function gf(R,_){if(_.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",_]];case"$id":return["filter-id-in",["literal",_]];default:return _.length>200&&!_.some(function(Y){return typeof Y!=typeof _[0]})?["filter-in-large",R,["literal",_.sort(zc)]]:["filter-in-small",R,["literal",_]]}}function Fc(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function Ql(R){return["!",R]}function Oc(R){return Kf(cn(R.value))?Ml(Rn({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):yf(R)}function yf(R){var _=R.value,Y=R.key;if(Ta(_)!=="array")return[new Nr(Y,_,"array expected, "+Ta(_)+" found")];var at=R.styleSpec,pt,wt=[];if(_.length<1)return[new Nr(Y,_,"filter array must have at least 1 element")];switch(wt=wt.concat(vf({key:Y+"[0]",value:_[0],valueSpec:at.filter_operator,style:R.style,styleSpec:R.styleSpec})),mn(_[0])){case"<":case"<=":case">":case">=":_.length>=2&&mn(_[1])==="$type"&&wt.push(new Nr(Y,_,'"$type" cannot be use with operator "'+_[0]+'"'));case"==":case"!=":_.length!==3&&wt.push(new Nr(Y,_,'filter array for operator "'+_[0]+'" must have 3 elements'));case"in":case"!in":_.length>=2&&(pt=Ta(_[1]),pt!=="string"&&wt.push(new Nr(Y+"[1]",_[1],"string expected, "+pt+" found")));for(var Dt=2;Dt<_.length;Dt++)pt=Ta(_[Dt]),mn(_[1])==="$type"?wt=wt.concat(vf({key:Y+"["+Dt+"]",value:_[Dt],valueSpec:at.geometry_type,style:R.style,styleSpec:R.styleSpec})):pt!=="string"&&pt!=="number"&&pt!=="boolean"&&wt.push(new Nr(Y+"["+Dt+"]",_[Dt],"string, number, or boolean expected, "+pt+" found"));break;case"any":case"all":case"none":for(var qt=1;qt<_.length;qt++)wt=wt.concat(yf({key:Y+"["+qt+"]",value:_[qt],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":pt=Ta(_[1]),_.length!==2?wt.push(new Nr(Y,_,'filter array for "'+_[0]+'" operator must have 2 elements')):pt!=="string"&&wt.push(new Nr(Y+"[1]",_[1],"string expected, "+pt+" found"));break;case"within":pt=Ta(_[1]),_.length!==2?wt.push(new Nr(Y,_,'filter array for "'+_[0]+'" operator must have 2 elements')):pt!=="object"&&wt.push(new Nr(Y+"[1]",_[1],"object expected, "+pt+" found"));break}return wt}function _h(R,_){var Y=R.key,at=R.style,pt=R.styleSpec,wt=R.value,Dt=R.objectKey,qt=pt[_+"_"+R.layerType];if(!qt)return[];var pe=Dt.match(/^(.*)-transition$/);if(_==="paint"&&pe&&qt[pe[1]]&&qt[pe[1]].transition)return zr({key:Y,value:wt,valueSpec:pt.transition,style:at,styleSpec:pt});var Se=R.valueSpec||qt[Dt];if(!Se)return[new Nr(Y,wt,'unknown property "'+Dt+'"')];var De;if(Ta(wt)==="string"&&il(Se)&&!Se.tokens&&(De=/^{([^}]+)}$/.exec(wt)))return[new Nr(Y,wt,'"'+Dt+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(De[1])+" }`.")];var Ge=[];return R.layerType==="symbol"&&(Dt==="text-field"&&at&&!at.glyphs&&Ge.push(new Nr(Y,wt,'use of "text-field" requires a style "glyphs" property')),Dt==="text-font"&&Du(cn(wt))&&mn(wt.type)==="identity"&&Ge.push(new Nr(Y,wt,'"text-font" does not support identity functions'))),Ge.concat(zr({key:R.key,value:wt,valueSpec:Se,style:at,styleSpec:pt,expressionContext:"property",propertyType:_,propertyKey:Dt}))}function $t(R){return _h(R,"paint")}function se(R){return _h(R,"layout")}function me(R){var _=[],Y=R.value,at=R.key,pt=R.style,wt=R.styleSpec;!Y.type&&!Y.ref&&_.push(new Nr(at,Y,'either "type" or "ref" is required'));var Dt=mn(Y.type),qt=mn(Y.ref);if(Y.id)for(var pe=mn(Y.id),Se=0;Se<R.arrayIndex;Se++){var De=pt.layers[Se];mn(De.id)===pe&&_.push(new Nr(at,Y.id,'duplicate layer id "'+Y.id+'", previously used at line '+De.id.__line__))}if("ref"in Y){["type","source","source-layer","filter","layout"].forEach(function(br){br in Y&&_.push(new Nr(at,Y[br],'"'+br+'" is prohibited for ref layers'))});var Ge;pt.layers.forEach(function(br){mn(br.id)===qt&&(Ge=br)}),Ge?Ge.ref?_.push(new Nr(at,Y.ref,"ref cannot reference another ref layer")):Dt=mn(Ge.type):_.push(new Nr(at,Y.ref,'ref layer "'+qt+'" not found'))}else if(Dt!=="background")if(!Y.source)_.push(new Nr(at,Y,'missing required property "source"'));else{var ar=pt.sources&&pt.sources[Y.source],rr=ar&&mn(ar.type);ar?rr==="vector"&&Dt==="raster"?_.push(new Nr(at,Y.source,'layer "'+Y.id+'" requires a raster source')):rr==="raster"&&Dt!=="raster"?_.push(new Nr(at,Y.source,'layer "'+Y.id+'" requires a vector source')):rr==="vector"&&!Y["source-layer"]?_.push(new Nr(at,Y,'layer "'+Y.id+'" must specify a "source-layer"')):rr==="raster-dem"&&Dt!=="hillshade"?_.push(new Nr(at,Y.source,"raster-dem source can only be used with layer type 'hillshade'.")):Dt==="line"&&Y.paint&&Y.paint["line-gradient"]&&(rr!=="geojson"||!ar.lineMetrics)&&_.push(new Nr(at,Y,'layer "'+Y.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):_.push(new Nr(at,Y.source,'source "'+Y.source+'" not found'))}return _=_.concat(Uo({key:at,value:Y,valueSpec:wt.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return zr({key:at+".type",value:Y.type,valueSpec:wt.layer.type,style:R.style,styleSpec:R.styleSpec,object:Y,objectKey:"type"})},filter:Oc,layout:function(Ur){return Uo({layer:Y,key:Ur.key,value:Ur.value,style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{"*":function(tn){return se(Rn({layerType:Dt},tn))}}})},paint:function(Ur){return Uo({layer:Y,key:Ur.key,value:Ur.value,style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{"*":function(tn){return $t(Rn({layerType:Dt},tn))}}})}}})),_}function we(R){var _=R.value,Y=R.key,at=Ta(_);return at!=="string"?[new Nr(Y,_,"string expected, "+at+" found")]:[]}var ke={promoteId:ze};function Re(R){var _=R.value,Y=R.key,at=R.styleSpec,pt=R.style;if(!_.type)return[new Nr(Y,_,'"type" is required')];var wt=mn(_.type),Dt;switch(wt){case"vector":case"raster":case"raster-dem":return Dt=Uo({key:Y,value:_,valueSpec:at["source_"+wt.replace("-","_")],style:R.style,styleSpec:at,objectElementValidators:ke}),Dt;case"geojson":if(Dt=Uo({key:Y,value:_,valueSpec:at.source_geojson,style:pt,styleSpec:at,objectElementValidators:ke}),_.cluster)for(var qt in _.clusterProperties){var pe=_.clusterProperties[qt],Se=pe[0],De=pe[1],Ge=typeof Se=="string"?[Se,["accumulated"],["get",qt]]:Se;Dt.push.apply(Dt,Ml({key:Y+"."+qt+".map",value:De,expressionContext:"cluster-map"})),Dt.push.apply(Dt,Ml({key:Y+"."+qt+".reduce",value:Ge,expressionContext:"cluster-reduce"}))}return Dt;case"video":return Uo({key:Y,value:_,valueSpec:at.source_video,style:pt,styleSpec:at});case"image":return Uo({key:Y,value:_,valueSpec:at.source_image,style:pt,styleSpec:at});case"canvas":return[new Nr(Y,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return vf({key:Y+".type",value:_.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:pt,styleSpec:at})}}function ze(R){var _=R.key,Y=R.value;if(Ta(Y)==="string")return we({key:_,value:Y});var at=[];for(var pt in Y)at.push.apply(at,we({key:_+"."+pt,value:Y[pt]}));return at}function pr(R){var _=R.value,Y=R.styleSpec,at=Y.light,pt=R.style,wt=[],Dt=Ta(_);if(_===void 0)return wt;if(Dt!=="object")return wt=wt.concat([new Nr("light",_,"object expected, "+Dt+" found")]),wt;for(var qt in _){var pe=qt.match(/^(.*)-transition$/);pe&&at[pe[1]]&&at[pe[1]].transition?wt=wt.concat(zr({key:qt,value:_[qt],valueSpec:Y.transition,style:pt,styleSpec:Y})):at[qt]?wt=wt.concat(zr({key:qt,value:_[qt],valueSpec:at[qt],style:pt,styleSpec:Y})):wt=wt.concat([new Nr(qt,_[qt],'unknown property "'+qt+'"')])}return wt}function wr(R){return we(R).length===0?[]:Ml(R)}function sr(R){return we(R).length===0?[]:Ml(R)}var Mr={"*":function(){return[]},array:hf,boolean:Gv,number:_u,color:es,constants:un,enum:vf,filter:Oc,function:Dh,layer:me,object:Uo,source:Re,light:pr,string:we,formatted:wr,resolvedImage:sr};function zr(R){var _=R.value,Y=R.valueSpec,at=R.styleSpec;if(Y.expression&&Du(mn(_)))return Dh(R);if(Y.expression&&ff(cn(_)))return Ml(R);if(Y.type&&Mr[Y.type])return Mr[Y.type](R);var pt=Uo(Rn({},R,{valueSpec:Y.type?at[Y.type]:Y}));return pt}function Vr(R){var _=R.value,Y=R.key,at=we(R);return at.length||(_.indexOf("{fontstack}")===-1&&at.push(new Nr(Y,_,'"glyphs" url must include a "{fontstack}" token')),_.indexOf("{range}")===-1&&at.push(new Nr(Y,_,'"glyphs" url must include a "{range}" token'))),at}function rn(R,_){_===void 0&&(_=Sr);var Y=[];return Y=Y.concat(zr({key:"",value:R,valueSpec:_.$root,styleSpec:_,style:R,objectElementValidators:{glyphs:Vr,"*":function(){return[]}}})),R.constants&&(Y=Y.concat(un({key:"constants",value:R.constants,style:R,styleSpec:_}))),bn(Y)}rn.source=In(Re),rn.light=In(pr),rn.layer=In(me),rn.filter=In(Oc),rn.paintProperty=In($t),rn.layoutProperty=In(se);function bn(R){return[].concat(R).sort(function(_,Y){return _.line-Y.line})}function In(R){return function(){for(var _=[],Y=arguments.length;Y--;)_[Y]=arguments[Y];return bn(R.apply(this,_))}}var _n=rn,Jn=_n.light,Pi=_n.paintProperty,Ii=_n.layoutProperty;function Ri(R,_){var Y=!1;if(_&&_.length)for(var at=0,pt=_;at<pt.length;at+=1){var wt=pt[at];R.fire(new Pe(new Error(wt.message))),Y=!0}return Y}var Fi=Aa,ji=3;function Aa(R,_,Y){var at=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var pt=new Int32Array(this.arrayBuffer);R=pt[0],_=pt[1],Y=pt[2],this.d=_+2*Y;for(var wt=0;wt<this.d*this.d;wt++){var Dt=pt[ji+wt],qt=pt[ji+wt+1];at.push(Dt===qt?null:pt.subarray(Dt,qt))}var pe=pt[ji+at.length],Se=pt[ji+at.length+1];this.keys=pt.subarray(pe,Se),this.bboxes=pt.subarray(Se),this.insert=this._insertReadonly}else{this.d=_+2*Y;for(var De=0;De<this.d*this.d;De++)at.push([]);this.keys=[],this.bboxes=[]}this.n=_,this.extent=R,this.padding=Y,this.scale=_/R,this.uid=0;var Ge=Y/_*R;this.min=-Ge,this.max=R+Ge}Aa.prototype.insert=function(R,_,Y,at,pt){this._forEachCell(_,Y,at,pt,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(_),this.bboxes.push(Y),this.bboxes.push(at),this.bboxes.push(pt)},Aa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Aa.prototype._insertCell=function(R,_,Y,at,pt,wt){this.cells[pt].push(wt)},Aa.prototype.query=function(R,_,Y,at,pt){var wt=this.min,Dt=this.max;if(R<=wt&&_<=wt&&Dt<=Y&&Dt<=at&&!pt)return Array.prototype.slice.call(this.keys);var qt=[],pe={};return this._forEachCell(R,_,Y,at,this._queryCell,qt,pe,pt),qt},Aa.prototype._queryCell=function(R,_,Y,at,pt,wt,Dt,qt){var pe=this.cells[pt];if(pe!==null)for(var Se=this.keys,De=this.bboxes,Ge=0;Ge<pe.length;Ge++){var ar=pe[Ge];if(Dt[ar]===void 0){var rr=ar*4;(qt?qt(De[rr+0],De[rr+1],De[rr+2],De[rr+3]):R<=De[rr+2]&&_<=De[rr+3]&&Y>=De[rr+0]&&at>=De[rr+1])?(Dt[ar]=!0,wt.push(Se[ar])):Dt[ar]=!1}}},Aa.prototype._forEachCell=function(R,_,Y,at,pt,wt,Dt,qt){for(var pe=this._convertToCellCoord(R),Se=this._convertToCellCoord(_),De=this._convertToCellCoord(Y),Ge=this._convertToCellCoord(at),ar=pe;ar<=De;ar++)for(var rr=Se;rr<=Ge;rr++){var br=this.d*rr+ar;if(!(qt&&!qt(this._convertFromCellCoord(ar),this._convertFromCellCoord(rr),this._convertFromCellCoord(ar+1),this._convertFromCellCoord(rr+1)))&&pt.call(this,R,_,Y,at,br,wt,Dt,qt))return}},Aa.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},Aa.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},Aa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,_=ji+this.cells.length+1+1,Y=0,at=0;at<this.cells.length;at++)Y+=this.cells[at].length;var pt=new Int32Array(_+Y+this.keys.length+this.bboxes.length);pt[0]=this.extent,pt[1]=this.n,pt[2]=this.padding;for(var wt=_,Dt=0;Dt<R.length;Dt++){var qt=R[Dt];pt[ji+Dt]=wt,pt.set(qt,wt),wt+=qt.length}return pt[ji+R.length]=wt,pt.set(this.keys,wt),wt+=this.keys.length,pt[ji+R.length+1]=wt,pt.set(this.bboxes,wt),wt+=this.bboxes.length,pt.buffer};var qa=o.ImageData,ct=o.ImageBitmap,Mt={};function Vt(R,_,Y){Y===void 0&&(Y={}),Object.defineProperty(_,"_classRegistryKey",{value:R,writeable:!1}),Mt[R]={klass:_,omit:Y.omit||[],shallow:Y.shallow||[]}}Vt("Object",Object),Fi.serialize=function(_,Y){var at=_.toArrayBuffer();return Y&&Y.push(at),{buffer:at}},Fi.deserialize=function(_){return new Fi(_.buffer)},Vt("Grid",Fi),Vt("Color",la),Vt("Error",Error),Vt("ResolvedImage",Yo),Vt("StylePropertyFunction",Jl),Vt("StyleExpression",Al,{omit:["_evaluator"]}),Vt("ZoomDependentExpression",Vs),Vt("ZoomConstantExpression",fo),Vt("CompoundExpression",xo,{omit:["_evaluate"]});for(var ee in Lu)Lu[ee]._classRegistryKey||Vt("Expression_"+ee,Lu[ee]);function ae(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function he(R){return ct&&R instanceof ct}function Ie(R,_){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(ae(R)||he(R))return _&&_.push(R),R;if(ArrayBuffer.isView(R)){var Y=R;return _&&_.push(Y.buffer),Y}if(R instanceof qa)return _&&_.push(R.data.buffer),R;if(Array.isArray(R)){for(var at=[],pt=0,wt=R;pt<wt.length;pt+=1){var Dt=wt[pt];at.push(Ie(Dt,_))}return at}if(typeof R=="object"){var qt=R.constructor,pe=qt._classRegistryKey;if(!pe)throw new Error("can't serialize object of unregistered class");var Se=qt.serialize?qt.serialize(R,_):{};if(!qt.serialize){for(var De in R)if(R.hasOwnProperty(De)&&!(Mt[pe].omit.indexOf(De)>=0)){var Ge=R[De];Se[De]=Mt[pe].shallow.indexOf(De)>=0?Ge:Ie(Ge,_)}R instanceof Error&&(Se.message=R.message)}if(Se.$name)throw new Error("$name property is reserved for worker serialization logic.");return pe!=="Object"&&(Se.$name=pe),Se}throw new Error("can't serialize object of type "+typeof R)}function Ae(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||ae(R)||he(R)||ArrayBuffer.isView(R)||R instanceof qa)return R;if(Array.isArray(R))return R.map(Ae);if(typeof R=="object"){var _=R.$name||"Object",Y=Mt[_],at=Y.klass;if(!at)throw new Error("can't deserialize unregistered class "+_);if(at.deserialize)return at.deserialize(R);for(var pt=Object.create(at.prototype),wt=0,Dt=Object.keys(R);wt<Dt.length;wt+=1){var qt=Dt[wt];if(qt!=="$name"){var pe=R[qt];pt[qt]=Mt[_].shallow.indexOf(qt)>=0?pe:Ae(pe)}}return pt}throw new Error("can't deserialize object of type "+typeof R)}var Ue=function(){this.first=!0};Ue.prototype.update=function(_,Y){var at=Math.floor(_);return this.first?(this.first=!1,this.lastIntegerZoom=at,this.lastIntegerZoomTime=0,this.lastZoom=_,this.lastFloorZoom=at,!0):(this.lastFloorZoom>at?(this.lastIntegerZoom=at+1,this.lastIntegerZoomTime=Y):this.lastFloorZoom<at&&(this.lastIntegerZoom=at,this.lastIntegerZoomTime=Y),_!==this.lastZoom?(this.lastZoom=_,this.lastFloorZoom=at,!0):!1)};var He={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function ir(R){for(var _=0,Y=R;_<Y.length;_+=1){var at=Y[_];if(sn(at.charCodeAt(0)))return!0}return!1}function Ir(R){for(var _=0,Y=R;_<Y.length;_+=1){var at=Y[_];if(!Dr(at.charCodeAt(0)))return!1}return!0}function Dr(R){return!(He.Arabic(R)||He["Arabic Supplement"](R)||He["Arabic Extended-A"](R)||He["Arabic Presentation Forms-A"](R)||He["Arabic Presentation Forms-B"](R))}function Qr(R){return R<11904?!1:!!(He["Bopomofo Extended"](R)||He.Bopomofo(R)||He["CJK Compatibility Forms"](R)||He["CJK Compatibility Ideographs"](R)||He["CJK Compatibility"](R)||He["CJK Radicals Supplement"](R)||He["CJK Strokes"](R)||He["CJK Symbols and Punctuation"](R)||He["CJK Unified Ideographs Extension A"](R)||He["CJK Unified Ideographs"](R)||He["Enclosed CJK Letters and Months"](R)||He["Halfwidth and Fullwidth Forms"](R)||He.Hiragana(R)||He["Ideographic Description Characters"](R)||He["Kangxi Radicals"](R)||He["Katakana Phonetic Extensions"](R)||He.Katakana(R)||He["Vertical Forms"](R)||He["Yi Radicals"](R)||He["Yi Syllables"](R))}function sn(R){return R===746||R===747?!0:R<4352?!1:!!(He["Bopomofo Extended"](R)||He.Bopomofo(R)||He["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||He["CJK Compatibility Ideographs"](R)||He["CJK Compatibility"](R)||He["CJK Radicals Supplement"](R)||He["CJK Strokes"](R)||He["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||He["CJK Unified Ideographs Extension A"](R)||He["CJK Unified Ideographs"](R)||He["Enclosed CJK Letters and Months"](R)||He["Hangul Compatibility Jamo"](R)||He["Hangul Jamo Extended-A"](R)||He["Hangul Jamo Extended-B"](R)||He["Hangul Jamo"](R)||He["Hangul Syllables"](R)||He.Hiragana(R)||He["Ideographic Description Characters"](R)||He.Kanbun(R)||He["Kangxi Radicals"](R)||He["Katakana Phonetic Extensions"](R)||He.Katakana(R)&&R!==12540||He["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||He["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||He["Unified Canadian Aboriginal Syllabics"](R)||He["Unified Canadian Aboriginal Syllabics Extended"](R)||He["Vertical Forms"](R)||He["Yijing Hexagram Symbols"](R)||He["Yi Syllables"](R)||He["Yi Radicals"](R))}function kr(R){return!!(He["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||He["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||He["Letterlike Symbols"](R)||He["Number Forms"](R)||He["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||He["Control Pictures"](R)&&R!==9251||He["Optical Character Recognition"](R)||He["Enclosed Alphanumerics"](R)||He["Geometric Shapes"](R)||He["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||He["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||He["CJK Symbols and Punctuation"](R)||He.Katakana(R)||He["Private Use Area"](R)||He["CJK Compatibility Forms"](R)||He["Small Form Variants"](R)||He["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function Hr(R){return!(sn(R)||kr(R))}function Kr(R){return He.Arabic(R)||He["Arabic Supplement"](R)||He["Arabic Extended-A"](R)||He["Arabic Presentation Forms-A"](R)||He["Arabic Presentation Forms-B"](R)}function hn(R){return R>=1424&&R<=2303||He["Arabic Presentation Forms-A"](R)||He["Arabic Presentation Forms-B"](R)}function yn(R,_){return!(!_&&hn(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||He.Khmer(R))}function qr(R){for(var _=0,Y=R;_<Y.length;_+=1){var at=Y[_];if(hn(at.charCodeAt(0)))return!0}return!1}function Hn(R,_){for(var Y=0,at=R;Y<at.length;Y+=1){var pt=at[Y];if(!yn(pt.charCodeAt(0),_))return!1}return!0}var ri={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},ci=null,ti=ri.unavailable,li=null,hi=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&(ti=ri.error),ci&&ci(R)};function Bi(){Mi.fire(new Ye("pluginStateChange",{pluginStatus:ti,pluginURL:li}))}var Mi=new Ze,ki=function(){return ti},ha=function(R){return R({pluginStatus:ti,pluginURL:li}),Mi.on("pluginStateChange",R),R},eo=function(R,_,Y){if(Y===void 0&&(Y=!1),ti===ri.deferred||ti===ri.loading||ti===ri.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");li=lt.resolveURL(R),ti=ri.deferred,ci=_,Bi(),Y||xa()},xa=function(){if(ti!==ri.deferred||!li)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ti=ri.loading,Bi(),li&&Fe({url:li},function(R){R?hi(R):(ti=ri.loaded,Bi())})},qn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ti===ri.loaded||qn.applyArabicShaping!=null},isLoading:function(){return ti===ri.loading},setState:function(_){ti=_.pluginStatus,li=_.pluginURL},isParsed:function(){return qn.applyArabicShaping!=null&&qn.processBidirectionalText!=null&&qn.processStyledBidirectionalText!=null},getPluginURL:function(){return li}},Ui=function(){!qn.isLoading()&&!qn.isLoaded()&&ki()==="deferred"&&xa()},Ai=function(_,Y){this.zoom=_,Y?(this.now=Y.now,this.fadeDuration=Y.fadeDuration,this.zoomHistory=Y.zoomHistory,this.transition=Y.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ue,this.transition={})};Ai.prototype.isSupportedScript=function(_){return Hn(_,qn.isLoaded())},Ai.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ai.prototype.getCrossfadeParameters=function(){var _=this.zoom,Y=_-Math.floor(_),at=this.crossFadingFactor();return _>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:Y+(1-Y)*at}:{fromScale:.5,toScale:1,t:1-(1-at)*Y}};var Xi=function(_,Y){this.property=_,this.value=Y,this.expression=Zf(Y===void 0?_.specification.default:Y,_.specification)};Xi.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Xi.prototype.possiblyEvaluate=function(_,Y,at){return this.property.possiblyEvaluate(this,_,Y,at)};var Ra=function(_){this.property=_,this.value=new Xi(_,void 0)};Ra.prototype.transitioned=function(_,Y){return new wo(this.property,this.value,Y,w({},_.transition,this.transition),_.now)},Ra.prototype.untransitioned=function(){return new wo(this.property,this.value,null,{},0)};var va=function(_){this._properties=_,this._values=Object.create(_.defaultTransitionablePropertyValues)};va.prototype.getValue=function(_){return U(this._values[_].value.value)},va.prototype.setValue=function(_,Y){this._values.hasOwnProperty(_)||(this._values[_]=new Ra(this._values[_].property)),this._values[_].value=new Xi(this._values[_].property,Y===null?void 0:U(Y))},va.prototype.getTransition=function(_){return U(this._values[_].transition)},va.prototype.setTransition=function(_,Y){this._values.hasOwnProperty(_)||(this._values[_]=new Ra(this._values[_].property)),this._values[_].transition=U(Y)||void 0},va.prototype.serialize=function(){for(var _={},Y=0,at=Object.keys(this._values);Y<at.length;Y+=1){var pt=at[Y],wt=this.getValue(pt);wt!==void 0&&(_[pt]=wt);var Dt=this.getTransition(pt);Dt!==void 0&&(_[pt+"-transition"]=Dt)}return _},va.prototype.transitioned=function(_,Y){for(var at=new To(this._properties),pt=0,wt=Object.keys(this._values);pt<wt.length;pt+=1){var Dt=wt[pt];at._values[Dt]=this._values[Dt].transitioned(_,Y._values[Dt])}return at},va.prototype.untransitioned=function(){for(var _=new To(this._properties),Y=0,at=Object.keys(this._values);Y<at.length;Y+=1){var pt=at[Y];_._values[pt]=this._values[pt].untransitioned()}return _};var wo=function(_,Y,at,pt,wt){this.property=_,this.value=Y,this.begin=wt+pt.delay||0,this.end=this.begin+pt.duration||0,_.specification.transition&&(pt.delay||pt.duration)&&(this.prior=at)};wo.prototype.possiblyEvaluate=function(_,Y,at){var pt=_.now||0,wt=this.value.possiblyEvaluate(_,Y,at),Dt=this.prior;if(Dt){if(pt>this.end)return this.prior=null,wt;if(this.value.isDataDriven())return this.prior=null,wt;if(pt<this.begin)return Dt.possiblyEvaluate(_,Y,at);var qt=(pt-this.begin)/(this.end-this.begin);return this.property.interpolate(Dt.possiblyEvaluate(_,Y,at),wt,f(qt))}else return wt};var To=function(_){this._properties=_,this._values=Object.create(_.defaultTransitioningPropertyValues)};To.prototype.possiblyEvaluate=function(_,Y,at){for(var pt=new Vo(this._properties),wt=0,Dt=Object.keys(this._values);wt<Dt.length;wt+=1){var qt=Dt[wt];pt._values[qt]=this._values[qt].possiblyEvaluate(_,Y,at)}return pt},To.prototype.hasTransition=function(){for(var _=0,Y=Object.keys(this._values);_<Y.length;_+=1){var at=Y[_];if(this._values[at].prior)return!0}return!1};var Co=function(_){this._properties=_,this._values=Object.create(_.defaultPropertyValues)};Co.prototype.getValue=function(_){return U(this._values[_].value)},Co.prototype.setValue=function(_,Y){this._values[_]=new Xi(this._values[_].property,Y===null?void 0:U(Y))},Co.prototype.serialize=function(){for(var _={},Y=0,at=Object.keys(this._values);Y<at.length;Y+=1){var pt=at[Y],wt=this.getValue(pt);wt!==void 0&&(_[pt]=wt)}return _},Co.prototype.possiblyEvaluate=function(_,Y,at){for(var pt=new Vo(this._properties),wt=0,Dt=Object.keys(this._values);wt<Dt.length;wt+=1){var qt=Dt[wt];pt._values[qt]=this._values[qt].possiblyEvaluate(_,Y,at)}return pt};var _a=function(_,Y,at){this.property=_,this.value=Y,this.parameters=at};_a.prototype.isConstant=function(){return this.value.kind==="constant"},_a.prototype.constantOr=function(_){return this.value.kind==="constant"?this.value.value:_},_a.prototype.evaluate=function(_,Y,at,pt){return this.property.evaluate(this.value,this.parameters,_,Y,at,pt)};var Vo=function(_){this._properties=_,this._values=Object.create(_.defaultPossiblyEvaluatedValues)};Vo.prototype.get=function(_){return this._values[_]};var ui=function(_){this.specification=_};ui.prototype.possiblyEvaluate=function(_,Y){return _.expression.evaluate(Y)},ui.prototype.interpolate=function(_,Y,at){var pt=Nf[this.specification.type];return pt?pt(_,Y,at):_};var Ci=function(_,Y){this.specification=_,this.overrides=Y};Ci.prototype.possiblyEvaluate=function(_,Y,at,pt){return _.expression.kind==="constant"||_.expression.kind==="camera"?new _a(this,{kind:"constant",value:_.expression.evaluate(Y,null,{},at,pt)},Y):new _a(this,_.expression,Y)},Ci.prototype.interpolate=function(_,Y,at){if(_.value.kind!=="constant"||Y.value.kind!=="constant")return _;if(_.value.value===void 0||Y.value.value===void 0)return new _a(this,{kind:"constant",value:void 0},_.parameters);var pt=Nf[this.specification.type];return pt?new _a(this,{kind:"constant",value:pt(_.value.value,Y.value.value,at)},_.parameters):_},Ci.prototype.evaluate=function(_,Y,at,pt,wt,Dt){return _.kind==="constant"?_.value:_.evaluate(Y,at,pt,wt,Dt)};var rs=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.possiblyEvaluate=function(at,pt,wt,Dt){if(at.value===void 0)return new _a(this,{kind:"constant",value:void 0},pt);if(at.expression.kind==="constant"){var qt=at.expression.evaluate(pt,null,{},wt,Dt),pe=at.property.specification.type==="resolvedImage",Se=pe&&typeof qt!="string"?qt.name:qt,De=this._calculate(Se,Se,Se,pt);return new _a(this,{kind:"constant",value:De},pt)}else if(at.expression.kind==="camera"){var Ge=this._calculate(at.expression.evaluate({zoom:pt.zoom-1}),at.expression.evaluate({zoom:pt.zoom}),at.expression.evaluate({zoom:pt.zoom+1}),pt);return new _a(this,{kind:"constant",value:Ge},pt)}else return new _a(this,at.expression,pt)},_.prototype.evaluate=function(at,pt,wt,Dt,qt,pe){if(at.kind==="source"){var Se=at.evaluate(pt,wt,Dt,qt,pe);return this._calculate(Se,Se,Se,pt)}else return at.kind==="composite"?this._calculate(at.evaluate({zoom:Math.floor(pt.zoom)-1},wt,Dt),at.evaluate({zoom:Math.floor(pt.zoom)},wt,Dt),at.evaluate({zoom:Math.floor(pt.zoom)+1},wt,Dt),pt):at.value},_.prototype._calculate=function(at,pt,wt,Dt){var qt=Dt.zoom;return qt>Dt.zoomHistory.lastIntegerZoom?{from:at,to:pt}:{from:wt,to:pt}},_.prototype.interpolate=function(at){return at},_}(Ci),ls=function(_){this.specification=_};ls.prototype.possiblyEvaluate=function(_,Y,at,pt){if(_.value!==void 0)if(_.expression.kind==="constant"){var wt=_.expression.evaluate(Y,null,{},at,pt);return this._calculate(wt,wt,wt,Y)}else return this._calculate(_.expression.evaluate(new Ai(Math.floor(Y.zoom-1),Y)),_.expression.evaluate(new Ai(Math.floor(Y.zoom),Y)),_.expression.evaluate(new Ai(Math.floor(Y.zoom+1),Y)),Y)},ls.prototype._calculate=function(_,Y,at,pt){var wt=pt.zoom;return wt>pt.zoomHistory.lastIntegerZoom?{from:_,to:Y}:{from:at,to:Y}},ls.prototype.interpolate=function(_){return _};var Lo=function(_){this.specification=_};Lo.prototype.possiblyEvaluate=function(_,Y,at,pt){return!!_.expression.evaluate(Y,null,{},at,pt)},Lo.prototype.interpolate=function(){return!1};var wa=function(_){this.properties=_,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var Y in _){var at=_[Y];at.specification.overridable&&this.overridableProperties.push(Y);var pt=this.defaultPropertyValues[Y]=new Xi(at,void 0),wt=this.defaultTransitionablePropertyValues[Y]=new Ra(at);this.defaultTransitioningPropertyValues[Y]=wt.untransitioned(),this.defaultPossiblyEvaluatedValues[Y]=pt.possiblyEvaluate({})}};Vt("DataDrivenProperty",Ci),Vt("DataConstantProperty",ui),Vt("CrossFadedDataDrivenProperty",rs),Vt("CrossFadedProperty",ls),Vt("ColorRampProperty",Lo);var co="-transition",io=function(R){function _(Y,at){if(R.call(this),this.id=Y.id,this.type=Y.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},Y.type!=="custom"&&(Y=Y,this.metadata=Y.metadata,this.minzoom=Y.minzoom,this.maxzoom=Y.maxzoom,Y.type!=="background"&&(this.source=Y.source,this.sourceLayer=Y["source-layer"],this.filter=Y.filter),at.layout&&(this._unevaluatedLayout=new Co(at.layout)),at.paint)){this._transitionablePaint=new va(at.paint);for(var pt in Y.paint)this.setPaintProperty(pt,Y.paint[pt],{validate:!1});for(var wt in Y.layout)this.setLayoutProperty(wt,Y.layout[wt],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Vo(at.paint)}}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},_.prototype.getLayoutProperty=function(at){return at==="visibility"?this.visibility:this._unevaluatedLayout.getValue(at)},_.prototype.setLayoutProperty=function(at,pt,wt){if(wt===void 0&&(wt={}),pt!=null){var Dt="layers."+this.id+".layout."+at;if(this._validate(Ii,Dt,at,pt,wt))return}if(at==="visibility"){this.visibility=pt;return}this._unevaluatedLayout.setValue(at,pt)},_.prototype.getPaintProperty=function(at){return b(at,co)?this._transitionablePaint.getTransition(at.slice(0,-co.length)):this._transitionablePaint.getValue(at)},_.prototype.setPaintProperty=function(at,pt,wt){if(wt===void 0&&(wt={}),pt!=null){var Dt="layers."+this.id+".paint."+at;if(this._validate(Pi,Dt,at,pt,wt))return!1}if(b(at,co))return this._transitionablePaint.setTransition(at.slice(0,-co.length),pt||void 0),!1;var qt=this._transitionablePaint._values[at],pe=qt.property.specification["property-type"]==="cross-faded-data-driven",Se=qt.value.isDataDriven(),De=qt.value;this._transitionablePaint.setValue(at,pt),this._handleSpecialPaintPropertyUpdate(at);var Ge=this._transitionablePaint._values[at].value,ar=Ge.isDataDriven();return ar||Se||pe||this._handleOverridablePaintPropertyUpdate(at,De,Ge)},_.prototype._handleSpecialPaintPropertyUpdate=function(at){},_.prototype._handleOverridablePaintPropertyUpdate=function(at,pt,wt){return!1},_.prototype.isHidden=function(at){return this.minzoom&&at<this.minzoom||this.maxzoom&&at>=this.maxzoom?!0:this.visibility==="none"},_.prototype.updateTransitions=function(at){this._transitioningPaint=this._transitionablePaint.transitioned(at,this._transitioningPaint)},_.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},_.prototype.recalculate=function(at,pt){at.getCrossfadeParameters&&(this._crossfadeParameters=at.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(at,void 0,pt)),this.paint=this._transitioningPaint.possiblyEvaluate(at,void 0,pt)},_.prototype.serialize=function(){var at={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(at.layout=at.layout||{},at.layout.visibility=this.visibility),k(at,function(pt,wt){return pt!==void 0&&!(wt==="layout"&&!Object.keys(pt).length)&&!(wt==="paint"&&!Object.keys(pt).length)})},_.prototype._validate=function(at,pt,wt,Dt,qt){return qt===void 0&&(qt={}),qt&&qt.validate===!1?!1:Ri(this,at.call(_n,{key:pt,layerType:this.type,objectKey:wt,value:Dt,styleSpec:Sr,style:{glyphs:!0,sprite:!0}}))},_.prototype.is3D=function(){return!1},_.prototype.isTileClipped=function(){return!1},_.prototype.hasOffscreenPass=function(){return!1},_.prototype.resize=function(){},_.prototype.isStateDependent=function(){for(var at in this.paint._values){var pt=this.paint.get(at);if(!(!(pt instanceof _a)||!il(pt.property.specification))&&(pt.value.kind==="source"||pt.value.kind==="composite")&&pt.value.isStateDependent)return!0}return!1},_}(Ze),Hs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ol=function(_,Y){this._structArray=_,this._pos1=Y*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Va=128,ku=5,Zi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Zi.serialize=function(_,Y){return _._trim(),Y&&(_.isTransferred=!0,Y.push(_.arrayBuffer)),{length:_.length,arrayBuffer:_.arrayBuffer}},Zi.deserialize=function(_){var Y=Object.create(this.prototype);return Y.arrayBuffer=_.arrayBuffer,Y.length=_.length,Y.capacity=_.arrayBuffer.byteLength/Y.bytesPerElement,Y._refreshViews(),Y},Zi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Zi.prototype.clear=function(){this.length=0},Zi.prototype.resize=function(_){this.reserve(_),this.length=_},Zi.prototype.reserve=function(_){if(_>this.capacity){this.capacity=Math.max(_,Math.floor(this.capacity*ku),Va),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var Y=this.uint8;this._refreshViews(),Y&&this.uint8.set(Y)}},Zi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Ha(R,_){_===void 0&&(_=1);var Y=0,at=0,pt=R.map(function(Dt){var qt=Wv(Dt.type),pe=Y=Sg(Y,Math.max(_,qt)),Se=Dt.components||1;return at=Math.max(at,qt),Y+=qt*Se,{name:Dt.name,type:Dt.type,components:Se,offset:pe}}),wt=Sg(Y,Math.max(at,_));return{members:pt,size:wt,alignment:_}}function Wv(R){return Hs[R].BYTES_PER_ELEMENT}function Sg(R,_){return Math.ceil(R/_)*_}var Bc=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt){var wt=this.length;return this.resize(wt+1),this.emplace(wt,at,pt)},_.prototype.emplace=function(at,pt,wt){var Dt=at*2;return this.int16[Dt+0]=pt,this.int16[Dt+1]=wt,at},_}(Zi);Bc.prototype.bytesPerElement=4,Vt("StructArrayLayout2i4",Bc);var Xp=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt){var qt=this.length;return this.resize(qt+1),this.emplace(qt,at,pt,wt,Dt)},_.prototype.emplace=function(at,pt,wt,Dt,qt){var pe=at*4;return this.int16[pe+0]=pt,this.int16[pe+1]=wt,this.int16[pe+2]=Dt,this.int16[pe+3]=qt,at},_}(Zi);Xp.prototype.bytesPerElement=8,Vt("StructArrayLayout4i8",Xp);var Qf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt,qt,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,at,pt,wt,Dt,qt,pe)},_.prototype.emplace=function(at,pt,wt,Dt,qt,pe,Se){var De=at*6;return this.int16[De+0]=pt,this.int16[De+1]=wt,this.int16[De+2]=Dt,this.int16[De+3]=qt,this.int16[De+4]=pe,this.int16[De+5]=Se,at},_}(Zi);Qf.prototype.bytesPerElement=12,Vt("StructArrayLayout2i4i12",Qf);var kh=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt,qt,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,at,pt,wt,Dt,qt,pe)},_.prototype.emplace=function(at,pt,wt,Dt,qt,pe,Se){var De=at*4,Ge=at*8;return this.int16[De+0]=pt,this.int16[De+1]=wt,this.uint8[Ge+4]=Dt,this.uint8[Ge+5]=qt,this.uint8[Ge+6]=pe,this.uint8[Ge+7]=Se,at},_}(Zi);kh.prototype.bytesPerElement=8,Vt("StructArrayLayout2i4ub8",kh);var zh=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt){var wt=this.length;return this.resize(wt+1),this.emplace(wt,at,pt)},_.prototype.emplace=function(at,pt,wt){var Dt=at*2;return this.float32[Dt+0]=pt,this.float32[Dt+1]=wt,at},_}(Zi);zh.prototype.bytesPerElement=8,Vt("StructArrayLayout2f8",zh);var Ls=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt,qt,pe,Se,De,Ge,ar){var rr=this.length;return this.resize(rr+1),this.emplace(rr,at,pt,wt,Dt,qt,pe,Se,De,Ge,ar)},_.prototype.emplace=function(at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr){var br=at*10;return this.uint16[br+0]=pt,this.uint16[br+1]=wt,this.uint16[br+2]=Dt,this.uint16[br+3]=qt,this.uint16[br+4]=pe,this.uint16[br+5]=Se,this.uint16[br+6]=De,this.uint16[br+7]=Ge,this.uint16[br+8]=ar,this.uint16[br+9]=rr,at},_}(Zi);Ls.prototype.bytesPerElement=20,Vt("StructArrayLayout10ui20",Ls);var $f=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br){var Ur=this.length;return this.resize(Ur+1),this.emplace(Ur,at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br)},_.prototype.emplace=function(at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br,Ur){var fn=at*12;return this.int16[fn+0]=pt,this.int16[fn+1]=wt,this.int16[fn+2]=Dt,this.int16[fn+3]=qt,this.uint16[fn+4]=pe,this.uint16[fn+5]=Se,this.uint16[fn+6]=De,this.uint16[fn+7]=Ge,this.int16[fn+8]=ar,this.int16[fn+9]=rr,this.int16[fn+10]=br,this.int16[fn+11]=Ur,at},_}(Zi);$f.prototype.bytesPerElement=24,Vt("StructArrayLayout4i4ui4i24",$f);var Zp=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt){var Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,at,pt,wt)},_.prototype.emplace=function(at,pt,wt,Dt){var qt=at*3;return this.float32[qt+0]=pt,this.float32[qt+1]=wt,this.float32[qt+2]=Dt,at},_}(Zi);Zp.prototype.bytesPerElement=12,Vt("StructArrayLayout3f12",Zp);var Kp=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at){var pt=this.length;return this.resize(pt+1),this.emplace(pt,at)},_.prototype.emplace=function(at,pt){var wt=at*1;return this.uint32[wt+0]=pt,at},_}(Zi);Kp.prototype.bytesPerElement=4,Vt("StructArrayLayout1ul4",Kp);var Yv=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt,qt,pe,Se,De,Ge){var ar=this.length;return this.resize(ar+1),this.emplace(ar,at,pt,wt,Dt,qt,pe,Se,De,Ge)},_.prototype.emplace=function(at,pt,wt,Dt,qt,pe,Se,De,Ge,ar){var rr=at*10,br=at*5;return this.int16[rr+0]=pt,this.int16[rr+1]=wt,this.int16[rr+2]=Dt,this.int16[rr+3]=qt,this.int16[rr+4]=pe,this.int16[rr+5]=Se,this.uint32[br+3]=De,this.uint16[rr+8]=Ge,this.uint16[rr+9]=ar,at},_}(Zi);Yv.prototype.bytesPerElement=20,Vt("StructArrayLayout6i1ul2ui20",Yv);var Ed=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt,qt,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,at,pt,wt,Dt,qt,pe)},_.prototype.emplace=function(at,pt,wt,Dt,qt,pe,Se){var De=at*6;return this.int16[De+0]=pt,this.int16[De+1]=wt,this.int16[De+2]=Dt,this.int16[De+3]=qt,this.int16[De+4]=pe,this.int16[De+5]=Se,at},_}(Zi);Ed.prototype.bytesPerElement=12,Vt("StructArrayLayout2i2i2i12",Ed);var mf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt,qt){var pe=this.length;return this.resize(pe+1),this.emplace(pe,at,pt,wt,Dt,qt)},_.prototype.emplace=function(at,pt,wt,Dt,qt,pe){var Se=at*4,De=at*8;return this.float32[Se+0]=pt,this.float32[Se+1]=wt,this.float32[Se+2]=Dt,this.int16[De+6]=qt,this.int16[De+7]=pe,at},_}(Zi);mf.prototype.bytesPerElement=16,Vt("StructArrayLayout2f1f2i16",mf);var Gs=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt){var qt=this.length;return this.resize(qt+1),this.emplace(qt,at,pt,wt,Dt)},_.prototype.emplace=function(at,pt,wt,Dt,qt){var pe=at*12,Se=at*3;return this.uint8[pe+0]=pt,this.uint8[pe+1]=wt,this.float32[Se+1]=Dt,this.float32[Se+2]=qt,at},_}(Zi);Gs.prototype.bytesPerElement=12,Vt("StructArrayLayout2ub2f12",Gs);var xf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt){var Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,at,pt,wt)},_.prototype.emplace=function(at,pt,wt,Dt){var qt=at*3;return this.uint16[qt+0]=pt,this.uint16[qt+1]=wt,this.uint16[qt+2]=Dt,at},_}(Zi);xf.prototype.bytesPerElement=6,Vt("StructArrayLayout3ui6",xf);var jv=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br,Ur,fn,tn,Mn,xn){var Sn=this.length;return this.resize(Sn+1),this.emplace(Sn,at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br,Ur,fn,tn,Mn,xn)},_.prototype.emplace=function(at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br,Ur,fn,tn,Mn,xn,Sn){var Fn=at*24,jn=at*12,ai=at*48;return this.int16[Fn+0]=pt,this.int16[Fn+1]=wt,this.uint16[Fn+2]=Dt,this.uint16[Fn+3]=qt,this.uint32[jn+2]=pe,this.uint32[jn+3]=Se,this.uint32[jn+4]=De,this.uint16[Fn+10]=Ge,this.uint16[Fn+11]=ar,this.uint16[Fn+12]=rr,this.float32[jn+7]=br,this.float32[jn+8]=Ur,this.uint8[ai+36]=fn,this.uint8[ai+37]=tn,this.uint8[ai+38]=Mn,this.uint32[jn+10]=xn,this.int16[Fn+22]=Sn,at},_}(Zi);jv.prototype.bytesPerElement=48,Vt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",jv);var Cd=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br,Ur,fn,tn,Mn,xn,Sn,Fn,jn,ai,ei,wi,pi,xi,Ni,Ti,Ei){var Gi=this.length;return this.resize(Gi+1),this.emplace(Gi,at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br,Ur,fn,tn,Mn,xn,Sn,Fn,jn,ai,ei,wi,pi,xi,Ni,Ti,Ei)},_.prototype.emplace=function(at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br,Ur,fn,tn,Mn,xn,Sn,Fn,jn,ai,ei,wi,pi,xi,Ni,Ti,Ei,Gi){var Oi=at*34,pa=at*17;return this.int16[Oi+0]=pt,this.int16[Oi+1]=wt,this.int16[Oi+2]=Dt,this.int16[Oi+3]=qt,this.int16[Oi+4]=pe,this.int16[Oi+5]=Se,this.int16[Oi+6]=De,this.int16[Oi+7]=Ge,this.uint16[Oi+8]=ar,this.uint16[Oi+9]=rr,this.uint16[Oi+10]=br,this.uint16[Oi+11]=Ur,this.uint16[Oi+12]=fn,this.uint16[Oi+13]=tn,this.uint16[Oi+14]=Mn,this.uint16[Oi+15]=xn,this.uint16[Oi+16]=Sn,this.uint16[Oi+17]=Fn,this.uint16[Oi+18]=jn,this.uint16[Oi+19]=ai,this.uint16[Oi+20]=ei,this.uint16[Oi+21]=wi,this.uint16[Oi+22]=pi,this.uint32[pa+12]=xi,this.float32[pa+13]=Ni,this.float32[pa+14]=Ti,this.float32[pa+15]=Ei,this.float32[pa+16]=Gi,at},_}(Zi);Cd.prototype.bytesPerElement=68,Vt("StructArrayLayout8i15ui1ul4f68",Cd);var Fh=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at){var pt=this.length;return this.resize(pt+1),this.emplace(pt,at)},_.prototype.emplace=function(at,pt){var wt=at*1;return this.float32[wt+0]=pt,at},_}(Zi);Fh.prototype.bytesPerElement=4,Vt("StructArrayLayout1f4",Fh);var Jp=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt){var Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,at,pt,wt)},_.prototype.emplace=function(at,pt,wt,Dt){var qt=at*3;return this.int16[qt+0]=pt,this.int16[qt+1]=wt,this.int16[qt+2]=Dt,at},_}(Zi);Jp.prototype.bytesPerElement=6,Vt("StructArrayLayout3i6",Jp);var qf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt){var Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,at,pt,wt)},_.prototype.emplace=function(at,pt,wt,Dt){var qt=at*2,pe=at*4;return this.uint32[qt+0]=pt,this.uint16[pe+2]=wt,this.uint16[pe+3]=Dt,at},_}(Zi);qf.prototype.bytesPerElement=8,Vt("StructArrayLayout1ul2ui8",qf);var Xv=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt){var wt=this.length;return this.resize(wt+1),this.emplace(wt,at,pt)},_.prototype.emplace=function(at,pt,wt){var Dt=at*2;return this.uint16[Dt+0]=pt,this.uint16[Dt+1]=wt,at},_}(Zi);Xv.prototype.bytesPerElement=4,Vt("StructArrayLayout2ui4",Xv);var Oh=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at){var pt=this.length;return this.resize(pt+1),this.emplace(pt,at)},_.prototype.emplace=function(at,pt){var wt=at*1;return this.uint16[wt+0]=pt,at},_}(Zi);Oh.prototype.bytesPerElement=2,Vt("StructArrayLayout1ui2",Oh);var Nc=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(at,pt,wt,Dt){var qt=this.length;return this.resize(qt+1),this.emplace(qt,at,pt,wt,Dt)},_.prototype.emplace=function(at,pt,wt,Dt,qt){var pe=at*4;return this.float32[pe+0]=pt,this.float32[pe+1]=wt,this.float32[pe+2]=Dt,this.float32[pe+3]=qt,at},_}(Zi);Nc.prototype.bytesPerElement=16,Vt("StructArrayLayout4f16",Nc);var Mg=function(R){function _(){R.apply(this,arguments)}R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_;var Y={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Y.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Y.x1.get=function(){return this._structArray.int16[this._pos2+2]},Y.y1.get=function(){return this._structArray.int16[this._pos2+3]},Y.x2.get=function(){return this._structArray.int16[this._pos2+4]},Y.y2.get=function(){return this._structArray.int16[this._pos2+5]},Y.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Y.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Y.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Y.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(_.prototype,Y),_}(ol);Mg.prototype.size=20;var Qp=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.get=function(at){return new Mg(this,at)},_}(Yv);Vt("CollisionBoxArray",Qp);var Uc=function(R){function _(){R.apply(this,arguments)}R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_;var Y={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Y.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Y.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Y.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Y.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Y.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Y.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Y.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Y.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Y.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Y.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Y.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Y.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Y.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Y.placedOrientation.set=function(at){this._structArray.uint8[this._pos1+37]=at},Y.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Y.hidden.set=function(at){this._structArray.uint8[this._pos1+38]=at},Y.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Y.crossTileID.set=function(at){this._structArray.uint32[this._pos4+10]=at},Y.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(_.prototype,Y),_}(ol);Uc.prototype.size=48;var $p=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.get=function(at){return new Uc(this,at)},_}(jv);Vt("PlacedSymbolArray",$p);var Bh=function(R){function _(){R.apply(this,arguments)}R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_;var Y={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Y.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Y.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Y.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Y.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Y.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Y.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Y.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Y.key.get=function(){return this._structArray.uint16[this._pos2+8]},Y.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Y.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Y.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Y.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Y.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Y.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Y.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Y.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Y.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Y.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Y.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Y.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Y.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Y.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Y.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Y.crossTileID.set=function(at){this._structArray.uint32[this._pos4+12]=at},Y.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Y.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Y.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Y.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(_.prototype,Y),_}(ol);Bh.prototype.size=68;var Eg=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.get=function(at){return new Bh(this,at)},_}(Cd);Vt("SymbolInstanceArray",Eg);var Cg=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.getoffsetX=function(at){return this.float32[at*1+0]},_}(Fh);Vt("GlyphOffsetArray",Cg);var $l=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.getx=function(at){return this.int16[at*3+0]},_.prototype.gety=function(at){return this.int16[at*3+1]},_.prototype.gettileUnitDistanceFromAnchor=function(at){return this.int16[at*3+2]},_}(Jp);Vt("SymbolLineVertexArray",$l);var Lg=function(R){function _(){R.apply(this,arguments)}R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_;var Y={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Y.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Y.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Y.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(_.prototype,Y),_}(ol);Lg.prototype.size=8;var Pg=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.get=function(at){return new Lg(this,at)},_}(qf);Vt("FeatureIndexArray",Pg);var v1=Ha([{name:"a_pos",components:2,type:"Int16"}],4),Ig=v1.members,Po=function(_){_===void 0&&(_=[]),this.segments=_};Po.prototype.prepareSegment=function(_,Y,at,pt){var wt=this.segments[this.segments.length-1];return _>Po.MAX_VERTEX_ARRAY_LENGTH&&N("Max vertices per segment is "+Po.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+_),(!wt||wt.vertexLength+_>Po.MAX_VERTEX_ARRAY_LENGTH||wt.sortKey!==pt)&&(wt={vertexOffset:Y.length,primitiveOffset:at.length,vertexLength:0,primitiveLength:0},pt!==void 0&&(wt.sortKey=pt),this.segments.push(wt)),wt},Po.prototype.get=function(){return this.segments},Po.prototype.destroy=function(){for(var _=0,Y=this.segments;_<Y.length;_+=1){var at=Y[_];for(var pt in at.vaos)at.vaos[pt].destroy()}},Po.simpleSegment=function(_,Y,at,pt){return new Po([{vertexOffset:_,primitiveOffset:Y,vertexLength:at,primitiveLength:pt,vaos:{},sortKey:0}])},Po.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Vt("SegmentVector",Po);function vt(R,_){return R=v(Math.floor(R),0,255),_=v(Math.floor(_),0,255),256*R+_}var K=Ha([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),gt=P(function(R){function _(Y,at){var pt,wt,Dt,qt,pe,Se,De,Ge;for(pt=Y.length&3,wt=Y.length-pt,Dt=at,pe=3432918353,Se=461845907,Ge=0;Ge<wt;)De=Y.charCodeAt(Ge)&255|(Y.charCodeAt(++Ge)&255)<<8|(Y.charCodeAt(++Ge)&255)<<16|(Y.charCodeAt(++Ge)&255)<<24,++Ge,De=(De&65535)*pe+(((De>>>16)*pe&65535)<<16)&4294967295,De=De<<15|De>>>17,De=(De&65535)*Se+(((De>>>16)*Se&65535)<<16)&4294967295,Dt^=De,Dt=Dt<<13|Dt>>>19,qt=(Dt&65535)*5+(((Dt>>>16)*5&65535)<<16)&4294967295,Dt=(qt&65535)+27492+(((qt>>>16)+58964&65535)<<16);switch(De=0,pt){case 3:De^=(Y.charCodeAt(Ge+2)&255)<<16;case 2:De^=(Y.charCodeAt(Ge+1)&255)<<8;case 1:De^=Y.charCodeAt(Ge)&255,De=(De&65535)*pe+(((De>>>16)*pe&65535)<<16)&4294967295,De=De<<15|De>>>17,De=(De&65535)*Se+(((De>>>16)*Se&65535)<<16)&4294967295,Dt^=De}return Dt^=Y.length,Dt^=Dt>>>16,Dt=(Dt&65535)*2246822507+(((Dt>>>16)*2246822507&65535)<<16)&4294967295,Dt^=Dt>>>13,Dt=(Dt&65535)*3266489909+(((Dt>>>16)*3266489909&65535)<<16)&4294967295,Dt^=Dt>>>16,Dt>>>0}R.exports=_}),rt=P(function(R){function _(Y,at){for(var pt=Y.length,wt=at^pt,Dt=0,qt;pt>=4;)qt=Y.charCodeAt(Dt)&255|(Y.charCodeAt(++Dt)&255)<<8|(Y.charCodeAt(++Dt)&255)<<16|(Y.charCodeAt(++Dt)&255)<<24,qt=(qt&65535)*1540483477+(((qt>>>16)*1540483477&65535)<<16),qt^=qt>>>24,qt=(qt&65535)*1540483477+(((qt>>>16)*1540483477&65535)<<16),wt=(wt&65535)*1540483477+(((wt>>>16)*1540483477&65535)<<16)^qt,pt-=4,++Dt;switch(pt){case 3:wt^=(Y.charCodeAt(Dt+2)&255)<<16;case 2:wt^=(Y.charCodeAt(Dt+1)&255)<<8;case 1:wt^=Y.charCodeAt(Dt)&255,wt=(wt&65535)*1540483477+(((wt>>>16)*1540483477&65535)<<16)}return wt^=wt>>>13,wt=(wt&65535)*1540483477+(((wt>>>16)*1540483477&65535)<<16),wt^=wt>>>15,wt>>>0}R.exports=_}),yt=gt,Bt=gt,Xt=rt;yt.murmur3=Bt,yt.murmur2=Xt;var ce=function(){this.ids=[],this.positions=[],this.indexed=!1};ce.prototype.add=function(_,Y,at,pt){this.ids.push(Ne(_)),this.positions.push(Y,at,pt)},ce.prototype.getPositions=function(_){for(var Y=Ne(_),at=0,pt=this.ids.length-1;at<pt;){var wt=at+pt>>1;this.ids[wt]>=Y?pt=wt:at=wt+1}for(var Dt=[];this.ids[at]===Y;){var qt=this.positions[3*at],pe=this.positions[3*at+1],Se=this.positions[3*at+2];Dt.push({index:qt,start:pe,end:Se}),at++}return Dt},ce.serialize=function(_,Y){var at=new Float64Array(_.ids),pt=new Uint32Array(_.positions);return qe(at,pt,0,at.length-1),Y&&Y.push(at.buffer,pt.buffer),{ids:at,positions:pt}},ce.deserialize=function(_){var Y=new ce;return Y.ids=_.ids,Y.positions=_.positions,Y.indexed=!0,Y};var Ce=Math.pow(2,53)-1;function Ne(R){var _=+R;return!isNaN(_)&&_<=Ce?_:yt(String(R))}function qe(R,_,Y,at){for(;Y<at;){for(var pt=R[Y+at>>1],wt=Y-1,Dt=at+1;;){do wt++;while(R[wt]<pt);do Dt--;while(R[Dt]>pt);if(wt>=Dt)break;ur(R,wt,Dt),ur(_,3*wt,3*Dt),ur(_,3*wt+1,3*Dt+1),ur(_,3*wt+2,3*Dt+2)}Dt-Y<at-Dt?(qe(R,_,Y,Dt),Y=Dt+1):(qe(R,_,Dt+1,at),at=Dt)}}function ur(R,_,Y){var at=R[_];R[_]=R[Y],R[Y]=at}Vt("FeaturePositionMap",ce);var lr=function(_,Y){this.gl=_.gl,this.location=Y},Fr=function(R){function _(Y,at){R.call(this,Y,at),this.current=0}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.set=function(at){this.current!==at&&(this.current=at,this.gl.uniform1i(this.location,at))},_}(lr),Zr=function(R){function _(Y,at){R.call(this,Y,at),this.current=0}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.set=function(at){this.current!==at&&(this.current=at,this.gl.uniform1f(this.location,at))},_}(lr),Xr=function(R){function _(Y,at){R.call(this,Y,at),this.current=[0,0]}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.set=function(at){(at[0]!==this.current[0]||at[1]!==this.current[1])&&(this.current=at,this.gl.uniform2f(this.location,at[0],at[1]))},_}(lr),Wr=function(R){function _(Y,at){R.call(this,Y,at),this.current=[0,0,0]}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.set=function(at){(at[0]!==this.current[0]||at[1]!==this.current[1]||at[2]!==this.current[2])&&(this.current=at,this.gl.uniform3f(this.location,at[0],at[1],at[2]))},_}(lr),Jr=function(R){function _(Y,at){R.call(this,Y,at),this.current=[0,0,0,0]}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.set=function(at){(at[0]!==this.current[0]||at[1]!==this.current[1]||at[2]!==this.current[2]||at[3]!==this.current[3])&&(this.current=at,this.gl.uniform4f(this.location,at[0],at[1],at[2],at[3]))},_}(lr),dn=function(R){function _(Y,at){R.call(this,Y,at),this.current=la.transparent}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.set=function(at){(at.r!==this.current.r||at.g!==this.current.g||at.b!==this.current.b||at.a!==this.current.a)&&(this.current=at,this.gl.uniform4f(this.location,at.r,at.g,at.b,at.a))},_}(lr),kn=new Float32Array(16),Vn=function(R){function _(Y,at){R.call(this,Y,at),this.current=kn}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.set=function(at){if(at[12]!==this.current[12]||at[0]!==this.current[0]){this.current=at,this.gl.uniformMatrix4fv(this.location,!1,at);return}for(var pt=1;pt<16;pt++)if(at[pt]!==this.current[pt]){this.current=at,this.gl.uniformMatrix4fv(this.location,!1,at);break}},_}(lr);function Xn(R){return[vt(255*R.r,255*R.g),vt(255*R.b,255*R.a)]}var Kn=function(_,Y,at){this.value=_,this.uniformNames=Y.map(function(pt){return"u_"+pt}),this.type=at};Kn.prototype.setUniform=function(_,Y,at){_.set(at.constantOr(this.value))},Kn.prototype.getBinding=function(_,Y,at){return this.type==="color"?new dn(_,Y):new Zr(_,Y)};var Wn=function(_,Y){this.uniformNames=Y.map(function(at){return"u_"+at}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Wn.prototype.setConstantPatternPositions=function(_,Y){this.pixelRatioFrom=Y.pixelRatio,this.pixelRatioTo=_.pixelRatio,this.patternFrom=Y.tlbr,this.patternTo=_.tlbr},Wn.prototype.setUniform=function(_,Y,at,pt){var wt=pt==="u_pattern_to"?this.patternTo:pt==="u_pattern_from"?this.patternFrom:pt==="u_pixel_ratio_to"?this.pixelRatioTo:pt==="u_pixel_ratio_from"?this.pixelRatioFrom:null;wt&&_.set(wt)},Wn.prototype.getBinding=function(_,Y,at){return at.substr(0,9)==="u_pattern"?new Jr(_,Y):new Zr(_,Y)};var Qn=function(_,Y,at,pt){this.expression=_,this.type=at,this.maxValue=0,this.paintVertexAttributes=Y.map(function(wt){return{name:"a_"+wt,type:"Float32",components:at==="color"?2:1,offset:0}}),this.paintVertexArray=new pt};Qn.prototype.populatePaintArray=function(_,Y,at,pt,wt){var Dt=this.paintVertexArray.length,qt=this.expression.evaluate(new Ai(0),Y,{},pt,[],wt);this.paintVertexArray.resize(_),this._setPaintValue(Dt,_,qt)},Qn.prototype.updatePaintArray=function(_,Y,at,pt){var wt=this.expression.evaluate({zoom:0},at,pt);this._setPaintValue(_,Y,wt)},Qn.prototype._setPaintValue=function(_,Y,at){if(this.type==="color")for(var pt=Xn(at),wt=_;wt<Y;wt++)this.paintVertexArray.emplace(wt,pt[0],pt[1]);else{for(var Dt=_;Dt<Y;Dt++)this.paintVertexArray.emplace(Dt,at);this.maxValue=Math.max(this.maxValue,Math.abs(at))}},Qn.prototype.upload=function(_){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=_.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Qn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ii=function(_,Y,at,pt,wt,Dt){this.expression=_,this.uniformNames=Y.map(function(qt){return"u_"+qt+"_t"}),this.type=at,this.useIntegerZoom=pt,this.zoom=wt,this.maxValue=0,this.paintVertexAttributes=Y.map(function(qt){return{name:"a_"+qt,type:"Float32",components:at==="color"?4:2,offset:0}}),this.paintVertexArray=new Dt};ii.prototype.populatePaintArray=function(_,Y,at,pt,wt){var Dt=this.expression.evaluate(new Ai(this.zoom),Y,{},pt,[],wt),qt=this.expression.evaluate(new Ai(this.zoom+1),Y,{},pt,[],wt),pe=this.paintVertexArray.length;this.paintVertexArray.resize(_),this._setPaintValue(pe,_,Dt,qt)},ii.prototype.updatePaintArray=function(_,Y,at,pt){var wt=this.expression.evaluate({zoom:this.zoom},at,pt),Dt=this.expression.evaluate({zoom:this.zoom+1},at,pt);this._setPaintValue(_,Y,wt,Dt)},ii.prototype._setPaintValue=function(_,Y,at,pt){if(this.type==="color")for(var wt=Xn(at),Dt=Xn(pt),qt=_;qt<Y;qt++)this.paintVertexArray.emplace(qt,wt[0],wt[1],Dt[0],Dt[1]);else{for(var pe=_;pe<Y;pe++)this.paintVertexArray.emplace(pe,at,pt);this.maxValue=Math.max(this.maxValue,Math.abs(at),Math.abs(pt))}},ii.prototype.upload=function(_){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=_.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ii.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ii.prototype.setUniform=function(_,Y){var at=this.useIntegerZoom?Math.floor(Y.zoom):Y.zoom,pt=v(this.expression.interpolationFactor(at,this.zoom,this.zoom+1),0,1);_.set(pt)},ii.prototype.getBinding=function(_,Y,at){return new Zr(_,Y)};var fi=function(_,Y,at,pt,wt,Dt){this.expression=_,this.type=Y,this.useIntegerZoom=at,this.zoom=pt,this.layerId=Dt,this.zoomInPaintVertexArray=new wt,this.zoomOutPaintVertexArray=new wt};fi.prototype.populatePaintArray=function(_,Y,at){var pt=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(_),this.zoomOutPaintVertexArray.resize(_),this._setPaintValues(pt,_,Y.patterns&&Y.patterns[this.layerId],at)},fi.prototype.updatePaintArray=function(_,Y,at,pt,wt){this._setPaintValues(_,Y,at.patterns&&at.patterns[this.layerId],wt)},fi.prototype._setPaintValues=function(_,Y,at,pt){if(!(!pt||!at)){var wt=at.min,Dt=at.mid,qt=at.max,pe=pt[wt],Se=pt[Dt],De=pt[qt];if(!(!pe||!Se||!De))for(var Ge=_;Ge<Y;Ge++)this.zoomInPaintVertexArray.emplace(Ge,Se.tl[0],Se.tl[1],Se.br[0],Se.br[1],pe.tl[0],pe.tl[1],pe.br[0],pe.br[1],Se.pixelRatio,pe.pixelRatio),this.zoomOutPaintVertexArray.emplace(Ge,Se.tl[0],Se.tl[1],Se.br[0],Se.br[1],De.tl[0],De.tl[1],De.br[0],De.br[1],Se.pixelRatio,De.pixelRatio)}},fi.prototype.upload=function(_){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=_.createVertexBuffer(this.zoomInPaintVertexArray,K.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=_.createVertexBuffer(this.zoomOutPaintVertexArray,K.members,this.expression.isStateDependent))},fi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var mi=function(_,Y,at){this.binders={},this._buffers=[];var pt=[];for(var wt in _.paint._values)if(at(wt)){var Dt=_.paint.get(wt);if(!(!(Dt instanceof _a)||!il(Dt.property.specification))){var qt=zi(wt,_.type),pe=Dt.value,Se=Dt.property.specification.type,De=Dt.property.useIntegerZoom,Ge=Dt.property.specification["property-type"],ar=Ge==="cross-faded"||Ge==="cross-faded-data-driven";if(pe.kind==="constant")this.binders[wt]=ar?new Wn(pe.value,qt):new Kn(pe.value,qt,Se),pt.push("/u_"+wt);else if(pe.kind==="source"||ar){var rr=Wi(wt,Se,"source");this.binders[wt]=ar?new fi(pe,Se,De,Y,rr,_.id):new Qn(pe,qt,Se,rr),pt.push("/a_"+wt)}else{var br=Wi(wt,Se,"composite");this.binders[wt]=new ii(pe,qt,Se,De,Y,br),pt.push("/z_"+wt)}}}this.cacheKey=pt.sort().join("")};mi.prototype.getMaxValue=function(_){var Y=this.binders[_];return Y instanceof Qn||Y instanceof ii?Y.maxValue:0},mi.prototype.populatePaintArrays=function(_,Y,at,pt,wt){for(var Dt in this.binders){var qt=this.binders[Dt];(qt instanceof Qn||qt instanceof ii||qt instanceof fi)&&qt.populatePaintArray(_,Y,at,pt,wt)}},mi.prototype.setConstantPatternPositions=function(_,Y){for(var at in this.binders){var pt=this.binders[at];pt instanceof Wn&&pt.setConstantPatternPositions(_,Y)}},mi.prototype.updatePaintArrays=function(_,Y,at,pt,wt){var Dt=!1;for(var qt in _)for(var pe=Y.getPositions(qt),Se=0,De=pe;Se<De.length;Se+=1){var Ge=De[Se],ar=at.feature(Ge.index);for(var rr in this.binders){var br=this.binders[rr];if((br instanceof Qn||br instanceof ii||br instanceof fi)&&br.expression.isStateDependent===!0){var Ur=pt.paint.get(rr);br.expression=Ur.value,br.updatePaintArray(Ge.start,Ge.end,ar,_[qt],wt),Dt=!0}}}return Dt},mi.prototype.defines=function(){var _=[];for(var Y in this.binders){var at=this.binders[Y];(at instanceof Kn||at instanceof Wn)&&_.push.apply(_,at.uniformNames.map(function(pt){return"#define HAS_UNIFORM_"+pt}))}return _},mi.prototype.getBinderAttributes=function(){var _=[];for(var Y in this.binders){var at=this.binders[Y];if(at instanceof Qn||at instanceof ii)for(var pt=0;pt<at.paintVertexAttributes.length;pt++)_.push(at.paintVertexAttributes[pt].name);else if(at instanceof fi)for(var wt=0;wt<K.members.length;wt++)_.push(K.members[wt].name)}return _},mi.prototype.getBinderUniforms=function(){var _=[];for(var Y in this.binders){var at=this.binders[Y];if(at instanceof Kn||at instanceof Wn||at instanceof ii)for(var pt=0,wt=at.uniformNames;pt<wt.length;pt+=1){var Dt=wt[pt];_.push(Dt)}}return _},mi.prototype.getPaintVertexBuffers=function(){return this._buffers},mi.prototype.getUniforms=function(_,Y){var at=[];for(var pt in this.binders){var wt=this.binders[pt];if(wt instanceof Kn||wt instanceof Wn||wt instanceof ii)for(var Dt=0,qt=wt.uniformNames;Dt<qt.length;Dt+=1){var pe=qt[Dt];if(Y[pe]){var Se=wt.getBinding(_,Y[pe],pe);at.push({name:pe,property:pt,binding:Se})}}}return at},mi.prototype.setUniforms=function(_,Y,at,pt){for(var wt=0,Dt=Y;wt<Dt.length;wt+=1){var qt=Dt[wt],pe=qt.name,Se=qt.property,De=qt.binding;this.binders[Se].setUniform(De,pt,at.get(Se),pe)}},mi.prototype.updatePaintBuffers=function(_){this._buffers=[];for(var Y in this.binders){var at=this.binders[Y];if(_&&at instanceof fi){var pt=_.fromScale===2?at.zoomInPaintVertexBuffer:at.zoomOutPaintVertexBuffer;pt&&this._buffers.push(pt)}else(at instanceof Qn||at instanceof ii)&&at.paintVertexBuffer&&this._buffers.push(at.paintVertexBuffer)}},mi.prototype.upload=function(_){for(var Y in this.binders){var at=this.binders[Y];(at instanceof Qn||at instanceof ii||at instanceof fi)&&at.upload(_)}this.updatePaintBuffers()},mi.prototype.destroy=function(){for(var _ in this.binders){var Y=this.binders[_];(Y instanceof Qn||Y instanceof ii||Y instanceof fi)&&Y.destroy()}};var di=function(_,Y,at){at===void 0&&(at=function(){return!0}),this.programConfigurations={};for(var pt=0,wt=_;pt<wt.length;pt+=1){var Dt=wt[pt];this.programConfigurations[Dt.id]=new mi(Dt,Y,at)}this.needsUpload=!1,this._featureMap=new ce,this._bufferOffset=0};di.prototype.populatePaintArrays=function(_,Y,at,pt,wt,Dt){for(var qt in this.programConfigurations)this.programConfigurations[qt].populatePaintArrays(_,Y,pt,wt,Dt);Y.id!==void 0&&this._featureMap.add(Y.id,at,this._bufferOffset,_),this._bufferOffset=_,this.needsUpload=!0},di.prototype.updatePaintArrays=function(_,Y,at,pt){for(var wt=0,Dt=at;wt<Dt.length;wt+=1){var qt=Dt[wt];this.needsUpload=this.programConfigurations[qt.id].updatePaintArrays(_,this._featureMap,Y,qt,pt)||this.needsUpload}},di.prototype.get=function(_){return this.programConfigurations[_]},di.prototype.upload=function(_){if(this.needsUpload){for(var Y in this.programConfigurations)this.programConfigurations[Y].upload(_);this.needsUpload=!1}},di.prototype.destroy=function(){for(var _ in this.programConfigurations)this.programConfigurations[_].destroy()};function zi(R,_){var Y={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return Y[R]||[R.replace(_+"-","").replace(/-/g,"_")]}function Qi(R){var _={"line-pattern":{source:Ls,composite:Ls},"fill-pattern":{source:Ls,composite:Ls},"fill-extrusion-pattern":{source:Ls,composite:Ls}};return _[R]}function Wi(R,_,Y){var at={color:{source:zh,composite:Nc},number:{source:Fh,composite:zh}},pt=Qi(R);return pt&&pt[Y]||at[_][Y]}Vt("ConstantBinder",Kn),Vt("CrossFadedConstantBinder",Wn),Vt("SourceExpressionBinder",Qn),Vt("CrossFadedCompositeBinder",fi),Vt("CompositeExpressionBinder",ii),Vt("ProgramConfiguration",mi,{omit:["_buffers"]}),Vt("ProgramConfigurationSet",di);var Si=8192,Yi=15,Vi=Math.pow(2,Yi-1)-1,da=-Vi-1;function ua(R){for(var _=Si/R.extent,Y=R.loadGeometry(),at=0;at<Y.length;at++)for(var pt=Y[at],wt=0;wt<pt.length;wt++){var Dt=pt[wt],qt=Math.round(Dt.x*_),pe=Math.round(Dt.y*_);Dt.x=v(qt,da,Vi),Dt.y=v(pe,da,Vi),(qt<Dt.x||qt>Dt.x+1||pe<Dt.y||pe>Dt.y+1)&&N("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return Y}function za(R,_){return{type:R.type,id:R.id,properties:R.properties,geometry:_?ua(R):[]}}function Ji(R,_,Y,at,pt){R.emplaceBack(_*2+(at+1)/2,Y*2+(pt+1)/2)}var Pa=function(_){this.zoom=_.zoom,this.overscaling=_.overscaling,this.layers=_.layers,this.layerIds=this.layers.map(function(Y){return Y.id}),this.index=_.index,this.hasPattern=!1,this.layoutVertexArray=new Bc,this.indexArray=new xf,this.segments=new Po,this.programConfigurations=new di(_.layers,_.zoom),this.stateDependentLayerIds=this.layers.filter(function(Y){return Y.isStateDependent()}).map(function(Y){return Y.id})};Pa.prototype.populate=function(_,Y,at){var pt=this.layers[0],wt=[],Dt=null;pt.type==="circle"&&(Dt=pt.layout.get("circle-sort-key"));for(var qt=0,pe=_;qt<pe.length;qt+=1){var Se=pe[qt],De=Se.feature,Ge=Se.id,ar=Se.index,rr=Se.sourceLayerIndex,br=this.layers[0]._featureFilter.needGeometry,Ur=za(De,br);if(this.layers[0]._featureFilter.filter(new Ai(this.zoom),Ur,at)){var fn=Dt?Dt.evaluate(Ur,{},at):void 0,tn={id:Ge,properties:De.properties,type:De.type,sourceLayerIndex:rr,index:ar,geometry:br?Ur.geometry:ua(De),patterns:{},sortKey:fn};wt.push(tn)}}Dt&&wt.sort(function(pi,xi){return pi.sortKey-xi.sortKey});for(var Mn=0,xn=wt;Mn<xn.length;Mn+=1){var Sn=xn[Mn],Fn=Sn,jn=Fn.geometry,ai=Fn.index,ei=Fn.sourceLayerIndex,wi=_[ai].feature;this.addFeature(Sn,jn,ai,at),Y.featureIndex.insert(wi,jn,ai,ei,this.index)}},Pa.prototype.update=function(_,Y,at){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_,Y,this.stateDependentLayers,at)},Pa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Pa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Pa.prototype.upload=function(_){this.uploaded||(this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,Ig),this.indexBuffer=_.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(_),this.uploaded=!0},Pa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Pa.prototype.addFeature=function(_,Y,at,pt){for(var wt=0,Dt=Y;wt<Dt.length;wt+=1)for(var qt=Dt[wt],pe=0,Se=qt;pe<Se.length;pe+=1){var De=Se[pe],Ge=De.x,ar=De.y;if(!(Ge<0||Ge>=Si||ar<0||ar>=Si)){var rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,_.sortKey),br=rr.vertexLength;Ji(this.layoutVertexArray,Ge,ar,-1,-1),Ji(this.layoutVertexArray,Ge,ar,1,-1),Ji(this.layoutVertexArray,Ge,ar,1,1),Ji(this.layoutVertexArray,Ge,ar,-1,1),this.indexArray.emplaceBack(br,br+1,br+2),this.indexArray.emplaceBack(br,br+3,br+2),rr.vertexLength+=4,rr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_,at,{},pt)},Vt("CircleBucket",Pa,{omit:["layers"]});function Hi(R,_){for(var Y=0;Y<R.length;Y++)if(Ps(_,R[Y]))return!0;for(var at=0;at<_.length;at++)if(Ps(R,_[at]))return!0;return!!Ll(R,_)}function na(R,_,Y){return!!(Ps(R,_)||zu(_,R,Y))}function ao(R,_){if(R.length===1)return Fu(_,R[0]);for(var Y=0;Y<_.length;Y++)for(var at=_[Y],pt=0;pt<at.length;pt++)if(Ps(R,at[pt]))return!0;for(var wt=0;wt<R.length;wt++)if(Fu(_,R[wt]))return!0;for(var Dt=0;Dt<_.length;Dt++)if(Ll(R,_[Dt]))return!0;return!1}function Ho(R,_,Y){for(var at=0;at<_.length;at++){var pt=_[at];if(R.length>=3){for(var wt=0;wt<pt.length;wt++)if(Ps(R,pt[wt]))return!0}if(Cl(R,pt,Y))return!0}return!1}function Cl(R,_,Y){if(R.length>1){if(Ll(R,_))return!0;for(var at=0;at<_.length;at++)if(zu(_[at],R,Y))return!0}for(var pt=0;pt<R.length;pt++)if(zu(R[pt],_,Y))return!0;return!1}function Ll(R,_){if(R.length===0||_.length===0)return!1;for(var Y=0;Y<R.length-1;Y++)for(var at=R[Y],pt=R[Y+1],wt=0;wt<_.length-1;wt++){var Dt=_[wt],qt=_[wt+1];if(ql(at,pt,Dt,qt))return!0}return!1}function ql(R,_,Y,at){return O(R,Y,at)!==O(_,Y,at)&&O(R,_,Y)!==O(R,_,at)}function zu(R,_,Y){var at=Y*Y;if(_.length===1)return R.distSqr(_[0])<at;for(var pt=1;pt<_.length;pt++){var wt=_[pt-1],Dt=_[pt];if(Vc(R,wt,Dt)<at)return!0}return!1}function Vc(R,_,Y){var at=_.distSqr(Y);if(at===0)return R.distSqr(_);var pt=((R.x-_.x)*(Y.x-_.x)+(R.y-_.y)*(Y.y-_.y))/at;return pt<0?R.distSqr(_):pt>1?R.distSqr(Y):R.distSqr(Y.sub(_)._mult(pt)._add(_))}function Fu(R,_){for(var Y=!1,at,pt,wt,Dt=0;Dt<R.length;Dt++){at=R[Dt];for(var qt=0,pe=at.length-1;qt<at.length;pe=qt++)pt=at[qt],wt=at[pe],pt.y>_.y!=wt.y>_.y&&_.x<(wt.x-pt.x)*(_.y-pt.y)/(wt.y-pt.y)+pt.x&&(Y=!Y)}return Y}function Ps(R,_){for(var Y=!1,at=0,pt=R.length-1;at<R.length;pt=at++){var wt=R[at],Dt=R[pt];wt.y>_.y!=Dt.y>_.y&&_.x<(Dt.x-wt.x)*(_.y-wt.y)/(Dt.y-wt.y)+wt.x&&(Y=!Y)}return Y}function Ou(R,_,Y,at,pt){for(var wt=0,Dt=R;wt<Dt.length;wt+=1){var qt=Dt[wt];if(_<=qt.x&&Y<=qt.y&&at>=qt.x&&pt>=qt.y)return!0}var pe=[new r(_,Y),new r(_,pt),new r(at,pt),new r(at,Y)];if(R.length>2)for(var Se=0,De=pe;Se<De.length;Se+=1){var Ge=De[Se];if(Ps(R,Ge))return!0}for(var ar=0;ar<R.length-1;ar++){var rr=R[ar],br=R[ar+1];if(Ws(rr,br,pe))return!0}return!1}function Ws(R,_,Y){var at=Y[0],pt=Y[2];if(R.x<at.x&&_.x<at.x||R.x>pt.x&&_.x>pt.x||R.y<at.y&&_.y<at.y||R.y>pt.y&&_.y>pt.y)return!1;var wt=O(R,_,Y[0]);return wt!==O(R,_,Y[1])||wt!==O(R,_,Y[2])||wt!==O(R,_,Y[3])}function Is(R,_,Y){var at=_.paint.get(R).value;return at.kind==="constant"?at.value:Y.programConfigurations.get(_.id).getMaxValue(R)}function tu(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function bf(R,_,Y,at,pt){if(!_[0]&&!_[1])return R;var wt=r.convert(_)._mult(pt);Y==="viewport"&&wt._rotate(-at);for(var Dt=[],qt=0;qt<R.length;qt++){var pe=R[qt];Dt.push(pe.sub(wt))}return Dt}var eu=new wa({"circle-sort-key":new Ci(Sr.layout_circle["circle-sort-key"])}),Ld=new wa({"circle-radius":new Ci(Sr.paint_circle["circle-radius"]),"circle-color":new Ci(Sr.paint_circle["circle-color"]),"circle-blur":new Ci(Sr.paint_circle["circle-blur"]),"circle-opacity":new Ci(Sr.paint_circle["circle-opacity"]),"circle-translate":new ui(Sr.paint_circle["circle-translate"]),"circle-translate-anchor":new ui(Sr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ui(Sr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ui(Sr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ci(Sr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ci(Sr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ci(Sr.paint_circle["circle-stroke-opacity"])}),Nh={paint:Ld,layout:eu},Xo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,_=0,Y=arguments.length;Y--;)_+=R[Y]*R[Y];return Math.sqrt(_)});function Pd(){var R=new Xo(4);return Xo!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function Zv(R,_,Y){var at=_[0],pt=_[1],wt=_[2],Dt=_[3],qt=Math.sin(Y),pe=Math.cos(Y);return R[0]=at*pe+wt*qt,R[1]=pt*pe+Dt*qt,R[2]=at*-qt+wt*pe,R[3]=pt*-qt+Dt*pe,R}function ds(){var R=new Xo(9);return Xo!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function Uh(R,_){var Y=Math.sin(_),at=Math.cos(_);return R[0]=at,R[1]=Y,R[2]=0,R[3]=-Y,R[4]=at,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function Id(){var R=new Xo(16);return Xo!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function Dd(R){var _=new Xo(16);return _[0]=R[0],_[1]=R[1],_[2]=R[2],_[3]=R[3],_[4]=R[4],_[5]=R[5],_[6]=R[6],_[7]=R[7],_[8]=R[8],_[9]=R[9],_[10]=R[10],_[11]=R[11],_[12]=R[12],_[13]=R[13],_[14]=R[14],_[15]=R[15],_}function Rd(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function Vh(R,_){var Y=_[0],at=_[1],pt=_[2],wt=_[3],Dt=_[4],qt=_[5],pe=_[6],Se=_[7],De=_[8],Ge=_[9],ar=_[10],rr=_[11],br=_[12],Ur=_[13],fn=_[14],tn=_[15],Mn=Y*qt-at*Dt,xn=Y*pe-pt*Dt,Sn=Y*Se-wt*Dt,Fn=at*pe-pt*qt,jn=at*Se-wt*qt,ai=pt*Se-wt*pe,ei=De*Ur-Ge*br,wi=De*fn-ar*br,pi=De*tn-rr*br,xi=Ge*fn-ar*Ur,Ni=Ge*tn-rr*Ur,Ti=ar*tn-rr*fn,Ei=Mn*Ti-xn*Ni+Sn*xi+Fn*pi-jn*wi+ai*ei;return Ei?(Ei=1/Ei,R[0]=(qt*Ti-pe*Ni+Se*xi)*Ei,R[1]=(pt*Ni-at*Ti-wt*xi)*Ei,R[2]=(Ur*ai-fn*jn+tn*Fn)*Ei,R[3]=(ar*jn-Ge*ai-rr*Fn)*Ei,R[4]=(pe*pi-Dt*Ti-Se*wi)*Ei,R[5]=(Y*Ti-pt*pi+wt*wi)*Ei,R[6]=(fn*Sn-br*ai-tn*xn)*Ei,R[7]=(De*ai-ar*Sn+rr*xn)*Ei,R[8]=(Dt*Ni-qt*pi+Se*ei)*Ei,R[9]=(at*pi-Y*Ni-wt*ei)*Ei,R[10]=(br*jn-Ur*Sn+tn*Mn)*Ei,R[11]=(Ge*Sn-De*jn-rr*Mn)*Ei,R[12]=(qt*wi-Dt*xi-pe*ei)*Ei,R[13]=(Y*xi-at*wi+pt*ei)*Ei,R[14]=(Ur*xn-br*Fn-fn*Mn)*Ei,R[15]=(De*Fn-Ge*xn+ar*Mn)*Ei,R):null}function Hh(R,_,Y){var at=_[0],pt=_[1],wt=_[2],Dt=_[3],qt=_[4],pe=_[5],Se=_[6],De=_[7],Ge=_[8],ar=_[9],rr=_[10],br=_[11],Ur=_[12],fn=_[13],tn=_[14],Mn=_[15],xn=Y[0],Sn=Y[1],Fn=Y[2],jn=Y[3];return R[0]=xn*at+Sn*qt+Fn*Ge+jn*Ur,R[1]=xn*pt+Sn*pe+Fn*ar+jn*fn,R[2]=xn*wt+Sn*Se+Fn*rr+jn*tn,R[3]=xn*Dt+Sn*De+Fn*br+jn*Mn,xn=Y[4],Sn=Y[5],Fn=Y[6],jn=Y[7],R[4]=xn*at+Sn*qt+Fn*Ge+jn*Ur,R[5]=xn*pt+Sn*pe+Fn*ar+jn*fn,R[6]=xn*wt+Sn*Se+Fn*rr+jn*tn,R[7]=xn*Dt+Sn*De+Fn*br+jn*Mn,xn=Y[8],Sn=Y[9],Fn=Y[10],jn=Y[11],R[8]=xn*at+Sn*qt+Fn*Ge+jn*Ur,R[9]=xn*pt+Sn*pe+Fn*ar+jn*fn,R[10]=xn*wt+Sn*Se+Fn*rr+jn*tn,R[11]=xn*Dt+Sn*De+Fn*br+jn*Mn,xn=Y[12],Sn=Y[13],Fn=Y[14],jn=Y[15],R[12]=xn*at+Sn*qt+Fn*Ge+jn*Ur,R[13]=xn*pt+Sn*pe+Fn*ar+jn*fn,R[14]=xn*wt+Sn*Se+Fn*rr+jn*tn,R[15]=xn*Dt+Sn*De+Fn*br+jn*Mn,R}function ho(R,_,Y){var at=Y[0],pt=Y[1],wt=Y[2],Dt,qt,pe,Se,De,Ge,ar,rr,br,Ur,fn,tn;return _===R?(R[12]=_[0]*at+_[4]*pt+_[8]*wt+_[12],R[13]=_[1]*at+_[5]*pt+_[9]*wt+_[13],R[14]=_[2]*at+_[6]*pt+_[10]*wt+_[14],R[15]=_[3]*at+_[7]*pt+_[11]*wt+_[15]):(Dt=_[0],qt=_[1],pe=_[2],Se=_[3],De=_[4],Ge=_[5],ar=_[6],rr=_[7],br=_[8],Ur=_[9],fn=_[10],tn=_[11],R[0]=Dt,R[1]=qt,R[2]=pe,R[3]=Se,R[4]=De,R[5]=Ge,R[6]=ar,R[7]=rr,R[8]=br,R[9]=Ur,R[10]=fn,R[11]=tn,R[12]=Dt*at+De*pt+br*wt+_[12],R[13]=qt*at+Ge*pt+Ur*wt+_[13],R[14]=pe*at+ar*pt+fn*wt+_[14],R[15]=Se*at+rr*pt+tn*wt+_[15]),R}function Ys(R,_,Y){var at=Y[0],pt=Y[1],wt=Y[2];return R[0]=_[0]*at,R[1]=_[1]*at,R[2]=_[2]*at,R[3]=_[3]*at,R[4]=_[4]*pt,R[5]=_[5]*pt,R[6]=_[6]*pt,R[7]=_[7]*pt,R[8]=_[8]*wt,R[9]=_[9]*wt,R[10]=_[10]*wt,R[11]=_[11]*wt,R[12]=_[12],R[13]=_[13],R[14]=_[14],R[15]=_[15],R}function js(R,_,Y){var at=Math.sin(Y),pt=Math.cos(Y),wt=_[4],Dt=_[5],qt=_[6],pe=_[7],Se=_[8],De=_[9],Ge=_[10],ar=_[11];return _!==R&&(R[0]=_[0],R[1]=_[1],R[2]=_[2],R[3]=_[3],R[12]=_[12],R[13]=_[13],R[14]=_[14],R[15]=_[15]),R[4]=wt*pt+Se*at,R[5]=Dt*pt+De*at,R[6]=qt*pt+Ge*at,R[7]=pe*pt+ar*at,R[8]=Se*pt-wt*at,R[9]=De*pt-Dt*at,R[10]=Ge*pt-qt*at,R[11]=ar*pt-pe*at,R}function _d(R,_,Y){var at=Math.sin(Y),pt=Math.cos(Y),wt=_[0],Dt=_[1],qt=_[2],pe=_[3],Se=_[4],De=_[5],Ge=_[6],ar=_[7];return _!==R&&(R[8]=_[8],R[9]=_[9],R[10]=_[10],R[11]=_[11],R[12]=_[12],R[13]=_[13],R[14]=_[14],R[15]=_[15]),R[0]=wt*pt+Se*at,R[1]=Dt*pt+De*at,R[2]=qt*pt+Ge*at,R[3]=pe*pt+ar*at,R[4]=Se*pt-wt*at,R[5]=De*pt-Dt*at,R[6]=Ge*pt-qt*at,R[7]=ar*pt-pe*at,R}function qp(R,_,Y,at,pt){var wt=1/Math.tan(_/2),Dt;return R[0]=wt/Y,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=wt,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,pt!=null&&pt!==1/0?(Dt=1/(at-pt),R[10]=(pt+at)*Dt,R[14]=2*pt*at*Dt):(R[10]=-1,R[14]=-2*at),R}function d1(R,_,Y,at,pt,wt,Dt){var qt=1/(_-Y),pe=1/(at-pt),Se=1/(wt-Dt);return R[0]=-2*qt,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*pe,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*Se,R[11]=0,R[12]=(_+Y)*qt,R[13]=(pt+at)*pe,R[14]=(Dt+wt)*Se,R[15]=1,R}var p1=Hh;function Kv(){var R=new Xo(3);return Xo!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function g1(R){var _=new Xo(3);return _[0]=R[0],_[1]=R[1],_[2]=R[2],_}function kd(R,_,Y){return R[0]=_[0]+Y[0],R[1]=_[1]+Y[1],R[2]=_[2]+Y[2],R}function y1(R,_,Y){return R[0]=_[0]-Y[0],R[1]=_[1]-Y[1],R[2]=_[2]-Y[2],R}function m1(R,_,Y){return R[0]=_[0]*Y,R[1]=_[1]*Y,R[2]=_[2]*Y,R}function t0(R,_){var Y=_[0],at=_[1],pt=_[2],wt=Y*Y+at*at+pt*pt;return wt>0&&(wt=1/Math.sqrt(wt)),R[0]=_[0]*wt,R[1]=_[1]*wt,R[2]=_[2]*wt,R}function iS(R,_){return R[0]*_[0]+R[1]*_[1]+R[2]*_[2]}function aS(R,_,Y){var at=_[0],pt=_[1],wt=_[2],Dt=Y[0],qt=Y[1],pe=Y[2];return R[0]=pt*pe-wt*qt,R[1]=wt*Dt-at*pe,R[2]=at*qt-pt*Dt,R}function oS(R,_,Y){var at=_[0],pt=_[1],wt=_[2];return R[0]=at*Y[0]+pt*Y[3]+wt*Y[6],R[1]=at*Y[1]+pt*Y[4]+wt*Y[7],R[2]=at*Y[2]+pt*Y[5]+wt*Y[8],R}var sS=y1;(function(){var R=Kv();return function(_,Y,at,pt,wt,Dt){var qt,pe;for(Y||(Y=3),at||(at=0),pt?pe=Math.min(pt*Y+at,_.length):pe=_.length,qt=at;qt<pe;qt+=Y)R[0]=_[qt],R[1]=_[qt+1],R[2]=_[qt+2],wt(R,R,Dt),_[qt]=R[0],_[qt+1]=R[1],_[qt+2]=R[2];return _}})();function lS(){var R=new Xo(4);return Xo!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function uS(R,_,Y){return R[0]=_[0]*Y,R[1]=_[1]*Y,R[2]=_[2]*Y,R[3]=_[3]*Y,R}function fS(R,_){return R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]*_[3]}function Dg(R,_,Y){var at=_[0],pt=_[1],wt=_[2],Dt=_[3];return R[0]=Y[0]*at+Y[4]*pt+Y[8]*wt+Y[12]*Dt,R[1]=Y[1]*at+Y[5]*pt+Y[9]*wt+Y[13]*Dt,R[2]=Y[2]*at+Y[6]*pt+Y[10]*wt+Y[14]*Dt,R[3]=Y[3]*at+Y[7]*pt+Y[11]*wt+Y[15]*Dt,R}(function(){var R=lS();return function(_,Y,at,pt,wt,Dt){var qt,pe;for(Y||(Y=4),at||(at=0),pt?pe=Math.min(pt*Y+at,_.length):pe=_.length,qt=at;qt<pe;qt+=Y)R[0]=_[qt],R[1]=_[qt+1],R[2]=_[qt+2],R[3]=_[qt+3],wt(R,R,Dt),_[qt]=R[0],_[qt+1]=R[1],_[qt+2]=R[2],_[qt+3]=R[3];return _}})();function cS(){var R=new Xo(2);return Xo!=Float32Array&&(R[0]=0,R[1]=0),R}function hS(R){var _=R[0],Y=R[1];return _*_+Y*Y}var vS=hS;(function(){var R=cS();return function(_,Y,at,pt,wt,Dt){var qt,pe;for(Y||(Y=2),at||(at=0),pt?pe=Math.min(pt*Y+at,_.length):pe=_.length,qt=at;qt<pe;qt+=Y)R[0]=_[qt],R[1]=_[qt+1],wt(R,R,Dt),_[qt]=R[0],_[qt+1]=R[1];return _}})();var dS=function(R){function _(Y){R.call(this,Y,Nh)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.createBucket=function(at){return new Pa(at)},_.prototype.queryRadius=function(at){var pt=at;return Is("circle-radius",this,pt)+Is("circle-stroke-width",this,pt)+tu(this.paint.get("circle-translate"))},_.prototype.queryIntersectsFeature=function(at,pt,wt,Dt,qt,pe,Se,De){for(var Ge=bf(at,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),pe.angle,Se),ar=this.paint.get("circle-radius").evaluate(pt,wt),rr=this.paint.get("circle-stroke-width").evaluate(pt,wt),br=ar+rr,Ur=this.paint.get("circle-pitch-alignment")==="map",fn=Ur?Ge:pS(Ge,De),tn=Ur?br*Se:br,Mn=0,xn=Dt;Mn<xn.length;Mn+=1)for(var Sn=xn[Mn],Fn=0,jn=Sn;Fn<jn.length;Fn+=1){var ai=jn[Fn],ei=Ur?ai:iw(ai,De),wi=tn,pi=Dg([],[ai.x,ai.y,0,1],De);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?wi*=pi[3]/pe.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(wi*=pe.cameraToCenterDistance/pi[3]),na(fn,ei,wi))return!0}return!1},_}(io);function iw(R,_){var Y=Dg([],[R.x,R.y,0,1],_);return new r(Y[0]/Y[3],Y[1]/Y[3])}function pS(R,_){return R.map(function(Y){return iw(Y,_)})}var aw=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_}(Pa);Vt("HeatmapBucket",aw,{omit:["layers"]});function x1(R,_,Y,at){var pt=_.width,wt=_.height;if(!at)at=new Uint8Array(pt*wt*Y);else if(at instanceof Uint8ClampedArray)at=new Uint8Array(at.buffer);else if(at.length!==pt*wt*Y)throw new RangeError("mismatched image size");return R.width=pt,R.height=wt,R.data=at,R}function ow(R,_,Y){var at=_.width,pt=_.height;if(!(at===R.width&&pt===R.height)){var wt=x1({},{width:at,height:pt},Y);b1(R,wt,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,at),height:Math.min(R.height,pt)},Y),R.width=at,R.height=pt,R.data=wt.data}}function b1(R,_,Y,at,pt,wt){if(pt.width===0||pt.height===0)return _;if(pt.width>R.width||pt.height>R.height||Y.x>R.width-pt.width||Y.y>R.height-pt.height)throw new RangeError("out of range source coordinates for image copy");if(pt.width>_.width||pt.height>_.height||at.x>_.width-pt.width||at.y>_.height-pt.height)throw new RangeError("out of range destination coordinates for image copy");for(var Dt=R.data,qt=_.data,pe=0;pe<pt.height;pe++)for(var Se=((Y.y+pe)*R.width+Y.x)*wt,De=((at.y+pe)*_.width+at.x)*wt,Ge=0;Ge<pt.width*wt;Ge++)qt[De+Ge]=Dt[Se+Ge];return _}var Jv=function(_,Y){x1(this,_,1,Y)};Jv.prototype.resize=function(_){ow(this,_,1)},Jv.prototype.clone=function(){return new Jv({width:this.width,height:this.height},new Uint8Array(this.data))},Jv.copy=function(_,Y,at,pt,wt){b1(_,Y,at,pt,wt,1)};var Xs=function(_,Y){x1(this,_,4,Y)};Xs.prototype.resize=function(_){ow(this,_,4)},Xs.prototype.replace=function(_,Y){Y?this.data.set(_):_ instanceof Uint8ClampedArray?this.data=new Uint8Array(_.buffer):this.data=_},Xs.prototype.clone=function(){return new Xs({width:this.width,height:this.height},new Uint8Array(this.data))},Xs.copy=function(_,Y,at,pt,wt){b1(_,Y,at,pt,wt,4)},Vt("AlphaImage",Jv),Vt("RGBAImage",Xs);var gS=new wa({"heatmap-radius":new Ci(Sr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ci(Sr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ui(Sr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Lo(Sr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ui(Sr.paint_heatmap["heatmap-opacity"])}),yS={paint:gS};function sw(R){var _={},Y=R.resolution||256,at=R.clips?R.clips.length:1,pt=R.image||new Xs({width:Y,height:at}),wt=function(Mn,xn,Sn){_[R.evaluationKey]=Sn;var Fn=R.expression.evaluate(_);pt.data[Mn+xn+0]=Math.floor(Fn.r*255/Fn.a),pt.data[Mn+xn+1]=Math.floor(Fn.g*255/Fn.a),pt.data[Mn+xn+2]=Math.floor(Fn.b*255/Fn.a),pt.data[Mn+xn+3]=Math.floor(Fn.a*255)};if(R.clips)for(var Se=0,De=0;Se<at;++Se,De+=Y*4)for(var Ge=0,ar=0;Ge<Y;Ge++,ar+=4){var rr=Ge/(Y-1),br=R.clips[Se],Ur=br.start,fn=br.end,tn=Ur*(1-rr)+fn*rr;wt(De,ar,tn)}else for(var Dt=0,qt=0;Dt<Y;Dt++,qt+=4){var pe=Dt/(Y-1);wt(0,qt,pe)}return pt}var mS=function(R){function _(Y){R.call(this,Y,yS),this._updateColorRamp()}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.createBucket=function(at){return new aw(at)},_.prototype._handleSpecialPaintPropertyUpdate=function(at){at==="heatmap-color"&&this._updateColorRamp()},_.prototype._updateColorRamp=function(){var at=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=sw({expression:at,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},_.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},_.prototype.queryRadius=function(){return 0},_.prototype.queryIntersectsFeature=function(){return!1},_.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},_}(io),xS=new wa({"hillshade-illumination-direction":new ui(Sr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ui(Sr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ui(Sr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ui(Sr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ui(Sr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ui(Sr.paint_hillshade["hillshade-accent-color"])}),bS={paint:xS},wS=function(R){function _(Y){R.call(this,Y,bS)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},_}(io),TS=Ha([{name:"a_pos",components:2,type:"Int16"}],4),AS=TS.members,w1=Rg,SS=Rg;function Rg(R,_,Y){Y=Y||2;var at=_&&_.length,pt=at?_[0]*Y:R.length,wt=lw(R,0,pt,Y,!0),Dt=[];if(!wt||wt.next===wt.prev)return Dt;var qt,pe,Se,De,Ge,ar,rr;if(at&&(wt=PS(R,_,wt,Y)),R.length>80*Y){qt=Se=R[0],pe=De=R[1];for(var br=Y;br<pt;br+=Y)Ge=R[br],ar=R[br+1],Ge<qt&&(qt=Ge),ar<pe&&(pe=ar),Ge>Se&&(Se=Ge),ar>De&&(De=ar);rr=Math.max(Se-qt,De-pe),rr=rr!==0?1/rr:0}return e0(wt,Dt,Y,qt,pe,rr),Dt}function lw(R,_,Y,at,pt){var wt,Dt;if(pt===S1(R,_,Y,at)>0)for(wt=_;wt<Y;wt+=at)Dt=cw(wt,R[wt],R[wt+1],Dt);else for(wt=Y-at;wt>=_;wt-=at)Dt=cw(wt,R[wt],R[wt+1],Dt);return Dt&&_g(Dt,Dt.next)&&(n0(Dt),Dt=Dt.next),Dt}function Gh(R,_){if(!R)return R;_||(_=R);var Y=R,at;do if(at=!1,!Y.steiner&&(_g(Y,Y.next)||Io(Y.prev,Y,Y.next)===0)){if(n0(Y),Y=_=Y.prev,Y===Y.next)break;at=!0}else Y=Y.next;while(at||Y!==_);return _}function e0(R,_,Y,at,pt,wt,Dt){if(R){!Dt&&wt&&kS(R,at,pt,wt);for(var qt=R,pe,Se;R.prev!==R.next;){if(pe=R.prev,Se=R.next,wt?ES(R,at,pt,wt):MS(R)){_.push(pe.i/Y),_.push(R.i/Y),_.push(Se.i/Y),n0(R),R=Se.next,qt=Se.next;continue}if(R=Se,R===qt){Dt?Dt===1?(R=CS(Gh(R),_,Y),e0(R,_,Y,at,pt,wt,2)):Dt===2&&LS(R,_,Y,at,pt,wt):e0(Gh(R),_,Y,at,pt,wt,1);break}}}}function MS(R){var _=R.prev,Y=R,at=R.next;if(Io(_,Y,at)>=0)return!1;for(var pt=R.next.next;pt!==R.prev;){if(zd(_.x,_.y,Y.x,Y.y,at.x,at.y,pt.x,pt.y)&&Io(pt.prev,pt,pt.next)>=0)return!1;pt=pt.next}return!0}function ES(R,_,Y,at){var pt=R.prev,wt=R,Dt=R.next;if(Io(pt,wt,Dt)>=0)return!1;for(var qt=pt.x<wt.x?pt.x<Dt.x?pt.x:Dt.x:wt.x<Dt.x?wt.x:Dt.x,pe=pt.y<wt.y?pt.y<Dt.y?pt.y:Dt.y:wt.y<Dt.y?wt.y:Dt.y,Se=pt.x>wt.x?pt.x>Dt.x?pt.x:Dt.x:wt.x>Dt.x?wt.x:Dt.x,De=pt.y>wt.y?pt.y>Dt.y?pt.y:Dt.y:wt.y>Dt.y?wt.y:Dt.y,Ge=T1(qt,pe,_,Y,at),ar=T1(Se,De,_,Y,at),rr=R.prevZ,br=R.nextZ;rr&&rr.z>=Ge&&br&&br.z<=ar;){if(rr!==R.prev&&rr!==R.next&&zd(pt.x,pt.y,wt.x,wt.y,Dt.x,Dt.y,rr.x,rr.y)&&Io(rr.prev,rr,rr.next)>=0||(rr=rr.prevZ,br!==R.prev&&br!==R.next&&zd(pt.x,pt.y,wt.x,wt.y,Dt.x,Dt.y,br.x,br.y)&&Io(br.prev,br,br.next)>=0))return!1;br=br.nextZ}for(;rr&&rr.z>=Ge;){if(rr!==R.prev&&rr!==R.next&&zd(pt.x,pt.y,wt.x,wt.y,Dt.x,Dt.y,rr.x,rr.y)&&Io(rr.prev,rr,rr.next)>=0)return!1;rr=rr.prevZ}for(;br&&br.z<=ar;){if(br!==R.prev&&br!==R.next&&zd(pt.x,pt.y,wt.x,wt.y,Dt.x,Dt.y,br.x,br.y)&&Io(br.prev,br,br.next)>=0)return!1;br=br.nextZ}return!0}function CS(R,_,Y){var at=R;do{var pt=at.prev,wt=at.next.next;!_g(pt,wt)&&uw(pt,at,at.next,wt)&&r0(pt,wt)&&r0(wt,pt)&&(_.push(pt.i/Y),_.push(at.i/Y),_.push(wt.i/Y),n0(at),n0(at.next),at=R=wt),at=at.next}while(at!==R);return Gh(at)}function LS(R,_,Y,at,pt,wt){var Dt=R;do{for(var qt=Dt.next.next;qt!==Dt.prev;){if(Dt.i!==qt.i&&OS(Dt,qt)){var pe=fw(Dt,qt);Dt=Gh(Dt,Dt.next),pe=Gh(pe,pe.next),e0(Dt,_,Y,at,pt,wt),e0(pe,_,Y,at,pt,wt);return}qt=qt.next}Dt=Dt.next}while(Dt!==R)}function PS(R,_,Y,at){var pt=[],wt,Dt,qt,pe,Se;for(wt=0,Dt=_.length;wt<Dt;wt++)qt=_[wt]*at,pe=wt<Dt-1?_[wt+1]*at:R.length,Se=lw(R,qt,pe,at,!1),Se===Se.next&&(Se.steiner=!0),pt.push(FS(Se));for(pt.sort(IS),wt=0;wt<pt.length;wt++)DS(pt[wt],Y),Y=Gh(Y,Y.next);return Y}function IS(R,_){return R.x-_.x}function DS(R,_){if(_=RS(R,_),_){var Y=fw(_,R);Gh(_,_.next),Gh(Y,Y.next)}}function RS(R,_){var Y=_,at=R.x,pt=R.y,wt=-1/0,Dt;do{if(pt<=Y.y&&pt>=Y.next.y&&Y.next.y!==Y.y){var qt=Y.x+(pt-Y.y)*(Y.next.x-Y.x)/(Y.next.y-Y.y);if(qt<=at&&qt>wt){if(wt=qt,qt===at){if(pt===Y.y)return Y;if(pt===Y.next.y)return Y.next}Dt=Y.x<Y.next.x?Y:Y.next}}Y=Y.next}while(Y!==_);if(!Dt)return null;if(at===wt)return Dt;var pe=Dt,Se=Dt.x,De=Dt.y,Ge=1/0,ar;Y=Dt;do at>=Y.x&&Y.x>=Se&&at!==Y.x&&zd(pt<De?at:wt,pt,Se,De,pt<De?wt:at,pt,Y.x,Y.y)&&(ar=Math.abs(pt-Y.y)/(at-Y.x),r0(Y,R)&&(ar<Ge||ar===Ge&&(Y.x>Dt.x||Y.x===Dt.x&&_S(Dt,Y)))&&(Dt=Y,Ge=ar)),Y=Y.next;while(Y!==pe);return Dt}function _S(R,_){return Io(R.prev,R,_.prev)<0&&Io(_.next,R,R.next)<0}function kS(R,_,Y,at){var pt=R;do pt.z===null&&(pt.z=T1(pt.x,pt.y,_,Y,at)),pt.prevZ=pt.prev,pt.nextZ=pt.next,pt=pt.next;while(pt!==R);pt.prevZ.nextZ=null,pt.prevZ=null,zS(pt)}function zS(R){var _,Y,at,pt,wt,Dt,qt,pe,Se=1;do{for(Y=R,R=null,wt=null,Dt=0;Y;){for(Dt++,at=Y,qt=0,_=0;_<Se&&(qt++,at=at.nextZ,!!at);_++);for(pe=Se;qt>0||pe>0&&at;)qt!==0&&(pe===0||!at||Y.z<=at.z)?(pt=Y,Y=Y.nextZ,qt--):(pt=at,at=at.nextZ,pe--),wt?wt.nextZ=pt:R=pt,pt.prevZ=wt,wt=pt;Y=at}wt.nextZ=null,Se*=2}while(Dt>1);return R}function T1(R,_,Y,at,pt){return R=32767*(R-Y)*pt,_=32767*(_-at)*pt,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,R|_<<1}function FS(R){var _=R,Y=R;do(_.x<Y.x||_.x===Y.x&&_.y<Y.y)&&(Y=_),_=_.next;while(_!==R);return Y}function zd(R,_,Y,at,pt,wt,Dt,qt){return(pt-Dt)*(_-qt)-(R-Dt)*(wt-qt)>=0&&(R-Dt)*(at-qt)-(Y-Dt)*(_-qt)>=0&&(Y-Dt)*(wt-qt)-(pt-Dt)*(at-qt)>=0}function OS(R,_){return R.next.i!==_.i&&R.prev.i!==_.i&&!BS(R,_)&&(r0(R,_)&&r0(_,R)&&NS(R,_)&&(Io(R.prev,R,_.prev)||Io(R,_.prev,_))||_g(R,_)&&Io(R.prev,R,R.next)>0&&Io(_.prev,_,_.next)>0)}function Io(R,_,Y){return(_.y-R.y)*(Y.x-_.x)-(_.x-R.x)*(Y.y-_.y)}function _g(R,_){return R.x===_.x&&R.y===_.y}function uw(R,_,Y,at){var pt=zg(Io(R,_,Y)),wt=zg(Io(R,_,at)),Dt=zg(Io(Y,at,R)),qt=zg(Io(Y,at,_));return!!(pt!==wt&&Dt!==qt||pt===0&&kg(R,Y,_)||wt===0&&kg(R,at,_)||Dt===0&&kg(Y,R,at)||qt===0&&kg(Y,_,at))}function kg(R,_,Y){return _.x<=Math.max(R.x,Y.x)&&_.x>=Math.min(R.x,Y.x)&&_.y<=Math.max(R.y,Y.y)&&_.y>=Math.min(R.y,Y.y)}function zg(R){return R>0?1:R<0?-1:0}function BS(R,_){var Y=R;do{if(Y.i!==R.i&&Y.next.i!==R.i&&Y.i!==_.i&&Y.next.i!==_.i&&uw(Y,Y.next,R,_))return!0;Y=Y.next}while(Y!==R);return!1}function r0(R,_){return Io(R.prev,R,R.next)<0?Io(R,_,R.next)>=0&&Io(R,R.prev,_)>=0:Io(R,_,R.prev)<0||Io(R,R.next,_)<0}function NS(R,_){var Y=R,at=!1,pt=(R.x+_.x)/2,wt=(R.y+_.y)/2;do Y.y>wt!=Y.next.y>wt&&Y.next.y!==Y.y&&pt<(Y.next.x-Y.x)*(wt-Y.y)/(Y.next.y-Y.y)+Y.x&&(at=!at),Y=Y.next;while(Y!==R);return at}function fw(R,_){var Y=new A1(R.i,R.x,R.y),at=new A1(_.i,_.x,_.y),pt=R.next,wt=_.prev;return R.next=_,_.prev=R,Y.next=pt,pt.prev=Y,at.next=Y,Y.prev=at,wt.next=at,at.prev=wt,at}function cw(R,_,Y,at){var pt=new A1(R,_,Y);return at?(pt.next=at.next,pt.prev=at,at.next.prev=pt,at.next=pt):(pt.prev=pt,pt.next=pt),pt}function n0(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function A1(R,_,Y){this.i=R,this.x=_,this.y=Y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Rg.deviation=function(R,_,Y,at){var pt=_&&_.length,wt=pt?_[0]*Y:R.length,Dt=Math.abs(S1(R,0,wt,Y));if(pt)for(var qt=0,pe=_.length;qt<pe;qt++){var Se=_[qt]*Y,De=qt<pe-1?_[qt+1]*Y:R.length;Dt-=Math.abs(S1(R,Se,De,Y))}var Ge=0;for(qt=0;qt<at.length;qt+=3){var ar=at[qt]*Y,rr=at[qt+1]*Y,br=at[qt+2]*Y;Ge+=Math.abs((R[ar]-R[br])*(R[rr+1]-R[ar+1])-(R[ar]-R[rr])*(R[br+1]-R[ar+1]))}return Dt===0&&Ge===0?0:Math.abs((Ge-Dt)/Dt)};function S1(R,_,Y,at){for(var pt=0,wt=_,Dt=Y-at;wt<Y;wt+=at)pt+=(R[Dt]-R[wt])*(R[wt+1]+R[Dt+1]),Dt=wt;return pt}Rg.flatten=function(R){for(var _=R[0][0].length,Y={vertices:[],holes:[],dimensions:_},at=0,pt=0;pt<R.length;pt++){for(var wt=0;wt<R[pt].length;wt++)for(var Dt=0;Dt<_;Dt++)Y.vertices.push(R[pt][wt][Dt]);pt>0&&(at+=R[pt-1].length,Y.holes.push(at))}return Y},w1.default=SS;function US(R,_,Y,at,pt){hw(R,_,Y,at||R.length-1,pt||VS)}function hw(R,_,Y,at,pt){for(;at>Y;){if(at-Y>600){var wt=at-Y+1,Dt=_-Y+1,qt=Math.log(wt),pe=.5*Math.exp(2*qt/3),Se=.5*Math.sqrt(qt*pe*(wt-pe)/wt)*(Dt-wt/2<0?-1:1),De=Math.max(Y,Math.floor(_-Dt*pe/wt+Se)),Ge=Math.min(at,Math.floor(_+(wt-Dt)*pe/wt+Se));hw(R,_,De,Ge,pt)}var ar=R[_],rr=Y,br=at;for(i0(R,Y,_),pt(R[at],ar)>0&&i0(R,Y,at);rr<br;){for(i0(R,rr,br),rr++,br--;pt(R[rr],ar)<0;)rr++;for(;pt(R[br],ar)>0;)br--}pt(R[Y],ar)===0?i0(R,Y,br):(br++,i0(R,br,at)),br<=_&&(Y=br+1),_<=br&&(at=br-1)}}function i0(R,_,Y){var at=R[_];R[_]=R[Y],R[Y]=at}function VS(R,_){return R<_?-1:R>_?1:0}function M1(R,_){var Y=R.length;if(Y<=1)return[R];for(var at=[],pt,wt,Dt=0;Dt<Y;Dt++){var qt=H(R[Dt]);qt!==0&&(R[Dt].area=Math.abs(qt),wt===void 0&&(wt=qt<0),wt===qt<0?(pt&&at.push(pt),pt=[R[Dt]]):pt.push(R[Dt]))}if(pt&&at.push(pt),_>1)for(var pe=0;pe<at.length;pe++)at[pe].length<=_||(US(at[pe],_,1,at[pe].length-1,HS),at[pe]=at[pe].slice(0,_));return at}function HS(R,_){return _.area-R.area}function E1(R,_,Y){for(var at=Y.patternDependencies,pt=!1,wt=0,Dt=_;wt<Dt.length;wt+=1){var qt=Dt[wt],pe=qt.paint.get(R+"-pattern");pe.isConstant()||(pt=!0);var Se=pe.constantOr(null);Se&&(pt=!0,at[Se.to]=!0,at[Se.from]=!0)}return pt}function C1(R,_,Y,at,pt){for(var wt=pt.patternDependencies,Dt=0,qt=_;Dt<qt.length;Dt+=1){var pe=qt[Dt],Se=pe.paint.get(R+"-pattern"),De=Se.value;if(De.kind!=="constant"){var Ge=De.evaluate({zoom:at-1},Y,{},pt.availableImages),ar=De.evaluate({zoom:at},Y,{},pt.availableImages),rr=De.evaluate({zoom:at+1},Y,{},pt.availableImages);Ge=Ge&&Ge.name?Ge.name:Ge,ar=ar&&ar.name?ar.name:ar,rr=rr&&rr.name?rr.name:rr,wt[Ge]=!0,wt[ar]=!0,wt[rr]=!0,Y.patterns[pe.id]={min:Ge,mid:ar,max:rr}}}return Y}var GS=500,wf=function(_){this.zoom=_.zoom,this.overscaling=_.overscaling,this.layers=_.layers,this.layerIds=this.layers.map(function(Y){return Y.id}),this.index=_.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Bc,this.indexArray=new xf,this.indexArray2=new Xv,this.programConfigurations=new di(_.layers,_.zoom),this.segments=new Po,this.segments2=new Po,this.stateDependentLayerIds=this.layers.filter(function(Y){return Y.isStateDependent()}).map(function(Y){return Y.id})};wf.prototype.populate=function(_,Y,at){this.hasPattern=E1("fill",this.layers,Y);for(var pt=this.layers[0].layout.get("fill-sort-key"),wt=[],Dt=0,qt=_;Dt<qt.length;Dt+=1){var pe=qt[Dt],Se=pe.feature,De=pe.id,Ge=pe.index,ar=pe.sourceLayerIndex,rr=this.layers[0]._featureFilter.needGeometry,br=za(Se,rr);if(this.layers[0]._featureFilter.filter(new Ai(this.zoom),br,at)){var Ur=pt?pt.evaluate(br,{},at,Y.availableImages):void 0,fn={id:De,properties:Se.properties,type:Se.type,sourceLayerIndex:ar,index:Ge,geometry:rr?br.geometry:ua(Se),patterns:{},sortKey:Ur};wt.push(fn)}}pt&&wt.sort(function(pi,xi){return pi.sortKey-xi.sortKey});for(var tn=0,Mn=wt;tn<Mn.length;tn+=1){var xn=Mn[tn],Sn=xn,Fn=Sn.geometry,jn=Sn.index,ai=Sn.sourceLayerIndex;if(this.hasPattern){var ei=C1("fill",this.layers,xn,this.zoom,Y);this.patternFeatures.push(ei)}else this.addFeature(xn,Fn,jn,at,{});var wi=_[jn].feature;Y.featureIndex.insert(wi,Fn,jn,ai,this.index)}},wf.prototype.update=function(_,Y,at){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_,Y,this.stateDependentLayers,at)},wf.prototype.addFeatures=function(_,Y,at){for(var pt=0,wt=this.patternFeatures;pt<wt.length;pt+=1){var Dt=wt[pt];this.addFeature(Dt,Dt.geometry,Dt.index,Y,at)}},wf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},wf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},wf.prototype.upload=function(_){this.uploaded||(this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,AS),this.indexBuffer=_.createIndexBuffer(this.indexArray),this.indexBuffer2=_.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(_),this.uploaded=!0},wf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},wf.prototype.addFeature=function(_,Y,at,pt,wt){for(var Dt=0,qt=M1(Y,GS);Dt<qt.length;Dt+=1){for(var pe=qt[Dt],Se=0,De=0,Ge=pe;De<Ge.length;De+=1){var ar=Ge[De];Se+=ar.length}for(var rr=this.segments.prepareSegment(Se,this.layoutVertexArray,this.indexArray),br=rr.vertexLength,Ur=[],fn=[],tn=0,Mn=pe;tn<Mn.length;tn+=1){var xn=Mn[tn];if(xn.length!==0){xn!==pe[0]&&fn.push(Ur.length/2);var Sn=this.segments2.prepareSegment(xn.length,this.layoutVertexArray,this.indexArray2),Fn=Sn.vertexLength;this.layoutVertexArray.emplaceBack(xn[0].x,xn[0].y),this.indexArray2.emplaceBack(Fn+xn.length-1,Fn),Ur.push(xn[0].x),Ur.push(xn[0].y);for(var jn=1;jn<xn.length;jn++)this.layoutVertexArray.emplaceBack(xn[jn].x,xn[jn].y),this.indexArray2.emplaceBack(Fn+jn-1,Fn+jn),Ur.push(xn[jn].x),Ur.push(xn[jn].y);Sn.vertexLength+=xn.length,Sn.primitiveLength+=xn.length}}for(var ai=w1(Ur,fn),ei=0;ei<ai.length;ei+=3)this.indexArray.emplaceBack(br+ai[ei],br+ai[ei+1],br+ai[ei+2]);rr.vertexLength+=Se,rr.primitiveLength+=ai.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_,at,wt,pt)},Vt("FillBucket",wf,{omit:["layers","patternFeatures"]});var WS=new wa({"fill-sort-key":new Ci(Sr.layout_fill["fill-sort-key"])}),YS=new wa({"fill-antialias":new ui(Sr.paint_fill["fill-antialias"]),"fill-opacity":new Ci(Sr.paint_fill["fill-opacity"]),"fill-color":new Ci(Sr.paint_fill["fill-color"]),"fill-outline-color":new Ci(Sr.paint_fill["fill-outline-color"]),"fill-translate":new ui(Sr.paint_fill["fill-translate"]),"fill-translate-anchor":new ui(Sr.paint_fill["fill-translate-anchor"]),"fill-pattern":new rs(Sr.paint_fill["fill-pattern"])}),jS={paint:YS,layout:WS},XS=function(R){function _(Y){R.call(this,Y,jS)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.recalculate=function(at,pt){R.prototype.recalculate.call(this,at,pt);var wt=this.paint._values["fill-outline-color"];wt.value.kind==="constant"&&wt.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},_.prototype.createBucket=function(at){return new wf(at)},_.prototype.queryRadius=function(){return tu(this.paint.get("fill-translate"))},_.prototype.queryIntersectsFeature=function(at,pt,wt,Dt,qt,pe,Se){var De=bf(at,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),pe.angle,Se);return ao(De,Dt)},_.prototype.isTileClipped=function(){return!0},_}(io),ZS=Ha([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),KS=ZS.members,vw=Fd;function Fd(R,_,Y,at,pt){this.properties={},this.extent=Y,this.type=0,this._pbf=R,this._geometry=-1,this._keys=at,this._values=pt,R.readFields(JS,this,_)}function JS(R,_,Y){R==1?_.id=Y.readVarint():R==2?QS(Y,_):R==3?_.type=Y.readVarint():R==4&&(_._geometry=Y.pos)}function QS(R,_){for(var Y=R.readVarint()+R.pos;R.pos<Y;){var at=_._keys[R.readVarint()],pt=_._values[R.readVarint()];_.properties[at]=pt}}Fd.types=["Unknown","Point","LineString","Polygon"],Fd.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var _=R.readVarint()+R.pos,Y=1,at=0,pt=0,wt=0,Dt=[],qt;R.pos<_;){if(at<=0){var pe=R.readVarint();Y=pe&7,at=pe>>3}if(at--,Y===1||Y===2)pt+=R.readSVarint(),wt+=R.readSVarint(),Y===1&&(qt&&Dt.push(qt),qt=[]),qt.push(new r(pt,wt));else if(Y===7)qt&&qt.push(qt[0].clone());else throw new Error("unknown command "+Y)}return qt&&Dt.push(qt),Dt},Fd.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var _=R.readVarint()+R.pos,Y=1,at=0,pt=0,wt=0,Dt=1/0,qt=-1/0,pe=1/0,Se=-1/0;R.pos<_;){if(at<=0){var De=R.readVarint();Y=De&7,at=De>>3}if(at--,Y===1||Y===2)pt+=R.readSVarint(),wt+=R.readSVarint(),pt<Dt&&(Dt=pt),pt>qt&&(qt=pt),wt<pe&&(pe=wt),wt>Se&&(Se=wt);else if(Y!==7)throw new Error("unknown command "+Y)}return[Dt,pe,qt,Se]},Fd.prototype.toGeoJSON=function(R,_,Y){var at=this.extent*Math.pow(2,Y),pt=this.extent*R,wt=this.extent*_,Dt=this.loadGeometry(),qt=Fd.types[this.type],pe,Se;function De(rr){for(var br=0;br<rr.length;br++){var Ur=rr[br],fn=180-(Ur.y+wt)*360/at;rr[br]=[(Ur.x+pt)*360/at-180,360/Math.PI*Math.atan(Math.exp(fn*Math.PI/180))-90]}}switch(this.type){case 1:var Ge=[];for(pe=0;pe<Dt.length;pe++)Ge[pe]=Dt[pe][0];Dt=Ge,De(Dt);break;case 2:for(pe=0;pe<Dt.length;pe++)De(Dt[pe]);break;case 3:for(Dt=$S(Dt),pe=0;pe<Dt.length;pe++)for(Se=0;Se<Dt[pe].length;Se++)De(Dt[pe][Se]);break}Dt.length===1?Dt=Dt[0]:qt="Multi"+qt;var ar={type:"Feature",geometry:{type:qt,coordinates:Dt},properties:this.properties};return"id"in this&&(ar.id=this.id),ar};function $S(R){var _=R.length;if(_<=1)return[R];for(var Y=[],at,pt,wt=0;wt<_;wt++){var Dt=qS(R[wt]);Dt!==0&&(pt===void 0&&(pt=Dt<0),pt===Dt<0?(at&&Y.push(at),at=[R[wt]]):at.push(R[wt]))}return at&&Y.push(at),Y}function qS(R){for(var _=0,Y=0,at=R.length,pt=at-1,wt,Dt;Y<at;pt=Y++)wt=R[Y],Dt=R[pt],_+=(Dt.x-wt.x)*(wt.y+Dt.y);return _}var dw=pw;function pw(R,_){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(tM,this,_),this.length=this._features.length}function tM(R,_,Y){R===15?_.version=Y.readVarint():R===1?_.name=Y.readString():R===5?_.extent=Y.readVarint():R===2?_._features.push(Y.pos):R===3?_._keys.push(Y.readString()):R===4&&_._values.push(eM(Y))}function eM(R){for(var _=null,Y=R.readVarint()+R.pos;R.pos<Y;){var at=R.readVarint()>>3;_=at===1?R.readString():at===2?R.readFloat():at===3?R.readDouble():at===4?R.readVarint64():at===5?R.readVarint():at===6?R.readSVarint():at===7?R.readBoolean():null}return _}pw.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var _=this._pbf.readVarint()+this._pbf.pos;return new vw(this._pbf,_,this.extent,this._keys,this._values)};var rM=nM;function nM(R,_){this.layers=R.readFields(iM,{},_)}function iM(R,_,Y){if(R===3){var at=new dw(Y,Y.readVarint()+Y.pos);at.length&&(_[at.name]=at)}}var aM=rM,oM=vw,sM=dw,Od={VectorTile:aM,VectorTileFeature:oM,VectorTileLayer:sM},lM=Od.VectorTileFeature.types,uM=500,L1=Math.pow(2,13);function a0(R,_,Y,at,pt,wt,Dt,qt){R.emplaceBack(_,Y,Math.floor(at*L1)*2+Dt,pt*L1*2,wt*L1*2,Math.round(qt))}var Tf=function(_){this.zoom=_.zoom,this.overscaling=_.overscaling,this.layers=_.layers,this.layerIds=this.layers.map(function(Y){return Y.id}),this.index=_.index,this.hasPattern=!1,this.layoutVertexArray=new Qf,this.indexArray=new xf,this.programConfigurations=new di(_.layers,_.zoom),this.segments=new Po,this.stateDependentLayerIds=this.layers.filter(function(Y){return Y.isStateDependent()}).map(function(Y){return Y.id})};Tf.prototype.populate=function(_,Y,at){this.features=[],this.hasPattern=E1("fill-extrusion",this.layers,Y);for(var pt=0,wt=_;pt<wt.length;pt+=1){var Dt=wt[pt],qt=Dt.feature,pe=Dt.id,Se=Dt.index,De=Dt.sourceLayerIndex,Ge=this.layers[0]._featureFilter.needGeometry,ar=za(qt,Ge);if(this.layers[0]._featureFilter.filter(new Ai(this.zoom),ar,at)){var rr={id:pe,sourceLayerIndex:De,index:Se,geometry:Ge?ar.geometry:ua(qt),properties:qt.properties,type:qt.type,patterns:{}};this.hasPattern?this.features.push(C1("fill-extrusion",this.layers,rr,this.zoom,Y)):this.addFeature(rr,rr.geometry,Se,at,{}),Y.featureIndex.insert(qt,rr.geometry,Se,De,this.index,!0)}}},Tf.prototype.addFeatures=function(_,Y,at){for(var pt=0,wt=this.features;pt<wt.length;pt+=1){var Dt=wt[pt],qt=Dt.geometry;this.addFeature(Dt,qt,Dt.index,Y,at)}},Tf.prototype.update=function(_,Y,at){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_,Y,this.stateDependentLayers,at)},Tf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Tf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Tf.prototype.upload=function(_){this.uploaded||(this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,KS),this.indexBuffer=_.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(_),this.uploaded=!0},Tf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Tf.prototype.addFeature=function(_,Y,at,pt,wt){for(var Dt=0,qt=M1(Y,uM);Dt<qt.length;Dt+=1){for(var pe=qt[Dt],Se=0,De=0,Ge=pe;De<Ge.length;De+=1){var ar=Ge[De];Se+=ar.length}for(var rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),br=0,Ur=pe;br<Ur.length;br+=1){var fn=Ur[br];if(fn.length!==0&&!cM(fn))for(var tn=0,Mn=0;Mn<fn.length;Mn++){var xn=fn[Mn];if(Mn>=1){var Sn=fn[Mn-1];if(!fM(xn,Sn)){rr.vertexLength+4>Po.MAX_VERTEX_ARRAY_LENGTH&&(rr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Fn=xn.sub(Sn)._perp()._unit(),jn=Sn.dist(xn);tn+jn>32768&&(tn=0),a0(this.layoutVertexArray,xn.x,xn.y,Fn.x,Fn.y,0,0,tn),a0(this.layoutVertexArray,xn.x,xn.y,Fn.x,Fn.y,0,1,tn),tn+=jn,a0(this.layoutVertexArray,Sn.x,Sn.y,Fn.x,Fn.y,0,0,tn),a0(this.layoutVertexArray,Sn.x,Sn.y,Fn.x,Fn.y,0,1,tn);var ai=rr.vertexLength;this.indexArray.emplaceBack(ai,ai+2,ai+1),this.indexArray.emplaceBack(ai+1,ai+2,ai+3),rr.vertexLength+=4,rr.primitiveLength+=2}}}}if(rr.vertexLength+Se>Po.MAX_VERTEX_ARRAY_LENGTH&&(rr=this.segments.prepareSegment(Se,this.layoutVertexArray,this.indexArray)),lM[_.type]==="Polygon"){for(var ei=[],wi=[],pi=rr.vertexLength,xi=0,Ni=pe;xi<Ni.length;xi+=1){var Ti=Ni[xi];if(Ti.length!==0){Ti!==pe[0]&&wi.push(ei.length/2);for(var Ei=0;Ei<Ti.length;Ei++){var Gi=Ti[Ei];a0(this.layoutVertexArray,Gi.x,Gi.y,0,0,1,1,0),ei.push(Gi.x),ei.push(Gi.y)}}}for(var Oi=w1(ei,wi),pa=0;pa<Oi.length;pa+=3)this.indexArray.emplaceBack(pi+Oi[pa],pi+Oi[pa+2],pi+Oi[pa+1]);rr.primitiveLength+=Oi.length/3,rr.vertexLength+=Se}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_,at,wt,pt)},Vt("FillExtrusionBucket",Tf,{omit:["layers","features"]});function fM(R,_){return R.x===_.x&&(R.x<0||R.x>Si)||R.y===_.y&&(R.y<0||R.y>Si)}function cM(R){return R.every(function(_){return _.x<0})||R.every(function(_){return _.x>Si})||R.every(function(_){return _.y<0})||R.every(function(_){return _.y>Si})}var hM=new wa({"fill-extrusion-opacity":new ui(Sr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ci(Sr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ui(Sr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ui(Sr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new rs(Sr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ci(Sr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ci(Sr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ui(Sr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),vM={paint:hM},dM=function(R){function _(Y){R.call(this,Y,vM)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.createBucket=function(at){return new Tf(at)},_.prototype.queryRadius=function(){return tu(this.paint.get("fill-extrusion-translate"))},_.prototype.is3D=function(){return!0},_.prototype.queryIntersectsFeature=function(at,pt,wt,Dt,qt,pe,Se,De){var Ge=bf(at,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),pe.angle,Se),ar=this.paint.get("fill-extrusion-height").evaluate(pt,wt),rr=this.paint.get("fill-extrusion-base").evaluate(pt,wt),br=yM(Ge,De,pe,0),Ur=gM(Dt,rr,ar,De),fn=Ur[0],tn=Ur[1];return pM(fn,tn,br)},_}(io);function o0(R,_){return R.x*_.x+R.y*_.y}function gw(R,_){if(R.length===1){for(var Y=0,at=_[Y++],pt;!pt||at.equals(pt);)if(pt=_[Y++],!pt)return 1/0;for(;Y<_.length;Y++){var wt=_[Y],Dt=R[0],qt=pt.sub(at),pe=wt.sub(at),Se=Dt.sub(at),De=o0(qt,qt),Ge=o0(qt,pe),ar=o0(pe,pe),rr=o0(Se,qt),br=o0(Se,pe),Ur=De*ar-Ge*Ge,fn=(ar*rr-Ge*br)/Ur,tn=(De*br-Ge*rr)/Ur,Mn=1-fn-tn,xn=at.z*Mn+pt.z*fn+wt.z*tn;if(isFinite(xn))return xn}return 1/0}else{for(var Sn=1/0,Fn=0,jn=_;Fn<jn.length;Fn+=1){var ai=jn[Fn];Sn=Math.min(Sn,ai.z)}return Sn}}function pM(R,_,Y){var at=1/0;ao(Y,_)&&(at=gw(Y,_[0]));for(var pt=0;pt<_.length;pt++)for(var wt=_[pt],Dt=R[pt],qt=0;qt<wt.length-1;qt++){var pe=wt[qt],Se=wt[qt+1],De=Dt[qt],Ge=Dt[qt+1],ar=[pe,Se,Ge,De,pe];Hi(Y,ar)&&(at=Math.min(at,gw(Y,ar)))}return at===1/0?!1:at}function gM(R,_,Y,at){for(var pt=[],wt=[],Dt=at[8]*_,qt=at[9]*_,pe=at[10]*_,Se=at[11]*_,De=at[8]*Y,Ge=at[9]*Y,ar=at[10]*Y,rr=at[11]*Y,br=0,Ur=R;br<Ur.length;br+=1){for(var fn=Ur[br],tn=[],Mn=[],xn=0,Sn=fn;xn<Sn.length;xn+=1){var Fn=Sn[xn],jn=Fn.x,ai=Fn.y,ei=at[0]*jn+at[4]*ai+at[12],wi=at[1]*jn+at[5]*ai+at[13],pi=at[2]*jn+at[6]*ai+at[14],xi=at[3]*jn+at[7]*ai+at[15],Ni=ei+Dt,Ti=wi+qt,Ei=pi+pe,Gi=xi+Se,Oi=ei+De,pa=wi+Ge,Da=pi+ar,ga=xi+rr,ya=new r(Ni/Gi,Ti/Gi);ya.z=Ei/Gi,tn.push(ya);var fa=new r(Oi/ga,pa/ga);fa.z=Da/ga,Mn.push(fa)}pt.push(tn),wt.push(Mn)}return[pt,wt]}function yM(R,_,Y,at){for(var pt=[],wt=0,Dt=R;wt<Dt.length;wt+=1){var qt=Dt[wt],pe=[qt.x,qt.y,at,1];Dg(pe,pe,_),pt.push(new r(pe[0]/pe[3],pe[1]/pe[3]))}return pt}var mM=Ha([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),xM=mM.members,bM=Ha([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),wM=bM.members,TM=Od.VectorTileFeature.types,yw=63,AM=Math.cos(75/2*(Math.PI/180)),SM=15,MM=20,EM=15,mw=1/2,xw=Math.pow(2,EM-1)/mw,Ds=function(_){var Y=this;this.zoom=_.zoom,this.overscaling=_.overscaling,this.layers=_.layers,this.layerIds=this.layers.map(function(at){return at.id}),this.index=_.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(at){Y.gradients[at.id]={}}),this.layoutVertexArray=new kh,this.layoutVertexArray2=new zh,this.indexArray=new xf,this.programConfigurations=new di(_.layers,_.zoom),this.segments=new Po,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(at){return at.isStateDependent()}).map(function(at){return at.id})};Ds.prototype.populate=function(_,Y,at){this.hasPattern=E1("line",this.layers,Y);for(var pt=this.layers[0].layout.get("line-sort-key"),wt=[],Dt=0,qt=_;Dt<qt.length;Dt+=1){var pe=qt[Dt],Se=pe.feature,De=pe.id,Ge=pe.index,ar=pe.sourceLayerIndex,rr=this.layers[0]._featureFilter.needGeometry,br=za(Se,rr);if(this.layers[0]._featureFilter.filter(new Ai(this.zoom),br,at)){var Ur=pt?pt.evaluate(br,{},at):void 0,fn={id:De,properties:Se.properties,type:Se.type,sourceLayerIndex:ar,index:Ge,geometry:rr?br.geometry:ua(Se),patterns:{},sortKey:Ur};wt.push(fn)}}pt&&wt.sort(function(pi,xi){return pi.sortKey-xi.sortKey});for(var tn=0,Mn=wt;tn<Mn.length;tn+=1){var xn=Mn[tn],Sn=xn,Fn=Sn.geometry,jn=Sn.index,ai=Sn.sourceLayerIndex;if(this.hasPattern){var ei=C1("line",this.layers,xn,this.zoom,Y);this.patternFeatures.push(ei)}else this.addFeature(xn,Fn,jn,at,{});var wi=_[jn].feature;Y.featureIndex.insert(wi,Fn,jn,ai,this.index)}},Ds.prototype.update=function(_,Y,at){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_,Y,this.stateDependentLayers,at)},Ds.prototype.addFeatures=function(_,Y,at){for(var pt=0,wt=this.patternFeatures;pt<wt.length;pt+=1){var Dt=wt[pt];this.addFeature(Dt,Dt.geometry,Dt.index,Y,at)}},Ds.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ds.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ds.prototype.upload=function(_){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=_.createVertexBuffer(this.layoutVertexArray2,wM)),this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,xM),this.indexBuffer=_.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(_),this.uploaded=!0},Ds.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ds.prototype.lineFeatureClips=function(_){if(_.properties&&_.properties.hasOwnProperty("mapbox_clip_start")&&_.properties.hasOwnProperty("mapbox_clip_end")){var Y=+_.properties.mapbox_clip_start,at=+_.properties.mapbox_clip_end;return{start:Y,end:at}}},Ds.prototype.addFeature=function(_,Y,at,pt,wt){var Dt=this.layers[0].layout,qt=Dt.get("line-join").evaluate(_,{}),pe=Dt.get("line-cap"),Se=Dt.get("line-miter-limit"),De=Dt.get("line-round-limit");this.lineClips=this.lineFeatureClips(_);for(var Ge=0,ar=Y;Ge<ar.length;Ge+=1){var rr=ar[Ge];this.addLine(rr,_,qt,pe,Se,De)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_,at,wt,pt)},Ds.prototype.addLine=function(_,Y,at,pt,wt,Dt){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var qt=0;qt<_.length-1;qt++)this.totalDistance+=_[qt].dist(_[qt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var pe=TM[Y.type]==="Polygon",Se=_.length;Se>=2&&_[Se-1].equals(_[Se-2]);)Se--;for(var De=0;De<Se-1&&_[De].equals(_[De+1]);)De++;if(!(Se<(pe?3:2))){at==="bevel"&&(wt=1.05);var Ge=this.overscaling<=16?SM*Si/(512*this.overscaling):0,ar=this.segments.prepareSegment(Se*10,this.layoutVertexArray,this.indexArray),rr,br=void 0,Ur=void 0,fn=void 0,tn=void 0;this.e1=this.e2=-1,pe&&(rr=_[Se-2],tn=_[De].sub(rr)._unit()._perp());for(var Mn=De;Mn<Se;Mn++)if(Ur=Mn===Se-1?pe?_[De+1]:void 0:_[Mn+1],!(Ur&&_[Mn].equals(Ur))){tn&&(fn=tn),rr&&(br=rr),rr=_[Mn],tn=Ur?Ur.sub(rr)._unit()._perp():fn,fn=fn||tn;var xn=fn.add(tn);(xn.x!==0||xn.y!==0)&&xn._unit();var Sn=fn.x*tn.x+fn.y*tn.y,Fn=xn.x*tn.x+xn.y*tn.y,jn=Fn!==0?1/Fn:1/0,ai=2*Math.sqrt(2-2*Fn),ei=Fn<AM&&br&&Ur,wi=fn.x*tn.y-fn.y*tn.x>0;if(ei&&Mn>De){var pi=rr.dist(br);if(pi>2*Ge){var xi=rr.sub(rr.sub(br)._mult(Ge/pi)._round());this.updateDistance(br,xi),this.addCurrentVertex(xi,fn,0,0,ar),br=xi}}var Ni=br&&Ur,Ti=Ni?at:pe?"butt":pt;if(Ni&&Ti==="round"&&(jn<Dt?Ti="miter":jn<=2&&(Ti="fakeround")),Ti==="miter"&&jn>wt&&(Ti="bevel"),Ti==="bevel"&&(jn>2&&(Ti="flipbevel"),jn<wt&&(Ti="miter")),br&&this.updateDistance(br,rr),Ti==="miter")xn._mult(jn),this.addCurrentVertex(rr,xn,0,0,ar);else if(Ti==="flipbevel"){if(jn>100)xn=tn.mult(-1);else{var Ei=jn*fn.add(tn).mag()/fn.sub(tn).mag();xn._perp()._mult(Ei*(wi?-1:1))}this.addCurrentVertex(rr,xn,0,0,ar),this.addCurrentVertex(rr,xn.mult(-1),0,0,ar)}else if(Ti==="bevel"||Ti==="fakeround"){var Gi=-Math.sqrt(jn*jn-1),Oi=wi?Gi:0,pa=wi?0:Gi;if(br&&this.addCurrentVertex(rr,fn,Oi,pa,ar),Ti==="fakeround")for(var Da=Math.round(ai*180/Math.PI/MM),ga=1;ga<Da;ga++){var ya=ga/Da;if(ya!==.5){var fa=ya-.5,Fa=1.0904+Sn*(-3.2452+Sn*(3.55645-Sn*1.43519)),Ba=.848013+Sn*(-1.06021+Sn*.215638);ya=ya+ya*fa*(ya-1)*(Fa*fa*fa+Ba)}var oo=tn.sub(fn)._mult(ya)._add(fn)._unit()._mult(wi?-1:1);this.addHalfVertex(rr,oo.x,oo.y,!1,wi,0,ar)}Ur&&this.addCurrentVertex(rr,tn,-Oi,-pa,ar)}else if(Ti==="butt")this.addCurrentVertex(rr,xn,0,0,ar);else if(Ti==="square"){var vo=br?1:-1;this.addCurrentVertex(rr,xn,vo,vo,ar)}else Ti==="round"&&(br&&(this.addCurrentVertex(rr,fn,0,0,ar),this.addCurrentVertex(rr,fn,1,1,ar,!0)),Ur&&(this.addCurrentVertex(rr,tn,-1,-1,ar,!0),this.addCurrentVertex(rr,tn,0,0,ar)));if(ei&&Mn<Se-1){var Ko=rr.dist(Ur);if(Ko>2*Ge){var _o=rr.add(Ur.sub(rr)._mult(Ge/Ko)._round());this.updateDistance(rr,_o),this.addCurrentVertex(_o,tn,0,0,ar),rr=_o}}}}},Ds.prototype.addCurrentVertex=function(_,Y,at,pt,wt,Dt){Dt===void 0&&(Dt=!1);var qt=Y.x+Y.y*at,pe=Y.y-Y.x*at,Se=-Y.x+Y.y*pt,De=-Y.y-Y.x*pt;this.addHalfVertex(_,qt,pe,Dt,!1,at,wt),this.addHalfVertex(_,Se,De,Dt,!0,-pt,wt),this.distance>xw/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(_,Y,at,pt,wt,Dt))},Ds.prototype.addHalfVertex=function(_,Y,at,pt,wt,Dt,qt){var pe=_.x,Se=_.y,De=this.lineClips?this.scaledDistance*(xw-1):this.scaledDistance,Ge=De*mw;if(this.layoutVertexArray.emplaceBack((pe<<1)+(pt?1:0),(Se<<1)+(wt?1:0),Math.round(yw*Y)+128,Math.round(yw*at)+128,(Dt===0?0:Dt<0?-1:1)+1|(Ge&63)<<2,Ge>>6),this.lineClips){var ar=this.scaledDistance-this.lineClips.start,rr=this.lineClips.end-this.lineClips.start,br=ar/rr;this.layoutVertexArray2.emplaceBack(br,this.lineClipsArray.length)}var Ur=qt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Ur),qt.primitiveLength++),wt?this.e2=Ur:this.e1=Ur},Ds.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ds.prototype.updateDistance=function(_,Y){this.distance+=_.dist(Y),this.updateScaledDistance()},Vt("LineBucket",Ds,{omit:["layers","patternFeatures"]});var CM=new wa({"line-cap":new ui(Sr.layout_line["line-cap"]),"line-join":new Ci(Sr.layout_line["line-join"]),"line-miter-limit":new ui(Sr.layout_line["line-miter-limit"]),"line-round-limit":new ui(Sr.layout_line["line-round-limit"]),"line-sort-key":new Ci(Sr.layout_line["line-sort-key"])}),LM=new wa({"line-opacity":new Ci(Sr.paint_line["line-opacity"]),"line-color":new Ci(Sr.paint_line["line-color"]),"line-translate":new ui(Sr.paint_line["line-translate"]),"line-translate-anchor":new ui(Sr.paint_line["line-translate-anchor"]),"line-width":new Ci(Sr.paint_line["line-width"]),"line-gap-width":new Ci(Sr.paint_line["line-gap-width"]),"line-offset":new Ci(Sr.paint_line["line-offset"]),"line-blur":new Ci(Sr.paint_line["line-blur"]),"line-dasharray":new ls(Sr.paint_line["line-dasharray"]),"line-pattern":new rs(Sr.paint_line["line-pattern"]),"line-gradient":new Lo(Sr.paint_line["line-gradient"])}),bw={paint:LM,layout:CM},PM=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.possiblyEvaluate=function(at,pt){return pt=new Ai(Math.floor(pt.zoom),{now:pt.now,fadeDuration:pt.fadeDuration,zoomHistory:pt.zoomHistory,transition:pt.transition}),R.prototype.possiblyEvaluate.call(this,at,pt)},_.prototype.evaluate=function(at,pt,wt,Dt){return pt=w({},pt,{zoom:Math.floor(pt.zoom)}),R.prototype.evaluate.call(this,at,pt,wt,Dt)},_}(Ci),ww=new PM(bw.paint.properties["line-width"].specification);ww.useIntegerZoom=!0;var IM=function(R){function _(Y){R.call(this,Y,bw),this.gradientVersion=0}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype._handleSpecialPaintPropertyUpdate=function(at){if(at==="line-gradient"){var pt=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=pt._styleExpression.expression instanceof Ts,this.gradientVersion=(this.gradientVersion+1)%u}},_.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},_.prototype.recalculate=function(at,pt){R.prototype.recalculate.call(this,at,pt),this.paint._values["line-floorwidth"]=ww.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,at)},_.prototype.createBucket=function(at){return new Ds(at)},_.prototype.queryRadius=function(at){var pt=at,wt=Tw(Is("line-width",this,pt),Is("line-gap-width",this,pt)),Dt=Is("line-offset",this,pt);return wt/2+Math.abs(Dt)+tu(this.paint.get("line-translate"))},_.prototype.queryIntersectsFeature=function(at,pt,wt,Dt,qt,pe,Se){var De=bf(at,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),pe.angle,Se),Ge=Se/2*Tw(this.paint.get("line-width").evaluate(pt,wt),this.paint.get("line-gap-width").evaluate(pt,wt)),ar=this.paint.get("line-offset").evaluate(pt,wt);return ar&&(Dt=DM(Dt,ar*Se)),Ho(De,Dt,Ge)},_.prototype.isTileClipped=function(){return!0},_}(io);function Tw(R,_){return _>0?_+2*R:R}function DM(R,_){for(var Y=[],at=new r(0,0),pt=0;pt<R.length;pt++){for(var wt=R[pt],Dt=[],qt=0;qt<wt.length;qt++){var pe=wt[qt-1],Se=wt[qt],De=wt[qt+1],Ge=qt===0?at:Se.sub(pe)._unit()._perp(),ar=qt===wt.length-1?at:De.sub(Se)._unit()._perp(),rr=Ge._add(ar)._unit(),br=rr.x*ar.x+rr.y*ar.y;rr._mult(1/br),Dt.push(rr._mult(_)._add(Se))}Y.push(Dt)}return Y}var RM=Ha([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),_M=Ha([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ha([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var kM=Ha([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ha([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Aw=Ha([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),zM=Ha([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ha([{name:"triangle",components:3,type:"Uint16"}]),Ha([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ha([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ha([{type:"Float32",name:"offsetX"}]),Ha([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function FM(R,_,Y){var at=_.layout.get("text-transform").evaluate(Y,{});return at==="uppercase"?R=R.toLocaleUpperCase():at==="lowercase"&&(R=R.toLocaleLowerCase()),qn.applyArabicShaping&&(R=qn.applyArabicShaping(R)),R}function OM(R,_,Y){return R.sections.forEach(function(at){at.text=FM(at.text,_,Y)}),R}function BM(R){var _={},Y={},at=[],pt=0;function wt(tn){at.push(R[tn]),pt++}function Dt(tn,Mn,xn){var Sn=Y[tn];return delete Y[tn],Y[Mn]=Sn,at[Sn].geometry[0].pop(),at[Sn].geometry[0]=at[Sn].geometry[0].concat(xn[0]),Sn}function qt(tn,Mn,xn){var Sn=_[Mn];return delete _[Mn],_[tn]=Sn,at[Sn].geometry[0].shift(),at[Sn].geometry[0]=xn[0].concat(at[Sn].geometry[0]),Sn}function pe(tn,Mn,xn){var Sn=xn?Mn[0][Mn[0].length-1]:Mn[0][0];return tn+":"+Sn.x+":"+Sn.y}for(var Se=0;Se<R.length;Se++){var De=R[Se],Ge=De.geometry,ar=De.text?De.text.toString():null;if(!ar){wt(Se);continue}var rr=pe(ar,Ge),br=pe(ar,Ge,!0);if(rr in Y&&br in _&&Y[rr]!==_[br]){var Ur=qt(rr,br,Ge),fn=Dt(rr,br,at[Ur].geometry);delete _[rr],delete Y[br],Y[pe(ar,at[fn].geometry,!0)]=fn,at[Ur].geometry=null}else rr in Y?Dt(rr,br,Ge):br in _?qt(rr,br,Ge):(wt(Se),_[rr]=pt-1,Y[br]=pt-1)}return at.filter(function(tn){return tn.geometry})}var s0={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function NM(R){for(var _="",Y=0;Y<R.length;Y++){var at=R.charCodeAt(Y+1)||null,pt=R.charCodeAt(Y-1)||null,wt=(!at||!Hr(at)||s0[R[Y+1]])&&(!pt||!Hr(pt)||s0[R[Y-1]]);wt&&s0[R[Y]]?_+=s0[R[Y]]:_+=R[Y]}return _}var ns=24,UM=function(R,_,Y,at,pt){var wt,Dt,qt=pt*8-at-1,pe=(1<<qt)-1,Se=pe>>1,De=-7,Ge=Y?pt-1:0,ar=Y?-1:1,rr=R[_+Ge];for(Ge+=ar,wt=rr&(1<<-De)-1,rr>>=-De,De+=qt;De>0;wt=wt*256+R[_+Ge],Ge+=ar,De-=8);for(Dt=wt&(1<<-De)-1,wt>>=-De,De+=at;De>0;Dt=Dt*256+R[_+Ge],Ge+=ar,De-=8);if(wt===0)wt=1-Se;else{if(wt===pe)return Dt?NaN:(rr?-1:1)*(1/0);Dt=Dt+Math.pow(2,at),wt=wt-Se}return(rr?-1:1)*Dt*Math.pow(2,wt-at)},VM=function(R,_,Y,at,pt,wt){var Dt,qt,pe,Se=wt*8-pt-1,De=(1<<Se)-1,Ge=De>>1,ar=pt===23?Math.pow(2,-24)-Math.pow(2,-77):0,rr=at?0:wt-1,br=at?1:-1,Ur=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(qt=isNaN(_)?1:0,Dt=De):(Dt=Math.floor(Math.log(_)/Math.LN2),_*(pe=Math.pow(2,-Dt))<1&&(Dt--,pe*=2),Dt+Ge>=1?_+=ar/pe:_+=ar*Math.pow(2,1-Ge),_*pe>=2&&(Dt++,pe/=2),Dt+Ge>=De?(qt=0,Dt=De):Dt+Ge>=1?(qt=(_*pe-1)*Math.pow(2,pt),Dt=Dt+Ge):(qt=_*Math.pow(2,Ge-1)*Math.pow(2,pt),Dt=0));pt>=8;R[Y+rr]=qt&255,rr+=br,qt/=256,pt-=8);for(Dt=Dt<<pt|qt,Se+=pt;Se>0;R[Y+rr]=Dt&255,rr+=br,Dt/=256,Se-=8);R[Y+rr-br]|=Ur*128},Fg={read:UM,write:VM},Og=Oa;function Oa(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Oa.Varint=0,Oa.Fixed64=1,Oa.Bytes=2,Oa.Fixed32=5;var P1=65536*65536,Sw=1/P1,HM=12,Mw=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Oa.prototype={destroy:function(){this.buf=null},readFields:function(R,_,Y){for(Y=Y||this.length;this.pos<Y;){var at=this.readVarint(),pt=at>>3,wt=this.pos;this.type=at&7,R(pt,_,this),this.pos===wt&&this.skip(at)}return _},readMessage:function(R,_){return this.readFields(R,_,this.readVarint()+this.pos)},readFixed32:function(){var R=Bg(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=Cw(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=Bg(this.buf,this.pos)+Bg(this.buf,this.pos+4)*P1;return this.pos+=8,R},readSFixed64:function(){var R=Bg(this.buf,this.pos)+Cw(this.buf,this.pos+4)*P1;return this.pos+=8,R},readFloat:function(){var R=Fg.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=Fg.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var _=this.buf,Y,at;return at=_[this.pos++],Y=at&127,at<128||(at=_[this.pos++],Y|=(at&127)<<7,at<128)||(at=_[this.pos++],Y|=(at&127)<<14,at<128)||(at=_[this.pos++],Y|=(at&127)<<21,at<128)?Y:(at=_[this.pos],Y|=(at&15)<<28,GM(Y,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var R=this.readVarint()+this.pos,_=this.pos;return this.pos=R,R-_>=HM&&Mw?n8(this.buf,_,R):r8(this.buf,_,R)},readBytes:function(){var R=this.readVarint()+this.pos,_=this.buf.subarray(this.pos,R);return this.pos=R,_},readPackedVarint:function(R,_){if(this.type!==Oa.Bytes)return R.push(this.readVarint(_));var Y=Hc(this);for(R=R||[];this.pos<Y;)R.push(this.readVarint(_));return R},readPackedSVarint:function(R){if(this.type!==Oa.Bytes)return R.push(this.readSVarint());var _=Hc(this);for(R=R||[];this.pos<_;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Oa.Bytes)return R.push(this.readBoolean());var _=Hc(this);for(R=R||[];this.pos<_;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Oa.Bytes)return R.push(this.readFloat());var _=Hc(this);for(R=R||[];this.pos<_;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Oa.Bytes)return R.push(this.readDouble());var _=Hc(this);for(R=R||[];this.pos<_;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Oa.Bytes)return R.push(this.readFixed32());var _=Hc(this);for(R=R||[];this.pos<_;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Oa.Bytes)return R.push(this.readSFixed32());var _=Hc(this);for(R=R||[];this.pos<_;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Oa.Bytes)return R.push(this.readFixed64());var _=Hc(this);for(R=R||[];this.pos<_;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Oa.Bytes)return R.push(this.readSFixed64());var _=Hc(this);for(R=R||[];this.pos<_;)R.push(this.readSFixed64());return R},skip:function(R){var _=R&7;if(_===Oa.Varint)for(;this.buf[this.pos++]>127;);else if(_===Oa.Bytes)this.pos=this.readVarint()+this.pos;else if(_===Oa.Fixed32)this.pos+=4;else if(_===Oa.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+_)},writeTag:function(R,_){this.writeVarint(R<<3|_)},realloc:function(R){for(var _=this.length||16;_<this.pos+R;)_*=2;if(_!==this.length){var Y=new Uint8Array(_);Y.set(this.buf),this.buf=Y,this.length=_}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),Nd(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),Nd(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),Nd(this.buf,R&-1,this.pos),Nd(this.buf,Math.floor(R*Sw),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),Nd(this.buf,R&-1,this.pos),Nd(this.buf,Math.floor(R*Sw),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){WM(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(!!R)},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var _=this.pos;this.pos=i8(this.buf,R,this.pos);var Y=this.pos-_;Y>=128&&Ew(_,Y,this),this.pos=_-1,this.writeVarint(Y),this.pos+=Y},writeFloat:function(R){this.realloc(4),Fg.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),Fg.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var _=R.length;this.writeVarint(_),this.realloc(_);for(var Y=0;Y<_;Y++)this.buf[this.pos++]=R[Y]},writeRawMessage:function(R,_){this.pos++;var Y=this.pos;R(_,this);var at=this.pos-Y;at>=128&&Ew(Y,at,this),this.pos=Y-1,this.writeVarint(at),this.pos+=at},writeMessage:function(R,_,Y){this.writeTag(R,Oa.Bytes),this.writeRawMessage(_,Y)},writePackedVarint:function(R,_){_.length&&this.writeMessage(R,XM,_)},writePackedSVarint:function(R,_){_.length&&this.writeMessage(R,ZM,_)},writePackedBoolean:function(R,_){_.length&&this.writeMessage(R,QM,_)},writePackedFloat:function(R,_){_.length&&this.writeMessage(R,KM,_)},writePackedDouble:function(R,_){_.length&&this.writeMessage(R,JM,_)},writePackedFixed32:function(R,_){_.length&&this.writeMessage(R,$M,_)},writePackedSFixed32:function(R,_){_.length&&this.writeMessage(R,qM,_)},writePackedFixed64:function(R,_){_.length&&this.writeMessage(R,t8,_)},writePackedSFixed64:function(R,_){_.length&&this.writeMessage(R,e8,_)},writeBytesField:function(R,_){this.writeTag(R,Oa.Bytes),this.writeBytes(_)},writeFixed32Field:function(R,_){this.writeTag(R,Oa.Fixed32),this.writeFixed32(_)},writeSFixed32Field:function(R,_){this.writeTag(R,Oa.Fixed32),this.writeSFixed32(_)},writeFixed64Field:function(R,_){this.writeTag(R,Oa.Fixed64),this.writeFixed64(_)},writeSFixed64Field:function(R,_){this.writeTag(R,Oa.Fixed64),this.writeSFixed64(_)},writeVarintField:function(R,_){this.writeTag(R,Oa.Varint),this.writeVarint(_)},writeSVarintField:function(R,_){this.writeTag(R,Oa.Varint),this.writeSVarint(_)},writeStringField:function(R,_){this.writeTag(R,Oa.Bytes),this.writeString(_)},writeFloatField:function(R,_){this.writeTag(R,Oa.Fixed32),this.writeFloat(_)},writeDoubleField:function(R,_){this.writeTag(R,Oa.Fixed64),this.writeDouble(_)},writeBooleanField:function(R,_){this.writeVarintField(R,!!_)}};function GM(R,_,Y){var at=Y.buf,pt,wt;if(wt=at[Y.pos++],pt=(wt&112)>>4,wt<128||(wt=at[Y.pos++],pt|=(wt&127)<<3,wt<128)||(wt=at[Y.pos++],pt|=(wt&127)<<10,wt<128)||(wt=at[Y.pos++],pt|=(wt&127)<<17,wt<128)||(wt=at[Y.pos++],pt|=(wt&127)<<24,wt<128)||(wt=at[Y.pos++],pt|=(wt&1)<<31,wt<128))return Bd(R,pt,_);throw new Error("Expected varint not more than 10 bytes")}function Hc(R){return R.type===Oa.Bytes?R.readVarint()+R.pos:R.pos+1}function Bd(R,_,Y){return Y?_*4294967296+(R>>>0):(_>>>0)*4294967296+(R>>>0)}function WM(R,_){var Y,at;if(R>=0?(Y=R%4294967296|0,at=R/4294967296|0):(Y=~(-R%4294967296),at=~(-R/4294967296),Y^4294967295?Y=Y+1|0:(Y=0,at=at+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");_.realloc(10),YM(Y,at,_),jM(at,_)}function YM(R,_,Y){Y.buf[Y.pos++]=R&127|128,R>>>=7,Y.buf[Y.pos++]=R&127|128,R>>>=7,Y.buf[Y.pos++]=R&127|128,R>>>=7,Y.buf[Y.pos++]=R&127|128,R>>>=7,Y.buf[Y.pos]=R&127}function jM(R,_){var Y=(R&7)<<4;_.buf[_.pos++]|=Y|((R>>>=3)?128:0),R&&(_.buf[_.pos++]=R&127|((R>>>=7)?128:0),R&&(_.buf[_.pos++]=R&127|((R>>>=7)?128:0),R&&(_.buf[_.pos++]=R&127|((R>>>=7)?128:0),R&&(_.buf[_.pos++]=R&127|((R>>>=7)?128:0),R&&(_.buf[_.pos++]=R&127)))))}function Ew(R,_,Y){var at=_<=16383?1:_<=2097151?2:_<=268435455?3:Math.floor(Math.log(_)/(Math.LN2*7));Y.realloc(at);for(var pt=Y.pos-1;pt>=R;pt--)Y.buf[pt+at]=Y.buf[pt]}function XM(R,_){for(var Y=0;Y<R.length;Y++)_.writeVarint(R[Y])}function ZM(R,_){for(var Y=0;Y<R.length;Y++)_.writeSVarint(R[Y])}function KM(R,_){for(var Y=0;Y<R.length;Y++)_.writeFloat(R[Y])}function JM(R,_){for(var Y=0;Y<R.length;Y++)_.writeDouble(R[Y])}function QM(R,_){for(var Y=0;Y<R.length;Y++)_.writeBoolean(R[Y])}function $M(R,_){for(var Y=0;Y<R.length;Y++)_.writeFixed32(R[Y])}function qM(R,_){for(var Y=0;Y<R.length;Y++)_.writeSFixed32(R[Y])}function t8(R,_){for(var Y=0;Y<R.length;Y++)_.writeFixed64(R[Y])}function e8(R,_){for(var Y=0;Y<R.length;Y++)_.writeSFixed64(R[Y])}function Bg(R,_){return(R[_]|R[_+1]<<8|R[_+2]<<16)+R[_+3]*16777216}function Nd(R,_,Y){R[Y]=_,R[Y+1]=_>>>8,R[Y+2]=_>>>16,R[Y+3]=_>>>24}function Cw(R,_){return(R[_]|R[_+1]<<8|R[_+2]<<16)+(R[_+3]<<24)}function r8(R,_,Y){for(var at="",pt=_;pt<Y;){var wt=R[pt],Dt=null,qt=wt>239?4:wt>223?3:wt>191?2:1;if(pt+qt>Y)break;var pe,Se,De;qt===1?wt<128&&(Dt=wt):qt===2?(pe=R[pt+1],(pe&192)===128&&(Dt=(wt&31)<<6|pe&63,Dt<=127&&(Dt=null))):qt===3?(pe=R[pt+1],Se=R[pt+2],(pe&192)===128&&(Se&192)===128&&(Dt=(wt&15)<<12|(pe&63)<<6|Se&63,(Dt<=2047||Dt>=55296&&Dt<=57343)&&(Dt=null))):qt===4&&(pe=R[pt+1],Se=R[pt+2],De=R[pt+3],(pe&192)===128&&(Se&192)===128&&(De&192)===128&&(Dt=(wt&15)<<18|(pe&63)<<12|(Se&63)<<6|De&63,(Dt<=65535||Dt>=1114112)&&(Dt=null))),Dt===null?(Dt=65533,qt=1):Dt>65535&&(Dt-=65536,at+=String.fromCharCode(Dt>>>10&1023|55296),Dt=56320|Dt&1023),at+=String.fromCharCode(Dt),pt+=qt}return at}function n8(R,_,Y){return Mw.decode(R.subarray(_,Y))}function i8(R,_,Y){for(var at=0,pt,wt;at<_.length;at++){if(pt=_.charCodeAt(at),pt>55295&&pt<57344)if(wt)if(pt<56320){R[Y++]=239,R[Y++]=191,R[Y++]=189,wt=pt;continue}else pt=wt-55296<<10|pt-56320|65536,wt=null;else{pt>56319||at+1===_.length?(R[Y++]=239,R[Y++]=191,R[Y++]=189):wt=pt;continue}else wt&&(R[Y++]=239,R[Y++]=191,R[Y++]=189,wt=null);pt<128?R[Y++]=pt:(pt<2048?R[Y++]=pt>>6|192:(pt<65536?R[Y++]=pt>>12|224:(R[Y++]=pt>>18|240,R[Y++]=pt>>12&63|128),R[Y++]=pt>>6&63|128),R[Y++]=pt&63|128)}return Y}var I1=3;function a8(R,_,Y){R===1&&Y.readMessage(o8,_)}function o8(R,_,Y){if(R===3){var at=Y.readMessage(s8,{}),pt=at.id,wt=at.bitmap,Dt=at.width,qt=at.height,pe=at.left,Se=at.top,De=at.advance;_.push({id:pt,bitmap:new Jv({width:Dt+2*I1,height:qt+2*I1},wt),metrics:{width:Dt,height:qt,left:pe,top:Se,advance:De}})}}function s8(R,_,Y){R===1?_.id=Y.readVarint():R===2?_.bitmap=Y.readBytes():R===3?_.width=Y.readVarint():R===4?_.height=Y.readVarint():R===5?_.left=Y.readSVarint():R===6?_.top=Y.readSVarint():R===7&&(_.advance=Y.readVarint())}function l8(R){return new Og(R).readFields(a8,[])}var Lw=I1;function Pw(R){for(var _=0,Y=0,at=0,pt=R;at<pt.length;at+=1){var wt=pt[at];_+=wt.w*wt.h,Y=Math.max(Y,wt.w)}R.sort(function(fn,tn){return tn.h-fn.h});for(var Dt=Math.max(Math.ceil(Math.sqrt(_/.95)),Y),qt=[{x:0,y:0,w:Dt,h:1/0}],pe=0,Se=0,De=0,Ge=R;De<Ge.length;De+=1)for(var ar=Ge[De],rr=qt.length-1;rr>=0;rr--){var br=qt[rr];if(!(ar.w>br.w||ar.h>br.h)){if(ar.x=br.x,ar.y=br.y,Se=Math.max(Se,ar.y+ar.h),pe=Math.max(pe,ar.x+ar.w),ar.w===br.w&&ar.h===br.h){var Ur=qt.pop();rr<qt.length&&(qt[rr]=Ur)}else ar.h===br.h?(br.x+=ar.w,br.w-=ar.w):ar.w===br.w?(br.y+=ar.h,br.h-=ar.h):(qt.push({x:br.x+ar.w,y:br.y,w:br.w-ar.w,h:ar.h}),br.y+=ar.h,br.h-=ar.h);break}}return{w:pe,h:Se,fill:_/(pe*Se)||0}}var sl=1,Ng=function(_,Y){var at=Y.pixelRatio,pt=Y.version,wt=Y.stretchX,Dt=Y.stretchY,qt=Y.content;this.paddedRect=_,this.pixelRatio=at,this.stretchX=wt,this.stretchY=Dt,this.content=qt,this.version=pt},l0={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};l0.tl.get=function(){return[this.paddedRect.x+sl,this.paddedRect.y+sl]},l0.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-sl,this.paddedRect.y+this.paddedRect.h-sl]},l0.tlbr.get=function(){return this.tl.concat(this.br)},l0.displaySize.get=function(){return[(this.paddedRect.w-sl*2)/this.pixelRatio,(this.paddedRect.h-sl*2)/this.pixelRatio]},Object.defineProperties(Ng.prototype,l0);var u0=function(_,Y){var at={},pt={};this.haveRenderCallbacks=[];var wt=[];this.addImages(_,at,wt),this.addImages(Y,pt,wt);var Dt=Pw(wt),qt=Dt.w,pe=Dt.h,Se=new Xs({width:qt||1,height:pe||1});for(var De in _){var Ge=_[De],ar=at[De].paddedRect;Xs.copy(Ge.data,Se,{x:0,y:0},{x:ar.x+sl,y:ar.y+sl},Ge.data)}for(var rr in Y){var br=Y[rr],Ur=pt[rr].paddedRect,fn=Ur.x+sl,tn=Ur.y+sl,Mn=br.data.width,xn=br.data.height;Xs.copy(br.data,Se,{x:0,y:0},{x:fn,y:tn},br.data),Xs.copy(br.data,Se,{x:0,y:xn-1},{x:fn,y:tn-1},{width:Mn,height:1}),Xs.copy(br.data,Se,{x:0,y:0},{x:fn,y:tn+xn},{width:Mn,height:1}),Xs.copy(br.data,Se,{x:Mn-1,y:0},{x:fn-1,y:tn},{width:1,height:xn}),Xs.copy(br.data,Se,{x:0,y:0},{x:fn+Mn,y:tn},{width:1,height:xn})}this.image=Se,this.iconPositions=at,this.patternPositions=pt};u0.prototype.addImages=function(_,Y,at){for(var pt in _){var wt=_[pt],Dt={x:0,y:0,w:wt.data.width+2*sl,h:wt.data.height+2*sl};at.push(Dt),Y[pt]=new Ng(Dt,wt),wt.hasRenderCallback&&this.haveRenderCallbacks.push(pt)}},u0.prototype.patchUpdatedImages=function(_,Y){_.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var at in _.updatedImages)this.patchUpdatedImage(this.iconPositions[at],_.getImage(at),Y),this.patchUpdatedImage(this.patternPositions[at],_.getImage(at),Y)},u0.prototype.patchUpdatedImage=function(_,Y,at){if(!(!_||!Y)&&_.version!==Y.version){_.version=Y.version;var pt=_.tl,wt=pt[0],Dt=pt[1];at.update(Y.data,void 0,{x:wt,y:Dt})}},Vt("ImagePosition",Ng),Vt("ImageAtlas",u0);var Pl={horizontal:1,vertical:2,horizontalOnly:3},f0=-17;function u8(R){for(var _=0,Y=R;_<Y.length;_+=1){var at=Y[_];if(at.positionedGlyphs.length!==0)return!1}return!0}var Iw=57344,Dw=63743,Ud=function(){this.scale=1,this.fontStack="",this.imageName=null};Ud.forText=function(_,Y){var at=new Ud;return at.scale=_||1,at.fontStack=Y,at},Ud.forImage=function(_){var Y=new Ud;return Y.imageName=_,Y};var ps=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};ps.fromFeature=function(_,Y){for(var at=new ps,pt=0;pt<_.sections.length;pt++){var wt=_.sections[pt];wt.image?at.addImageSection(wt):at.addTextSection(wt,Y)}return at},ps.prototype.length=function(){return this.text.length},ps.prototype.getSection=function(_){return this.sections[this.sectionIndex[_]]},ps.prototype.getSectionIndex=function(_){return this.sectionIndex[_]},ps.prototype.getCharCode=function(_){return this.text.charCodeAt(_)},ps.prototype.verticalizePunctuation=function(){this.text=NM(this.text)},ps.prototype.trim=function(){for(var _=0,Y=0;Y<this.text.length&&tc[this.text.charCodeAt(Y)];Y++)_++;for(var at=this.text.length,pt=this.text.length-1;pt>=0&&pt>=_&&tc[this.text.charCodeAt(pt)];pt--)at--;this.text=this.text.substring(_,at),this.sectionIndex=this.sectionIndex.slice(_,at)},ps.prototype.substring=function(_,Y){var at=new ps;return at.text=this.text.substring(_,Y),at.sectionIndex=this.sectionIndex.slice(_,Y),at.sections=this.sections,at},ps.prototype.toString=function(){return this.text},ps.prototype.getMaxScale=function(){var _=this;return this.sectionIndex.reduce(function(Y,at){return Math.max(Y,_.sections[at].scale)},0)},ps.prototype.addTextSection=function(_,Y){this.text+=_.text,this.sections.push(Ud.forText(_.scale,_.fontStack||Y));for(var at=this.sections.length-1,pt=0;pt<_.text.length;++pt)this.sectionIndex.push(at)},ps.prototype.addImageSection=function(_){var Y=_.image?_.image.name:"";if(Y.length===0){N("Can't add FormattedSection with an empty image.");return}var at=this.getNextImageSectionCharCode();if(!at){N("Reached maximum number of images "+(Dw-Iw+2));return}this.text+=String.fromCharCode(at),this.sections.push(Ud.forImage(Y)),this.sectionIndex.push(this.sections.length-1)},ps.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Dw?null:++this.imageSectionID:(this.imageSectionID=Iw,this.imageSectionID)};function f8(R,_){for(var Y=[],at=R.text,pt=0,wt=0,Dt=_;wt<Dt.length;wt+=1){var qt=Dt[wt];Y.push(R.substring(pt,qt)),pt=qt}return pt<at.length&&Y.push(R.substring(pt,at.length)),Y}function Ug(R,_,Y,at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br,Ur){var fn=ps.fromFeature(R,pt);Ge===Pl.vertical&&fn.verticalizePunctuation();var tn,Mn=qn.processBidirectionalText,xn=qn.processStyledBidirectionalText;if(Mn&&fn.sections.length===1){tn=[];for(var Sn=Mn(fn.toString(),D1(fn,Se,wt,_,at,rr,br)),Fn=0,jn=Sn;Fn<jn.length;Fn+=1){var ai=jn[Fn],ei=new ps;ei.text=ai,ei.sections=fn.sections;for(var wi=0;wi<ai.length;wi++)ei.sectionIndex.push(0);tn.push(ei)}}else if(xn){tn=[];for(var pi=xn(fn.text,fn.sectionIndex,D1(fn,Se,wt,_,at,rr,br)),xi=0,Ni=pi;xi<Ni.length;xi+=1){var Ti=Ni[xi],Ei=new ps;Ei.text=Ti[0],Ei.sectionIndex=Ti[1],Ei.sections=fn.sections,tn.push(Ei)}}else tn=f8(fn,D1(fn,Se,wt,_,at,rr,br));var Gi=[],Oi={positionedLines:Gi,text:fn.toString(),top:De[1],bottom:De[1],left:De[0],right:De[0],writingMode:Ge,iconsInText:!1,verticalizable:!1};return v8(Oi,_,Y,at,tn,Dt,qt,pe,Ge,Se,ar,Ur),u8(Gi)?!1:Oi}var tc={};tc[9]=!0,tc[10]=!0,tc[11]=!0,tc[12]=!0,tc[13]=!0,tc[32]=!0;var ll={};ll[10]=!0,ll[32]=!0,ll[38]=!0,ll[40]=!0,ll[41]=!0,ll[43]=!0,ll[45]=!0,ll[47]=!0,ll[173]=!0,ll[183]=!0,ll[8203]=!0,ll[8208]=!0,ll[8211]=!0,ll[8231]=!0;function Rw(R,_,Y,at,pt,wt){if(_.imageName){var pe=at[_.imageName];return pe?pe.displaySize[0]*_.scale*ns/wt+pt:0}else{var Dt=Y[_.fontStack],qt=Dt&&Dt[R];return qt?qt.metrics.advance*_.scale+pt:0}}function c8(R,_,Y,at,pt,wt){for(var Dt=0,qt=0;qt<R.length();qt++){var pe=R.getSection(qt);Dt+=Rw(R.getCharCode(qt),pe,at,pt,_,wt)}var Se=Math.max(1,Math.ceil(Dt/Y));return Dt/Se}function _w(R,_,Y,at){var pt=Math.pow(R-_,2);return at?R<_?pt/2:pt*2:pt+Math.abs(Y)*Y}function h8(R,_,Y){var at=0;return R===10&&(at-=1e4),Y&&(at+=150),(R===40||R===65288)&&(at+=50),(_===41||_===65289)&&(at+=50),at}function kw(R,_,Y,at,pt,wt){for(var Dt=null,qt=_w(_,Y,pt,wt),pe=0,Se=at;pe<Se.length;pe+=1){var De=Se[pe],Ge=_-De.x,ar=_w(Ge,Y,pt,wt)+De.badness;ar<=qt&&(Dt=De,qt=ar)}return{index:R,x:_,priorBreak:Dt,badness:qt}}function zw(R){return R?zw(R.priorBreak).concat(R.index):[]}function D1(R,_,Y,at,pt,wt,Dt){if(wt!=="point")return[];if(!R)return[];for(var qt=[],pe=c8(R,_,Y,at,pt,Dt),Se=R.text.indexOf("")>=0,De=0,Ge=0;Ge<R.length();Ge++){var ar=R.getSection(Ge),rr=R.getCharCode(Ge);if(tc[rr]||(De+=Rw(rr,ar,at,pt,_,Dt)),Ge<R.length()-1){var br=Qr(rr);(ll[rr]||br||ar.imageName)&&qt.push(kw(Ge+1,De,pe,qt,h8(rr,R.getCharCode(Ge+1),br&&Se),!1))}}return zw(kw(R.length(),De,pe,qt,0,!0))}function R1(R){var _=.5,Y=.5;switch(R){case"right":case"top-right":case"bottom-right":_=1;break;case"left":case"top-left":case"bottom-left":_=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":Y=1;break;case"top":case"top-right":case"top-left":Y=0;break}return{horizontalAlign:_,verticalAlign:Y}}function v8(R,_,Y,at,pt,wt,Dt,qt,pe,Se,De,Ge){for(var ar=0,rr=f0,br=0,Ur=0,fn=qt==="right"?1:qt==="left"?0:.5,tn=0,Mn=0,xn=pt;Mn<xn.length;Mn+=1){var Sn=xn[Mn];Sn.trim();var Fn=Sn.getMaxScale(),jn=(Fn-1)*ns,ai={positionedGlyphs:[],lineOffset:0};R.positionedLines[tn]=ai;var ei=ai.positionedGlyphs,wi=0;if(!Sn.length()){rr+=wt,++tn;continue}for(var pi=0;pi<Sn.length();pi++){var xi=Sn.getSection(pi),Ni=Sn.getSectionIndex(pi),Ti=Sn.getCharCode(pi),Ei=0,Gi=null,Oi=null,pa=null,Da=ns,ga=!(pe===Pl.horizontal||!De&&!sn(Ti)||De&&(tc[Ti]||Kr(Ti)));if(xi.imageName){var oo=at[xi.imageName];if(!oo)continue;pa=xi.imageName,R.iconsInText=R.iconsInText||!0,Oi=oo.paddedRect;var vo=oo.displaySize;xi.scale=xi.scale*ns/Ge,Gi={width:vo[0],height:vo[1],left:sl,top:-Lw,advance:ga?vo[1]:vo[0]};var Ko=ns-vo[1]*xi.scale;Ei=jn+Ko,Da=Gi.advance;var _o=ga?vo[0]*xi.scale-ns*Fn:vo[1]*xi.scale-ns*Fn;_o>0&&_o>wi&&(wi=_o)}else{var ya=Y[xi.fontStack],fa=ya&&ya[Ti];if(fa&&fa.rect)Oi=fa.rect,Gi=fa.metrics;else{var Fa=_[xi.fontStack],Ba=Fa&&Fa[Ti];if(!Ba)continue;Gi=Ba.metrics}Ei=(Fn-xi.scale)*ns}ga?(R.verticalizable=!0,ei.push({glyph:Ti,imageName:pa,x:ar,y:rr+Ei,vertical:ga,scale:xi.scale,fontStack:xi.fontStack,sectionIndex:Ni,metrics:Gi,rect:Oi}),ar+=Da*xi.scale+Se):(ei.push({glyph:Ti,imageName:pa,x:ar,y:rr+Ei,vertical:ga,scale:xi.scale,fontStack:xi.fontStack,sectionIndex:Ni,metrics:Gi,rect:Oi}),ar+=Gi.advance*xi.scale+Se)}if(ei.length!==0){var gs=ar-Se;br=Math.max(gs,br),d8(ei,0,ei.length-1,fn,wi)}ar=0;var ys=wt*Fn+wi;ai.lineOffset=Math.max(wi,jn),rr+=ys,Ur=Math.max(ys,Ur),++tn}var Jo=rr-f0,Rs=R1(Dt),_s=Rs.horizontalAlign,Go=Rs.verticalAlign;p8(R.positionedLines,fn,_s,Go,br,Ur,wt,Jo,pt.length),R.top+=-Go*Jo,R.bottom=R.top+Jo,R.left+=-_s*br,R.right=R.left+br}function d8(R,_,Y,at,pt){if(!(!at&&!pt))for(var wt=R[Y],Dt=wt.metrics.advance*wt.scale,qt=(R[Y].x+Dt)*at,pe=_;pe<=Y;pe++)R[pe].x-=qt,R[pe].y+=pt}function p8(R,_,Y,at,pt,wt,Dt,qt,pe){var Se=(_-Y)*pt,De=0;wt!==Dt?De=-qt*at-f0:De=(-at*pe+.5)*Dt;for(var Ge=0,ar=R;Ge<ar.length;Ge+=1)for(var rr=ar[Ge],br=0,Ur=rr.positionedGlyphs;br<Ur.length;br+=1){var fn=Ur[br];fn.x+=Se,fn.y+=De}}function g8(R,_,Y){var at=R1(Y),pt=at.horizontalAlign,wt=at.verticalAlign,Dt=_[0],qt=_[1],pe=Dt-R.displaySize[0]*pt,Se=pe+R.displaySize[0],De=qt-R.displaySize[1]*wt,Ge=De+R.displaySize[1];return{image:R,top:De,bottom:Ge,left:pe,right:Se}}function Fw(R,_,Y,at,pt,wt){var Dt=R.image,qt;if(Dt.content){var pe=Dt.content,Se=Dt.pixelRatio||1;qt=[pe[0]/Se,pe[1]/Se,Dt.displaySize[0]-pe[2]/Se,Dt.displaySize[1]-pe[3]/Se]}var De=_.left*wt,Ge=_.right*wt,ar,rr,br,Ur;Y==="width"||Y==="both"?(Ur=pt[0]+De-at[3],rr=pt[0]+Ge+at[1]):(Ur=pt[0]+(De+Ge-Dt.displaySize[0])/2,rr=Ur+Dt.displaySize[0]);var fn=_.top*wt,tn=_.bottom*wt;return Y==="height"||Y==="both"?(ar=pt[1]+fn-at[0],br=pt[1]+tn+at[2]):(ar=pt[1]+(fn+tn-Dt.displaySize[1])/2,br=ar+Dt.displaySize[1]),{image:Dt,top:ar,right:rr,bottom:br,left:Ur,collisionPadding:qt}}var Vd=function(R){function _(Y,at,pt,wt){R.call(this,Y,at),this.angle=pt,wt!==void 0&&(this.segment=wt)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.clone=function(){return new _(this.x,this.y,this.angle,this.segment)},_}(r);Vt("Anchor",Vd);var Af=128;function _1(R,_){var Y=_.expression;if(Y.kind==="constant"){var at=Y.evaluate(new Ai(R+1));return{kind:"constant",layoutSize:at}}else{if(Y.kind==="source")return{kind:"source"};for(var pt=Y.zoomStops,wt=Y.interpolationType,Dt=0;Dt<pt.length&&pt[Dt]<=R;)Dt++;Dt=Math.max(0,Dt-1);for(var qt=Dt;qt<pt.length&&pt[qt]<R+1;)qt++;qt=Math.min(pt.length-1,qt);var pe=pt[Dt],Se=pt[qt];if(Y.kind==="composite")return{kind:"composite",minZoom:pe,maxZoom:Se,interpolationType:wt};var De=Y.evaluate(new Ai(pe)),Ge=Y.evaluate(new Ai(Se));return{kind:"camera",minZoom:pe,maxZoom:Se,minSize:De,maxSize:Ge,interpolationType:wt}}}function Ow(R,_,Y){var at=_.uSize,pt=_.uSizeT,wt=Y.lowerSize,Dt=Y.upperSize;return R.kind==="source"?wt/Af:R.kind==="composite"?ja(wt/Af,Dt/Af,pt):at}function Bw(R,_){var Y=0,at=0;if(R.kind==="constant")at=R.layoutSize;else if(R.kind!=="source"){var pt=R.interpolationType,wt=R.minZoom,Dt=R.maxZoom,qt=pt?v($a.interpolationFactor(pt,_,wt,Dt),0,1):0;R.kind==="camera"?at=ja(R.minSize,R.maxSize,qt):Y=qt}return{uSizeT:Y,uSize:at}}var y8=Object.freeze({__proto__:null,getSizeData:_1,evaluateSizeForFeature:Ow,evaluateSizeForZoom:Bw,SIZE_PACK_FACTOR:Af});function Nw(R,_,Y,at,pt){if(_.segment===void 0)return!0;for(var wt=_,Dt=_.segment+1,qt=0;qt>-Y/2;){if(Dt--,Dt<0)return!1;qt-=R[Dt].dist(wt),wt=R[Dt]}qt+=R[Dt].dist(R[Dt+1]),Dt++;for(var pe=[],Se=0;qt<Y/2;){var De=R[Dt-1],Ge=R[Dt],ar=R[Dt+1];if(!ar)return!1;var rr=De.angleTo(Ge)-Ge.angleTo(ar);for(rr=Math.abs((rr+3*Math.PI)%(Math.PI*2)-Math.PI),pe.push({distance:qt,angleDelta:rr}),Se+=rr;qt-pe[0].distance>at;)Se-=pe.shift().angleDelta;if(Se>pt)return!1;Dt++,qt+=Ge.dist(ar)}return!0}function Uw(R){for(var _=0,Y=0;Y<R.length-1;Y++)_+=R[Y].dist(R[Y+1]);return _}function Vw(R,_,Y){return R?.6*_*Y:0}function Hw(R,_){return Math.max(R?R.right-R.left:0,_?_.right-_.left:0)}function m8(R,_,Y,at,pt,wt){for(var Dt=Vw(Y,pt,wt),qt=Hw(Y,at)*wt,pe=0,Se=Uw(R)/2,De=0;De<R.length-1;De++){var Ge=R[De],ar=R[De+1],rr=Ge.dist(ar);if(pe+rr>Se){var br=(Se-pe)/rr,Ur=ja(Ge.x,ar.x,br),fn=ja(Ge.y,ar.y,br),tn=new Vd(Ur,fn,ar.angleTo(Ge),De);return tn._round(),!Dt||Nw(R,tn,qt,Dt,_)?tn:void 0}pe+=rr}}function x8(R,_,Y,at,pt,wt,Dt,qt,pe){var Se=Vw(at,wt,Dt),De=Hw(at,pt),Ge=De*Dt,ar=R[0].x===0||R[0].x===pe||R[0].y===0||R[0].y===pe;_-Ge<_/4&&(_=Ge+_/4);var rr=wt*2,br=ar?_/2*qt%_:(De/2+rr)*Dt*qt%_;return Gw(R,br,_,Se,Y,Ge,ar,!1,pe)}function Gw(R,_,Y,at,pt,wt,Dt,qt,pe){for(var Se=wt/2,De=Uw(R),Ge=0,ar=_-Y,rr=[],br=0;br<R.length-1;br++){for(var Ur=R[br],fn=R[br+1],tn=Ur.dist(fn),Mn=fn.angleTo(Ur);ar+Y<Ge+tn;){ar+=Y;var xn=(ar-Ge)/tn,Sn=ja(Ur.x,fn.x,xn),Fn=ja(Ur.y,fn.y,xn);if(Sn>=0&&Sn<pe&&Fn>=0&&Fn<pe&&ar-Se>=0&&ar+Se<=De){var jn=new Vd(Sn,Fn,Mn,br);jn._round(),(!at||Nw(R,jn,wt,at,pt))&&rr.push(jn)}}Ge+=tn}return!qt&&!rr.length&&!Dt&&(rr=Gw(R,Ge/2,Y,at,pt,wt,Dt,!0,pe)),rr}function Ww(R,_,Y,at,pt){for(var wt=[],Dt=0;Dt<R.length;Dt++)for(var qt=R[Dt],pe=void 0,Se=0;Se<qt.length-1;Se++){var De=qt[Se],Ge=qt[Se+1];De.x<_&&Ge.x<_||(De.x<_?De=new r(_,De.y+(Ge.y-De.y)*((_-De.x)/(Ge.x-De.x)))._round():Ge.x<_&&(Ge=new r(_,De.y+(Ge.y-De.y)*((_-De.x)/(Ge.x-De.x)))._round()),!(De.y<Y&&Ge.y<Y)&&(De.y<Y?De=new r(De.x+(Ge.x-De.x)*((Y-De.y)/(Ge.y-De.y)),Y)._round():Ge.y<Y&&(Ge=new r(De.x+(Ge.x-De.x)*((Y-De.y)/(Ge.y-De.y)),Y)._round()),!(De.x>=at&&Ge.x>=at)&&(De.x>=at?De=new r(at,De.y+(Ge.y-De.y)*((at-De.x)/(Ge.x-De.x)))._round():Ge.x>=at&&(Ge=new r(at,De.y+(Ge.y-De.y)*((at-De.x)/(Ge.x-De.x)))._round()),!(De.y>=pt&&Ge.y>=pt)&&(De.y>=pt?De=new r(De.x+(Ge.x-De.x)*((pt-De.y)/(Ge.y-De.y)),pt)._round():Ge.y>=pt&&(Ge=new r(De.x+(Ge.x-De.x)*((pt-De.y)/(Ge.y-De.y)),pt)._round()),(!pe||!De.equals(pe[pe.length-1]))&&(pe=[De],wt.push(pe)),pe.push(Ge)))))}return wt}var Hd=sl;function Yw(R,_,Y,at){var pt=[],wt=R.image,Dt=wt.pixelRatio,qt=wt.paddedRect.w-2*Hd,pe=wt.paddedRect.h-2*Hd,Se=R.right-R.left,De=R.bottom-R.top,Ge=wt.stretchX||[[0,qt]],ar=wt.stretchY||[[0,pe]],rr=function(ya,fa){return ya+fa[1]-fa[0]},br=Ge.reduce(rr,0),Ur=ar.reduce(rr,0),fn=qt-br,tn=pe-Ur,Mn=0,xn=br,Sn=0,Fn=Ur,jn=0,ai=fn,ei=0,wi=tn;if(wt.content&&at){var pi=wt.content;Mn=Vg(Ge,0,pi[0]),Sn=Vg(ar,0,pi[1]),xn=Vg(Ge,pi[0],pi[2]),Fn=Vg(ar,pi[1],pi[3]),jn=pi[0]-Mn,ei=pi[1]-Sn,ai=pi[2]-pi[0]-xn,wi=pi[3]-pi[1]-Fn}var xi=function(ya,fa,Fa,Ba){var oo=Hg(ya.stretch-Mn,xn,Se,R.left),vo=Gg(ya.fixed-jn,ai,ya.stretch,br),Ko=Hg(fa.stretch-Sn,Fn,De,R.top),_o=Gg(fa.fixed-ei,wi,fa.stretch,Ur),gs=Hg(Fa.stretch-Mn,xn,Se,R.left),ys=Gg(Fa.fixed-jn,ai,Fa.stretch,br),Jo=Hg(Ba.stretch-Sn,Fn,De,R.top),Rs=Gg(Ba.fixed-ei,wi,Ba.stretch,Ur),_s=new r(oo,Ko),Go=new r(gs,Ko),ks=new r(gs,Jo),Il=new r(oo,Jo),Yc=new r(vo/Dt,_o/Dt),jh=new r(ys/Dt,Rs/Dt),Xh=_*Math.PI/180;if(Xh){var Zh=Math.sin(Xh),Jd=Math.cos(Xh),Bu=[Jd,-Zh,Zh,Jd];_s._matMult(Bu),Go._matMult(Bu),Il._matMult(Bu),ks._matMult(Bu)}var Kg=ya.stretch+ya.fixed,V1=Fa.stretch+Fa.fixed,Jg=fa.stretch+fa.fixed,H1=Ba.stretch+Ba.fixed,ru={x:wt.paddedRect.x+Hd+Kg,y:wt.paddedRect.y+Hd+Jg,w:V1-Kg,h:H1-Jg},Qd=ai/Dt/Se,Qg=wi/Dt/De;return{tl:_s,tr:Go,bl:Il,br:ks,tex:ru,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Yc,pixelOffsetBR:jh,minFontScaleX:Qd,minFontScaleY:Qg,isSDF:Y}};if(!at||!wt.stretchX&&!wt.stretchY)pt.push(xi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:qt+1},{fixed:0,stretch:pe+1}));else for(var Ni=jw(Ge,fn,br),Ti=jw(ar,tn,Ur),Ei=0;Ei<Ni.length-1;Ei++)for(var Gi=Ni[Ei],Oi=Ni[Ei+1],pa=0;pa<Ti.length-1;pa++){var Da=Ti[pa],ga=Ti[pa+1];pt.push(xi(Gi,Da,Oi,ga))}return pt}function Vg(R,_,Y){for(var at=0,pt=0,wt=R;pt<wt.length;pt+=1){var Dt=wt[pt];at+=Math.max(_,Math.min(Y,Dt[1]))-Math.max(_,Math.min(Y,Dt[0]))}return at}function jw(R,_,Y){for(var at=[{fixed:-Hd,stretch:0}],pt=0,wt=R;pt<wt.length;pt+=1){var Dt=wt[pt],qt=Dt[0],pe=Dt[1],Se=at[at.length-1];at.push({fixed:qt-Se.stretch,stretch:Se.stretch}),at.push({fixed:qt-Se.stretch,stretch:Se.stretch+(pe-qt)})}return at.push({fixed:_+Hd,stretch:Y}),at}function Hg(R,_,Y,at){return R/_*Y+at}function Gg(R,_,Y,at){return R-_*Y/at}function b8(R,_,Y,at,pt,wt,Dt,qt){for(var pe=at.layout.get("text-rotate").evaluate(wt,{})*Math.PI/180,Se=[],De=0,Ge=_.positionedLines;De<Ge.length;De+=1)for(var ar=Ge[De],rr=0,br=ar.positionedGlyphs;rr<br.length;rr+=1){var Ur=br[rr];if(Ur.rect){var fn=Ur.rect||{},tn=1,Mn=Lw+tn,xn=!0,Sn=1,Fn=0,jn=(pt||qt)&&Ur.vertical,ai=Ur.metrics.advance*Ur.scale/2;if(qt&&_.verticalizable){var ei=(Ur.scale-1)*ns,wi=(ns-Ur.metrics.width*Ur.scale)/2;Fn=ar.lineOffset/2-(Ur.imageName?-wi:ei)}if(Ur.imageName){var pi=Dt[Ur.imageName];xn=pi.sdf,Sn=pi.pixelRatio,Mn=sl/Sn}var xi=pt?[Ur.x+ai,Ur.y]:[0,0],Ni=pt?[0,0]:[Ur.x+ai+Y[0],Ur.y+Y[1]-Fn],Ti=[0,0];jn&&(Ti=Ni,Ni=[0,0]);var Ei=(Ur.metrics.left-Mn)*Ur.scale-ai+Ni[0],Gi=(-Ur.metrics.top-Mn)*Ur.scale+Ni[1],Oi=Ei+fn.w*Ur.scale/Sn,pa=Gi+fn.h*Ur.scale/Sn,Da=new r(Ei,Gi),ga=new r(Oi,Gi),ya=new r(Ei,pa),fa=new r(Oi,pa);if(jn){var Fa=new r(-ai,ai-f0),Ba=-Math.PI/2,oo=ns/2-ai,vo=Ur.imageName?oo:0,Ko=new r(5-f0-oo,-vo),_o=new(Function.prototype.bind.apply(r,[null].concat(Ti)));Da._rotateAround(Ba,Fa)._add(Ko)._add(_o),ga._rotateAround(Ba,Fa)._add(Ko)._add(_o),ya._rotateAround(Ba,Fa)._add(Ko)._add(_o),fa._rotateAround(Ba,Fa)._add(Ko)._add(_o)}if(pe){var gs=Math.sin(pe),ys=Math.cos(pe),Jo=[ys,-gs,gs,ys];Da._matMult(Jo),ga._matMult(Jo),ya._matMult(Jo),fa._matMult(Jo)}var Rs=new r(0,0),_s=new r(0,0),Go=0,ks=0;Se.push({tl:Da,tr:ga,bl:ya,br:fa,tex:fn,writingMode:_.writingMode,glyphOffset:xi,sectionIndex:Ur.sectionIndex,isSDF:xn,pixelOffsetTL:Rs,pixelOffsetBR:_s,minFontScaleX:Go,minFontScaleY:ks})}}return Se}var Wg=function(_,Y,at,pt,wt,Dt,qt,pe,Se,De){if(this.boxStartIndex=_.length,Se){var Ge=Dt.top,ar=Dt.bottom,rr=Dt.collisionPadding;rr&&(Ge-=rr[1],ar+=rr[3]);var br=ar-Ge;br>0&&(br=Math.max(10,br),this.circleDiameter=br)}else{var Ur=Dt.top*qt-pe,fn=Dt.bottom*qt+pe,tn=Dt.left*qt-pe,Mn=Dt.right*qt+pe,xn=Dt.collisionPadding;if(xn&&(tn-=xn[0]*qt,Ur-=xn[1]*qt,Mn+=xn[2]*qt,fn+=xn[3]*qt),De){var Sn=new r(tn,Ur),Fn=new r(Mn,Ur),jn=new r(tn,fn),ai=new r(Mn,fn),ei=De*Math.PI/180;Sn._rotate(ei),Fn._rotate(ei),jn._rotate(ei),ai._rotate(ei),tn=Math.min(Sn.x,Fn.x,jn.x,ai.x),Mn=Math.max(Sn.x,Fn.x,jn.x,ai.x),Ur=Math.min(Sn.y,Fn.y,jn.y,ai.y),fn=Math.max(Sn.y,Fn.y,jn.y,ai.y)}_.emplaceBack(Y.x,Y.y,tn,Ur,Mn,fn,at,pt,wt)}this.boxEndIndex=_.length},Gd=function(_,Y){if(_===void 0&&(_=[]),Y===void 0&&(Y=w8),this.data=_,this.length=this.data.length,this.compare=Y,this.length>0)for(var at=(this.length>>1)-1;at>=0;at--)this._down(at)};Gd.prototype.push=function(_){this.data.push(_),this.length++,this._up(this.length-1)},Gd.prototype.pop=function(){if(this.length!==0){var _=this.data[0],Y=this.data.pop();return this.length--,this.length>0&&(this.data[0]=Y,this._down(0)),_}},Gd.prototype.peek=function(){return this.data[0]},Gd.prototype._up=function(_){for(var Y=this,at=Y.data,pt=Y.compare,wt=at[_];_>0;){var Dt=_-1>>1,qt=at[Dt];if(pt(wt,qt)>=0)break;at[_]=qt,_=Dt}at[_]=wt},Gd.prototype._down=function(_){for(var Y=this,at=Y.data,pt=Y.compare,wt=this.length>>1,Dt=at[_];_<wt;){var qt=(_<<1)+1,pe=at[qt],Se=qt+1;if(Se<this.length&&pt(at[Se],pe)<0&&(qt=Se,pe=at[Se]),pt(pe,Dt)>=0)break;at[_]=pe,_=qt}at[_]=Dt};function w8(R,_){return R<_?-1:R>_?1:0}function T8(R,_,Y){Y===void 0&&(Y=!1);for(var at=1/0,pt=1/0,wt=-1/0,Dt=-1/0,qt=R[0],pe=0;pe<qt.length;pe++){var Se=qt[pe];(!pe||Se.x<at)&&(at=Se.x),(!pe||Se.y<pt)&&(pt=Se.y),(!pe||Se.x>wt)&&(wt=Se.x),(!pe||Se.y>Dt)&&(Dt=Se.y)}var De=wt-at,Ge=Dt-pt,ar=Math.min(De,Ge),rr=ar/2,br=new Gd([],A8);if(ar===0)return new r(at,pt);for(var Ur=at;Ur<wt;Ur+=ar)for(var fn=pt;fn<Dt;fn+=ar)br.push(new Wd(Ur+rr,fn+rr,rr,R));for(var tn=M8(R),Mn=br.length;br.length;){var xn=br.pop();(xn.d>tn.d||!tn.d)&&(tn=xn,Y&&console.log("found best %d after %d probes",Math.round(1e4*xn.d)/1e4,Mn)),!(xn.max-tn.d<=_)&&(rr=xn.h/2,br.push(new Wd(xn.p.x-rr,xn.p.y-rr,rr,R)),br.push(new Wd(xn.p.x+rr,xn.p.y-rr,rr,R)),br.push(new Wd(xn.p.x-rr,xn.p.y+rr,rr,R)),br.push(new Wd(xn.p.x+rr,xn.p.y+rr,rr,R)),Mn+=4)}return Y&&(console.log("num probes: "+Mn),console.log("best distance: "+tn.d)),tn.p}function A8(R,_){return _.max-R.max}function Wd(R,_,Y,at){this.p=new r(R,_),this.h=Y,this.d=S8(this.p,at),this.max=this.d+this.h*Math.SQRT2}function S8(R,_){for(var Y=!1,at=1/0,pt=0;pt<_.length;pt++)for(var wt=_[pt],Dt=0,qt=wt.length,pe=qt-1;Dt<qt;pe=Dt++){var Se=wt[Dt],De=wt[pe];Se.y>R.y!=De.y>R.y&&R.x<(De.x-Se.x)*(R.y-Se.y)/(De.y-Se.y)+Se.x&&(Y=!Y),at=Math.min(at,Vc(R,Se,De))}return(Y?1:-1)*Math.sqrt(at)}function M8(R){for(var _=0,Y=0,at=0,pt=R[0],wt=0,Dt=pt.length,qt=Dt-1;wt<Dt;qt=wt++){var pe=pt[wt],Se=pt[qt],De=pe.x*Se.y-Se.x*pe.y;Y+=(pe.x+Se.x)*De,at+=(pe.y+Se.y)*De,_+=De*3}return new Wd(Y/_,at/_,0,R)}var Yd=7,k1=Number.POSITIVE_INFINITY;function Xw(R,_){function Y(pt,wt){var Dt=0,qt=0;wt<0&&(wt=0);var pe=wt/Math.sqrt(2);switch(pt){case"top-right":case"top-left":qt=pe-Yd;break;case"bottom-right":case"bottom-left":qt=-pe+Yd;break;case"bottom":qt=-wt+Yd;break;case"top":qt=wt-Yd;break}switch(pt){case"top-right":case"bottom-right":Dt=-pe;break;case"top-left":case"bottom-left":Dt=pe;break;case"left":Dt=wt;break;case"right":Dt=-wt;break}return[Dt,qt]}function at(pt,wt,Dt){var qt=0,pe=0;switch(wt=Math.abs(wt),Dt=Math.abs(Dt),pt){case"top-right":case"top-left":case"top":pe=Dt-Yd;break;case"bottom-right":case"bottom-left":case"bottom":pe=-Dt+Yd;break}switch(pt){case"top-right":case"bottom-right":case"right":qt=-wt;break;case"top-left":case"bottom-left":case"left":qt=wt;break}return[qt,pe]}return _[1]!==k1?at(R,_[0],_[1]):Y(R,_[0])}function E8(R,_,Y,at,pt,wt,Dt){R.createArrays();var qt=512*R.overscaling;R.tilePixelRatio=Si/qt,R.compareText={},R.iconsNeedLinear=!1;var pe=R.layers[0].layout,Se=R.layers[0]._unevaluatedLayout._values,De={};if(R.textSizeData.kind==="composite"){var Ge=R.textSizeData,ar=Ge.minZoom,rr=Ge.maxZoom;De.compositeTextSizes=[Se["text-size"].possiblyEvaluate(new Ai(ar),Dt),Se["text-size"].possiblyEvaluate(new Ai(rr),Dt)]}if(R.iconSizeData.kind==="composite"){var br=R.iconSizeData,Ur=br.minZoom,fn=br.maxZoom;De.compositeIconSizes=[Se["icon-size"].possiblyEvaluate(new Ai(Ur),Dt),Se["icon-size"].possiblyEvaluate(new Ai(fn),Dt)]}De.layoutTextSize=Se["text-size"].possiblyEvaluate(new Ai(R.zoom+1),Dt),De.layoutIconSize=Se["icon-size"].possiblyEvaluate(new Ai(R.zoom+1),Dt),De.textMaxSize=Se["text-size"].possiblyEvaluate(new Ai(18));for(var tn=pe.get("text-line-height")*ns,Mn=pe.get("text-rotation-alignment")==="map"&&pe.get("symbol-placement")!=="point",xn=pe.get("text-keep-upright"),Sn=pe.get("text-size"),Fn=function(){var ei=ai[jn],wi=pe.get("text-font").evaluate(ei,{},Dt).join(","),pi=Sn.evaluate(ei,{},Dt),xi=De.layoutTextSize.evaluate(ei,{},Dt),Ni=De.layoutIconSize.evaluate(ei,{},Dt),Ti={horizontal:{},vertical:void 0},Ei=ei.text,Gi=[0,0];if(Ei){var Oi=Ei.toString(),pa=pe.get("text-letter-spacing").evaluate(ei,{},Dt)*ns,Da=Ir(Oi)?pa:0,ga=pe.get("text-anchor").evaluate(ei,{},Dt),ya=pe.get("text-variable-anchor");if(!ya){var fa=pe.get("text-radial-offset").evaluate(ei,{},Dt);fa?Gi=Xw(ga,[fa*ns,k1]):Gi=pe.get("text-offset").evaluate(ei,{},Dt).map(function(Yc){return Yc*ns})}var Fa=Mn?"center":pe.get("text-justify").evaluate(ei,{},Dt),Ba=pe.get("symbol-placement"),oo=Ba==="point"?pe.get("text-max-width").evaluate(ei,{},Dt)*ns:0,vo=function(){R.allowVerticalPlacement&&ir(Oi)&&(Ti.vertical=Ug(Ei,_,Y,pt,wi,oo,tn,ga,"left",Da,Gi,Pl.vertical,!0,Ba,xi,pi))};if(!Mn&&ya){for(var Ko=Fa==="auto"?ya.map(function(Yc){return z1(Yc)}):[Fa],_o=!1,gs=0;gs<Ko.length;gs++){var ys=Ko[gs];if(!Ti.horizontal[ys])if(_o)Ti.horizontal[ys]=Ti.horizontal[0];else{var Jo=Ug(Ei,_,Y,pt,wi,oo,tn,"center",ys,Da,Gi,Pl.horizontal,!1,Ba,xi,pi);Jo&&(Ti.horizontal[ys]=Jo,_o=Jo.positionedLines.length===1)}}vo()}else{Fa==="auto"&&(Fa=z1(ga));var Rs=Ug(Ei,_,Y,pt,wi,oo,tn,ga,Fa,Da,Gi,Pl.horizontal,!1,Ba,xi,pi);Rs&&(Ti.horizontal[Fa]=Rs),vo(),ir(Oi)&&Mn&&xn&&(Ti.vertical=Ug(Ei,_,Y,pt,wi,oo,tn,ga,Fa,Da,Gi,Pl.vertical,!1,Ba,xi,pi))}}var _s=void 0,Go=!1;if(ei.icon&&ei.icon.name){var ks=at[ei.icon.name];ks&&(_s=g8(pt[ei.icon.name],pe.get("icon-offset").evaluate(ei,{},Dt),pe.get("icon-anchor").evaluate(ei,{},Dt)),Go=ks.sdf,R.sdfIcons===void 0?R.sdfIcons=ks.sdf:R.sdfIcons!==ks.sdf&&N("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ks.pixelRatio!==R.pixelRatio||pe.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var Il=Kw(Ti.horizontal)||Ti.vertical;R.iconsInText=Il?Il.iconsInText:!1,(Il||_s)&&C8(R,ei,Ti,_s,at,De,xi,Ni,Gi,Go,Dt)},jn=0,ai=R.features;jn<ai.length;jn+=1)Fn();wt&&R.generateCollisionDebugBuffers()}function z1(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function C8(R,_,Y,at,pt,wt,Dt,qt,pe,Se,De){var Ge=wt.textMaxSize.evaluate(_,{});Ge===void 0&&(Ge=Dt);var ar=R.layers[0].layout,rr=ar.get("icon-offset").evaluate(_,{},De),br=Kw(Y.horizontal),Ur=24,fn=Dt/Ur,tn=R.tilePixelRatio*fn,Mn=R.tilePixelRatio*Ge/Ur,xn=R.tilePixelRatio*qt,Sn=R.tilePixelRatio*ar.get("symbol-spacing"),Fn=ar.get("text-padding")*R.tilePixelRatio,jn=ar.get("icon-padding")*R.tilePixelRatio,ai=ar.get("text-max-angle")/180*Math.PI,ei=ar.get("text-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",wi=ar.get("icon-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",pi=ar.get("symbol-placement"),xi=Sn/2,Ni=ar.get("icon-text-fit"),Ti;at&&Ni!=="none"&&(R.allowVerticalPlacement&&Y.vertical&&(Ti=Fw(at,Y.vertical,Ni,ar.get("icon-text-fit-padding"),rr,fn)),br&&(at=Fw(at,br,Ni,ar.get("icon-text-fit-padding"),rr,fn)));var Ei=function(Jd,Bu){Bu.x<0||Bu.x>=Si||Bu.y<0||Bu.y>=Si||L8(R,Bu,Jd,Y,at,pt,Ti,R.layers[0],R.collisionBoxArray,_.index,_.sourceLayerIndex,R.index,tn,Fn,ei,pe,xn,jn,wi,rr,_,wt,Se,De,Dt)};if(pi==="line")for(var Gi=0,Oi=Ww(_.geometry,0,0,Si,Si);Gi<Oi.length;Gi+=1)for(var pa=Oi[Gi],Da=x8(pa,Sn,ai,Y.vertical||br,at,Ur,Mn,R.overscaling,Si),ga=0,ya=Da;ga<ya.length;ga+=1){var fa=ya[ga],Fa=br;(!Fa||!P8(R,Fa.text,xi,fa))&&Ei(pa,fa)}else if(pi==="line-center")for(var Ba=0,oo=_.geometry;Ba<oo.length;Ba+=1){var vo=oo[Ba];if(vo.length>1){var Ko=m8(vo,ai,Y.vertical||br,at,Ur,Mn);Ko&&Ei(vo,Ko)}}else if(_.type==="Polygon")for(var _o=0,gs=M1(_.geometry,0);_o<gs.length;_o+=1){var ys=gs[_o],Jo=T8(ys,16);Ei(ys[0],new Vd(Jo.x,Jo.y,0))}else if(_.type==="LineString")for(var Rs=0,_s=_.geometry;Rs<_s.length;Rs+=1){var Go=_s[Rs];Ei(Go,new Vd(Go[0].x,Go[0].y,0))}else if(_.type==="Point")for(var ks=0,Il=_.geometry;ks<Il.length;ks+=1)for(var Yc=Il[ks],jh=0,Xh=Yc;jh<Xh.length;jh+=1){var Zh=Xh[jh];Ei([Zh],new Vd(Zh.x,Zh.y,0))}}var c0=255,Wh=c0*Af;function Zw(R,_,Y,at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br){var Ur=b8(_,Y,qt,pt,wt,Dt,at,R.allowVerticalPlacement),fn=R.textSizeData,tn=null;fn.kind==="source"?(tn=[Af*pt.layout.get("text-size").evaluate(Dt,{})],tn[0]>Wh&&N(R.layerIds[0]+': Value for "text-size" is >= '+c0+'. Reduce your "text-size".')):fn.kind==="composite"&&(tn=[Af*rr.compositeTextSizes[0].evaluate(Dt,{},br),Af*rr.compositeTextSizes[1].evaluate(Dt,{},br)],(tn[0]>Wh||tn[1]>Wh)&&N(R.layerIds[0]+': Value for "text-size" is >= '+c0+'. Reduce your "text-size".')),R.addSymbols(R.text,Ur,tn,qt,wt,Dt,Se,_,pe.lineStartIndex,pe.lineLength,ar,br);for(var Mn=0,xn=De;Mn<xn.length;Mn+=1){var Sn=xn[Mn];Ge[Sn]=R.text.placedSymbolArray.length-1}return Ur.length*4}function Kw(R){for(var _ in R)return R[_];return null}function L8(R,_,Y,at,pt,wt,Dt,qt,pe,Se,De,Ge,ar,rr,br,Ur,fn,tn,Mn,xn,Sn,Fn,jn,ai,ei){var wi,pi=R.addToLineVertexArray(_,Y),xi,Ni,Ti,Ei,Gi=0,Oi=0,pa=0,Da=0,ga=-1,ya=-1,fa={},Fa=yt(""),Ba=0,oo=0;if(qt._unevaluatedLayout.getValue("text-radial-offset")===void 0?(wi=qt.layout.get("text-offset").evaluate(Sn,{},ai).map(function(d0){return d0*ns}),Ba=wi[0],oo=wi[1]):(Ba=qt.layout.get("text-radial-offset").evaluate(Sn,{},ai)*ns,oo=k1),R.allowVerticalPlacement&&at.vertical){var vo=qt.layout.get("text-rotate").evaluate(Sn,{},ai),Ko=vo+90,_o=at.vertical;Ti=new Wg(pe,_,Se,De,Ge,_o,ar,rr,br,Ko),Dt&&(Ei=new Wg(pe,_,Se,De,Ge,Dt,fn,tn,br,Ko))}if(pt){var gs=qt.layout.get("icon-rotate").evaluate(Sn,{}),ys=qt.layout.get("icon-text-fit")!=="none",Jo=Yw(pt,gs,jn,ys),Rs=Dt?Yw(Dt,gs,jn,ys):void 0;Ni=new Wg(pe,_,Se,De,Ge,pt,fn,tn,!1,gs),Gi=Jo.length*4;var _s=R.iconSizeData,Go=null;_s.kind==="source"?(Go=[Af*qt.layout.get("icon-size").evaluate(Sn,{})],Go[0]>Wh&&N(R.layerIds[0]+': Value for "icon-size" is >= '+c0+'. Reduce your "icon-size".')):_s.kind==="composite"&&(Go=[Af*Fn.compositeIconSizes[0].evaluate(Sn,{},ai),Af*Fn.compositeIconSizes[1].evaluate(Sn,{},ai)],(Go[0]>Wh||Go[1]>Wh)&&N(R.layerIds[0]+': Value for "icon-size" is >= '+c0+'. Reduce your "icon-size".')),R.addSymbols(R.icon,Jo,Go,xn,Mn,Sn,!1,_,pi.lineStartIndex,pi.lineLength,-1,ai),ga=R.icon.placedSymbolArray.length-1,Rs&&(Oi=Rs.length*4,R.addSymbols(R.icon,Rs,Go,xn,Mn,Sn,Pl.vertical,_,pi.lineStartIndex,pi.lineLength,-1,ai),ya=R.icon.placedSymbolArray.length-1)}for(var ks in at.horizontal){var Il=at.horizontal[ks];if(!xi){Fa=yt(Il.text);var Yc=qt.layout.get("text-rotate").evaluate(Sn,{},ai);xi=new Wg(pe,_,Se,De,Ge,Il,ar,rr,br,Yc)}var jh=Il.positionedLines.length===1;if(pa+=Zw(R,_,Il,wt,qt,br,Sn,Ur,pi,at.vertical?Pl.horizontal:Pl.horizontalOnly,jh?Object.keys(at.horizontal):[ks],fa,ga,Fn,ai),jh)break}at.vertical&&(Da+=Zw(R,_,at.vertical,wt,qt,br,Sn,Ur,pi,Pl.vertical,["vertical"],fa,ya,Fn,ai));var Xh=xi?xi.boxStartIndex:R.collisionBoxArray.length,Zh=xi?xi.boxEndIndex:R.collisionBoxArray.length,Jd=Ti?Ti.boxStartIndex:R.collisionBoxArray.length,Bu=Ti?Ti.boxEndIndex:R.collisionBoxArray.length,Kg=Ni?Ni.boxStartIndex:R.collisionBoxArray.length,V1=Ni?Ni.boxEndIndex:R.collisionBoxArray.length,Jg=Ei?Ei.boxStartIndex:R.collisionBoxArray.length,H1=Ei?Ei.boxEndIndex:R.collisionBoxArray.length,ru=-1,Qd=function(d0,c2){return d0&&d0.circleDiameter?Math.max(d0.circleDiameter,c2):c2};ru=Qd(xi,ru),ru=Qd(Ti,ru),ru=Qd(Ni,ru),ru=Qd(Ei,ru);var Qg=ru>-1?1:0;Qg&&(ru*=ei/ns),R.glyphOffsetArray.length>=Ia.MAX_GLYPHS&&N("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Sn.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,Sn.sortKey),R.symbolInstances.emplaceBack(_.x,_.y,fa.right>=0?fa.right:-1,fa.center>=0?fa.center:-1,fa.left>=0?fa.left:-1,fa.vertical||-1,ga,ya,Fa,Xh,Zh,Jd,Bu,Kg,V1,Jg,H1,Se,pa,Da,Gi,Oi,Qg,0,ar,Ba,oo,ru)}function P8(R,_,Y,at){var pt=R.compareText;if(!(_ in pt))pt[_]=[];else for(var wt=pt[_],Dt=wt.length-1;Dt>=0;Dt--)if(at.dist(wt[Dt])<Y)return!0;return pt[_].push(at),!1}var I8=Od.VectorTileFeature.types,D8=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Yg(R,_,Y,at,pt,wt,Dt,qt,pe,Se,De,Ge,ar){var rr=qt?Math.min(Wh,Math.round(qt[0])):0,br=qt?Math.min(Wh,Math.round(qt[1])):0;R.emplaceBack(_,Y,Math.round(at*32),Math.round(pt*32),wt,Dt,(rr<<1)+(pe?1:0),br,Se*16,De*16,Ge*256,ar*256)}function F1(R,_,Y){R.emplaceBack(_.x,_.y,Y),R.emplaceBack(_.x,_.y,Y),R.emplaceBack(_.x,_.y,Y),R.emplaceBack(_.x,_.y,Y)}function R8(R){for(var _=0,Y=R.sections;_<Y.length;_+=1){var at=Y[_];if(qr(at.text))return!0}return!1}var jd=function(_){this.layoutVertexArray=new $f,this.indexArray=new xf,this.programConfigurations=_,this.segments=new Po,this.dynamicLayoutVertexArray=new Zp,this.opacityVertexArray=new Kp,this.placedSymbolArray=new $p};jd.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},jd.prototype.upload=function(_,Y,at,pt){this.isEmpty()||(at&&(this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,RM.members),this.indexBuffer=_.createIndexBuffer(this.indexArray,Y),this.dynamicLayoutVertexBuffer=_.createVertexBuffer(this.dynamicLayoutVertexArray,_M.members,!0),this.opacityVertexBuffer=_.createVertexBuffer(this.opacityVertexArray,D8,!0),this.opacityVertexBuffer.itemSize=1),(at||pt)&&this.programConfigurations.upload(_))},jd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Vt("SymbolBuffers",jd);var h0=function(_,Y,at){this.layoutVertexArray=new _,this.layoutAttributes=Y,this.indexArray=new at,this.segments=new Po,this.collisionVertexArray=new Gs};h0.prototype.upload=function(_){this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=_.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=_.createVertexBuffer(this.collisionVertexArray,kM.members,!0)},h0.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Vt("CollisionBuffers",h0);var Ia=function(_){this.collisionBoxArray=_.collisionBoxArray,this.zoom=_.zoom,this.overscaling=_.overscaling,this.layers=_.layers,this.layerIds=this.layers.map(function(pe){return pe.id}),this.index=_.index,this.pixelRatio=_.pixelRatio,this.sourceLayerIndex=_.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Rd([]),this.placementViewportMatrix=Rd([]);var Y=this.layers[0],at=Y._unevaluatedLayout._values;this.textSizeData=_1(this.zoom,at["text-size"]),this.iconSizeData=_1(this.zoom,at["icon-size"]);var pt=this.layers[0].layout,wt=pt.get("symbol-sort-key"),Dt=pt.get("symbol-z-order");this.canOverlap=pt.get("text-allow-overlap")||pt.get("icon-allow-overlap")||pt.get("text-ignore-placement")||pt.get("icon-ignore-placement"),this.sortFeaturesByKey=Dt!=="viewport-y"&&wt.constantOr(1)!==void 0;var qt=Dt==="viewport-y"||Dt==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=qt&&this.canOverlap,pt.get("symbol-placement")==="point"&&(this.writingModes=pt.get("text-writing-mode").map(function(pe){return Pl[pe]})),this.stateDependentLayerIds=this.layers.filter(function(pe){return pe.isStateDependent()}).map(function(pe){return pe.id}),this.sourceID=_.sourceID};Ia.prototype.createArrays=function(){this.text=new jd(new di(this.layers,this.zoom,function(_){return/^text/.test(_)})),this.icon=new jd(new di(this.layers,this.zoom,function(_){return/^icon/.test(_)})),this.glyphOffsetArray=new Cg,this.lineVertexArray=new $l,this.symbolInstances=new Eg},Ia.prototype.calculateGlyphDependencies=function(_,Y,at,pt,wt){for(var Dt=0;Dt<_.length;Dt++)if(Y[_.charCodeAt(Dt)]=!0,(at||pt)&&wt){var qt=s0[_.charAt(Dt)];qt&&(Y[qt.charCodeAt(0)]=!0)}},Ia.prototype.populate=function(_,Y,at){var pt=this.layers[0],wt=pt.layout,Dt=wt.get("text-font"),qt=wt.get("text-field"),pe=wt.get("icon-image"),Se=(qt.value.kind!=="constant"||qt.value.value instanceof mo&&!qt.value.value.isEmpty()||qt.value.value.toString().length>0)&&(Dt.value.kind!=="constant"||Dt.value.value.length>0),De=pe.value.kind!=="constant"||!!pe.value.value||Object.keys(pe.parameters).length>0,Ge=wt.get("symbol-sort-key");if(this.features=[],!(!Se&&!De)){for(var ar=Y.iconDependencies,rr=Y.glyphDependencies,br=Y.availableImages,Ur=new Ai(this.zoom),fn=0,tn=_;fn<tn.length;fn+=1){var Mn=tn[fn],xn=Mn.feature,Sn=Mn.id,Fn=Mn.index,jn=Mn.sourceLayerIndex,ai=pt._featureFilter.needGeometry,ei=za(xn,ai);if(pt._featureFilter.filter(Ur,ei,at)){ai||(ei.geometry=ua(xn));var wi=void 0;if(Se){var pi=pt.getValueAndResolveTokens("text-field",ei,at,br),xi=mo.factory(pi);R8(xi)&&(this.hasRTLText=!0),(!this.hasRTLText||ki()==="unavailable"||this.hasRTLText&&qn.isParsed())&&(wi=OM(xi,pt,ei))}var Ni=void 0;if(De){var Ti=pt.getValueAndResolveTokens("icon-image",ei,at,br);Ti instanceof Yo?Ni=Ti:Ni=Yo.fromString(Ti)}if(!(!wi&&!Ni)){var Ei=this.sortFeaturesByKey?Ge.evaluate(ei,{},at):void 0,Gi={id:Sn,text:wi,icon:Ni,index:Fn,sourceLayerIndex:jn,geometry:ei.geometry,properties:xn.properties,type:I8[xn.type],sortKey:Ei};if(this.features.push(Gi),Ni&&(ar[Ni.name]=!0),wi){var Oi=Dt.evaluate(ei,{},at).join(","),pa=wt.get("text-rotation-alignment")==="map"&&wt.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Pl.vertical)>=0;for(var Da=0,ga=wi.sections;Da<ga.length;Da+=1){var ya=ga[Da];if(ya.image)ar[ya.image.name]=!0;else{var fa=ir(wi.toString()),Fa=ya.fontStack||Oi,Ba=rr[Fa]=rr[Fa]||{};this.calculateGlyphDependencies(ya.text,Ba,pa,this.allowVerticalPlacement,fa)}}}}}}wt.get("symbol-placement")==="line"&&(this.features=BM(this.features)),this.sortFeaturesByKey&&this.features.sort(function(oo,vo){return oo.sortKey-vo.sortKey})}},Ia.prototype.update=function(_,Y,at){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(_,Y,this.layers,at),this.icon.programConfigurations.updatePaintArrays(_,Y,this.layers,at))},Ia.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ia.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ia.prototype.upload=function(_){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(_),this.iconCollisionBox.upload(_)),this.text.upload(_,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(_,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ia.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ia.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ia.prototype.addToLineVertexArray=function(_,Y){var at=this.lineVertexArray.length;if(_.segment!==void 0){for(var pt=_.dist(Y[_.segment+1]),wt=_.dist(Y[_.segment]),Dt={},qt=_.segment+1;qt<Y.length;qt++)Dt[qt]={x:Y[qt].x,y:Y[qt].y,tileUnitDistanceFromAnchor:pt},qt<Y.length-1&&(pt+=Y[qt+1].dist(Y[qt]));for(var pe=_.segment||0;pe>=0;pe--)Dt[pe]={x:Y[pe].x,y:Y[pe].y,tileUnitDistanceFromAnchor:wt},pe>0&&(wt+=Y[pe-1].dist(Y[pe]));for(var Se=0;Se<Y.length;Se++){var De=Dt[Se];this.lineVertexArray.emplaceBack(De.x,De.y,De.tileUnitDistanceFromAnchor)}}return{lineStartIndex:at,lineLength:this.lineVertexArray.length-at}},Ia.prototype.addSymbols=function(_,Y,at,pt,wt,Dt,qt,pe,Se,De,Ge,ar){for(var rr=_.indexArray,br=_.layoutVertexArray,Ur=_.segments.prepareSegment(4*Y.length,br,rr,this.canOverlap?Dt.sortKey:void 0),fn=this.glyphOffsetArray.length,tn=Ur.vertexLength,Mn=this.allowVerticalPlacement&&qt===Pl.vertical?Math.PI/2:0,xn=Dt.text&&Dt.text.sections,Sn=0;Sn<Y.length;Sn++){var Fn=Y[Sn],jn=Fn.tl,ai=Fn.tr,ei=Fn.bl,wi=Fn.br,pi=Fn.tex,xi=Fn.pixelOffsetTL,Ni=Fn.pixelOffsetBR,Ti=Fn.minFontScaleX,Ei=Fn.minFontScaleY,Gi=Fn.glyphOffset,Oi=Fn.isSDF,pa=Fn.sectionIndex,Da=Ur.vertexLength,ga=Gi[1];Yg(br,pe.x,pe.y,jn.x,ga+jn.y,pi.x,pi.y,at,Oi,xi.x,xi.y,Ti,Ei),Yg(br,pe.x,pe.y,ai.x,ga+ai.y,pi.x+pi.w,pi.y,at,Oi,Ni.x,xi.y,Ti,Ei),Yg(br,pe.x,pe.y,ei.x,ga+ei.y,pi.x,pi.y+pi.h,at,Oi,xi.x,Ni.y,Ti,Ei),Yg(br,pe.x,pe.y,wi.x,ga+wi.y,pi.x+pi.w,pi.y+pi.h,at,Oi,Ni.x,Ni.y,Ti,Ei),F1(_.dynamicLayoutVertexArray,pe,Mn),rr.emplaceBack(Da,Da+1,Da+2),rr.emplaceBack(Da+1,Da+2,Da+3),Ur.vertexLength+=4,Ur.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Gi[0]),(Sn===Y.length-1||pa!==Y[Sn+1].sectionIndex)&&_.programConfigurations.populatePaintArrays(br.length,Dt,Dt.index,{},ar,xn&&xn[pa])}_.placedSymbolArray.emplaceBack(pe.x,pe.y,fn,this.glyphOffsetArray.length-fn,tn,Se,De,pe.segment,at?at[0]:0,at?at[1]:0,pt[0],pt[1],qt,0,!1,0,Ge)},Ia.prototype._addCollisionDebugVertex=function(_,Y,at,pt,wt,Dt){return Y.emplaceBack(0,0),_.emplaceBack(at.x,at.y,pt,wt,Math.round(Dt.x),Math.round(Dt.y))},Ia.prototype.addCollisionDebugVertices=function(_,Y,at,pt,wt,Dt,qt){var pe=wt.segments.prepareSegment(4,wt.layoutVertexArray,wt.indexArray),Se=pe.vertexLength,De=wt.layoutVertexArray,Ge=wt.collisionVertexArray,ar=qt.anchorX,rr=qt.anchorY;this._addCollisionDebugVertex(De,Ge,Dt,ar,rr,new r(_,Y)),this._addCollisionDebugVertex(De,Ge,Dt,ar,rr,new r(at,Y)),this._addCollisionDebugVertex(De,Ge,Dt,ar,rr,new r(at,pt)),this._addCollisionDebugVertex(De,Ge,Dt,ar,rr,new r(_,pt)),pe.vertexLength+=4;var br=wt.indexArray;br.emplaceBack(Se,Se+1),br.emplaceBack(Se+1,Se+2),br.emplaceBack(Se+2,Se+3),br.emplaceBack(Se+3,Se),pe.primitiveLength+=4},Ia.prototype.addDebugCollisionBoxes=function(_,Y,at,pt){for(var wt=_;wt<Y;wt++){var Dt=this.collisionBoxArray.get(wt),qt=Dt.x1,pe=Dt.y1,Se=Dt.x2,De=Dt.y2;this.addCollisionDebugVertices(qt,pe,Se,De,pt?this.textCollisionBox:this.iconCollisionBox,Dt.anchorPoint,at)}},Ia.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new h0(Ed,Aw.members,Xv),this.iconCollisionBox=new h0(Ed,Aw.members,Xv);for(var _=0;_<this.symbolInstances.length;_++){var Y=this.symbolInstances.get(_);this.addDebugCollisionBoxes(Y.textBoxStartIndex,Y.textBoxEndIndex,Y,!0),this.addDebugCollisionBoxes(Y.verticalTextBoxStartIndex,Y.verticalTextBoxEndIndex,Y,!0),this.addDebugCollisionBoxes(Y.iconBoxStartIndex,Y.iconBoxEndIndex,Y,!1),this.addDebugCollisionBoxes(Y.verticalIconBoxStartIndex,Y.verticalIconBoxEndIndex,Y,!1)}},Ia.prototype._deserializeCollisionBoxesForSymbol=function(_,Y,at,pt,wt,Dt,qt,pe,Se){for(var De={},Ge=Y;Ge<at;Ge++){var ar=_.get(Ge);De.textBox={x1:ar.x1,y1:ar.y1,x2:ar.x2,y2:ar.y2,anchorPointX:ar.anchorPointX,anchorPointY:ar.anchorPointY},De.textFeatureIndex=ar.featureIndex;break}for(var rr=pt;rr<wt;rr++){var br=_.get(rr);De.verticalTextBox={x1:br.x1,y1:br.y1,x2:br.x2,y2:br.y2,anchorPointX:br.anchorPointX,anchorPointY:br.anchorPointY},De.verticalTextFeatureIndex=br.featureIndex;break}for(var Ur=Dt;Ur<qt;Ur++){var fn=_.get(Ur);De.iconBox={x1:fn.x1,y1:fn.y1,x2:fn.x2,y2:fn.y2,anchorPointX:fn.anchorPointX,anchorPointY:fn.anchorPointY},De.iconFeatureIndex=fn.featureIndex;break}for(var tn=pe;tn<Se;tn++){var Mn=_.get(tn);De.verticalIconBox={x1:Mn.x1,y1:Mn.y1,x2:Mn.x2,y2:Mn.y2,anchorPointX:Mn.anchorPointX,anchorPointY:Mn.anchorPointY},De.verticalIconFeatureIndex=Mn.featureIndex;break}return De},Ia.prototype.deserializeCollisionBoxes=function(_){this.collisionArrays=[];for(var Y=0;Y<this.symbolInstances.length;Y++){var at=this.symbolInstances.get(Y);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(_,at.textBoxStartIndex,at.textBoxEndIndex,at.verticalTextBoxStartIndex,at.verticalTextBoxEndIndex,at.iconBoxStartIndex,at.iconBoxEndIndex,at.verticalIconBoxStartIndex,at.verticalIconBoxEndIndex))}},Ia.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ia.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ia.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ia.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ia.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ia.prototype.addIndicesForPlacedSymbol=function(_,Y){for(var at=_.placedSymbolArray.get(Y),pt=at.vertexStartIndex+at.numGlyphs*4,wt=at.vertexStartIndex;wt<pt;wt+=4)_.indexArray.emplaceBack(wt,wt+1,wt+2),_.indexArray.emplaceBack(wt+1,wt+2,wt+3)},Ia.prototype.getSortedSymbolIndexes=function(_){if(this.sortedAngle===_&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var Y=Math.sin(_),at=Math.cos(_),pt=[],wt=[],Dt=[],qt=0;qt<this.symbolInstances.length;++qt){Dt.push(qt);var pe=this.symbolInstances.get(qt);pt.push(Math.round(Y*pe.anchorX+at*pe.anchorY)|0),wt.push(pe.featureIndex)}return Dt.sort(function(Se,De){return pt[Se]-pt[De]||wt[De]-wt[Se]}),Dt},Ia.prototype.addToSortKeyRanges=function(_,Y){var at=this.sortKeyRanges[this.sortKeyRanges.length-1];at&&at.sortKey===Y?at.symbolInstanceEnd=_+1:this.sortKeyRanges.push({sortKey:Y,symbolInstanceStart:_,symbolInstanceEnd:_+1})},Ia.prototype.sortFeatures=function(_){var Y=this;if(this.sortFeaturesByY&&this.sortedAngle!==_&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(_),this.sortedAngle=_,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var at=0,pt=this.symbolInstanceIndexes;at<pt.length;at+=1){var wt=pt[at],Dt=this.symbolInstances.get(wt);this.featureSortOrder.push(Dt.featureIndex),[Dt.rightJustifiedTextSymbolIndex,Dt.centerJustifiedTextSymbolIndex,Dt.leftJustifiedTextSymbolIndex].forEach(function(qt,pe,Se){qt>=0&&Se.indexOf(qt)===pe&&Y.addIndicesForPlacedSymbol(Y.text,qt)}),Dt.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Dt.verticalPlacedTextSymbolIndex),Dt.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Dt.placedIconSymbolIndex),Dt.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Dt.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Vt("SymbolBucket",Ia,{omit:["layers","collisionBoxArray","features","compareText"]}),Ia.MAX_GLYPHS=65535,Ia.addDynamicAttributes=F1;function _8(R,_){return _.replace(/{([^{}]+)}/g,function(Y,at){return at in R?String(R[at]):""})}var k8=new wa({"symbol-placement":new ui(Sr.layout_symbol["symbol-placement"]),"symbol-spacing":new ui(Sr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ui(Sr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ci(Sr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ui(Sr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ui(Sr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ui(Sr.layout_symbol["icon-ignore-placement"]),"icon-optional":new ui(Sr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ui(Sr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ci(Sr.layout_symbol["icon-size"]),"icon-text-fit":new ui(Sr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ui(Sr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ci(Sr.layout_symbol["icon-image"]),"icon-rotate":new Ci(Sr.layout_symbol["icon-rotate"]),"icon-padding":new ui(Sr.layout_symbol["icon-padding"]),"icon-keep-upright":new ui(Sr.layout_symbol["icon-keep-upright"]),"icon-offset":new Ci(Sr.layout_symbol["icon-offset"]),"icon-anchor":new Ci(Sr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ui(Sr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ui(Sr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ui(Sr.layout_symbol["text-rotation-alignment"]),"text-field":new Ci(Sr.layout_symbol["text-field"]),"text-font":new Ci(Sr.layout_symbol["text-font"]),"text-size":new Ci(Sr.layout_symbol["text-size"]),"text-max-width":new Ci(Sr.layout_symbol["text-max-width"]),"text-line-height":new ui(Sr.layout_symbol["text-line-height"]),"text-letter-spacing":new Ci(Sr.layout_symbol["text-letter-spacing"]),"text-justify":new Ci(Sr.layout_symbol["text-justify"]),"text-radial-offset":new Ci(Sr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ui(Sr.layout_symbol["text-variable-anchor"]),"text-anchor":new Ci(Sr.layout_symbol["text-anchor"]),"text-max-angle":new ui(Sr.layout_symbol["text-max-angle"]),"text-writing-mode":new ui(Sr.layout_symbol["text-writing-mode"]),"text-rotate":new Ci(Sr.layout_symbol["text-rotate"]),"text-padding":new ui(Sr.layout_symbol["text-padding"]),"text-keep-upright":new ui(Sr.layout_symbol["text-keep-upright"]),"text-transform":new Ci(Sr.layout_symbol["text-transform"]),"text-offset":new Ci(Sr.layout_symbol["text-offset"]),"text-allow-overlap":new ui(Sr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ui(Sr.layout_symbol["text-ignore-placement"]),"text-optional":new ui(Sr.layout_symbol["text-optional"])}),z8=new wa({"icon-opacity":new Ci(Sr.paint_symbol["icon-opacity"]),"icon-color":new Ci(Sr.paint_symbol["icon-color"]),"icon-halo-color":new Ci(Sr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ci(Sr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ci(Sr.paint_symbol["icon-halo-blur"]),"icon-translate":new ui(Sr.paint_symbol["icon-translate"]),"icon-translate-anchor":new ui(Sr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ci(Sr.paint_symbol["text-opacity"]),"text-color":new Ci(Sr.paint_symbol["text-color"],{runtimeType:On,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new Ci(Sr.paint_symbol["text-halo-color"]),"text-halo-width":new Ci(Sr.paint_symbol["text-halo-width"]),"text-halo-blur":new Ci(Sr.paint_symbol["text-halo-blur"]),"text-translate":new ui(Sr.paint_symbol["text-translate"]),"text-translate-anchor":new ui(Sr.paint_symbol["text-translate-anchor"])}),O1={paint:z8,layout:k8},Xd=function(_){this.type=_.property.overrides?_.property.overrides.runtimeType:Gr,this.defaultValue=_};Xd.prototype.evaluate=function(_){if(_.formattedSection){var Y=this.defaultValue.property.overrides;if(Y&&Y.hasOverride(_.formattedSection))return Y.getOverride(_.formattedSection)}return _.feature&&_.featureState?this.defaultValue.evaluate(_.feature,_.featureState):this.defaultValue.property.specification.default},Xd.prototype.eachChild=function(_){if(!this.defaultValue.isConstant()){var Y=this.defaultValue.value;_(Y._styleExpression.expression)}},Xd.prototype.outputDefined=function(){return!1},Xd.prototype.serialize=function(){return null},Vt("FormatSectionOverride",Xd,{omit:["defaultValue"]});var F8=function(R){function _(Y){R.call(this,Y,O1)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.recalculate=function(at,pt){if(R.prototype.recalculate.call(this,at,pt),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var wt=this.layout.get("text-writing-mode");if(wt){for(var Dt=[],qt=0,pe=wt;qt<pe.length;qt+=1){var Se=pe[qt];Dt.indexOf(Se)<0&&Dt.push(Se)}this.layout._values["text-writing-mode"]=Dt}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},_.prototype.getValueAndResolveTokens=function(at,pt,wt,Dt){var qt=this.layout.get(at).evaluate(pt,{},wt,Dt),pe=this._unevaluatedLayout._values[at];return!pe.isDataDriven()&&!ff(pe.value)&&qt?_8(pt.properties,qt):qt},_.prototype.createBucket=function(at){return new Ia(at)},_.prototype.queryRadius=function(){return 0},_.prototype.queryIntersectsFeature=function(){return!1},_.prototype._setPaintOverrides=function(){for(var at=0,pt=O1.paint.overridableProperties;at<pt.length;at+=1){var wt=pt[at];if(_.hasPaintOverride(this.layout,wt)){var Dt=this.paint.get(wt),qt=new Xd(Dt),pe=new Al(qt,Dt.property.specification),Se=null;Dt.value.kind==="constant"||Dt.value.kind==="source"?Se=new fo("source",pe):Se=new Vs("composite",pe,Dt.value.zoomStops,Dt.value._interpolationType),this.paint._values[wt]=new _a(Dt.property,Se,Dt.parameters)}}},_.prototype._handleOverridablePaintPropertyUpdate=function(at,pt,wt){return!this.layout||pt.isDataDriven()||wt.isDataDriven()?!1:_.hasPaintOverride(this.layout,at)},_.hasPaintOverride=function(at,pt){var wt=at.get("text-field"),Dt=O1.paint.properties[pt],qt=!1,pe=function(Ge){for(var ar=0,rr=Ge;ar<rr.length;ar+=1){var br=rr[ar];if(Dt.overrides&&Dt.overrides.hasOverride(br)){qt=!0;return}}};if(wt.value.kind==="constant"&&wt.value.value instanceof mo)pe(wt.value.value.sections);else if(wt.value.kind==="source"){var Se=function(Ge){if(!qt)if(Ge instanceof to&&Qa(Ge.value)===si){var ar=Ge.value;pe(ar.sections)}else Ge instanceof Eo?pe(Ge.sections):Ge.eachChild(Se)},De=wt.value;De._styleExpression&&Se(De._styleExpression.expression)}return qt},_}(io),O8=new wa({"background-color":new ui(Sr.paint_background["background-color"]),"background-pattern":new ls(Sr.paint_background["background-pattern"]),"background-opacity":new ui(Sr.paint_background["background-opacity"])}),B8={paint:O8},N8=function(R){function _(Y){R.call(this,Y,B8)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_}(io),U8=new wa({"raster-opacity":new ui(Sr.paint_raster["raster-opacity"]),"raster-hue-rotate":new ui(Sr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ui(Sr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ui(Sr.paint_raster["raster-brightness-max"]),"raster-saturation":new ui(Sr.paint_raster["raster-saturation"]),"raster-contrast":new ui(Sr.paint_raster["raster-contrast"]),"raster-resampling":new ui(Sr.paint_raster["raster-resampling"]),"raster-fade-duration":new ui(Sr.paint_raster["raster-fade-duration"])}),V8={paint:U8},H8=function(R){function _(Y){R.call(this,Y,V8)}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_}(io);function G8(R){var _=[],Y=R.id;return Y===void 0&&_.push({message:"layers."+Y+': missing required property "id"'}),R.render===void 0&&_.push({message:"layers."+Y+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&_.push({message:"layers."+Y+': property "renderingMode" must be either "2d" or "3d"'}),_}var W8=function(R){function _(Y){R.call(this,Y,{}),this.implementation=Y}return R&&(_.__proto__=R),_.prototype=Object.create(R&&R.prototype),_.prototype.constructor=_,_.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},_.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},_.prototype.recalculate=function(){},_.prototype.updateTransitions=function(){},_.prototype.hasTransition=function(){},_.prototype.serialize=function(){},_.prototype.onAdd=function(at){this.implementation.onAdd&&this.implementation.onAdd(at,at.painter.context.gl)},_.prototype.onRemove=function(at){this.implementation.onRemove&&this.implementation.onRemove(at,at.painter.context.gl)},_}(io),Y8={circle:dS,heatmap:mS,hillshade:wS,fill:XS,"fill-extrusion":dM,line:IM,symbol:F8,background:N8,raster:H8};function j8(R){return R.type==="custom"?new W8(R):new Y8[R.type](R)}var Jw=o.HTMLImageElement,Qw=o.HTMLCanvasElement,$w=o.HTMLVideoElement,qw=o.ImageData,jg=o.ImageBitmap,Qv=function(_,Y,at,pt){this.context=_,this.format=at,this.texture=_.gl.createTexture(),this.update(Y,pt)};Qv.prototype.update=function(_,Y,at){var pt=_.width,wt=_.height,Dt=(!this.size||this.size[0]!==pt||this.size[1]!==wt)&&!at,qt=this,pe=qt.context,Se=pe.gl;if(this.useMipmap=!!(Y&&Y.useMipmap),Se.bindTexture(Se.TEXTURE_2D,this.texture),pe.pixelStoreUnpackFlipY.set(!1),pe.pixelStoreUnpack.set(1),pe.pixelStoreUnpackPremultiplyAlpha.set(this.format===Se.RGBA&&(!Y||Y.premultiply!==!1)),Dt)this.size=[pt,wt],_ instanceof Jw||_ instanceof Qw||_ instanceof $w||_ instanceof qw||jg&&_ instanceof jg?Se.texImage2D(Se.TEXTURE_2D,0,this.format,this.format,Se.UNSIGNED_BYTE,_):Se.texImage2D(Se.TEXTURE_2D,0,this.format,pt,wt,0,this.format,Se.UNSIGNED_BYTE,_.data);else{var De=at||{x:0,y:0},Ge=De.x,ar=De.y;_ instanceof Jw||_ instanceof Qw||_ instanceof $w||_ instanceof qw||jg&&_ instanceof jg?Se.texSubImage2D(Se.TEXTURE_2D,0,Ge,ar,Se.RGBA,Se.UNSIGNED_BYTE,_):Se.texSubImage2D(Se.TEXTURE_2D,0,Ge,ar,pt,wt,Se.RGBA,Se.UNSIGNED_BYTE,_.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Se.generateMipmap(Se.TEXTURE_2D)},Qv.prototype.bind=function(_,Y,at){var pt=this,wt=pt.context,Dt=wt.gl;Dt.bindTexture(Dt.TEXTURE_2D,this.texture),at===Dt.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(at=Dt.LINEAR),_!==this.filter&&(Dt.texParameteri(Dt.TEXTURE_2D,Dt.TEXTURE_MAG_FILTER,_),Dt.texParameteri(Dt.TEXTURE_2D,Dt.TEXTURE_MIN_FILTER,at||_),this.filter=_),Y!==this.wrap&&(Dt.texParameteri(Dt.TEXTURE_2D,Dt.TEXTURE_WRAP_S,Y),Dt.texParameteri(Dt.TEXTURE_2D,Dt.TEXTURE_WRAP_T,Y),this.wrap=Y)},Qv.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Qv.prototype.destroy=function(){var _=this.context,Y=_.gl;Y.deleteTexture(this.texture),this.texture=null};var B1=function(_){var Y=this;this._callback=_,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){Y._triggered=!1,Y._callback()})};B1.prototype.trigger=function(){var _=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){_._triggered=!1,_._callback()},0))},B1.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Zd=function(_,Y,at){this.target=_,this.parent=Y,this.mapId=at,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},C(["receive","process"],this),this.invoker=new B1(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=J()?_:o};Zd.prototype.send=function(_,Y,at,pt,wt){var Dt=this;wt===void 0&&(wt=!1);var qt=Math.round(Math.random()*1e18).toString(36).substring(0,10);at&&(this.callbacks[qt]=at);var pe=ft(this.globalScope)?void 0:[];return this.target.postMessage({id:qt,type:_,hasCallback:!!at,targetMapId:pt,mustQueue:wt,sourceMapId:this.mapId,data:Ie(Y,pe)},pe),{cancel:function(){at&&delete Dt.callbacks[qt],Dt.target.postMessage({id:qt,type:"<cancel>",targetMapId:pt,sourceMapId:Dt.mapId})}}},Zd.prototype.receive=function(_){var Y=_.data,at=Y.id;if(at&&!(Y.targetMapId&&this.mapId!==Y.targetMapId))if(Y.type==="<cancel>"){delete this.tasks[at];var pt=this.cancelCallbacks[at];delete this.cancelCallbacks[at],pt&&pt()}else J()||Y.mustQueue?(this.tasks[at]=Y,this.taskQueue.push(at),this.invoker.trigger()):this.processTask(at,Y)},Zd.prototype.process=function(){if(this.taskQueue.length){var _=this.taskQueue.shift(),Y=this.tasks[_];delete this.tasks[_],this.taskQueue.length&&this.invoker.trigger(),Y&&this.processTask(_,Y)}},Zd.prototype.processTask=function(_,Y){var at=this;if(Y.type==="<response>"){var pt=this.callbacks[_];delete this.callbacks[_],pt&&(Y.error?pt(Ae(Y.error)):pt(null,Ae(Y.data)))}else{var wt=!1,Dt=ft(this.globalScope)?void 0:[],qt=Y.hasCallback?function(ar,rr){wt=!0,delete at.cancelCallbacks[_],at.target.postMessage({id:_,type:"<response>",sourceMapId:at.mapId,error:ar?Ie(ar):null,data:Ie(rr,Dt)},Dt)}:function(ar){wt=!0},pe=null,Se=Ae(Y.data);if(this.parent[Y.type])pe=this.parent[Y.type](Y.sourceMapId,Se,qt);else if(this.parent.getWorkerSource){var De=Y.type.split("."),Ge=this.parent.getWorkerSource(Y.sourceMapId,De[0],Se.source);pe=Ge[De[1]](Se,qt)}else qt(new Error("Could not find function "+Y.type));!wt&&pe&&pe.cancel&&(this.cancelCallbacks[_]=pe.cancel)}},Zd.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function X8(R,_,Y){_=Math.pow(2,Y)-_-1;var at=t2(R*256,_*256,Y),pt=t2((R+1)*256,(_+1)*256,Y);return at[0]+","+at[1]+","+pt[0]+","+pt[1]}function t2(R,_,Y){var at=2*Math.PI*6378137/256/Math.pow(2,Y),pt=R*at-2*Math.PI*6378137/2,wt=_*at-2*Math.PI*6378137/2;return[pt,wt]}var Do=function(_,Y){_&&(Y?this.setSouthWest(_).setNorthEast(Y):_.length===4?this.setSouthWest([_[0],_[1]]).setNorthEast([_[2],_[3]]):this.setSouthWest(_[0]).setNorthEast(_[1]))};Do.prototype.setNorthEast=function(_){return this._ne=_ instanceof Xa?new Xa(_.lng,_.lat):Xa.convert(_),this},Do.prototype.setSouthWest=function(_){return this._sw=_ instanceof Xa?new Xa(_.lng,_.lat):Xa.convert(_),this},Do.prototype.extend=function(_){var Y=this._sw,at=this._ne,pt,wt;if(_ instanceof Xa)pt=_,wt=_;else if(_ instanceof Do){if(pt=_._sw,wt=_._ne,!pt||!wt)return this}else{if(Array.isArray(_))if(_.length===4||_.every(Array.isArray)){var Dt=_;return this.extend(Do.convert(Dt))}else{var qt=_;return this.extend(Xa.convert(qt))}return this}return!Y&&!at?(this._sw=new Xa(pt.lng,pt.lat),this._ne=new Xa(wt.lng,wt.lat)):(Y.lng=Math.min(pt.lng,Y.lng),Y.lat=Math.min(pt.lat,Y.lat),at.lng=Math.max(wt.lng,at.lng),at.lat=Math.max(wt.lat,at.lat)),this},Do.prototype.getCenter=function(){return new Xa((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Do.prototype.getSouthWest=function(){return this._sw},Do.prototype.getNorthEast=function(){return this._ne},Do.prototype.getNorthWest=function(){return new Xa(this.getWest(),this.getNorth())},Do.prototype.getSouthEast=function(){return new Xa(this.getEast(),this.getSouth())},Do.prototype.getWest=function(){return this._sw.lng},Do.prototype.getSouth=function(){return this._sw.lat},Do.prototype.getEast=function(){return this._ne.lng},Do.prototype.getNorth=function(){return this._ne.lat},Do.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Do.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Do.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Do.prototype.contains=function(_){var Y=Xa.convert(_),at=Y.lng,pt=Y.lat,wt=this._sw.lat<=pt&&pt<=this._ne.lat,Dt=this._sw.lng<=at&&at<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Dt=this._sw.lng>=at&&at>=this._ne.lng),wt&&Dt},Do.convert=function(_){return!_||_ instanceof Do?_:new Do(_)};var e2=63710088e-1,Xa=function(_,Y){if(isNaN(_)||isNaN(Y))throw new Error("Invalid LngLat object: ("+_+", "+Y+")");if(this.lng=+_,this.lat=+Y,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Xa.prototype.wrap=function(){return new Xa(T(this.lng,-180,180),this.lat)},Xa.prototype.toArray=function(){return[this.lng,this.lat]},Xa.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Xa.prototype.distanceTo=function(_){var Y=Math.PI/180,at=this.lat*Y,pt=_.lat*Y,wt=Math.sin(at)*Math.sin(pt)+Math.cos(at)*Math.cos(pt)*Math.cos((_.lng-this.lng)*Y),Dt=e2*Math.acos(Math.min(wt,1));return Dt},Xa.prototype.toBounds=function(_){_===void 0&&(_=0);var Y=40075017,at=360*_/Y,pt=at/Math.cos(Math.PI/180*this.lat);return new Do(new Xa(this.lng-pt,this.lat-at),new Xa(this.lng+pt,this.lat+at))},Xa.convert=function(_){if(_ instanceof Xa)return _;if(Array.isArray(_)&&(_.length===2||_.length===3))return new Xa(Number(_[0]),Number(_[1]));if(!Array.isArray(_)&&typeof _=="object"&&_!==null)return new Xa(Number("lng"in _?_.lng:_.lon),Number(_.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var r2=2*Math.PI*e2;function n2(R){return r2*Math.cos(R*Math.PI/180)}function i2(R){return(180+R)/360}function a2(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function o2(R,_){return R/n2(_)}function Z8(R){return R*360-180}function N1(R){var _=180-R*360;return 360/Math.PI*Math.atan(Math.exp(_*Math.PI/180))-90}function K8(R,_){return R*n2(N1(_))}function J8(R){return 1/Math.cos(R*Math.PI/180)}var $v=function(_,Y,at){at===void 0&&(at=0),this.x=+_,this.y=+Y,this.z=+at};$v.fromLngLat=function(_,Y){Y===void 0&&(Y=0);var at=Xa.convert(_);return new $v(i2(at.lng),a2(at.lat),o2(Y,at.lat))},$v.prototype.toLngLat=function(){return new Xa(Z8(this.x),N1(this.y))},$v.prototype.toAltitude=function(){return K8(this.z,this.y)},$v.prototype.meterInMercatorCoordinateUnits=function(){return 1/r2*J8(N1(this.y))};var qv=function(_,Y,at){this.z=_,this.x=Y,this.y=at,this.key=v0(0,_,_,Y,at)};qv.prototype.equals=function(_){return this.z===_.z&&this.x===_.x&&this.y===_.y},qv.prototype.url=function(_,Y){var at=X8(this.x,this.y,this.z),pt=Q8(this.z,this.x,this.y);return _[(this.x+this.y)%_.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(Y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pt).replace("{bbox-epsg-3857}",at)},qv.prototype.getTilePoint=function(_){var Y=Math.pow(2,this.z);return new r((_.x*Y-this.x)*Si,(_.y*Y-this.y)*Si)},qv.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var s2=function(_,Y){this.wrap=_,this.canonical=Y,this.key=v0(_,Y.z,Y.z,Y.x,Y.y)},Ro=function(_,Y,at,pt,wt){this.overscaledZ=_,this.wrap=Y,this.canonical=new qv(at,+pt,+wt),this.key=v0(Y,_,at,pt,wt)};Ro.prototype.equals=function(_){return this.overscaledZ===_.overscaledZ&&this.wrap===_.wrap&&this.canonical.equals(_.canonical)},Ro.prototype.scaledTo=function(_){var Y=this.canonical.z-_;return _>this.canonical.z?new Ro(_,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ro(_,this.wrap,_,this.canonical.x>>Y,this.canonical.y>>Y)},Ro.prototype.calculateScaledKey=function(_,Y){var at=this.canonical.z-_;return _>this.canonical.z?v0(this.wrap*+Y,_,this.canonical.z,this.canonical.x,this.canonical.y):v0(this.wrap*+Y,_,_,this.canonical.x>>at,this.canonical.y>>at)},Ro.prototype.isChildOf=function(_){if(_.wrap!==this.wrap)return!1;var Y=this.canonical.z-_.canonical.z;return _.overscaledZ===0||_.overscaledZ<this.overscaledZ&&_.canonical.x===this.canonical.x>>Y&&_.canonical.y===this.canonical.y>>Y},Ro.prototype.children=function(_){if(this.overscaledZ>=_)return[new Ro(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var Y=this.canonical.z+1,at=this.canonical.x*2,pt=this.canonical.y*2;return[new Ro(Y,this.wrap,Y,at,pt),new Ro(Y,this.wrap,Y,at+1,pt),new Ro(Y,this.wrap,Y,at,pt+1),new Ro(Y,this.wrap,Y,at+1,pt+1)]},Ro.prototype.isLessThan=function(_){return this.wrap<_.wrap?!0:this.wrap>_.wrap?!1:this.overscaledZ<_.overscaledZ?!0:this.overscaledZ>_.overscaledZ?!1:this.canonical.x<_.canonical.x?!0:this.canonical.x>_.canonical.x?!1:this.canonical.y<_.canonical.y},Ro.prototype.wrapped=function(){return new Ro(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ro.prototype.unwrapTo=function(_){return new Ro(this.overscaledZ,_,this.canonical.z,this.canonical.x,this.canonical.y)},Ro.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ro.prototype.toUnwrapped=function(){return new s2(this.wrap,this.canonical)},Ro.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ro.prototype.getTilePoint=function(_){return this.canonical.getTilePoint(new $v(_.x-this.wrap,_.y))};function v0(R,_,Y,at,pt){R*=2,R<0&&(R=R*-1-1);var wt=1<<Y;return(wt*wt*R+wt*pt+at).toString(36)+Y.toString(36)+_.toString(36)}function Q8(R,_,Y){for(var at="",pt,wt=R;wt>0;wt--)pt=1<<wt-1,at+=(_&pt?1:0)+(Y&pt?2:0);return at}Vt("CanonicalTileID",qv),Vt("OverscaledTileID",Ro,{omit:["posMatrix"]});var Gc=function(_,Y,at){if(this.uid=_,Y.height!==Y.width)throw new RangeError("DEM tiles must be square");if(at&&at!=="mapbox"&&at!=="terrarium")return N('"'+at+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=Y.height;var pt=this.dim=Y.height-2;this.data=new Uint32Array(Y.data.buffer),this.encoding=at||"mapbox";for(var wt=0;wt<pt;wt++)this.data[this._idx(-1,wt)]=this.data[this._idx(0,wt)],this.data[this._idx(pt,wt)]=this.data[this._idx(pt-1,wt)],this.data[this._idx(wt,-1)]=this.data[this._idx(wt,0)],this.data[this._idx(wt,pt)]=this.data[this._idx(wt,pt-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(pt,-1)]=this.data[this._idx(pt-1,0)],this.data[this._idx(-1,pt)]=this.data[this._idx(0,pt-1)],this.data[this._idx(pt,pt)]=this.data[this._idx(pt-1,pt-1)]};Gc.prototype.get=function(_,Y){var at=new Uint8Array(this.data.buffer),pt=this._idx(_,Y)*4,wt=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return wt(at[pt],at[pt+1],at[pt+2])},Gc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Gc.prototype._idx=function(_,Y){if(_<-1||_>=this.dim+1||Y<-1||Y>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(Y+1)*this.stride+(_+1)},Gc.prototype._unpackMapbox=function(_,Y,at){return(_*256*256+Y*256+at)/10-1e4},Gc.prototype._unpackTerrarium=function(_,Y,at){return _*256+Y+at/256-32768},Gc.prototype.getPixels=function(){return new Xs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Gc.prototype.backfillBorder=function(_,Y,at){if(this.dim!==_.dim)throw new Error("dem dimension mismatch");var pt=Y*this.dim,wt=Y*this.dim+this.dim,Dt=at*this.dim,qt=at*this.dim+this.dim;switch(Y){case-1:pt=wt-1;break;case 1:wt=pt+1;break}switch(at){case-1:Dt=qt-1;break;case 1:qt=Dt+1;break}for(var pe=-Y*this.dim,Se=-at*this.dim,De=Dt;De<qt;De++)for(var Ge=pt;Ge<wt;Ge++)this.data[this._idx(Ge,De)]=_.data[this._idx(Ge+pe,De+Se)]},Vt("DEMData",Gc);function $8(R,_){var Y={};if(!_)return Y;for(var at=function(){var Dt=wt[pt],qt=Dt.layerIds.map(function(Ge){return _.getLayer(Ge)}).filter(Boolean);if(qt.length!==0){Dt.layers=qt,Dt.stateDependentLayerIds&&(Dt.stateDependentLayers=Dt.stateDependentLayerIds.map(function(Ge){return qt.filter(function(ar){return ar.id===Ge})[0]}));for(var pe=0,Se=qt;pe<Se.length;pe+=1){var De=Se[pe];Y[De.id]=Dt}}},pt=0,wt=R;pt<wt.length;pt+=1)at();return Y}var Xg=function(_){this._stringToNumber={},this._numberToString=[];for(var Y=0;Y<_.length;Y++){var at=_[Y];this._stringToNumber[at]=Y,this._numberToString[Y]=at}};Xg.prototype.encode=function(_){return this._stringToNumber[_]},Xg.prototype.decode=function(_){return this._numberToString[_]};var Zg=function(_,Y,at,pt,wt){this.type="Feature",this._vectorTileFeature=_,_._z=Y,_._x=at,_._y=pt,this.properties=_.properties,this.id=wt},U1={geometry:{configurable:!0}};U1.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},U1.geometry.set=function(R){this._geometry=R},Zg.prototype.toJSON=function(){var _={geometry:this.geometry};for(var Y in this)Y==="_geometry"||Y==="_vectorTileFeature"||(_[Y]=this[Y]);return _},Object.defineProperties(Zg.prototype,U1);var Kd=function(){this.state={},this.stateChanges={},this.deletedStates={}};Kd.prototype.updateState=function(_,Y,at){var pt=String(Y);if(this.stateChanges[_]=this.stateChanges[_]||{},this.stateChanges[_][pt]=this.stateChanges[_][pt]||{},w(this.stateChanges[_][pt],at),this.deletedStates[_]===null){this.deletedStates[_]={};for(var wt in this.state[_])wt!==pt&&(this.deletedStates[_][wt]=null)}else{var Dt=this.deletedStates[_]&&this.deletedStates[_][pt]===null;if(Dt){this.deletedStates[_][pt]={};for(var qt in this.state[_][pt])at[qt]||(this.deletedStates[_][pt][qt]=null)}else for(var pe in at){var Se=this.deletedStates[_]&&this.deletedStates[_][pt]&&this.deletedStates[_][pt][pe]===null;Se&&delete this.deletedStates[_][pt][pe]}}},Kd.prototype.removeFeatureState=function(_,Y,at){var pt=this.deletedStates[_]===null;if(!pt){var wt=String(Y);if(this.deletedStates[_]=this.deletedStates[_]||{},at&&Y!==void 0)this.deletedStates[_][wt]!==null&&(this.deletedStates[_][wt]=this.deletedStates[_][wt]||{},this.deletedStates[_][wt][at]=null);else if(Y!==void 0){var Dt=this.stateChanges[_]&&this.stateChanges[_][wt];if(Dt){this.deletedStates[_][wt]={};for(at in this.stateChanges[_][wt])this.deletedStates[_][wt][at]=null}else this.deletedStates[_][wt]=null}else this.deletedStates[_]=null}},Kd.prototype.getState=function(_,Y){var at=String(Y),pt=this.state[_]||{},wt=this.stateChanges[_]||{},Dt=w({},pt[at],wt[at]);if(this.deletedStates[_]===null)return{};if(this.deletedStates[_]){var qt=this.deletedStates[_][Y];if(qt===null)return{};for(var pe in qt)delete Dt[pe]}return Dt},Kd.prototype.initializeTileState=function(_,Y){_.setFeatureState(this.state,Y)},Kd.prototype.coalesceChanges=function(_,Y){var at={};for(var pt in this.stateChanges){this.state[pt]=this.state[pt]||{};var wt={};for(var Dt in this.stateChanges[pt])this.state[pt][Dt]||(this.state[pt][Dt]={}),w(this.state[pt][Dt],this.stateChanges[pt][Dt]),wt[Dt]=this.state[pt][Dt];at[pt]=wt}for(var qt in this.deletedStates){this.state[qt]=this.state[qt]||{};var pe={};if(this.deletedStates[qt]===null)for(var Se in this.state[qt])pe[Se]={},this.state[qt][Se]={};else for(var De in this.deletedStates[qt]){var Ge=this.deletedStates[qt][De]===null;if(Ge)this.state[qt][De]={};else for(var ar=0,rr=Object.keys(this.deletedStates[qt][De]);ar<rr.length;ar+=1){var br=rr[ar];delete this.state[qt][De][br]}pe[De]=this.state[qt][De]}at[qt]=at[qt]||{},w(at[qt],pe)}if(this.stateChanges={},this.deletedStates={},Object.keys(at).length!==0)for(var Ur in _){var fn=_[Ur];fn.setFeatureState(at,Y)}};var Wc=function(_,Y){this.tileID=_,this.x=_.canonical.x,this.y=_.canonical.y,this.z=_.canonical.z,this.grid=new Fi(Si,16,0),this.grid3D=new Fi(Si,16,0),this.featureIndexArray=new Pg,this.promoteId=Y};Wc.prototype.insert=function(_,Y,at,pt,wt,Dt){var qt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(at,pt,wt);for(var pe=Dt?this.grid3D:this.grid,Se=0;Se<Y.length;Se++){for(var De=Y[Se],Ge=[1/0,1/0,-1/0,-1/0],ar=0;ar<De.length;ar++){var rr=De[ar];Ge[0]=Math.min(Ge[0],rr.x),Ge[1]=Math.min(Ge[1],rr.y),Ge[2]=Math.max(Ge[2],rr.x),Ge[3]=Math.max(Ge[3],rr.y)}Ge[0]<Si&&Ge[1]<Si&&Ge[2]>=0&&Ge[3]>=0&&pe.insert(qt,Ge[0],Ge[1],Ge[2],Ge[3])}},Wc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Od.VectorTile(new Og(this.rawTileData)).layers,this.sourceLayerCoder=new Xg(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Wc.prototype.query=function(_,Y,at,pt){var wt=this;this.loadVTLayers();for(var Dt=_.params||{},qt=Si/_.tileSize/_.scale,pe=El(Dt.filter),Se=_.queryGeometry,De=_.queryPadding*qt,Ge=u2(Se),ar=this.grid.query(Ge.minX-De,Ge.minY-De,Ge.maxX+De,Ge.maxY+De),rr=u2(_.cameraQueryGeometry),br=this.grid3D.query(rr.minX-De,rr.minY-De,rr.maxX+De,rr.maxY+De,function(jn,ai,ei,wi){return Ou(_.cameraQueryGeometry,jn-De,ai-De,ei+De,wi+De)}),Ur=0,fn=br;Ur<fn.length;Ur+=1){var tn=fn[Ur];ar.push(tn)}ar.sort(q8);for(var Mn={},xn,Sn=function(jn){var ai=ar[jn];if(ai!==xn){xn=ai;var ei=wt.featureIndexArray.get(ai),wi=null;wt.loadMatchingFeature(Mn,ei.bucketIndex,ei.sourceLayerIndex,ei.featureIndex,pe,Dt.layers,Dt.availableImages,Y,at,pt,function(pi,xi,Ni){return wi||(wi=ua(pi)),xi.queryIntersectsFeature(Se,pi,Ni,wi,wt.z,_.transform,qt,_.pixelPosMatrix)})}},Fn=0;Fn<ar.length;Fn++)Sn(Fn);return Mn},Wc.prototype.loadMatchingFeature=function(_,Y,at,pt,wt,Dt,qt,pe,Se,De,Ge){var ar=this.bucketLayerIDs[Y];if(!(Dt&&!F(Dt,ar))){var rr=this.sourceLayerCoder.decode(at),br=this.vtLayers[rr],Ur=br.feature(pt);if(wt.needGeometry){var fn=za(Ur,!0);if(!wt.filter(new Ai(this.tileID.overscaledZ),fn,this.tileID.canonical))return}else if(!wt.filter(new Ai(this.tileID.overscaledZ),Ur))return;for(var tn=this.getId(Ur,rr),Mn=0;Mn<ar.length;Mn++){var xn=ar[Mn];if(!(Dt&&Dt.indexOf(xn)<0)){var Sn=pe[xn];if(Sn){var Fn={};tn!==void 0&&De&&(Fn=De.getState(Sn.sourceLayer||"_geojsonTileLayer",tn));var jn=w({},Se[xn]);jn.paint=l2(jn.paint,Sn.paint,Ur,Fn,qt),jn.layout=l2(jn.layout,Sn.layout,Ur,Fn,qt);var ai=!Ge||Ge(Ur,Sn,Fn);if(ai){var ei=new Zg(Ur,this.z,this.x,this.y,tn);ei.layer=jn;var wi=_[xn];wi===void 0&&(wi=_[xn]=[]),wi.push({featureIndex:pt,feature:ei,intersectionZ:ai})}}}}}},Wc.prototype.lookupSymbolFeatures=function(_,Y,at,pt,wt,Dt,qt,pe){var Se={};this.loadVTLayers();for(var De=El(wt),Ge=0,ar=_;Ge<ar.length;Ge+=1){var rr=ar[Ge];this.loadMatchingFeature(Se,at,pt,rr,De,Dt,qt,pe,Y)}return Se},Wc.prototype.hasLayer=function(_){for(var Y=0,at=this.bucketLayerIDs;Y<at.length;Y+=1)for(var pt=at[Y],wt=0,Dt=pt;wt<Dt.length;wt+=1){var qt=Dt[wt];if(_===qt)return!0}return!1},Wc.prototype.getId=function(_,Y){var at=_.id;if(this.promoteId){var pt=typeof this.promoteId=="string"?this.promoteId:this.promoteId[Y];at=_.properties[pt],typeof at=="boolean"&&(at=Number(at))}return at},Vt("FeatureIndex",Wc,{omit:["rawTileData","sourceLayerCoder"]});function l2(R,_,Y,at,pt){return z(R,function(wt,Dt){var qt=_ instanceof Vo?_.get(Dt):null;return qt&&qt.evaluate?qt.evaluate(Y,at,pt):qt})}function u2(R){for(var _=1/0,Y=1/0,at=-1/0,pt=-1/0,wt=0,Dt=R;wt<Dt.length;wt+=1){var qt=Dt[wt];_=Math.min(_,qt.x),Y=Math.min(Y,qt.y),at=Math.max(at,qt.x),pt=Math.max(pt,qt.y)}return{minX:_,minY:Y,maxX:at,maxY:pt}}function q8(R,_){return _-R}var tE=3e4,Zo=function(_,Y){this.tileID=_,this.uid=x(),this.uses=0,this.tileSize=Y,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Zo.prototype.registerFadeDuration=function(_){var Y=_+this.timeAdded;Y<lt.now()||this.fadeEndTime&&Y<this.fadeEndTime||(this.fadeEndTime=Y)},Zo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Zo.prototype.loadVectorData=function(_,Y,at){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!_){this.collisionBoxArray=new Qp;return}_.featureIndex&&(this.latestFeatureIndex=_.featureIndex,_.rawTileData?(this.latestRawTileData=_.rawTileData,this.latestFeatureIndex.rawTileData=_.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=_.collisionBoxArray,this.buckets=$8(_.buckets,Y.style),this.hasSymbolBuckets=!1;for(var pt in this.buckets){var wt=this.buckets[pt];if(wt instanceof Ia)if(this.hasSymbolBuckets=!0,at)wt.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Dt in this.buckets){var qt=this.buckets[Dt];if(qt instanceof Ia&&qt.hasRTLText){this.hasRTLText=!0,Ui();break}}this.queryPadding=0;for(var pe in this.buckets){var Se=this.buckets[pe];this.queryPadding=Math.max(this.queryPadding,Y.style.getLayer(pe).queryRadius(Se))}_.imageAtlas&&(this.imageAtlas=_.imageAtlas),_.glyphAtlasImage&&(this.glyphAtlasImage=_.glyphAtlasImage)},Zo.prototype.unloadVectorData=function(){for(var _ in this.buckets)this.buckets[_].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Zo.prototype.getBucket=function(_){return this.buckets[_.id]},Zo.prototype.upload=function(_){for(var Y in this.buckets){var at=this.buckets[Y];at.uploadPending()&&at.upload(_)}var pt=_.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Qv(_,this.imageAtlas.image,pt.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Qv(_,this.glyphAtlasImage,pt.ALPHA),this.glyphAtlasImage=null)},Zo.prototype.prepare=function(_){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(_,this.imageAtlasTexture)},Zo.prototype.queryRenderedFeatures=function(_,Y,at,pt,wt,Dt,qt,pe,Se,De){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:pt,cameraQueryGeometry:wt,scale:Dt,tileSize:this.tileSize,pixelPosMatrix:De,transform:pe,params:qt,queryPadding:this.queryPadding*Se},_,Y,at)},Zo.prototype.querySourceFeatures=function(_,Y){var at=this.latestFeatureIndex;if(!(!at||!at.rawTileData)){var pt=at.loadVTLayers(),wt=Y?Y.sourceLayer:"",Dt=pt._geojsonTileLayer||pt[wt];if(Dt)for(var qt=El(Y&&Y.filter),pe=this.tileID.canonical,Se=pe.z,De=pe.x,Ge=pe.y,ar={z:Se,x:De,y:Ge},rr=0;rr<Dt.length;rr++){var br=Dt.feature(rr);if(qt.needGeometry){var Ur=za(br,!0);if(!qt.filter(new Ai(this.tileID.overscaledZ),Ur,this.tileID.canonical))continue}else if(!qt.filter(new Ai(this.tileID.overscaledZ),br))continue;var fn=at.getId(br,wt),tn=new Zg(br,Se,De,Ge,fn);tn.tile=ar,_.push(tn)}}},Zo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Zo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Zo.prototype.setExpiryData=function(_){var Y=this.expirationTime;if(_.cacheControl){var at=et(_.cacheControl);at["max-age"]&&(this.expirationTime=Date.now()+at["max-age"]*1e3)}else _.expires&&(this.expirationTime=new Date(_.expires).getTime());if(this.expirationTime){var pt=Date.now(),wt=!1;if(this.expirationTime>pt)wt=!1;else if(!Y)wt=!0;else if(this.expirationTime<Y)wt=!0;else{var Dt=this.expirationTime-Y;Dt?this.expirationTime=pt+Math.max(Dt,tE):wt=!0}wt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Zo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Zo.prototype.setFeatureState=function(_,Y){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(_).length===0)){var at=this.latestFeatureIndex.loadVTLayers();for(var pt in this.buckets)if(Y.style.hasLayer(pt)){var wt=this.buckets[pt],Dt=wt.layers[0].sourceLayer||"_geojsonTileLayer",qt=at[Dt],pe=_[Dt];if(!(!qt||!pe||Object.keys(pe).length===0)){wt.update(pe,qt,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Se=Y&&Y.style&&Y.style.getLayer(pt);Se&&(this.queryPadding=Math.max(this.queryPadding,Se.queryRadius(wt)))}}}},Zo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Zo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<lt.now()},Zo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Zo.prototype.setHoldDuration=function(_){this.symbolFadeHoldUntil=lt.now()+_},Zo.prototype.setDependencies=function(_,Y){for(var at={},pt=0,wt=Y;pt<wt.length;pt+=1){var Dt=wt[pt];at[Dt]=!0}this.dependencies[_]=at},Zo.prototype.hasDependency=function(_,Y){for(var at=0,pt=_;at<pt.length;at+=1){var wt=pt[at],Dt=this.dependencies[wt];if(Dt)for(var qt=0,pe=Y;qt<pe.length;qt+=1){var Se=pe[qt];if(Dt[Se])return!0}}return!1};var eE=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Yh=o.performance,f2=function(_){this._marks={start:[_.url,"start"].join("#"),end:[_.url,"end"].join("#"),measure:_.url.toString()},Yh.mark(this._marks.start)};f2.prototype.finish=function(){Yh.mark(this._marks.end);var _=Yh.getEntriesByName(this._marks.measure);return _.length===0&&(Yh.measure(this._marks.measure,this._marks.start,this._marks.end),_=Yh.getEntriesByName(this._marks.measure),Yh.clearMarks(this._marks.start),Yh.clearMarks(this._marks.end),Yh.clearMeasures(this._marks.measure)),_},s.Actor=Zd,s.AlphaImage=Jv,s.CanonicalTileID=qv,s.CollisionBoxArray=Qp,s.Color=la,s.DEMData=Gc,s.DataConstantProperty=ui,s.DictionaryCoder=Xg,s.EXTENT=Si,s.ErrorEvent=Pe,s.EvaluationParameters=Ai,s.Event=Ye,s.Evented=Ze,s.FeatureIndex=Wc,s.FillBucket=wf,s.FillExtrusionBucket=Tf,s.ImageAtlas=u0,s.ImagePosition=Ng,s.LineBucket=Ds,s.LngLat=Xa,s.LngLatBounds=Do,s.MercatorCoordinate=$v,s.ONE_EM=ns,s.OverscaledTileID=Ro,s.Point=r,s.Point$1=r,s.Properties=wa,s.Protobuf=Og,s.RGBAImage=Xs,s.RequestManager=Et,s.RequestPerformance=f2,s.ResourceType=mr,s.SegmentVector=Po,s.SourceFeatureState=Kd,s.StructArrayLayout1ui2=Oh,s.StructArrayLayout2f1f2i16=mf,s.StructArrayLayout2i4=Bc,s.StructArrayLayout3ui6=xf,s.StructArrayLayout4i8=Xp,s.SymbolBucket=Ia,s.Texture=Qv,s.Tile=Zo,s.Transitionable=va,s.Uniform1f=Zr,s.Uniform1i=Fr,s.Uniform2f=Xr,s.Uniform3f=Wr,s.Uniform4f=Jr,s.UniformColor=dn,s.UniformMatrix4f=Vn,s.UnwrappedTileID=s2,s.ValidationError=Nr,s.WritingMode=Pl,s.ZoomHistory=Ue,s.add=kd,s.addDynamicAttributes=F1,s.asyncAll=h,s.bezier=c,s.bindAll=C,s.browser=lt,s.cacheEntryPossiblyAdded=Le,s.clamp=v,s.clearTileCache=vr,s.clipLine=Ww,s.clone=Dd,s.clone$1=U,s.clone$2=g1,s.collisionCircleLayout=zM,s.config=nt,s.create=Id,s.create$1=ds,s.create$2=Pd,s.createCommonjsModule=P,s.createExpression=Sl,s.createLayout=Ha,s.createStyleLayer=j8,s.cross=aS,s.deepEqual=n,s.dot=iS,s.dot$1=fS,s.ease=m,s.emitValidationErrors=Ri,s.endsWith=b,s.enforceCacheSizeLimit=Ke,s.evaluateSizeForFeature=Ow,s.evaluateSizeForZoom=Bw,s.evaluateVariableOffset=Xw,s.evented=Mi,s.extend=w,s.featureFilter=El,s.filterObject=k,s.fromRotation=Uh,s.getAnchorAlignment=R1,s.getAnchorJustification=z1,s.getArrayBuffer=Fe,s.getImage=Qt,s.getJSON=Oe,s.getRTLTextPluginStatus=ki,s.getReferrer=ye,s.getVideo=re,s.identity=Rd,s.invert=Vh,s.isChar=He,s.isMapboxURL=zt,s.keysDifference=p,s.makeRequest=_e,s.mapObject=z,s.mercatorXfromLng=i2,s.mercatorYfromLat=a2,s.mercatorZfromAltitude=o2,s.mul=p1,s.multiply=Hh,s.mvt=Od,s.nextPowerOfTwo=S,s.normalize=t0,s.number=ja,s.offscreenCanvasSupported=$e,s.ortho=d1,s.parseGlyphPBF=l8,s.pbf=Og,s.performSymbolLayout=E8,s.perspective=qp,s.pick=A,s.plugin=qn,s.polygonIntersectsPolygon=Hi,s.postMapLoadEvent=Zt,s.postTurnstileEvent=Gt,s.potpack=Pw,s.refProperties=eE,s.register=Vt,s.registerForPluginStateChange=ha,s.renderColorRamp=sw,s.rotate=Zv,s.rotateX=js,s.rotateZ=_d,s.scale=Ys,s.scale$1=uS,s.scale$2=m1,s.setCacheLimits=ge,s.setRTLTextPlugin=eo,s.sphericalToCartesian=X,s.sqrLen=vS,s.styleSpec=Sr,s.sub=sS,s.symbolSize=y8,s.transformMat3=oS,s.transformMat4=Dg,s.translate=ho,s.triggerPluginCompletionEvent=hi,s.uniqueId=x,s.validateCustomStyleLayer=G8,s.validateLight=Jn,s.validateStyle=_n,s.values=i,s.vectorTile=Od,s.version=M,s.warnOnce=N,s.webpSupported=ht,s.window=o,s.wrap=T}),D(["./shared"],function(s){function P(ye){var ue=typeof ye;if(ue==="number"||ue==="boolean"||ue==="string"||ye===void 0||ye===null)return JSON.stringify(ye);if(Array.isArray(ye)){for(var be="[",Ee=0,_e=ye;Ee<_e.length;Ee+=1){var Oe=_e[Ee];be+=P(Oe)+","}return be+"]"}for(var Fe=Object.keys(ye).sort(),Be="{",Je=0;Je<Fe.length;Je++)Be+=JSON.stringify(Fe[Je])+":"+P(ye[Fe[Je]])+",";return Be+"}"}function M(ye){for(var ue="",be=0,Ee=s.refProperties;be<Ee.length;be+=1){var _e=Ee[be];ue+="/"+P(ye[_e])}return ue}function d(ye,ue){for(var be={},Ee=0;Ee<ye.length;Ee++){var _e=ue&&ue[ye[Ee].id]||M(ye[Ee]);ue&&(ue[ye[Ee].id]=_e);var Oe=be[_e];Oe||(Oe=be[_e]=[]),Oe.push(ye[Ee])}var Fe=[];for(var Be in be)Fe.push(be[Be]);return Fe}var g=function(ue){this.keyCache={},ue&&this.replace(ue)};g.prototype.replace=function(ue){this._layerConfigs={},this._layers={},this.update(ue,[])},g.prototype.update=function(ue,be){for(var Ee=this,_e=0,Oe=ue;_e<Oe.length;_e+=1){var Fe=Oe[_e];this._layerConfigs[Fe.id]=Fe;var Be=this._layers[Fe.id]=s.createStyleLayer(Fe);Be._featureFilter=s.featureFilter(Be.filter),this.keyCache[Fe.id]&&delete this.keyCache[Fe.id]}for(var Je=0,hr=be;Je<hr.length;Je+=1){var cr=hr[Je];delete this.keyCache[cr],delete this._layerConfigs[cr],delete this._layers[cr]}this.familiesBySource={};for(var dr=d(s.values(this._layerConfigs),this.keyCache),fr=0,Lr=dr;fr<Lr.length;fr+=1){var xr=Lr[fr],Qt=xr.map(function(Ze){return Ee._layers[Ze.id]}),re=Qt[0];if(re.visibility!=="none"){var tr=re.source||"",er=this.familiesBySource[tr];er||(er=this.familiesBySource[tr]={});var Ye=re.sourceLayer||"_geojsonTileLayer",Pe=er[Ye];Pe||(Pe=er[Ye]=[]),Pe.push(Qt)}}};var r=1,e=function(ue){var be={},Ee=[];for(var _e in ue){var Oe=ue[_e],Fe=be[_e]={};for(var Be in Oe){var Je=Oe[+Be];if(!(!Je||Je.bitmap.width===0||Je.bitmap.height===0)){var hr={x:0,y:0,w:Je.bitmap.width+2*r,h:Je.bitmap.height+2*r};Ee.push(hr),Fe[Be]={rect:hr,metrics:Je.metrics}}}}var cr=s.potpack(Ee),dr=cr.w,fr=cr.h,Lr=new s.AlphaImage({width:dr||1,height:fr||1});for(var xr in ue){var Qt=ue[xr];for(var re in Qt){var tr=Qt[+re];if(!(!tr||tr.bitmap.width===0||tr.bitmap.height===0)){var er=be[xr][re].rect;s.AlphaImage.copy(tr.bitmap,Lr,{x:0,y:0},{x:er.x+r,y:er.y+r},tr.bitmap)}}}this.image=Lr,this.positions=be};s.register("GlyphAtlas",e);var o=function(ue){this.tileID=new s.OverscaledTileID(ue.tileID.overscaledZ,ue.tileID.wrap,ue.tileID.canonical.z,ue.tileID.canonical.x,ue.tileID.canonical.y),this.uid=ue.uid,this.zoom=ue.zoom,this.pixelRatio=ue.pixelRatio,this.tileSize=ue.tileSize,this.source=ue.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ue.showCollisionBoxes,this.collectResourceTiming=!!ue.collectResourceTiming,this.returnDependencies=!!ue.returnDependencies,this.promoteId=ue.promoteId};o.prototype.parse=function(ue,be,Ee,_e,Oe){var Fe=this;this.status="parsing",this.data=ue,this.collisionBoxArray=new s.CollisionBoxArray;var Be=new s.DictionaryCoder(Object.keys(ue.layers).sort()),Je=new s.FeatureIndex(this.tileID,this.promoteId);Je.bucketLayerIDs=[];var hr={},cr={featureIndex:Je,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ee},dr=be.familiesBySource[this.source];for(var fr in dr){var Lr=ue.layers[fr];if(Lr){Lr.version===1&&s.warnOnce('Vector tile source "'+this.source+'" layer "'+fr+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var xr=Be.encode(fr),Qt=[],re=0;re<Lr.length;re++){var tr=Lr.feature(re),er=Je.getId(tr,fr);Qt.push({feature:tr,id:er,index:re,sourceLayerIndex:xr})}for(var Ye=0,Pe=dr[fr];Ye<Pe.length;Ye+=1){var Ze=Pe[Ye],nr=Ze[0];if(!(nr.minzoom&&this.zoom<Math.floor(nr.minzoom))&&!(nr.maxzoom&&this.zoom>=nr.maxzoom)&&nr.visibility!=="none"){n(Ze,this.zoom,Ee);var Qe=hr[nr.id]=nr.createBucket({index:Je.bucketLayerIDs.length,layers:Ze,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:xr,sourceID:this.source});Qe.populate(Qt,cr,this.tileID.canonical),Je.bucketLayerIDs.push(Ze.map(function(gr){return gr.id}))}}}}var We,yr,Rr,Tr,vn=s.mapObject(cr.glyphDependencies,function(gr){return Object.keys(gr).map(Number)});Object.keys(vn).length?_e.send("getGlyphs",{uid:this.uid,stacks:vn},function(gr,Pr){We||(We=gr,yr=Pr,nn.call(Fe))}):yr={};var Or=Object.keys(cr.iconDependencies);Or.length?_e.send("getImages",{icons:Or,source:this.source,tileID:this.tileID,type:"icons"},function(gr,Pr){We||(We=gr,Rr=Pr,nn.call(Fe))}):Rr={};var En=Object.keys(cr.patternDependencies);En.length?_e.send("getImages",{icons:En,source:this.source,tileID:this.tileID,type:"patterns"},function(gr,Pr){We||(We=gr,Tr=Pr,nn.call(Fe))}):Tr={},nn.call(this);function nn(){if(We)return Oe(We);if(yr&&Rr&&Tr){var gr=new e(yr),Pr=new s.ImageAtlas(Rr,Tr);for(var jr in hr){var _r=hr[jr];_r instanceof s.SymbolBucket?(n(_r.layers,this.zoom,Ee),s.performSymbolLayout(_r,yr,gr.positions,Rr,Pr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):_r.hasPattern&&(_r instanceof s.LineBucket||_r instanceof s.FillBucket||_r instanceof s.FillExtrusionBucket)&&(n(_r.layers,this.zoom,Ee),_r.addFeatures(cr,this.tileID.canonical,Pr.patternPositions))}this.status="done",Oe(null,{buckets:s.values(hr).filter(function(pn){return!pn.isEmpty()}),featureIndex:Je,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gr.image,imageAtlas:Pr,glyphMap:this.returnDependencies?yr:null,iconMap:this.returnDependencies?Rr:null,glyphPositions:this.returnDependencies?gr.positions:null})}}};function n(ye,ue,be){for(var Ee=new s.EvaluationParameters(ue),_e=0,Oe=ye;_e<Oe.length;_e+=1){var Fe=Oe[_e];Fe.recalculate(Ee,be)}}function u(ye,ue){var be=s.getArrayBuffer(ye.request,function(Ee,_e,Oe,Fe){Ee?ue(Ee):_e&&ue(null,{vectorTile:new s.vectorTile.VectorTile(new s.pbf(_e)),rawData:_e,cacheControl:Oe,expires:Fe})});return function(){be.cancel(),ue()}}var f=function(ue,be,Ee,_e){this.actor=ue,this.layerIndex=be,this.availableImages=Ee,this.loadVectorData=_e||u,this.loading={},this.loaded={}};f.prototype.loadTile=function(ue,be){var Ee=this,_e=ue.uid;this.loading||(this.loading={});var Oe=ue&&ue.request&&ue.request.collectResourceTiming?new s.RequestPerformance(ue.request):!1,Fe=this.loading[_e]=new o(ue);Fe.abort=this.loadVectorData(ue,function(Be,Je){if(delete Ee.loading[_e],Be||!Je)return Fe.status="done",Ee.loaded[_e]=Fe,be(Be);var hr=Je.rawData,cr={};Je.expires&&(cr.expires=Je.expires),Je.cacheControl&&(cr.cacheControl=Je.cacheControl);var dr={};if(Oe){var fr=Oe.finish();fr&&(dr.resourceTiming=JSON.parse(JSON.stringify(fr)))}Fe.vectorTile=Je.vectorTile,Fe.parse(Je.vectorTile,Ee.layerIndex,Ee.availableImages,Ee.actor,function(Lr,xr){if(Lr||!xr)return be(Lr);be(null,s.extend({rawTileData:hr.slice(0)},xr,cr,dr))}),Ee.loaded=Ee.loaded||{},Ee.loaded[_e]=Fe})},f.prototype.reloadTile=function(ue,be){var Ee=this,_e=this.loaded,Oe=ue.uid,Fe=this;if(_e&&_e[Oe]){var Be=_e[Oe];Be.showCollisionBoxes=ue.showCollisionBoxes;var Je=function(hr,cr){var dr=Be.reloadCallback;dr&&(delete Be.reloadCallback,Be.parse(Be.vectorTile,Fe.layerIndex,Ee.availableImages,Fe.actor,dr)),be(hr,cr)};Be.status==="parsing"?Be.reloadCallback=Je:Be.status==="done"&&(Be.vectorTile?Be.parse(Be.vectorTile,this.layerIndex,this.availableImages,this.actor,Je):Je())}},f.prototype.abortTile=function(ue,be){var Ee=this.loading,_e=ue.uid;Ee&&Ee[_e]&&Ee[_e].abort&&(Ee[_e].abort(),delete Ee[_e]),be()},f.prototype.removeTile=function(ue,be){var Ee=this.loaded,_e=ue.uid;Ee&&Ee[_e]&&delete Ee[_e],be()};var c=s.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(ue,be){var Ee=ue.uid,_e=ue.encoding,Oe=ue.rawImageData,Fe=c&&Oe instanceof c?this.getImageData(Oe):Oe,Be=new s.DEMData(Ee,Fe,_e);this.loaded=this.loaded||{},this.loaded[Ee]=Be,be(null,Be)},m.prototype.getImageData=function(ue){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ue.width,ue.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ue.width,this.offscreenCanvas.height=ue.height,this.offscreenCanvasContext.drawImage(ue,0,0,ue.width,ue.height);var be=this.offscreenCanvasContext.getImageData(-1,-1,ue.width+2,ue.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new s.RGBAImage({width:be.width,height:be.height},be.data)},m.prototype.removeTile=function(ue){var be=this.loaded,Ee=ue.uid;be&&be[Ee]&&delete be[Ee]};var v=T;function T(ye,ue){var be=ye&&ye.type,Ee;if(be==="FeatureCollection")for(Ee=0;Ee<ye.features.length;Ee++)T(ye.features[Ee],ue);else if(be==="GeometryCollection")for(Ee=0;Ee<ye.geometries.length;Ee++)T(ye.geometries[Ee],ue);else if(be==="Feature")T(ye.geometry,ue);else if(be==="Polygon")h(ye.coordinates,ue);else if(be==="MultiPolygon")for(Ee=0;Ee<ye.coordinates.length;Ee++)h(ye.coordinates[Ee],ue);return ye}function h(ye,ue){if(ye.length!==0){i(ye[0],ue);for(var be=1;be<ye.length;be++)i(ye[be],!ue)}}function i(ye,ue){for(var be=0,Ee=0,_e=ye.length,Oe=_e-1;Ee<_e;Oe=Ee++)be+=(ye[Ee][0]-ye[Oe][0])*(ye[Oe][1]+ye[Ee][1]);be>=0!=!!ue&&ye.reverse()}var p=s.vectorTile.VectorTileFeature.prototype.toGeoJSON,w=function(ue){this._feature=ue,this.extent=s.EXTENT,this.type=ue.type,this.properties=ue.tags,"id"in ue&&!isNaN(ue.id)&&(this.id=parseInt(ue.id,10))};w.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ue=[],be=0,Ee=this._feature.geometry;be<Ee.length;be+=1){var _e=Ee[be];ue.push([new s.Point$1(_e[0],_e[1])])}return ue}else{for(var Oe=[],Fe=0,Be=this._feature.geometry;Fe<Be.length;Fe+=1){for(var Je=Be[Fe],hr=[],cr=0,dr=Je;cr<dr.length;cr+=1){var fr=dr[cr];hr.push(new s.Point$1(fr[0],fr[1]))}Oe.push(hr)}return Oe}},w.prototype.toGeoJSON=function(ue,be,Ee){return p.call(this,ue,be,Ee)};var A=function(ue){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=ue.length,this._features=ue};A.prototype.feature=function(ue){return new w(this._features[ue])};var L=s.vectorTile.VectorTileFeature,x=E;function E(ye,ue){this.options=ue||{},this.features=ye,this.length=ye.length}E.prototype.feature=function(ye){return new S(this.features[ye],this.options.extent)};function S(ye,ue){this.id=typeof ye.id=="number"?ye.id:void 0,this.type=ye.type,this.rawGeometry=ye.type===1?[ye.geometry]:ye.geometry,this.properties=ye.tags,this.extent=ue||4096}S.prototype.loadGeometry=function(){var ye=this.rawGeometry;this.geometry=[];for(var ue=0;ue<ye.length;ue++){for(var be=ye[ue],Ee=[],_e=0;_e<be.length;_e++)Ee.push(new s.Point$1(be[_e][0],be[_e][1]));this.geometry.push(Ee)}return this.geometry},S.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ye=this.geometry,ue=1/0,be=-1/0,Ee=1/0,_e=-1/0,Oe=0;Oe<ye.length;Oe++)for(var Fe=ye[Oe],Be=0;Be<Fe.length;Be++){var Je=Fe[Be];ue=Math.min(ue,Je.x),be=Math.max(be,Je.x),Ee=Math.min(Ee,Je.y),_e=Math.max(_e,Je.y)}return[ue,Ee,be,_e]},S.prototype.toGeoJSON=L.prototype.toGeoJSON;var a=k,C=k,b=U,z=x;function k(ye){var ue=new s.pbf;return F(ye,ue),ue.finish()}function U(ye,ue){ue=ue||{};var be={};for(var Ee in ye)be[Ee]=new x(ye[Ee].features,ue),be[Ee].name=Ee,be[Ee].version=ue.version,be[Ee].extent=ue.extent;return k({layers:be})}function F(ye,ue){for(var be in ye.layers)ue.writeMessage(3,V,ye.layers[be])}function V(ye,ue){ue.writeVarintField(15,ye.version||1),ue.writeStringField(1,ye.name||""),ue.writeVarintField(5,ye.extent||4096);var be,Ee={keys:[],values:[],keycache:{},valuecache:{}};for(be=0;be<ye.length;be++)Ee.feature=ye.feature(be),ue.writeMessage(2,N,Ee);var _e=Ee.keys;for(be=0;be<_e.length;be++)ue.writeStringField(3,_e[be]);var Oe=Ee.values;for(be=0;be<Oe.length;be++)ue.writeMessage(4,et,Oe[be])}function N(ye,ue){var be=ye.feature;be.id!==void 0&&ue.writeVarintField(1,be.id),ue.writeMessage(2,O,ye),ue.writeVarintField(3,be.type),ue.writeMessage(4,J,be)}function O(ye,ue){var be=ye.feature,Ee=ye.keys,_e=ye.values,Oe=ye.keycache,Fe=ye.valuecache;for(var Be in be.properties){var Je=Oe[Be];typeof Je>"u"&&(Ee.push(Be),Je=Ee.length-1,Oe[Be]=Je),ue.writeVarint(Je);var hr=be.properties[Be],cr=typeof hr;cr!=="string"&&cr!=="boolean"&&cr!=="number"&&(hr=JSON.stringify(hr));var dr=cr+":"+hr,fr=Fe[dr];typeof fr>"u"&&(_e.push(hr),fr=_e.length-1,Fe[dr]=fr),ue.writeVarint(fr)}}function H(ye,ue){return(ue<<3)+(ye&7)}function X(ye){return ye<<1^ye>>31}function J(ye,ue){for(var be=ye.loadGeometry(),Ee=ye.type,_e=0,Oe=0,Fe=be.length,Be=0;Be<Fe;Be++){var Je=be[Be],hr=1;Ee===1&&(hr=Je.length),ue.writeVarint(H(1,hr));for(var cr=Ee===3?Je.length-1:Je.length,dr=0;dr<cr;dr++){dr===1&&Ee!==1&&ue.writeVarint(H(2,cr-1));var fr=Je[dr].x-_e,Lr=Je[dr].y-Oe;ue.writeVarint(X(fr)),ue.writeVarint(X(Lr)),_e+=fr,Oe+=Lr}Ee===3&&ue.writeVarint(H(7,1))}}function et(ye,ue){var be=typeof ye;be==="string"?ue.writeStringField(1,ye):be==="boolean"?ue.writeBooleanField(7,ye):be==="number"&&(ye%1!==0?ue.writeDoubleField(3,ye):ye<0?ue.writeSVarintField(6,ye):ue.writeVarintField(5,ye))}a.fromVectorTileJs=C,a.fromGeojsonVt=b,a.GeoJSONWrapper=z;function it(ye,ue,be,Ee,_e,Oe){if(!(_e-Ee<=be)){var Fe=Ee+_e>>1;ft(ye,ue,Fe,Ee,_e,Oe%2),it(ye,ue,be,Ee,Fe-1,Oe+1),it(ye,ue,be,Fe+1,_e,Oe+1)}}function ft(ye,ue,be,Ee,_e,Oe){for(;_e>Ee;){if(_e-Ee>600){var Fe=_e-Ee+1,Be=be-Ee+1,Je=Math.log(Fe),hr=.5*Math.exp(2*Je/3),cr=.5*Math.sqrt(Je*hr*(Fe-hr)/Fe)*(Be-Fe/2<0?-1:1),dr=Math.max(Ee,Math.floor(be-Be*hr/Fe+cr)),fr=Math.min(_e,Math.floor(be+(Fe-Be)*hr/Fe+cr));ft(ye,ue,be,dr,fr,Oe)}var Lr=ue[2*be+Oe],xr=Ee,Qt=_e;for(ot(ye,ue,Ee,be),ue[2*_e+Oe]>Lr&&ot(ye,ue,Ee,_e);xr<Qt;){for(ot(ye,ue,xr,Qt),xr++,Qt--;ue[2*xr+Oe]<Lr;)xr++;for(;ue[2*Qt+Oe]>Lr;)Qt--}ue[2*Ee+Oe]===Lr?ot(ye,ue,Ee,Qt):(Qt++,ot(ye,ue,Qt,_e)),Qt<=be&&(Ee=Qt+1),be<=Qt&&(_e=Qt-1)}}function ot(ye,ue,be,Ee){Q(ye,be,Ee),Q(ue,2*be,2*Ee),Q(ue,2*be+1,2*Ee+1)}function Q(ye,ue,be){var Ee=ye[ue];ye[ue]=ye[be],ye[be]=Ee}function tt(ye,ue,be,Ee,_e,Oe,Fe){for(var Be=[0,ye.length-1,0],Je=[],hr,cr;Be.length;){var dr=Be.pop(),fr=Be.pop(),Lr=Be.pop();if(fr-Lr<=Fe){for(var xr=Lr;xr<=fr;xr++)hr=ue[2*xr],cr=ue[2*xr+1],hr>=be&&hr<=_e&&cr>=Ee&&cr<=Oe&&Je.push(ye[xr]);continue}var Qt=Math.floor((Lr+fr)/2);hr=ue[2*Qt],cr=ue[2*Qt+1],hr>=be&&hr<=_e&&cr>=Ee&&cr<=Oe&&Je.push(ye[Qt]);var re=(dr+1)%2;(dr===0?be<=hr:Ee<=cr)&&(Be.push(Lr),Be.push(Qt-1),Be.push(re)),(dr===0?_e>=hr:Oe>=cr)&&(Be.push(Qt+1),Be.push(fr),Be.push(re))}return Je}function Z(ye,ue,be,Ee,_e,Oe){for(var Fe=[0,ye.length-1,0],Be=[],Je=_e*_e;Fe.length;){var hr=Fe.pop(),cr=Fe.pop(),dr=Fe.pop();if(cr-dr<=Oe){for(var fr=dr;fr<=cr;fr++)q(ue[2*fr],ue[2*fr+1],be,Ee)<=Je&&Be.push(ye[fr]);continue}var Lr=Math.floor((dr+cr)/2),xr=ue[2*Lr],Qt=ue[2*Lr+1];q(xr,Qt,be,Ee)<=Je&&Be.push(ye[Lr]);var re=(hr+1)%2;(hr===0?be-_e<=xr:Ee-_e<=Qt)&&(Fe.push(dr),Fe.push(Lr-1),Fe.push(re)),(hr===0?be+_e>=xr:Ee+_e>=Qt)&&(Fe.push(Lr+1),Fe.push(cr),Fe.push(re))}return Be}function q(ye,ue,be,Ee){var _e=ye-be,Oe=ue-Ee;return _e*_e+Oe*Oe}var ut=function(ye){return ye[0]},$=function(ye){return ye[1]},j=function(ue,be,Ee,_e,Oe){be===void 0&&(be=ut),Ee===void 0&&(Ee=$),_e===void 0&&(_e=64),Oe===void 0&&(Oe=Float64Array),this.nodeSize=_e,this.points=ue;for(var Fe=ue.length<65536?Uint16Array:Uint32Array,Be=this.ids=new Fe(ue.length),Je=this.coords=new Oe(ue.length*2),hr=0;hr<ue.length;hr++)Be[hr]=hr,Je[2*hr]=be(ue[hr]),Je[2*hr+1]=Ee(ue[hr]);it(Be,Je,_e,0,Be.length-1,0)};j.prototype.range=function(ue,be,Ee,_e){return tt(this.ids,this.coords,ue,be,Ee,_e,this.nodeSize)},j.prototype.within=function(ue,be,Ee){return Z(this.ids,this.coords,ue,be,Ee,this.nodeSize)};var lt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ye){return ye}},nt=function(ue){this.options=Rt(Object.create(lt),ue),this.trees=new Array(this.options.maxZoom+1)};nt.prototype.load=function(ue){var be=this.options,Ee=be.log,_e=be.minZoom,Oe=be.maxZoom,Fe=be.nodeSize;Ee&&console.time("total time");var Be="prepare "+ue.length+" points";Ee&&console.time(Be),this.points=ue;for(var Je=[],hr=0;hr<ue.length;hr++)ue[hr].geometry&&Je.push(mt(ue[hr],hr));this.trees[Oe+1]=new j(Je,Et,zt,Fe,Float32Array),Ee&&console.timeEnd(Be);for(var cr=Oe;cr>=_e;cr--){var dr=+Date.now();Je=this._cluster(Je,cr),this.trees[cr]=new j(Je,Et,zt,Fe,Float32Array),Ee&&console.log("z%d: %d clusters in %dms",cr,Je.length,+Date.now()-dr)}return Ee&&console.timeEnd("total time"),this},nt.prototype.getClusters=function(ue,be){var Ee=((ue[0]+180)%360+360)%360-180,_e=Math.max(-90,Math.min(90,ue[1])),Oe=ue[2]===180?180:((ue[2]+180)%360+360)%360-180,Fe=Math.max(-90,Math.min(90,ue[3]));if(ue[2]-ue[0]>=360)Ee=-180,Oe=180;else if(Ee>Oe){var Be=this.getClusters([Ee,_e,180,Fe],be),Je=this.getClusters([-180,_e,Oe,Fe],be);return Be.concat(Je)}for(var hr=this.trees[this._limitZoom(be)],cr=hr.range(Pt(Ee),_t(Fe),Pt(Oe),_t(_e)),dr=[],fr=0,Lr=cr;fr<Lr.length;fr+=1){var xr=Lr[fr],Qt=hr.points[xr];dr.push(Qt.numPoints?At(Qt):this.points[Qt.index])}return dr},nt.prototype.getChildren=function(ue){var be=this._getOriginId(ue),Ee=this._getOriginZoom(ue),_e="No cluster with the specified id.",Oe=this.trees[Ee];if(!Oe)throw new Error(_e);var Fe=Oe.points[be];if(!Fe)throw new Error(_e);for(var Be=this.options.radius/(this.options.extent*Math.pow(2,Ee-1)),Je=Oe.within(Fe.x,Fe.y,Be),hr=[],cr=0,dr=Je;cr<dr.length;cr+=1){var fr=dr[cr],Lr=Oe.points[fr];Lr.parentId===ue&&hr.push(Lr.numPoints?At(Lr):this.points[Lr.index])}if(hr.length===0)throw new Error(_e);return hr},nt.prototype.getLeaves=function(ue,be,Ee){be=be||10,Ee=Ee||0;var _e=[];return this._appendLeaves(_e,ue,be,Ee,0),_e},nt.prototype.getTile=function(ue,be,Ee){var _e=this.trees[this._limitZoom(ue)],Oe=Math.pow(2,ue),Fe=this.options,Be=Fe.extent,Je=Fe.radius,hr=Je/Be,cr=(Ee-hr)/Oe,dr=(Ee+1+hr)/Oe,fr={features:[]};return this._addTileFeatures(_e.range((be-hr)/Oe,cr,(be+1+hr)/Oe,dr),_e.points,be,Ee,Oe,fr),be===0&&this._addTileFeatures(_e.range(1-hr/Oe,cr,1,dr),_e.points,Oe,Ee,Oe,fr),be===Oe-1&&this._addTileFeatures(_e.range(0,cr,hr/Oe,dr),_e.points,-1,Ee,Oe,fr),fr.features.length?fr:null},nt.prototype.getClusterExpansionZoom=function(ue){for(var be=this._getOriginZoom(ue)-1;be<=this.options.maxZoom;){var Ee=this.getChildren(ue);if(be++,Ee.length!==1)break;ue=Ee[0].properties.cluster_id}return be},nt.prototype._appendLeaves=function(ue,be,Ee,_e,Oe){for(var Fe=this.getChildren(be),Be=0,Je=Fe;Be<Je.length;Be+=1){var hr=Je[Be],cr=hr.properties;if(cr&&cr.cluster?Oe+cr.point_count<=_e?Oe+=cr.point_count:Oe=this._appendLeaves(ue,cr.cluster_id,Ee,_e,Oe):Oe<_e?Oe++:ue.push(hr),ue.length===Ee)break}return Oe},nt.prototype._addTileFeatures=function(ue,be,Ee,_e,Oe,Fe){for(var Be=0,Je=ue;Be<Je.length;Be+=1){var hr=Je[Be],cr=be[hr],dr=cr.numPoints,fr={type:1,geometry:[[Math.round(this.options.extent*(cr.x*Oe-Ee)),Math.round(this.options.extent*(cr.y*Oe-_e))]],tags:dr?bt(cr):this.points[cr.index].properties},Lr=void 0;dr?Lr=cr.id:this.options.generateId?Lr=cr.index:this.points[cr.index].id&&(Lr=this.points[cr.index].id),Lr!==void 0&&(fr.id=Lr),Fe.features.push(fr)}},nt.prototype._limitZoom=function(ue){return Math.max(this.options.minZoom,Math.min(+ue,this.options.maxZoom+1))},nt.prototype._cluster=function(ue,be){for(var Ee=[],_e=this.options,Oe=_e.radius,Fe=_e.extent,Be=_e.reduce,Je=_e.minPoints,hr=Oe/(Fe*Math.pow(2,be)),cr=0;cr<ue.length;cr++){var dr=ue[cr];if(!(dr.zoom<=be)){dr.zoom=be;for(var fr=this.trees[be+1],Lr=fr.within(dr.x,dr.y,hr),xr=dr.numPoints||1,Qt=xr,re=0,tr=Lr;re<tr.length;re+=1){var er=tr[re],Ye=fr.points[er];Ye.zoom>be&&(Qt+=Ye.numPoints||1)}if(Qt>=Je){for(var Pe=dr.x*xr,Ze=dr.y*xr,nr=Be&&xr>1?this._map(dr,!0):null,Qe=(cr<<5)+(be+1)+this.points.length,We=0,yr=Lr;We<yr.length;We+=1){var Rr=yr[We],Tr=fr.points[Rr];if(!(Tr.zoom<=be)){Tr.zoom=be;var vn=Tr.numPoints||1;Pe+=Tr.x*vn,Ze+=Tr.y*vn,Tr.parentId=Qe,Be&&(nr||(nr=this._map(dr,!0)),Be(nr,this._map(Tr)))}}dr.parentId=Qe,Ee.push(ht(Pe/Qt,Ze/Qt,Qe,Qt,nr))}else if(Ee.push(dr),Qt>1)for(var Or=0,En=Lr;Or<En.length;Or+=1){var nn=En[Or],gr=fr.points[nn];gr.zoom<=be||(gr.zoom=be,Ee.push(gr))}}}return Ee},nt.prototype._getOriginId=function(ue){return ue-this.points.length>>5},nt.prototype._getOriginZoom=function(ue){return(ue-this.points.length)%32},nt.prototype._map=function(ue,be){if(ue.numPoints)return be?Rt({},ue.properties):ue.properties;var Ee=this.points[ue.index].properties,_e=this.options.map(Ee);return be&&_e===Ee?Rt({},_e):_e};function ht(ye,ue,be,Ee,_e){return{x:ye,y:ue,zoom:1/0,id:be,parentId:-1,numPoints:Ee,properties:_e}}function mt(ye,ue){var be=ye.geometry.coordinates,Ee=be[0],_e=be[1];return{x:Pt(Ee),y:_t(_e),zoom:1/0,index:ue,parentId:-1}}function At(ye){return{type:"Feature",id:ye.id,properties:bt(ye),geometry:{type:"Point",coordinates:[Ut(ye.x),St(ye.y)]}}}function bt(ye){var ue=ye.numPoints,be=ue>=1e4?Math.round(ue/1e3)+"k":ue>=1e3?Math.round(ue/100)/10+"k":ue;return Rt(Rt({},ye.properties),{cluster:!0,cluster_id:ye.id,point_count:ue,point_count_abbreviated:be})}function Pt(ye){return ye/360+.5}function _t(ye){var ue=Math.sin(ye*Math.PI/180),be=.5-.25*Math.log((1+ue)/(1-ue))/Math.PI;return be<0?0:be>1?1:be}function Ut(ye){return(ye-.5)*360}function St(ye){var ue=(180-ye*360)*Math.PI/180;return 360*Math.atan(Math.exp(ue))/Math.PI-90}function Rt(ye,ue){for(var be in ue)ye[be]=ue[be];return ye}function Et(ye){return ye.x}function zt(ye){return ye.y}function Ct(ye,ue,be,Ee){for(var _e=Ee,Oe=be-ue>>1,Fe=be-ue,Be,Je=ye[ue],hr=ye[ue+1],cr=ye[be],dr=ye[be+1],fr=ue+3;fr<be;fr+=3){var Lr=Wt(ye[fr],ye[fr+1],Je,hr,cr,dr);if(Lr>_e)Be=fr,_e=Lr;else if(Lr===_e){var xr=Math.abs(fr-Oe);xr<Fe&&(Be=fr,Fe=xr)}}_e>Ee&&(Be-ue>3&&Ct(ye,ue,Be,Ee),ye[Be+2]=_e,be-Be>3&&Ct(ye,Be,be,Ee))}function Wt(ye,ue,be,Ee,_e,Oe){var Fe=_e-be,Be=Oe-Ee;if(Fe!==0||Be!==0){var Je=((ye-be)*Fe+(ue-Ee)*Be)/(Fe*Fe+Be*Be);Je>1?(be=_e,Ee=Oe):Je>0&&(be+=Fe*Je,Ee+=Be*Je)}return Fe=ye-be,Be=ue-Ee,Fe*Fe+Be*Be}function Kt(ye,ue,be,Ee){var _e={id:typeof ye>"u"?null:ye,type:ue,geometry:be,tags:Ee,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return oe(_e),_e}function oe(ye){var ue=ye.geometry,be=ye.type;if(be==="Point"||be==="MultiPoint"||be==="LineString")Jt(ye,ue);else if(be==="Polygon"||be==="MultiLineString")for(var Ee=0;Ee<ue.length;Ee++)Jt(ye,ue[Ee]);else if(be==="MultiPolygon")for(Ee=0;Ee<ue.length;Ee++)for(var _e=0;_e<ue[Ee].length;_e++)Jt(ye,ue[Ee][_e])}function Jt(ye,ue){for(var be=0;be<ue.length;be+=3)ye.minX=Math.min(ye.minX,ue[be]),ye.minY=Math.min(ye.minY,ue[be+1]),ye.maxX=Math.max(ye.maxX,ue[be]),ye.maxY=Math.max(ye.maxY,ue[be+1])}function te(ye,ue){var be=[];if(ye.type==="FeatureCollection")for(var Ee=0;Ee<ye.features.length;Ee++)fe(be,ye.features[Ee],ue,Ee);else ye.type==="Feature"?fe(be,ye,ue):fe(be,{geometry:ye},ue);return be}function fe(ye,ue,be,Ee){if(ue.geometry){var _e=ue.geometry.coordinates,Oe=ue.geometry.type,Fe=Math.pow(be.tolerance/((1<<be.maxZoom)*be.extent),2),Be=[],Je=ue.id;if(be.promoteId?Je=ue.properties[be.promoteId]:be.generateId&&(Je=Ee||0),Oe==="Point")ve(_e,Be);else if(Oe==="MultiPoint")for(var hr=0;hr<_e.length;hr++)ve(_e[hr],Be);else if(Oe==="LineString")de(_e,Be,Fe,!1);else if(Oe==="MultiLineString")if(be.lineMetrics){for(hr=0;hr<_e.length;hr++)Be=[],de(_e[hr],Be,Fe,!1),ye.push(Kt(Je,"LineString",Be,ue.properties));return}else xe(_e,Be,Fe,!1);else if(Oe==="Polygon")xe(_e,Be,Fe,!0);else if(Oe==="MultiPolygon")for(hr=0;hr<_e.length;hr++){var cr=[];xe(_e[hr],cr,Fe,!0),Be.push(cr)}else if(Oe==="GeometryCollection"){for(hr=0;hr<ue.geometry.geometries.length;hr++)fe(ye,{id:Je,geometry:ue.geometry.geometries[hr],properties:ue.properties},be,Ee);return}else throw new Error("Input data is not a valid GeoJSON object.");ye.push(Kt(Je,Oe,Be,ue.properties))}}function ve(ye,ue){ue.push(Me(ye[0])),ue.push(ne(ye[1])),ue.push(0)}function de(ye,ue,be,Ee){for(var _e,Oe,Fe=0,Be=0;Be<ye.length;Be++){var Je=Me(ye[Be][0]),hr=ne(ye[Be][1]);ue.push(Je),ue.push(hr),ue.push(0),Be>0&&(Ee?Fe+=(_e*hr-Je*Oe)/2:Fe+=Math.sqrt(Math.pow(Je-_e,2)+Math.pow(hr-Oe,2))),_e=Je,Oe=hr}var cr=ue.length-3;ue[2]=1,Ct(ue,0,cr,be),ue[cr+2]=1,ue.size=Math.abs(Fe),ue.start=0,ue.end=ue.size}function xe(ye,ue,be,Ee){for(var _e=0;_e<ye.length;_e++){var Oe=[];de(ye[_e],Oe,be,Ee),ue.push(Oe)}}function Me(ye){return ye/360+.5}function ne(ye){var ue=Math.sin(ye*Math.PI/180),be=.5-.25*Math.log((1+ue)/(1-ue))/Math.PI;return be<0?0:be>1?1:be}function kt(ye,ue,be,Ee,_e,Oe,Fe,Be){if(be/=ue,Ee/=ue,Oe>=be&&Fe<Ee)return ye;if(Fe<be||Oe>=Ee)return null;for(var Je=[],hr=0;hr<ye.length;hr++){var cr=ye[hr],dr=cr.geometry,fr=cr.type,Lr=_e===0?cr.minX:cr.minY,xr=_e===0?cr.maxX:cr.maxY;if(Lr>=be&&xr<Ee){Je.push(cr);continue}else if(xr<be||Lr>=Ee)continue;var Qt=[];if(fr==="Point"||fr==="MultiPoint")Gt(dr,Qt,be,Ee,_e);else if(fr==="LineString")Yt(dr,Qt,be,Ee,_e,!1,Be.lineMetrics);else if(fr==="MultiLineString")It(dr,Qt,be,Ee,_e,!1);else if(fr==="Polygon")It(dr,Qt,be,Ee,_e,!0);else if(fr==="MultiPolygon")for(var re=0;re<dr.length;re++){var tr=[];It(dr[re],tr,be,Ee,_e,!0),tr.length&&Qt.push(tr)}if(Qt.length){if(Be.lineMetrics&&fr==="LineString"){for(re=0;re<Qt.length;re++)Je.push(Kt(cr.id,fr,Qt[re],cr.tags));continue}(fr==="LineString"||fr==="MultiLineString")&&(Qt.length===1?(fr="LineString",Qt=Qt[0]):fr="MultiLineString"),(fr==="Point"||fr==="MultiPoint")&&(fr=Qt.length===3?"Point":"MultiPoint"),Je.push(Kt(cr.id,fr,Qt,cr.tags))}}return Je.length?Je:null}function Gt(ye,ue,be,Ee,_e){for(var Oe=0;Oe<ye.length;Oe+=3){var Fe=ye[Oe+_e];Fe>=be&&Fe<=Ee&&(ue.push(ye[Oe]),ue.push(ye[Oe+1]),ue.push(ye[Oe+2]))}}function Yt(ye,ue,be,Ee,_e,Oe,Fe){for(var Be=Zt(ye),Je=_e===0?Ht:Lt,hr=ye.start,cr,dr,fr=0;fr<ye.length-3;fr+=3){var Lr=ye[fr],xr=ye[fr+1],Qt=ye[fr+2],re=ye[fr+3],tr=ye[fr+4],er=_e===0?Lr:xr,Ye=_e===0?re:tr,Pe=!1;Fe&&(cr=Math.sqrt(Math.pow(Lr-re,2)+Math.pow(xr-tr,2))),er<be?Ye>be&&(dr=Je(Be,Lr,xr,re,tr,be),Fe&&(Be.start=hr+cr*dr)):er>Ee?Ye<Ee&&(dr=Je(Be,Lr,xr,re,tr,Ee),Fe&&(Be.start=hr+cr*dr)):Nt(Be,Lr,xr,Qt),Ye<be&&er>=be&&(dr=Je(Be,Lr,xr,re,tr,be),Pe=!0),Ye>Ee&&er<=Ee&&(dr=Je(Be,Lr,xr,re,tr,Ee),Pe=!0),!Oe&&Pe&&(Fe&&(Be.end=hr+cr*dr),ue.push(Be),Be=Zt(ye)),Fe&&(hr+=cr)}var Ze=ye.length-3;Lr=ye[Ze],xr=ye[Ze+1],Qt=ye[Ze+2],er=_e===0?Lr:xr,er>=be&&er<=Ee&&Nt(Be,Lr,xr,Qt),Ze=Be.length-3,Oe&&Ze>=3&&(Be[Ze]!==Be[0]||Be[Ze+1]!==Be[1])&&Nt(Be,Be[0],Be[1],Be[2]),Be.length&&ue.push(Be)}function Zt(ye){var ue=[];return ue.size=ye.size,ue.start=ye.start,ue.end=ye.end,ue}function It(ye,ue,be,Ee,_e,Oe){for(var Fe=0;Fe<ye.length;Fe++)Yt(ye[Fe],ue,be,Ee,_e,Oe,!1)}function Nt(ye,ue,be,Ee){ye.push(ue),ye.push(be),ye.push(Ee)}function Ht(ye,ue,be,Ee,_e,Oe){var Fe=(Oe-ue)/(Ee-ue);return ye.push(Oe),ye.push(be+(_e-be)*Fe),ye.push(1),Fe}function Lt(ye,ue,be,Ee,_e,Oe){var Fe=(Oe-be)/(_e-be);return ye.push(ue+(Ee-ue)*Fe),ye.push(Oe),ye.push(1),Fe}function dt(ye,ue){var be=ue.buffer/ue.extent,Ee=ye,_e=kt(ye,1,-1-be,be,0,-1,2,ue),Oe=kt(ye,1,1-be,2+be,0,-1,2,ue);return(_e||Oe)&&(Ee=kt(ye,1,-be,1+be,0,-1,2,ue)||[],_e&&(Ee=xt(_e,1).concat(Ee)),Oe&&(Ee=Ee.concat(xt(Oe,-1)))),Ee}function xt(ye,ue){for(var be=[],Ee=0;Ee<ye.length;Ee++){var _e=ye[Ee],Oe=_e.type,Fe;if(Oe==="Point"||Oe==="MultiPoint"||Oe==="LineString")Fe=Ot(_e.geometry,ue);else if(Oe==="MultiLineString"||Oe==="Polygon"){Fe=[];for(var Be=0;Be<_e.geometry.length;Be++)Fe.push(Ot(_e.geometry[Be],ue))}else if(Oe==="MultiPolygon")for(Fe=[],Be=0;Be<_e.geometry.length;Be++){for(var Je=[],hr=0;hr<_e.geometry[Be].length;hr++)Je.push(Ot(_e.geometry[Be][hr],ue));Fe.push(Je)}be.push(Kt(_e.id,Oe,Fe,_e.tags))}return be}function Ot(ye,ue){var be=[];be.size=ye.size,ye.start!==void 0&&(be.start=ye.start,be.end=ye.end);for(var Ee=0;Ee<ye.length;Ee+=3)be.push(ye[Ee]+ue,ye[Ee+1],ye[Ee+2]);return be}function jt(ye,ue){if(ye.transformed)return ye;var be=1<<ye.z,Ee=ye.x,_e=ye.y,Oe,Fe,Be;for(Oe=0;Oe<ye.features.length;Oe++){var Je=ye.features[Oe],hr=Je.geometry,cr=Je.type;if(Je.geometry=[],cr===1)for(Fe=0;Fe<hr.length;Fe+=2)Je.geometry.push(ie(hr[Fe],hr[Fe+1],ue,be,Ee,_e));else for(Fe=0;Fe<hr.length;Fe++){var dr=[];for(Be=0;Be<hr[Fe].length;Be+=2)dr.push(ie(hr[Fe][Be],hr[Fe][Be+1],ue,be,Ee,_e));Je.geometry.push(dr)}}return ye.transformed=!0,ye}function ie(ye,ue,be,Ee,_e,Oe){return[Math.round(be*(ye*Ee-_e)),Math.round(be*(ue*Ee-Oe))]}function le(ye,ue,be,Ee,_e){for(var Oe=ue===_e.maxZoom?0:_e.tolerance/((1<<ue)*_e.extent),Fe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:be,y:Ee,z:ue,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Be=0;Be<ye.length;Be++){Fe.numFeatures++,Ve(Fe,ye[Be],Oe,_e);var Je=ye[Be].minX,hr=ye[Be].minY,cr=ye[Be].maxX,dr=ye[Be].maxY;Je<Fe.minX&&(Fe.minX=Je),hr<Fe.minY&&(Fe.minY=hr),cr>Fe.maxX&&(Fe.maxX=cr),dr>Fe.maxY&&(Fe.maxY=dr)}return Fe}function Ve(ye,ue,be,Ee){var _e=ue.geometry,Oe=ue.type,Fe=[];if(Oe==="Point"||Oe==="MultiPoint")for(var Be=0;Be<_e.length;Be+=3)Fe.push(_e[Be]),Fe.push(_e[Be+1]),ye.numPoints++,ye.numSimplified++;else if(Oe==="LineString")je(Fe,_e,ye,be,!1,!1);else if(Oe==="MultiLineString"||Oe==="Polygon")for(Be=0;Be<_e.length;Be++)je(Fe,_e[Be],ye,be,Oe==="Polygon",Be===0);else if(Oe==="MultiPolygon")for(var Je=0;Je<_e.length;Je++){var hr=_e[Je];for(Be=0;Be<hr.length;Be++)je(Fe,hr[Be],ye,be,!0,Be===0)}if(Fe.length){var cr=ue.tags||null;if(Oe==="LineString"&&Ee.lineMetrics){cr={};for(var dr in ue.tags)cr[dr]=ue.tags[dr];cr.mapbox_clip_start=_e.start/_e.size,cr.mapbox_clip_end=_e.end/_e.size}var fr={geometry:Fe,type:Oe==="Polygon"||Oe==="MultiPolygon"?3:Oe==="LineString"||Oe==="MultiLineString"?2:1,tags:cr};ue.id!==null&&(fr.id=ue.id),ye.features.push(fr)}}function je(ye,ue,be,Ee,_e,Oe){var Fe=Ee*Ee;if(Ee>0&&ue.size<(_e?Fe:Ee)){be.numPoints+=ue.length/3;return}for(var Be=[],Je=0;Je<ue.length;Je+=3)(Ee===0||ue[Je+2]>Fe)&&(be.numSimplified++,Be.push(ue[Je]),Be.push(ue[Je+1])),be.numPoints++;_e&&Te(Be,Oe),ye.push(Be)}function Te(ye,ue){for(var be=0,Ee=0,_e=ye.length,Oe=_e-2;Ee<_e;Oe=Ee,Ee+=2)be+=(ye[Ee]-ye[Oe])*(ye[Ee+1]+ye[Oe+1]);if(be>0===ue)for(Ee=0,_e=ye.length;Ee<_e/2;Ee+=2){var Fe=ye[Ee],Be=ye[Ee+1];ye[Ee]=ye[_e-2-Ee],ye[Ee+1]=ye[_e-1-Ee],ye[_e-2-Ee]=Fe,ye[_e-1-Ee]=Be}}function Le(ye,ue){return new Ke(ye,ue)}function Ke(ye,ue){ue=this.options=ge(Object.create(this.options),ue);var be=ue.debug;if(be&&console.time("preprocess data"),ue.maxZoom<0||ue.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ue.promoteId&&ue.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ee=te(ye,ue);this.tiles={},this.tileCoords=[],be&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ue.indexMaxZoom,ue.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ee=dt(Ee,ue),Ee.length&&this.splitTile(Ee,0,0,0),be&&(Ee.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Ke.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ke.prototype.splitTile=function(ye,ue,be,Ee,_e,Oe,Fe){for(var Be=[ye,ue,be,Ee],Je=this.options,hr=Je.debug;Be.length;){Ee=Be.pop(),be=Be.pop(),ue=Be.pop(),ye=Be.pop();var cr=1<<ue,dr=vr(ue,be,Ee),fr=this.tiles[dr];if(!fr&&(hr>1&&console.time("creation"),fr=this.tiles[dr]=le(ye,ue,be,Ee,Je),this.tileCoords.push({z:ue,x:be,y:Ee}),hr)){hr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ue,be,Ee,fr.numFeatures,fr.numPoints,fr.numSimplified),console.timeEnd("creation"));var Lr="z"+ue;this.stats[Lr]=(this.stats[Lr]||0)+1,this.total++}if(fr.source=ye,_e){if(ue===Je.maxZoom||ue===_e)continue;var xr=1<<_e-ue;if(be!==Math.floor(Oe/xr)||Ee!==Math.floor(Fe/xr))continue}else if(ue===Je.indexMaxZoom||fr.numPoints<=Je.indexMaxPoints)continue;if(fr.source=null,ye.length!==0){hr>1&&console.time("clipping");var Qt=.5*Je.buffer/Je.extent,re=.5-Qt,tr=.5+Qt,er=1+Qt,Ye,Pe,Ze,nr,Qe,We;Ye=Pe=Ze=nr=null,Qe=kt(ye,cr,be-Qt,be+tr,0,fr.minX,fr.maxX,Je),We=kt(ye,cr,be+re,be+er,0,fr.minX,fr.maxX,Je),ye=null,Qe&&(Ye=kt(Qe,cr,Ee-Qt,Ee+tr,1,fr.minY,fr.maxY,Je),Pe=kt(Qe,cr,Ee+re,Ee+er,1,fr.minY,fr.maxY,Je),Qe=null),We&&(Ze=kt(We,cr,Ee-Qt,Ee+tr,1,fr.minY,fr.maxY,Je),nr=kt(We,cr,Ee+re,Ee+er,1,fr.minY,fr.maxY,Je),We=null),hr>1&&console.timeEnd("clipping"),Be.push(Ye||[],ue+1,be*2,Ee*2),Be.push(Pe||[],ue+1,be*2,Ee*2+1),Be.push(Ze||[],ue+1,be*2+1,Ee*2),Be.push(nr||[],ue+1,be*2+1,Ee*2+1)}}},Ke.prototype.getTile=function(ye,ue,be){var Ee=this.options,_e=Ee.extent,Oe=Ee.debug;if(ye<0||ye>24)return null;var Fe=1<<ye;ue=(ue%Fe+Fe)%Fe;var Be=vr(ye,ue,be);if(this.tiles[Be])return jt(this.tiles[Be],_e);Oe>1&&console.log("drilling down to z%d-%d-%d",ye,ue,be);for(var Je=ye,hr=ue,cr=be,dr;!dr&&Je>0;)Je--,hr=Math.floor(hr/2),cr=Math.floor(cr/2),dr=this.tiles[vr(Je,hr,cr)];return!dr||!dr.source?null:(Oe>1&&console.log("found parent tile z%d-%d-%d",Je,hr,cr),Oe>1&&console.time("drilling down"),this.splitTile(dr.source,Je,hr,cr,ye,ue,be),Oe>1&&console.timeEnd("drilling down"),this.tiles[Be]?jt(this.tiles[Be],_e):null)};function vr(ye,ue,be){return((1<<ye)*be+ue)*32+ye}function ge(ye,ue){for(var be in ue)ye[be]=ue[be];return ye}function Xe(ye,ue){var be=ye.tileID.canonical;if(!this._geoJSONIndex)return ue(null,null);var Ee=this._geoJSONIndex.getTile(be.z,be.x,be.y);if(!Ee)return ue(null,null);var _e=new A(Ee.features),Oe=a(_e);(Oe.byteOffset!==0||Oe.byteLength!==Oe.buffer.byteLength)&&(Oe=new Uint8Array(Oe)),ue(null,{vectorTile:_e,rawData:Oe.buffer})}var $e=function(ye){function ue(be,Ee,_e,Oe){ye.call(this,be,Ee,_e,Xe),Oe&&(this.loadGeoJSON=Oe)}return ye&&(ue.__proto__=ye),ue.prototype=Object.create(ye&&ye.prototype),ue.prototype.constructor=ue,ue.prototype.loadData=function(Ee,_e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=_e,this._pendingLoadDataParams=Ee,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ue.prototype._loadData=function(){var Ee=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var _e=this._pendingCallback,Oe=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Fe=Oe&&Oe.request&&Oe.request.collectResourceTiming?new s.RequestPerformance(Oe.request):!1;this.loadGeoJSON(Oe,function(Be,Je){if(Be||!Je)return _e(Be);if(typeof Je!="object")return _e(new Error("Input data given to '"+Oe.source+"' is not a valid GeoJSON object."));v(Je,!0);try{if(Oe.filter){var hr=s.createExpression(Oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(hr.result==="error")throw new Error(hr.value.map(function(Lr){return Lr.key+": "+Lr.message}).join(", "));var cr=Je.features.filter(function(Lr){return hr.value.evaluate({zoom:0},Lr)});Je={type:"FeatureCollection",features:cr}}Ee._geoJSONIndex=Oe.cluster?new nt(mr(Oe)).load(Je.features):Le(Je,Oe.geojsonVtOptions)}catch(Lr){return _e(Lr)}Ee.loaded={};var dr={};if(Fe){var fr=Fe.finish();fr&&(dr.resourceTiming={},dr.resourceTiming[Oe.source]=JSON.parse(JSON.stringify(fr)))}_e(null,dr)})}},ue.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ue.prototype.reloadTile=function(Ee,_e){var Oe=this.loaded,Fe=Ee.uid;return Oe&&Oe[Fe]?ye.prototype.reloadTile.call(this,Ee,_e):this.loadTile(Ee,_e)},ue.prototype.loadGeoJSON=function(Ee,_e){if(Ee.request)s.getJSON(Ee.request,_e);else if(typeof Ee.data=="string")try{return _e(null,JSON.parse(Ee.data))}catch{return _e(new Error("Input data given to '"+Ee.source+"' is not a valid GeoJSON object."))}else return _e(new Error("Input data given to '"+Ee.source+"' is not a valid GeoJSON object."))},ue.prototype.removeSource=function(Ee,_e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),_e()},ue.prototype.getClusterExpansionZoom=function(Ee,_e){try{_e(null,this._geoJSONIndex.getClusterExpansionZoom(Ee.clusterId))}catch(Oe){_e(Oe)}},ue.prototype.getClusterChildren=function(Ee,_e){try{_e(null,this._geoJSONIndex.getChildren(Ee.clusterId))}catch(Oe){_e(Oe)}},ue.prototype.getClusterLeaves=function(Ee,_e){try{_e(null,this._geoJSONIndex.getLeaves(Ee.clusterId,Ee.limit,Ee.offset))}catch(Oe){_e(Oe)}},ue}(f);function mr(ye){var ue=ye.superclusterOptions,be=ye.clusterProperties;if(!be||!ue)return ue;for(var Ee={},_e={},Oe={accumulated:null,zoom:0},Fe={properties:null},Be=Object.keys(be),Je=0,hr=Be;Je<hr.length;Je+=1){var cr=hr[Je],dr=be[cr],fr=dr[0],Lr=dr[1],xr=s.createExpression(Lr),Qt=s.createExpression(typeof fr=="string"?[fr,["accumulated"],["get",cr]]:fr);Ee[cr]=xr.value,_e[cr]=Qt.value}return ue.map=function(re){Fe.properties=re;for(var tr={},er=0,Ye=Be;er<Ye.length;er+=1){var Pe=Ye[er];tr[Pe]=Ee[Pe].evaluate(Oe,Fe)}return tr},ue.reduce=function(re,tr){Fe.properties=tr;for(var er=0,Ye=Be;er<Ye.length;er+=1){var Pe=Ye[er];Oe.accumulated=re[Pe],re[Pe]=_e[Pe].evaluate(Oe,Fe)}},ue}var or=function(ue){var be=this;this.self=ue,this.actor=new s.Actor(ue,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:$e},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ee,_e){if(be.workerSourceTypes[Ee])throw new Error('Worker source with name "'+Ee+'" already registered.');be.workerSourceTypes[Ee]=_e},this.self.registerRTLTextPlugin=function(Ee){if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=Ee.applyArabicShaping,s.plugin.processBidirectionalText=Ee.processBidirectionalText,s.plugin.processStyledBidirectionalText=Ee.processStyledBidirectionalText}};return or.prototype.setReferrer=function(ue,be){this.referrer=be},or.prototype.setImages=function(ue,be,Ee){this.availableImages[ue]=be;for(var _e in this.workerSources[ue]){var Oe=this.workerSources[ue][_e];for(var Fe in Oe)Oe[Fe].availableImages=be}Ee()},or.prototype.setLayers=function(ue,be,Ee){this.getLayerIndex(ue).replace(be),Ee()},or.prototype.updateLayers=function(ue,be,Ee){this.getLayerIndex(ue).update(be.layers,be.removedIds),Ee()},or.prototype.loadTile=function(ue,be,Ee){this.getWorkerSource(ue,be.type,be.source).loadTile(be,Ee)},or.prototype.loadDEMTile=function(ue,be,Ee){this.getDEMWorkerSource(ue,be.source).loadTile(be,Ee)},or.prototype.reloadTile=function(ue,be,Ee){this.getWorkerSource(ue,be.type,be.source).reloadTile(be,Ee)},or.prototype.abortTile=function(ue,be,Ee){this.getWorkerSource(ue,be.type,be.source).abortTile(be,Ee)},or.prototype.removeTile=function(ue,be,Ee){this.getWorkerSource(ue,be.type,be.source).removeTile(be,Ee)},or.prototype.removeDEMTile=function(ue,be){this.getDEMWorkerSource(ue,be.source).removeTile(be)},or.prototype.removeSource=function(ue,be,Ee){if(!(!this.workerSources[ue]||!this.workerSources[ue][be.type]||!this.workerSources[ue][be.type][be.source])){var _e=this.workerSources[ue][be.type][be.source];delete this.workerSources[ue][be.type][be.source],_e.removeSource!==void 0?_e.removeSource(be,Ee):Ee()}},or.prototype.loadWorkerSource=function(ue,be,Ee){try{this.self.importScripts(be.url),Ee()}catch(_e){Ee(_e.toString())}},or.prototype.syncRTLPluginState=function(ue,be,Ee){try{s.plugin.setState(be);var _e=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&_e!=null){this.self.importScripts(_e);var Oe=s.plugin.isParsed(),Fe=Oe?void 0:new Error("RTL Text Plugin failed to import scripts from "+_e);Ee(Fe,Oe)}}catch(Be){Ee(Be.toString())}},or.prototype.getAvailableImages=function(ue){var be=this.availableImages[ue];return be||(be=[]),be},or.prototype.getLayerIndex=function(ue){var be=this.layerIndexes[ue];return be||(be=this.layerIndexes[ue]=new g),be},or.prototype.getWorkerSource=function(ue,be,Ee){var _e=this;if(this.workerSources[ue]||(this.workerSources[ue]={}),this.workerSources[ue][be]||(this.workerSources[ue][be]={}),!this.workerSources[ue][be][Ee]){var Oe={send:function(Fe,Be,Je){_e.actor.send(Fe,Be,Je,ue)}};this.workerSources[ue][be][Ee]=new this.workerSourceTypes[be](Oe,this.getLayerIndex(ue),this.getAvailableImages(ue))}return this.workerSources[ue][be][Ee]},or.prototype.getDEMWorkerSource=function(ue,be){return this.demWorkerSources[ue]||(this.demWorkerSources[ue]={}),this.demWorkerSources[ue][be]||(this.demWorkerSources[ue][be]=new m),this.demWorkerSources[ue][be]},or.prototype.enforceCacheSizeLimit=function(ue,be){s.enforceCacheSizeLimit(be)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new or(self)),or}),D(["./shared"],function(s){var P=s.createCommonjsModule(function(vt){vt.exports?vt.exports=K:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=K,window.mapboxgl.notSupportedReason=gt);function K(Wr){return!gt(Wr)}function gt(Wr){if(!rt())return"not a browser";if(!yt())return"insufficent Array support";if(!Bt())return"insufficient Function support";if(!Xt())return"insufficient Object support";if(!ce())return"insufficient JSON support";if(!Ce())return"insufficient worker support";if(!Ne())return"insufficient Uint8ClampedArray support";if(!qe())return"insufficient ArrayBuffer support";if(!ur())return"insufficient Canvas/getImageData support";if(!Fr(Wr&&Wr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function rt(){return typeof window<"u"&&typeof document<"u"}function yt(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Bt(){return Function.prototype&&Function.prototype.bind}function Xt(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ce(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Ce(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Wr=new Blob([""],{type:"text/javascript"}),Jr=URL.createObjectURL(Wr),dn,kn;try{kn=new Worker(Jr),dn=!0}catch{dn=!1}return kn&&kn.terminate(),URL.revokeObjectURL(Jr),dn}function Ne(){return"Uint8ClampedArray"in window}function qe(){return ArrayBuffer.isView}function ur(){var Wr=document.createElement("canvas");Wr.width=Wr.height=1;var Jr=Wr.getContext("2d");if(!Jr)return!1;var dn=Jr.getImageData(0,0,1,1);return dn&&dn.width===Wr.width}var lr={};function Fr(Wr){return lr[Wr]===void 0&&(lr[Wr]=Xr(Wr)),lr[Wr]}K.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Zr(Wr){var Jr=document.createElement("canvas"),dn=Object.create(K.webGLContextAttributes);return dn.failIfMajorPerformanceCaveat=Wr,Jr.probablySupportsContext?Jr.probablySupportsContext("webgl",dn)||Jr.probablySupportsContext("experimental-webgl",dn):Jr.supportsContext?Jr.supportsContext("webgl",dn)||Jr.supportsContext("experimental-webgl",dn):Jr.getContext("webgl",dn)||Jr.getContext("experimental-webgl",dn)}function Xr(Wr){var Jr=Zr(Wr);if(!Jr)return!1;var dn=Jr.createShader(Jr.VERTEX_SHADER);return!dn||Jr.isContextLost()?!1:(Jr.shaderSource(dn,"void main() {}"),Jr.compileShader(dn),Jr.getShaderParameter(dn,Jr.COMPILE_STATUS)===!0)}}),M={};M.create=function(vt,K,gt){var rt=s.window.document.createElement(vt);return K!==void 0&&(rt.className=K),gt&&gt.appendChild(rt),rt},M.createNS=function(vt,K){var gt=s.window.document.createElementNS(vt,K);return gt};var d=s.window.document&&s.window.document.documentElement.style;function g(vt){if(!d)return vt[0];for(var K=0;K<vt.length;K++)if(vt[K]in d)return vt[K];return vt[0]}var r=g(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),e;M.disableDrag=function(){d&&r&&(e=d[r],d[r]="none")},M.enableDrag=function(){d&&r&&(d[r]=e)};var o=g(["transform","WebkitTransform"]);M.setTransform=function(vt,K){vt.style[o]=K};var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});s.window.addEventListener("test",u,u),s.window.removeEventListener("test",u,u)}catch{n=!1}M.addEventListener=function(vt,K,gt,rt){rt===void 0&&(rt={}),"passive"in rt&&n?vt.addEventListener(K,gt,rt):vt.addEventListener(K,gt,rt.capture)},M.removeEventListener=function(vt,K,gt,rt){rt===void 0&&(rt={}),"passive"in rt&&n?vt.removeEventListener(K,gt,rt):vt.removeEventListener(K,gt,rt.capture)};var f=function(vt){vt.preventDefault(),vt.stopPropagation(),s.window.removeEventListener("click",f,!0)};M.suppressClick=function(){s.window.addEventListener("click",f,!0),s.window.setTimeout(function(){s.window.removeEventListener("click",f,!0)},0)},M.mousePos=function(vt,K){var gt=vt.getBoundingClientRect();return new s.Point(K.clientX-gt.left-vt.clientLeft,K.clientY-gt.top-vt.clientTop)},M.touchPos=function(vt,K){for(var gt=vt.getBoundingClientRect(),rt=[],yt=0;yt<K.length;yt++)rt.push(new s.Point(K[yt].clientX-gt.left-vt.clientLeft,K[yt].clientY-gt.top-vt.clientTop));return rt},M.mouseButton=function(vt){return typeof s.window.InstallTrigger<"u"&&vt.button===2&&vt.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:vt.button},M.remove=function(vt){vt.parentNode&&vt.parentNode.removeChild(vt)};function c(vt,K,gt){var rt,yt,Bt,Xt=s.browser.devicePixelRatio>1?"@2x":"",ce=s.getJSON(K.transformRequest(K.normalizeSpriteURL(vt,Xt,".json"),s.ResourceType.SpriteJSON),function(qe,ur){ce=null,Bt||(Bt=qe,rt=ur,Ne())}),Ce=s.getImage(K.transformRequest(K.normalizeSpriteURL(vt,Xt,".png"),s.ResourceType.SpriteImage),function(qe,ur){Ce=null,Bt||(Bt=qe,yt=ur,Ne())});function Ne(){if(Bt)gt(Bt);else if(rt&&yt){var qe=s.browser.getImageData(yt),ur={};for(var lr in rt){var Fr=rt[lr],Zr=Fr.width,Xr=Fr.height,Wr=Fr.x,Jr=Fr.y,dn=Fr.sdf,kn=Fr.pixelRatio,Vn=Fr.stretchX,Xn=Fr.stretchY,Kn=Fr.content,Wn=new s.RGBAImage({width:Zr,height:Xr});s.RGBAImage.copy(qe,Wn,{x:Wr,y:Jr},{x:0,y:0},{width:Zr,height:Xr}),ur[lr]={data:Wn,pixelRatio:kn,sdf:dn,stretchX:Vn,stretchY:Xn,content:Kn}}gt(null,ur)}}return{cancel:function(){ce&&(ce.cancel(),ce=null),Ce&&(Ce.cancel(),Ce=null)}}}function m(vt){var K=vt.userImage;if(K&&K.render){var gt=K.render();if(gt)return vt.data.replace(new Uint8Array(K.data.buffer)),!0}return!1}var v=1,T=function(vt){function K(){vt.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.isLoaded=function(){return this.loaded},K.prototype.setLoaded=function(rt){if(this.loaded!==rt&&(this.loaded=rt,rt)){for(var yt=0,Bt=this.requestors;yt<Bt.length;yt+=1){var Xt=Bt[yt],ce=Xt.ids,Ce=Xt.callback;this._notify(ce,Ce)}this.requestors=[]}},K.prototype.getImage=function(rt){return this.images[rt]},K.prototype.addImage=function(rt,yt){this._validate(rt,yt)&&(this.images[rt]=yt)},K.prototype._validate=function(rt,yt){var Bt=!0;return this._validateStretch(yt.stretchX,yt.data&&yt.data.width)||(this.fire(new s.ErrorEvent(new Error('Image "'+rt+'" has invalid "stretchX" value'))),Bt=!1),this._validateStretch(yt.stretchY,yt.data&&yt.data.height)||(this.fire(new s.ErrorEvent(new Error('Image "'+rt+'" has invalid "stretchY" value'))),Bt=!1),this._validateContent(yt.content,yt)||(this.fire(new s.ErrorEvent(new Error('Image "'+rt+'" has invalid "content" value'))),Bt=!1),Bt},K.prototype._validateStretch=function(rt,yt){if(!rt)return!0;for(var Bt=0,Xt=0,ce=rt;Xt<ce.length;Xt+=1){var Ce=ce[Xt];if(Ce[0]<Bt||Ce[1]<Ce[0]||yt<Ce[1])return!1;Bt=Ce[1]}return!0},K.prototype._validateContent=function(rt,yt){return rt?!(rt.length!==4||rt[0]<0||yt.data.width<rt[0]||rt[1]<0||yt.data.height<rt[1]||rt[2]<0||yt.data.width<rt[2]||rt[3]<0||yt.data.height<rt[3]||rt[2]<rt[0]||rt[3]<rt[1]):!0},K.prototype.updateImage=function(rt,yt){var Bt=this.images[rt];yt.version=Bt.version+1,this.images[rt]=yt,this.updatedImages[rt]=!0},K.prototype.removeImage=function(rt){var yt=this.images[rt];delete this.images[rt],delete this.patterns[rt],yt.userImage&&yt.userImage.onRemove&&yt.userImage.onRemove()},K.prototype.listImages=function(){return Object.keys(this.images)},K.prototype.getImages=function(rt,yt){var Bt=!0;if(!this.isLoaded())for(var Xt=0,ce=rt;Xt<ce.length;Xt+=1){var Ce=ce[Xt];this.images[Ce]||(Bt=!1)}this.isLoaded()||Bt?this._notify(rt,yt):this.requestors.push({ids:rt,callback:yt})},K.prototype._notify=function(rt,yt){for(var Bt={},Xt=0,ce=rt;Xt<ce.length;Xt+=1){var Ce=ce[Xt];this.images[Ce]||this.fire(new s.Event("styleimagemissing",{id:Ce}));var Ne=this.images[Ce];Ne?Bt[Ce]={data:Ne.data.clone(),pixelRatio:Ne.pixelRatio,sdf:Ne.sdf,version:Ne.version,stretchX:Ne.stretchX,stretchY:Ne.stretchY,content:Ne.content,hasRenderCallback:!!(Ne.userImage&&Ne.userImage.render)}:s.warnOnce('Image "'+Ce+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}yt(null,Bt)},K.prototype.getPixelSize=function(){var rt=this.atlasImage,yt=rt.width,Bt=rt.height;return{width:yt,height:Bt}},K.prototype.getPattern=function(rt){var yt=this.patterns[rt],Bt=this.getImage(rt);if(!Bt)return null;if(yt&&yt.position.version===Bt.version)return yt.position;if(yt)yt.position.version=Bt.version;else{var Xt=Bt.data.width+v*2,ce=Bt.data.height+v*2,Ce={w:Xt,h:ce,x:0,y:0},Ne=new s.ImagePosition(Ce,Bt);this.patterns[rt]={bin:Ce,position:Ne}}return this._updatePatternAtlas(),this.patterns[rt].position},K.prototype.bind=function(rt){var yt=rt.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(rt,this.atlasImage,yt.RGBA),this.atlasTexture.bind(yt.LINEAR,yt.CLAMP_TO_EDGE)},K.prototype._updatePatternAtlas=function(){var rt=[];for(var yt in this.patterns)rt.push(this.patterns[yt].bin);var Bt=s.potpack(rt),Xt=Bt.w,ce=Bt.h,Ce=this.atlasImage;Ce.resize({width:Xt||1,height:ce||1});for(var Ne in this.patterns){var qe=this.patterns[Ne],ur=qe.bin,lr=ur.x+v,Fr=ur.y+v,Zr=this.images[Ne].data,Xr=Zr.width,Wr=Zr.height;s.RGBAImage.copy(Zr,Ce,{x:0,y:0},{x:lr,y:Fr},{width:Xr,height:Wr}),s.RGBAImage.copy(Zr,Ce,{x:0,y:Wr-1},{x:lr,y:Fr-1},{width:Xr,height:1}),s.RGBAImage.copy(Zr,Ce,{x:0,y:0},{x:lr,y:Fr+Wr},{width:Xr,height:1}),s.RGBAImage.copy(Zr,Ce,{x:Xr-1,y:0},{x:lr-1,y:Fr},{width:1,height:Wr}),s.RGBAImage.copy(Zr,Ce,{x:0,y:0},{x:lr+Xr,y:Fr},{width:1,height:Wr})}this.dirty=!0},K.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},K.prototype.dispatchRenderCallbacks=function(rt){for(var yt=0,Bt=rt;yt<Bt.length;yt+=1){var Xt=Bt[yt];if(!this.callbackDispatchedThisFrame[Xt]){this.callbackDispatchedThisFrame[Xt]=!0;var ce=this.images[Xt],Ce=m(ce);Ce&&this.updateImage(Xt,ce)}}},K}(s.Evented);function h(vt,K,gt,rt,yt){var Bt=K*256,Xt=Bt+255,ce=rt.transformRequest(rt.normalizeGlyphsURL(gt).replace("{fontstack}",vt).replace("{range}",Bt+"-"+Xt),s.ResourceType.Glyphs);s.getArrayBuffer(ce,function(Ce,Ne){if(Ce)yt(Ce);else if(Ne){for(var qe={},ur=0,lr=s.parseGlyphPBF(Ne);ur<lr.length;ur+=1){var Fr=lr[ur];qe[Fr.id]=Fr}yt(null,qe)}})}var i=A,p=A,w=1e20;function A(vt,K,gt,rt,yt,Bt){this.fontSize=vt||24,this.buffer=K===void 0?3:K,this.cutoff=rt||.25,this.fontFamily=yt||"sans-serif",this.fontWeight=Bt||"normal",this.radius=gt||8;var Xt=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Xt,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Xt*Xt),this.gridInner=new Float64Array(Xt*Xt),this.f=new Float64Array(Xt),this.d=new Float64Array(Xt),this.z=new Float64Array(Xt+1),this.v=new Int16Array(Xt),this.middle=Math.round(Xt/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}A.prototype.draw=function(vt){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(vt,this.buffer,this.middle);for(var K=this.ctx.getImageData(0,0,this.size,this.size),gt=new Uint8ClampedArray(this.size*this.size),rt=0;rt<this.size*this.size;rt++){var yt=K.data[rt*4+3]/255;this.gridOuter[rt]=yt===1?0:yt===0?w:Math.pow(Math.max(0,.5-yt),2),this.gridInner[rt]=yt===1?w:yt===0?0:Math.pow(Math.max(0,yt-.5),2)}for(L(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),L(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),rt=0;rt<this.size*this.size;rt++){var Bt=this.gridOuter[rt]-this.gridInner[rt];gt[rt]=Math.max(0,Math.min(255,Math.round(255-255*(Bt/this.radius+this.cutoff))))}return gt};function L(vt,K,gt,rt,yt,Bt,Xt){for(var ce=0;ce<K;ce++){for(var Ce=0;Ce<gt;Ce++)rt[Ce]=vt[Ce*K+ce];for(x(rt,yt,Bt,Xt,gt),Ce=0;Ce<gt;Ce++)vt[Ce*K+ce]=yt[Ce]}for(Ce=0;Ce<gt;Ce++){for(ce=0;ce<K;ce++)rt[ce]=vt[Ce*K+ce];for(x(rt,yt,Bt,Xt,K),ce=0;ce<K;ce++)vt[Ce*K+ce]=Math.sqrt(yt[ce])}}function x(vt,K,gt,rt,yt){gt[0]=0,rt[0]=-w,rt[1]=+w;for(var Bt=1,Xt=0;Bt<yt;Bt++){for(var ce=(vt[Bt]+Bt*Bt-(vt[gt[Xt]]+gt[Xt]*gt[Xt]))/(2*Bt-2*gt[Xt]);ce<=rt[Xt];)Xt--,ce=(vt[Bt]+Bt*Bt-(vt[gt[Xt]]+gt[Xt]*gt[Xt]))/(2*Bt-2*gt[Xt]);Xt++,gt[Xt]=Bt,rt[Xt]=ce,rt[Xt+1]=+w}for(Bt=0,Xt=0;Bt<yt;Bt++){for(;rt[Xt+1]<Bt;)Xt++;K[Bt]=(Bt-gt[Xt])*(Bt-gt[Xt])+vt[gt[Xt]]}}i.default=p;var E=function(K,gt){this.requestManager=K,this.localIdeographFontFamily=gt,this.entries={}};E.prototype.setURL=function(K){this.url=K},E.prototype.getGlyphs=function(K,gt){var rt=this,yt=[];for(var Bt in K)for(var Xt=0,ce=K[Bt];Xt<ce.length;Xt+=1){var Ce=ce[Xt];yt.push({stack:Bt,id:Ce})}s.asyncAll(yt,function(Ne,qe){var ur=Ne.stack,lr=Ne.id,Fr=rt.entries[ur];Fr||(Fr=rt.entries[ur]={glyphs:{},requests:{},ranges:{}});var Zr=Fr.glyphs[lr];if(Zr!==void 0){qe(null,{stack:ur,id:lr,glyph:Zr});return}if(Zr=rt._tinySDF(Fr,ur,lr),Zr){Fr.glyphs[lr]=Zr,qe(null,{stack:ur,id:lr,glyph:Zr});return}var Xr=Math.floor(lr/256);if(Xr*256>65535){qe(new Error("glyphs > 65535 not supported"));return}if(Fr.ranges[Xr]){qe(null,{stack:ur,id:lr,glyph:Zr});return}var Wr=Fr.requests[Xr];Wr||(Wr=Fr.requests[Xr]=[],E.loadGlyphRange(ur,Xr,rt.url,rt.requestManager,function(Jr,dn){if(dn){for(var kn in dn)rt._doesCharSupportLocalGlyph(+kn)||(Fr.glyphs[+kn]=dn[+kn]);Fr.ranges[Xr]=!0}for(var Vn=0,Xn=Wr;Vn<Xn.length;Vn+=1){var Kn=Xn[Vn];Kn(Jr,dn)}delete Fr.requests[Xr]})),Wr.push(function(Jr,dn){Jr?qe(Jr):dn&&qe(null,{stack:ur,id:lr,glyph:dn[lr]||null})})},function(Ne,qe){if(Ne)gt(Ne);else if(qe){for(var ur={},lr=0,Fr=qe;lr<Fr.length;lr+=1){var Zr=Fr[lr],Xr=Zr.stack,Wr=Zr.id,Jr=Zr.glyph;(ur[Xr]||(ur[Xr]={}))[Wr]=Jr&&{id:Jr.id,bitmap:Jr.bitmap.clone(),metrics:Jr.metrics}}gt(null,ur)}})},E.prototype._doesCharSupportLocalGlyph=function(K){return!!this.localIdeographFontFamily&&(s.isChar["CJK Unified Ideographs"](K)||s.isChar["Hangul Syllables"](K)||s.isChar.Hiragana(K)||s.isChar.Katakana(K))},E.prototype._tinySDF=function(K,gt,rt){var yt=this.localIdeographFontFamily;if(yt&&this._doesCharSupportLocalGlyph(rt)){var Bt=K.tinySDF;if(!Bt){var Xt="400";/bold/i.test(gt)?Xt="900":/medium/i.test(gt)?Xt="500":/light/i.test(gt)&&(Xt="200"),Bt=K.tinySDF=new E.TinySDF(24,3,8,.25,yt,Xt)}return{id:rt,bitmap:new s.AlphaImage({width:30,height:30},Bt.draw(String.fromCharCode(rt))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=h,E.TinySDF=i;var S=function(){this.specification=s.styleSpec.light.position};S.prototype.possiblyEvaluate=function(K,gt){return s.sphericalToCartesian(K.expression.evaluate(gt))},S.prototype.interpolate=function(K,gt,rt){return{x:s.number(K.x,gt.x,rt),y:s.number(K.y,gt.y,rt),z:s.number(K.z,gt.z,rt)}};var a=new s.Properties({anchor:new s.DataConstantProperty(s.styleSpec.light.anchor),position:new S,color:new s.DataConstantProperty(s.styleSpec.light.color),intensity:new s.DataConstantProperty(s.styleSpec.light.intensity)}),C="-transition",b=function(vt){function K(gt){vt.call(this),this._transitionable=new s.Transitionable(a),this.setLight(gt),this._transitioning=this._transitionable.untransitioned()}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getLight=function(){return this._transitionable.serialize()},K.prototype.setLight=function(rt,yt){if(yt===void 0&&(yt={}),!this._validate(s.validateLight,rt,yt))for(var Bt in rt){var Xt=rt[Bt];s.endsWith(Bt,C)?this._transitionable.setTransition(Bt.slice(0,-C.length),Xt):this._transitionable.setValue(Bt,Xt)}},K.prototype.updateTransitions=function(rt){this._transitioning=this._transitionable.transitioned(rt,this._transitioning)},K.prototype.hasTransition=function(){return this._transitioning.hasTransition()},K.prototype.recalculate=function(rt){this.properties=this._transitioning.possiblyEvaluate(rt)},K.prototype._validate=function(rt,yt,Bt){return Bt&&Bt.validate===!1?!1:s.emitValidationErrors(this,rt.call(s.validateStyle,s.extend({value:yt,style:{glyphs:!0,sprite:!0},styleSpec:s.styleSpec})))},K}(s.Evented),z=function(K,gt){this.width=K,this.height=gt,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};z.prototype.getDash=function(K,gt){var rt=K.join(",")+String(gt);return this.dashEntry[rt]||(this.dashEntry[rt]=this.addDash(K,gt)),this.dashEntry[rt]},z.prototype.getDashRanges=function(K,gt,rt){var yt=K.length%2===1,Bt=[],Xt=yt?-K[K.length-1]*rt:0,ce=K[0]*rt,Ce=!0;Bt.push({left:Xt,right:ce,isDash:Ce,zeroLength:K[0]===0});for(var Ne=K[0],qe=1;qe<K.length;qe++){Ce=!Ce;var ur=K[qe];Xt=Ne*rt,Ne+=ur,ce=Ne*rt,Bt.push({left:Xt,right:ce,isDash:Ce,zeroLength:ur===0})}return Bt},z.prototype.addRoundDash=function(K,gt,rt){for(var yt=gt/2,Bt=-rt;Bt<=rt;Bt++)for(var Xt=this.nextRow+rt+Bt,ce=this.width*Xt,Ce=0,Ne=K[Ce],qe=0;qe<this.width;qe++){qe/Ne.right>1&&(Ne=K[++Ce]);var ur=Math.abs(qe-Ne.left),lr=Math.abs(qe-Ne.right),Fr=Math.min(ur,lr),Zr=void 0,Xr=Bt/rt*(yt+1);if(Ne.isDash){var Wr=yt-Math.abs(Xr);Zr=Math.sqrt(Fr*Fr+Wr*Wr)}else Zr=yt-Math.sqrt(Fr*Fr+Xr*Xr);this.data[ce+qe]=Math.max(0,Math.min(255,Zr+128))}},z.prototype.addRegularDash=function(K){for(var gt=K.length-1;gt>=0;--gt){var rt=K[gt],yt=K[gt+1];rt.zeroLength?K.splice(gt,1):yt&&yt.isDash===rt.isDash&&(yt.left=rt.left,K.splice(gt,1))}var Bt=K[0],Xt=K[K.length-1];Bt.isDash===Xt.isDash&&(Bt.left=Xt.left-this.width,Xt.right=Bt.right+this.width);for(var ce=this.width*this.nextRow,Ce=0,Ne=K[Ce],qe=0;qe<this.width;qe++){qe/Ne.right>1&&(Ne=K[++Ce]);var ur=Math.abs(qe-Ne.left),lr=Math.abs(qe-Ne.right),Fr=Math.min(ur,lr),Zr=Ne.isDash?Fr:-Fr;this.data[ce+qe]=Math.max(0,Math.min(255,Zr+128))}},z.prototype.addDash=function(K,gt){var rt=gt?7:0,yt=2*rt+1;if(this.nextRow+yt>this.height)return s.warnOnce("LineAtlas out of space"),null;for(var Bt=0,Xt=0;Xt<K.length;Xt++)Bt+=K[Xt];if(Bt!==0){var ce=this.width/Bt,Ce=this.getDashRanges(K,this.width,ce);gt?this.addRoundDash(Ce,ce,rt):this.addRegularDash(Ce)}var Ne={y:(this.nextRow+rt+.5)/this.height,height:2*rt/this.height,width:Bt};return this.nextRow+=yt,this.dirty=!0,Ne},z.prototype.bind=function(K){var gt=K.gl;this.texture?(gt.bindTexture(gt.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,gt.texSubImage2D(gt.TEXTURE_2D,0,0,0,this.width,this.height,gt.ALPHA,gt.UNSIGNED_BYTE,this.data))):(this.texture=gt.createTexture(),gt.bindTexture(gt.TEXTURE_2D,this.texture),gt.texParameteri(gt.TEXTURE_2D,gt.TEXTURE_WRAP_S,gt.REPEAT),gt.texParameteri(gt.TEXTURE_2D,gt.TEXTURE_WRAP_T,gt.REPEAT),gt.texParameteri(gt.TEXTURE_2D,gt.TEXTURE_MIN_FILTER,gt.LINEAR),gt.texParameteri(gt.TEXTURE_2D,gt.TEXTURE_MAG_FILTER,gt.LINEAR),gt.texImage2D(gt.TEXTURE_2D,0,gt.ALPHA,this.width,this.height,0,gt.ALPHA,gt.UNSIGNED_BYTE,this.data))};var k=function vt(K,gt){this.workerPool=K,this.actors=[],this.currentActor=0,this.id=s.uniqueId();for(var rt=this.workerPool.acquire(this.id),yt=0;yt<rt.length;yt++){var Bt=rt[yt],Xt=new vt.Actor(Bt,gt,this.id);Xt.name="Worker "+yt,this.actors.push(Xt)}};k.prototype.broadcast=function(K,gt,rt){rt=rt||function(){},s.asyncAll(this.actors,function(yt,Bt){yt.send(K,gt,Bt)},rt)},k.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},k.prototype.remove=function(){this.actors.forEach(function(K){K.remove()}),this.actors=[],this.workerPool.release(this.id)},k.Actor=s.Actor;function U(vt,K,gt){var rt=function(yt,Bt){if(yt)return gt(yt);if(Bt){var Xt=s.pick(s.extend(Bt,vt),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Bt.vector_layers&&(Xt.vectorLayers=Bt.vector_layers,Xt.vectorLayerIds=Xt.vectorLayers.map(function(ce){return ce.id})),Xt.tiles=K.canonicalizeTileset(Xt,vt.url),gt(null,Xt)}};return vt.url?s.getJSON(K.transformRequest(K.normalizeSourceURL(vt.url),s.ResourceType.Source),rt):s.browser.frame(function(){return rt(null,vt)})}var F=function(K,gt,rt){this.bounds=s.LngLatBounds.convert(this.validateBounds(K)),this.minzoom=gt||0,this.maxzoom=rt||24};F.prototype.validateBounds=function(K){return!Array.isArray(K)||K.length!==4?[-180,-90,180,90]:[Math.max(-180,K[0]),Math.max(-90,K[1]),Math.min(180,K[2]),Math.min(90,K[3])]},F.prototype.contains=function(K){var gt=Math.pow(2,K.z),rt={minX:Math.floor(s.mercatorXfromLng(this.bounds.getWest())*gt),minY:Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*gt),maxX:Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*gt),maxY:Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*gt)},yt=K.x>=rt.minX&&K.x<rt.maxX&&K.y>=rt.minY&&K.y<rt.maxY;return yt};var V=function(vt){function K(gt,rt,yt,Bt){if(vt.call(this),this.id=gt,this.dispatcher=yt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(rt,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},rt),this._collectResourceTiming=rt.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Bt)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.load=function(){var rt=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(yt,Bt){rt._tileJSONRequest=null,rt._loaded=!0,yt?rt.fire(new s.ErrorEvent(yt)):Bt&&(s.extend(rt,Bt),Bt.bounds&&(rt.tileBounds=new F(Bt.bounds,rt.minzoom,rt.maxzoom)),s.postTurnstileEvent(Bt.tiles,rt.map._requestManager._customAccessToken),s.postMapLoadEvent(Bt.tiles,rt.map._getMapId(),rt.map._requestManager._skuToken,rt.map._requestManager._customAccessToken),rt.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),rt.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.hasTile=function(rt){return!this.tileBounds||this.tileBounds.contains(rt.canonical)},K.prototype.onAdd=function(rt){this.map=rt,this.load()},K.prototype.setSourceProperty=function(rt){this._tileJSONRequest&&this._tileJSONRequest.cancel(),rt();var yt=this.map.style.sourceCaches[this.id];yt.clearTiles(),this.load()},K.prototype.setTiles=function(rt){var yt=this;return this.setSourceProperty(function(){yt._options.tiles=rt}),this},K.prototype.setUrl=function(rt){var yt=this;return this.setSourceProperty(function(){yt.url=rt,yt._options.url=rt}),this},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return s.extend({},this._options)},K.prototype.loadTile=function(rt,yt){var Bt=this.map._requestManager.normalizeTileURL(rt.tileID.canonical.url(this.tiles,this.scheme)),Xt={request:this.map._requestManager.transformRequest(Bt,s.ResourceType.Tile),uid:rt.uid,tileID:rt.tileID,zoom:rt.tileID.overscaledZ,tileSize:this.tileSize*rt.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Xt.request.collectResourceTiming=this._collectResourceTiming,!rt.actor||rt.state==="expired"?(rt.actor=this.dispatcher.getActor(),rt.request=rt.actor.send("loadTile",Xt,ce.bind(this))):rt.state==="loading"?rt.reloadCallback=yt:rt.request=rt.actor.send("reloadTile",Xt,ce.bind(this));function ce(Ce,Ne){if(delete rt.request,rt.aborted)return yt(null);if(Ce&&Ce.status!==404)return yt(Ce);Ne&&Ne.resourceTiming&&(rt.resourceTiming=Ne.resourceTiming),this.map._refreshExpiredTiles&&Ne&&rt.setExpiryData(Ne),rt.loadVectorData(Ne,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),yt(null),rt.reloadCallback&&(this.loadTile(rt,rt.reloadCallback),rt.reloadCallback=null)}},K.prototype.abortTile=function(rt){rt.request&&(rt.request.cancel(),delete rt.request),rt.actor&&rt.actor.send("abortTile",{uid:rt.uid,type:this.type,source:this.id},void 0)},K.prototype.unloadTile=function(rt){rt.unloadVectorData(),rt.actor&&rt.actor.send("removeTile",{uid:rt.uid,type:this.type,source:this.id},void 0)},K.prototype.hasTransition=function(){return!1},K}(s.Evented),N=function(vt){function K(gt,rt,yt,Bt){vt.call(this),this.id=gt,this.dispatcher=yt,this.setEventedParent(Bt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},rt),s.extend(this,s.pick(rt,["url","scheme","tileSize"]))}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.load=function(){var rt=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(yt,Bt){rt._tileJSONRequest=null,rt._loaded=!0,yt?rt.fire(new s.ErrorEvent(yt)):Bt&&(s.extend(rt,Bt),Bt.bounds&&(rt.tileBounds=new F(Bt.bounds,rt.minzoom,rt.maxzoom)),s.postTurnstileEvent(Bt.tiles),s.postMapLoadEvent(Bt.tiles,rt.map._getMapId(),rt.map._requestManager._skuToken),rt.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),rt.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})},K.prototype.loaded=function(){return this._loaded},K.prototype.onAdd=function(rt){this.map=rt,this.load()},K.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},K.prototype.serialize=function(){return s.extend({},this._options)},K.prototype.hasTile=function(rt){return!this.tileBounds||this.tileBounds.contains(rt.canonical)},K.prototype.loadTile=function(rt,yt){var Bt=this,Xt=this.map._requestManager.normalizeTileURL(rt.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);rt.request=s.getImage(this.map._requestManager.transformRequest(Xt,s.ResourceType.Tile),function(ce,Ce){if(delete rt.request,rt.aborted)rt.state="unloaded",yt(null);else if(ce)rt.state="errored",yt(ce);else if(Ce){Bt.map._refreshExpiredTiles&&rt.setExpiryData(Ce),delete Ce.cacheControl,delete Ce.expires;var Ne=Bt.map.painter.context,qe=Ne.gl;rt.texture=Bt.map.painter.getTileTexture(Ce.width),rt.texture?rt.texture.update(Ce,{useMipmap:!0}):(rt.texture=new s.Texture(Ne,Ce,qe.RGBA,{useMipmap:!0}),rt.texture.bind(qe.LINEAR,qe.CLAMP_TO_EDGE,qe.LINEAR_MIPMAP_NEAREST),Ne.extTextureFilterAnisotropic&&qe.texParameterf(qe.TEXTURE_2D,Ne.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ne.extTextureFilterAnisotropicMax)),rt.state="loaded",s.cacheEntryPossiblyAdded(Bt.dispatcher),yt(null)}})},K.prototype.abortTile=function(rt,yt){rt.request&&(rt.request.cancel(),delete rt.request),yt()},K.prototype.unloadTile=function(rt,yt){rt.texture&&this.map.painter.saveTileTexture(rt.texture),yt()},K.prototype.hasTransition=function(){return!1},K}(s.Evented),O=function(vt){function K(gt,rt,yt,Bt){vt.call(this,gt,rt,yt,Bt),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},rt),this.encoding=rt.encoding||"mapbox"}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},K.prototype.loadTile=function(rt,yt){var Bt=this.map._requestManager.normalizeTileURL(rt.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);rt.request=s.getImage(this.map._requestManager.transformRequest(Bt,s.ResourceType.Tile),Xt.bind(this)),rt.neighboringTiles=this._getNeighboringTiles(rt.tileID);function Xt(Ce,Ne){if(delete rt.request,rt.aborted)rt.state="unloaded",yt(null);else if(Ce)rt.state="errored",yt(Ce);else if(Ne){this.map._refreshExpiredTiles&&rt.setExpiryData(Ne),delete Ne.cacheControl,delete Ne.expires;var qe=s.window.ImageBitmap&&Ne instanceof s.window.ImageBitmap&&s.offscreenCanvasSupported(),ur=qe?Ne:s.browser.getImageData(Ne,1),lr={uid:rt.uid,coord:rt.tileID,source:this.id,rawImageData:ur,encoding:this.encoding};(!rt.actor||rt.state==="expired")&&(rt.actor=this.dispatcher.getActor(),rt.actor.send("loadDEMTile",lr,ce.bind(this)))}}function ce(Ce,Ne){Ce&&(rt.state="errored",yt(Ce)),Ne&&(rt.dem=Ne,rt.needsHillshadePrepare=!0,rt.state="loaded",yt(null))}},K.prototype._getNeighboringTiles=function(rt){var yt=rt.canonical,Bt=Math.pow(2,yt.z),Xt=(yt.x-1+Bt)%Bt,ce=yt.x===0?rt.wrap-1:rt.wrap,Ce=(yt.x+1+Bt)%Bt,Ne=yt.x+1===Bt?rt.wrap+1:rt.wrap,qe={};return qe[new s.OverscaledTileID(rt.overscaledZ,ce,yt.z,Xt,yt.y).key]={backfilled:!1},qe[new s.OverscaledTileID(rt.overscaledZ,Ne,yt.z,Ce,yt.y).key]={backfilled:!1},yt.y>0&&(qe[new s.OverscaledTileID(rt.overscaledZ,ce,yt.z,Xt,yt.y-1).key]={backfilled:!1},qe[new s.OverscaledTileID(rt.overscaledZ,rt.wrap,yt.z,yt.x,yt.y-1).key]={backfilled:!1},qe[new s.OverscaledTileID(rt.overscaledZ,Ne,yt.z,Ce,yt.y-1).key]={backfilled:!1}),yt.y+1<Bt&&(qe[new s.OverscaledTileID(rt.overscaledZ,ce,yt.z,Xt,yt.y+1).key]={backfilled:!1},qe[new s.OverscaledTileID(rt.overscaledZ,rt.wrap,yt.z,yt.x,yt.y+1).key]={backfilled:!1},qe[new s.OverscaledTileID(rt.overscaledZ,Ne,yt.z,Ce,yt.y+1).key]={backfilled:!1}),qe},K.prototype.unloadTile=function(rt){rt.demTexture&&this.map.painter.saveTileTexture(rt.demTexture),rt.fbo&&(rt.fbo.destroy(),delete rt.fbo),rt.dem&&delete rt.dem,delete rt.neighboringTiles,rt.state="unloaded",rt.actor&&rt.actor.send("removeDEMTile",{uid:rt.uid,source:this.id})},K}(N),H=function(vt){function K(gt,rt,yt,Bt){vt.call(this),this.id=gt,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=yt.getActor(),this.setEventedParent(Bt),this._data=rt.data,this._options=s.extend({},rt),this._collectResourceTiming=rt.collectResourceTiming,this._resourceTiming=[],rt.maxzoom!==void 0&&(this.maxzoom=rt.maxzoom),rt.type&&(this.type=rt.type),rt.attribution&&(this.attribution=rt.attribution),this.promoteId=rt.promoteId;var Xt=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:rt.cluster||!1,geojsonVtOptions:{buffer:(rt.buffer!==void 0?rt.buffer:128)*Xt,tolerance:(rt.tolerance!==void 0?rt.tolerance:.375)*Xt,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:rt.lineMetrics||!1,generateId:rt.generateId||!1},superclusterOptions:{maxZoom:rt.clusterMaxZoom!==void 0?Math.min(rt.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,rt.clusterMinPoints||2),extent:s.EXTENT,radius:(rt.clusterRadius||50)*Xt,log:!1,generateId:rt.generateId||!1},clusterProperties:rt.clusterProperties,filter:rt.filter},rt.workerOptions)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.load=function(){var rt=this;this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(yt){if(yt){rt.fire(new s.ErrorEvent(yt));return}var Bt={dataType:"source",sourceDataType:"metadata"};rt._collectResourceTiming&&rt._resourceTiming&&rt._resourceTiming.length>0&&(Bt.resourceTiming=rt._resourceTiming,rt._resourceTiming=[]),rt.fire(new s.Event("data",Bt))})},K.prototype.onAdd=function(rt){this.map=rt,this.load()},K.prototype.setData=function(rt){var yt=this;return this._data=rt,this.fire(new s.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Bt){if(Bt){yt.fire(new s.ErrorEvent(Bt));return}var Xt={dataType:"source",sourceDataType:"content"};yt._collectResourceTiming&&yt._resourceTiming&&yt._resourceTiming.length>0&&(Xt.resourceTiming=yt._resourceTiming,yt._resourceTiming=[]),yt.fire(new s.Event("data",Xt))}),this},K.prototype.getClusterExpansionZoom=function(rt,yt){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:rt,source:this.id},yt),this},K.prototype.getClusterChildren=function(rt,yt){return this.actor.send("geojson.getClusterChildren",{clusterId:rt,source:this.id},yt),this},K.prototype.getClusterLeaves=function(rt,yt,Bt,Xt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:rt,limit:yt,offset:Bt},Xt),this},K.prototype._updateWorkerData=function(rt){var yt=this;this._loaded=!1;var Bt=s.extend({},this.workerOptions),Xt=this._data;typeof Xt=="string"?(Bt.request=this.map._requestManager.transformRequest(s.browser.resolveURL(Xt),s.ResourceType.Source),Bt.request.collectResourceTiming=this._collectResourceTiming):Bt.data=JSON.stringify(Xt),this.actor.send(this.type+".loadData",Bt,function(ce,Ce){yt._removed||Ce&&Ce.abandoned||(yt._loaded=!0,Ce&&Ce.resourceTiming&&Ce.resourceTiming[yt.id]&&(yt._resourceTiming=Ce.resourceTiming[yt.id].slice(0)),yt.actor.send(yt.type+".coalesce",{source:Bt.source},null),rt(ce))})},K.prototype.loaded=function(){return this._loaded},K.prototype.loadTile=function(rt,yt){var Bt=this,Xt=rt.actor?"reloadTile":"loadTile";rt.actor=this.actor;var ce={type:this.type,uid:rt.uid,tileID:rt.tileID,zoom:rt.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};rt.request=this.actor.send(Xt,ce,function(Ce,Ne){return delete rt.request,rt.unloadVectorData(),rt.aborted?yt(null):Ce?yt(Ce):(rt.loadVectorData(Ne,Bt.map.painter,Xt==="reloadTile"),yt(null))})},K.prototype.abortTile=function(rt){rt.request&&(rt.request.cancel(),delete rt.request),rt.aborted=!0},K.prototype.unloadTile=function(rt){rt.unloadVectorData(),this.actor.send("removeTile",{uid:rt.uid,type:this.type,source:this.id})},K.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},K.prototype.serialize=function(){return s.extend({},this._options,{type:this.type,data:this._data})},K.prototype.hasTransition=function(){return!1},K}(s.Evented),X=s.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),J=function(vt){function K(gt,rt,yt,Bt){vt.call(this),this.id=gt,this.dispatcher=yt,this.coordinates=rt.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Bt),this.options=rt}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.load=function(rt,yt){var Bt=this;this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),function(Xt,ce){Bt._loaded=!0,Xt?Bt.fire(new s.ErrorEvent(Xt)):ce&&(Bt.image=ce,rt&&(Bt.coordinates=rt),yt&&yt(),Bt._finishLoading())})},K.prototype.loaded=function(){return this._loaded},K.prototype.updateImage=function(rt){var yt=this;return!this.image||!rt.url?this:(this.options.url=rt.url,this.load(rt.coordinates,function(){yt.texture=null}),this)},K.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))},K.prototype.onAdd=function(rt){this.map=rt,this.load()},K.prototype.setCoordinates=function(rt){var yt=this;this.coordinates=rt;var Bt=rt.map(s.MercatorCoordinate.fromLngLat);this.tileID=et(Bt),this.minzoom=this.maxzoom=this.tileID.z;var Xt=Bt.map(function(ce){return yt.tileID.getTilePoint(ce)._round()});return this._boundsArray=new s.StructArrayLayout4i8,this._boundsArray.emplaceBack(Xt[0].x,Xt[0].y,0,0),this._boundsArray.emplaceBack(Xt[1].x,Xt[1].y,s.EXTENT,0),this._boundsArray.emplaceBack(Xt[3].x,Xt[3].y,0,s.EXTENT),this._boundsArray.emplaceBack(Xt[2].x,Xt[2].y,s.EXTENT,s.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var rt=this.map.painter.context,yt=rt.gl;this.boundsBuffer||(this.boundsBuffer=rt.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new s.Texture(rt,this.image,yt.RGBA),this.texture.bind(yt.LINEAR,yt.CLAMP_TO_EDGE));for(var Bt in this.tiles){var Xt=this.tiles[Bt];Xt.state!=="loaded"&&(Xt.state="loaded",Xt.texture=this.texture)}}},K.prototype.loadTile=function(rt,yt){this.tileID&&this.tileID.equals(rt.tileID.canonical)?(this.tiles[String(rt.tileID.wrap)]=rt,rt.buckets={},yt(null)):(rt.state="errored",yt(null))},K.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return!1},K}(s.Evented);function et(vt){for(var K=1/0,gt=1/0,rt=-1/0,yt=-1/0,Bt=0,Xt=vt;Bt<Xt.length;Bt+=1){var ce=Xt[Bt];K=Math.min(K,ce.x),gt=Math.min(gt,ce.y),rt=Math.max(rt,ce.x),yt=Math.max(yt,ce.y)}var Ce=rt-K,Ne=yt-gt,qe=Math.max(Ce,Ne),ur=Math.max(0,Math.floor(-Math.log(qe)/Math.LN2)),lr=Math.pow(2,ur);return new s.CanonicalTileID(ur,Math.floor((K+rt)/2*lr),Math.floor((gt+yt)/2*lr))}var it=function(vt){function K(gt,rt,yt,Bt){vt.call(this,gt,rt,yt,Bt),this.roundZoom=!0,this.type="video",this.options=rt}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.load=function(){var rt=this;this._loaded=!1;var yt=this.options;this.urls=[];for(var Bt=0,Xt=yt.urls;Bt<Xt.length;Bt+=1){var ce=Xt[Bt];this.urls.push(this.map._requestManager.transformRequest(ce,s.ResourceType.Source).url)}s.getVideo(this.urls,function(Ce,Ne){rt._loaded=!0,Ce?rt.fire(new s.ErrorEvent(Ce)):Ne&&(rt.video=Ne,rt.video.loop=!0,rt.video.addEventListener("playing",function(){rt.map.triggerRepaint()}),rt.map&&rt.video.play(),rt._finishLoading())})},K.prototype.pause=function(){this.video&&this.video.pause()},K.prototype.play=function(){this.video&&this.video.play()},K.prototype.seek=function(rt){if(this.video){var yt=this.video.seekable;rt<yt.start(0)||rt>yt.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+yt.start(0)+" and "+yt.end(0)+"-second mark."))):this.video.currentTime=rt}},K.prototype.getVideo=function(){return this.video},K.prototype.onAdd=function(rt){this.map||(this.map=rt,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},K.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var rt=this.map.painter.context,yt=rt.gl;this.boundsBuffer||(this.boundsBuffer=rt.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(yt.LINEAR,yt.CLAMP_TO_EDGE),yt.texSubImage2D(yt.TEXTURE_2D,0,0,0,yt.RGBA,yt.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(rt,this.video,yt.RGBA),this.texture.bind(yt.LINEAR,yt.CLAMP_TO_EDGE));for(var Bt in this.tiles){var Xt=this.tiles[Bt];Xt.state!=="loaded"&&(Xt.state="loaded",Xt.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this.video&&!this.video.paused},K}(J),ft=function(vt){function K(gt,rt,yt,Bt){vt.call(this,gt,rt,yt,Bt),rt.coordinates?(!Array.isArray(rt.coordinates)||rt.coordinates.length!==4||rt.coordinates.some(function(Xt){return!Array.isArray(Xt)||Xt.length!==2||Xt.some(function(ce){return typeof ce!="number"})}))&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+gt,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+gt,null,'missing required property "coordinates"'))),rt.animate&&typeof rt.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+gt,null,'optional "animate" property must be a boolean value'))),rt.canvas?typeof rt.canvas!="string"&&!(rt.canvas instanceof s.window.HTMLCanvasElement)&&this.fire(new s.ErrorEvent(new s.ValidationError("sources."+gt,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError("sources."+gt,null,'missing required property "canvas"'))),this.options=rt,this.animate=rt.animate!==void 0?rt.animate:!0}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},K.prototype.getCanvas=function(){return this.canvas},K.prototype.onAdd=function(rt){this.map=rt,this.load(),this.canvas&&this.animate&&this.play()},K.prototype.onRemove=function(){this.pause()},K.prototype.prepare=function(){var rt=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,rt=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,rt=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var yt=this.map.painter.context,Bt=yt.gl;this.boundsBuffer||(this.boundsBuffer=yt.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(rt||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(yt,this.canvas,Bt.RGBA,{premultiply:!0});for(var Xt in this.tiles){var ce=this.tiles[Xt];ce.state!=="loaded"&&(ce.state="loaded",ce.texture=this.texture)}}},K.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},K.prototype.hasTransition=function(){return this._playing},K.prototype._hasInvalidDimensions=function(){for(var rt=0,yt=[this.canvas.width,this.canvas.height];rt<yt.length;rt+=1){var Bt=yt[rt];if(isNaN(Bt)||Bt<=0)return!0}return!1},K}(J),ot={vector:V,raster:N,"raster-dem":O,geojson:H,video:it,image:J,canvas:ft},Q=function(vt,K,gt,rt){var yt=new ot[K.type](vt,K,gt,rt);if(yt.id!==vt)throw new Error("Expected Source id to be "+vt+" instead of "+yt.id);return s.bindAll(["load","abort","unload","serialize","prepare"],yt),yt},tt=function(vt){return ot[vt]},Z=function(vt,K){ot[vt]=K};function q(vt,K){var gt=s.identity([]);return s.translate(gt,gt,[1,1,0]),s.scale(gt,gt,[vt.width*.5,vt.height*.5,1]),s.multiply(gt,gt,vt.calculatePosMatrix(K.toUnwrapped()))}function ut(vt,K,gt){if(vt)for(var rt=0,yt=vt;rt<yt.length;rt+=1){var Bt=yt[rt],Xt=K[Bt];if(Xt&&Xt.source===gt&&Xt.type==="fill-extrusion")return!0}else for(var ce in K){var Ce=K[ce];if(Ce.source===gt&&Ce.type==="fill-extrusion")return!0}return!1}function $(vt,K,gt,rt,yt,Bt){var Xt=ut(yt&&yt.layers,K,vt.id),ce=Bt.maxPitchScaleFactor(),Ce=vt.tilesIn(rt,ce,Xt);Ce.sort(nt);for(var Ne=[],qe=0,ur=Ce;qe<ur.length;qe+=1){var lr=ur[qe];Ne.push({wrappedTileID:lr.tileID.wrapped().key,queryResults:lr.tile.queryRenderedFeatures(K,gt,vt._state,lr.queryGeometry,lr.cameraQueryGeometry,lr.scale,yt,Bt,ce,q(vt.transform,lr.tileID))})}var Fr=ht(Ne);for(var Zr in Fr)Fr[Zr].forEach(function(Xr){var Wr=Xr.feature,Jr=vt.getFeatureState(Wr.layer["source-layer"],Wr.id);Wr.source=Wr.layer.source,Wr.layer["source-layer"]&&(Wr.sourceLayer=Wr.layer["source-layer"]),Wr.state=Jr});return Fr}function j(vt,K,gt,rt,yt,Bt,Xt){for(var ce={},Ce=Bt.queryRenderedSymbols(rt),Ne=[],qe=0,ur=Object.keys(Ce).map(Number);qe<ur.length;qe+=1){var lr=ur[qe];Ne.push(Xt[lr])}Ne.sort(nt);for(var Fr=function(){var dn=Xr[Zr],kn=dn.featureIndex.lookupSymbolFeatures(Ce[dn.bucketInstanceId],K,dn.bucketIndex,dn.sourceLayerIndex,yt.filter,yt.layers,yt.availableImages,vt);for(var Vn in kn){var Xn=ce[Vn]=ce[Vn]||[],Kn=kn[Vn];Kn.sort(function(fi,mi){var di=dn.featureSortOrder;if(di){var zi=di.indexOf(fi.featureIndex),Qi=di.indexOf(mi.featureIndex);return Qi-zi}else return mi.featureIndex-fi.featureIndex});for(var Wn=0,Qn=Kn;Wn<Qn.length;Wn+=1){var ii=Qn[Wn];Xn.push(ii)}}},Zr=0,Xr=Ne;Zr<Xr.length;Zr+=1)Fr();var Wr=function(dn){ce[dn].forEach(function(kn){var Vn=kn.feature,Xn=vt[dn],Kn=gt[Xn.source],Wn=Kn.getFeatureState(Vn.layer["source-layer"],Vn.id);Vn.source=Vn.layer.source,Vn.layer["source-layer"]&&(Vn.sourceLayer=Vn.layer["source-layer"]),Vn.state=Wn})};for(var Jr in ce)Wr(Jr);return ce}function lt(vt,K){for(var gt=vt.getRenderableIds().map(function(Ce){return vt.getTileByID(Ce)}),rt=[],yt={},Bt=0;Bt<gt.length;Bt++){var Xt=gt[Bt],ce=Xt.tileID.canonical.key;yt[ce]||(yt[ce]=!0,Xt.querySourceFeatures(rt,K))}return rt}function nt(vt,K){var gt=vt.tileID,rt=K.tileID;return gt.overscaledZ-rt.overscaledZ||gt.canonical.y-rt.canonical.y||gt.wrap-rt.wrap||gt.canonical.x-rt.canonical.x}function ht(vt){for(var K={},gt={},rt=0,yt=vt;rt<yt.length;rt+=1){var Bt=yt[rt],Xt=Bt.queryResults,ce=Bt.wrappedTileID,Ce=gt[ce]=gt[ce]||{};for(var Ne in Xt)for(var qe=Xt[Ne],ur=Ce[Ne]=Ce[Ne]||{},lr=K[Ne]=K[Ne]||[],Fr=0,Zr=qe;Fr<Zr.length;Fr+=1){var Xr=Zr[Fr];ur[Xr.featureIndex]||(ur[Xr.featureIndex]=!0,lr.push(Xr))}}return K}var mt=function(K,gt){this.max=K,this.onRemove=gt,this.reset()};mt.prototype.reset=function(){for(var K in this.data)for(var gt=0,rt=this.data[K];gt<rt.length;gt+=1){var yt=rt[gt];yt.timeout&&clearTimeout(yt.timeout),this.onRemove(yt.value)}return this.data={},this.order=[],this},mt.prototype.add=function(K,gt,rt){var yt=this,Bt=K.wrapped().key;this.data[Bt]===void 0&&(this.data[Bt]=[]);var Xt={value:gt,timeout:void 0};if(rt!==void 0&&(Xt.timeout=setTimeout(function(){yt.remove(K,Xt)},rt)),this.data[Bt].push(Xt),this.order.push(Bt),this.order.length>this.max){var ce=this._getAndRemoveByKey(this.order[0]);ce&&this.onRemove(ce)}return this},mt.prototype.has=function(K){return K.wrapped().key in this.data},mt.prototype.getAndRemove=function(K){return this.has(K)?this._getAndRemoveByKey(K.wrapped().key):null},mt.prototype._getAndRemoveByKey=function(K){var gt=this.data[K].shift();return gt.timeout&&clearTimeout(gt.timeout),this.data[K].length===0&&delete this.data[K],this.order.splice(this.order.indexOf(K),1),gt.value},mt.prototype.getByKey=function(K){var gt=this.data[K];return gt?gt[0].value:null},mt.prototype.get=function(K){if(!this.has(K))return null;var gt=this.data[K.wrapped().key][0];return gt.value},mt.prototype.remove=function(K,gt){if(!this.has(K))return this;var rt=K.wrapped().key,yt=gt===void 0?0:this.data[rt].indexOf(gt),Bt=this.data[rt][yt];return this.data[rt].splice(yt,1),Bt.timeout&&clearTimeout(Bt.timeout),this.data[rt].length===0&&delete this.data[rt],this.onRemove(Bt.value),this.order.splice(this.order.indexOf(rt),1),this},mt.prototype.setMaxSize=function(K){for(this.max=K;this.order.length>this.max;){var gt=this._getAndRemoveByKey(this.order[0]);gt&&this.onRemove(gt)}return this},mt.prototype.filter=function(K){var gt=[];for(var rt in this.data)for(var yt=0,Bt=this.data[rt];yt<Bt.length;yt+=1){var Xt=Bt[yt];K(Xt.value)||gt.push(Xt)}for(var ce=0,Ce=gt;ce<Ce.length;ce+=1){var Ne=Ce[ce];this.remove(Ne.value.tileID,Ne)}};var At=function(K,gt,rt){this.context=K;var yt=K.gl;this.buffer=yt.createBuffer(),this.dynamicDraw=!!rt,this.context.unbindVAO(),K.bindElementBuffer.set(this.buffer),yt.bufferData(yt.ELEMENT_ARRAY_BUFFER,gt.arrayBuffer,this.dynamicDraw?yt.DYNAMIC_DRAW:yt.STATIC_DRAW),this.dynamicDraw||delete gt.arrayBuffer};At.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},At.prototype.updateData=function(K){var gt=this.context.gl;this.context.unbindVAO(),this.bind(),gt.bufferSubData(gt.ELEMENT_ARRAY_BUFFER,0,K.arrayBuffer)},At.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var bt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Pt=function(K,gt,rt,yt){this.length=gt.length,this.attributes=rt,this.itemSize=gt.bytesPerElement,this.dynamicDraw=yt,this.context=K;var Bt=K.gl;this.buffer=Bt.createBuffer(),K.bindVertexBuffer.set(this.buffer),Bt.bufferData(Bt.ARRAY_BUFFER,gt.arrayBuffer,this.dynamicDraw?Bt.DYNAMIC_DRAW:Bt.STATIC_DRAW),this.dynamicDraw||delete gt.arrayBuffer};Pt.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Pt.prototype.updateData=function(K){var gt=this.context.gl;this.bind(),gt.bufferSubData(gt.ARRAY_BUFFER,0,K.arrayBuffer)},Pt.prototype.enableAttributes=function(K,gt){for(var rt=0;rt<this.attributes.length;rt++){var yt=this.attributes[rt],Bt=gt.attributes[yt.name];Bt!==void 0&&K.enableVertexAttribArray(Bt)}},Pt.prototype.setVertexAttribPointers=function(K,gt,rt){for(var yt=0;yt<this.attributes.length;yt++){var Bt=this.attributes[yt],Xt=gt.attributes[Bt.name];Xt!==void 0&&K.vertexAttribPointer(Xt,Bt.components,K[bt[Bt.type]],!1,this.itemSize,Bt.offset+this.itemSize*(rt||0))}},Pt.prototype.destroy=function(){var K=this.context.gl;this.buffer&&(K.deleteBuffer(this.buffer),delete this.buffer)};var _t=function(K){this.gl=K.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};_t.prototype.get=function(){return this.current},_t.prototype.set=function(K){},_t.prototype.getDefault=function(){return this.default},_t.prototype.setDefault=function(){this.set(this.default)};var Ut=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return s.Color.transparent},K.prototype.set=function(rt){var yt=this.current;rt.r===yt.r&&rt.g===yt.g&&rt.b===yt.b&&rt.a===yt.a&&!this.dirty||(this.gl.clearColor(rt.r,rt.g,rt.b,rt.a),this.current=rt,this.dirty=!1)},K}(_t),St=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 1},K.prototype.set=function(rt){rt===this.current&&!this.dirty||(this.gl.clearDepth(rt),this.current=rt,this.dirty=!1)},K}(_t),Rt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 0},K.prototype.set=function(rt){rt===this.current&&!this.dirty||(this.gl.clearStencil(rt),this.current=rt,this.dirty=!1)},K}(_t),Et=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[!0,!0,!0,!0]},K.prototype.set=function(rt){var yt=this.current;rt[0]===yt[0]&&rt[1]===yt[1]&&rt[2]===yt[2]&&rt[3]===yt[3]&&!this.dirty||(this.gl.colorMask(rt[0],rt[1],rt[2],rt[3]),this.current=rt,this.dirty=!1)},K}(_t),zt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!0},K.prototype.set=function(rt){rt===this.current&&!this.dirty||(this.gl.depthMask(rt),this.current=rt,this.dirty=!1)},K}(_t),Ct=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 255},K.prototype.set=function(rt){rt===this.current&&!this.dirty||(this.gl.stencilMask(rt),this.current=rt,this.dirty=!1)},K}(_t),Wt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},K.prototype.set=function(rt){var yt=this.current;rt.func===yt.func&&rt.ref===yt.ref&&rt.mask===yt.mask&&!this.dirty||(this.gl.stencilFunc(rt.func,rt.ref,rt.mask),this.current=rt,this.dirty=!1)},K}(_t),Kt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var rt=this.gl;return[rt.KEEP,rt.KEEP,rt.KEEP]},K.prototype.set=function(rt){var yt=this.current;rt[0]===yt[0]&&rt[1]===yt[1]&&rt[2]===yt[2]&&!this.dirty||(this.gl.stencilOp(rt[0],rt[1],rt[2]),this.current=rt,this.dirty=!1)},K}(_t),oe=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;rt?yt.enable(yt.STENCIL_TEST):yt.disable(yt.STENCIL_TEST),this.current=rt,this.dirty=!1}},K}(_t),Jt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return[0,1]},K.prototype.set=function(rt){var yt=this.current;rt[0]===yt[0]&&rt[1]===yt[1]&&!this.dirty||(this.gl.depthRange(rt[0],rt[1]),this.current=rt,this.dirty=!1)},K}(_t),te=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;rt?yt.enable(yt.DEPTH_TEST):yt.disable(yt.DEPTH_TEST),this.current=rt,this.dirty=!1}},K}(_t),fe=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.LESS},K.prototype.set=function(rt){rt===this.current&&!this.dirty||(this.gl.depthFunc(rt),this.current=rt,this.dirty=!1)},K}(_t),ve=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;rt?yt.enable(yt.BLEND):yt.disable(yt.BLEND),this.current=rt,this.dirty=!1}},K}(_t),de=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var rt=this.gl;return[rt.ONE,rt.ZERO]},K.prototype.set=function(rt){var yt=this.current;rt[0]===yt[0]&&rt[1]===yt[1]&&!this.dirty||(this.gl.blendFunc(rt[0],rt[1]),this.current=rt,this.dirty=!1)},K}(_t),xe=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return s.Color.transparent},K.prototype.set=function(rt){var yt=this.current;rt.r===yt.r&&rt.g===yt.g&&rt.b===yt.b&&rt.a===yt.a&&!this.dirty||(this.gl.blendColor(rt.r,rt.g,rt.b,rt.a),this.current=rt,this.dirty=!1)},K}(_t),Me=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.FUNC_ADD},K.prototype.set=function(rt){rt===this.current&&!this.dirty||(this.gl.blendEquation(rt),this.current=rt,this.dirty=!1)},K}(_t),ne=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;rt?yt.enable(yt.CULL_FACE):yt.disable(yt.CULL_FACE),this.current=rt,this.dirty=!1}},K}(_t),kt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.BACK},K.prototype.set=function(rt){rt===this.current&&!this.dirty||(this.gl.cullFace(rt),this.current=rt,this.dirty=!1)},K}(_t),Gt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.CCW},K.prototype.set=function(rt){rt===this.current&&!this.dirty||(this.gl.frontFace(rt),this.current=rt,this.dirty=!1)},K}(_t),Yt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(rt){rt===this.current&&!this.dirty||(this.gl.useProgram(rt),this.current=rt,this.dirty=!1)},K}(_t),Zt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return this.gl.TEXTURE0},K.prototype.set=function(rt){rt===this.current&&!this.dirty||(this.gl.activeTexture(rt),this.current=rt,this.dirty=!1)},K}(_t),It=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){var rt=this.gl;return[0,0,rt.drawingBufferWidth,rt.drawingBufferHeight]},K.prototype.set=function(rt){var yt=this.current;rt[0]===yt[0]&&rt[1]===yt[1]&&rt[2]===yt[2]&&rt[3]===yt[3]&&!this.dirty||(this.gl.viewport(rt[0],rt[1],rt[2],rt[3]),this.current=rt,this.dirty=!1)},K}(_t),Nt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;yt.bindFramebuffer(yt.FRAMEBUFFER,rt),this.current=rt,this.dirty=!1}},K}(_t),Ht=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;yt.bindRenderbuffer(yt.RENDERBUFFER,rt),this.current=rt,this.dirty=!1}},K}(_t),Lt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;yt.bindTexture(yt.TEXTURE_2D,rt),this.current=rt,this.dirty=!1}},K}(_t),dt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;yt.bindBuffer(yt.ARRAY_BUFFER,rt),this.current=rt,this.dirty=!1}},K}(_t),xt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(rt){var yt=this.gl;yt.bindBuffer(yt.ELEMENT_ARRAY_BUFFER,rt),this.current=rt,this.dirty=!1},K}(_t),Ot=function(vt){function K(gt){vt.call(this,gt),this.vao=gt.extVertexArrayObject}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K.prototype.set=function(rt){!this.vao||rt===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(rt),this.current=rt,this.dirty=!1)},K}(_t),jt=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return 4},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;yt.pixelStorei(yt.UNPACK_ALIGNMENT,rt),this.current=rt,this.dirty=!1}},K}(_t),ie=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;yt.pixelStorei(yt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,rt),this.current=rt,this.dirty=!1}},K}(_t),le=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return!1},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){var yt=this.gl;yt.pixelStorei(yt.UNPACK_FLIP_Y_WEBGL,rt),this.current=rt,this.dirty=!1}},K}(_t),Ve=function(vt){function K(gt,rt){vt.call(this,gt),this.context=gt,this.parent=rt}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getDefault=function(){return null},K}(_t),je=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.setDirty=function(){this.dirty=!0},K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var yt=this.gl;yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,rt,0),this.current=rt,this.dirty=!1}},K}(Ve),Te=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.set=function(rt){if(!(rt===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var yt=this.gl;yt.framebufferRenderbuffer(yt.FRAMEBUFFER,yt.DEPTH_ATTACHMENT,yt.RENDERBUFFER,rt),this.current=rt,this.dirty=!1}},K}(Ve),Le=function(K,gt,rt,yt){this.context=K,this.width=gt,this.height=rt;var Bt=K.gl,Xt=this.framebuffer=Bt.createFramebuffer();this.colorAttachment=new je(K,Xt),yt&&(this.depthAttachment=new Te(K,Xt))};Le.prototype.destroy=function(){var K=this.context.gl,gt=this.colorAttachment.get();if(gt&&K.deleteTexture(gt),this.depthAttachment){var rt=this.depthAttachment.get();rt&&K.deleteRenderbuffer(rt)}K.deleteFramebuffer(this.framebuffer)};var Ke=519,vr=function(K,gt,rt){this.func=K,this.mask=gt,this.range=rt};vr.ReadOnly=!1,vr.ReadWrite=!0,vr.disabled=new vr(Ke,vr.ReadOnly,[0,1]);var ge=519,Xe=7680,$e=function(K,gt,rt,yt,Bt,Xt){this.test=K,this.ref=gt,this.mask=rt,this.fail=yt,this.depthFail=Bt,this.pass=Xt};$e.disabled=new $e({func:ge,mask:0},0,0,Xe,Xe,Xe);var mr=0,or=1,ye=771,ue=function(K,gt,rt){this.blendFunction=K,this.blendColor=gt,this.mask=rt};ue.Replace=[or,mr],ue.disabled=new ue(ue.Replace,s.Color.transparent,[!1,!1,!1,!1]),ue.unblended=new ue(ue.Replace,s.Color.transparent,[!0,!0,!0,!0]),ue.alphaBlended=new ue([or,ye],s.Color.transparent,[!0,!0,!0,!0]);var be=1029,Ee=2305,_e=function(K,gt,rt){this.enable=K,this.mode=gt,this.frontFace=rt};_e.disabled=new _e(!1,be,Ee),_e.backCCW=new _e(!0,be,Ee);var Oe=function(K){this.gl=K,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ut(this),this.clearDepth=new St(this),this.clearStencil=new Rt(this),this.colorMask=new Et(this),this.depthMask=new zt(this),this.stencilMask=new Ct(this),this.stencilFunc=new Wt(this),this.stencilOp=new Kt(this),this.stencilTest=new oe(this),this.depthRange=new Jt(this),this.depthTest=new te(this),this.depthFunc=new fe(this),this.blend=new ve(this),this.blendFunc=new de(this),this.blendColor=new xe(this),this.blendEquation=new Me(this),this.cullFace=new ne(this),this.cullFaceSide=new kt(this),this.frontFace=new Gt(this),this.program=new Yt(this),this.activeTexture=new Zt(this),this.viewport=new It(this),this.bindFramebuffer=new Nt(this),this.bindRenderbuffer=new Ht(this),this.bindTexture=new Lt(this),this.bindVertexBuffer=new dt(this),this.bindElementBuffer=new xt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ot(this),this.pixelStoreUnpack=new jt(this),this.pixelStoreUnpackPremultiplyAlpha=new ie(this),this.pixelStoreUnpackFlipY=new le(this),this.extTextureFilterAnisotropic=K.getExtension("EXT_texture_filter_anisotropic")||K.getExtension("MOZ_EXT_texture_filter_anisotropic")||K.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=K.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=K.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(K.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=K.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=K.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=K.getParameter(K.MAX_TEXTURE_SIZE)};Oe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Oe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Oe.prototype.createIndexBuffer=function(K,gt){return new At(this,K,gt)},Oe.prototype.createVertexBuffer=function(K,gt,rt){return new Pt(this,K,gt,rt)},Oe.prototype.createRenderbuffer=function(K,gt,rt){var yt=this.gl,Bt=yt.createRenderbuffer();return this.bindRenderbuffer.set(Bt),yt.renderbufferStorage(yt.RENDERBUFFER,K,gt,rt),this.bindRenderbuffer.set(null),Bt},Oe.prototype.createFramebuffer=function(K,gt,rt){return new Le(this,K,gt,rt)},Oe.prototype.clear=function(K){var gt=K.color,rt=K.depth,yt=this.gl,Bt=0;gt&&(Bt|=yt.COLOR_BUFFER_BIT,this.clearColor.set(gt),this.colorMask.set([!0,!0,!0,!0])),typeof rt<"u"&&(Bt|=yt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(rt),this.depthMask.set(!0)),yt.clear(Bt)},Oe.prototype.setCullFace=function(K){K.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(K.mode),this.frontFace.set(K.frontFace))},Oe.prototype.setDepthMode=function(K){K.func===this.gl.ALWAYS&&!K.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(K.func),this.depthMask.set(K.mask),this.depthRange.set(K.range))},Oe.prototype.setStencilMode=function(K){K.test.func===this.gl.ALWAYS&&!K.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(K.mask),this.stencilOp.set([K.fail,K.depthFail,K.pass]),this.stencilFunc.set({func:K.test.func,ref:K.ref,mask:K.test.mask}))},Oe.prototype.setColorMode=function(K){s.deepEqual(K.blendFunction,ue.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(K.blendFunction),this.blendColor.set(K.blendColor)),this.colorMask.set(K.mask)},Oe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Fe=function(vt){function K(gt,rt,yt){var Bt=this;vt.call(this),this.id=gt,this.dispatcher=yt,this.on("data",function(Xt){Xt.dataType==="source"&&Xt.sourceDataType==="metadata"&&(Bt._sourceLoaded=!0),Bt._sourceLoaded&&!Bt._paused&&Xt.dataType==="source"&&Xt.sourceDataType==="content"&&(Bt.reload(),Bt.transform&&Bt.update(Bt.transform))}),this.on("error",function(){Bt._sourceErrored=!0}),this._source=Q(gt,rt,yt,this),this._tiles={},this._cache=new mt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new s.SourceFeatureState}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(rt){this.map=rt,this._maxTileCacheSize=rt?rt._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(rt)},K.prototype.onRemove=function(rt){this._source&&this._source.onRemove&&this._source.onRemove(rt)},K.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var rt in this._tiles){var yt=this._tiles[rt];if(yt.state!=="loaded"&&yt.state!=="errored")return!1}return!0},K.prototype.getSource=function(){return this._source},K.prototype.pause=function(){this._paused=!0},K.prototype.resume=function(){if(this._paused){var rt=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,rt&&this.reload(),this.transform&&this.update(this.transform)}},K.prototype._loadTile=function(rt,yt){return this._source.loadTile(rt,yt)},K.prototype._unloadTile=function(rt){if(this._source.unloadTile)return this._source.unloadTile(rt,function(){})},K.prototype._abortTile=function(rt){if(this._source.abortTile)return this._source.abortTile(rt,function(){})},K.prototype.serialize=function(){return this._source.serialize()},K.prototype.prepare=function(rt){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var yt in this._tiles){var Bt=this._tiles[yt];Bt.upload(rt),Bt.prepare(this.map.style.imageManager)}},K.prototype.getIds=function(){return s.values(this._tiles).map(function(rt){return rt.tileID}).sort(Be).map(function(rt){return rt.key})},K.prototype.getRenderableIds=function(rt){var yt=this,Bt=[];for(var Xt in this._tiles)this._isIdRenderable(Xt,rt)&&Bt.push(this._tiles[Xt]);return rt?Bt.sort(function(ce,Ce){var Ne=ce.tileID,qe=Ce.tileID,ur=new s.Point(Ne.canonical.x,Ne.canonical.y)._rotate(yt.transform.angle),lr=new s.Point(qe.canonical.x,qe.canonical.y)._rotate(yt.transform.angle);return Ne.overscaledZ-qe.overscaledZ||lr.y-ur.y||lr.x-ur.x}).map(function(ce){return ce.tileID.key}):Bt.map(function(ce){return ce.tileID}).sort(Be).map(function(ce){return ce.key})},K.prototype.hasRenderableParent=function(rt){var yt=this.findLoadedParent(rt,0);return yt?this._isIdRenderable(yt.tileID.key):!1},K.prototype._isIdRenderable=function(rt,yt){return this._tiles[rt]&&this._tiles[rt].hasData()&&!this._coveredTiles[rt]&&(yt||!this._tiles[rt].holdingForFade())},K.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var rt in this._tiles)this._tiles[rt].state!=="errored"&&this._reloadTile(rt,"reloading")},K.prototype._reloadTile=function(rt,yt){var Bt=this._tiles[rt];Bt&&(Bt.state!=="loading"&&(Bt.state=yt),this._loadTile(Bt,this._tileLoaded.bind(this,Bt,rt,yt)))},K.prototype._tileLoaded=function(rt,yt,Bt,Xt){if(Xt){rt.state="errored",Xt.status!==404?this._source.fire(new s.ErrorEvent(Xt,{tile:rt})):this.update(this.transform);return}rt.timeAdded=s.browser.now(),Bt==="expired"&&(rt.refreshedUponExpiration=!0),this._setTileReloadTimer(yt,rt),this.getSource().type==="raster-dem"&&rt.dem&&this._backfillDEM(rt),this._state.initializeTileState(rt,this.map?this.map.painter:null),this._source.fire(new s.Event("data",{dataType:"source",tile:rt,coord:rt.tileID}))},K.prototype._backfillDEM=function(rt){for(var yt=this.getRenderableIds(),Bt=0;Bt<yt.length;Bt++){var Xt=yt[Bt];if(rt.neighboringTiles&&rt.neighboringTiles[Xt]){var ce=this.getTileByID(Xt);Ce(rt,ce),Ce(ce,rt)}}function Ce(Ne,qe){Ne.needsHillshadePrepare=!0;var ur=qe.tileID.canonical.x-Ne.tileID.canonical.x,lr=qe.tileID.canonical.y-Ne.tileID.canonical.y,Fr=Math.pow(2,Ne.tileID.canonical.z),Zr=qe.tileID.key;ur===0&&lr===0||Math.abs(lr)>1||(Math.abs(ur)>1&&(Math.abs(ur+Fr)===1?ur+=Fr:Math.abs(ur-Fr)===1&&(ur-=Fr)),!(!qe.dem||!Ne.dem)&&(Ne.dem.backfillBorder(qe.dem,ur,lr),Ne.neighboringTiles&&Ne.neighboringTiles[Zr]&&(Ne.neighboringTiles[Zr].backfilled=!0)))}},K.prototype.getTile=function(rt){return this.getTileByID(rt.key)},K.prototype.getTileByID=function(rt){return this._tiles[rt]},K.prototype._retainLoadedChildren=function(rt,yt,Bt,Xt){for(var ce in this._tiles){var Ce=this._tiles[ce];if(!(Xt[ce]||!Ce.hasData()||Ce.tileID.overscaledZ<=yt||Ce.tileID.overscaledZ>Bt)){for(var Ne=Ce.tileID;Ce&&Ce.tileID.overscaledZ>yt+1;){var qe=Ce.tileID.scaledTo(Ce.tileID.overscaledZ-1);Ce=this._tiles[qe.key],Ce&&Ce.hasData()&&(Ne=qe)}for(var ur=Ne;ur.overscaledZ>yt;)if(ur=ur.scaledTo(ur.overscaledZ-1),rt[ur.key]){Xt[Ne.key]=Ne;break}}}},K.prototype.findLoadedParent=function(rt,yt){if(rt.key in this._loadedParentTiles){var Bt=this._loadedParentTiles[rt.key];return Bt&&Bt.tileID.overscaledZ>=yt?Bt:null}for(var Xt=rt.overscaledZ-1;Xt>=yt;Xt--){var ce=rt.scaledTo(Xt),Ce=this._getLoadedTile(ce);if(Ce)return Ce}},K.prototype._getLoadedTile=function(rt){var yt=this._tiles[rt.key];if(yt&&yt.hasData())return yt;var Bt=this._cache.getByKey(rt.wrapped().key);return Bt},K.prototype.updateCacheSize=function(rt){var yt=Math.ceil(rt.width/this._source.tileSize)+1,Bt=Math.ceil(rt.height/this._source.tileSize)+1,Xt=yt*Bt,ce=5,Ce=Math.floor(Xt*ce),Ne=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Ce):Ce;this._cache.setMaxSize(Ne)},K.prototype.handleWrapJump=function(rt){var yt=this._prevLng===void 0?rt:this._prevLng,Bt=rt-yt,Xt=Bt/360,ce=Math.round(Xt);if(this._prevLng=rt,ce){var Ce={};for(var Ne in this._tiles){var qe=this._tiles[Ne];qe.tileID=qe.tileID.unwrapTo(qe.tileID.wrap+ce),Ce[qe.tileID.key]=qe}this._tiles=Ce;for(var ur in this._timers)clearTimeout(this._timers[ur]),delete this._timers[ur];for(var lr in this._tiles){var Fr=this._tiles[lr];this._setTileReloadTimer(lr,Fr)}}},K.prototype.update=function(rt){var yt=this;if(this.transform=rt,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(rt),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Bt;this.used?this._source.tileID?Bt=rt.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(fi){return new s.OverscaledTileID(fi.canonical.z,fi.wrap,fi.canonical.z,fi.canonical.x,fi.canonical.y)}):(Bt=rt.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Bt=Bt.filter(function(fi){return yt._source.hasTile(fi)}))):Bt=[];var Xt=rt.coveringZoomLevel(this._source),ce=Math.max(Xt-K.maxOverzooming,this._source.minzoom),Ce=Math.max(Xt+K.maxUnderzooming,this._source.minzoom),Ne=this._updateRetainedTiles(Bt,Xt);if(Je(this._source.type)){for(var qe={},ur={},lr=Object.keys(Ne),Fr=0,Zr=lr;Fr<Zr.length;Fr+=1){var Xr=Zr[Fr],Wr=Ne[Xr],Jr=this._tiles[Xr];if(!(!Jr||Jr.fadeEndTime&&Jr.fadeEndTime<=s.browser.now())){var dn=this.findLoadedParent(Wr,ce);dn&&(this._addTile(dn.tileID),qe[dn.tileID.key]=dn.tileID),ur[Xr]=Wr}}this._retainLoadedChildren(ur,Xt,Ce,Ne);for(var kn in qe)Ne[kn]||(this._coveredTiles[kn]=!0,Ne[kn]=qe[kn])}for(var Vn in Ne)this._tiles[Vn].clearFadeHold();for(var Xn=s.keysDifference(this._tiles,Ne),Kn=0,Wn=Xn;Kn<Wn.length;Kn+=1){var Qn=Wn[Kn],ii=this._tiles[Qn];ii.hasSymbolBuckets&&!ii.holdingForFade()?ii.setHoldDuration(this.map._fadeDuration):(!ii.hasSymbolBuckets||ii.symbolFadeFinished())&&this._removeTile(Qn)}this._updateLoadedParentTileCache()}},K.prototype.releaseSymbolFadeTiles=function(){for(var rt in this._tiles)this._tiles[rt].holdingForFade()&&this._removeTile(rt)},K.prototype._updateRetainedTiles=function(rt,yt){for(var Bt={},Xt={},ce=Math.max(yt-K.maxOverzooming,this._source.minzoom),Ce=Math.max(yt+K.maxUnderzooming,this._source.minzoom),Ne={},qe=0,ur=rt;qe<ur.length;qe+=1){var lr=ur[qe],Fr=this._addTile(lr);Bt[lr.key]=lr,!Fr.hasData()&&yt<this._source.maxzoom&&(Ne[lr.key]=lr)}this._retainLoadedChildren(Ne,yt,Ce,Bt);for(var Zr=0,Xr=rt;Zr<Xr.length;Zr+=1){var Wr=Xr[Zr],Jr=this._tiles[Wr.key];if(!Jr.hasData()){if(yt+1>this._source.maxzoom){var dn=Wr.children(this._source.maxzoom)[0],kn=this.getTile(dn);if(kn&&kn.hasData()){Bt[dn.key]=dn;continue}}else{var Vn=Wr.children(this._source.maxzoom);if(Bt[Vn[0].key]&&Bt[Vn[1].key]&&Bt[Vn[2].key]&&Bt[Vn[3].key])continue}for(var Xn=Jr.wasRequested(),Kn=Wr.overscaledZ-1;Kn>=ce;--Kn){var Wn=Wr.scaledTo(Kn);if(Xt[Wn.key]||(Xt[Wn.key]=!0,Jr=this.getTile(Wn),!Jr&&Xn&&(Jr=this._addTile(Wn)),Jr&&(Bt[Wn.key]=Wn,Xn=Jr.wasRequested(),Jr.hasData())))break}}}return Bt},K.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var rt in this._tiles){for(var yt=[],Bt=void 0,Xt=this._tiles[rt].tileID;Xt.overscaledZ>0;){if(Xt.key in this._loadedParentTiles){Bt=this._loadedParentTiles[Xt.key];break}yt.push(Xt.key);var ce=Xt.scaledTo(Xt.overscaledZ-1);if(Bt=this._getLoadedTile(ce),Bt)break;Xt=ce}for(var Ce=0,Ne=yt;Ce<Ne.length;Ce+=1){var qe=Ne[Ce];this._loadedParentTiles[qe]=Bt}}},K.prototype._addTile=function(rt){var yt=this._tiles[rt.key];if(yt)return yt;yt=this._cache.getAndRemove(rt),yt&&(this._setTileReloadTimer(rt.key,yt),yt.tileID=rt,this._state.initializeTileState(yt,this.map?this.map.painter:null),this._cacheTimers[rt.key]&&(clearTimeout(this._cacheTimers[rt.key]),delete this._cacheTimers[rt.key],this._setTileReloadTimer(rt.key,yt)));var Bt=!!yt;return Bt||(yt=new s.Tile(rt,this._source.tileSize*rt.overscaleFactor()),this._loadTile(yt,this._tileLoaded.bind(this,yt,rt.key,yt.state))),yt?(yt.uses++,this._tiles[rt.key]=yt,Bt||this._source.fire(new s.Event("dataloading",{tile:yt,coord:yt.tileID,dataType:"source"})),yt):null},K.prototype._setTileReloadTimer=function(rt,yt){var Bt=this;rt in this._timers&&(clearTimeout(this._timers[rt]),delete this._timers[rt]);var Xt=yt.getExpiryTimeout();Xt&&(this._timers[rt]=setTimeout(function(){Bt._reloadTile(rt,"expired"),delete Bt._timers[rt]},Xt))},K.prototype._removeTile=function(rt){var yt=this._tiles[rt];yt&&(yt.uses--,delete this._tiles[rt],this._timers[rt]&&(clearTimeout(this._timers[rt]),delete this._timers[rt]),!(yt.uses>0)&&(yt.hasData()&&yt.state!=="reloading"?this._cache.add(yt.tileID,yt,yt.getExpiryTimeout()):(yt.aborted=!0,this._abortTile(yt),this._unloadTile(yt))))},K.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var rt in this._tiles)this._removeTile(rt);this._cache.reset()},K.prototype.tilesIn=function(rt,yt,Bt){var Xt=this,ce=[],Ce=this.transform;if(!Ce)return ce;for(var Ne=Bt?Ce.getCameraQueryGeometry(rt):rt,qe=rt.map(function(Kn){return Ce.pointCoordinate(Kn)}),ur=Ne.map(function(Kn){return Ce.pointCoordinate(Kn)}),lr=this.getIds(),Fr=1/0,Zr=1/0,Xr=-1/0,Wr=-1/0,Jr=0,dn=ur;Jr<dn.length;Jr+=1){var kn=dn[Jr];Fr=Math.min(Fr,kn.x),Zr=Math.min(Zr,kn.y),Xr=Math.max(Xr,kn.x),Wr=Math.max(Wr,kn.y)}for(var Vn=function(Kn){var Wn=Xt._tiles[lr[Kn]];if(!Wn.holdingForFade()){var Qn=Wn.tileID,ii=Math.pow(2,Ce.zoom-Wn.tileID.overscaledZ),fi=yt*Wn.queryPadding*s.EXTENT/Wn.tileSize/ii,mi=[Qn.getTilePoint(new s.MercatorCoordinate(Fr,Zr)),Qn.getTilePoint(new s.MercatorCoordinate(Xr,Wr))];if(mi[0].x-fi<s.EXTENT&&mi[0].y-fi<s.EXTENT&&mi[1].x+fi>=0&&mi[1].y+fi>=0){var di=qe.map(function(Qi){return Qn.getTilePoint(Qi)}),zi=ur.map(function(Qi){return Qn.getTilePoint(Qi)});ce.push({tile:Wn,tileID:Qn,queryGeometry:di,cameraQueryGeometry:zi,scale:ii})}}},Xn=0;Xn<lr.length;Xn++)Vn(Xn);return ce},K.prototype.getVisibleCoordinates=function(rt){for(var yt=this,Bt=this.getRenderableIds(rt).map(function(Ne){return yt._tiles[Ne].tileID}),Xt=0,ce=Bt;Xt<ce.length;Xt+=1){var Ce=ce[Xt];Ce.posMatrix=this.transform.calculatePosMatrix(Ce.toUnwrapped())}return Bt},K.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Je(this._source.type))for(var rt in this._tiles){var yt=this._tiles[rt];if(yt.fadeEndTime!==void 0&&yt.fadeEndTime>=s.browser.now())return!0}return!1},K.prototype.setFeatureState=function(rt,yt,Bt){rt=rt||"_geojsonTileLayer",this._state.updateState(rt,yt,Bt)},K.prototype.removeFeatureState=function(rt,yt,Bt){rt=rt||"_geojsonTileLayer",this._state.removeFeatureState(rt,yt,Bt)},K.prototype.getFeatureState=function(rt,yt){return rt=rt||"_geojsonTileLayer",this._state.getState(rt,yt)},K.prototype.setDependencies=function(rt,yt,Bt){var Xt=this._tiles[rt];Xt&&Xt.setDependencies(yt,Bt)},K.prototype.reloadTilesForDependencies=function(rt,yt){for(var Bt in this._tiles){var Xt=this._tiles[Bt];Xt.hasDependency(rt,yt)&&this._reloadTile(Bt,"reloading")}this._cache.filter(function(ce){return!ce.hasDependency(rt,yt)})},K}(s.Evented);Fe.maxOverzooming=10,Fe.maxUnderzooming=3;function Be(vt,K){var gt=Math.abs(vt.wrap*2)-+(vt.wrap<0),rt=Math.abs(K.wrap*2)-+(K.wrap<0);return vt.overscaledZ-K.overscaledZ||rt-gt||K.canonical.y-vt.canonical.y||K.canonical.x-vt.canonical.x}function Je(vt){return vt==="raster"||vt==="image"||vt==="video"}function hr(){return new s.window.Worker(Po.workerUrl)}var cr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(K){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new hr);return this.active[K]=!0,this.workers.slice()},dr.prototype.release=function(K){delete this.active[K],this.numActive()===0&&(this.workers.forEach(function(gt){gt.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[cr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var fr=Math.floor(s.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(fr,6),1);var Lr;function xr(){return Lr||(Lr=new dr),Lr}function Qt(){var vt=xr();vt.acquire(cr)}function re(){var vt=Lr;vt&&(vt.isPreloaded()&&vt.numActive()===1?(vt.release(cr),Lr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function tr(vt,K){var gt={};for(var rt in vt)rt!=="ref"&&(gt[rt]=vt[rt]);return s.refProperties.forEach(function(yt){yt in K&&(gt[yt]=K[yt])}),gt}function er(vt){vt=vt.slice();for(var K=Object.create(null),gt=0;gt<vt.length;gt++)K[vt[gt].id]=vt[gt];for(var rt=0;rt<vt.length;rt++)"ref"in vt[rt]&&(vt[rt]=tr(vt[rt],K[vt[rt].ref]));return vt}function Ye(){var vt={},K=s.styleSpec.$version;for(var gt in s.styleSpec.$root){var rt=s.styleSpec.$root[gt];if(rt.required){var yt=null;gt==="version"?yt=K:rt.type==="array"?yt=[]:yt={},yt!=null&&(vt[gt]=yt)}}return vt}var Pe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ze(vt,K,gt){gt.push({command:Pe.addSource,args:[vt,K[vt]]})}function nr(vt,K,gt){K.push({command:Pe.removeSource,args:[vt]}),gt[vt]=!0}function Qe(vt,K,gt,rt){nr(vt,gt,rt),Ze(vt,K,gt)}function We(vt,K,gt){var rt;for(rt in vt[gt])if(vt[gt].hasOwnProperty(rt)&&rt!=="data"&&!s.deepEqual(vt[gt][rt],K[gt][rt]))return!1;for(rt in K[gt])if(K[gt].hasOwnProperty(rt)&&rt!=="data"&&!s.deepEqual(vt[gt][rt],K[gt][rt]))return!1;return!0}function yr(vt,K,gt,rt){vt=vt||{},K=K||{};var yt;for(yt in vt)vt.hasOwnProperty(yt)&&(K.hasOwnProperty(yt)||nr(yt,gt,rt));for(yt in K)K.hasOwnProperty(yt)&&(vt.hasOwnProperty(yt)?s.deepEqual(vt[yt],K[yt])||(vt[yt].type==="geojson"&&K[yt].type==="geojson"&&We(vt,K,yt)?gt.push({command:Pe.setGeoJSONSourceData,args:[yt,K[yt].data]}):Qe(yt,K,gt,rt)):Ze(yt,K,gt))}function Rr(vt,K,gt,rt,yt,Bt){vt=vt||{},K=K||{};var Xt;for(Xt in vt)vt.hasOwnProperty(Xt)&&(s.deepEqual(vt[Xt],K[Xt])||gt.push({command:Bt,args:[rt,Xt,K[Xt],yt]}));for(Xt in K)!K.hasOwnProperty(Xt)||vt.hasOwnProperty(Xt)||s.deepEqual(vt[Xt],K[Xt])||gt.push({command:Bt,args:[rt,Xt,K[Xt],yt]})}function Tr(vt){return vt.id}function vn(vt,K){return vt[K.id]=K,vt}function Or(vt,K,gt){vt=vt||[],K=K||[];var rt=vt.map(Tr),yt=K.map(Tr),Bt=vt.reduce(vn,{}),Xt=K.reduce(vn,{}),ce=rt.slice(),Ce=Object.create(null),Ne,qe,ur,lr,Fr,Zr,Xr;for(Ne=0,qe=0;Ne<rt.length;Ne++)ur=rt[Ne],Xt.hasOwnProperty(ur)?qe++:(gt.push({command:Pe.removeLayer,args:[ur]}),ce.splice(ce.indexOf(ur,qe),1));for(Ne=0,qe=0;Ne<yt.length;Ne++)ur=yt[yt.length-1-Ne],ce[ce.length-1-Ne]!==ur&&(Bt.hasOwnProperty(ur)?(gt.push({command:Pe.removeLayer,args:[ur]}),ce.splice(ce.lastIndexOf(ur,ce.length-qe),1)):qe++,Zr=ce[ce.length-Ne],gt.push({command:Pe.addLayer,args:[Xt[ur],Zr]}),ce.splice(ce.length-Ne,0,ur),Ce[ur]=!0);for(Ne=0;Ne<yt.length;Ne++)if(ur=yt[Ne],lr=Bt[ur],Fr=Xt[ur],!(Ce[ur]||s.deepEqual(lr,Fr))){if(!s.deepEqual(lr.source,Fr.source)||!s.deepEqual(lr["source-layer"],Fr["source-layer"])||!s.deepEqual(lr.type,Fr.type)){gt.push({command:Pe.removeLayer,args:[ur]}),Zr=ce[ce.lastIndexOf(ur)+1],gt.push({command:Pe.addLayer,args:[Fr,Zr]});continue}Rr(lr.layout,Fr.layout,gt,ur,null,Pe.setLayoutProperty),Rr(lr.paint,Fr.paint,gt,ur,null,Pe.setPaintProperty),s.deepEqual(lr.filter,Fr.filter)||gt.push({command:Pe.setFilter,args:[ur,Fr.filter]}),(!s.deepEqual(lr.minzoom,Fr.minzoom)||!s.deepEqual(lr.maxzoom,Fr.maxzoom))&&gt.push({command:Pe.setLayerZoomRange,args:[ur,Fr.minzoom,Fr.maxzoom]});for(Xr in lr)lr.hasOwnProperty(Xr)&&(Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Rr(lr[Xr],Fr[Xr],gt,ur,Xr.slice(6),Pe.setPaintProperty):s.deepEqual(lr[Xr],Fr[Xr])||gt.push({command:Pe.setLayerProperty,args:[ur,Xr,Fr[Xr]]})));for(Xr in Fr)!Fr.hasOwnProperty(Xr)||lr.hasOwnProperty(Xr)||Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Rr(lr[Xr],Fr[Xr],gt,ur,Xr.slice(6),Pe.setPaintProperty):s.deepEqual(lr[Xr],Fr[Xr])||gt.push({command:Pe.setLayerProperty,args:[ur,Xr,Fr[Xr]]}))}}function En(vt,K){if(!vt)return[{command:Pe.setStyle,args:[K]}];var gt=[];try{if(!s.deepEqual(vt.version,K.version))return[{command:Pe.setStyle,args:[K]}];s.deepEqual(vt.center,K.center)||gt.push({command:Pe.setCenter,args:[K.center]}),s.deepEqual(vt.zoom,K.zoom)||gt.push({command:Pe.setZoom,args:[K.zoom]}),s.deepEqual(vt.bearing,K.bearing)||gt.push({command:Pe.setBearing,args:[K.bearing]}),s.deepEqual(vt.pitch,K.pitch)||gt.push({command:Pe.setPitch,args:[K.pitch]}),s.deepEqual(vt.sprite,K.sprite)||gt.push({command:Pe.setSprite,args:[K.sprite]}),s.deepEqual(vt.glyphs,K.glyphs)||gt.push({command:Pe.setGlyphs,args:[K.glyphs]}),s.deepEqual(vt.transition,K.transition)||gt.push({command:Pe.setTransition,args:[K.transition]}),s.deepEqual(vt.light,K.light)||gt.push({command:Pe.setLight,args:[K.light]});var rt={},yt=[];yr(vt.sources,K.sources,yt,rt);var Bt=[];vt.layers&&vt.layers.forEach(function(Xt){rt[Xt.source]?gt.push({command:Pe.removeLayer,args:[Xt.id]}):Bt.push(Xt)}),gt=gt.concat(yt),Or(Bt,K.layers,gt)}catch(Xt){console.warn("Unable to compute style diff:",Xt),gt=[{command:Pe.setStyle,args:[K]}]}return gt}var nn=function(K,gt){this.reset(K,gt)};nn.prototype.reset=function(K,gt){this.points=K||[],this._distances=[0];for(var rt=1;rt<this.points.length;rt++)this._distances[rt]=this._distances[rt-1]+this.points[rt].dist(this.points[rt-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(gt||0,this.length*.5),this.paddedLength=this.length-this.padding*2},nn.prototype.lerp=function(K){if(this.points.length===1)return this.points[0];K=s.clamp(K,0,1);for(var gt=1,rt=this._distances[gt],yt=K*this.paddedLength+this.padding;rt<yt&&gt<this._distances.length;)rt=this._distances[++gt];var Bt=gt-1,Xt=this._distances[Bt],ce=rt-Xt,Ce=ce>0?(yt-Xt)/ce:0;return this.points[Bt].mult(1-Ce).add(this.points[gt].mult(Ce))};var gr=function(K,gt,rt){var yt=this.boxCells=[],Bt=this.circleCells=[];this.xCellCount=Math.ceil(K/rt),this.yCellCount=Math.ceil(gt/rt);for(var Xt=0;Xt<this.xCellCount*this.yCellCount;Xt++)yt.push([]),Bt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=K,this.height=gt,this.xScale=this.xCellCount/K,this.yScale=this.yCellCount/gt,this.boxUid=0,this.circleUid=0};gr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},gr.prototype.insert=function(K,gt,rt,yt,Bt){this._forEachCell(gt,rt,yt,Bt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(K),this.bboxes.push(gt),this.bboxes.push(rt),this.bboxes.push(yt),this.bboxes.push(Bt)},gr.prototype.insertCircle=function(K,gt,rt,yt){this._forEachCell(gt-yt,rt-yt,gt+yt,rt+yt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(K),this.circles.push(gt),this.circles.push(rt),this.circles.push(yt)},gr.prototype._insertBoxCell=function(K,gt,rt,yt,Bt,Xt){this.boxCells[Bt].push(Xt)},gr.prototype._insertCircleCell=function(K,gt,rt,yt,Bt,Xt){this.circleCells[Bt].push(Xt)},gr.prototype._query=function(K,gt,rt,yt,Bt,Xt){if(rt<0||K>this.width||yt<0||gt>this.height)return Bt?!1:[];var ce=[];if(K<=0&&gt<=0&&this.width<=rt&&this.height<=yt){if(Bt)return!0;for(var Ce=0;Ce<this.boxKeys.length;Ce++)ce.push({key:this.boxKeys[Ce],x1:this.bboxes[Ce*4],y1:this.bboxes[Ce*4+1],x2:this.bboxes[Ce*4+2],y2:this.bboxes[Ce*4+3]});for(var Ne=0;Ne<this.circleKeys.length;Ne++){var qe=this.circles[Ne*3],ur=this.circles[Ne*3+1],lr=this.circles[Ne*3+2];ce.push({key:this.circleKeys[Ne],x1:qe-lr,y1:ur-lr,x2:qe+lr,y2:ur+lr})}return Xt?ce.filter(Xt):ce}else{var Fr={hitTest:Bt,seenUids:{box:{},circle:{}}};return this._forEachCell(K,gt,rt,yt,this._queryCell,ce,Fr,Xt),Bt?ce.length>0:ce}},gr.prototype._queryCircle=function(K,gt,rt,yt,Bt){var Xt=K-rt,ce=K+rt,Ce=gt-rt,Ne=gt+rt;if(ce<0||Xt>this.width||Ne<0||Ce>this.height)return yt?!1:[];var qe=[],ur={hitTest:yt,circle:{x:K,y:gt,radius:rt},seenUids:{box:{},circle:{}}};return this._forEachCell(Xt,Ce,ce,Ne,this._queryCellCircle,qe,ur,Bt),yt?qe.length>0:qe},gr.prototype.query=function(K,gt,rt,yt,Bt){return this._query(K,gt,rt,yt,!1,Bt)},gr.prototype.hitTest=function(K,gt,rt,yt,Bt){return this._query(K,gt,rt,yt,!0,Bt)},gr.prototype.hitTestCircle=function(K,gt,rt,yt){return this._queryCircle(K,gt,rt,!0,yt)},gr.prototype._queryCell=function(K,gt,rt,yt,Bt,Xt,ce,Ce){var Ne=ce.seenUids,qe=this.boxCells[Bt];if(qe!==null)for(var ur=this.bboxes,lr=0,Fr=qe;lr<Fr.length;lr+=1){var Zr=Fr[lr];if(!Ne.box[Zr]){Ne.box[Zr]=!0;var Xr=Zr*4;if(K<=ur[Xr+2]&&gt<=ur[Xr+3]&&rt>=ur[Xr+0]&&yt>=ur[Xr+1]&&(!Ce||Ce(this.boxKeys[Zr]))){if(ce.hitTest)return Xt.push(!0),!0;Xt.push({key:this.boxKeys[Zr],x1:ur[Xr],y1:ur[Xr+1],x2:ur[Xr+2],y2:ur[Xr+3]})}}}var Wr=this.circleCells[Bt];if(Wr!==null)for(var Jr=this.circles,dn=0,kn=Wr;dn<kn.length;dn+=1){var Vn=kn[dn];if(!Ne.circle[Vn]){Ne.circle[Vn]=!0;var Xn=Vn*3;if(this._circleAndRectCollide(Jr[Xn],Jr[Xn+1],Jr[Xn+2],K,gt,rt,yt)&&(!Ce||Ce(this.circleKeys[Vn]))){if(ce.hitTest)return Xt.push(!0),!0;var Kn=Jr[Xn],Wn=Jr[Xn+1],Qn=Jr[Xn+2];Xt.push({key:this.circleKeys[Vn],x1:Kn-Qn,y1:Wn-Qn,x2:Kn+Qn,y2:Wn+Qn})}}}},gr.prototype._queryCellCircle=function(K,gt,rt,yt,Bt,Xt,ce,Ce){var Ne=ce.circle,qe=ce.seenUids,ur=this.boxCells[Bt];if(ur!==null)for(var lr=this.bboxes,Fr=0,Zr=ur;Fr<Zr.length;Fr+=1){var Xr=Zr[Fr];if(!qe.box[Xr]){qe.box[Xr]=!0;var Wr=Xr*4;if(this._circleAndRectCollide(Ne.x,Ne.y,Ne.radius,lr[Wr+0],lr[Wr+1],lr[Wr+2],lr[Wr+3])&&(!Ce||Ce(this.boxKeys[Xr])))return Xt.push(!0),!0}}var Jr=this.circleCells[Bt];if(Jr!==null)for(var dn=this.circles,kn=0,Vn=Jr;kn<Vn.length;kn+=1){var Xn=Vn[kn];if(!qe.circle[Xn]){qe.circle[Xn]=!0;var Kn=Xn*3;if(this._circlesCollide(dn[Kn],dn[Kn+1],dn[Kn+2],Ne.x,Ne.y,Ne.radius)&&(!Ce||Ce(this.circleKeys[Xn])))return Xt.push(!0),!0}}},gr.prototype._forEachCell=function(K,gt,rt,yt,Bt,Xt,ce,Ce){for(var Ne=this._convertToXCellCoord(K),qe=this._convertToYCellCoord(gt),ur=this._convertToXCellCoord(rt),lr=this._convertToYCellCoord(yt),Fr=Ne;Fr<=ur;Fr++)for(var Zr=qe;Zr<=lr;Zr++){var Xr=this.xCellCount*Zr+Fr;if(Bt.call(this,K,gt,rt,yt,Xr,Xt,ce,Ce))return}},gr.prototype._convertToXCellCoord=function(K){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(K*this.xScale)))},gr.prototype._convertToYCellCoord=function(K){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(K*this.yScale)))},gr.prototype._circlesCollide=function(K,gt,rt,yt,Bt,Xt){var ce=yt-K,Ce=Bt-gt,Ne=rt+Xt;return Ne*Ne>ce*ce+Ce*Ce},gr.prototype._circleAndRectCollide=function(K,gt,rt,yt,Bt,Xt,ce){var Ce=(Xt-yt)/2,Ne=Math.abs(K-(yt+Ce));if(Ne>Ce+rt)return!1;var qe=(ce-Bt)/2,ur=Math.abs(gt-(Bt+qe));if(ur>qe+rt)return!1;if(Ne<=Ce||ur<=qe)return!0;var lr=Ne-Ce,Fr=ur-qe;return lr*lr+Fr*Fr<=rt*rt};function Pr(vt,K,gt,rt,yt){var Bt=s.create();return K?(s.scale(Bt,Bt,[1/yt,1/yt,1]),gt||s.rotateZ(Bt,Bt,rt.angle)):s.multiply(Bt,rt.labelPlaneMatrix,vt),Bt}function jr(vt,K,gt,rt,yt){if(K){var Bt=s.clone(vt);return s.scale(Bt,Bt,[yt,yt,1]),gt||s.rotateZ(Bt,Bt,-rt.angle),Bt}else return rt.glCoordMatrix}function _r(vt,K){var gt=[vt.x,vt.y,0,1];Cr(gt,gt,K);var rt=gt[3];return{point:new s.Point(gt[0]/rt,gt[1]/rt),signedDistanceFromCamera:rt}}function pn(vt,K){return .5+.5*(vt/K)}function en(vt,K){var gt=vt[0]/vt[3],rt=vt[1]/vt[3],yt=gt>=-K[0]&&gt<=K[0]&&rt>=-K[1]&&rt<=K[1];return yt}function Tn(vt,K,gt,rt,yt,Bt,Xt,ce){var Ce=rt?vt.textSizeData:vt.iconSizeData,Ne=s.evaluateSizeForZoom(Ce,gt.transform.zoom),qe=[256/gt.width*2+1,256/gt.height*2+1],ur=rt?vt.text.dynamicLayoutVertexArray:vt.icon.dynamicLayoutVertexArray;ur.clear();for(var lr=vt.lineVertexArray,Fr=rt?vt.text.placedSymbolArray:vt.icon.placedSymbolArray,Zr=gt.transform.width/gt.transform.height,Xr=!1,Wr=0;Wr<Fr.length;Wr++){var Jr=Fr.get(Wr);if(Jr.hidden||Jr.writingMode===s.WritingMode.vertical&&!Xr){Dn(Jr.numGlyphs,ur);continue}Xr=!1;var dn=[Jr.anchorX,Jr.anchorY,0,1];if(s.transformMat4(dn,dn,K),!en(dn,qe)){Dn(Jr.numGlyphs,ur);continue}var kn=dn[3],Vn=pn(gt.transform.cameraToCenterDistance,kn),Xn=s.evaluateSizeForFeature(Ce,Ne,Jr),Kn=Xt?Xn/Vn:Xn*Vn,Wn=new s.Point(Jr.anchorX,Jr.anchorY),Qn=_r(Wn,yt).point,ii={},fi=gi(Jr,Kn,!1,ce,K,yt,Bt,vt.glyphOffsetArray,lr,ur,Qn,Wn,ii,Zr);Xr=fi.useVertical,(fi.notEnoughRoom||Xr||fi.needsFlipping&&gi(Jr,Kn,!0,ce,K,yt,Bt,vt.glyphOffsetArray,lr,ur,Qn,Wn,ii,Zr).notEnoughRoom)&&Dn(Jr.numGlyphs,ur)}rt?vt.text.dynamicLayoutVertexBuffer.updateData(ur):vt.icon.dynamicLayoutVertexBuffer.updateData(ur)}function Pn(vt,K,gt,rt,yt,Bt,Xt,ce,Ce,Ne,qe){var ur=ce.glyphStartIndex+ce.numGlyphs,lr=ce.lineStartIndex,Fr=ce.lineStartIndex+ce.lineLength,Zr=K.getoffsetX(ce.glyphStartIndex),Xr=K.getoffsetX(ur-1),Wr=oi(vt*Zr,gt,rt,yt,Bt,Xt,ce.segment,lr,Fr,Ce,Ne,qe);if(!Wr)return null;var Jr=oi(vt*Xr,gt,rt,yt,Bt,Xt,ce.segment,lr,Fr,Ce,Ne,qe);return Jr?{first:Wr,last:Jr}:null}function Gn(vt,K,gt,rt){if(vt===s.WritingMode.horizontal){var yt=Math.abs(gt.y-K.y),Bt=Math.abs(gt.x-K.x)*rt;if(yt>Bt)return{useVertical:!0}}return(vt===s.WritingMode.vertical?K.y<gt.y:K.x>gt.x)?{needsFlipping:!0}:null}function gi(vt,K,gt,rt,yt,Bt,Xt,ce,Ce,Ne,qe,ur,lr,Fr){var Zr=K/24,Xr=vt.lineOffsetX*Zr,Wr=vt.lineOffsetY*Zr,Jr;if(vt.numGlyphs>1){var dn=vt.glyphStartIndex+vt.numGlyphs,kn=vt.lineStartIndex,Vn=vt.lineStartIndex+vt.lineLength,Xn=Pn(Zr,ce,Xr,Wr,gt,qe,ur,vt,Ce,Bt,lr);if(!Xn)return{notEnoughRoom:!0};var Kn=_r(Xn.first.point,Xt).point,Wn=_r(Xn.last.point,Xt).point;if(rt&&!gt){var Qn=Gn(vt.writingMode,Kn,Wn,Fr);if(Qn)return Qn}Jr=[Xn.first];for(var ii=vt.glyphStartIndex+1;ii<dn-1;ii++)Jr.push(oi(Zr*ce.getoffsetX(ii),Xr,Wr,gt,qe,ur,vt.segment,kn,Vn,Ce,Bt,lr));Jr.push(Xn.last)}else{if(rt&&!gt){var fi=_r(ur,yt).point,mi=vt.lineStartIndex+vt.segment+1,di=new s.Point(Ce.getx(mi),Ce.gety(mi)),zi=_r(di,yt),Qi=zi.signedDistanceFromCamera>0?zi.point:bi(ur,di,fi,1,yt),Wi=Gn(vt.writingMode,fi,Qi,Fr);if(Wi)return Wi}var Si=oi(Zr*ce.getoffsetX(vt.glyphStartIndex),Xr,Wr,gt,qe,ur,vt.segment,vt.lineStartIndex,vt.lineStartIndex+vt.lineLength,Ce,Bt,lr);if(!Si)return{notEnoughRoom:!0};Jr=[Si]}for(var Yi=0,Vi=Jr;Yi<Vi.length;Yi+=1){var da=Vi[Yi];s.addDynamicAttributes(Ne,da.point,da.angle)}return{}}function bi(vt,K,gt,rt,yt){var Bt=_r(vt.add(vt.sub(K)._unit()),yt).point,Xt=gt.sub(Bt);return gt.add(Xt._mult(rt/Xt.mag()))}function oi(vt,K,gt,rt,yt,Bt,Xt,ce,Ce,Ne,qe,ur){var lr=rt?vt-K:vt+K,Fr=lr>0?1:-1,Zr=0;rt&&(Fr*=-1,Zr=Math.PI),Fr<0&&(Zr+=Math.PI);for(var Xr=Fr>0?ce+Xt:ce+Xt+1,Wr=yt,Jr=yt,dn=0,kn=0,Vn=Math.abs(lr),Xn=[];dn+kn<=Vn;){if(Xr+=Fr,Xr<ce||Xr>=Ce)return null;if(Jr=Wr,Xn.push(Wr),Wr=ur[Xr],Wr===void 0){var Kn=new s.Point(Ne.getx(Xr),Ne.gety(Xr)),Wn=_r(Kn,qe);if(Wn.signedDistanceFromCamera>0)Wr=ur[Xr]=Wn.point;else{var Qn=Xr-Fr,ii=dn===0?Bt:new s.Point(Ne.getx(Qn),Ne.gety(Qn));Wr=bi(ii,Kn,Jr,Vn-dn+1,qe)}}dn+=kn,kn=Jr.dist(Wr)}var fi=(Vn-dn)/kn,mi=Wr.sub(Jr),di=mi.mult(fi)._add(Jr);di._add(mi._unit()._perp()._mult(gt*Fr));var zi=Zr+Math.atan2(Wr.y-Jr.y,Wr.x-Jr.x);return Xn.push(di),{point:di,angle:zi,path:Xn}}var ni=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Dn(vt,K){for(var gt=0;gt<vt;gt++){var rt=K.length;K.resize(rt+4),K.float32.set(ni,rt*3)}}function Cr(vt,K,gt){var rt=K[0],yt=K[1];return vt[0]=gt[0]*rt+gt[4]*yt+gt[12],vt[1]=gt[1]*rt+gt[5]*yt+gt[13],vt[3]=gt[3]*rt+gt[7]*yt+gt[15],vt}var an=100,on=function(K,gt,rt){gt===void 0&&(gt=new gr(K.width+2*an,K.height+2*an,25)),rt===void 0&&(rt=new gr(K.width+2*an,K.height+2*an,25)),this.transform=K,this.grid=gt,this.ignoredGrid=rt,this.pitchfactor=Math.cos(K._pitch)*K.cameraToCenterDistance,this.screenRightBoundary=K.width+an,this.screenBottomBoundary=K.height+an,this.gridRightBoundary=K.width+2*an,this.gridBottomBoundary=K.height+2*an};on.prototype.placeCollisionBox=function(K,gt,rt,yt,Bt){var Xt=this.projectAndGetPerspectiveRatio(yt,K.anchorPointX,K.anchorPointY),ce=rt*Xt.perspectiveRatio,Ce=K.x1*ce+Xt.point.x,Ne=K.y1*ce+Xt.point.y,qe=K.x2*ce+Xt.point.x,ur=K.y2*ce+Xt.point.y;return!this.isInsideGrid(Ce,Ne,qe,ur)||!gt&&this.grid.hitTest(Ce,Ne,qe,ur,Bt)?{box:[],offscreen:!1}:{box:[Ce,Ne,qe,ur],offscreen:this.isOffscreen(Ce,Ne,qe,ur)}},on.prototype.placeCollisionCircles=function(K,gt,rt,yt,Bt,Xt,ce,Ce,Ne,qe,ur,lr,Fr){var Zr=[],Xr=new s.Point(gt.anchorX,gt.anchorY),Wr=_r(Xr,Xt),Jr=pn(this.transform.cameraToCenterDistance,Wr.signedDistanceFromCamera),dn=qe?Bt/Jr:Bt*Jr,kn=dn/s.ONE_EM,Vn=_r(Xr,ce).point,Xn={},Kn=gt.lineOffsetX*kn,Wn=gt.lineOffsetY*kn,Qn=Pn(kn,yt,Kn,Wn,!1,Vn,Xr,gt,rt,ce,Xn),ii=!1,fi=!1,mi=!0;if(Qn){for(var di=lr*.5*Jr+Fr,zi=new s.Point(-an,-an),Qi=new s.Point(this.screenRightBoundary,this.screenBottomBoundary),Wi=new nn,Si=Qn.first,Yi=Qn.last,Vi=[],da=Si.path.length-1;da>=1;da--)Vi.push(Si.path[da]);for(var ua=1;ua<Yi.path.length;ua++)Vi.push(Yi.path[ua]);var za=di*2.5;if(Ce){var Ji=Vi.map(function(eu){return _r(eu,Ce)});Ji.some(function(eu){return eu.signedDistanceFromCamera<=0})?Vi=[]:Vi=Ji.map(function(eu){return eu.point})}var Pa=[];if(Vi.length>0){for(var Hi=Vi[0].clone(),na=Vi[0].clone(),ao=1;ao<Vi.length;ao++)Hi.x=Math.min(Hi.x,Vi[ao].x),Hi.y=Math.min(Hi.y,Vi[ao].y),na.x=Math.max(na.x,Vi[ao].x),na.y=Math.max(na.y,Vi[ao].y);Hi.x>=zi.x&&na.x<=Qi.x&&Hi.y>=zi.y&&na.y<=Qi.y?Pa=[Vi]:na.x<zi.x||Hi.x>Qi.x||na.y<zi.y||Hi.y>Qi.y?Pa=[]:Pa=s.clipLine([Vi],zi.x,zi.y,Qi.x,Qi.y)}for(var Ho=0,Cl=Pa;Ho<Cl.length;Ho+=1){var Ll=Cl[Ho];Wi.reset(Ll,di*.25);var ql=0;Wi.length<=.5*di?ql=1:ql=Math.ceil(Wi.paddedLength/za)+1;for(var zu=0;zu<ql;zu++){var Vc=zu/Math.max(ql-1,1),Fu=Wi.lerp(Vc),Ps=Fu.x+an,Ou=Fu.y+an;Zr.push(Ps,Ou,di,0);var Ws=Ps-di,Is=Ou-di,tu=Ps+di,bf=Ou+di;if(mi=mi&&this.isOffscreen(Ws,Is,tu,bf),fi=fi||this.isInsideGrid(Ws,Is,tu,bf),!K&&this.grid.hitTestCircle(Ps,Ou,di,ur)&&(ii=!0,!Ne))return{circles:[],offscreen:!1,collisionDetected:ii}}}}return{circles:!Ne&&ii||!fi?[]:Zr,offscreen:mi,collisionDetected:ii}},on.prototype.queryRenderedSymbols=function(K){if(K.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var gt=[],rt=1/0,yt=1/0,Bt=-1/0,Xt=-1/0,ce=0,Ce=K;ce<Ce.length;ce+=1){var Ne=Ce[ce],qe=new s.Point(Ne.x+an,Ne.y+an);rt=Math.min(rt,qe.x),yt=Math.min(yt,qe.y),Bt=Math.max(Bt,qe.x),Xt=Math.max(Xt,qe.y),gt.push(qe)}for(var ur=this.grid.query(rt,yt,Bt,Xt).concat(this.ignoredGrid.query(rt,yt,Bt,Xt)),lr={},Fr={},Zr=0,Xr=ur;Zr<Xr.length;Zr+=1){var Wr=Xr[Zr],Jr=Wr.key;if(lr[Jr.bucketInstanceId]===void 0&&(lr[Jr.bucketInstanceId]={}),!lr[Jr.bucketInstanceId][Jr.featureIndex]){var dn=[new s.Point(Wr.x1,Wr.y1),new s.Point(Wr.x2,Wr.y1),new s.Point(Wr.x2,Wr.y2),new s.Point(Wr.x1,Wr.y2)];s.polygonIntersectsPolygon(gt,dn)&&(lr[Jr.bucketInstanceId][Jr.featureIndex]=!0,Fr[Jr.bucketInstanceId]===void 0&&(Fr[Jr.bucketInstanceId]=[]),Fr[Jr.bucketInstanceId].push(Jr.featureIndex))}}return Fr},on.prototype.insertCollisionBox=function(K,gt,rt,yt,Bt){var Xt=gt?this.ignoredGrid:this.grid,ce={bucketInstanceId:rt,featureIndex:yt,collisionGroupID:Bt};Xt.insert(ce,K[0],K[1],K[2],K[3])},on.prototype.insertCollisionCircles=function(K,gt,rt,yt,Bt){for(var Xt=gt?this.ignoredGrid:this.grid,ce={bucketInstanceId:rt,featureIndex:yt,collisionGroupID:Bt},Ce=0;Ce<K.length;Ce+=4)Xt.insertCircle(ce,K[Ce],K[Ce+1],K[Ce+2])},on.prototype.projectAndGetPerspectiveRatio=function(K,gt,rt){var yt=[gt,rt,0,1];Cr(yt,yt,K);var Bt=new s.Point((yt[0]/yt[3]+1)/2*this.transform.width+an,(-yt[1]/yt[3]+1)/2*this.transform.height+an);return{point:Bt,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/yt[3])}},on.prototype.isOffscreen=function(K,gt,rt,yt){return rt<an||K>=this.screenRightBoundary||yt<an||gt>this.screenBottomBoundary},on.prototype.isInsideGrid=function(K,gt,rt,yt){return rt>=0&&K<this.gridRightBoundary&&yt>=0&&gt<this.gridBottomBoundary},on.prototype.getViewportMatrix=function(){var K=s.identity([]);return s.translate(K,K,[-an,-an,0]),K};function ln(vt,K,gt){return K*(s.EXTENT/(vt.tileSize*Math.pow(2,gt-vt.tileID.overscaledZ)))}var Bn=function(K,gt,rt,yt){K?this.opacity=Math.max(0,Math.min(1,K.opacity+(K.placed?gt:-gt))):this.opacity=yt&&rt?1:0,this.placed=rt};Bn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var gn=function(K,gt,rt,yt,Bt){this.text=new Bn(K?K.text:null,gt,rt,Bt),this.icon=new Bn(K?K.icon:null,gt,yt,Bt)};gn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Cn=function(K,gt,rt){this.text=K,this.icon=gt,this.skipFade=rt},Nn=function(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]},$n=function(K,gt,rt,yt,Bt){this.bucketInstanceId=K,this.featureIndex=gt,this.sourceLayerIndex=rt,this.bucketIndex=yt,this.tileID=Bt},vi=function(K){this.crossSourceCollisions=K,this.maxGroupID=0,this.collisionGroups={}};vi.prototype.get=function(K){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[K]){var gt=++this.maxGroupID;this.collisionGroups[K]={ID:gt,predicate:function(rt){return rt.collisionGroupID===gt}}}return this.collisionGroups[K]};function Di(vt,K,gt,rt,yt){var Bt=s.getAnchorAlignment(vt),Xt=Bt.horizontalAlign,ce=Bt.verticalAlign,Ce=-(Xt-.5)*K,Ne=-(ce-.5)*gt,qe=s.evaluateVariableOffset(vt,rt);return new s.Point(Ce+qe[0]*yt,Ne+qe[1]*yt)}function Ar(vt,K,gt,rt,yt,Bt){var Xt=vt.x1,ce=vt.x2,Ce=vt.y1,Ne=vt.y2,qe=vt.anchorPointX,ur=vt.anchorPointY,lr=new s.Point(K,gt);return rt&&lr._rotate(yt?Bt:-Bt),{x1:Xt+lr.x,y1:Ce+lr.y,x2:ce+lr.x,y2:Ne+lr.y,anchorPointX:qe,anchorPointY:ur}}var Br=function(K,gt,rt,yt){this.transform=K.clone(),this.collisionIndex=new on(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=gt,this.retainedQueryData={},this.collisionGroups=new vi(rt),this.collisionCircleArrays={},this.prevPlacement=yt,yt&&(yt.prevPlacement=void 0),this.placedOrientations={}};Br.prototype.getBucketParts=function(K,gt,rt,yt){var Bt=rt.getBucket(gt),Xt=rt.latestFeatureIndex;if(!(!Bt||!Xt||gt.id!==Bt.layerIds[0])){var ce=rt.collisionBoxArray,Ce=Bt.layers[0].layout,Ne=Math.pow(2,this.transform.zoom-rt.tileID.overscaledZ),qe=rt.tileSize/s.EXTENT,ur=this.transform.calculatePosMatrix(rt.tileID.toUnwrapped()),lr=Ce.get("text-pitch-alignment")==="map",Fr=Ce.get("text-rotation-alignment")==="map",Zr=ln(rt,1,this.transform.zoom),Xr=Pr(ur,lr,Fr,this.transform,Zr),Wr=null;if(lr){var Jr=jr(ur,lr,Fr,this.transform,Zr);Wr=s.multiply([],this.transform.labelPlaneMatrix,Jr)}this.retainedQueryData[Bt.bucketInstanceId]=new $n(Bt.bucketInstanceId,Xt,Bt.sourceLayerIndex,Bt.index,rt.tileID);var dn={bucket:Bt,layout:Ce,posMatrix:ur,textLabelPlaneMatrix:Xr,labelToScreenMatrix:Wr,scale:Ne,textPixelRatio:qe,holdingForFade:rt.holdingForFade(),collisionBoxArray:ce,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(Bt.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Bt.sourceID)};if(yt)for(var kn=0,Vn=Bt.sortKeyRanges;kn<Vn.length;kn+=1){var Xn=Vn[kn],Kn=Xn.sortKey,Wn=Xn.symbolInstanceStart,Qn=Xn.symbolInstanceEnd;K.push({sortKey:Kn,symbolInstanceStart:Wn,symbolInstanceEnd:Qn,parameters:dn})}else K.push({symbolInstanceStart:0,symbolInstanceEnd:Bt.symbolInstances.length,parameters:dn})}},Br.prototype.attemptAnchorPlacement=function(K,gt,rt,yt,Bt,Xt,ce,Ce,Ne,qe,ur,lr,Fr,Zr,Xr){var Wr=[lr.textOffset0,lr.textOffset1],Jr=Di(K,rt,yt,Wr,Bt),dn=this.collisionIndex.placeCollisionBox(Ar(gt,Jr.x,Jr.y,Xt,ce,this.transform.angle),ur,Ce,Ne,qe.predicate);if(Xr){var kn=this.collisionIndex.placeCollisionBox(Ar(Xr,Jr.x,Jr.y,Xt,ce,this.transform.angle),ur,Ce,Ne,qe.predicate);if(kn.box.length===0)return}if(dn.box.length>0){var Vn;return this.prevPlacement&&this.prevPlacement.variableOffsets[lr.crossTileID]&&this.prevPlacement.placements[lr.crossTileID]&&this.prevPlacement.placements[lr.crossTileID].text&&(Vn=this.prevPlacement.variableOffsets[lr.crossTileID].anchor),this.variableOffsets[lr.crossTileID]={textOffset:Wr,width:rt,height:yt,anchor:K,textBoxScale:Bt,prevAnchor:Vn},this.markUsedJustification(Fr,K,lr,Zr),Fr.allowVerticalPlacement&&(this.markUsedOrientation(Fr,Zr,lr),this.placedOrientations[lr.crossTileID]=Zr),{shift:Jr,placedGlyphBoxes:dn}}},Br.prototype.placeLayerBucketPart=function(K,gt,rt){var yt=this,Bt=K.parameters,Xt=Bt.bucket,ce=Bt.layout,Ce=Bt.posMatrix,Ne=Bt.textLabelPlaneMatrix,qe=Bt.labelToScreenMatrix,ur=Bt.textPixelRatio,lr=Bt.holdingForFade,Fr=Bt.collisionBoxArray,Zr=Bt.partiallyEvaluatedTextSize,Xr=Bt.collisionGroup,Wr=ce.get("text-optional"),Jr=ce.get("icon-optional"),dn=ce.get("text-allow-overlap"),kn=ce.get("icon-allow-overlap"),Vn=ce.get("text-rotation-alignment")==="map",Xn=ce.get("text-pitch-alignment")==="map",Kn=ce.get("icon-text-fit")!=="none",Wn=ce.get("symbol-z-order")==="viewport-y",Qn=dn&&(kn||!Xt.hasIconData()||Jr),ii=kn&&(dn||!Xt.hasTextData()||Wr);!Xt.collisionArrays&&Fr&&Xt.deserializeCollisionBoxes(Fr);var fi=function(Si,Yi){if(!gt[Si.crossTileID]){if(lr){yt.placements[Si.crossTileID]=new Cn(!1,!1,!1);return}var Vi=!1,da=!1,ua=!0,za=null,Ji={box:null,offscreen:null},Pa={box:null,offscreen:null},Hi=null,na=null,ao=null,Ho=0,Cl=0,Ll=0;Yi.textFeatureIndex?Ho=Yi.textFeatureIndex:Si.useRuntimeCollisionCircles&&(Ho=Si.featureIndex),Yi.verticalTextFeatureIndex&&(Cl=Yi.verticalTextFeatureIndex);var ql=Yi.textBox;if(ql){var zu=function(ho){var Ys=s.WritingMode.horizontal;if(Xt.allowVerticalPlacement&&!ho&&yt.prevPlacement){var js=yt.prevPlacement.placedOrientations[Si.crossTileID];js&&(yt.placedOrientations[Si.crossTileID]=js,Ys=js,yt.markUsedOrientation(Xt,Ys,Si))}return Ys},Vc=function(ho,Ys){if(Xt.allowVerticalPlacement&&Si.numVerticalGlyphVertices>0&&Yi.verticalTextBox)for(var js=0,_d=Xt.writingModes;js<_d.length;js+=1){var qp=_d[js];if(qp===s.WritingMode.vertical?(Ji=Ys(),Pa=Ji):Ji=ho(),Ji&&Ji.box&&Ji.box.length)break}else Ji=ho()};if(ce.get("text-variable-anchor")){var Ws=ce.get("text-variable-anchor");if(yt.prevPlacement&&yt.prevPlacement.variableOffsets[Si.crossTileID]){var Is=yt.prevPlacement.variableOffsets[Si.crossTileID];Ws.indexOf(Is.anchor)>0&&(Ws=Ws.filter(function(ho){return ho!==Is.anchor}),Ws.unshift(Is.anchor))}var tu=function(ho,Ys,js){for(var _d=ho.x2-ho.x1,qp=ho.y2-ho.y1,d1=Si.textBoxScale,p1=Kn&&!kn?Ys:null,Kv={box:[],offscreen:!1},g1=dn?Ws.length*2:Ws.length,kd=0;kd<g1;++kd){var y1=Ws[kd%Ws.length],m1=kd>=Ws.length,t0=yt.attemptAnchorPlacement(y1,ho,_d,qp,d1,Vn,Xn,ur,Ce,Xr,m1,Si,Xt,js,p1);if(t0&&(Kv=t0.placedGlyphBoxes,Kv&&Kv.box&&Kv.box.length)){Vi=!0,za=t0.shift;break}}return Kv},bf=function(){return tu(ql,Yi.iconBox,s.WritingMode.horizontal)},eu=function(){var ho=Yi.verticalTextBox,Ys=Ji&&Ji.box&&Ji.box.length;return Xt.allowVerticalPlacement&&!Ys&&Si.numVerticalGlyphVertices>0&&ho?tu(ho,Yi.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null}};Vc(bf,eu),Ji&&(Vi=Ji.box,ua=Ji.offscreen);var Ld=zu(Ji&&Ji.box);if(!Vi&&yt.prevPlacement){var Nh=yt.prevPlacement.variableOffsets[Si.crossTileID];Nh&&(yt.variableOffsets[Si.crossTileID]=Nh,yt.markUsedJustification(Xt,Nh.anchor,Si,Ld))}}else{var Fu=function(ho,Ys){var js=yt.collisionIndex.placeCollisionBox(ho,dn,ur,Ce,Xr.predicate);return js&&js.box&&js.box.length&&(yt.markUsedOrientation(Xt,Ys,Si),yt.placedOrientations[Si.crossTileID]=Ys),js},Ps=function(){return Fu(ql,s.WritingMode.horizontal)},Ou=function(){var ho=Yi.verticalTextBox;return Xt.allowVerticalPlacement&&Si.numVerticalGlyphVertices>0&&ho?Fu(ho,s.WritingMode.vertical):{box:null,offscreen:null}};Vc(Ps,Ou),zu(Ji&&Ji.box&&Ji.box.length)}}if(Hi=Ji,Vi=Hi&&Hi.box&&Hi.box.length>0,ua=Hi&&Hi.offscreen,Si.useRuntimeCollisionCircles){var Xo=Xt.text.placedSymbolArray.get(Si.centerJustifiedTextSymbolIndex),Pd=s.evaluateSizeForFeature(Xt.textSizeData,Zr,Xo),Zv=ce.get("text-padding"),ds=Si.collisionCircleDiameter;na=yt.collisionIndex.placeCollisionCircles(dn,Xo,Xt.lineVertexArray,Xt.glyphOffsetArray,Pd,Ce,Ne,qe,rt,Xn,Xr.predicate,ds,Zv),Vi=dn||na.circles.length>0&&!na.collisionDetected,ua=ua&&na.offscreen}if(Yi.iconFeatureIndex&&(Ll=Yi.iconFeatureIndex),Yi.iconBox){var Uh=function(ho){var Ys=Kn&&za?Ar(ho,za.x,za.y,Vn,Xn,yt.transform.angle):ho;return yt.collisionIndex.placeCollisionBox(Ys,kn,ur,Ce,Xr.predicate)};Pa&&Pa.box&&Pa.box.length&&Yi.verticalIconBox?(ao=Uh(Yi.verticalIconBox),da=ao.box.length>0):(ao=Uh(Yi.iconBox),da=ao.box.length>0),ua=ua&&ao.offscreen}var Id=Wr||Si.numHorizontalGlyphVertices===0&&Si.numVerticalGlyphVertices===0,Dd=Jr||Si.numIconVertices===0;if(!Id&&!Dd?da=Vi=da&&Vi:Dd?Id||(da=da&&Vi):Vi=da&&Vi,Vi&&Hi&&Hi.box&&(Pa&&Pa.box&&Cl?yt.collisionIndex.insertCollisionBox(Hi.box,ce.get("text-ignore-placement"),Xt.bucketInstanceId,Cl,Xr.ID):yt.collisionIndex.insertCollisionBox(Hi.box,ce.get("text-ignore-placement"),Xt.bucketInstanceId,Ho,Xr.ID)),da&&ao&&yt.collisionIndex.insertCollisionBox(ao.box,ce.get("icon-ignore-placement"),Xt.bucketInstanceId,Ll,Xr.ID),na&&(Vi&&yt.collisionIndex.insertCollisionCircles(na.circles,ce.get("text-ignore-placement"),Xt.bucketInstanceId,Ho,Xr.ID),rt)){var Rd=Xt.bucketInstanceId,Vh=yt.collisionCircleArrays[Rd];Vh===void 0&&(Vh=yt.collisionCircleArrays[Rd]=new Nn);for(var Hh=0;Hh<na.circles.length;Hh+=4)Vh.circles.push(na.circles[Hh+0]),Vh.circles.push(na.circles[Hh+1]),Vh.circles.push(na.circles[Hh+2]),Vh.circles.push(na.collisionDetected?1:0)}yt.placements[Si.crossTileID]=new Cn(Vi||Qn,da||ii,ua||Xt.justReloaded),gt[Si.crossTileID]=!0}};if(Wn)for(var mi=Xt.getSortedSymbolIndexes(this.transform.angle),di=mi.length-1;di>=0;--di){var zi=mi[di];fi(Xt.symbolInstances.get(zi),Xt.collisionArrays[zi])}else for(var Qi=K.symbolInstanceStart;Qi<K.symbolInstanceEnd;Qi++)fi(Xt.symbolInstances.get(Qi),Xt.collisionArrays[Qi]);if(rt&&Xt.bucketInstanceId in this.collisionCircleArrays){var Wi=this.collisionCircleArrays[Xt.bucketInstanceId];s.invert(Wi.invProjMatrix,Ce),Wi.viewportMatrix=this.collisionIndex.getViewportMatrix()}Xt.justReloaded=!1},Br.prototype.markUsedJustification=function(K,gt,rt,yt){var Bt={left:rt.leftJustifiedTextSymbolIndex,center:rt.centerJustifiedTextSymbolIndex,right:rt.rightJustifiedTextSymbolIndex},Xt;yt===s.WritingMode.vertical?Xt=rt.verticalPlacedTextSymbolIndex:Xt=Bt[s.getAnchorJustification(gt)];for(var ce=[rt.leftJustifiedTextSymbolIndex,rt.centerJustifiedTextSymbolIndex,rt.rightJustifiedTextSymbolIndex,rt.verticalPlacedTextSymbolIndex],Ce=0,Ne=ce;Ce<Ne.length;Ce+=1){var qe=Ne[Ce];qe>=0&&(Xt>=0&&qe!==Xt?K.text.placedSymbolArray.get(qe).crossTileID=0:K.text.placedSymbolArray.get(qe).crossTileID=rt.crossTileID)}},Br.prototype.markUsedOrientation=function(K,gt,rt){for(var yt=gt===s.WritingMode.horizontal||gt===s.WritingMode.horizontalOnly?gt:0,Bt=gt===s.WritingMode.vertical?gt:0,Xt=[rt.leftJustifiedTextSymbolIndex,rt.centerJustifiedTextSymbolIndex,rt.rightJustifiedTextSymbolIndex],ce=0,Ce=Xt;ce<Ce.length;ce+=1){var Ne=Ce[ce];K.text.placedSymbolArray.get(Ne).placedOrientation=yt}rt.verticalPlacedTextSymbolIndex&&(K.text.placedSymbolArray.get(rt.verticalPlacedTextSymbolIndex).placedOrientation=Bt)},Br.prototype.commit=function(K){this.commitTime=K,this.zoomAtLastRecencyCheck=this.transform.zoom;var gt=this.prevPlacement,rt=!1;this.prevZoomAdjustment=gt?gt.zoomAdjustment(this.transform.zoom):0;var yt=gt?gt.symbolFadeChange(K):1,Bt=gt?gt.opacities:{},Xt=gt?gt.variableOffsets:{},ce=gt?gt.placedOrientations:{};for(var Ce in this.placements){var Ne=this.placements[Ce],qe=Bt[Ce];qe?(this.opacities[Ce]=new gn(qe,yt,Ne.text,Ne.icon),rt=rt||Ne.text!==qe.text.placed||Ne.icon!==qe.icon.placed):(this.opacities[Ce]=new gn(null,yt,Ne.text,Ne.icon,Ne.skipFade),rt=rt||Ne.text||Ne.icon)}for(var ur in Bt){var lr=Bt[ur];if(!this.opacities[ur]){var Fr=new gn(lr,yt,!1,!1);Fr.isHidden()||(this.opacities[ur]=Fr,rt=rt||lr.text.placed||lr.icon.placed)}}for(var Zr in Xt)!this.variableOffsets[Zr]&&this.opacities[Zr]&&!this.opacities[Zr].isHidden()&&(this.variableOffsets[Zr]=Xt[Zr]);for(var Xr in ce)!this.placedOrientations[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.placedOrientations[Xr]=ce[Xr]);rt?this.lastPlacementChangeTime=K:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=gt?gt.lastPlacementChangeTime:K)},Br.prototype.updateLayerOpacities=function(K,gt){for(var rt={},yt=0,Bt=gt;yt<Bt.length;yt+=1){var Xt=Bt[yt],ce=Xt.getBucket(K);ce&&Xt.latestFeatureIndex&&K.id===ce.layerIds[0]&&this.updateBucketOpacities(ce,rt,Xt.collisionBoxArray)}},Br.prototype.updateBucketOpacities=function(K,gt,rt){var yt=this;K.hasTextData()&&K.text.opacityVertexArray.clear(),K.hasIconData()&&K.icon.opacityVertexArray.clear(),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexArray.clear(),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexArray.clear();var Bt=K.layers[0].layout,Xt=new gn(null,0,!1,!1,!0),ce=Bt.get("text-allow-overlap"),Ce=Bt.get("icon-allow-overlap"),Ne=Bt.get("text-variable-anchor"),qe=Bt.get("text-rotation-alignment")==="map",ur=Bt.get("text-pitch-alignment")==="map",lr=Bt.get("icon-text-fit")!=="none",Fr=new gn(null,0,ce&&(Ce||!K.hasIconData()||Bt.get("icon-optional")),Ce&&(ce||!K.hasTextData()||Bt.get("text-optional")),!0);!K.collisionArrays&&rt&&(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData())&&K.deserializeCollisionBoxes(rt);for(var Zr=function(dn,kn,Vn){for(var Xn=0;Xn<kn/4;Xn++)dn.opacityVertexArray.emplaceBack(Vn)},Xr=function(dn){var kn=K.symbolInstances.get(dn),Vn=kn.numHorizontalGlyphVertices,Xn=kn.numVerticalGlyphVertices,Kn=kn.crossTileID,Wn=gt[Kn],Qn=yt.opacities[Kn];Wn?Qn=Xt:Qn||(Qn=Fr,yt.opacities[Kn]=Qn),gt[Kn]=!0;var ii=Vn>0||Xn>0,fi=kn.numIconVertices>0,mi=yt.placedOrientations[kn.crossTileID],di=mi===s.WritingMode.vertical,zi=mi===s.WritingMode.horizontal||mi===s.WritingMode.horizontalOnly;if(ii){var Qi=Gr(Qn.text),Wi=di?$r:Qi;Zr(K.text,Vn,Wi);var Si=zi?$r:Qi;Zr(K.text,Xn,Si);var Yi=Qn.text.isHidden();[kn.rightJustifiedTextSymbolIndex,kn.centerJustifiedTextSymbolIndex,kn.leftJustifiedTextSymbolIndex].forEach(function(Ll){Ll>=0&&(K.text.placedSymbolArray.get(Ll).hidden=Yi||di?1:0)}),kn.verticalPlacedTextSymbolIndex>=0&&(K.text.placedSymbolArray.get(kn.verticalPlacedTextSymbolIndex).hidden=Yi||zi?1:0);var Vi=yt.variableOffsets[kn.crossTileID];Vi&&yt.markUsedJustification(K,Vi.anchor,kn,mi);var da=yt.placedOrientations[kn.crossTileID];da&&(yt.markUsedJustification(K,"left",kn,da),yt.markUsedOrientation(K,da,kn))}if(fi){var ua=Gr(Qn.icon),za=!(lr&&kn.verticalPlacedIconSymbolIndex&&di);if(kn.placedIconSymbolIndex>=0){var Ji=za?ua:$r;Zr(K.icon,kn.numIconVertices,Ji),K.icon.placedSymbolArray.get(kn.placedIconSymbolIndex).hidden=Qn.icon.isHidden()}if(kn.verticalPlacedIconSymbolIndex>=0){var Pa=za?$r:ua;Zr(K.icon,kn.numVerticalIconVertices,Pa),K.icon.placedSymbolArray.get(kn.verticalPlacedIconSymbolIndex).hidden=Qn.icon.isHidden()}}if(K.hasIconCollisionBoxData()||K.hasTextCollisionBoxData()){var Hi=K.collisionArrays[dn];if(Hi){var na=new s.Point(0,0);if(Hi.textBox||Hi.verticalTextBox){var ao=!0;if(Ne){var Ho=yt.variableOffsets[Kn];Ho?(na=Di(Ho.anchor,Ho.width,Ho.height,Ho.textOffset,Ho.textBoxScale),qe&&na._rotate(ur?yt.transform.angle:-yt.transform.angle)):ao=!1}Hi.textBox&&Sr(K.textCollisionBox.collisionVertexArray,Qn.text.placed,!ao||di,na.x,na.y),Hi.verticalTextBox&&Sr(K.textCollisionBox.collisionVertexArray,Qn.text.placed,!ao||zi,na.x,na.y)}var Cl=!!(!zi&&Hi.verticalIconBox);Hi.iconBox&&Sr(K.iconCollisionBox.collisionVertexArray,Qn.icon.placed,Cl,lr?na.x:0,lr?na.y:0),Hi.verticalIconBox&&Sr(K.iconCollisionBox.collisionVertexArray,Qn.icon.placed,!Cl,lr?na.x:0,lr?na.y:0)}}},Wr=0;Wr<K.symbolInstances.length;Wr++)Xr(Wr);if(K.sortFeatures(this.transform.angle),this.retainedQueryData[K.bucketInstanceId]&&(this.retainedQueryData[K.bucketInstanceId].featureSortOrder=K.featureSortOrder),K.hasTextData()&&K.text.opacityVertexBuffer&&K.text.opacityVertexBuffer.updateData(K.text.opacityVertexArray),K.hasIconData()&&K.icon.opacityVertexBuffer&&K.icon.opacityVertexBuffer.updateData(K.icon.opacityVertexArray),K.hasIconCollisionBoxData()&&K.iconCollisionBox.collisionVertexBuffer&&K.iconCollisionBox.collisionVertexBuffer.updateData(K.iconCollisionBox.collisionVertexArray),K.hasTextCollisionBoxData()&&K.textCollisionBox.collisionVertexBuffer&&K.textCollisionBox.collisionVertexBuffer.updateData(K.textCollisionBox.collisionVertexArray),K.bucketInstanceId in this.collisionCircleArrays){var Jr=this.collisionCircleArrays[K.bucketInstanceId];K.placementInvProjMatrix=Jr.invProjMatrix,K.placementViewportMatrix=Jr.viewportMatrix,K.collisionCircleArray=Jr.circles,delete this.collisionCircleArrays[K.bucketInstanceId]}},Br.prototype.symbolFadeChange=function(K){return this.fadeDuration===0?1:(K-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Br.prototype.zoomAdjustment=function(K){return Math.max(0,(this.transform.zoom-K)/1.5)},Br.prototype.hasTransitions=function(K){return this.stale||K-this.lastPlacementChangeTime<this.fadeDuration},Br.prototype.stillRecent=function(K,gt){var rt=this.zoomAtLastRecencyCheck===gt?1-this.zoomAdjustment(gt):1;return this.zoomAtLastRecencyCheck=gt,this.commitTime+this.fadeDuration*rt>K},Br.prototype.setStale=function(){this.stale=!0};function Sr(vt,K,gt,rt,yt){vt.emplaceBack(K?1:0,gt?1:0,rt||0,yt||0),vt.emplaceBack(K?1:0,gt?1:0,rt||0,yt||0),vt.emplaceBack(K?1:0,gt?1:0,rt||0,yt||0),vt.emplaceBack(K?1:0,gt?1:0,rt||0,yt||0)}var Nr=Math.pow(2,25),un=Math.pow(2,24),Rn=Math.pow(2,17),mn=Math.pow(2,16),cn=Math.pow(2,9),Er=Math.pow(2,8),Yr=Math.pow(2,1);function Gr(vt){if(vt.opacity===0&&!vt.placed)return 0;if(vt.opacity===1&&vt.placed)return 4294967295;var K=vt.placed?1:0,gt=Math.floor(vt.opacity*127);return gt*Nr+K*un+gt*Rn+K*mn+gt*cn+K*Er+gt*Yr+K}var $r=0,wn=function(K){this._sortAcrossTiles=K.layout.get("symbol-z-order")!=="viewport-y"&&K.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};wn.prototype.continuePlacement=function(K,gt,rt,yt,Bt){for(var Xt=this._bucketParts;this._currentTileIndex<K.length;){var ce=K[this._currentTileIndex];if(gt.getBucketParts(Xt,yt,ce,this._sortAcrossTiles),this._currentTileIndex++,Bt())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Xt.sort(function(Ne,qe){return Ne.sortKey-qe.sortKey}));this._currentPartIndex<Xt.length;){var Ce=Xt[this._currentPartIndex];if(gt.placeLayerBucketPart(Ce,this._seenCrossTileIDs,rt),this._currentPartIndex++,Bt())return!0}return!1};var An=function(K,gt,rt,yt,Bt,Xt,ce){this.placement=new Br(K,Bt,Xt,ce),this._currentPlacementIndex=gt.length-1,this._forceFullPlacement=rt,this._showCollisionBoxes=yt,this._done=!1};An.prototype.isDone=function(){return this._done},An.prototype.continuePlacement=function(K,gt,rt){for(var yt=this,Bt=s.browser.now(),Xt=function(){var ur=s.browser.now()-Bt;return yt._forceFullPlacement?!1:ur>2};this._currentPlacementIndex>=0;){var ce=K[this._currentPlacementIndex],Ce=gt[ce],Ne=this.placement.collisionIndex.transform.zoom;if(Ce.type==="symbol"&&(!Ce.minzoom||Ce.minzoom<=Ne)&&(!Ce.maxzoom||Ce.maxzoom>Ne)){this._inProgressLayer||(this._inProgressLayer=new wn(Ce));var qe=this._inProgressLayer.continuePlacement(rt[Ce.source],this.placement,this._showCollisionBoxes,Ce,Xt);if(qe)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},An.prototype.commit=function(K){return this.placement.commit(K),this.placement};var On=512/s.EXTENT/2,Un=function(K,gt,rt){this.tileID=K,this.indexedSymbolInstances={},this.bucketInstanceId=rt;for(var yt=0;yt<gt.length;yt++){var Bt=gt.get(yt),Xt=Bt.key;this.indexedSymbolInstances[Xt]||(this.indexedSymbolInstances[Xt]=[]),this.indexedSymbolInstances[Xt].push({crossTileID:Bt.crossTileID,coord:this.getScaledCoordinates(Bt,K)})}};Un.prototype.getScaledCoordinates=function(K,gt){var rt=gt.canonical.z-this.tileID.canonical.z,yt=On/Math.pow(2,rt);return{x:Math.floor((gt.canonical.x*s.EXTENT+K.anchorX)*yt),y:Math.floor((gt.canonical.y*s.EXTENT+K.anchorY)*yt)}},Un.prototype.findMatches=function(K,gt,rt){for(var yt=this.tileID.canonical.z<gt.canonical.z?1:Math.pow(2,this.tileID.canonical.z-gt.canonical.z),Bt=0;Bt<K.length;Bt++){var Xt=K.get(Bt);if(!Xt.crossTileID){var ce=this.indexedSymbolInstances[Xt.key];if(ce)for(var Ce=this.getScaledCoordinates(Xt,gt),Ne=0,qe=ce;Ne<qe.length;Ne+=1){var ur=qe[Ne];if(Math.abs(ur.coord.x-Ce.x)<=yt&&Math.abs(ur.coord.y-Ce.y)<=yt&&!rt[ur.crossTileID]){rt[ur.crossTileID]=!0,Xt.crossTileID=ur.crossTileID;break}}}}};var zn=function(){this.maxCrossTileID=0};zn.prototype.generate=function(){return++this.maxCrossTileID};var Yn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Yn.prototype.handleWrapJump=function(K){var gt=Math.round((K-this.lng)/360);if(gt!==0)for(var rt in this.indexes){var yt=this.indexes[rt],Bt={};for(var Xt in yt){var ce=yt[Xt];ce.tileID=ce.tileID.unwrapTo(ce.tileID.wrap+gt),Bt[ce.tileID.key]=ce}this.indexes[rt]=Bt}this.lng=K},Yn.prototype.addBucket=function(K,gt,rt){if(this.indexes[K.overscaledZ]&&this.indexes[K.overscaledZ][K.key]){if(this.indexes[K.overscaledZ][K.key].bucketInstanceId===gt.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(K.overscaledZ,this.indexes[K.overscaledZ][K.key])}for(var yt=0;yt<gt.symbolInstances.length;yt++){var Bt=gt.symbolInstances.get(yt);Bt.crossTileID=0}this.usedCrossTileIDs[K.overscaledZ]||(this.usedCrossTileIDs[K.overscaledZ]={});var Xt=this.usedCrossTileIDs[K.overscaledZ];for(var ce in this.indexes){var Ce=this.indexes[ce];if(Number(ce)>K.overscaledZ)for(var Ne in Ce){var qe=Ce[Ne];qe.tileID.isChildOf(K)&&qe.findMatches(gt.symbolInstances,K,Xt)}else{var ur=K.scaledTo(Number(ce)),lr=Ce[ur.key];lr&&lr.findMatches(gt.symbolInstances,K,Xt)}}for(var Fr=0;Fr<gt.symbolInstances.length;Fr++){var Zr=gt.symbolInstances.get(Fr);Zr.crossTileID||(Zr.crossTileID=rt.generate(),Xt[Zr.crossTileID]=!0)}return this.indexes[K.overscaledZ]===void 0&&(this.indexes[K.overscaledZ]={}),this.indexes[K.overscaledZ][K.key]=new Un(K,gt.symbolInstances,gt.bucketInstanceId),!0},Yn.prototype.removeBucketCrossTileIDs=function(K,gt){for(var rt in gt.indexedSymbolInstances)for(var yt=0,Bt=gt.indexedSymbolInstances[rt];yt<Bt.length;yt+=1){var Xt=Bt[yt];delete this.usedCrossTileIDs[K][Xt.crossTileID]}},Yn.prototype.removeStaleBuckets=function(K){var gt=!1;for(var rt in this.indexes){var yt=this.indexes[rt];for(var Bt in yt)K[yt[Bt].bucketInstanceId]||(this.removeBucketCrossTileIDs(rt,yt[Bt]),delete yt[Bt],gt=!0)}return gt};var Zn=function(){this.layerIndexes={},this.crossTileIDs=new zn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Zn.prototype.addLayer=function(K,gt,rt){var yt=this.layerIndexes[K.id];yt===void 0&&(yt=this.layerIndexes[K.id]=new Yn);var Bt=!1,Xt={};yt.handleWrapJump(rt);for(var ce=0,Ce=gt;ce<Ce.length;ce+=1){var Ne=Ce[ce],qe=Ne.getBucket(K);!qe||K.id!==qe.layerIds[0]||(qe.bucketInstanceId||(qe.bucketInstanceId=++this.maxBucketInstanceId),yt.addBucket(Ne.tileID,qe,this.crossTileIDs)&&(Bt=!0),Xt[qe.bucketInstanceId]=!0)}return yt.removeStaleBuckets(Xt)&&(Bt=!0),Bt},Zn.prototype.pruneUnusedLayers=function(K){var gt={};K.forEach(function(yt){gt[yt]=!0});for(var rt in this.layerIndexes)gt[rt]||delete this.layerIndexes[rt]};var si=function(vt,K){return s.emitValidationErrors(vt,K&&K.filter(function(gt){return gt.identifier!=="source.canvas"}))},Li=s.pick(Pe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ma=s.pick(Pe,["setCenter","setZoom","setBearing","setPitch"]),sa=Ye(),No=function(vt){function K(gt,rt){var yt=this;rt===void 0&&(rt={}),vt.call(this),this.map=gt,this.dispatcher=new k(xr(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new E(gt._requestManager,rt.localIdeographFontFamily),this.lineAtlas=new z(256,512),this.crossTileSymbolIndex=new Zn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());var Bt=this;this._rtlTextPluginCallback=K.registerForPluginStateChange(function(Xt){var ce={pluginStatus:Xt.pluginStatus,pluginURL:Xt.pluginURL};Bt.dispatcher.broadcast("syncRTLPluginState",ce,function(Ce,Ne){if(s.triggerPluginCompletionEvent(Ce),Ne){var qe=Ne.every(function(lr){return lr});if(qe)for(var ur in Bt.sourceCaches)Bt.sourceCaches[ur].reload()}})}),this.on("data",function(Xt){if(!(Xt.dataType!=="source"||Xt.sourceDataType!=="metadata")){var ce=yt.sourceCaches[Xt.sourceId];if(ce){var Ce=ce.getSource();if(!(!Ce||!Ce.vectorLayerIds))for(var Ne in yt._layers){var qe=yt._layers[Ne];qe.source===Ce.id&&yt._validateLayer(qe)}}}})}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.loadURL=function(rt,yt){var Bt=this;yt===void 0&&(yt={}),this.fire(new s.Event("dataloading",{dataType:"style"}));var Xt=typeof yt.validate=="boolean"?yt.validate:!s.isMapboxURL(rt);rt=this.map._requestManager.normalizeStyleURL(rt,yt.accessToken);var ce=this.map._requestManager.transformRequest(rt,s.ResourceType.Style);this._request=s.getJSON(ce,function(Ce,Ne){Bt._request=null,Ce?Bt.fire(new s.ErrorEvent(Ce)):Ne&&Bt._load(Ne,Xt)})},K.prototype.loadJSON=function(rt,yt){var Bt=this;yt===void 0&&(yt={}),this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.browser.frame(function(){Bt._request=null,Bt._load(rt,yt.validate!==!1)})},K.prototype.loadEmpty=function(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(sa,!1)},K.prototype._load=function(rt,yt){if(!(yt&&si(this,s.validateStyle(rt)))){this._loaded=!0,this.stylesheet=rt;for(var Bt in rt.sources)this.addSource(Bt,rt.sources[Bt],{validate:!1});rt.sprite?this._loadSprite(rt.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(rt.glyphs);var Xt=er(this.stylesheet.layers);this._order=Xt.map(function(qe){return qe.id}),this._layers={},this._serializedLayers={};for(var ce=0,Ce=Xt;ce<Ce.length;ce+=1){var Ne=Ce[ce];Ne=s.createStyleLayer(Ne),Ne.setEventedParent(this,{layer:{id:Ne.id}}),this._layers[Ne.id]=Ne,this._serializedLayers[Ne.id]=Ne.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}},K.prototype._loadSprite=function(rt){var yt=this;this._spriteRequest=c(rt,this.map._requestManager,function(Bt,Xt){if(yt._spriteRequest=null,Bt)yt.fire(new s.ErrorEvent(Bt));else if(Xt)for(var ce in Xt)yt.imageManager.addImage(ce,Xt[ce]);yt.imageManager.setLoaded(!0),yt._availableImages=yt.imageManager.listImages(),yt.dispatcher.broadcast("setImages",yt._availableImages),yt.fire(new s.Event("data",{dataType:"style"}))})},K.prototype._validateLayer=function(rt){var yt=this.sourceCaches[rt.source];if(yt){var Bt=rt.sourceLayer;if(Bt){var Xt=yt.getSource();(Xt.type==="geojson"||Xt.vectorLayerIds&&Xt.vectorLayerIds.indexOf(Bt)===-1)&&this.fire(new s.ErrorEvent(new Error('Source layer "'+Bt+'" does not exist on source "'+Xt.id+'" as specified by style layer "'+rt.id+'"')))}}},K.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var rt in this.sourceCaches)if(!this.sourceCaches[rt].loaded())return!1;return!!this.imageManager.isLoaded()},K.prototype._serializeLayers=function(rt){for(var yt=[],Bt=0,Xt=rt;Bt<Xt.length;Bt+=1){var ce=Xt[Bt],Ce=this._layers[ce];Ce.type!=="custom"&&yt.push(Ce.serialize())}return yt},K.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var rt in this.sourceCaches)if(this.sourceCaches[rt].hasTransition())return!0;for(var yt in this._layers)if(this._layers[yt].hasTransition())return!0;return!1},K.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},K.prototype.update=function(rt){if(this._loaded){var yt=this._changed;if(this._changed){var Bt=Object.keys(this._updatedLayers),Xt=Object.keys(this._removedLayers);(Bt.length||Xt.length)&&this._updateWorkerLayers(Bt,Xt);for(var ce in this._updatedSources){var Ce=this._updatedSources[ce];Ce==="reload"?this._reloadSource(ce):Ce==="clear"&&this._clearSource(ce)}this._updateTilesForChangedImages();for(var Ne in this._updatedPaintProps)this._layers[Ne].updateTransitions(rt);this.light.updateTransitions(rt),this._resetUpdates()}var qe={};for(var ur in this.sourceCaches){var lr=this.sourceCaches[ur];qe[ur]=lr.used,lr.used=!1}for(var Fr=0,Zr=this._order;Fr<Zr.length;Fr+=1){var Xr=Zr[Fr],Wr=this._layers[Xr];Wr.recalculate(rt,this._availableImages),!Wr.isHidden(rt.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}for(var Jr in qe){var dn=this.sourceCaches[Jr];qe[Jr]!==dn.used&&dn.fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Jr}))}this.light.recalculate(rt),this.z=rt.zoom,yt&&this.fire(new s.Event("data",{dataType:"style"}))}},K.prototype._updateTilesForChangedImages=function(){var rt=Object.keys(this._changedImages);if(rt.length){for(var yt in this.sourceCaches)this.sourceCaches[yt].reloadTilesForDependencies(["icons","patterns"],rt);this._changedImages={}}},K.prototype._updateWorkerLayers=function(rt,yt){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(rt),removedIds:yt})},K.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},K.prototype.setState=function(rt){var yt=this;if(this._checkLoaded(),si(this,s.validateStyle(rt)))return!1;rt=s.clone$1(rt),rt.layers=er(rt.layers);var Bt=En(this.serialize(),rt).filter(function(ce){return!(ce.command in Ma)});if(Bt.length===0)return!1;var Xt=Bt.filter(function(ce){return!(ce.command in Li)});if(Xt.length>0)throw new Error("Unimplemented: "+Xt.map(function(ce){return ce.command}).join(", ")+".");return Bt.forEach(function(ce){ce.command!=="setTransition"&&yt[ce.command].apply(yt,ce.args)}),this.stylesheet=rt,!0},K.prototype.addImage=function(rt,yt){if(this.getImage(rt))return this.fire(new s.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(rt,yt),this._afterImageUpdated(rt)},K.prototype.updateImage=function(rt,yt){this.imageManager.updateImage(rt,yt)},K.prototype.getImage=function(rt){return this.imageManager.getImage(rt)},K.prototype.removeImage=function(rt){if(!this.getImage(rt))return this.fire(new s.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(rt),this._afterImageUpdated(rt)},K.prototype._afterImageUpdated=function(rt){this._availableImages=this.imageManager.listImages(),this._changedImages[rt]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))},K.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},K.prototype.addSource=function(rt,yt,Bt){var Xt=this;if(Bt===void 0&&(Bt={}),this._checkLoaded(),this.sourceCaches[rt]!==void 0)throw new Error("There is already a source with this ID");if(!yt.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(yt).join(", ")+".");var ce=["vector","raster","geojson","video","image"],Ce=ce.indexOf(yt.type)>=0;if(!(Ce&&this._validate(s.validateStyle.source,"sources."+rt,yt,null,Bt))){this.map&&this.map._collectResourceTiming&&(yt.collectResourceTiming=!0);var Ne=this.sourceCaches[rt]=new Fe(rt,yt,this.dispatcher);Ne.style=this,Ne.setEventedParent(this,function(){return{isSourceLoaded:Xt.loaded(),source:Ne.serialize(),sourceId:rt}}),Ne.onAdd(this.map),this._changed=!0}},K.prototype.removeSource=function(rt){if(this._checkLoaded(),this.sourceCaches[rt]===void 0)throw new Error("There is no source with this ID");for(var yt in this._layers)if(this._layers[yt].source===rt)return this.fire(new s.ErrorEvent(new Error('Source "'+rt+'" cannot be removed while layer "'+yt+'" is using it.')));var Bt=this.sourceCaches[rt];delete this.sourceCaches[rt],delete this._updatedSources[rt],Bt.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:rt})),Bt.setEventedParent(null),Bt.clearTiles(),Bt.onRemove&&Bt.onRemove(this.map),this._changed=!0},K.prototype.setGeoJSONSourceData=function(rt,yt){this._checkLoaded();var Bt=this.sourceCaches[rt].getSource();Bt.setData(yt),this._changed=!0},K.prototype.getSource=function(rt){return this.sourceCaches[rt]&&this.sourceCaches[rt].getSource()},K.prototype.addLayer=function(rt,yt,Bt){Bt===void 0&&(Bt={}),this._checkLoaded();var Xt=rt.id;if(this.getLayer(Xt)){this.fire(new s.ErrorEvent(new Error('Layer with id "'+Xt+'" already exists on this map')));return}var ce;if(rt.type==="custom"){if(si(this,s.validateCustomStyleLayer(rt)))return;ce=s.createStyleLayer(rt)}else{if(typeof rt.source=="object"&&(this.addSource(Xt,rt.source),rt=s.clone$1(rt),rt=s.extend(rt,{source:Xt})),this._validate(s.validateStyle.layer,"layers."+Xt,rt,{arrayIndex:-1},Bt))return;ce=s.createStyleLayer(rt),this._validateLayer(ce),ce.setEventedParent(this,{layer:{id:Xt}}),this._serializedLayers[ce.id]=ce.serialize()}var Ce=yt?this._order.indexOf(yt):this._order.length;if(yt&&Ce===-1){this.fire(new s.ErrorEvent(new Error('Layer with id "'+yt+'" does not exist on this map.')));return}if(this._order.splice(Ce,0,Xt),this._layerOrderChanged=!0,this._layers[Xt]=ce,this._removedLayers[Xt]&&ce.source&&ce.type!=="custom"){var Ne=this._removedLayers[Xt];delete this._removedLayers[Xt],Ne.type!==ce.type?this._updatedSources[ce.source]="clear":(this._updatedSources[ce.source]="reload",this.sourceCaches[ce.source].pause())}this._updateLayer(ce),ce.onAdd&&ce.onAdd(this.map)},K.prototype.moveLayer=function(rt,yt){this._checkLoaded(),this._changed=!0;var Bt=this._layers[rt];if(!Bt){this.fire(new s.ErrorEvent(new Error("The layer '"+rt+"' does not exist in the map's style and cannot be moved.")));return}if(rt!==yt){var Xt=this._order.indexOf(rt);this._order.splice(Xt,1);var ce=yt?this._order.indexOf(yt):this._order.length;if(yt&&ce===-1){this.fire(new s.ErrorEvent(new Error('Layer with id "'+yt+'" does not exist on this map.')));return}this._order.splice(ce,0,rt),this._layerOrderChanged=!0}},K.prototype.removeLayer=function(rt){this._checkLoaded();var yt=this._layers[rt];if(!yt){this.fire(new s.ErrorEvent(new Error("The layer '"+rt+"' does not exist in the map's style and cannot be removed.")));return}yt.setEventedParent(null);var Bt=this._order.indexOf(rt);this._order.splice(Bt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[rt]=yt,delete this._layers[rt],delete this._serializedLayers[rt],delete this._updatedLayers[rt],delete this._updatedPaintProps[rt],yt.onRemove&&yt.onRemove(this.map)},K.prototype.getLayer=function(rt){return this._layers[rt]},K.prototype.hasLayer=function(rt){return rt in this._layers},K.prototype.setLayerZoomRange=function(rt,yt,Bt){this._checkLoaded();var Xt=this.getLayer(rt);if(!Xt){this.fire(new s.ErrorEvent(new Error("The layer '"+rt+"' does not exist in the map's style and cannot have zoom extent.")));return}Xt.minzoom===yt&&Xt.maxzoom===Bt||(yt!=null&&(Xt.minzoom=yt),Bt!=null&&(Xt.maxzoom=Bt),this._updateLayer(Xt))},K.prototype.setFilter=function(rt,yt,Bt){Bt===void 0&&(Bt={}),this._checkLoaded();var Xt=this.getLayer(rt);if(!Xt){this.fire(new s.ErrorEvent(new Error("The layer '"+rt+"' does not exist in the map's style and cannot be filtered.")));return}if(!s.deepEqual(Xt.filter,yt)){if(yt==null){Xt.filter=void 0,this._updateLayer(Xt);return}this._validate(s.validateStyle.filter,"layers."+Xt.id+".filter",yt,null,Bt)||(Xt.filter=s.clone$1(yt),this._updateLayer(Xt))}},K.prototype.getFilter=function(rt){return s.clone$1(this.getLayer(rt).filter)},K.prototype.setLayoutProperty=function(rt,yt,Bt,Xt){Xt===void 0&&(Xt={}),this._checkLoaded();var ce=this.getLayer(rt);if(!ce){this.fire(new s.ErrorEvent(new Error("The layer '"+rt+"' does not exist in the map's style and cannot be styled.")));return}s.deepEqual(ce.getLayoutProperty(yt),Bt)||(ce.setLayoutProperty(yt,Bt,Xt),this._updateLayer(ce))},K.prototype.getLayoutProperty=function(rt,yt){var Bt=this.getLayer(rt);if(!Bt){this.fire(new s.ErrorEvent(new Error("The layer '"+rt+"' does not exist in the map's style.")));return}return Bt.getLayoutProperty(yt)},K.prototype.setPaintProperty=function(rt,yt,Bt,Xt){Xt===void 0&&(Xt={}),this._checkLoaded();var ce=this.getLayer(rt);if(!ce){this.fire(new s.ErrorEvent(new Error("The layer '"+rt+"' does not exist in the map's style and cannot be styled.")));return}if(!s.deepEqual(ce.getPaintProperty(yt),Bt)){var Ce=ce.setPaintProperty(yt,Bt,Xt);Ce&&this._updateLayer(ce),this._changed=!0,this._updatedPaintProps[rt]=!0}},K.prototype.getPaintProperty=function(rt,yt){return this.getLayer(rt).getPaintProperty(yt)},K.prototype.setFeatureState=function(rt,yt){this._checkLoaded();var Bt=rt.source,Xt=rt.sourceLayer,ce=this.sourceCaches[Bt];if(ce===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+Bt+"' does not exist in the map's style.")));return}var Ce=ce.getSource().type;if(Ce==="geojson"&&Xt){this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Ce==="vector"&&!Xt){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}rt.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),ce.setFeatureState(Xt,rt.id,yt)},K.prototype.removeFeatureState=function(rt,yt){this._checkLoaded();var Bt=rt.source,Xt=this.sourceCaches[Bt];if(Xt===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+Bt+"' does not exist in the map's style.")));return}var ce=Xt.getSource().type,Ce=ce==="vector"?rt.sourceLayer:void 0;if(ce==="vector"&&!Ce){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(yt&&typeof rt.id!="string"&&typeof rt.id!="number"){this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Xt.removeFeatureState(Ce,rt.id,yt)},K.prototype.getFeatureState=function(rt){this._checkLoaded();var yt=rt.source,Bt=rt.sourceLayer,Xt=this.sourceCaches[yt];if(Xt===void 0){this.fire(new s.ErrorEvent(new Error("The source '"+yt+"' does not exist in the map's style.")));return}var ce=Xt.getSource().type;if(ce==="vector"&&!Bt){this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return rt.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),Xt.getFeatureState(Bt,rt.id)},K.prototype.getTransition=function(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},K.prototype.serialize=function(){return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:s.mapObject(this.sourceCaches,function(rt){return rt.serialize()}),layers:this._serializeLayers(this._order)},function(rt){return rt!==void 0})},K.prototype._updateLayer=function(rt){this._updatedLayers[rt.id]=!0,rt.source&&!this._updatedSources[rt.source]&&this.sourceCaches[rt.source].getSource().type!=="raster"&&(this._updatedSources[rt.source]="reload",this.sourceCaches[rt.source].pause()),this._changed=!0},K.prototype._flattenAndSortRenderedFeatures=function(rt){for(var yt=this,Bt=function(zi){return yt._layers[zi].type==="fill-extrusion"},Xt={},ce=[],Ce=this._order.length-1;Ce>=0;Ce--){var Ne=this._order[Ce];if(Bt(Ne)){Xt[Ne]=Ce;for(var qe=0,ur=rt;qe<ur.length;qe+=1){var lr=ur[qe],Fr=lr[Ne];if(Fr)for(var Zr=0,Xr=Fr;Zr<Xr.length;Zr+=1){var Wr=Xr[Zr];ce.push(Wr)}}}}ce.sort(function(zi,Qi){return Qi.intersectionZ-zi.intersectionZ});for(var Jr=[],dn=this._order.length-1;dn>=0;dn--){var kn=this._order[dn];if(Bt(kn))for(var Vn=ce.length-1;Vn>=0;Vn--){var Xn=ce[Vn].feature;if(Xt[Xn.layer.id]<dn)break;Jr.push(Xn),ce.pop()}else for(var Kn=0,Wn=rt;Kn<Wn.length;Kn+=1){var Qn=Wn[Kn],ii=Qn[kn];if(ii)for(var fi=0,mi=ii;fi<mi.length;fi+=1){var di=mi[fi];Jr.push(di.feature)}}}return Jr},K.prototype.queryRenderedFeatures=function(rt,yt,Bt){yt&&yt.filter&&this._validate(s.validateStyle.filter,"queryRenderedFeatures.filter",yt.filter,null,yt);var Xt={};if(yt&&yt.layers){if(!Array.isArray(yt.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ce=0,Ce=yt.layers;ce<Ce.length;ce+=1){var Ne=Ce[ce],qe=this._layers[Ne];if(!qe)return this.fire(new s.ErrorEvent(new Error("The layer '"+Ne+"' does not exist in the map's style and cannot be queried for features."))),[];Xt[qe.source]=!0}}var ur=[];yt.availableImages=this._availableImages;for(var lr in this.sourceCaches)yt.layers&&!Xt[lr]||ur.push($(this.sourceCaches[lr],this._layers,this._serializedLayers,rt,yt,Bt));return this.placement&&ur.push(j(this._layers,this._serializedLayers,this.sourceCaches,rt,yt,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ur)},K.prototype.querySourceFeatures=function(rt,yt){yt&&yt.filter&&this._validate(s.validateStyle.filter,"querySourceFeatures.filter",yt.filter,null,yt);var Bt=this.sourceCaches[rt];return Bt?lt(Bt,yt):[]},K.prototype.addSourceType=function(rt,yt,Bt){if(K.getSourceType(rt))return Bt(new Error('A source type called "'+rt+'" already exists.'));if(K.setSourceType(rt,yt),!yt.workerSourceURL)return Bt(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:rt,url:yt.workerSourceURL},Bt)},K.prototype.getLight=function(){return this.light.getLight()},K.prototype.setLight=function(rt,yt){yt===void 0&&(yt={}),this._checkLoaded();var Bt=this.light.getLight(),Xt=!1;for(var ce in rt)if(!s.deepEqual(rt[ce],Bt[ce])){Xt=!0;break}if(Xt){var Ce={now:s.browser.now(),transition:s.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(rt,yt),this.light.updateTransitions(Ce)}},K.prototype._validate=function(rt,yt,Bt,Xt,ce){return ce===void 0&&(ce={}),ce&&ce.validate===!1?!1:si(this,rt.call(s.validateStyle,s.extend({key:yt,style:this.serialize(),value:Bt,styleSpec:s.styleSpec},Xt)))},K.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var rt in this._layers){var yt=this._layers[rt];yt.setEventedParent(null)}for(var Bt in this.sourceCaches)this.sourceCaches[Bt].clearTiles(),this.sourceCaches[Bt].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},K.prototype._clearSource=function(rt){this.sourceCaches[rt].clearTiles()},K.prototype._reloadSource=function(rt){this.sourceCaches[rt].resume(),this.sourceCaches[rt].reload()},K.prototype._updateSources=function(rt){for(var yt in this.sourceCaches)this.sourceCaches[yt].update(rt)},K.prototype._generateCollisionBoxes=function(){for(var rt in this.sourceCaches)this._reloadSource(rt)},K.prototype._updatePlacement=function(rt,yt,Bt,Xt,ce){ce===void 0&&(ce=!1);for(var Ce=!1,Ne=!1,qe={},ur=0,lr=this._order;ur<lr.length;ur+=1){var Fr=lr[ur],Zr=this._layers[Fr];if(Zr.type==="symbol"){if(!qe[Zr.source]){var Xr=this.sourceCaches[Zr.source];qe[Zr.source]=Xr.getRenderableIds(!0).map(function(Kn){return Xr.getTileByID(Kn)}).sort(function(Kn,Wn){return Wn.tileID.overscaledZ-Kn.tileID.overscaledZ||(Kn.tileID.isLessThan(Wn.tileID)?-1:1)})}var Wr=this.crossTileSymbolIndex.addLayer(Zr,qe[Zr.source],rt.center.lng);Ce=Ce||Wr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ce=ce||this._layerOrderChanged||Bt===0,(ce||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.browser.now(),rt.zoom))&&(this.pauseablePlacement=new An(rt,this._order,ce,yt,Bt,Xt,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.browser.now()),Ne=!0),Ce&&this.pauseablePlacement.placement.setStale()),Ne||Ce)for(var Jr=0,dn=this._order;Jr<dn.length;Jr+=1){var kn=dn[Jr],Vn=this._layers[kn];Vn.type==="symbol"&&this.placement.updateLayerOpacities(Vn,qe[Vn.source])}var Xn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.browser.now());return Xn},K.prototype._releaseSymbolFadeTiles=function(){for(var rt in this.sourceCaches)this.sourceCaches[rt].releaseSymbolFadeTiles()},K.prototype.getImages=function(rt,yt,Bt){this.imageManager.getImages(yt.icons,Bt),this._updateTilesForChangedImages();var Xt=this.sourceCaches[yt.source];Xt&&Xt.setDependencies(yt.tileID.key,yt.type,yt.icons)},K.prototype.getGlyphs=function(rt,yt,Bt){this.glyphManager.getGlyphs(yt.stacks,Bt)},K.prototype.getResource=function(rt,yt,Bt){return s.makeRequest(yt,Bt)},K}(s.Evented);No.getSourceType=tt,No.setSourceType=Z,No.registerForPluginStateChange=s.registerForPluginStateChange;var $o=s.createLayout([{name:"a_pos",type:"Int16",components:2}]),So=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,$s=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,pu=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ju="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",la=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",wc=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mo=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Yo="void main() {gl_FragColor=vec4(1.0);}",gu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",zf=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qa=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,yu=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,to="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",uo="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",mu="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Mo="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",Eo="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",os="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",vh="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",qo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Cv=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Bs=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xo=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Tc=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yl=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Ns=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ac=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,dh=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lv=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Ff=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pv=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Iv=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Dv="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Sc=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Rv="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",_v=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ph=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,gh=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,xu=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$u=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,qu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yh=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,qs=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,kv="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Of=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mh=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,xh=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,ws=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Yl=Ea(So,$s),tf=Ea(pu,Ju),ml=Ea(la,Qu),Us=Ea(wc,mo),Mc=Ea(Yo,gu),wu=Ea(zf,Qa),Ts=Ea(yu,to),ja=Ea(uo,mu),Ec=Ea(Mo,Eo),zv=Ea(os,vh),Nf=Ea(qo,Cv),Tu=Ea(Bs,xo),Au=Ea(Tc,yl),ts=Ea(Ns,Ac),Uf=Ea(dh,Lv),Su=Ea(Ff,Pv),Vf=Ea(Iv,Dv),Fv=Ea(Sc,Rv),bh=Ea(_v,ph),Cc=Ea(gh,Wl),Lc=Ea(xu,$u),Pc=Ea(qu,yh),Mu=Ea(qs,kv),Hf=Ea(Of,mh),ef=Ea(xh,Bf),Gf=Ea(ws,bu);function Ea(vt,K){var gt=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,rt=K.match(/attribute ([\w]+) ([\w]+)/g),yt=vt.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Bt=K.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Xt=Bt?Bt.concat(yt):yt,ce={};return vt=vt.replace(gt,function(Ce,Ne,qe,ur,lr){return ce[lr]=!0,Ne==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
varying `+qe+" "+ur+" "+lr+`;
#else
uniform `+qe+" "+ur+" u_"+lr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+lr+`
    `+qe+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`}),K=K.replace(gt,function(Ce,Ne,qe,ur,lr){var Fr=ur==="float"?"vec2":"vec4",Zr=lr.match(/color/)?"color":Fr;return ce[lr]?Ne==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
uniform lowp float u_`+lr+`_t;
attribute `+qe+" "+Fr+" a_"+lr+`;
varying `+qe+" "+ur+" "+lr+`;
#else
uniform `+qe+" "+ur+" u_"+lr+`;
#endif
`:Zr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+lr+" = a_"+lr+`;
#else
    `+qe+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+lr+" = unpack_mix_"+Zr+"(a_"+lr+", u_"+lr+`_t);
#else
    `+qe+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:Ne==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
uniform lowp float u_`+lr+`_t;
attribute `+qe+" "+Fr+" a_"+lr+`;
#else
uniform `+qe+" "+ur+" u_"+lr+`;
#endif
`:Zr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+qe+" "+ur+" "+lr+" = a_"+lr+`;
#else
    `+qe+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+qe+" "+ur+" "+lr+" = unpack_mix_"+Zr+"(a_"+lr+", u_"+lr+`_t);
#else
    `+qe+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`}),{fragmentSource:vt,vertexSource:K,staticAttributes:rt,staticUniforms:Xt}}var wh=Object.freeze({__proto__:null,prelude:Yl,background:tf,backgroundPattern:ml,circle:Us,clippingMask:Mc,heatmap:wu,heatmapTexture:Ts,collisionBox:ja,collisionCircle:Ec,debug:zv,fill:Nf,fillOutline:Tu,fillOutlinePattern:Au,fillPattern:ts,fillExtrusion:Uf,fillExtrusionPattern:Su,hillshadePrepare:Vf,hillshade:Fv,line:bh,lineGradient:Cc,linePattern:Lc,lineSDF:Pc,raster:Mu,symbolIcon:Hf,symbolSDF:ef,symbolTextAndIcon:Gf}),As=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};As.prototype.bind=function(K,gt,rt,yt,Bt,Xt,ce,Ce){this.context=K;for(var Ne=this.boundPaintVertexBuffers.length!==yt.length,qe=0;!Ne&&qe<yt.length;qe++)this.boundPaintVertexBuffers[qe]!==yt[qe]&&(Ne=!0);var ur=!this.vao||this.boundProgram!==gt||this.boundLayoutVertexBuffer!==rt||Ne||this.boundIndexBuffer!==Bt||this.boundVertexOffset!==Xt||this.boundDynamicVertexBuffer!==ce||this.boundDynamicVertexBuffer2!==Ce;!K.extVertexArrayObject||ur?this.freshBind(gt,rt,yt,Bt,Xt,ce,Ce):(K.bindVertexArrayOES.set(this.vao),ce&&ce.bind(),Bt&&Bt.dynamicDraw&&Bt.bind(),Ce&&Ce.bind())},As.prototype.freshBind=function(K,gt,rt,yt,Bt,Xt,ce){var Ce,Ne=K.numAttributes,qe=this.context,ur=qe.gl;if(qe.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qe.extVertexArrayObject.createVertexArrayOES(),qe.bindVertexArrayOES.set(this.vao),Ce=0,this.boundProgram=K,this.boundLayoutVertexBuffer=gt,this.boundPaintVertexBuffers=rt,this.boundIndexBuffer=yt,this.boundVertexOffset=Bt,this.boundDynamicVertexBuffer=Xt,this.boundDynamicVertexBuffer2=ce;else{Ce=qe.currentNumAttributes||0;for(var lr=Ne;lr<Ce;lr++)ur.disableVertexAttribArray(lr)}gt.enableAttributes(ur,K);for(var Fr=0,Zr=rt;Fr<Zr.length;Fr+=1){var Xr=Zr[Fr];Xr.enableAttributes(ur,K)}Xt&&Xt.enableAttributes(ur,K),ce&&ce.enableAttributes(ur,K),gt.bind(),gt.setVertexAttribPointers(ur,K,Bt);for(var Wr=0,Jr=rt;Wr<Jr.length;Wr+=1){var dn=Jr[Wr];dn.bind(),dn.setVertexAttribPointers(ur,K,Bt)}Xt&&(Xt.bind(),Xt.setVertexAttribPointers(ur,K,Bt)),yt&&yt.bind(),ce&&(ce.bind(),ce.setVertexAttribPointers(ur,K,Bt)),qe.currentNumAttributes=Ne},As.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function Th(vt){for(var K=[],gt=0;gt<vt.length;gt++)if(vt[gt]!==null){var rt=vt[gt].split(" ");K.push(rt.pop())}return K}var Ic=function(K,gt,rt,yt,Bt,Xt){var ce=K.gl;this.program=ce.createProgram();for(var Ce=Th(rt.staticAttributes),Ne=yt?yt.getBinderAttributes():[],qe=Ce.concat(Ne),ur=rt.staticUniforms?Th(rt.staticUniforms):[],lr=yt?yt.getBinderUniforms():[],Fr=ur.concat(lr),Zr=[],Xr=0,Wr=Fr;Xr<Wr.length;Xr+=1){var Jr=Wr[Xr];Zr.indexOf(Jr)<0&&Zr.push(Jr)}var dn=yt?yt.defines():[];Xt&&dn.push("#define OVERDRAW_INSPECTOR;");var kn=dn.concat(Yl.fragmentSource,rt.fragmentSource).join(`
`),Vn=dn.concat(Yl.vertexSource,rt.vertexSource).join(`
`),Xn=ce.createShader(ce.FRAGMENT_SHADER);if(ce.isContextLost()){this.failedToCreate=!0;return}ce.shaderSource(Xn,kn),ce.compileShader(Xn),ce.attachShader(this.program,Xn);var Kn=ce.createShader(ce.VERTEX_SHADER);if(ce.isContextLost()){this.failedToCreate=!0;return}ce.shaderSource(Kn,Vn),ce.compileShader(Kn),ce.attachShader(this.program,Kn),this.attributes={};var Wn={};this.numAttributes=qe.length;for(var Qn=0;Qn<this.numAttributes;Qn++)qe[Qn]&&(ce.bindAttribLocation(this.program,Qn,qe[Qn]),this.attributes[qe[Qn]]=Qn);ce.linkProgram(this.program),ce.deleteShader(Kn),ce.deleteShader(Xn);for(var ii=0;ii<Zr.length;ii++){var fi=Zr[ii];if(fi&&!Wn[fi]){var mi=ce.getUniformLocation(this.program,fi);mi&&(Wn[fi]=mi)}}this.fixedUniforms=Bt(K,Wn),this.binderUniforms=yt?yt.getUniforms(K,Wn):[]};Ic.prototype.draw=function(K,gt,rt,yt,Bt,Xt,ce,Ce,Ne,qe,ur,lr,Fr,Zr,Xr,Wr){var Jr,dn=K.gl;if(!this.failedToCreate){K.program.set(this.program),K.setDepthMode(rt),K.setStencilMode(yt),K.setColorMode(Bt),K.setCullFace(Xt);for(var kn in this.fixedUniforms)this.fixedUniforms[kn].set(ce[kn]);Zr&&Zr.setUniforms(K,this.binderUniforms,lr,{zoom:Fr});for(var Vn=(Jr={},Jr[dn.LINES]=2,Jr[dn.TRIANGLES]=3,Jr[dn.LINE_STRIP]=1,Jr)[gt],Xn=0,Kn=ur.get();Xn<Kn.length;Xn+=1){var Wn=Kn[Xn],Qn=Wn.vaos||(Wn.vaos={}),ii=Qn[Ce]||(Qn[Ce]=new As);ii.bind(K,this,Ne,Zr?Zr.getPaintVertexBuffers():[],qe,Wn.vertexOffset,Xr,Wr),dn.drawElements(gt,Wn.primitiveLength*Vn,dn.UNSIGNED_SHORT,Wn.primitiveOffset*Vn*2)}}};function jl(vt,K,gt){var rt=1/ln(gt,1,K.transform.tileZoom),yt=Math.pow(2,gt.tileID.overscaledZ),Bt=gt.tileSize*Math.pow(2,K.transform.tileZoom)/yt,Xt=Bt*(gt.tileID.canonical.x+gt.tileID.wrap*yt),ce=Bt*gt.tileID.canonical.y;return{u_image:0,u_texsize:gt.imageAtlasTexture.size,u_scale:[rt,vt.fromScale,vt.toScale],u_fade:vt.t,u_pixel_coord_upper:[Xt>>16,ce>>16],u_pixel_coord_lower:[Xt&65535,ce&65535]}}function xl(vt,K,gt,rt){var yt=gt.imageManager.getPattern(vt.from.toString()),Bt=gt.imageManager.getPattern(vt.to.toString()),Xt=gt.imageManager.getPixelSize(),ce=Xt.width,Ce=Xt.height,Ne=Math.pow(2,rt.tileID.overscaledZ),qe=rt.tileSize*Math.pow(2,gt.transform.tileZoom)/Ne,ur=qe*(rt.tileID.canonical.x+rt.tileID.wrap*Ne),lr=qe*rt.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:yt.tl,u_pattern_br_a:yt.br,u_pattern_tl_b:Bt.tl,u_pattern_br_b:Bt.br,u_texsize:[ce,Ce],u_mix:K.t,u_pattern_size_a:yt.displaySize,u_pattern_size_b:Bt.displaySize,u_scale_a:K.fromScale,u_scale_b:K.toScale,u_tile_units_to_pixels:1/ln(rt,1,gt.transform.tileZoom),u_pixel_coord_upper:[ur>>16,lr>>16],u_pixel_coord_lower:[ur&65535,lr&65535]}}var Wf=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_lightpos:new s.Uniform3f(vt,K.u_lightpos),u_lightintensity:new s.Uniform1f(vt,K.u_lightintensity),u_lightcolor:new s.Uniform3f(vt,K.u_lightcolor),u_vertical_gradient:new s.Uniform1f(vt,K.u_vertical_gradient),u_opacity:new s.Uniform1f(vt,K.u_opacity)}},$a=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_lightpos:new s.Uniform3f(vt,K.u_lightpos),u_lightintensity:new s.Uniform1f(vt,K.u_lightintensity),u_lightcolor:new s.Uniform3f(vt,K.u_lightcolor),u_vertical_gradient:new s.Uniform1f(vt,K.u_vertical_gradient),u_height_factor:new s.Uniform1f(vt,K.u_height_factor),u_image:new s.Uniform1i(vt,K.u_image),u_texsize:new s.Uniform2f(vt,K.u_texsize),u_pixel_coord_upper:new s.Uniform2f(vt,K.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(vt,K.u_pixel_coord_lower),u_scale:new s.Uniform3f(vt,K.u_scale),u_fade:new s.Uniform1f(vt,K.u_fade),u_opacity:new s.Uniform1f(vt,K.u_opacity)}},rf=function(vt,K,gt,rt){var yt=K.style.light,Bt=yt.properties.get("position"),Xt=[Bt.x,Bt.y,Bt.z],ce=s.create$1();yt.properties.get("anchor")==="viewport"&&s.fromRotation(ce,-K.transform.angle),s.transformMat3(Xt,Xt,ce);var Ce=yt.properties.get("color");return{u_matrix:vt,u_lightpos:Xt,u_lightintensity:yt.properties.get("intensity"),u_lightcolor:[Ce.r,Ce.g,Ce.b],u_vertical_gradient:+gt,u_opacity:rt}},Ss=function(vt,K,gt,rt,yt,Bt,Xt){return s.extend(rf(vt,K,gt,rt),jl(Bt,K,Xt),{u_height_factor:-Math.pow(2,yt.overscaledZ)/Xt.tileSize/8})},tl=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix)}},Xl=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_image:new s.Uniform1i(vt,K.u_image),u_texsize:new s.Uniform2f(vt,K.u_texsize),u_pixel_coord_upper:new s.Uniform2f(vt,K.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(vt,K.u_pixel_coord_lower),u_scale:new s.Uniform3f(vt,K.u_scale),u_fade:new s.Uniform1f(vt,K.u_fade)}},bl=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_world:new s.Uniform2f(vt,K.u_world)}},Ms=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_world:new s.Uniform2f(vt,K.u_world),u_image:new s.Uniform1i(vt,K.u_image),u_texsize:new s.Uniform2f(vt,K.u_texsize),u_pixel_coord_upper:new s.Uniform2f(vt,K.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(vt,K.u_pixel_coord_lower),u_scale:new s.Uniform3f(vt,K.u_scale),u_fade:new s.Uniform1f(vt,K.u_fade)}},el=function(vt){return{u_matrix:vt}},Es=function(vt,K,gt,rt){return s.extend(el(vt),jl(gt,K,rt))},vs=function(vt,K){return{u_matrix:vt,u_world:K}},nf=function(vt,K,gt,rt,yt){return s.extend(Es(vt,K,gt,rt),{u_world:yt})},Ov=function(vt,K){return{u_camera_to_center_distance:new s.Uniform1f(vt,K.u_camera_to_center_distance),u_scale_with_map:new s.Uniform1i(vt,K.u_scale_with_map),u_pitch_with_map:new s.Uniform1i(vt,K.u_pitch_with_map),u_extrude_scale:new s.Uniform2f(vt,K.u_extrude_scale),u_device_pixel_ratio:new s.Uniform1f(vt,K.u_device_pixel_ratio),u_matrix:new s.UniformMatrix4f(vt,K.u_matrix)}},Bv=function(vt,K,gt,rt){var yt=vt.transform,Bt,Xt;if(rt.paint.get("circle-pitch-alignment")==="map"){var ce=ln(gt,1,yt.zoom);Bt=!0,Xt=[ce,ce]}else Bt=!1,Xt=yt.pixelsToGLUnits;return{u_camera_to_center_distance:yt.cameraToCenterDistance,u_scale_with_map:+(rt.paint.get("circle-pitch-scale")==="map"),u_matrix:vt.translatePosMatrix(K.posMatrix,gt,rt.paint.get("circle-translate"),rt.paint.get("circle-translate-anchor")),u_pitch_with_map:+Bt,u_device_pixel_ratio:s.browser.devicePixelRatio,u_extrude_scale:Xt}},Nv=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_camera_to_center_distance:new s.Uniform1f(vt,K.u_camera_to_center_distance),u_pixels_to_tile_units:new s.Uniform1f(vt,K.u_pixels_to_tile_units),u_extrude_scale:new s.Uniform2f(vt,K.u_extrude_scale),u_overscale_factor:new s.Uniform1f(vt,K.u_overscale_factor)}},Uv=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_inv_matrix:new s.UniformMatrix4f(vt,K.u_inv_matrix),u_camera_to_center_distance:new s.Uniform1f(vt,K.u_camera_to_center_distance),u_viewport_size:new s.Uniform2f(vt,K.u_viewport_size)}},Dc=function(vt,K,gt){var rt=ln(gt,1,K.zoom),yt=Math.pow(2,K.zoom-gt.tileID.overscaledZ),Bt=gt.tileID.overscaleFactor();return{u_matrix:vt,u_camera_to_center_distance:K.cameraToCenterDistance,u_pixels_to_tile_units:rt,u_extrude_scale:[K.pixelsToGLUnits[0]/(rt*yt),K.pixelsToGLUnits[1]/(rt*yt)],u_overscale_factor:Bt}},Ah=function(vt,K,gt){return{u_matrix:vt,u_inv_matrix:K,u_camera_to_center_distance:gt.cameraToCenterDistance,u_viewport_size:[gt.width,gt.height]}},Eu=function(vt,K){return{u_color:new s.UniformColor(vt,K.u_color),u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_overlay:new s.Uniform1i(vt,K.u_overlay),u_overlay_scale:new s.Uniform1f(vt,K.u_overlay_scale)}},bo=function(vt,K,gt){return gt===void 0&&(gt=1),{u_matrix:vt,u_color:K,u_overlay:0,u_overlay_scale:gt}},ss=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix)}},Cu=function(vt){return{u_matrix:vt}},Sh=function(vt,K){return{u_extrude_scale:new s.Uniform1f(vt,K.u_extrude_scale),u_intensity:new s.Uniform1f(vt,K.u_intensity),u_matrix:new s.UniformMatrix4f(vt,K.u_matrix)}},af=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_world:new s.Uniform2f(vt,K.u_world),u_image:new s.Uniform1i(vt,K.u_image),u_color_ramp:new s.Uniform1i(vt,K.u_color_ramp),u_opacity:new s.Uniform1f(vt,K.u_opacity)}},rl=function(vt,K,gt,rt){return{u_matrix:vt,u_extrude_scale:ln(K,1,gt),u_intensity:rt}},Vv=function(vt,K,gt,rt){var yt=s.create();s.ortho(yt,0,vt.width,vt.height,0,0,1);var Bt=vt.context.gl;return{u_matrix:yt,u_world:[Bt.drawingBufferWidth,Bt.drawingBufferHeight],u_image:gt,u_color_ramp:rt,u_opacity:K.paint.get("heatmap-opacity")}},Mh=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_image:new s.Uniform1i(vt,K.u_image),u_latrange:new s.Uniform2f(vt,K.u_latrange),u_light:new s.Uniform2f(vt,K.u_light),u_shadow:new s.UniformColor(vt,K.u_shadow),u_highlight:new s.UniformColor(vt,K.u_highlight),u_accent:new s.UniformColor(vt,K.u_accent)}},Eh=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_image:new s.Uniform1i(vt,K.u_image),u_dimension:new s.Uniform2f(vt,K.u_dimension),u_zoom:new s.Uniform1f(vt,K.u_zoom),u_unpack:new s.Uniform4f(vt,K.u_unpack)}},Rc=function(vt,K,gt){var rt=gt.paint.get("hillshade-shadow-color"),yt=gt.paint.get("hillshade-highlight-color"),Bt=gt.paint.get("hillshade-accent-color"),Xt=gt.paint.get("hillshade-illumination-direction")*(Math.PI/180);gt.paint.get("hillshade-illumination-anchor")==="viewport"&&(Xt-=vt.transform.angle);var ce=!vt.options.moving;return{u_matrix:vt.transform.calculatePosMatrix(K.tileID.toUnwrapped(),ce),u_image:0,u_latrange:jo(vt,K.tileID),u_light:[gt.paint.get("hillshade-exaggeration"),Xt],u_shadow:rt,u_highlight:yt,u_accent:Bt}},Ch=function(vt,K){var gt=K.stride,rt=s.create();return s.ortho(rt,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(rt,rt,[0,-s.EXTENT,0]),{u_matrix:rt,u_image:1,u_dimension:[gt,gt],u_zoom:vt.overscaledZ,u_unpack:K.getUnpackVector()}};function jo(vt,K){var gt=Math.pow(2,K.canonical.z),rt=K.canonical.y;return[new s.MercatorCoordinate(0,rt/gt).toLngLat().lat,new s.MercatorCoordinate(0,(rt+1)/gt).toLngLat().lat]}var Cs=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_ratio:new s.Uniform1f(vt,K.u_ratio),u_device_pixel_ratio:new s.Uniform1f(vt,K.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(vt,K.u_units_to_pixels)}},wl=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_ratio:new s.Uniform1f(vt,K.u_ratio),u_device_pixel_ratio:new s.Uniform1f(vt,K.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(vt,K.u_units_to_pixels),u_image:new s.Uniform1i(vt,K.u_image),u_image_height:new s.Uniform1f(vt,K.u_image_height)}},Lu=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_texsize:new s.Uniform2f(vt,K.u_texsize),u_ratio:new s.Uniform1f(vt,K.u_ratio),u_device_pixel_ratio:new s.Uniform1f(vt,K.u_device_pixel_ratio),u_image:new s.Uniform1i(vt,K.u_image),u_units_to_pixels:new s.Uniform2f(vt,K.u_units_to_pixels),u_scale:new s.Uniform3f(vt,K.u_scale),u_fade:new s.Uniform1f(vt,K.u_fade)}},Yf=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_ratio:new s.Uniform1f(vt,K.u_ratio),u_device_pixel_ratio:new s.Uniform1f(vt,K.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(vt,K.u_units_to_pixels),u_patternscale_a:new s.Uniform2f(vt,K.u_patternscale_a),u_patternscale_b:new s.Uniform2f(vt,K.u_patternscale_b),u_sdfgamma:new s.Uniform1f(vt,K.u_sdfgamma),u_image:new s.Uniform1i(vt,K.u_image),u_tex_y_a:new s.Uniform1f(vt,K.u_tex_y_a),u_tex_y_b:new s.Uniform1f(vt,K.u_tex_y_b),u_mix:new s.Uniform1f(vt,K.u_mix)}},Zl=function(vt,K,gt){var rt=vt.transform;return{u_matrix:Tl(vt,K,gt),u_ratio:1/ln(K,1,rt.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_units_to_pixels:[1/rt.pixelsToGLUnits[0],1/rt.pixelsToGLUnits[1]]}},Kl=function(vt,K,gt,rt){return s.extend(Zl(vt,K,gt),{u_image:0,u_image_height:rt})},Lh=function(vt,K,gt,rt){var yt=vt.transform,Bt=Pu(K,yt);return{u_matrix:Tl(vt,K,gt),u_texsize:K.imageAtlasTexture.size,u_ratio:1/ln(K,1,yt.zoom),u_device_pixel_ratio:s.browser.devicePixelRatio,u_image:0,u_scale:[Bt,rt.fromScale,rt.toScale],u_fade:rt.t,u_units_to_pixels:[1/yt.pixelsToGLUnits[0],1/yt.pixelsToGLUnits[1]]}},nl=function(vt,K,gt,rt,yt){var Bt=vt.transform,Xt=vt.lineAtlas,ce=Pu(K,Bt),Ce=gt.layout.get("line-cap")==="round",Ne=Xt.getDash(rt.from,Ce),qe=Xt.getDash(rt.to,Ce),ur=Ne.width*yt.fromScale,lr=qe.width*yt.toScale;return s.extend(Zl(vt,K,gt),{u_patternscale_a:[ce/ur,-Ne.height/2],u_patternscale_b:[ce/lr,-qe.height/2],u_sdfgamma:Xt.width/(Math.min(ur,lr)*256*s.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ne.y,u_tex_y_b:qe.y,u_mix:yt.t})};function Pu(vt,K){return 1/ln(vt,1,K.tileZoom)}function Tl(vt,K,gt){return vt.translatePosMatrix(K.tileID.posMatrix,K,gt.paint.get("line-translate"),gt.paint.get("line-translate-anchor"))}var il=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_tl_parent:new s.Uniform2f(vt,K.u_tl_parent),u_scale_parent:new s.Uniform1f(vt,K.u_scale_parent),u_buffer_scale:new s.Uniform1f(vt,K.u_buffer_scale),u_fade_t:new s.Uniform1f(vt,K.u_fade_t),u_opacity:new s.Uniform1f(vt,K.u_opacity),u_image0:new s.Uniform1i(vt,K.u_image0),u_image1:new s.Uniform1i(vt,K.u_image1),u_brightness_low:new s.Uniform1f(vt,K.u_brightness_low),u_brightness_high:new s.Uniform1f(vt,K.u_brightness_high),u_saturation_factor:new s.Uniform1f(vt,K.u_saturation_factor),u_contrast_factor:new s.Uniform1f(vt,K.u_contrast_factor),u_spin_weights:new s.Uniform3f(vt,K.u_spin_weights)}},of=function(vt,K,gt,rt,yt){return{u_matrix:vt,u_tl_parent:K,u_scale_parent:gt,u_buffer_scale:1,u_fade_t:rt.mix,u_opacity:rt.opacity*yt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:yt.paint.get("raster-brightness-min"),u_brightness_high:yt.paint.get("raster-brightness-max"),u_saturation_factor:Du(yt.paint.get("raster-saturation")),u_contrast_factor:Ta(yt.paint.get("raster-contrast")),u_spin_weights:Iu(yt.paint.get("raster-hue-rotate"))}};function Iu(vt){vt*=Math.PI/180;var K=Math.sin(vt),gt=Math.cos(vt);return[(2*gt+1)/3,(-Math.sqrt(3)*K-gt+1)/3,(Math.sqrt(3)*K-gt+1)/3]}function Ta(vt){return vt>0?1/(1-vt):1+vt}function Du(vt){return vt>0?1-1/(1.001-vt):-vt}var jf=function(vt,K){return{u_is_size_zoom_constant:new s.Uniform1i(vt,K.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(vt,K.u_is_size_feature_constant),u_size_t:new s.Uniform1f(vt,K.u_size_t),u_size:new s.Uniform1f(vt,K.u_size),u_camera_to_center_distance:new s.Uniform1f(vt,K.u_camera_to_center_distance),u_pitch:new s.Uniform1f(vt,K.u_pitch),u_rotate_symbol:new s.Uniform1i(vt,K.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(vt,K.u_aspect_ratio),u_fade_change:new s.Uniform1f(vt,K.u_fade_change),u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(vt,K.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(vt,K.u_coord_matrix),u_is_text:new s.Uniform1i(vt,K.u_is_text),u_pitch_with_map:new s.Uniform1i(vt,K.u_pitch_with_map),u_texsize:new s.Uniform2f(vt,K.u_texsize),u_texture:new s.Uniform1i(vt,K.u_texture)}},Ph=function(vt,K){return{u_is_size_zoom_constant:new s.Uniform1i(vt,K.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(vt,K.u_is_size_feature_constant),u_size_t:new s.Uniform1f(vt,K.u_size_t),u_size:new s.Uniform1f(vt,K.u_size),u_camera_to_center_distance:new s.Uniform1f(vt,K.u_camera_to_center_distance),u_pitch:new s.Uniform1f(vt,K.u_pitch),u_rotate_symbol:new s.Uniform1i(vt,K.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(vt,K.u_aspect_ratio),u_fade_change:new s.Uniform1f(vt,K.u_fade_change),u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(vt,K.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(vt,K.u_coord_matrix),u_is_text:new s.Uniform1i(vt,K.u_is_text),u_pitch_with_map:new s.Uniform1i(vt,K.u_pitch_with_map),u_texsize:new s.Uniform2f(vt,K.u_texsize),u_texture:new s.Uniform1i(vt,K.u_texture),u_gamma_scale:new s.Uniform1f(vt,K.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(vt,K.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(vt,K.u_is_halo)}},Ru=function(vt,K){return{u_is_size_zoom_constant:new s.Uniform1i(vt,K.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(vt,K.u_is_size_feature_constant),u_size_t:new s.Uniform1f(vt,K.u_size_t),u_size:new s.Uniform1f(vt,K.u_size),u_camera_to_center_distance:new s.Uniform1f(vt,K.u_camera_to_center_distance),u_pitch:new s.Uniform1f(vt,K.u_pitch),u_rotate_symbol:new s.Uniform1i(vt,K.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(vt,K.u_aspect_ratio),u_fade_change:new s.Uniform1f(vt,K.u_fade_change),u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(vt,K.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(vt,K.u_coord_matrix),u_is_text:new s.Uniform1i(vt,K.u_is_text),u_pitch_with_map:new s.Uniform1i(vt,K.u_pitch_with_map),u_texsize:new s.Uniform2f(vt,K.u_texsize),u_texsize_icon:new s.Uniform2f(vt,K.u_texsize_icon),u_texture:new s.Uniform1i(vt,K.u_texture),u_texture_icon:new s.Uniform1i(vt,K.u_texture_icon),u_gamma_scale:new s.Uniform1f(vt,K.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(vt,K.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(vt,K.u_is_halo)}},sf=function(vt,K,gt,rt,yt,Bt,Xt,ce,Ce,Ne){var qe=yt.transform;return{u_is_size_zoom_constant:+(vt==="constant"||vt==="source"),u_is_size_feature_constant:+(vt==="constant"||vt==="camera"),u_size_t:K?K.uSizeT:0,u_size:K?K.uSize:0,u_camera_to_center_distance:qe.cameraToCenterDistance,u_pitch:qe.pitch/360*2*Math.PI,u_rotate_symbol:+gt,u_aspect_ratio:qe.width/qe.height,u_fade_change:yt.options.fadeDuration?yt.symbolFadeChange:1,u_matrix:Bt,u_label_plane_matrix:Xt,u_coord_matrix:ce,u_is_text:+Ce,u_pitch_with_map:+rt,u_texsize:Ne,u_texture:0}},Xf=function(vt,K,gt,rt,yt,Bt,Xt,ce,Ce,Ne,qe){var ur=yt.transform;return s.extend(sf(vt,K,gt,rt,yt,Bt,Xt,ce,Ce,Ne),{u_gamma_scale:rt?Math.cos(ur._pitch)*ur.cameraToCenterDistance:1,u_device_pixel_ratio:s.browser.devicePixelRatio,u_is_halo:+qe})},_c=function(vt,K,gt,rt,yt,Bt,Xt,ce,Ce,Ne){return s.extend(Xf(vt,K,gt,rt,yt,Bt,Xt,ce,!0,Ce,!0),{u_texsize_icon:Ne,u_texture_icon:1})},lf=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_opacity:new s.Uniform1f(vt,K.u_opacity),u_color:new s.UniformColor(vt,K.u_color)}},uf=function(vt,K){return{u_matrix:new s.UniformMatrix4f(vt,K.u_matrix),u_opacity:new s.Uniform1f(vt,K.u_opacity),u_image:new s.Uniform1i(vt,K.u_image),u_pattern_tl_a:new s.Uniform2f(vt,K.u_pattern_tl_a),u_pattern_br_a:new s.Uniform2f(vt,K.u_pattern_br_a),u_pattern_tl_b:new s.Uniform2f(vt,K.u_pattern_tl_b),u_pattern_br_b:new s.Uniform2f(vt,K.u_pattern_br_b),u_texsize:new s.Uniform2f(vt,K.u_texsize),u_mix:new s.Uniform1f(vt,K.u_mix),u_pattern_size_a:new s.Uniform2f(vt,K.u_pattern_size_a),u_pattern_size_b:new s.Uniform2f(vt,K.u_pattern_size_b),u_scale_a:new s.Uniform1f(vt,K.u_scale_a),u_scale_b:new s.Uniform1f(vt,K.u_scale_b),u_pixel_coord_upper:new s.Uniform2f(vt,K.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(vt,K.u_pixel_coord_lower),u_tile_units_to_pixels:new s.Uniform1f(vt,K.u_tile_units_to_pixels)}},Al=function(vt,K,gt){return{u_matrix:vt,u_opacity:K,u_color:gt}},ff=function(vt,K,gt,rt,yt,Bt){return s.extend(xl(rt,Bt,gt,yt),{u_matrix:vt,u_opacity:K})},Sl={fillExtrusion:Wf,fillExtrusionPattern:$a,fill:tl,fillPattern:Xl,fillOutline:bl,fillOutlinePattern:Ms,circle:Ov,collisionBox:Nv,collisionCircle:Uv,debug:Eu,clippingMask:ss,heatmap:Sh,heatmapTexture:af,hillshade:Mh,hillshadePrepare:Eh,line:Cs,lineGradient:wl,linePattern:Lu,lineSDF:Yf,raster:il,symbolIcon:jf,symbolSDF:Ph,symbolTextAndIcon:Ru,background:lf,backgroundPattern:uf},fo;function Vs(vt,K,gt,rt,yt,Bt,Xt){for(var ce=vt.context,Ce=ce.gl,Ne=vt.useProgram("collisionBox"),qe=[],ur=0,lr=0,Fr=0;Fr<rt.length;Fr++){var Zr=rt[Fr],Xr=K.getTile(Zr),Wr=Xr.getBucket(gt);if(Wr){var Jr=Zr.posMatrix;(yt[0]!==0||yt[1]!==0)&&(Jr=vt.translatePosMatrix(Zr.posMatrix,Xr,yt,Bt));var dn=Xt?Wr.textCollisionBox:Wr.iconCollisionBox,kn=Wr.collisionCircleArray;if(kn.length>0){var Vn=s.create(),Xn=Jr;s.mul(Vn,Wr.placementInvProjMatrix,vt.transform.glCoordMatrix),s.mul(Vn,Vn,Wr.placementViewportMatrix),qe.push({circleArray:kn,circleOffset:lr,transform:Xn,invTransform:Vn}),ur+=kn.length/4,lr=ur}dn&&Ne.draw(ce,Ce.LINES,vr.disabled,$e.disabled,vt.colorModeForRenderPass(),_e.disabled,Dc(Jr,vt.transform,Xr),gt.id,dn.layoutVertexBuffer,dn.indexBuffer,dn.segments,null,vt.transform.zoom,null,null,dn.collisionVertexBuffer)}}if(!(!Xt||!qe.length)){var Kn=vt.useProgram("collisionCircle"),Wn=new s.StructArrayLayout2f1f2i16;Wn.resize(ur*4),Wn._trim();for(var Qn=0,ii=0,fi=qe;ii<fi.length;ii+=1)for(var mi=fi[ii],di=0;di<mi.circleArray.length/4;di++){var zi=di*4,Qi=mi.circleArray[zi+0],Wi=mi.circleArray[zi+1],Si=mi.circleArray[zi+2],Yi=mi.circleArray[zi+3];Wn.emplace(Qn++,Qi,Wi,Si,Yi,0),Wn.emplace(Qn++,Qi,Wi,Si,Yi,1),Wn.emplace(Qn++,Qi,Wi,Si,Yi,2),Wn.emplace(Qn++,Qi,Wi,Si,Yi,3)}(!fo||fo.length<ur*2)&&(fo=kc(ur));for(var Vi=ce.createIndexBuffer(fo,!0),da=ce.createVertexBuffer(Wn,s.collisionCircleLayout.members,!0),ua=0,za=qe;ua<za.length;ua+=1){var Ji=za[ua],Pa=Ah(Ji.transform,Ji.invTransform,vt.transform);Kn.draw(ce,Ce.TRIANGLES,vr.disabled,$e.disabled,vt.colorModeForRenderPass(),_e.disabled,Pa,gt.id,da,Vi,s.SegmentVector.simpleSegment(0,Ji.circleOffset*2,Ji.circleArray.length,Ji.circleArray.length/2),null,vt.transform.zoom,null,null,null)}da.destroy(),Vi.destroy()}}function kc(vt){var K=vt*2,gt=new s.StructArrayLayout3ui6;gt.resize(K),gt._trim();for(var rt=0;rt<K;rt++){var yt=rt*6;gt.uint16[yt+0]=rt*4+0,gt.uint16[yt+1]=rt*4+1,gt.uint16[yt+2]=rt*4+2,gt.uint16[yt+3]=rt*4+2,gt.uint16[yt+4]=rt*4+3,gt.uint16[yt+5]=rt*4+0}return gt}var Jl=s.identity(new Float32Array(16));function Zf(vt,K,gt,rt,yt){if(vt.renderPass==="translucent"){var Bt=$e.disabled,Xt=vt.colorModeForRenderPass(),ce=gt.layout.get("text-variable-anchor");ce&&Hv(rt,vt,gt,K,gt.layout.get("text-rotation-alignment"),gt.layout.get("text-pitch-alignment"),yt),gt.paint.get("icon-opacity").constantOr(1)!==0&&hf(vt,K,gt,rt,!1,gt.paint.get("icon-translate"),gt.paint.get("icon-translate-anchor"),gt.layout.get("icon-rotation-alignment"),gt.layout.get("icon-pitch-alignment"),gt.layout.get("icon-keep-upright"),Bt,Xt),gt.paint.get("text-opacity").constantOr(1)!==0&&hf(vt,K,gt,rt,!0,gt.paint.get("text-translate"),gt.paint.get("text-translate-anchor"),gt.layout.get("text-rotation-alignment"),gt.layout.get("text-pitch-alignment"),gt.layout.get("text-keep-upright"),Bt,Xt),K.map.showCollisionBoxes&&(Vs(vt,K,gt,rt,gt.paint.get("text-translate"),gt.paint.get("text-translate-anchor"),!0),Vs(vt,K,gt,rt,gt.paint.get("icon-translate"),gt.paint.get("icon-translate-anchor"),!1))}}function cf(vt,K,gt,rt,yt,Bt){var Xt=s.getAnchorAlignment(vt),ce=Xt.horizontalAlign,Ce=Xt.verticalAlign,Ne=-(ce-.5)*K,qe=-(Ce-.5)*gt,ur=s.evaluateVariableOffset(vt,rt);return new s.Point((Ne/yt+ur[0])*Bt,(qe/yt+ur[1])*Bt)}function Hv(vt,K,gt,rt,yt,Bt,Xt){for(var ce=K.transform,Ce=yt==="map",Ne=Bt==="map",qe=0,ur=vt;qe<ur.length;qe+=1){var lr=ur[qe],Fr=rt.getTile(lr),Zr=Fr.getBucket(gt);if(!(!Zr||!Zr.text||!Zr.text.segments.get().length)){var Xr=Zr.textSizeData,Wr=s.evaluateSizeForZoom(Xr,ce.zoom),Jr=ln(Fr,1,K.transform.zoom),dn=Pr(lr.posMatrix,Ne,Ce,K.transform,Jr),kn=gt.layout.get("icon-text-fit")!=="none"&&Zr.hasIconData();if(Wr){var Vn=Math.pow(2,ce.zoom-Fr.tileID.overscaledZ);Ih(Zr,Ce,Ne,Xt,s.symbolSize,ce,dn,lr.posMatrix,Vn,Wr,kn)}}}}function Ih(vt,K,gt,rt,yt,Bt,Xt,ce,Ce,Ne,qe){var ur=vt.text.placedSymbolArray,lr=vt.text.dynamicLayoutVertexArray,Fr=vt.icon.dynamicLayoutVertexArray,Zr={};lr.clear();for(var Xr=0;Xr<ur.length;Xr++){var Wr=ur.get(Xr),Jr=vt.allowVerticalPlacement&&!Wr.placedOrientation,dn=!Wr.hidden&&Wr.crossTileID&&!Jr?rt[Wr.crossTileID]:null;if(!dn)Dn(Wr.numGlyphs,lr);else{var kn=new s.Point(Wr.anchorX,Wr.anchorY),Vn=_r(kn,gt?ce:Xt),Xn=pn(Bt.cameraToCenterDistance,Vn.signedDistanceFromCamera),Kn=yt.evaluateSizeForFeature(vt.textSizeData,Ne,Wr)*Xn/s.ONE_EM;gt&&(Kn*=vt.tilePixelRatio/Ce);for(var Wn=dn.width,Qn=dn.height,ii=dn.anchor,fi=dn.textOffset,mi=dn.textBoxScale,di=cf(ii,Wn,Qn,fi,mi,Kn),zi=gt?_r(kn.add(di),Xt).point:Vn.point.add(K?di.rotate(-Bt.angle):di),Qi=vt.allowVerticalPlacement&&Wr.placedOrientation===s.WritingMode.vertical?Math.PI/2:0,Wi=0;Wi<Wr.numGlyphs;Wi++)s.addDynamicAttributes(lr,zi,Qi);qe&&Wr.associatedIconIndex>=0&&(Zr[Wr.associatedIconIndex]={shiftedAnchor:zi,angle:Qi})}}if(qe){Fr.clear();for(var Si=vt.icon.placedSymbolArray,Yi=0;Yi<Si.length;Yi++){var Vi=Si.get(Yi);if(Vi.hidden)Dn(Vi.numGlyphs,Fr);else{var da=Zr[Yi];if(!da)Dn(Vi.numGlyphs,Fr);else for(var ua=0;ua<Vi.numGlyphs;ua++)s.addDynamicAttributes(Fr,da.shiftedAnchor,da.angle)}}vt.icon.dynamicLayoutVertexBuffer.updateData(Fr)}vt.text.dynamicLayoutVertexBuffer.updateData(lr)}function Uo(vt,K,gt){return gt.iconsInText&&K?"symbolTextAndIcon":vt?"symbolSDF":"symbolIcon"}function hf(vt,K,gt,rt,yt,Bt,Xt,ce,Ce,Ne,qe,ur){for(var lr=vt.context,Fr=lr.gl,Zr=vt.transform,Xr=ce==="map",Wr=Ce==="map",Jr=Xr&&gt.layout.get("symbol-placement")!=="point",dn=Xr&&!Wr&&!Jr,kn=gt.layout.get("symbol-sort-key").constantOr(1)!==void 0,Vn=!1,Xn=vt.depthModeForSublayer(0,vr.ReadOnly),Kn=gt.layout.get("text-variable-anchor"),Wn=[],Qn=0,ii=rt;Qn<ii.length;Qn+=1){var fi=ii[Qn],mi=K.getTile(fi),di=mi.getBucket(gt);if(di){var zi=yt?di.text:di.icon;if(!(!zi||!zi.segments.get().length)){var Qi=zi.programConfigurations.get(gt.id),Wi=yt||di.sdfIcons,Si=yt?di.textSizeData:di.iconSizeData,Yi=Wr||Zr.pitch!==0,Vi=vt.useProgram(Uo(Wi,yt,di),Qi),da=s.evaluateSizeForZoom(Si,Zr.zoom),ua=void 0,za=[0,0],Ji=void 0,Pa=void 0,Hi=null,na=void 0;if(yt){if(Ji=mi.glyphAtlasTexture,Pa=Fr.LINEAR,ua=mi.glyphAtlasTexture.size,di.iconsInText){za=mi.imageAtlasTexture.size,Hi=mi.imageAtlasTexture;var ao=Si.kind==="composite"||Si.kind==="camera";na=Yi||vt.options.rotating||vt.options.zooming||ao?Fr.LINEAR:Fr.NEAREST}}else{var Ho=gt.layout.get("icon-size").constantOr(0)!==1||di.iconsNeedLinear;Ji=mi.imageAtlasTexture,Pa=Wi||vt.options.rotating||vt.options.zooming||Ho||Yi?Fr.LINEAR:Fr.NEAREST,ua=mi.imageAtlasTexture.size}var Cl=ln(mi,1,vt.transform.zoom),Ll=Pr(fi.posMatrix,Wr,Xr,vt.transform,Cl),ql=jr(fi.posMatrix,Wr,Xr,vt.transform,Cl),zu=Kn&&di.hasTextData(),Vc=gt.layout.get("icon-text-fit")!=="none"&&zu&&di.hasIconData();Jr&&Tn(di,fi.posMatrix,vt,yt,Ll,ql,Wr,Ne);var Fu=vt.translatePosMatrix(fi.posMatrix,mi,Bt,Xt),Ps=Jr||yt&&Kn||Vc?Jl:Ll,Ou=vt.translatePosMatrix(ql,mi,Bt,Xt,!0),Ws=Wi&&gt.paint.get(yt?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Is=void 0;Wi?di.iconsInText?Is=_c(Si.kind,da,dn,Wr,vt,Fu,Ps,Ou,ua,za):Is=Xf(Si.kind,da,dn,Wr,vt,Fu,Ps,Ou,yt,ua,!0):Is=sf(Si.kind,da,dn,Wr,vt,Fu,Ps,Ou,yt,ua);var tu={program:Vi,buffers:zi,uniformValues:Is,atlasTexture:Ji,atlasTextureIcon:Hi,atlasInterpolation:Pa,atlasInterpolationIcon:na,isSDF:Wi,hasHalo:Ws};if(kn&&di.canOverlap){Vn=!0;for(var bf=zi.segments.get(),eu=0,Ld=bf;eu<Ld.length;eu+=1){var Nh=Ld[eu];Wn.push({segments:new s.SegmentVector([Nh]),sortKey:Nh.sortKey,state:tu})}}else Wn.push({segments:zi.segments,sortKey:0,state:tu})}}}Vn&&Wn.sort(function(Id,Dd){return Id.sortKey-Dd.sortKey});for(var Xo=0,Pd=Wn;Xo<Pd.length;Xo+=1){var Zv=Pd[Xo],ds=Zv.state;if(lr.activeTexture.set(Fr.TEXTURE0),ds.atlasTexture.bind(ds.atlasInterpolation,Fr.CLAMP_TO_EDGE),ds.atlasTextureIcon&&(lr.activeTexture.set(Fr.TEXTURE1),ds.atlasTextureIcon&&ds.atlasTextureIcon.bind(ds.atlasInterpolationIcon,Fr.CLAMP_TO_EDGE)),ds.isSDF){var Uh=ds.uniformValues;ds.hasHalo&&(Uh.u_is_halo=1,_u(ds.buffers,Zv.segments,gt,vt,ds.program,Xn,qe,ur,Uh)),Uh.u_is_halo=0}_u(ds.buffers,Zv.segments,gt,vt,ds.program,Xn,qe,ur,ds.uniformValues)}}function _u(vt,K,gt,rt,yt,Bt,Xt,ce,Ce){var Ne=rt.context,qe=Ne.gl;yt.draw(Ne,qe.TRIANGLES,Bt,Xt,ce,_e.disabled,Ce,gt.id,vt.layoutVertexBuffer,vt.indexBuffer,K,gt.paint,rt.transform.zoom,vt.programConfigurations.get(gt.id),vt.dynamicLayoutVertexBuffer,vt.opacityVertexBuffer)}function Dh(vt,K,gt,rt){if(vt.renderPass==="translucent"){var yt=gt.paint.get("circle-opacity"),Bt=gt.paint.get("circle-stroke-width"),Xt=gt.paint.get("circle-stroke-opacity"),ce=gt.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(yt.constantOr(1)===0&&(Bt.constantOr(1)===0||Xt.constantOr(1)===0))){for(var Ce=vt.context,Ne=Ce.gl,qe=vt.depthModeForSublayer(0,vr.ReadOnly),ur=$e.disabled,lr=vt.colorModeForRenderPass(),Fr=[],Zr=0;Zr<rt.length;Zr++){var Xr=rt[Zr],Wr=K.getTile(Xr),Jr=Wr.getBucket(gt);if(Jr){var dn=Jr.programConfigurations.get(gt.id),kn=vt.useProgram("circle",dn),Vn=Jr.layoutVertexBuffer,Xn=Jr.indexBuffer,Kn=Bv(vt,Xr,Wr,gt),Wn={programConfiguration:dn,program:kn,layoutVertexBuffer:Vn,indexBuffer:Xn,uniformValues:Kn};if(ce)for(var Qn=Jr.segments.get(),ii=0,fi=Qn;ii<fi.length;ii+=1){var mi=fi[ii];Fr.push({segments:new s.SegmentVector([mi]),sortKey:mi.sortKey,state:Wn})}else Fr.push({segments:Jr.segments,sortKey:0,state:Wn})}}ce&&Fr.sort(function(Ji,Pa){return Ji.sortKey-Pa.sortKey});for(var di=0,zi=Fr;di<zi.length;di+=1){var Qi=zi[di],Wi=Qi.state,Si=Wi.programConfiguration,Yi=Wi.program,Vi=Wi.layoutVertexBuffer,da=Wi.indexBuffer,ua=Wi.uniformValues,za=Qi.segments;Yi.draw(Ce,Ne.TRIANGLES,qe,ur,lr,_e.disabled,ua,gt.id,Vi,da,za,gt.paint,vt.transform.zoom,Si)}}}}function Ml(vt,K,gt,rt){if(gt.paint.get("heatmap-opacity")!==0)if(vt.renderPass==="offscreen"){var yt=vt.context,Bt=yt.gl,Xt=$e.disabled,ce=new ue([Bt.ONE,Bt.ONE],s.Color.transparent,[!0,!0,!0,!0]);Gv(yt,vt,gt),yt.clear({color:s.Color.transparent});for(var Ce=0;Ce<rt.length;Ce++){var Ne=rt[Ce];if(!K.hasRenderableParent(Ne)){var qe=K.getTile(Ne),ur=qe.getBucket(gt);if(ur){var lr=ur.programConfigurations.get(gt.id),Fr=vt.useProgram("heatmap",lr),Zr=vt.transform,Xr=Zr.zoom;Fr.draw(yt,Bt.TRIANGLES,vr.disabled,Xt,ce,_e.disabled,rl(Ne.posMatrix,qe,Xr,gt.paint.get("heatmap-intensity")),gt.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,gt.paint,vt.transform.zoom,lr)}}}yt.viewport.set([0,0,vt.width,vt.height])}else vt.renderPass==="translucent"&&(vt.context.setColorMode(vt.colorModeForRenderPass()),vf(vt,gt))}function Gv(vt,K,gt){var rt=vt.gl;vt.activeTexture.set(rt.TEXTURE1),vt.viewport.set([0,0,K.width/4,K.height/4]);var yt=gt.heatmapFbo;if(yt)rt.bindTexture(rt.TEXTURE_2D,yt.colorAttachment.get()),vt.bindFramebuffer.set(yt.framebuffer);else{var Bt=rt.createTexture();rt.bindTexture(rt.TEXTURE_2D,Bt),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_S,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_T,rt.CLAMP_TO_EDGE),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MIN_FILTER,rt.LINEAR),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MAG_FILTER,rt.LINEAR),yt=gt.heatmapFbo=vt.createFramebuffer(K.width/4,K.height/4,!1),es(vt,K,Bt,yt)}}function es(vt,K,gt,rt){var yt=vt.gl,Bt=vt.extRenderToTextureHalfFloat?vt.extTextureHalfFloat.HALF_FLOAT_OES:yt.UNSIGNED_BYTE;yt.texImage2D(yt.TEXTURE_2D,0,yt.RGBA,K.width/4,K.height/4,0,yt.RGBA,Bt,null),rt.colorAttachment.set(gt)}function vf(vt,K){var gt=vt.context,rt=gt.gl,yt=K.heatmapFbo;if(yt){gt.activeTexture.set(rt.TEXTURE0),rt.bindTexture(rt.TEXTURE_2D,yt.colorAttachment.get()),gt.activeTexture.set(rt.TEXTURE1);var Bt=K.colorRampTexture;Bt||(Bt=K.colorRampTexture=new s.Texture(gt,K.colorRamp,rt.RGBA)),Bt.bind(rt.LINEAR,rt.CLAMP_TO_EDGE),vt.useProgram("heatmapTexture").draw(gt,rt.TRIANGLES,vr.disabled,$e.disabled,vt.colorModeForRenderPass(),_e.disabled,Vv(vt,K,0,1),K.id,vt.viewportBuffer,vt.quadTriangleIndexBuffer,vt.viewportSegments,K.paint,vt.transform.zoom)}}function Kf(vt,K,gt,rt){if(vt.renderPass==="translucent"){var yt=gt.paint.get("line-opacity"),Bt=gt.paint.get("line-width");if(!(yt.constantOr(1)===0||Bt.constantOr(1)===0))for(var Xt=vt.depthModeForSublayer(0,vr.ReadOnly),ce=vt.colorModeForRenderPass(),Ce=gt.paint.get("line-dasharray"),Ne=gt.paint.get("line-pattern"),qe=Ne.constantOr(1),ur=gt.paint.get("line-gradient"),lr=gt.getCrossfadeParameters(),Fr=qe?"linePattern":Ce?"lineSDF":ur?"lineGradient":"line",Zr=vt.context,Xr=Zr.gl,Wr=!0,Jr=0,dn=rt;Jr<dn.length;Jr+=1){var kn=dn[Jr],Vn=K.getTile(kn);if(!(qe&&!Vn.patternsLoaded())){var Xn=Vn.getBucket(gt);if(Xn){var Kn=Xn.programConfigurations.get(gt.id),Wn=vt.context.program.get(),Qn=vt.useProgram(Fr,Kn),ii=Wr||Qn.program!==Wn,fi=Ne.constantOr(null);if(fi&&Vn.imageAtlas){var mi=Vn.imageAtlas,di=mi.patternPositions[fi.to.toString()],zi=mi.patternPositions[fi.from.toString()];di&&zi&&Kn.setConstantPatternPositions(di,zi)}var Qi=qe?Lh(vt,Vn,gt,lr):Ce?nl(vt,Vn,gt,Ce,lr):ur?Kl(vt,Vn,gt,Xn.lineClipsArray.length):Zl(vt,Vn,gt);if(qe)Zr.activeTexture.set(Xr.TEXTURE0),Vn.imageAtlasTexture.bind(Xr.LINEAR,Xr.CLAMP_TO_EDGE),Kn.updatePaintBuffers(lr);else if(Ce&&(ii||vt.lineAtlas.dirty))Zr.activeTexture.set(Xr.TEXTURE0),vt.lineAtlas.bind(Zr);else if(ur){var Wi=Xn.gradients[gt.id],Si=Wi.texture;if(gt.gradientVersion!==Wi.version){var Yi=256;if(gt.stepInterpolant){var Vi=K.getSource().maxzoom,da=kn.canonical.z===Vi?Math.ceil(1<<vt.transform.maxZoom-kn.canonical.z):1,ua=Xn.maxLineLength/s.EXTENT,za=1024,Ji=ua*za*da;Yi=s.clamp(s.nextPowerOfTwo(Ji),256,Zr.maxTextureSize)}Wi.gradient=s.renderColorRamp({expression:gt.gradientExpression(),evaluationKey:"lineProgress",resolution:Yi,image:Wi.gradient||void 0,clips:Xn.lineClipsArray}),Wi.texture?Wi.texture.update(Wi.gradient):Wi.texture=new s.Texture(Zr,Wi.gradient,Xr.RGBA),Wi.version=gt.gradientVersion,Si=Wi.texture}Zr.activeTexture.set(Xr.TEXTURE0),Si.bind(gt.stepInterpolant?Xr.NEAREST:Xr.LINEAR,Xr.CLAMP_TO_EDGE)}Qn.draw(Zr,Xr.TRIANGLES,Xt,vt.stencilModeForClipping(kn),ce,_e.disabled,Qi,gt.id,Xn.layoutVertexBuffer,Xn.indexBuffer,Xn.segments,gt.paint,vt.transform.zoom,Kn,Xn.layoutVertexBuffer2),Wr=!1}}}}}function al(vt,K,gt,rt){var yt=gt.paint.get("fill-color"),Bt=gt.paint.get("fill-opacity");if(Bt.constantOr(1)!==0){var Xt=vt.colorModeForRenderPass(),ce=gt.paint.get("fill-pattern"),Ce=vt.opaquePassEnabledForLayer()&&!ce.constantOr(1)&&yt.constantOr(s.Color.transparent).a===1&&Bt.constantOr(0)===1?"opaque":"translucent";if(vt.renderPass===Ce){var Ne=vt.depthModeForSublayer(1,vt.renderPass==="opaque"?vr.ReadWrite:vr.ReadOnly);El(vt,K,gt,rt,Ne,Xt,!1)}if(vt.renderPass==="translucent"&&gt.paint.get("fill-antialias")){var qe=vt.depthModeForSublayer(gt.getPaintProperty("fill-outline-color")?2:0,vr.ReadOnly);El(vt,K,gt,rt,qe,Xt,!0)}}}function El(vt,K,gt,rt,yt,Bt,Xt){var ce=vt.context.gl,Ce=gt.paint.get("fill-pattern"),Ne=Ce&&Ce.constantOr(1),qe=gt.getCrossfadeParameters(),ur,lr,Fr,Zr,Xr;Xt?(lr=Ne&&!gt.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ur=ce.LINES):(lr=Ne?"fillPattern":"fill",ur=ce.TRIANGLES);for(var Wr=0,Jr=rt;Wr<Jr.length;Wr+=1){var dn=Jr[Wr],kn=K.getTile(dn);if(!(Ne&&!kn.patternsLoaded())){var Vn=kn.getBucket(gt);if(Vn){var Xn=Vn.programConfigurations.get(gt.id),Kn=vt.useProgram(lr,Xn);Ne&&(vt.context.activeTexture.set(ce.TEXTURE0),kn.imageAtlasTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),Xn.updatePaintBuffers(qe));var Wn=Ce.constantOr(null);if(Wn&&kn.imageAtlas){var Qn=kn.imageAtlas,ii=Qn.patternPositions[Wn.to.toString()],fi=Qn.patternPositions[Wn.from.toString()];ii&&fi&&Xn.setConstantPatternPositions(ii,fi)}var mi=vt.translatePosMatrix(dn.posMatrix,kn,gt.paint.get("fill-translate"),gt.paint.get("fill-translate-anchor"));if(!Xt)Zr=Vn.indexBuffer,Xr=Vn.segments,Fr=Ne?Es(mi,vt,qe,kn):el(mi);else{Zr=Vn.indexBuffer2,Xr=Vn.segments2;var di=[ce.drawingBufferWidth,ce.drawingBufferHeight];Fr=lr==="fillOutlinePattern"&&Ne?nf(mi,vt,qe,kn,di):vs(mi,di)}Kn.draw(vt.context,ur,yt,vt.stencilModeForClipping(dn),Bt,_e.disabled,Fr,gt.id,Vn.layoutVertexBuffer,Zr,Xr,gt.paint,vt.transform.zoom,Xn)}}}}function zc(vt,K,gt,rt){var yt=gt.paint.get("fill-extrusion-opacity");if(yt!==0&&vt.renderPass==="translucent"){var Bt=new vr(vt.context.gl.LEQUAL,vr.ReadWrite,vt.depthRangeFor3D);if(yt===1&&!gt.paint.get("fill-extrusion-pattern").constantOr(1)){var Xt=vt.colorModeForRenderPass();df(vt,K,gt,rt,Bt,$e.disabled,Xt)}else df(vt,K,gt,rt,Bt,$e.disabled,ue.disabled),df(vt,K,gt,rt,Bt,vt.stencilModeFor3D(),vt.colorModeForRenderPass())}}function df(vt,K,gt,rt,yt,Bt,Xt){for(var ce=vt.context,Ce=ce.gl,Ne=gt.paint.get("fill-extrusion-pattern"),qe=Ne.constantOr(1),ur=gt.getCrossfadeParameters(),lr=gt.paint.get("fill-extrusion-opacity"),Fr=0,Zr=rt;Fr<Zr.length;Fr+=1){var Xr=Zr[Fr],Wr=K.getTile(Xr),Jr=Wr.getBucket(gt);if(Jr){var dn=Jr.programConfigurations.get(gt.id),kn=vt.useProgram(qe?"fillExtrusionPattern":"fillExtrusion",dn);qe&&(vt.context.activeTexture.set(Ce.TEXTURE0),Wr.imageAtlasTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE),dn.updatePaintBuffers(ur));var Vn=Ne.constantOr(null);if(Vn&&Wr.imageAtlas){var Xn=Wr.imageAtlas,Kn=Xn.patternPositions[Vn.to.toString()],Wn=Xn.patternPositions[Vn.from.toString()];Kn&&Wn&&dn.setConstantPatternPositions(Kn,Wn)}var Qn=vt.translatePosMatrix(Xr.posMatrix,Wr,gt.paint.get("fill-extrusion-translate"),gt.paint.get("fill-extrusion-translate-anchor")),ii=gt.paint.get("fill-extrusion-vertical-gradient"),fi=qe?Ss(Qn,vt,ii,lr,Xr,ur,Wr):rf(Qn,vt,ii,lr);kn.draw(ce,ce.gl.TRIANGLES,yt,Bt,Xt,_e.backCCW,fi,gt.id,Jr.layoutVertexBuffer,Jr.indexBuffer,Jr.segments,gt.paint,vt.transform.zoom,dn)}}}function pf(vt,K,gt,rt){if(!(vt.renderPass!=="offscreen"&&vt.renderPass!=="translucent")){for(var yt=vt.context,Bt=vt.depthModeForSublayer(0,vr.ReadOnly),Xt=vt.colorModeForRenderPass(),ce=vt.renderPass==="translucent"?vt.stencilConfigForOverlap(rt):[{},rt],Ce=ce[0],Ne=ce[1],qe=0,ur=Ne;qe<ur.length;qe+=1){var lr=ur[qe],Fr=K.getTile(lr);Fr.needsHillshadePrepare&&vt.renderPass==="offscreen"?Rh(vt,Fr,gt,Bt,$e.disabled,Xt):vt.renderPass==="translucent"&&Jf(vt,Fr,gt,Bt,Ce[lr.overscaledZ],Xt)}yt.viewport.set([0,0,vt.width,vt.height])}}function Jf(vt,K,gt,rt,yt,Bt){var Xt=vt.context,ce=Xt.gl,Ce=K.fbo;if(Ce){var Ne=vt.useProgram("hillshade");Xt.activeTexture.set(ce.TEXTURE0),ce.bindTexture(ce.TEXTURE_2D,Ce.colorAttachment.get());var qe=Rc(vt,K,gt);Ne.draw(Xt,ce.TRIANGLES,rt,yt,Bt,_e.disabled,qe,gt.id,vt.rasterBoundsBuffer,vt.quadTriangleIndexBuffer,vt.rasterBoundsSegments)}}function Rh(vt,K,gt,rt,yt,Bt){var Xt=vt.context,ce=Xt.gl,Ce=K.dem;if(Ce&&Ce.data){var Ne=Ce.dim,qe=Ce.stride,ur=Ce.getPixels();if(Xt.activeTexture.set(ce.TEXTURE1),Xt.pixelStoreUnpackPremultiplyAlpha.set(!1),K.demTexture=K.demTexture||vt.getTileTexture(qe),K.demTexture){var lr=K.demTexture;lr.update(ur,{premultiply:!1}),lr.bind(ce.NEAREST,ce.CLAMP_TO_EDGE)}else K.demTexture=new s.Texture(Xt,ur,ce.RGBA,{premultiply:!1}),K.demTexture.bind(ce.NEAREST,ce.CLAMP_TO_EDGE);Xt.activeTexture.set(ce.TEXTURE0);var Fr=K.fbo;if(!Fr){var Zr=new s.Texture(Xt,{width:Ne,height:Ne,data:null},ce.RGBA);Zr.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),Fr=K.fbo=Xt.createFramebuffer(Ne,Ne,!0),Fr.colorAttachment.set(Zr.texture)}Xt.bindFramebuffer.set(Fr.framebuffer),Xt.viewport.set([0,0,Ne,Ne]),vt.useProgram("hillshadePrepare").draw(Xt,ce.TRIANGLES,rt,yt,Bt,_e.disabled,Ch(K.tileID,Ce),gt.id,vt.rasterBoundsBuffer,vt.quadTriangleIndexBuffer,vt.rasterBoundsSegments),K.needsHillshadePrepare=!1}}function gf(vt,K,gt,rt){if(vt.renderPass==="translucent"&&gt.paint.get("raster-opacity")!==0&&rt.length)for(var yt=vt.context,Bt=yt.gl,Xt=K.getSource(),ce=vt.useProgram("raster"),Ce=vt.colorModeForRenderPass(),Ne=Xt instanceof J?[{},rt]:vt.stencilConfigForOverlap(rt),qe=Ne[0],ur=Ne[1],lr=ur[ur.length-1].overscaledZ,Fr=!vt.options.moving,Zr=0,Xr=ur;Zr<Xr.length;Zr+=1){var Wr=Xr[Zr],Jr=vt.depthModeForSublayer(Wr.overscaledZ-lr,gt.paint.get("raster-opacity")===1?vr.ReadWrite:vr.ReadOnly,Bt.LESS),dn=K.getTile(Wr),kn=vt.transform.calculatePosMatrix(Wr.toUnwrapped(),Fr);dn.registerFadeDuration(gt.paint.get("raster-fade-duration"));var Vn=K.findLoadedParent(Wr,0),Xn=Fc(dn,Vn,K,gt,vt.transform),Kn=void 0,Wn=void 0,Qn=gt.paint.get("raster-resampling")==="nearest"?Bt.NEAREST:Bt.LINEAR;yt.activeTexture.set(Bt.TEXTURE0),dn.texture.bind(Qn,Bt.CLAMP_TO_EDGE,Bt.LINEAR_MIPMAP_NEAREST),yt.activeTexture.set(Bt.TEXTURE1),Vn?(Vn.texture.bind(Qn,Bt.CLAMP_TO_EDGE,Bt.LINEAR_MIPMAP_NEAREST),Kn=Math.pow(2,Vn.tileID.overscaledZ-dn.tileID.overscaledZ),Wn=[dn.tileID.canonical.x*Kn%1,dn.tileID.canonical.y*Kn%1]):dn.texture.bind(Qn,Bt.CLAMP_TO_EDGE,Bt.LINEAR_MIPMAP_NEAREST);var ii=of(kn,Wn||[0,0],Kn||1,Xn,gt);Xt instanceof J?ce.draw(yt,Bt.TRIANGLES,Jr,$e.disabled,Ce,_e.disabled,ii,gt.id,Xt.boundsBuffer,vt.quadTriangleIndexBuffer,Xt.boundsSegments):ce.draw(yt,Bt.TRIANGLES,Jr,qe[Wr.overscaledZ],Ce,_e.disabled,ii,gt.id,vt.rasterBoundsBuffer,vt.quadTriangleIndexBuffer,vt.rasterBoundsSegments)}}function Fc(vt,K,gt,rt,yt){var Bt=rt.paint.get("raster-fade-duration");if(Bt>0){var Xt=s.browser.now(),ce=(Xt-vt.timeAdded)/Bt,Ce=K?(Xt-K.timeAdded)/Bt:-1,Ne=gt.getSource(),qe=yt.coveringZoomLevel({tileSize:Ne.tileSize,roundZoom:Ne.roundZoom}),ur=!K||Math.abs(K.tileID.overscaledZ-qe)>Math.abs(vt.tileID.overscaledZ-qe),lr=ur&&vt.refreshedUponExpiration?1:s.clamp(ur?ce:1-Ce,0,1);return vt.refreshedUponExpiration&&ce>=1&&(vt.refreshedUponExpiration=!1),K?{opacity:1,mix:1-lr}:{opacity:lr,mix:0}}else return{opacity:1,mix:0}}function Ql(vt,K,gt){var rt=gt.paint.get("background-color"),yt=gt.paint.get("background-opacity");if(yt!==0){var Bt=vt.context,Xt=Bt.gl,ce=vt.transform,Ce=ce.tileSize,Ne=gt.paint.get("background-pattern");if(!vt.isPatternMissing(Ne)){var qe=!Ne&&rt.a===1&&yt===1&&vt.opaquePassEnabledForLayer()?"opaque":"translucent";if(vt.renderPass===qe){var ur=$e.disabled,lr=vt.depthModeForSublayer(0,qe==="opaque"?vr.ReadWrite:vr.ReadOnly),Fr=vt.colorModeForRenderPass(),Zr=vt.useProgram(Ne?"backgroundPattern":"background"),Xr=ce.coveringTiles({tileSize:Ce});Ne&&(Bt.activeTexture.set(Xt.TEXTURE0),vt.imageManager.bind(vt.context));for(var Wr=gt.getCrossfadeParameters(),Jr=0,dn=Xr;Jr<dn.length;Jr+=1){var kn=dn[Jr],Vn=vt.transform.calculatePosMatrix(kn.toUnwrapped()),Xn=Ne?ff(Vn,yt,vt,Ne,{tileID:kn,tileSize:Ce},Wr):Al(Vn,yt,rt);Zr.draw(Bt,Xt.TRIANGLES,lr,ur,Fr,_e.disabled,Xn,gt.id,vt.tileExtentBuffer,vt.quadTriangleIndexBuffer,vt.tileExtentSegments)}}}}}var Oc=new s.Color(1,0,0,1),yf=new s.Color(0,1,0,1),_h=new s.Color(0,0,1,1),$t=new s.Color(1,0,1,1),se=new s.Color(0,1,1,1);function me(vt){var K=vt.transform.padding,gt=3;ke(vt,vt.transform.height-(K.top||0),gt,Oc),ke(vt,K.bottom||0,gt,yf),Re(vt,K.left||0,gt,_h),Re(vt,vt.transform.width-(K.right||0),gt,$t);var rt=vt.transform.centerPoint;we(vt,rt.x,vt.transform.height-rt.y,se)}function we(vt,K,gt,rt){var yt=20,Bt=2;ze(vt,K-Bt/2,gt-yt/2,Bt,yt,rt),ze(vt,K-yt/2,gt-Bt/2,yt,Bt,rt)}function ke(vt,K,gt,rt){ze(vt,0,K+gt/2,vt.transform.width,gt,rt)}function Re(vt,K,gt,rt){ze(vt,K-gt/2,0,gt,vt.transform.height,rt)}function ze(vt,K,gt,rt,yt,Bt){var Xt=vt.context,ce=Xt.gl;ce.enable(ce.SCISSOR_TEST),ce.scissor(K*s.browser.devicePixelRatio,gt*s.browser.devicePixelRatio,rt*s.browser.devicePixelRatio,yt*s.browser.devicePixelRatio),Xt.clear({color:Bt}),ce.disable(ce.SCISSOR_TEST)}function pr(vt,K,gt){for(var rt=0;rt<gt.length;rt++)wr(vt,K,gt[rt])}function wr(vt,K,gt){var rt=vt.context,yt=rt.gl,Bt=gt.posMatrix,Xt=vt.useProgram("debug"),ce=vr.disabled,Ce=$e.disabled,Ne=vt.colorModeForRenderPass(),qe="$debug";rt.activeTexture.set(yt.TEXTURE0),vt.emptyTexture.bind(yt.LINEAR,yt.CLAMP_TO_EDGE),Xt.draw(rt,yt.LINE_STRIP,ce,Ce,Ne,_e.disabled,bo(Bt,s.Color.red),qe,vt.debugBuffer,vt.tileBorderIndexBuffer,vt.debugSegments);var ur=K.getTileByID(gt.key).latestRawTileData,lr=ur&&ur.byteLength||0,Fr=Math.floor(lr/1024),Zr=K.getTile(gt).tileSize,Xr=512/Math.min(Zr,512)*(gt.overscaledZ/vt.transform.zoom)*.5,Wr=gt.canonical.toString();gt.overscaledZ!==gt.canonical.z&&(Wr+=" => "+gt.overscaledZ);var Jr=Wr+" "+Fr+"kb";sr(vt,Jr),Xt.draw(rt,yt.TRIANGLES,ce,Ce,ue.alphaBlended,_e.disabled,bo(Bt,s.Color.transparent,Xr),qe,vt.debugBuffer,vt.quadTriangleIndexBuffer,vt.debugSegments)}function sr(vt,K){vt.initDebugOverlayCanvas();var gt=vt.debugOverlayCanvas,rt=vt.context.gl,yt=vt.debugOverlayCanvas.getContext("2d");yt.clearRect(0,0,gt.width,gt.height),yt.shadowColor="white",yt.shadowBlur=2,yt.lineWidth=1.5,yt.strokeStyle="white",yt.textBaseline="top",yt.font="bold 36px Open Sans, sans-serif",yt.fillText(K,5,5),yt.strokeText(K,5,5),vt.debugOverlayTexture.update(gt),vt.debugOverlayTexture.bind(rt.LINEAR,rt.CLAMP_TO_EDGE)}function Mr(vt,K,gt){var rt=vt.context,yt=gt.implementation;if(vt.renderPass==="offscreen"){var Bt=yt.prerender;Bt&&(vt.setCustomLayerDefaults(),rt.setColorMode(vt.colorModeForRenderPass()),Bt.call(yt,rt.gl,vt.transform.customLayerMatrix()),rt.setDirty(),vt.setBaseState())}else if(vt.renderPass==="translucent"){vt.setCustomLayerDefaults(),rt.setColorMode(vt.colorModeForRenderPass()),rt.setStencilMode($e.disabled);var Xt=yt.renderingMode==="3d"?new vr(vt.context.gl.LEQUAL,vr.ReadWrite,vt.depthRangeFor3D):vt.depthModeForSublayer(0,vr.ReadOnly);rt.setDepthMode(Xt),yt.render(rt.gl,vt.transform.customLayerMatrix()),rt.setDirty(),vt.setBaseState(),rt.bindFramebuffer.set(null)}}var zr={symbol:Zf,circle:Dh,heatmap:Ml,line:Kf,fill:al,"fill-extrusion":zc,hillshade:pf,raster:gf,background:Ql,debug:pr,custom:Mr},Vr=function(K,gt){this.context=new Oe(K),this.transform=gt,this._tileTextures={},this.setup(),this.numSublayers=Fe.maxUnderzooming+Fe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Zn,this.gpuTimers={}};Vr.prototype.resize=function(K,gt){if(this.width=K*s.browser.devicePixelRatio,this.height=gt*s.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var rt=0,yt=this.style._order;rt<yt.length;rt+=1){var Bt=yt[rt];this.style._layers[Bt].resize()}},Vr.prototype.setup=function(){var K=this.context,gt=new s.StructArrayLayout2i4;gt.emplaceBack(0,0),gt.emplaceBack(s.EXTENT,0),gt.emplaceBack(0,s.EXTENT),gt.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=K.createVertexBuffer(gt,$o.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);var rt=new s.StructArrayLayout2i4;rt.emplaceBack(0,0),rt.emplaceBack(s.EXTENT,0),rt.emplaceBack(0,s.EXTENT),rt.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=K.createVertexBuffer(rt,$o.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);var yt=new s.StructArrayLayout4i8;yt.emplaceBack(0,0,0,0),yt.emplaceBack(s.EXTENT,0,s.EXTENT,0),yt.emplaceBack(0,s.EXTENT,0,s.EXTENT),yt.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.rasterBoundsBuffer=K.createVertexBuffer(yt,X.members),this.rasterBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);var Bt=new s.StructArrayLayout2i4;Bt.emplaceBack(0,0),Bt.emplaceBack(1,0),Bt.emplaceBack(0,1),Bt.emplaceBack(1,1),this.viewportBuffer=K.createVertexBuffer(Bt,$o.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);var Xt=new s.StructArrayLayout1ui2;Xt.emplaceBack(0),Xt.emplaceBack(1),Xt.emplaceBack(3),Xt.emplaceBack(2),Xt.emplaceBack(0),this.tileBorderIndexBuffer=K.createIndexBuffer(Xt);var ce=new s.StructArrayLayout3ui6;ce.emplaceBack(0,1,2),ce.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=K.createIndexBuffer(ce),this.emptyTexture=new s.Texture(K,{width:1,height:1,data:new Uint8Array([0,0,0,0])},K.gl.RGBA);var Ce=this.context.gl;this.stencilClearMode=new $e({func:Ce.ALWAYS,mask:0},0,255,Ce.ZERO,Ce.ZERO,Ce.ZERO)},Vr.prototype.clearStencil=function(){var K=this.context,gt=K.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var rt=s.create();s.ortho(rt,0,this.width,this.height,0,0,1),s.scale(rt,rt,[gt.drawingBufferWidth,gt.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(K,gt.TRIANGLES,vr.disabled,this.stencilClearMode,ue.disabled,_e.disabled,Cu(rt),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Vr.prototype._renderTileClippingMasks=function(K,gt){if(!(this.currentStencilSource===K.source||!K.isTileClipped()||!gt||!gt.length)){this.currentStencilSource=K.source;var rt=this.context,yt=rt.gl;this.nextStencilID+gt.length>256&&this.clearStencil(),rt.setColorMode(ue.disabled),rt.setDepthMode(vr.disabled);var Bt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Xt=0,ce=gt;Xt<ce.length;Xt+=1){var Ce=ce[Xt],Ne=this._tileClippingMaskIDs[Ce.key]=this.nextStencilID++;Bt.draw(rt,yt.TRIANGLES,vr.disabled,new $e({func:yt.ALWAYS,mask:0},Ne,255,yt.KEEP,yt.KEEP,yt.REPLACE),ue.disabled,_e.disabled,Cu(Ce.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Vr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var K=this.nextStencilID++,gt=this.context.gl;return new $e({func:gt.NOTEQUAL,mask:255},K,255,gt.KEEP,gt.KEEP,gt.REPLACE)},Vr.prototype.stencilModeForClipping=function(K){var gt=this.context.gl;return new $e({func:gt.EQUAL,mask:255},this._tileClippingMaskIDs[K.key],0,gt.KEEP,gt.KEEP,gt.REPLACE)},Vr.prototype.stencilConfigForOverlap=function(K){var gt,rt=this.context.gl,yt=K.sort(function(Ne,qe){return qe.overscaledZ-Ne.overscaledZ}),Bt=yt[yt.length-1].overscaledZ,Xt=yt[0].overscaledZ-Bt+1;if(Xt>1){this.currentStencilSource=void 0,this.nextStencilID+Xt>256&&this.clearStencil();for(var ce={},Ce=0;Ce<Xt;Ce++)ce[Ce+Bt]=new $e({func:rt.GEQUAL,mask:255},Ce+this.nextStencilID,255,rt.KEEP,rt.KEEP,rt.REPLACE);return this.nextStencilID+=Xt,[ce,yt]}return[(gt={},gt[Bt]=$e.disabled,gt),yt]},Vr.prototype.colorModeForRenderPass=function(){var K=this.context.gl;if(this._showOverdrawInspector){var gt=8,rt=1/gt;return new ue([K.CONSTANT_COLOR,K.ONE],new s.Color(rt,rt,rt,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ue.unblended:ue.alphaBlended},Vr.prototype.depthModeForSublayer=function(K,gt,rt){if(!this.opaquePassEnabledForLayer())return vr.disabled;var yt=1-((1+this.currentLayer)*this.numSublayers+K)*this.depthEpsilon;return new vr(rt||this.context.gl.LEQUAL,gt,[yt,yt])},Vr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Vr.prototype.render=function(K,gt){var rt=this;this.style=K,this.options=gt,this.lineAtlas=K.lineAtlas,this.imageManager=K.imageManager,this.glyphManager=K.glyphManager,this.symbolFadeChange=K.placement.symbolFadeChange(s.browser.now()),this.imageManager.beginFrame();var yt=this.style._order,Bt=this.style.sourceCaches;for(var Xt in Bt){var ce=Bt[Xt];ce.used&&ce.prepare(this.context)}var Ce={},Ne={},qe={};for(var ur in Bt){var lr=Bt[ur];Ce[ur]=lr.getVisibleCoordinates(),Ne[ur]=Ce[ur].slice().reverse(),qe[ur]=lr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Fr=0;Fr<yt.length;Fr++){var Zr=yt[Fr];if(this.style._layers[Zr].is3D()){this.opaquePassCutoff=Fr;break}}this.renderPass="offscreen";for(var Xr=0,Wr=yt;Xr<Wr.length;Xr+=1){var Jr=Wr[Xr],dn=this.style._layers[Jr];if(!(!dn.hasOffscreenPass()||dn.isHidden(this.transform.zoom))){var kn=Ne[dn.source];dn.type!=="custom"&&!kn.length||this.renderLayer(this,Bt[dn.source],dn,kn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:gt.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=gt.showOverdrawInspector,this.depthRangeFor3D=[0,1-(K._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=yt.length-1;this.currentLayer>=0;this.currentLayer--){var Vn=this.style._layers[yt[this.currentLayer]],Xn=Bt[Vn.source],Kn=Ce[Vn.source];this._renderTileClippingMasks(Vn,Kn),this.renderLayer(this,Xn,Vn,Kn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<yt.length;this.currentLayer++){var Wn=this.style._layers[yt[this.currentLayer]],Qn=Bt[Wn.source],ii=(Wn.type==="symbol"?qe:Ne)[Wn.source];this._renderTileClippingMasks(Wn,Ce[Wn.source]),this.renderLayer(this,Qn,Wn,ii)}if(this.options.showTileBoundaries){var fi,mi,di=s.values(this.style._layers);di.forEach(function(zi){zi.source&&!zi.isHidden(rt.transform.zoom)&&(zi.source!==(mi&&mi.id)&&(mi=rt.style.sourceCaches[zi.source]),(!fi||fi.getSource().maxzoom<mi.getSource().maxzoom)&&(fi=mi))}),fi&&zr.debug(this,fi,fi.getVisibleCoordinates())}this.options.showPadding&&me(this),this.context.setDefault()},Vr.prototype.renderLayer=function(K,gt,rt,yt){rt.isHidden(this.transform.zoom)||rt.type!=="background"&&rt.type!=="custom"&&!yt.length||(this.id=rt.id,this.gpuTimingStart(rt),zr[rt.type](K,gt,rt,yt,this.style.placement.variableOffsets),this.gpuTimingEnd())},Vr.prototype.gpuTimingStart=function(K){if(this.options.gpuTiming){var gt=this.context.extTimerQuery,rt=this.gpuTimers[K.id];rt||(rt=this.gpuTimers[K.id]={calls:0,cpuTime:0,query:gt.createQueryEXT()}),rt.calls++,gt.beginQueryEXT(gt.TIME_ELAPSED_EXT,rt.query)}},Vr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var K=this.context.extTimerQuery;K.endQueryEXT(K.TIME_ELAPSED_EXT)}},Vr.prototype.collectGpuTimers=function(){var K=this.gpuTimers;return this.gpuTimers={},K},Vr.prototype.queryGpuTimers=function(K){var gt={};for(var rt in K){var yt=K[rt],Bt=this.context.extTimerQuery,Xt=Bt.getQueryObjectEXT(yt.query,Bt.QUERY_RESULT_EXT)/(1e3*1e3);Bt.deleteQueryEXT(yt.query),gt[rt]=Xt}return gt},Vr.prototype.translatePosMatrix=function(K,gt,rt,yt,Bt){if(!rt[0]&&!rt[1])return K;var Xt=Bt?yt==="map"?this.transform.angle:0:yt==="viewport"?-this.transform.angle:0;if(Xt){var ce=Math.sin(Xt),Ce=Math.cos(Xt);rt=[rt[0]*Ce-rt[1]*ce,rt[0]*ce+rt[1]*Ce]}var Ne=[Bt?rt[0]:ln(gt,rt[0],this.transform.zoom),Bt?rt[1]:ln(gt,rt[1],this.transform.zoom),0],qe=new Float32Array(16);return s.translate(qe,K,Ne),qe},Vr.prototype.saveTileTexture=function(K){var gt=this._tileTextures[K.size[0]];gt?gt.push(K):this._tileTextures[K.size[0]]=[K]},Vr.prototype.getTileTexture=function(K){var gt=this._tileTextures[K];return gt&&gt.length>0?gt.pop():null},Vr.prototype.isPatternMissing=function(K){if(!K)return!1;if(!K.from||!K.to)return!0;var gt=this.imageManager.getPattern(K.from.toString()),rt=this.imageManager.getPattern(K.to.toString());return!gt||!rt},Vr.prototype.useProgram=function(K,gt){this.cache=this.cache||{};var rt=""+K+(gt?gt.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[rt]||(this.cache[rt]=new Ic(this.context,K,wh[K],gt,Sl[K],this._showOverdrawInspector)),this.cache[rt]},Vr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Vr.prototype.setBaseState=function(){var K=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(K.FUNC_ADD)},Vr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var K=this.context.gl;this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,K.RGBA)}},Vr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var rn=function(K,gt){this.points=K,this.planes=gt};rn.fromInvProjectionMatrix=function(K,gt,rt){var yt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Bt=Math.pow(2,rt),Xt=yt.map(function(Ne){return s.transformMat4([],Ne,K)}).map(function(Ne){return s.scale$1([],Ne,1/Ne[3]/gt*Bt)}),ce=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Ce=ce.map(function(Ne){var qe=s.sub([],Xt[Ne[0]],Xt[Ne[1]]),ur=s.sub([],Xt[Ne[2]],Xt[Ne[1]]),lr=s.normalize([],s.cross([],qe,ur)),Fr=-s.dot(lr,Xt[Ne[1]]);return lr.concat(Fr)});return new rn(Xt,Ce)};var bn=function(K,gt){this.min=K,this.max=gt,this.center=s.scale$2([],s.add([],this.min,this.max),.5)};bn.prototype.quadrant=function(K){for(var gt=[K%2===0,K<2],rt=s.clone$2(this.min),yt=s.clone$2(this.max),Bt=0;Bt<gt.length;Bt++)rt[Bt]=gt[Bt]?this.min[Bt]:this.center[Bt],yt[Bt]=gt[Bt]?this.center[Bt]:this.max[Bt];return yt[2]=this.max[2],new bn(rt,yt)},bn.prototype.distanceX=function(K){var gt=Math.max(Math.min(this.max[0],K[0]),this.min[0]);return gt-K[0]},bn.prototype.distanceY=function(K){var gt=Math.max(Math.min(this.max[1],K[1]),this.min[1]);return gt-K[1]},bn.prototype.intersects=function(K){for(var gt=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],rt=!0,yt=0;yt<K.planes.length;yt++){for(var Bt=K.planes[yt],Xt=0,ce=0;ce<gt.length;ce++)Xt+=s.dot$1(Bt,gt[ce])>=0;if(Xt===0)return 0;Xt!==gt.length&&(rt=!1)}if(rt)return 2;for(var Ce=0;Ce<3;Ce++){for(var Ne=Number.MAX_VALUE,qe=-Number.MAX_VALUE,ur=0;ur<K.points.length;ur++){var lr=K.points[ur][Ce]-this.min[Ce];Ne=Math.min(Ne,lr),qe=Math.max(qe,lr)}if(qe<0||Ne>this.max[Ce]-this.min[Ce])return 0}return 1};var In=function(K,gt,rt,yt){if(K===void 0&&(K=0),gt===void 0&&(gt=0),rt===void 0&&(rt=0),yt===void 0&&(yt=0),isNaN(K)||K<0||isNaN(gt)||gt<0||isNaN(rt)||rt<0||isNaN(yt)||yt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=K,this.bottom=gt,this.left=rt,this.right=yt};In.prototype.interpolate=function(K,gt,rt){return gt.top!=null&&K.top!=null&&(this.top=s.number(K.top,gt.top,rt)),gt.bottom!=null&&K.bottom!=null&&(this.bottom=s.number(K.bottom,gt.bottom,rt)),gt.left!=null&&K.left!=null&&(this.left=s.number(K.left,gt.left,rt)),gt.right!=null&&K.right!=null&&(this.right=s.number(K.right,gt.right,rt)),this},In.prototype.getCenter=function(K,gt){var rt=s.clamp((this.left+K-this.right)/2,0,K),yt=s.clamp((this.top+gt-this.bottom)/2,0,gt);return new s.Point(rt,yt)},In.prototype.equals=function(K){return this.top===K.top&&this.bottom===K.bottom&&this.left===K.left&&this.right===K.right},In.prototype.clone=function(){return new In(this.top,this.bottom,this.left,this.right)},In.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var _n=function(K,gt,rt,yt,Bt){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Bt===void 0?!0:Bt,this._minZoom=K||0,this._maxZoom=gt||22,this._minPitch=rt??0,this._maxPitch=yt??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new In,this._posMatrixCache={},this._alignedPosMatrixCache={}},Jn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};_n.prototype.clone=function(){var K=new _n(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return K.tileSize=this.tileSize,K.latRange=this.latRange,K.width=this.width,K.height=this.height,K._center=this._center,K.zoom=this.zoom,K.angle=this.angle,K._fov=this._fov,K._pitch=this._pitch,K._unmodified=this._unmodified,K._edgeInsets=this._edgeInsets.clone(),K._calcMatrices(),K},Jn.minZoom.get=function(){return this._minZoom},Jn.minZoom.set=function(vt){this._minZoom!==vt&&(this._minZoom=vt,this.zoom=Math.max(this.zoom,vt))},Jn.maxZoom.get=function(){return this._maxZoom},Jn.maxZoom.set=function(vt){this._maxZoom!==vt&&(this._maxZoom=vt,this.zoom=Math.min(this.zoom,vt))},Jn.minPitch.get=function(){return this._minPitch},Jn.minPitch.set=function(vt){this._minPitch!==vt&&(this._minPitch=vt,this.pitch=Math.max(this.pitch,vt))},Jn.maxPitch.get=function(){return this._maxPitch},Jn.maxPitch.set=function(vt){this._maxPitch!==vt&&(this._maxPitch=vt,this.pitch=Math.min(this.pitch,vt))},Jn.renderWorldCopies.get=function(){return this._renderWorldCopies},Jn.renderWorldCopies.set=function(vt){vt===void 0?vt=!0:vt===null&&(vt=!1),this._renderWorldCopies=vt},Jn.worldSize.get=function(){return this.tileSize*this.scale},Jn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Jn.size.get=function(){return new s.Point(this.width,this.height)},Jn.bearing.get=function(){return-this.angle/Math.PI*180},Jn.bearing.set=function(vt){var K=-s.wrap(vt,-180,180)*Math.PI/180;this.angle!==K&&(this._unmodified=!1,this.angle=K,this._calcMatrices(),this.rotationMatrix=s.create$2(),s.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Jn.pitch.get=function(){return this._pitch/Math.PI*180},Jn.pitch.set=function(vt){var K=s.clamp(vt,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==K&&(this._unmodified=!1,this._pitch=K,this._calcMatrices())},Jn.fov.get=function(){return this._fov/Math.PI*180},Jn.fov.set=function(vt){vt=Math.max(.01,Math.min(60,vt)),this._fov!==vt&&(this._unmodified=!1,this._fov=vt/180*Math.PI,this._calcMatrices())},Jn.zoom.get=function(){return this._zoom},Jn.zoom.set=function(vt){var K=Math.min(Math.max(vt,this.minZoom),this.maxZoom);this._zoom!==K&&(this._unmodified=!1,this._zoom=K,this.scale=this.zoomScale(K),this.tileZoom=Math.floor(K),this.zoomFraction=K-this.tileZoom,this._constrain(),this._calcMatrices())},Jn.center.get=function(){return this._center},Jn.center.set=function(vt){vt.lat===this._center.lat&&vt.lng===this._center.lng||(this._unmodified=!1,this._center=vt,this._constrain(),this._calcMatrices())},Jn.padding.get=function(){return this._edgeInsets.toJSON()},Jn.padding.set=function(vt){this._edgeInsets.equals(vt)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,vt,1),this._calcMatrices())},Jn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},_n.prototype.isPaddingEqual=function(K){return this._edgeInsets.equals(K)},_n.prototype.interpolatePadding=function(K,gt,rt){this._unmodified=!1,this._edgeInsets.interpolate(K,gt,rt),this._constrain(),this._calcMatrices()},_n.prototype.coveringZoomLevel=function(K){var gt=(K.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/K.tileSize));return Math.max(0,gt)},_n.prototype.getVisibleUnwrappedCoordinates=function(K){var gt=[new s.UnwrappedTileID(0,K)];if(this._renderWorldCopies)for(var rt=this.pointCoordinate(new s.Point(0,0)),yt=this.pointCoordinate(new s.Point(this.width,0)),Bt=this.pointCoordinate(new s.Point(this.width,this.height)),Xt=this.pointCoordinate(new s.Point(0,this.height)),ce=Math.floor(Math.min(rt.x,yt.x,Bt.x,Xt.x)),Ce=Math.floor(Math.max(rt.x,yt.x,Bt.x,Xt.x)),Ne=1,qe=ce-Ne;qe<=Ce+Ne;qe++)qe!==0&&gt.push(new s.UnwrappedTileID(qe,K));return gt},_n.prototype.coveringTiles=function(K){var gt=this.coveringZoomLevel(K),rt=gt;if(K.minzoom!==void 0&&gt<K.minzoom)return[];K.maxzoom!==void 0&&gt>K.maxzoom&&(gt=K.maxzoom);var yt=s.MercatorCoordinate.fromLngLat(this.center),Bt=Math.pow(2,gt),Xt=[Bt*yt.x,Bt*yt.y,0],ce=rn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,gt),Ce=K.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Ce=gt);var Ne=3,qe=function(di){return{aabb:new bn([di*Bt,0,0],[(di+1)*Bt,Bt,0]),zoom:0,x:0,y:0,wrap:di,fullyVisible:!1}},ur=[],lr=[],Fr=gt,Zr=K.reparseOverscaled?rt:gt;if(this._renderWorldCopies)for(var Xr=1;Xr<=3;Xr++)ur.push(qe(-Xr)),ur.push(qe(Xr));for(ur.push(qe(0));ur.length>0;){var Wr=ur.pop(),Jr=Wr.x,dn=Wr.y,kn=Wr.fullyVisible;if(!kn){var Vn=Wr.aabb.intersects(ce);if(Vn===0)continue;kn=Vn===2}var Xn=Wr.aabb.distanceX(Xt),Kn=Wr.aabb.distanceY(Xt),Wn=Math.max(Math.abs(Xn),Math.abs(Kn)),Qn=Ne+(1<<Fr-Wr.zoom)-2;if(Wr.zoom===Fr||Wn>Qn&&Wr.zoom>=Ce){lr.push({tileID:new s.OverscaledTileID(Wr.zoom===Fr?Zr:Wr.zoom,Wr.wrap,Wr.zoom,Jr,dn),distanceSq:s.sqrLen([Xt[0]-.5-Jr,Xt[1]-.5-dn])});continue}for(var ii=0;ii<4;ii++){var fi=(Jr<<1)+ii%2,mi=(dn<<1)+(ii>>1);ur.push({aabb:Wr.aabb.quadrant(ii),zoom:Wr.zoom+1,x:fi,y:mi,wrap:Wr.wrap,fullyVisible:kn})}}return lr.sort(function(di,zi){return di.distanceSq-zi.distanceSq}).map(function(di){return di.tileID})},_n.prototype.resize=function(K,gt){this.width=K,this.height=gt,this.pixelsToGLUnits=[2/K,-2/gt],this._constrain(),this._calcMatrices()},Jn.unmodified.get=function(){return this._unmodified},_n.prototype.zoomScale=function(K){return Math.pow(2,K)},_n.prototype.scaleZoom=function(K){return Math.log(K)/Math.LN2},_n.prototype.project=function(K){var gt=s.clamp(K.lat,-this.maxValidLatitude,this.maxValidLatitude);return new s.Point(s.mercatorXfromLng(K.lng)*this.worldSize,s.mercatorYfromLat(gt)*this.worldSize)},_n.prototype.unproject=function(K){return new s.MercatorCoordinate(K.x/this.worldSize,K.y/this.worldSize).toLngLat()},Jn.point.get=function(){return this.project(this.center)},_n.prototype.setLocationAtPoint=function(K,gt){var rt=this.pointCoordinate(gt),yt=this.pointCoordinate(this.centerPoint),Bt=this.locationCoordinate(K),Xt=new s.MercatorCoordinate(Bt.x-(rt.x-yt.x),Bt.y-(rt.y-yt.y));this.center=this.coordinateLocation(Xt),this._renderWorldCopies&&(this.center=this.center.wrap())},_n.prototype.locationPoint=function(K){return this.coordinatePoint(this.locationCoordinate(K))},_n.prototype.pointLocation=function(K){return this.coordinateLocation(this.pointCoordinate(K))},_n.prototype.locationCoordinate=function(K){return s.MercatorCoordinate.fromLngLat(K)},_n.prototype.coordinateLocation=function(K){return K.toLngLat()},_n.prototype.pointCoordinate=function(K){var gt=0,rt=[K.x,K.y,0,1],yt=[K.x,K.y,1,1];s.transformMat4(rt,rt,this.pixelMatrixInverse),s.transformMat4(yt,yt,this.pixelMatrixInverse);var Bt=rt[3],Xt=yt[3],ce=rt[0]/Bt,Ce=yt[0]/Xt,Ne=rt[1]/Bt,qe=yt[1]/Xt,ur=rt[2]/Bt,lr=yt[2]/Xt,Fr=ur===lr?0:(gt-ur)/(lr-ur);return new s.MercatorCoordinate(s.number(ce,Ce,Fr)/this.worldSize,s.number(Ne,qe,Fr)/this.worldSize)},_n.prototype.coordinatePoint=function(K){var gt=[K.x*this.worldSize,K.y*this.worldSize,0,1];return s.transformMat4(gt,gt,this.pixelMatrix),new s.Point(gt[0]/gt[3],gt[1]/gt[3])},_n.prototype.getBounds=function(){return new s.LngLatBounds().extend(this.pointLocation(new s.Point(0,0))).extend(this.pointLocation(new s.Point(this.width,0))).extend(this.pointLocation(new s.Point(this.width,this.height))).extend(this.pointLocation(new s.Point(0,this.height)))},_n.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new s.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},_n.prototype.setMaxBounds=function(K){K?(this.lngRange=[K.getWest(),K.getEast()],this.latRange=[K.getSouth(),K.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},_n.prototype.calculatePosMatrix=function(K,gt){gt===void 0&&(gt=!1);var rt=K.key,yt=gt?this._alignedPosMatrixCache:this._posMatrixCache;if(yt[rt])return yt[rt];var Bt=K.canonical,Xt=this.worldSize/this.zoomScale(Bt.z),ce=Bt.x+Math.pow(2,Bt.z)*K.wrap,Ce=s.identity(new Float64Array(16));return s.translate(Ce,Ce,[ce*Xt,Bt.y*Xt,0]),s.scale(Ce,Ce,[Xt/s.EXTENT,Xt/s.EXTENT,1]),s.multiply(Ce,gt?this.alignedProjMatrix:this.projMatrix,Ce),yt[rt]=new Float32Array(Ce),yt[rt]},_n.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},_n.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var K=-90,gt=90,rt=-180,yt=180,Bt,Xt,ce,Ce,Ne=this.size,qe=this._unmodified;if(this.latRange){var ur=this.latRange;K=s.mercatorYfromLat(ur[1])*this.worldSize,gt=s.mercatorYfromLat(ur[0])*this.worldSize,Bt=gt-K<Ne.y?Ne.y/(gt-K):0}if(this.lngRange){var lr=this.lngRange;rt=s.mercatorXfromLng(lr[0])*this.worldSize,yt=s.mercatorXfromLng(lr[1])*this.worldSize,Xt=yt-rt<Ne.x?Ne.x/(yt-rt):0}var Fr=this.point,Zr=Math.max(Xt||0,Bt||0);if(Zr){this.center=this.unproject(new s.Point(Xt?(yt+rt)/2:Fr.x,Bt?(gt+K)/2:Fr.y)),this.zoom+=this.scaleZoom(Zr),this._unmodified=qe,this._constraining=!1;return}if(this.latRange){var Xr=Fr.y,Wr=Ne.y/2;Xr-Wr<K&&(Ce=K+Wr),Xr+Wr>gt&&(Ce=gt-Wr)}if(this.lngRange){var Jr=Fr.x,dn=Ne.x/2;Jr-dn<rt&&(ce=rt+dn),Jr+dn>yt&&(ce=yt-dn)}(ce!==void 0||Ce!==void 0)&&(this.center=this.unproject(new s.Point(ce!==void 0?ce:Fr.x,Ce!==void 0?Ce:Fr.y))),this._unmodified=qe,this._constraining=!1}},_n.prototype._calcMatrices=function(){if(this.height){var K=this._fov/2,gt=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(K)*this.height;var rt=Math.PI/2+this._pitch,yt=this._fov*(.5+gt.y/this.height),Bt=Math.sin(yt)*this.cameraToCenterDistance/Math.sin(s.clamp(Math.PI-rt-yt,.01,Math.PI-.01)),Xt=this.point,ce=Xt.x,Ce=Xt.y,Ne=Math.cos(Math.PI/2-this._pitch)*Bt+this.cameraToCenterDistance,qe=Ne*1.01,ur=this.height/50,lr=new Float64Array(16);s.perspective(lr,this._fov,this.width/this.height,ur,qe),lr[8]=-gt.x*2/this.width,lr[9]=gt.y*2/this.height,s.scale(lr,lr,[1,-1,1]),s.translate(lr,lr,[0,0,-this.cameraToCenterDistance]),s.rotateX(lr,lr,this._pitch),s.rotateZ(lr,lr,this.angle),s.translate(lr,lr,[-ce,-Ce,0]),this.mercatorMatrix=s.scale([],lr,[this.worldSize,this.worldSize,this.worldSize]),s.scale(lr,lr,[1,1,s.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=lr,this.invProjMatrix=s.invert([],this.projMatrix);var Fr=this.width%2/2,Zr=this.height%2/2,Xr=Math.cos(this.angle),Wr=Math.sin(this.angle),Jr=ce-Math.round(ce)+Xr*Fr+Wr*Zr,dn=Ce-Math.round(Ce)+Xr*Zr+Wr*Fr,kn=new Float64Array(lr);if(s.translate(kn,kn,[Jr>.5?Jr-1:Jr,dn>.5?dn-1:dn,0]),this.alignedProjMatrix=kn,lr=s.create(),s.scale(lr,lr,[this.width/2,-this.height/2,1]),s.translate(lr,lr,[1,-1,0]),this.labelPlaneMatrix=lr,lr=s.create(),s.scale(lr,lr,[1,-1,1]),s.translate(lr,lr,[-1,-1,0]),s.scale(lr,lr,[2/this.width,2/this.height,1]),this.glCoordMatrix=lr,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),lr=s.invert(new Float64Array(16),this.pixelMatrix),!lr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=lr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},_n.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var K=this.pointCoordinate(new s.Point(0,0)),gt=[K.x*this.worldSize,K.y*this.worldSize,0,1],rt=s.transformMat4(gt,gt,this.pixelMatrix);return rt[3]/this.cameraToCenterDistance},_n.prototype.getCameraPoint=function(){var K=this._pitch,gt=Math.tan(K)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.Point(0,gt))},_n.prototype.getCameraQueryGeometry=function(K){var gt=this.getCameraPoint();if(K.length===1)return[K[0],gt];for(var rt=gt.x,yt=gt.y,Bt=gt.x,Xt=gt.y,ce=0,Ce=K;ce<Ce.length;ce+=1){var Ne=Ce[ce];rt=Math.min(rt,Ne.x),yt=Math.min(yt,Ne.y),Bt=Math.max(Bt,Ne.x),Xt=Math.max(Xt,Ne.y)}return[new s.Point(rt,yt),new s.Point(Bt,yt),new s.Point(Bt,Xt),new s.Point(rt,Xt),new s.Point(rt,yt)]},Object.defineProperties(_n.prototype,Jn);function Pi(vt,K){var gt=!1,rt=null,yt=function(){rt=null,gt&&(vt(),rt=setTimeout(yt,K),gt=!1)};return function(){return gt=!0,rt||yt(),rt}}var Ii=function(K){this._hashName=K&&encodeURIComponent(K),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Pi(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ii.prototype.addTo=function(K){return this._map=K,s.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ii.prototype.remove=function(){return s.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ii.prototype.getHashString=function(K){var gt=this._map.getCenter(),rt=Math.round(this._map.getZoom()*100)/100,yt=Math.ceil((rt*Math.LN2+Math.log(512/360/.5))/Math.LN10),Bt=Math.pow(10,yt),Xt=Math.round(gt.lng*Bt)/Bt,ce=Math.round(gt.lat*Bt)/Bt,Ce=this._map.getBearing(),Ne=this._map.getPitch(),qe="";if(K?qe+="/"+Xt+"/"+ce+"/"+rt:qe+=rt+"/"+ce+"/"+Xt,(Ce||Ne)&&(qe+="/"+Math.round(Ce*10)/10),Ne&&(qe+="/"+Math.round(Ne)),this._hashName){var ur=this._hashName,lr=!1,Fr=s.window.location.hash.slice(1).split("&").map(function(Zr){var Xr=Zr.split("=")[0];return Xr===ur?(lr=!0,Xr+"="+qe):Zr}).filter(function(Zr){return Zr});return lr||Fr.push(ur+"="+qe),"#"+Fr.join("&")}return"#"+qe},Ii.prototype._getCurrentHash=function(){var K=this,gt=s.window.location.hash.replace("#","");if(this._hashName){var rt;return gt.split("&").map(function(yt){return yt.split("=")}).forEach(function(yt){yt[0]===K._hashName&&(rt=yt)}),(rt&&rt[1]||"").split("/")}return gt.split("/")},Ii.prototype._onHashChange=function(){var K=this._getCurrentHash();if(K.length>=3&&!K.some(function(rt){return isNaN(rt)})){var gt=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(K[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+K[2],+K[1]],zoom:+K[0],bearing:gt,pitch:+(K[4]||0)}),!0}return!1},Ii.prototype._updateHashUnthrottled=function(){var K=s.window.location.href.replace(/(#.+)?$/,this.getHashString());try{s.window.history.replaceState(s.window.history.state,null,K)}catch{}};var Ri={linearity:.3,easing:s.bezier(0,0,.3,1)},Fi=s.extend({deceleration:2500,maxSpeed:1400},Ri),ji=s.extend({deceleration:20,maxSpeed:1400},Ri),Aa=s.extend({deceleration:1e3,maxSpeed:360},Ri),qa=s.extend({deceleration:1e3,maxSpeed:90},Ri),ct=function(K){this._map=K,this.clear()};ct.prototype.clear=function(){this._inertiaBuffer=[]},ct.prototype.record=function(K){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.browser.now(),settings:K})},ct.prototype._drainInertiaBuffer=function(){for(var K=this._inertiaBuffer,gt=s.browser.now(),rt=160;K.length>0&&gt-K[0].time>rt;)K.shift()},ct.prototype._onMoveEnd=function(K){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var gt={zoom:0,bearing:0,pitch:0,pan:new s.Point(0,0),pinchAround:void 0,around:void 0},rt=0,yt=this._inertiaBuffer;rt<yt.length;rt+=1){var Bt=yt[rt],Xt=Bt.settings;gt.zoom+=Xt.zoomDelta||0,gt.bearing+=Xt.bearingDelta||0,gt.pitch+=Xt.pitchDelta||0,Xt.panDelta&&gt.pan._add(Xt.panDelta),Xt.around&&(gt.around=Xt.around),Xt.pinchAround&&(gt.pinchAround=Xt.pinchAround)}var ce=this._inertiaBuffer[this._inertiaBuffer.length-1],Ce=ce.time-this._inertiaBuffer[0].time,Ne={};if(gt.pan.mag()){var qe=Vt(gt.pan.mag(),Ce,s.extend({},Fi,K||{}));Ne.offset=gt.pan.mult(qe.amount/gt.pan.mag()),Ne.center=this._map.transform.center,Mt(Ne,qe)}if(gt.zoom){var ur=Vt(gt.zoom,Ce,ji);Ne.zoom=this._map.transform.zoom+ur.amount,Mt(Ne,ur)}if(gt.bearing){var lr=Vt(gt.bearing,Ce,Aa);Ne.bearing=this._map.transform.bearing+s.clamp(lr.amount,-179,179),Mt(Ne,lr)}if(gt.pitch){var Fr=Vt(gt.pitch,Ce,qa);Ne.pitch=this._map.transform.pitch+Fr.amount,Mt(Ne,Fr)}if(Ne.zoom||Ne.bearing){var Zr=gt.pinchAround===void 0?gt.around:gt.pinchAround;Ne.around=Zr?this._map.unproject(Zr):this._map.getCenter()}return this.clear(),s.extend(Ne,{noMoveStart:!0})}};function Mt(vt,K){(!vt.duration||vt.duration<K.duration)&&(vt.duration=K.duration,vt.easing=K.easing)}function Vt(vt,K,gt){var rt=gt.maxSpeed,yt=gt.linearity,Bt=gt.deceleration,Xt=s.clamp(vt*yt/(K/1e3),-rt,rt),ce=Math.abs(Xt)/(Bt*yt);return{easing:gt.easing,duration:ce*1e3,amount:Xt*(ce/2)}}var ee=function(vt){function K(rt,yt,Bt,Xt){Xt===void 0&&(Xt={});var ce=M.mousePos(yt.getCanvasContainer(),Bt),Ce=yt.unproject(ce);vt.call(this,rt,s.extend({point:ce,lngLat:Ce,originalEvent:Bt},Xt)),this._defaultPrevented=!1,this.target=yt}vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K;var gt={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},gt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,gt),K}(s.Event),ae=function(vt){function K(rt,yt,Bt){var Xt=rt==="touchend"?Bt.changedTouches:Bt.touches,ce=M.touchPos(yt.getCanvasContainer(),Xt),Ce=ce.map(function(ur){return yt.unproject(ur)}),Ne=ce.reduce(function(ur,lr,Fr,Zr){return ur.add(lr.div(Zr.length))},new s.Point(0,0)),qe=yt.unproject(Ne);vt.call(this,rt,{points:ce,point:Ne,lngLats:Ce,lngLat:qe,originalEvent:Bt}),this._defaultPrevented=!1}vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K;var gt={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},gt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,gt),K}(s.Event),he=function(vt){function K(rt,yt,Bt){vt.call(this,rt,{originalEvent:Bt}),this._defaultPrevented=!1}vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K;var gt={defaultPrevented:{configurable:!0}};return K.prototype.preventDefault=function(){this._defaultPrevented=!0},gt.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(K.prototype,gt),K}(s.Event),Ie=function(K,gt){this._map=K,this._clickTolerance=gt.clickTolerance};Ie.prototype.reset=function(){delete this._mousedownPos},Ie.prototype.wheel=function(K){return this._firePreventable(new he(K.type,this._map,K))},Ie.prototype.mousedown=function(K,gt){return this._mousedownPos=gt,this._firePreventable(new ee(K.type,this._map,K))},Ie.prototype.mouseup=function(K){this._map.fire(new ee(K.type,this._map,K))},Ie.prototype.click=function(K,gt){this._mousedownPos&&this._mousedownPos.dist(gt)>=this._clickTolerance||this._map.fire(new ee(K.type,this._map,K))},Ie.prototype.dblclick=function(K){return this._firePreventable(new ee(K.type,this._map,K))},Ie.prototype.mouseover=function(K){this._map.fire(new ee(K.type,this._map,K))},Ie.prototype.mouseout=function(K){this._map.fire(new ee(K.type,this._map,K))},Ie.prototype.touchstart=function(K){return this._firePreventable(new ae(K.type,this._map,K))},Ie.prototype.touchmove=function(K){this._map.fire(new ae(K.type,this._map,K))},Ie.prototype.touchend=function(K){this._map.fire(new ae(K.type,this._map,K))},Ie.prototype.touchcancel=function(K){this._map.fire(new ae(K.type,this._map,K))},Ie.prototype._firePreventable=function(K){if(this._map.fire(K),K.defaultPrevented)return{}},Ie.prototype.isEnabled=function(){return!0},Ie.prototype.isActive=function(){return!1},Ie.prototype.enable=function(){},Ie.prototype.disable=function(){};var Ae=function(K){this._map=K};Ae.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ae.prototype.mousemove=function(K){this._map.fire(new ee(K.type,this._map,K))},Ae.prototype.mousedown=function(){this._delayContextMenu=!0},Ae.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ee("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ae.prototype.contextmenu=function(K){this._delayContextMenu?this._contextMenuEvent=K:this._map.fire(new ee(K.type,this._map,K)),this._map.listens("contextmenu")&&K.preventDefault()},Ae.prototype.isEnabled=function(){return!0},Ae.prototype.isActive=function(){return!1},Ae.prototype.enable=function(){},Ae.prototype.disable=function(){};var Ue=function(K,gt){this._map=K,this._el=K.getCanvasContainer(),this._container=K.getContainer(),this._clickTolerance=gt.clickTolerance||1};Ue.prototype.isEnabled=function(){return!!this._enabled},Ue.prototype.isActive=function(){return!!this._active},Ue.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ue.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ue.prototype.mousedown=function(K,gt){this.isEnabled()&&K.shiftKey&&K.button===0&&(M.disableDrag(),this._startPos=this._lastPos=gt,this._active=!0)},Ue.prototype.mousemoveWindow=function(K,gt){if(this._active){var rt=gt;if(!(this._lastPos.equals(rt)||!this._box&&rt.dist(this._startPos)<this._clickTolerance)){var yt=this._startPos;this._lastPos=rt,this._box||(this._box=M.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",K));var Bt=Math.min(yt.x,rt.x),Xt=Math.max(yt.x,rt.x),ce=Math.min(yt.y,rt.y),Ce=Math.max(yt.y,rt.y);M.setTransform(this._box,"translate("+Bt+"px,"+ce+"px)"),this._box.style.width=Xt-Bt+"px",this._box.style.height=Ce-ce+"px"}}},Ue.prototype.mouseupWindow=function(K,gt){var rt=this;if(this._active&&K.button===0){var yt=this._startPos,Bt=gt;if(this.reset(),M.suppressClick(),yt.x===Bt.x&&yt.y===Bt.y)this._fireEvent("boxzoomcancel",K);else return this._map.fire(new s.Event("boxzoomend",{originalEvent:K})),{cameraAnimation:function(Xt){return Xt.fitScreenCoordinates(yt,Bt,rt._map.getBearing(),{linear:!0})}}}},Ue.prototype.keydown=function(K){this._active&&K.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",K))},Ue.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos},Ue.prototype._fireEvent=function(K,gt){return this._map.fire(new s.Event(K,{originalEvent:gt}))};function He(vt,K){for(var gt={},rt=0;rt<vt.length;rt++)gt[vt[rt].identifier]=K[rt];return gt}function ir(vt){for(var K=new s.Point(0,0),gt=0,rt=vt;gt<rt.length;gt+=1){var yt=rt[gt];K._add(yt)}return K.div(vt.length)}var Ir=500,Dr=500,Qr=30,sn=function(K){this.reset(),this.numTouches=K.numTouches};sn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},sn.prototype.touchstart=function(K,gt,rt){(this.centroid||rt.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=K.timeStamp),rt.length===this.numTouches&&(this.centroid=ir(gt),this.touches=He(rt,gt)))},sn.prototype.touchmove=function(K,gt,rt){if(!(this.aborted||!this.centroid)){var yt=He(rt,gt);for(var Bt in this.touches){var Xt=this.touches[Bt],ce=yt[Bt];(!ce||ce.dist(Xt)>Qr)&&(this.aborted=!0)}}},sn.prototype.touchend=function(K,gt,rt){if((!this.centroid||K.timeStamp-this.startTime>Dr)&&(this.aborted=!0),rt.length===0){var yt=!this.aborted&&this.centroid;if(this.reset(),yt)return yt}};var kr=function(K){this.singleTap=new sn(K),this.numTaps=K.numTaps,this.reset()};kr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},kr.prototype.touchstart=function(K,gt,rt){this.singleTap.touchstart(K,gt,rt)},kr.prototype.touchmove=function(K,gt,rt){this.singleTap.touchmove(K,gt,rt)},kr.prototype.touchend=function(K,gt,rt){var yt=this.singleTap.touchend(K,gt,rt);if(yt){var Bt=K.timeStamp-this.lastTime<Ir,Xt=!this.lastTap||this.lastTap.dist(yt)<Qr;if((!Bt||!Xt)&&this.reset(),this.count++,this.lastTime=K.timeStamp,this.lastTap=yt,this.count===this.numTaps)return this.reset(),yt}};var Hr=function(){this._zoomIn=new kr({numTouches:1,numTaps:2}),this._zoomOut=new kr({numTouches:2,numTaps:1}),this.reset()};Hr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Hr.prototype.touchstart=function(K,gt,rt){this._zoomIn.touchstart(K,gt,rt),this._zoomOut.touchstart(K,gt,rt)},Hr.prototype.touchmove=function(K,gt,rt){this._zoomIn.touchmove(K,gt,rt),this._zoomOut.touchmove(K,gt,rt)},Hr.prototype.touchend=function(K,gt,rt){var yt=this,Bt=this._zoomIn.touchend(K,gt,rt),Xt=this._zoomOut.touchend(K,gt,rt);if(Bt)return this._active=!0,K.preventDefault(),setTimeout(function(){return yt.reset()},0),{cameraAnimation:function(ce){return ce.easeTo({duration:300,zoom:ce.getZoom()+1,around:ce.unproject(Bt)},{originalEvent:K})}};if(Xt)return this._active=!0,K.preventDefault(),setTimeout(function(){return yt.reset()},0),{cameraAnimation:function(ce){return ce.easeTo({duration:300,zoom:ce.getZoom()-1,around:ce.unproject(Xt)},{originalEvent:K})}}},Hr.prototype.touchcancel=function(){this.reset()},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var Kr=0,hn=2,yn={};yn[Kr]=1,yn[hn]=2;function qr(vt,K){var gt=yn[K];return vt.buttons===void 0||(vt.buttons&gt)!==gt}var Hn=function(K){this.reset(),this._clickTolerance=K.clickTolerance||1};Hn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hn.prototype._correctButton=function(K,gt){return!1},Hn.prototype._move=function(K,gt){return{}},Hn.prototype.mousedown=function(K,gt){if(!this._lastPoint){var rt=M.mouseButton(K);this._correctButton(K,rt)&&(this._lastPoint=gt,this._eventButton=rt)}},Hn.prototype.mousemoveWindow=function(K,gt){var rt=this._lastPoint;if(rt){if(K.preventDefault(),qr(K,this._eventButton)){this.reset();return}if(!(!this._moved&&gt.dist(rt)<this._clickTolerance))return this._moved=!0,this._lastPoint=gt,this._move(rt,gt)}},Hn.prototype.mouseupWindow=function(K){if(this._lastPoint){var gt=M.mouseButton(K);gt===this._eventButton&&(this._moved&&M.suppressClick(),this.reset())}},Hn.prototype.enable=function(){this._enabled=!0},Hn.prototype.disable=function(){this._enabled=!1,this.reset()},Hn.prototype.isEnabled=function(){return this._enabled},Hn.prototype.isActive=function(){return this._active};var ri=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.mousedown=function(rt,yt){vt.prototype.mousedown.call(this,rt,yt),this._lastPoint&&(this._active=!0)},K.prototype._correctButton=function(rt,yt){return yt===Kr&&!rt.ctrlKey},K.prototype._move=function(rt,yt){return{around:yt,panDelta:yt.sub(rt)}},K}(Hn),ci=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(rt,yt){return yt===Kr&&rt.ctrlKey||yt===hn},K.prototype._move=function(rt,yt){var Bt=.8,Xt=(yt.x-rt.x)*Bt;if(Xt)return this._active=!0,{bearingDelta:Xt}},K.prototype.contextmenu=function(rt){rt.preventDefault()},K}(Hn),ti=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype._correctButton=function(rt,yt){return yt===Kr&&rt.ctrlKey||yt===hn},K.prototype._move=function(rt,yt){var Bt=-.5,Xt=(yt.y-rt.y)*Bt;if(Xt)return this._active=!0,{pitchDelta:Xt}},K.prototype.contextmenu=function(rt){rt.preventDefault()},K}(Hn),li=function(K){this._minTouches=1,this._clickTolerance=K.clickTolerance||1,this.reset()};li.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new s.Point(0,0)},li.prototype.touchstart=function(K,gt,rt){return this._calculateTransform(K,gt,rt)},li.prototype.touchmove=function(K,gt,rt){if(!(!this._active||rt.length<this._minTouches))return K.preventDefault(),this._calculateTransform(K,gt,rt)},li.prototype.touchend=function(K,gt,rt){this._calculateTransform(K,gt,rt),this._active&&rt.length<this._minTouches&&this.reset()},li.prototype.touchcancel=function(){this.reset()},li.prototype._calculateTransform=function(K,gt,rt){rt.length>0&&(this._active=!0);var yt=He(rt,gt),Bt=new s.Point(0,0),Xt=new s.Point(0,0),ce=0;for(var Ce in yt){var Ne=yt[Ce],qe=this._touches[Ce];qe&&(Bt._add(Ne),Xt._add(Ne.sub(qe)),ce++,yt[Ce]=Ne)}if(this._touches=yt,!(ce<this._minTouches||!Xt.mag())){var ur=Xt.div(ce);if(this._sum._add(ur),!(this._sum.mag()<this._clickTolerance)){var lr=Bt.div(ce);return{around:lr,panDelta:ur}}}},li.prototype.enable=function(){this._enabled=!0},li.prototype.disable=function(){this._enabled=!1,this.reset()},li.prototype.isEnabled=function(){return this._enabled},li.prototype.isActive=function(){return this._active};var hi=function(){this.reset()};hi.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},hi.prototype._start=function(K){},hi.prototype._move=function(K,gt,rt){return{}},hi.prototype.touchstart=function(K,gt,rt){this._firstTwoTouches||rt.length<2||(this._firstTwoTouches=[rt[0].identifier,rt[1].identifier],this._start([gt[0],gt[1]]))},hi.prototype.touchmove=function(K,gt,rt){if(this._firstTwoTouches){K.preventDefault();var yt=this._firstTwoTouches,Bt=yt[0],Xt=yt[1],ce=Bi(rt,gt,Bt),Ce=Bi(rt,gt,Xt);if(!(!ce||!Ce)){var Ne=this._aroundCenter?null:ce.add(Ce).div(2);return this._move([ce,Ce],Ne,K)}}},hi.prototype.touchend=function(K,gt,rt){if(this._firstTwoTouches){var yt=this._firstTwoTouches,Bt=yt[0],Xt=yt[1],ce=Bi(rt,gt,Bt),Ce=Bi(rt,gt,Xt);ce&&Ce||(this._active&&M.suppressClick(),this.reset())}},hi.prototype.touchcancel=function(){this.reset()},hi.prototype.enable=function(K){this._enabled=!0,this._aroundCenter=!!K&&K.around==="center"},hi.prototype.disable=function(){this._enabled=!1,this.reset()},hi.prototype.isEnabled=function(){return this._enabled},hi.prototype.isActive=function(){return this._active};function Bi(vt,K,gt){for(var rt=0;rt<vt.length;rt++)if(vt[rt].identifier===gt)return K[rt]}var Mi=.1;function ki(vt,K){return Math.log(vt/K)/Math.LN2}var ha=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.reset=function(){vt.prototype.reset.call(this),delete this._distance,delete this._startDistance},K.prototype._start=function(rt){this._startDistance=this._distance=rt[0].dist(rt[1])},K.prototype._move=function(rt,yt){var Bt=this._distance;if(this._distance=rt[0].dist(rt[1]),!(!this._active&&Math.abs(ki(this._distance,this._startDistance))<Mi))return this._active=!0,{zoomDelta:ki(this._distance,Bt),pinchAround:yt}},K}(hi),eo=25;function xa(vt,K){return vt.angleWith(K)*180/Math.PI}var qn=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.reset=function(){vt.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},K.prototype._start=function(rt){this._startVector=this._vector=rt[0].sub(rt[1]),this._minDiameter=rt[0].dist(rt[1])},K.prototype._move=function(rt,yt){var Bt=this._vector;if(this._vector=rt[0].sub(rt[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:xa(this._vector,Bt),pinchAround:yt}},K.prototype._isBelowThreshold=function(rt){this._minDiameter=Math.min(this._minDiameter,rt.mag());var yt=Math.PI*this._minDiameter,Bt=eo/yt*360,Xt=xa(rt,this._startVector);return Math.abs(Xt)<Bt},K}(hi);function Ui(vt){return Math.abs(vt.y)>Math.abs(vt.x)}var Ai=100,Xi=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.reset=function(){vt.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},K.prototype._start=function(rt){this._lastPoints=rt,Ui(rt[0].sub(rt[1]))&&(this._valid=!1)},K.prototype._move=function(rt,yt,Bt){var Xt=rt[0].sub(this._lastPoints[0]),ce=rt[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Xt,ce,Bt.timeStamp),!!this._valid){this._lastPoints=rt,this._active=!0;var Ce=(Xt.y+ce.y)/2,Ne=-.5;return{pitchDelta:Ce*Ne}}},K.prototype.gestureBeginsVertically=function(rt,yt,Bt){if(this._valid!==void 0)return this._valid;var Xt=2,ce=rt.mag()>=Xt,Ce=yt.mag()>=Xt;if(!(!ce&&!Ce)){if(!ce||!Ce)return this._firstMove===void 0&&(this._firstMove=Bt),Bt-this._firstMove<Ai?void 0:!1;var Ne=rt.y>0==yt.y>0;return Ui(rt)&&Ui(yt)&&Ne}},K}(hi),Ra={panStep:100,bearingStep:15,pitchStep:10},va=function(){var K=Ra;this._panStep=K.panStep,this._bearingStep=K.bearingStep,this._pitchStep=K.pitchStep,this._rotationDisabled=!1};va.prototype.reset=function(){this._active=!1},va.prototype.keydown=function(K){var gt=this;if(!(K.altKey||K.ctrlKey||K.metaKey)){var rt=0,yt=0,Bt=0,Xt=0,ce=0;switch(K.keyCode){case 61:case 107:case 171:case 187:rt=1;break;case 189:case 109:case 173:rt=-1;break;case 37:K.shiftKey?yt=-1:(K.preventDefault(),Xt=-1);break;case 39:K.shiftKey?yt=1:(K.preventDefault(),Xt=1);break;case 38:K.shiftKey?Bt=1:(K.preventDefault(),ce=-1);break;case 40:K.shiftKey?Bt=-1:(K.preventDefault(),ce=1);break;default:return}return this._rotationDisabled&&(yt=0,Bt=0),{cameraAnimation:function(Ce){var Ne=Ce.getZoom();Ce.easeTo({duration:300,easeId:"keyboardHandler",easing:wo,zoom:rt?Math.round(Ne)+rt*(K.shiftKey?2:1):Ne,bearing:Ce.getBearing()+yt*gt._bearingStep,pitch:Ce.getPitch()+Bt*gt._pitchStep,offset:[-Xt*gt._panStep,-ce*gt._panStep],center:Ce.getCenter()},{originalEvent:K})}}}},va.prototype.enable=function(){this._enabled=!0},va.prototype.disable=function(){this._enabled=!1,this.reset()},va.prototype.isEnabled=function(){return this._enabled},va.prototype.isActive=function(){return this._active},va.prototype.disableRotation=function(){this._rotationDisabled=!0},va.prototype.enableRotation=function(){this._rotationDisabled=!1};function wo(vt){return vt*(2-vt)}var To=4.000244140625,Co=1/100,_a=1/450,Vo=2,ui=function(K,gt){this._map=K,this._el=K.getCanvasContainer(),this._handler=gt,this._delta=0,this._defaultZoomRate=Co,this._wheelZoomRate=_a,s.bindAll(["_onTimeout"],this)};ui.prototype.setZoomRate=function(K){this._defaultZoomRate=K},ui.prototype.setWheelZoomRate=function(K){this._wheelZoomRate=K},ui.prototype.isEnabled=function(){return!!this._enabled},ui.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ui.prototype.isZooming=function(){return!!this._zooming},ui.prototype.enable=function(K){this.isEnabled()||(this._enabled=!0,this._aroundCenter=K&&K.around==="center")},ui.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ui.prototype.wheel=function(K){if(this.isEnabled()){var gt=K.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?K.deltaY*40:K.deltaY,rt=s.browser.now(),yt=rt-(this._lastWheelEventTime||0);this._lastWheelEventTime=rt,gt!==0&&gt%To===0?this._type="wheel":gt!==0&&Math.abs(gt)<4?this._type="trackpad":yt>400?(this._type=null,this._lastValue=gt,this._timeout=setTimeout(this._onTimeout,40,K)):this._type||(this._type=Math.abs(yt*gt)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,gt+=this._lastValue)),K.shiftKey&&gt&&(gt=gt/4),this._type&&(this._lastWheelEvent=K,this._delta-=gt,this._active||this._start(K)),K.preventDefault()}},ui.prototype._onTimeout=function(K){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(K)},ui.prototype._start=function(K){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var gt=M.mousePos(this._el,K);this._around=s.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(gt)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ui.prototype.renderFrame=function(){var K=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var gt=this._map.transform;if(this._delta!==0){var rt=this._type==="wheel"&&Math.abs(this._delta)>To?this._wheelZoomRate:this._defaultZoomRate,yt=Vo/(1+Math.exp(-Math.abs(this._delta*rt)));this._delta<0&&yt!==0&&(yt=1/yt);var Bt=typeof this._targetZoom=="number"?gt.zoomScale(this._targetZoom):gt.scale;this._targetZoom=Math.min(gt.maxZoom,Math.max(gt.minZoom,gt.scaleZoom(Bt*yt))),this._type==="wheel"&&(this._startZoom=gt.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Xt=typeof this._targetZoom=="number"?this._targetZoom:gt.zoom,ce=this._startZoom,Ce=this._easing,Ne=!1,qe;if(this._type==="wheel"&&ce&&Ce){var ur=Math.min((s.browser.now()-this._lastWheelEventTime)/200,1),lr=Ce(ur);qe=s.number(ce,Xt,lr),ur<1?this._frameId||(this._frameId=!0):Ne=!0}else qe=Xt,Ne=!0;return this._active=!0,Ne&&(this._active=!1,this._finishTimeout=setTimeout(function(){K._zooming=!1,K._handler._triggerRenderFrame(),delete K._targetZoom,delete K._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ne,zoomDelta:qe-gt.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ui.prototype._smoothOutEasing=function(K){var gt=s.ease;if(this._prevEase){var rt=this._prevEase,yt=(s.browser.now()-rt.start)/rt.duration,Bt=rt.easing(yt+.01)-rt.easing(yt),Xt=.27/Math.sqrt(Bt*Bt+1e-4)*.01,ce=Math.sqrt(.27*.27-Xt*Xt);gt=s.bezier(Xt,ce,.25,1)}return this._prevEase={start:s.browser.now(),duration:K,easing:gt},gt},ui.prototype.reset=function(){this._active=!1};var Ci=function(K,gt){this._clickZoom=K,this._tapZoom=gt};Ci.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ci.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ci.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ci.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var rs=function(){this.reset()};rs.prototype.reset=function(){this._active=!1},rs.prototype.dblclick=function(K,gt){return K.preventDefault(),{cameraAnimation:function(rt){rt.easeTo({duration:300,zoom:rt.getZoom()+(K.shiftKey?-1:1),around:rt.unproject(gt)},{originalEvent:K})}}},rs.prototype.enable=function(){this._enabled=!0},rs.prototype.disable=function(){this._enabled=!1,this.reset()},rs.prototype.isEnabled=function(){return this._enabled},rs.prototype.isActive=function(){return this._active};var ls=function(){this._tap=new kr({numTouches:1,numTaps:1}),this.reset()};ls.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ls.prototype.touchstart=function(K,gt,rt){this._swipePoint||(this._tapTime&&K.timeStamp-this._tapTime>Ir&&this.reset(),this._tapTime?rt.length>0&&(this._swipePoint=gt[0],this._swipeTouch=rt[0].identifier):this._tap.touchstart(K,gt,rt))},ls.prototype.touchmove=function(K,gt,rt){if(!this._tapTime)this._tap.touchmove(K,gt,rt);else if(this._swipePoint){if(rt[0].identifier!==this._swipeTouch)return;var yt=gt[0],Bt=yt.y-this._swipePoint.y;return this._swipePoint=yt,K.preventDefault(),this._active=!0,{zoomDelta:Bt/128}}},ls.prototype.touchend=function(K,gt,rt){if(this._tapTime)this._swipePoint&&rt.length===0&&this.reset();else{var yt=this._tap.touchend(K,gt,rt);yt&&(this._tapTime=K.timeStamp)}},ls.prototype.touchcancel=function(){this.reset()},ls.prototype.enable=function(){this._enabled=!0},ls.prototype.disable=function(){this._enabled=!1,this.reset()},ls.prototype.isEnabled=function(){return this._enabled},ls.prototype.isActive=function(){return this._active};var Lo=function(K,gt,rt){this._el=K,this._mousePan=gt,this._touchPan=rt};Lo.prototype.enable=function(K){this._inertiaOptions=K||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Lo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Lo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Lo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var wa=function(K,gt,rt){this._pitchWithRotate=K.pitchWithRotate,this._mouseRotate=gt,this._mousePitch=rt};wa.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},wa.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},wa.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},wa.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var co=function(K,gt,rt,yt){this._el=K,this._touchZoom=gt,this._touchRotate=rt,this._tapDragZoom=yt,this._rotationDisabled=!1,this._enabled=!0};co.prototype.enable=function(K){this._touchZoom.enable(K),this._rotationDisabled||this._touchRotate.enable(K),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},co.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},co.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},co.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},co.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},co.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var io=function(vt){return vt.zoom||vt.drag||vt.pitch||vt.rotate},Hs=function(vt){function K(){vt.apply(this,arguments)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K}(s.Event);function ol(vt){return vt.panDelta&&vt.panDelta.mag()||vt.zoomDelta||vt.bearingDelta||vt.pitchDelta}var Va=function(K,gt){this._map=K,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ct(K),this._bearingSnap=gt.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(gt),s.bindAll(["handleEvent","handleWindowEvent"],this);var rt=this._el;this._listeners=[[rt,"touchstart",{passive:!0}],[rt,"touchmove",{passive:!1}],[rt,"touchend",void 0],[rt,"touchcancel",void 0],[rt,"mousedown",void 0],[rt,"mousemove",void 0],[rt,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[rt,"mouseover",void 0],[rt,"mouseout",void 0],[rt,"dblclick",void 0],[rt,"click",void 0],[rt,"keydown",{capture:!1}],[rt,"keyup",void 0],[rt,"wheel",{passive:!1}],[rt,"contextmenu",void 0],[s.window,"blur",void 0]];for(var yt=0,Bt=this._listeners;yt<Bt.length;yt+=1){var Xt=Bt[yt],ce=Xt[0],Ce=Xt[1],Ne=Xt[2];M.addEventListener(ce,Ce,ce===s.window.document?this.handleWindowEvent:this.handleEvent,Ne)}};Va.prototype.destroy=function(){for(var K=0,gt=this._listeners;K<gt.length;K+=1){var rt=gt[K],yt=rt[0],Bt=rt[1],Xt=rt[2];M.removeEventListener(yt,Bt,yt===s.window.document?this.handleWindowEvent:this.handleEvent,Xt)}},Va.prototype._addDefaultHandlers=function(K){var gt=this._map,rt=gt.getCanvasContainer();this._add("mapEvent",new Ie(gt,K));var yt=gt.boxZoom=new Ue(gt,K);this._add("boxZoom",yt);var Bt=new Hr,Xt=new rs;gt.doubleClickZoom=new Ci(Xt,Bt),this._add("tapZoom",Bt),this._add("clickZoom",Xt);var ce=new ls;this._add("tapDragZoom",ce);var Ce=gt.touchPitch=new Xi;this._add("touchPitch",Ce);var Ne=new ci(K),qe=new ti(K);gt.dragRotate=new wa(K,Ne,qe),this._add("mouseRotate",Ne,["mousePitch"]),this._add("mousePitch",qe,["mouseRotate"]);var ur=new ri(K),lr=new li(K);gt.dragPan=new Lo(rt,ur,lr),this._add("mousePan",ur),this._add("touchPan",lr,["touchZoom","touchRotate"]);var Fr=new qn,Zr=new ha;gt.touchZoomRotate=new co(rt,Zr,Fr,ce),this._add("touchRotate",Fr,["touchPan","touchZoom"]),this._add("touchZoom",Zr,["touchPan","touchRotate"]);var Xr=gt.scrollZoom=new ui(gt,this);this._add("scrollZoom",Xr,["mousePan"]);var Wr=gt.keyboard=new va;this._add("keyboard",Wr),this._add("blockableMapEvent",new Ae(gt));for(var Jr=0,dn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Jr<dn.length;Jr+=1){var kn=dn[Jr];K.interactive&&K[kn]&&gt[kn].enable(K[kn])}},Va.prototype._add=function(K,gt,rt){this._handlers.push({handlerName:K,handler:gt,allowed:rt}),this._handlersById[K]=gt},Va.prototype.stop=function(K){if(!this._updatingCamera){for(var gt=0,rt=this._handlers;gt<rt.length;gt+=1){var yt=rt[gt],Bt=yt.handler;Bt.reset()}this._inertia.clear(),this._fireEvents({},{},K),this._changes=[]}},Va.prototype.isActive=function(){for(var K=0,gt=this._handlers;K<gt.length;K+=1){var rt=gt[K],yt=rt.handler;if(yt.isActive())return!0}return!1},Va.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Va.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Va.prototype.isMoving=function(){return!!io(this._eventsInProgress)||this.isZooming()},Va.prototype._blockedByActive=function(K,gt,rt){for(var yt in K)if(yt!==rt&&(!gt||gt.indexOf(yt)<0))return!0;return!1},Va.prototype.handleWindowEvent=function(K){this.handleEvent(K,K.type+"Window")},Va.prototype._getMapTouches=function(K){for(var gt=[],rt=0,yt=K;rt<yt.length;rt+=1){var Bt=yt[rt],Xt=Bt.target;this._el.contains(Xt)&&gt.push(Bt)}return gt},Va.prototype.handleEvent=function(K,gt){if(K.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var rt=K.type==="renderFrame"?void 0:K,yt={needsRenderFrame:!1},Bt={},Xt={},ce=K.touches?this._getMapTouches(K.touches):void 0,Ce=ce?M.touchPos(this._el,ce):M.mousePos(this._el,K),Ne=0,qe=this._handlers;Ne<qe.length;Ne+=1){var ur=qe[Ne],lr=ur.handlerName,Fr=ur.handler,Zr=ur.allowed;if(Fr.isEnabled()){var Xr=void 0;this._blockedByActive(Xt,Zr,lr)?Fr.reset():Fr[gt||K.type]&&(Xr=Fr[gt||K.type](K,Ce,ce),this.mergeHandlerResult(yt,Bt,Xr,lr,rt),Xr&&Xr.needsRenderFrame&&this._triggerRenderFrame()),(Xr||Fr.isActive())&&(Xt[lr]=Fr)}}var Wr={};for(var Jr in this._previousActiveHandlers)Xt[Jr]||(Wr[Jr]=rt);this._previousActiveHandlers=Xt,(Object.keys(Wr).length||ol(yt))&&(this._changes.push([yt,Bt,Wr]),this._triggerRenderFrame()),(Object.keys(Xt).length||ol(yt))&&this._map._stop(!0),this._updatingCamera=!1;var dn=yt.cameraAnimation;dn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],dn(this._map))},Va.prototype.mergeHandlerResult=function(K,gt,rt,yt,Bt){if(rt){s.extend(K,rt);var Xt={handlerName:yt,originalEvent:rt.originalEvent||Bt};rt.zoomDelta!==void 0&&(gt.zoom=Xt),rt.panDelta!==void 0&&(gt.drag=Xt),rt.pitchDelta!==void 0&&(gt.pitch=Xt),rt.bearingDelta!==void 0&&(gt.rotate=Xt)}},Va.prototype._applyChanges=function(){for(var K={},gt={},rt={},yt=0,Bt=this._changes;yt<Bt.length;yt+=1){var Xt=Bt[yt],ce=Xt[0],Ce=Xt[1],Ne=Xt[2];ce.panDelta&&(K.panDelta=(K.panDelta||new s.Point(0,0))._add(ce.panDelta)),ce.zoomDelta&&(K.zoomDelta=(K.zoomDelta||0)+ce.zoomDelta),ce.bearingDelta&&(K.bearingDelta=(K.bearingDelta||0)+ce.bearingDelta),ce.pitchDelta&&(K.pitchDelta=(K.pitchDelta||0)+ce.pitchDelta),ce.around!==void 0&&(K.around=ce.around),ce.pinchAround!==void 0&&(K.pinchAround=ce.pinchAround),ce.noInertia&&(K.noInertia=ce.noInertia),s.extend(gt,Ce),s.extend(rt,Ne)}this._updateMapTransform(K,gt,rt),this._changes=[]},Va.prototype._updateMapTransform=function(K,gt,rt){var yt=this._map,Bt=yt.transform;if(!ol(K))return this._fireEvents(gt,rt,!0);var Xt=K.panDelta,ce=K.zoomDelta,Ce=K.bearingDelta,Ne=K.pitchDelta,qe=K.around,ur=K.pinchAround;ur!==void 0&&(qe=ur),yt._stop(!0),qe=qe||yt.transform.centerPoint;var lr=Bt.pointLocation(Xt?qe.sub(Xt):qe);Ce&&(Bt.bearing+=Ce),Ne&&(Bt.pitch+=Ne),ce&&(Bt.zoom+=ce),Bt.setLocationAtPoint(lr,qe),this._map._update(),K.noInertia||this._inertia.record(K),this._fireEvents(gt,rt,!0)},Va.prototype._fireEvents=function(K,gt,rt){var yt=this,Bt=io(this._eventsInProgress),Xt=io(K),ce={};for(var Ce in K){var Ne=K[Ce],qe=Ne.originalEvent;this._eventsInProgress[Ce]||(ce[Ce+"start"]=qe),this._eventsInProgress[Ce]=K[Ce]}!Bt&&Xt&&this._fireEvent("movestart",Xt.originalEvent);for(var ur in ce)this._fireEvent(ur,ce[ur]);Xt&&this._fireEvent("move",Xt.originalEvent);for(var lr in K){var Fr=K[lr],Zr=Fr.originalEvent;this._fireEvent(lr,Zr)}var Xr={},Wr;for(var Jr in this._eventsInProgress){var dn=this._eventsInProgress[Jr],kn=dn.handlerName,Vn=dn.originalEvent;this._handlersById[kn].isActive()||(delete this._eventsInProgress[Jr],Wr=gt[kn]||Vn,Xr[Jr+"end"]=Wr)}for(var Xn in Xr)this._fireEvent(Xn,Xr[Xn]);var Kn=io(this._eventsInProgress);if(rt&&(Bt||Xt)&&!Kn){this._updatingCamera=!0;var Wn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Qn=function(ii){return ii!==0&&-yt._bearingSnap<ii&&ii<yt._bearingSnap};Wn?(Qn(Wn.bearing||this._map.getBearing())&&(Wn.bearing=0),this._map.easeTo(Wn,{originalEvent:Wr})):(this._map.fire(new s.Event("moveend",{originalEvent:Wr})),Qn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Va.prototype._fireEvent=function(K,gt){this._map.fire(new s.Event(K,gt?{originalEvent:gt}:{}))},Va.prototype._requestFrame=function(){var K=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(gt){delete K._frameId,K.handleEvent(new Hs("renderFrame",{timeStamp:gt})),K._applyChanges()})},Va.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var ku=function(vt){function K(gt,rt){vt.call(this),this._moving=!1,this._zooming=!1,this.transform=gt,this._bearingSnap=rt.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.getCenter=function(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)},K.prototype.setCenter=function(rt,yt){return this.jumpTo({center:rt},yt)},K.prototype.panBy=function(rt,yt,Bt){return rt=s.Point.convert(rt).mult(-1),this.panTo(this.transform.center,s.extend({offset:rt},yt),Bt)},K.prototype.panTo=function(rt,yt,Bt){return this.easeTo(s.extend({center:rt},yt),Bt)},K.prototype.getZoom=function(){return this.transform.zoom},K.prototype.setZoom=function(rt,yt){return this.jumpTo({zoom:rt},yt),this},K.prototype.zoomTo=function(rt,yt,Bt){return this.easeTo(s.extend({zoom:rt},yt),Bt)},K.prototype.zoomIn=function(rt,yt){return this.zoomTo(this.getZoom()+1,rt,yt),this},K.prototype.zoomOut=function(rt,yt){return this.zoomTo(this.getZoom()-1,rt,yt),this},K.prototype.getBearing=function(){return this.transform.bearing},K.prototype.setBearing=function(rt,yt){return this.jumpTo({bearing:rt},yt),this},K.prototype.getPadding=function(){return this.transform.padding},K.prototype.setPadding=function(rt,yt){return this.jumpTo({padding:rt},yt),this},K.prototype.rotateTo=function(rt,yt,Bt){return this.easeTo(s.extend({bearing:rt},yt),Bt)},K.prototype.resetNorth=function(rt,yt){return this.rotateTo(0,s.extend({duration:1e3},rt),yt),this},K.prototype.resetNorthPitch=function(rt,yt){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},rt),yt),this},K.prototype.snapToNorth=function(rt,yt){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(rt,yt):this},K.prototype.getPitch=function(){return this.transform.pitch},K.prototype.setPitch=function(rt,yt){return this.jumpTo({pitch:rt},yt),this},K.prototype.cameraForBounds=function(rt,yt){rt=s.LngLatBounds.convert(rt);var Bt=yt&&yt.bearing||0;return this._cameraForBoxAndBearing(rt.getNorthWest(),rt.getSouthEast(),Bt,yt)},K.prototype._cameraForBoxAndBearing=function(rt,yt,Bt,Xt){var ce={top:0,bottom:0,right:0,left:0};if(Xt=s.extend({padding:ce,offset:[0,0],maxZoom:this.transform.maxZoom},Xt),typeof Xt.padding=="number"){var Ce=Xt.padding;Xt.padding={top:Ce,bottom:Ce,right:Ce,left:Ce}}Xt.padding=s.extend(ce,Xt.padding);var Ne=this.transform,qe=Ne.padding,ur=Ne.project(s.LngLat.convert(rt)),lr=Ne.project(s.LngLat.convert(yt)),Fr=ur.rotate(-Bt*Math.PI/180),Zr=lr.rotate(-Bt*Math.PI/180),Xr=new s.Point(Math.max(Fr.x,Zr.x),Math.max(Fr.y,Zr.y)),Wr=new s.Point(Math.min(Fr.x,Zr.x),Math.min(Fr.y,Zr.y)),Jr=Xr.sub(Wr),dn=(Ne.width-(qe.left+qe.right+Xt.padding.left+Xt.padding.right))/Jr.x,kn=(Ne.height-(qe.top+qe.bottom+Xt.padding.top+Xt.padding.bottom))/Jr.y;if(kn<0||dn<0){s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Vn=Math.min(Ne.scaleZoom(Ne.scale*Math.min(dn,kn)),Xt.maxZoom),Xn=typeof Xt.offset.x=="number"?new s.Point(Xt.offset.x,Xt.offset.y):s.Point.convert(Xt.offset),Kn=(Xt.padding.left-Xt.padding.right)/2,Wn=(Xt.padding.top-Xt.padding.bottom)/2,Qn=new s.Point(Kn,Wn),ii=Qn.rotate(Bt*Math.PI/180),fi=Xn.add(ii),mi=fi.mult(Ne.scale/Ne.zoomScale(Vn)),di=Ne.unproject(ur.add(lr).div(2).sub(mi));return{center:di,zoom:Vn,bearing:Bt}},K.prototype.fitBounds=function(rt,yt,Bt){return this._fitInternal(this.cameraForBounds(rt,yt),yt,Bt)},K.prototype.fitScreenCoordinates=function(rt,yt,Bt,Xt,ce){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.Point.convert(rt)),this.transform.pointLocation(s.Point.convert(yt)),Bt,Xt),Xt,ce)},K.prototype._fitInternal=function(rt,yt,Bt){return rt?(yt=s.extend(rt,yt),delete yt.padding,yt.linear?this.easeTo(yt,Bt):this.flyTo(yt,Bt)):this},K.prototype.jumpTo=function(rt,yt){this.stop();var Bt=this.transform,Xt=!1,ce=!1,Ce=!1;return"zoom"in rt&&Bt.zoom!==+rt.zoom&&(Xt=!0,Bt.zoom=+rt.zoom),rt.center!==void 0&&(Bt.center=s.LngLat.convert(rt.center)),"bearing"in rt&&Bt.bearing!==+rt.bearing&&(ce=!0,Bt.bearing=+rt.bearing),"pitch"in rt&&Bt.pitch!==+rt.pitch&&(Ce=!0,Bt.pitch=+rt.pitch),rt.padding!=null&&!Bt.isPaddingEqual(rt.padding)&&(Bt.padding=rt.padding),this.fire(new s.Event("movestart",yt)).fire(new s.Event("move",yt)),Xt&&this.fire(new s.Event("zoomstart",yt)).fire(new s.Event("zoom",yt)).fire(new s.Event("zoomend",yt)),ce&&this.fire(new s.Event("rotatestart",yt)).fire(new s.Event("rotate",yt)).fire(new s.Event("rotateend",yt)),Ce&&this.fire(new s.Event("pitchstart",yt)).fire(new s.Event("pitch",yt)).fire(new s.Event("pitchend",yt)),this.fire(new s.Event("moveend",yt))},K.prototype.easeTo=function(rt,yt){var Bt=this;this._stop(!1,rt.easeId),rt=s.extend({offset:[0,0],duration:500,easing:s.ease},rt),(rt.animate===!1||!rt.essential&&s.browser.prefersReducedMotion)&&(rt.duration=0);var Xt=this.transform,ce=this.getZoom(),Ce=this.getBearing(),Ne=this.getPitch(),qe=this.getPadding(),ur="zoom"in rt?+rt.zoom:ce,lr="bearing"in rt?this._normalizeBearing(rt.bearing,Ce):Ce,Fr="pitch"in rt?+rt.pitch:Ne,Zr="padding"in rt?rt.padding:Xt.padding,Xr=s.Point.convert(rt.offset),Wr=Xt.centerPoint.add(Xr),Jr=Xt.pointLocation(Wr),dn=s.LngLat.convert(rt.center||Jr);this._normalizeCenter(dn);var kn=Xt.project(Jr),Vn=Xt.project(dn).sub(kn),Xn=Xt.zoomScale(ur-ce),Kn,Wn;rt.around&&(Kn=s.LngLat.convert(rt.around),Wn=Xt.locationPoint(Kn));var Qn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ur!==ce,this._rotating=this._rotating||Ce!==lr,this._pitching=this._pitching||Fr!==Ne,this._padding=!Xt.isPaddingEqual(Zr),this._easeId=rt.easeId,this._prepareEase(yt,rt.noMoveStart,Qn),this._ease(function(ii){if(Bt._zooming&&(Xt.zoom=s.number(ce,ur,ii)),Bt._rotating&&(Xt.bearing=s.number(Ce,lr,ii)),Bt._pitching&&(Xt.pitch=s.number(Ne,Fr,ii)),Bt._padding&&(Xt.interpolatePadding(qe,Zr,ii),Wr=Xt.centerPoint.add(Xr)),Kn)Xt.setLocationAtPoint(Kn,Wn);else{var fi=Xt.zoomScale(Xt.zoom-ce),mi=ur>ce?Math.min(2,Xn):Math.max(.5,Xn),di=Math.pow(mi,1-ii),zi=Xt.unproject(kn.add(Vn.mult(ii*di)).mult(fi));Xt.setLocationAtPoint(Xt.renderWorldCopies?zi.wrap():zi,Wr)}Bt._fireMoveEvents(yt)},function(ii){Bt._afterEase(yt,ii)},rt),this},K.prototype._prepareEase=function(rt,yt,Bt){Bt===void 0&&(Bt={}),this._moving=!0,!yt&&!Bt.moving&&this.fire(new s.Event("movestart",rt)),this._zooming&&!Bt.zooming&&this.fire(new s.Event("zoomstart",rt)),this._rotating&&!Bt.rotating&&this.fire(new s.Event("rotatestart",rt)),this._pitching&&!Bt.pitching&&this.fire(new s.Event("pitchstart",rt))},K.prototype._fireMoveEvents=function(rt){this.fire(new s.Event("move",rt)),this._zooming&&this.fire(new s.Event("zoom",rt)),this._rotating&&this.fire(new s.Event("rotate",rt)),this._pitching&&this.fire(new s.Event("pitch",rt))},K.prototype._afterEase=function(rt,yt){if(!(this._easeId&&yt&&this._easeId===yt)){delete this._easeId;var Bt=this._zooming,Xt=this._rotating,ce=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Bt&&this.fire(new s.Event("zoomend",rt)),Xt&&this.fire(new s.Event("rotateend",rt)),ce&&this.fire(new s.Event("pitchend",rt)),this.fire(new s.Event("moveend",rt))}},K.prototype.flyTo=function(rt,yt){var Bt=this;if(!rt.essential&&s.browser.prefersReducedMotion){var Xt=s.pick(rt,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xt,yt)}this.stop(),rt=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},rt);var ce=this.transform,Ce=this.getZoom(),Ne=this.getBearing(),qe=this.getPitch(),ur=this.getPadding(),lr="zoom"in rt?s.clamp(+rt.zoom,ce.minZoom,ce.maxZoom):Ce,Fr="bearing"in rt?this._normalizeBearing(rt.bearing,Ne):Ne,Zr="pitch"in rt?+rt.pitch:qe,Xr="padding"in rt?rt.padding:ce.padding,Wr=ce.zoomScale(lr-Ce),Jr=s.Point.convert(rt.offset),dn=ce.centerPoint.add(Jr),kn=ce.pointLocation(dn),Vn=s.LngLat.convert(rt.center||kn);this._normalizeCenter(Vn);var Xn=ce.project(kn),Kn=ce.project(Vn).sub(Xn),Wn=rt.curve,Qn=Math.max(ce.width,ce.height),ii=Qn/Wr,fi=Kn.mag();if("minZoom"in rt){var mi=s.clamp(Math.min(rt.minZoom,Ce,lr),ce.minZoom,ce.maxZoom),di=Qn/ce.zoomScale(mi-Ce);Wn=Math.sqrt(di/fi*2)}var zi=Wn*Wn;function Qi(Hi){var na=(ii*ii-Qn*Qn+(Hi?-1:1)*zi*zi*fi*fi)/(2*(Hi?ii:Qn)*zi*fi);return Math.log(Math.sqrt(na*na+1)-na)}function Wi(Hi){return(Math.exp(Hi)-Math.exp(-Hi))/2}function Si(Hi){return(Math.exp(Hi)+Math.exp(-Hi))/2}function Yi(Hi){return Wi(Hi)/Si(Hi)}var Vi=Qi(0),da=function(Hi){return Si(Vi)/Si(Vi+Wn*Hi)},ua=function(Hi){return Qn*((Si(Vi)*Yi(Vi+Wn*Hi)-Wi(Vi))/zi)/fi},za=(Qi(1)-Vi)/Wn;if(Math.abs(fi)<1e-6||!isFinite(za)){if(Math.abs(Qn-ii)<1e-6)return this.easeTo(rt,yt);var Ji=ii<Qn?-1:1;za=Math.abs(Math.log(ii/Qn))/Wn,ua=function(){return 0},da=function(Hi){return Math.exp(Ji*Wn*Hi)}}if("duration"in rt)rt.duration=+rt.duration;else{var Pa="screenSpeed"in rt?+rt.screenSpeed/Wn:+rt.speed;rt.duration=1e3*za/Pa}return rt.maxDuration&&rt.duration>rt.maxDuration&&(rt.duration=0),this._zooming=!0,this._rotating=Ne!==Fr,this._pitching=Zr!==qe,this._padding=!ce.isPaddingEqual(Xr),this._prepareEase(yt,!1),this._ease(function(Hi){var na=Hi*za,ao=1/da(na);ce.zoom=Hi===1?lr:Ce+ce.scaleZoom(ao),Bt._rotating&&(ce.bearing=s.number(Ne,Fr,Hi)),Bt._pitching&&(ce.pitch=s.number(qe,Zr,Hi)),Bt._padding&&(ce.interpolatePadding(ur,Xr,Hi),dn=ce.centerPoint.add(Jr));var Ho=Hi===1?Vn:ce.unproject(Xn.add(Kn.mult(ua(na))).mult(ao));ce.setLocationAtPoint(ce.renderWorldCopies?Ho.wrap():Ho,dn),Bt._fireMoveEvents(yt)},function(){return Bt._afterEase(yt)},rt),this},K.prototype.isEasing=function(){return!!this._easeFrameId},K.prototype.stop=function(){return this._stop()},K.prototype._stop=function(rt,yt){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Bt=this._onEaseEnd;delete this._onEaseEnd,Bt.call(this,yt)}if(!rt){var Xt=this.handlers;Xt&&Xt.stop(!1)}return this},K.prototype._ease=function(rt,yt,Bt){Bt.animate===!1||Bt.duration===0?(rt(1),yt()):(this._easeStart=s.browser.now(),this._easeOptions=Bt,this._onEaseFrame=rt,this._onEaseEnd=yt,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},K.prototype._renderFrameCallback=function(){var rt=Math.min((s.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(rt)),rt<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},K.prototype._normalizeBearing=function(rt,yt){rt=s.wrap(rt,-180,180);var Bt=Math.abs(rt-yt);return Math.abs(rt-360-yt)<Bt&&(rt-=360),Math.abs(rt+360-yt)<Bt&&(rt+=360),rt},K.prototype._normalizeCenter=function(rt){var yt=this.transform;if(!(!yt.renderWorldCopies||yt.lngRange)){var Bt=rt.lng-yt.center.lng;rt.lng+=Bt>180?-360:Bt<-180?360:0}},K}(s.Evented),Zi=function(K){K===void 0&&(K={}),this.options=K,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Zi.prototype.getDefaultPosition=function(){return"bottom-right"},Zi.prototype.onAdd=function(K){var gt=this.options&&this.options.compact;return this._map=K,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=M.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=M.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),gt&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),gt===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Zi.prototype.onRemove=function(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Zi.prototype._setElementTitle=function(K,gt){var rt=this._map._getUIString("AttributionControl."+gt);K.title=rt,K.setAttribute("aria-label",rt)},Zi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Zi.prototype._updateEditLink=function(){var K=this._editLink;K||(K=this._editLink=this._container.querySelector(".mapbox-improve-map"));var gt=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(K){var rt=gt.reduce(function(yt,Bt,Xt){return Bt.value&&(yt+=Bt.key+"="+Bt.value+(Xt<gt.length-1?"&":"")),yt},"?");K.href=s.config.FEEDBACK_URL+"/"+rt+(this._map._hash?this._map._hash.getHashString(!0):""),K.rel="noopener nofollow",this._setElementTitle(K,"MapFeedback")}},Zi.prototype._updateData=function(K){K&&(K.sourceDataType==="metadata"||K.sourceDataType==="visibility"||K.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Zi.prototype._updateAttributions=function(){if(this._map.style){var K=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?K=K.concat(this.options.customAttribution.map(function(Ce){return typeof Ce!="string"?"":Ce})):typeof this.options.customAttribution=="string"&&K.push(this.options.customAttribution)),this._map.style.stylesheet){var gt=this._map.style.stylesheet;this.styleOwner=gt.owner,this.styleId=gt.id}var rt=this._map.style.sourceCaches;for(var yt in rt){var Bt=rt[yt];if(Bt.used){var Xt=Bt.getSource();Xt.attribution&&K.indexOf(Xt.attribution)<0&&K.push(Xt.attribution)}}K.sort(function(Ce,Ne){return Ce.length-Ne.length}),K=K.filter(function(Ce,Ne){for(var qe=Ne+1;qe<K.length;qe++)if(K[qe].indexOf(Ce)>=0)return!1;return!0});var ce=K.join(" | ");ce!==this._attribHTML&&(this._attribHTML=ce,K.length?(this._innerContainer.innerHTML=ce,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Zi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Ha=function(){s.bindAll(["_updateLogo"],this),s.bindAll(["_updateCompact"],this)};Ha.prototype.onAdd=function(K){this._map=K,this._container=M.create("div","mapboxgl-ctrl");var gt=M.create("a","mapboxgl-ctrl-logo");return gt.target="_blank",gt.rel="noopener nofollow",gt.href="https://www.mapbox.com/",gt.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),gt.setAttribute("rel","noopener nofollow"),this._container.appendChild(gt),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ha.prototype.onRemove=function(){M.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ha.prototype.getDefaultPosition=function(){return"bottom-left"},Ha.prototype._updateLogo=function(K){(!K||K.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Ha.prototype._logoRequired=function(){if(this._map.style){var K=this._map.style.sourceCaches;for(var gt in K){var rt=K[gt].getSource();if(rt.mapbox_logo)return!0}return!1}},Ha.prototype._updateCompact=function(){var K=this._container.children;if(K.length){var gt=K[0];this._map.getCanvasContainer().offsetWidth<250?gt.classList.add("mapboxgl-compact"):gt.classList.remove("mapboxgl-compact")}};var Wv=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Wv.prototype.add=function(K){var gt=++this._id,rt=this._queue;return rt.push({callback:K,id:gt,cancelled:!1}),gt},Wv.prototype.remove=function(K){for(var gt=this._currentlyRunning,rt=gt?this._queue.concat(gt):this._queue,yt=0,Bt=rt;yt<Bt.length;yt+=1){var Xt=Bt[yt];if(Xt.id===K){Xt.cancelled=!0;return}}},Wv.prototype.run=function(K){K===void 0&&(K=0);var gt=this._currentlyRunning=this._queue;this._queue=[];for(var rt=0,yt=gt;rt<yt.length;rt+=1){var Bt=yt[rt];if(!Bt.cancelled&&(Bt.callback(K),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Wv.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Sg={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Bc=s.window.HTMLImageElement,Xp=s.window.HTMLElement,Qf=s.window.ImageBitmap,kh=-2,zh=22,Ls=0,$f=60,Zp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:kh,maxZoom:zh,minPitch:Ls,maxPitch:$f,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Kp=function(vt){function K(rt){var yt=this;if(rt=s.extend({},Zp,rt),rt.minZoom!=null&&rt.maxZoom!=null&&rt.minZoom>rt.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(rt.minPitch!=null&&rt.maxPitch!=null&&rt.minPitch>rt.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(rt.minPitch!=null&&rt.minPitch<Ls)throw new Error("minPitch must be greater than or equal to "+Ls);if(rt.maxPitch!=null&&rt.maxPitch>$f)throw new Error("maxPitch must be less than or equal to "+$f);var Bt=new _n(rt.minZoom,rt.maxZoom,rt.minPitch,rt.maxPitch,rt.renderWorldCopies);if(vt.call(this,Bt,rt),this._interactive=rt.interactive,this._maxTileCacheSize=rt.maxTileCacheSize,this._failIfMajorPerformanceCaveat=rt.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=rt.preserveDrawingBuffer,this._antialias=rt.antialias,this._trackResize=rt.trackResize,this._bearingSnap=rt.bearingSnap,this._refreshExpiredTiles=rt.refreshExpiredTiles,this._fadeDuration=rt.fadeDuration,this._crossSourceCollisions=rt.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=rt.collectResourceTiming,this._renderTaskQueue=new Wv,this._controls=[],this._mapId=s.uniqueId(),this._locale=s.extend({},Sg,rt.locale),this._clickTolerance=rt.clickTolerance,this._requestManager=new s.RequestManager(rt.transformRequest,rt.accessToken),typeof rt.container=="string"){if(this._container=s.window.document.getElementById(rt.container),!this._container)throw new Error("Container '"+rt.container+"' not found.")}else if(rt.container instanceof Xp)this._container=rt.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(rt.maxBounds&&this.setMaxBounds(rt.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return yt._update(!1)}),this.on("moveend",function(){return yt._update(!1)}),this.on("zoom",function(){return yt._update(!0)}),typeof s.window<"u"&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Va(this,rt);var Xt=typeof rt.hash=="string"&&rt.hash||void 0;this._hash=rt.hash&&new Ii(Xt).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:rt.center,zoom:rt.zoom,bearing:rt.bearing,pitch:rt.pitch}),rt.bounds&&(this.resize(),this.fitBounds(rt.bounds,s.extend({},rt.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=rt.localIdeographFontFamily,rt.style&&this.setStyle(rt.style,{localIdeographFontFamily:rt.localIdeographFontFamily}),rt.attributionControl&&this.addControl(new Zi({customAttribution:rt.customAttribution})),this.addControl(new Ha,rt.logoPosition),this.on("style.load",function(){yt.transform.unmodified&&yt.jumpTo(yt.style.stylesheet)}),this.on("data",function(ce){yt._update(ce.dataType==="style"),yt.fire(new s.Event(ce.dataType+"data",ce))}),this.on("dataloading",function(ce){yt.fire(new s.Event(ce.dataType+"dataloading",ce))})}vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K;var gt={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return K.prototype._getMapId=function(){return this._mapId},K.prototype.addControl=function(yt,Bt){if(Bt===void 0&&(yt.getDefaultPosition?Bt=yt.getDefaultPosition():Bt="top-right"),!yt||!yt.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Xt=yt.onAdd(this);this._controls.push(yt);var ce=this._controlPositions[Bt];return Bt.indexOf("bottom")!==-1?ce.insertBefore(Xt,ce.firstChild):ce.appendChild(Xt),this},K.prototype.removeControl=function(yt){if(!yt||!yt.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Bt=this._controls.indexOf(yt);return Bt>-1&&this._controls.splice(Bt,1),yt.onRemove(this),this},K.prototype.hasControl=function(yt){return this._controls.indexOf(yt)>-1},K.prototype.resize=function(yt){var Bt=this._containerDimensions(),Xt=Bt[0],ce=Bt[1];this._resizeCanvas(Xt,ce),this.transform.resize(Xt,ce),this.painter.resize(Xt,ce);var Ce=!this._moving;return Ce&&(this.stop(),this.fire(new s.Event("movestart",yt)).fire(new s.Event("move",yt))),this.fire(new s.Event("resize",yt)),Ce&&this.fire(new s.Event("moveend",yt)),this},K.prototype.getBounds=function(){return this.transform.getBounds()},K.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},K.prototype.setMaxBounds=function(yt){return this.transform.setMaxBounds(s.LngLatBounds.convert(yt)),this._update()},K.prototype.setMinZoom=function(yt){if(yt=yt??kh,yt>=kh&&yt<=this.transform.maxZoom)return this.transform.minZoom=yt,this._update(),this.getZoom()<yt&&this.setZoom(yt),this;throw new Error("minZoom must be between "+kh+" and the current maxZoom, inclusive")},K.prototype.getMinZoom=function(){return this.transform.minZoom},K.prototype.setMaxZoom=function(yt){if(yt=yt??zh,yt>=this.transform.minZoom)return this.transform.maxZoom=yt,this._update(),this.getZoom()>yt&&this.setZoom(yt),this;throw new Error("maxZoom must be greater than the current minZoom")},K.prototype.getMaxZoom=function(){return this.transform.maxZoom},K.prototype.setMinPitch=function(yt){if(yt=yt??Ls,yt<Ls)throw new Error("minPitch must be greater than or equal to "+Ls);if(yt>=Ls&&yt<=this.transform.maxPitch)return this.transform.minPitch=yt,this._update(),this.getPitch()<yt&&this.setPitch(yt),this;throw new Error("minPitch must be between "+Ls+" and the current maxPitch, inclusive")},K.prototype.getMinPitch=function(){return this.transform.minPitch},K.prototype.setMaxPitch=function(yt){if(yt=yt??$f,yt>$f)throw new Error("maxPitch must be less than or equal to "+$f);if(yt>=this.transform.minPitch)return this.transform.maxPitch=yt,this._update(),this.getPitch()>yt&&this.setPitch(yt),this;throw new Error("maxPitch must be greater than the current minPitch")},K.prototype.getMaxPitch=function(){return this.transform.maxPitch},K.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},K.prototype.setRenderWorldCopies=function(yt){return this.transform.renderWorldCopies=yt,this._update()},K.prototype.project=function(yt){return this.transform.locationPoint(s.LngLat.convert(yt))},K.prototype.unproject=function(yt){return this.transform.pointLocation(s.Point.convert(yt))},K.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},K.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},K.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},K.prototype._createDelegatedListener=function(yt,Bt,Xt){var ce=this,Ce;if(yt==="mouseenter"||yt==="mouseover"){var Ne=!1,qe=function(Wr){var Jr=ce.getLayer(Bt)?ce.queryRenderedFeatures(Wr.point,{layers:[Bt]}):[];Jr.length?Ne||(Ne=!0,Xt.call(ce,new ee(yt,ce,Wr.originalEvent,{features:Jr}))):Ne=!1},ur=function(){Ne=!1};return{layer:Bt,listener:Xt,delegates:{mousemove:qe,mouseout:ur}}}else if(yt==="mouseleave"||yt==="mouseout"){var lr=!1,Fr=function(Wr){var Jr=ce.getLayer(Bt)?ce.queryRenderedFeatures(Wr.point,{layers:[Bt]}):[];Jr.length?lr=!0:lr&&(lr=!1,Xt.call(ce,new ee(yt,ce,Wr.originalEvent)))},Zr=function(Wr){lr&&(lr=!1,Xt.call(ce,new ee(yt,ce,Wr.originalEvent)))};return{layer:Bt,listener:Xt,delegates:{mousemove:Fr,mouseout:Zr}}}else{var Xr=function(Wr){var Jr=ce.getLayer(Bt)?ce.queryRenderedFeatures(Wr.point,{layers:[Bt]}):[];Jr.length&&(Wr.features=Jr,Xt.call(ce,Wr),delete Wr.features)};return{layer:Bt,listener:Xt,delegates:(Ce={},Ce[yt]=Xr,Ce)}}},K.prototype.on=function(yt,Bt,Xt){if(Xt===void 0)return vt.prototype.on.call(this,yt,Bt);var ce=this._createDelegatedListener(yt,Bt,Xt);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[yt]=this._delegatedListeners[yt]||[],this._delegatedListeners[yt].push(ce);for(var Ce in ce.delegates)this.on(Ce,ce.delegates[Ce]);return this},K.prototype.once=function(yt,Bt,Xt){if(Xt===void 0)return vt.prototype.once.call(this,yt,Bt);var ce=this._createDelegatedListener(yt,Bt,Xt);for(var Ce in ce.delegates)this.once(Ce,ce.delegates[Ce]);return this},K.prototype.off=function(yt,Bt,Xt){var ce=this;if(Xt===void 0)return vt.prototype.off.call(this,yt,Bt);var Ce=function(Ne){for(var qe=Ne[yt],ur=0;ur<qe.length;ur++){var lr=qe[ur];if(lr.layer===Bt&&lr.listener===Xt){for(var Fr in lr.delegates)ce.off(Fr,lr.delegates[Fr]);return qe.splice(ur,1),ce}}};return this._delegatedListeners&&this._delegatedListeners[yt]&&Ce(this._delegatedListeners),this},K.prototype.queryRenderedFeatures=function(yt,Bt){if(!this.style)return[];Bt===void 0&&yt!==void 0&&!(yt instanceof s.Point)&&!Array.isArray(yt)&&(Bt=yt,yt=void 0),Bt=Bt||{},yt=yt||[[0,0],[this.transform.width,this.transform.height]];var Xt;if(yt instanceof s.Point||typeof yt[0]=="number")Xt=[s.Point.convert(yt)];else{var ce=s.Point.convert(yt[0]),Ce=s.Point.convert(yt[1]);Xt=[ce,new s.Point(Ce.x,ce.y),Ce,new s.Point(ce.x,Ce.y),ce]}return this.style.queryRenderedFeatures(Xt,Bt,this.transform)},K.prototype.querySourceFeatures=function(yt,Bt){return this.style.querySourceFeatures(yt,Bt)},K.prototype.setStyle=function(yt,Bt){return Bt=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Bt),Bt.diff!==!1&&Bt.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&yt?(this._diffStyle(yt,Bt),this):(this._localIdeographFontFamily=Bt.localIdeographFontFamily,this._updateStyle(yt,Bt))},K.prototype._getUIString=function(yt){var Bt=this._locale[yt];if(Bt==null)throw new Error("Missing UI string '"+yt+"'");return Bt},K.prototype._updateStyle=function(yt,Bt){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),yt)this.style=new No(this,Bt||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof yt=="string"?this.style.loadURL(yt):this.style.loadJSON(yt),this},K.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new No(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},K.prototype._diffStyle=function(yt,Bt){var Xt=this;if(typeof yt=="string"){var ce=this._requestManager.normalizeStyleURL(yt),Ce=this._requestManager.transformRequest(ce,s.ResourceType.Style);s.getJSON(Ce,function(Ne,qe){Ne?Xt.fire(new s.ErrorEvent(Ne)):qe&&Xt._updateDiff(qe,Bt)})}else typeof yt=="object"&&this._updateDiff(yt,Bt)},K.prototype._updateDiff=function(yt,Bt){try{this.style.setState(yt)&&this._update(!0)}catch(Xt){s.warnOnce("Unable to perform style diff: "+(Xt.message||Xt.error||Xt)+".  Rebuilding the style from scratch."),this._updateStyle(yt,Bt)}},K.prototype.getStyle=function(){if(this.style)return this.style.serialize()},K.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():s.warnOnce("There is no style added to the map.")},K.prototype.addSource=function(yt,Bt){return this._lazyInitEmptyStyle(),this.style.addSource(yt,Bt),this._update(!0)},K.prototype.isSourceLoaded=function(yt){var Bt=this.style&&this.style.sourceCaches[yt];if(Bt===void 0){this.fire(new s.ErrorEvent(new Error("There is no source with ID '"+yt+"'")));return}return Bt.loaded()},K.prototype.areTilesLoaded=function(){var yt=this.style&&this.style.sourceCaches;for(var Bt in yt){var Xt=yt[Bt],ce=Xt._tiles;for(var Ce in ce){var Ne=ce[Ce];if(!(Ne.state==="loaded"||Ne.state==="errored"))return!1}}return!0},K.prototype.addSourceType=function(yt,Bt,Xt){return this._lazyInitEmptyStyle(),this.style.addSourceType(yt,Bt,Xt)},K.prototype.removeSource=function(yt){return this.style.removeSource(yt),this._update(!0)},K.prototype.getSource=function(yt){return this.style.getSource(yt)},K.prototype.addImage=function(yt,Bt,Xt){Xt===void 0&&(Xt={});var ce=Xt.pixelRatio;ce===void 0&&(ce=1);var Ce=Xt.sdf;Ce===void 0&&(Ce=!1);var Ne=Xt.stretchX,qe=Xt.stretchY,ur=Xt.content;this._lazyInitEmptyStyle();var lr=0;if(Bt instanceof Bc||Qf&&Bt instanceof Qf){var Fr=s.browser.getImageData(Bt),Zr=Fr.width,Xr=Fr.height,Wr=Fr.data;this.style.addImage(yt,{data:new s.RGBAImage({width:Zr,height:Xr},Wr),pixelRatio:ce,stretchX:Ne,stretchY:qe,content:ur,sdf:Ce,version:lr})}else{if(Bt.width===void 0||Bt.height===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Jr=Bt.width,dn=Bt.height,kn=Bt.data,Vn=Bt;this.style.addImage(yt,{data:new s.RGBAImage({width:Jr,height:dn},new Uint8Array(kn)),pixelRatio:ce,stretchX:Ne,stretchY:qe,content:ur,sdf:Ce,version:lr,userImage:Vn}),Vn.onAdd&&Vn.onAdd(this,yt)}},K.prototype.updateImage=function(yt,Bt){var Xt=this.style.getImage(yt);if(!Xt)return this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ce=Bt instanceof Bc||Qf&&Bt instanceof Qf?s.browser.getImageData(Bt):Bt,Ce=ce.width,Ne=ce.height,qe=ce.data;if(Ce===void 0||Ne===void 0)return this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Ce!==Xt.data.width||Ne!==Xt.data.height)return this.fire(new s.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var ur=!(Bt instanceof Bc||Qf&&Bt instanceof Qf);Xt.data.replace(qe,ur),this.style.updateImage(yt,Xt)},K.prototype.hasImage=function(yt){return yt?!!this.style.getImage(yt):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)},K.prototype.removeImage=function(yt){this.style.removeImage(yt)},K.prototype.loadImage=function(yt,Bt){s.getImage(this._requestManager.transformRequest(yt,s.ResourceType.Image),Bt)},K.prototype.listImages=function(){return this.style.listImages()},K.prototype.addLayer=function(yt,Bt){return this._lazyInitEmptyStyle(),this.style.addLayer(yt,Bt),this._update(!0)},K.prototype.moveLayer=function(yt,Bt){return this.style.moveLayer(yt,Bt),this._update(!0)},K.prototype.removeLayer=function(yt){return this.style.removeLayer(yt),this._update(!0)},K.prototype.getLayer=function(yt){return this.style.getLayer(yt)},K.prototype.setLayerZoomRange=function(yt,Bt,Xt){return this.style.setLayerZoomRange(yt,Bt,Xt),this._update(!0)},K.prototype.setFilter=function(yt,Bt,Xt){return Xt===void 0&&(Xt={}),this.style.setFilter(yt,Bt,Xt),this._update(!0)},K.prototype.getFilter=function(yt){return this.style.getFilter(yt)},K.prototype.setPaintProperty=function(yt,Bt,Xt,ce){return ce===void 0&&(ce={}),this.style.setPaintProperty(yt,Bt,Xt,ce),this._update(!0)},K.prototype.getPaintProperty=function(yt,Bt){return this.style.getPaintProperty(yt,Bt)},K.prototype.setLayoutProperty=function(yt,Bt,Xt,ce){return ce===void 0&&(ce={}),this.style.setLayoutProperty(yt,Bt,Xt,ce),this._update(!0)},K.prototype.getLayoutProperty=function(yt,Bt){return this.style.getLayoutProperty(yt,Bt)},K.prototype.setLight=function(yt,Bt){return Bt===void 0&&(Bt={}),this._lazyInitEmptyStyle(),this.style.setLight(yt,Bt),this._update(!0)},K.prototype.getLight=function(){return this.style.getLight()},K.prototype.setFeatureState=function(yt,Bt){return this.style.setFeatureState(yt,Bt),this._update()},K.prototype.removeFeatureState=function(yt,Bt){return this.style.removeFeatureState(yt,Bt),this._update()},K.prototype.getFeatureState=function(yt){return this.style.getFeatureState(yt)},K.prototype.getContainer=function(){return this._container},K.prototype.getCanvasContainer=function(){return this._canvasContainer},K.prototype.getCanvas=function(){return this._canvas},K.prototype._containerDimensions=function(){var yt=0,Bt=0;return this._container&&(yt=this._container.clientWidth||400,Bt=this._container.clientHeight||300),[yt,Bt]},K.prototype._detectMissingCSS=function(){var yt=s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");yt!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},K.prototype._setupContainer=function(){var yt=this._container;yt.classList.add("mapboxgl-map");var Bt=this._missingCSSCanary=M.create("div","mapboxgl-canary",yt);Bt.style.visibility="hidden",this._detectMissingCSS();var Xt=this._canvasContainer=M.create("div","mapboxgl-canvas-container",yt);this._interactive&&Xt.classList.add("mapboxgl-interactive"),this._canvas=M.create("canvas","mapboxgl-canvas",Xt),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ce=this._containerDimensions();this._resizeCanvas(ce[0],ce[1]);var Ce=this._controlContainer=M.create("div","mapboxgl-control-container",yt),Ne=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qe){Ne[qe]=M.create("div","mapboxgl-ctrl-"+qe,Ce)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},K.prototype._resizeCanvas=function(yt,Bt){var Xt=s.browser.devicePixelRatio||1;this._canvas.width=Xt*yt,this._canvas.height=Xt*Bt,this._canvas.style.width=yt+"px",this._canvas.style.height=Bt+"px"},K.prototype._setupPainter=function(){var yt=s.extend({},P.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Bt=this._canvas.getContext("webgl",yt)||this._canvas.getContext("experimental-webgl",yt);if(!Bt){this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Vr(Bt,this.transform),s.webpSupported.testSupport(Bt)},K.prototype._contextLost=function(yt){yt.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:yt}))},K.prototype._contextRestored=function(yt){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:yt}))},K.prototype._onMapScroll=function(yt){if(yt.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},K.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},K.prototype._update=function(yt){return this.style?(this._styleDirty=this._styleDirty||yt,this._sourcesDirty=!0,this.triggerRepaint(),this):this},K.prototype._requestRenderFrame=function(yt){return this._update(),this._renderTaskQueue.add(yt)},K.prototype._cancelRenderFrame=function(yt){this._renderTaskQueue.remove(yt)},K.prototype._render=function(yt){var Bt=this,Xt,ce=0,Ce=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Xt=Ce.createQueryEXT(),Ce.beginQueryEXT(Ce.TIME_ELAPSED_EXT,Xt),ce=s.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(yt),!this._removed){var Ne=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qe=this.transform.zoom,ur=s.browser.now();this.style.zoomHistory.update(qe,ur);var lr=new s.EvaluationParameters(qe,{now:ur,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Fr=lr.crossFadingFactor();(Fr!==1||Fr!==this._crossFadingFactor)&&(Ne=!0,this._crossFadingFactor=Fr),this.style.update(lr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&(this.style.hasTransitions()||Ne)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Zr=s.browser.now()-ce;Ce.endQueryEXT(Ce.TIME_ELAPSED_EXT,Xt),setTimeout(function(){var Jr=Ce.getQueryObjectEXT(Xt,Ce.QUERY_RESULT_EXT)/1e6;Ce.deleteQueryEXT(Xt),Bt.fire(new s.Event("gpu-timing-frame",{cpuTime:Zr,gpuTime:Jr}))},50)}if(this.listens("gpu-timing-layer")){var Xr=this.painter.collectGpuTimers();setTimeout(function(){var Jr=Bt.painter.queryGpuTimers(Xr);Bt.fire(new s.Event("gpu-timing-layer",{layerTimes:Jr}))},50)}var Wr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Wr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.Event("idle")),this._loaded&&!this._fullyLoaded&&!Wr&&(this._fullyLoaded=!0),this}},K.prototype.remove=function(){this._hash&&this._hash.remove();for(var yt=0,Bt=this._controls;yt<Bt.length;yt+=1){var Xt=Bt[yt];Xt.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof s.window<"u"&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1));var ce=this.painter.context.gl.getExtension("WEBGL_lose_context");ce&&ce.loseContext&&ce.loseContext(),Yv(this._canvasContainer),Yv(this._controlContainer),Yv(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new s.Event("remove"))},K.prototype.triggerRepaint=function(){var yt=this;this.style&&!this._frame&&(this._frame=s.browser.frame(function(Bt){yt._frame=null,yt._render(Bt)}))},K.prototype._onWindowOnline=function(){this._update()},K.prototype._onWindowResize=function(yt){this._trackResize&&this.resize({originalEvent:yt})._update()},gt.showTileBoundaries.get=function(){return!!this._showTileBoundaries},gt.showTileBoundaries.set=function(rt){this._showTileBoundaries!==rt&&(this._showTileBoundaries=rt,this._update())},gt.showPadding.get=function(){return!!this._showPadding},gt.showPadding.set=function(rt){this._showPadding!==rt&&(this._showPadding=rt,this._update())},gt.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},gt.showCollisionBoxes.set=function(rt){this._showCollisionBoxes!==rt&&(this._showCollisionBoxes=rt,rt?this.style._generateCollisionBoxes():this._update())},gt.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},gt.showOverdrawInspector.set=function(rt){this._showOverdrawInspector!==rt&&(this._showOverdrawInspector=rt,this._update())},gt.repaint.get=function(){return!!this._repaint},gt.repaint.set=function(rt){this._repaint!==rt&&(this._repaint=rt,this.triggerRepaint())},gt.vertices.get=function(){return!!this._vertices},gt.vertices.set=function(rt){this._vertices=rt,this._update()},K.prototype._setCacheLimits=function(yt,Bt){s.setCacheLimits(yt,Bt)},gt.version.get=function(){return s.version},Object.defineProperties(K.prototype,gt),K}(ku);function Yv(vt){vt.parentNode&&vt.parentNode.removeChild(vt)}var Ed={showCompass:!0,showZoom:!0,visualizePitch:!1},mf=function(K){var gt=this;this.options=s.extend({},Ed,K),this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(rt){return rt.preventDefault()}),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(rt){return gt._map.zoomIn({},{originalEvent:rt})}),M.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(rt){return gt._map.zoomOut({},{originalEvent:rt})}),M.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(rt){gt.options.visualizePitch?gt._map.resetNorthPitch({},{originalEvent:rt}):gt._map.resetNorth({},{originalEvent:rt})}),this._compassIcon=M.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};mf.prototype._updateZoomButtons=function(){var K=this._map.getZoom(),gt=K===this._map.getMaxZoom(),rt=K===this._map.getMinZoom();this._zoomInButton.disabled=gt,this._zoomOutButton.disabled=rt,this._zoomInButton.setAttribute("aria-disabled",gt.toString()),this._zoomOutButton.setAttribute("aria-disabled",rt.toString())},mf.prototype._rotateCompassArrow=function(){var K=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=K},mf.prototype.onAdd=function(K){return this._map=K,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Gs(this._map,this._compass,this.options.visualizePitch)),this._container},mf.prototype.onRemove=function(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},mf.prototype._createButton=function(K,gt){var rt=M.create("button",K,this._container);return rt.type="button",rt.addEventListener("click",gt),rt},mf.prototype._setButtonTitle=function(K,gt){var rt=this._map._getUIString("NavigationControl."+gt);K.title=rt,K.setAttribute("aria-label",rt)};var Gs=function(K,gt,rt){rt===void 0&&(rt=!1),this._clickTolerance=10,this.element=gt,this.mouseRotate=new ci({clickTolerance:K.dragRotate._mouseRotate._clickTolerance}),this.map=K,rt&&(this.mousePitch=new ti({clickTolerance:K.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),M.addEventListener(gt,"mousedown",this.mousedown),M.addEventListener(gt,"touchstart",this.touchstart,{passive:!1}),M.addEventListener(gt,"touchmove",this.touchmove),M.addEventListener(gt,"touchend",this.touchend),M.addEventListener(gt,"touchcancel",this.reset)};Gs.prototype.down=function(K,gt){this.mouseRotate.mousedown(K,gt),this.mousePitch&&this.mousePitch.mousedown(K,gt),M.disableDrag()},Gs.prototype.move=function(K,gt){var rt=this.map,yt=this.mouseRotate.mousemoveWindow(K,gt);if(yt&&yt.bearingDelta&&rt.setBearing(rt.getBearing()+yt.bearingDelta),this.mousePitch){var Bt=this.mousePitch.mousemoveWindow(K,gt);Bt&&Bt.pitchDelta&&rt.setPitch(rt.getPitch()+Bt.pitchDelta)}},Gs.prototype.off=function(){var K=this.element;M.removeEventListener(K,"mousedown",this.mousedown),M.removeEventListener(K,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(K,"touchmove",this.touchmove),M.removeEventListener(K,"touchend",this.touchend),M.removeEventListener(K,"touchcancel",this.reset),this.offTemp()},Gs.prototype.offTemp=function(){M.enableDrag(),M.removeEventListener(s.window,"mousemove",this.mousemove),M.removeEventListener(s.window,"mouseup",this.mouseup)},Gs.prototype.mousedown=function(K){this.down(s.extend({},K,{ctrlKey:!0,preventDefault:function(){return K.preventDefault()}}),M.mousePos(this.element,K)),M.addEventListener(s.window,"mousemove",this.mousemove),M.addEventListener(s.window,"mouseup",this.mouseup)},Gs.prototype.mousemove=function(K){this.move(K,M.mousePos(this.element,K))},Gs.prototype.mouseup=function(K){this.mouseRotate.mouseupWindow(K),this.mousePitch&&this.mousePitch.mouseupWindow(K),this.offTemp()},Gs.prototype.touchstart=function(K){K.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,K.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return K.preventDefault()}},this._startPos))},Gs.prototype.touchmove=function(K){K.targetTouches.length!==1?this.reset():(this._lastPos=M.touchPos(this.element,K.targetTouches)[0],this.move({preventDefault:function(){return K.preventDefault()}},this._lastPos))},Gs.prototype.touchend=function(K){K.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Gs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function xf(vt,K,gt){if(vt=new s.LngLat(vt.lng,vt.lat),K){var rt=new s.LngLat(vt.lng-360,vt.lat),yt=new s.LngLat(vt.lng+360,vt.lat),Bt=gt.locationPoint(vt).distSqr(K);gt.locationPoint(rt).distSqr(K)<Bt?vt=rt:gt.locationPoint(yt).distSqr(K)<Bt&&(vt=yt)}for(;Math.abs(vt.lng-gt.center.lng)>180;){var Xt=gt.locationPoint(vt);if(Xt.x>=0&&Xt.y>=0&&Xt.x<=gt.width&&Xt.y<=gt.height)break;vt.lng>gt.center.lng?vt.lng-=360:vt.lng+=360}return vt}var jv={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Cd(vt,K,gt){var rt=vt.classList;for(var yt in jv)rt.remove("mapboxgl-"+gt+"-anchor-"+yt);rt.add("mapboxgl-"+gt+"-anchor-"+K)}var Fh=function(vt){function K(gt,rt){if(vt.call(this),(gt instanceof s.window.HTMLElement||rt)&&(gt=s.extend({element:gt},rt)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=gt&&gt.anchor||"center",this._color=gt&&gt.color||"#3FB1CE",this._scale=gt&&gt.scale||1,this._draggable=gt&&gt.draggable||!1,this._clickTolerance=gt&&gt.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=gt&&gt.rotation||0,this._rotationAlignment=gt&&gt.rotationAlignment||"auto",this._pitchAlignment=gt&&gt.pitchAlignment&&gt.pitchAlignment!=="auto"?gt.pitchAlignment:this._rotationAlignment,!gt||!gt.element){this._defaultMarker=!0,this._element=M.create("div"),this._element.setAttribute("aria-label","Map marker");var yt=M.createNS("http://www.w3.org/2000/svg","svg"),Bt=41,Xt=27;yt.setAttributeNS(null,"display","block"),yt.setAttributeNS(null,"height",Bt+"px"),yt.setAttributeNS(null,"width",Xt+"px"),yt.setAttributeNS(null,"viewBox","0 0 "+Xt+" "+Bt);var ce=M.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"stroke","none"),ce.setAttributeNS(null,"stroke-width","1"),ce.setAttributeNS(null,"fill","none"),ce.setAttributeNS(null,"fill-rule","evenodd");var Ce=M.createNS("http://www.w3.org/2000/svg","g");Ce.setAttributeNS(null,"fill-rule","nonzero");var Ne=M.createNS("http://www.w3.org/2000/svg","g");Ne.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ne.setAttributeNS(null,"fill","#000000");for(var qe=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],ur=0,lr=qe;ur<lr.length;ur+=1){var Fr=lr[ur],Zr=M.createNS("http://www.w3.org/2000/svg","ellipse");Zr.setAttributeNS(null,"opacity","0.04"),Zr.setAttributeNS(null,"cx","10.5"),Zr.setAttributeNS(null,"cy","5.80029008"),Zr.setAttributeNS(null,"rx",Fr.rx),Zr.setAttributeNS(null,"ry",Fr.ry),Ne.appendChild(Zr)}var Xr=M.createNS("http://www.w3.org/2000/svg","g");Xr.setAttributeNS(null,"fill",this._color);var Wr=M.createNS("http://www.w3.org/2000/svg","path");Wr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Xr.appendChild(Wr);var Jr=M.createNS("http://www.w3.org/2000/svg","g");Jr.setAttributeNS(null,"opacity","0.25"),Jr.setAttributeNS(null,"fill","#000000");var dn=M.createNS("http://www.w3.org/2000/svg","path");dn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Jr.appendChild(dn);var kn=M.createNS("http://www.w3.org/2000/svg","g");kn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),kn.setAttributeNS(null,"fill","#FFFFFF");var Vn=M.createNS("http://www.w3.org/2000/svg","g");Vn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Xn=M.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#000000"),Xn.setAttributeNS(null,"opacity","0.25"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962");var Kn=M.createNS("http://www.w3.org/2000/svg","circle");Kn.setAttributeNS(null,"fill","#FFFFFF"),Kn.setAttributeNS(null,"cx","5.5"),Kn.setAttributeNS(null,"cy","5.5"),Kn.setAttributeNS(null,"r","5.4999962"),Vn.appendChild(Xn),Vn.appendChild(Kn),Ce.appendChild(Ne),Ce.appendChild(Xr),Ce.appendChild(Jr),Ce.appendChild(kn),Ce.appendChild(Vn),yt.appendChild(Ce),yt.setAttributeNS(null,"height",Bt*this._scale+"px"),yt.setAttributeNS(null,"width",Xt*this._scale+"px"),this._element.appendChild(yt),this._offset=s.Point.convert(gt&&gt.offset||[0,-14])}else this._element=gt.element,this._offset=s.Point.convert(gt&&gt.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Wn){Wn.preventDefault()}),this._element.addEventListener("mousedown",function(Wn){Wn.preventDefault()}),Cd(this._element,this._anchor,"marker"),this._popup=null}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.addTo=function(rt){return this.remove(),this._map=rt,rt.getCanvasContainer().appendChild(this._element),rt.on("move",this._update),rt.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},K.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(rt){return this._lngLat=s.LngLat.convert(rt),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},K.prototype.getElement=function(){return this._element},K.prototype.setPopup=function(rt){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),rt){if(!("offset"in rt.options)){var yt=38.1,Bt=13.5,Xt=Math.sqrt(Math.pow(Bt,2)/2);rt.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-yt],"bottom-left":[Xt,(yt-Bt+Xt)*-1],"bottom-right":[-Xt,(yt-Bt+Xt)*-1],left:[Bt,(yt-Bt)*-1],right:[-Bt,(yt-Bt)*-1]}:this._offset}this._popup=rt,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},K.prototype._onKeyPress=function(rt){var yt=rt.code,Bt=rt.charCode||rt.keyCode;(yt==="Space"||yt==="Enter"||Bt===32||Bt===13)&&this.togglePopup()},K.prototype._onMapClick=function(rt){var yt=rt.originalEvent.target,Bt=this._element;this._popup&&(yt===Bt||Bt.contains(yt))&&this.togglePopup()},K.prototype.getPopup=function(){return this._popup},K.prototype.togglePopup=function(){var rt=this._popup;if(rt)rt.isOpen()?rt.remove():rt.addTo(this._map);else return this;return this},K.prototype._update=function(rt){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=xf(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var yt="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?yt="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(yt="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Bt="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Bt="rotateX(0deg)":this._pitchAlignment==="map"&&(Bt="rotateX("+this._map.getPitch()+"deg)"),(!rt||rt.type==="moveend")&&(this._pos=this._pos.round()),M.setTransform(this._element,jv[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Bt+" "+yt)}},K.prototype.getOffset=function(){return this._offset},K.prototype.setOffset=function(rt){return this._offset=s.Point.convert(rt),this._update(),this},K.prototype._onMove=function(rt){if(!this._isDragging){var yt=this._clickTolerance||this._map._clickTolerance;this._isDragging=rt.point.dist(this._pointerdownPos)>=yt}this._isDragging&&(this._pos=rt.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag")))},K.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"},K.prototype._addDragHandler=function(rt){this._element.contains(rt.originalEvent.target)&&(rt.preventDefault(),this._positionDelta=rt.point.sub(this._pos).add(this._offset),this._pointerdownPos=rt.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},K.prototype.setDraggable=function(rt){return this._draggable=!!rt,this._map&&(rt?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},K.prototype.isDraggable=function(){return this._draggable},K.prototype.setRotation=function(rt){return this._rotation=rt||0,this._update(),this},K.prototype.getRotation=function(){return this._rotation},K.prototype.setRotationAlignment=function(rt){return this._rotationAlignment=rt||"auto",this._update(),this},K.prototype.getRotationAlignment=function(){return this._rotationAlignment},K.prototype.setPitchAlignment=function(rt){return this._pitchAlignment=rt&&rt!=="auto"?rt:this._rotationAlignment,this._update(),this},K.prototype.getPitchAlignment=function(){return this._pitchAlignment},K}(s.Evented),Jp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},qf;function Xv(vt){qf!==void 0?vt(qf):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(function(K){qf=K.state!=="denied",vt(qf)}):(qf=!!s.window.navigator.geolocation,vt(qf))}var Oh=0,Nc=!1,Mg=function(vt){function K(gt){vt.call(this),this.options=s.extend({},Jp,gt),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.onAdd=function(rt){return this._map=rt,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Xv(this._setupUI),this._container},K.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Oh=0,Nc=!1},K.prototype._isOutOfMapMaxBounds=function(rt){var yt=this._map.getMaxBounds(),Bt=rt.coords;return yt&&(Bt.longitude<yt.getWest()||Bt.longitude>yt.getEast()||Bt.latitude<yt.getSouth()||Bt.latitude>yt.getNorth())},K.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},K.prototype._onSuccess=function(rt){if(this._map){if(this._isOutOfMapMaxBounds(rt)){this._setErrorState(),this.fire(new s.Event("outofmaxbounds",rt)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=rt,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(rt),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(rt),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",rt)),this._finish()}},K.prototype._updateCamera=function(rt){var yt=new s.LngLat(rt.coords.longitude,rt.coords.latitude),Bt=rt.coords.accuracy,Xt=this._map.getBearing(),ce=s.extend({bearing:Xt},this.options.fitBoundsOptions);this._map.fitBounds(yt.toBounds(Bt),ce,{geolocateSource:!0})},K.prototype._updateMarker=function(rt){if(rt){var yt=new s.LngLat(rt.coords.longitude,rt.coords.latitude);this._accuracyCircleMarker.setLngLat(yt).addTo(this._map),this._userLocationDotMarker.setLngLat(yt).addTo(this._map),this._accuracy=rt.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},K.prototype._updateCircleRadius=function(){var rt=this._map._container.clientHeight/2,yt=this._map.unproject([0,rt]),Bt=this._map.unproject([1,rt]),Xt=yt.distanceTo(Bt),ce=Math.ceil(2*this._accuracy/Xt);this._circleElement.style.width=ce+"px",this._circleElement.style.height=ce+"px"},K.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},K.prototype._onError=function(rt){if(this._map){if(this.options.trackUserLocation)if(rt.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var yt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=yt,this._geolocateButton.setAttribute("aria-label",yt),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(rt.code===3&&Nc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",rt)),this._finish()}},K.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},K.prototype._setupUI=function(rt){var yt=this;if(this._container.addEventListener("contextmenu",function(ce){return ce.preventDefault()}),this._geolocateButton=M.create("button","mapboxgl-ctrl-geolocate",this._container),M.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",rt===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Bt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Bt,this._geolocateButton.setAttribute("aria-label",Bt)}else{var Xt=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Xt,this._geolocateButton.setAttribute("aria-label",Xt)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Fh(this._dotElement),this._circleElement=M.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Fh({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ce){var Ce=ce.originalEvent&&ce.originalEvent.type==="resize";!ce.geolocateSource&&yt._watchState==="ACTIVE_LOCK"&&!Ce&&(yt._watchState="BACKGROUND",yt._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),yt._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),yt.fire(new s.Event("trackuserlocationend")))})},K.prototype.trigger=function(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Oh--,Nc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Oh++;var rt;Oh>1?(rt={maximumAge:6e5,timeout:0},Nc=!0):(rt=this.options.positionOptions,Nc=!1),this._geolocationWatchID=s.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,rt)}}else s.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},K.prototype._clearWatch=function(){s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},K}(s.Evented),Qp={maxWidth:100,unit:"metric"},Uc=function(K){this.options=s.extend({},Qp,K),s.bindAll(["_onMove","setUnit"],this)};Uc.prototype.getDefaultPosition=function(){return"bottom-left"},Uc.prototype._onMove=function(){$p(this._map,this._container,this.options)},Uc.prototype.onAdd=function(K){return this._map=K,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",K.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Uc.prototype.onRemove=function(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Uc.prototype.setUnit=function(K){this.options.unit=K,$p(this._map,this._container,this.options)};function $p(vt,K,gt){var rt=gt&&gt.maxWidth||100,yt=vt._container.clientHeight/2,Bt=vt.unproject([0,yt]),Xt=vt.unproject([rt,yt]),ce=Bt.distanceTo(Xt);if(gt&&gt.unit==="imperial"){var Ce=3.2808*ce;if(Ce>5280){var Ne=Ce/5280;Bh(K,rt,Ne,vt._getUIString("ScaleControl.Miles"))}else Bh(K,rt,Ce,vt._getUIString("ScaleControl.Feet"))}else if(gt&&gt.unit==="nautical"){var qe=ce/1852;Bh(K,rt,qe,vt._getUIString("ScaleControl.NauticalMiles"))}else ce>=1e3?Bh(K,rt,ce/1e3,vt._getUIString("ScaleControl.Kilometers")):Bh(K,rt,ce,vt._getUIString("ScaleControl.Meters"))}function Bh(vt,K,gt,rt){var yt=Cg(gt),Bt=yt/gt;vt.style.width=K*Bt+"px",vt.innerHTML=yt+"&nbsp;"+rt}function Eg(vt){var K=Math.pow(10,Math.ceil(-Math.log(vt)/Math.LN10));return Math.round(vt*K)/K}function Cg(vt){var K=Math.pow(10,(""+Math.floor(vt)).length-1),gt=vt/K;return gt=gt>=10?10:gt>=5?5:gt>=3?3:gt>=2?2:gt>=1?1:Eg(gt),K*gt}var $l=function(K){this._fullscreen=!1,K&&K.container&&(K.container instanceof s.window.HTMLElement?this._container=K.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in s.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in s.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in s.window.document&&(this._fullscreenchange="MSFullscreenChange")};$l.prototype.onAdd=function(K){return this._map=K,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},$l.prototype.onRemove=function(){M.remove(this._controlContainer),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},$l.prototype._checkFullscreenSupport=function(){return!!(s.window.document.fullscreenEnabled||s.window.document.mozFullScreenEnabled||s.window.document.msFullscreenEnabled||s.window.document.webkitFullscreenEnabled)},$l.prototype._setupUI=function(){var K=this._fullscreenButton=M.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);M.create("span","mapboxgl-ctrl-icon",K).setAttribute("aria-hidden",!0),K.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},$l.prototype._updateTitle=function(){var K=this._getTitle();this._fullscreenButton.setAttribute("aria-label",K),this._fullscreenButton.title=K},$l.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},$l.prototype._isFullscreen=function(){return this._fullscreen},$l.prototype._changeIcon=function(){var K=s.window.document.fullscreenElement||s.window.document.mozFullScreenElement||s.window.document.webkitFullscreenElement||s.window.document.msFullscreenElement;K===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},$l.prototype._onClickFullscreen=function(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.mozCancelFullScreen?s.window.document.mozCancelFullScreen():s.window.document.msExitFullscreen?s.window.document.msExitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Lg={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Pg=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),v1=function(vt){function K(gt){vt.call(this),this.options=s.extend(Object.create(Lg),gt),s.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return vt&&(K.__proto__=vt),K.prototype=Object.create(vt&&vt.prototype),K.prototype.constructor=K,K.prototype.addTo=function(rt){return this._map&&this.remove(),this._map=rt,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new s.Event("open")),this},K.prototype.isOpen=function(){return!!this._map},K.prototype.remove=function(){return this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new s.Event("close")),this},K.prototype.getLngLat=function(){return this._lngLat},K.prototype.setLngLat=function(rt){return this._lngLat=s.LngLat.convert(rt),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},K.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},K.prototype.getElement=function(){return this._container},K.prototype.setText=function(rt){return this.setDOMContent(s.window.document.createTextNode(rt))},K.prototype.setHTML=function(rt){var yt=s.window.document.createDocumentFragment(),Bt=s.window.document.createElement("body"),Xt;for(Bt.innerHTML=rt;Xt=Bt.firstChild,!!Xt;)yt.appendChild(Xt);return this.setDOMContent(yt)},K.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},K.prototype.setMaxWidth=function(rt){return this.options.maxWidth=rt,this._update(),this},K.prototype.setDOMContent=function(rt){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=M.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(rt),this._createCloseButton(),this._update(),this._focusFirstElement(),this},K.prototype.addClassName=function(rt){this._container&&this._container.classList.add(rt)},K.prototype.removeClassName=function(rt){this._container&&this._container.classList.remove(rt)},K.prototype.setOffset=function(rt){return this.options.offset=rt,this._update(),this},K.prototype.toggleClassName=function(rt){if(this._container)return this._container.classList.toggle(rt)},K.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=M.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},K.prototype._onMouseUp=function(rt){this._update(rt.point)},K.prototype._onMouseMove=function(rt){this._update(rt.point)},K.prototype._onDrag=function(rt){this._update(rt.point)},K.prototype._update=function(rt){var yt=this,Bt=this._lngLat||this._trackPointer;if(!(!this._map||!Bt||!this._content)&&(this._container||(this._container=M.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=M.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Fr){return yt._container.classList.add(Fr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=xf(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!rt))){var Xt=this._pos=this._trackPointer&&rt?rt:this._map.project(this._lngLat),ce=this.options.anchor,Ce=Ig(this.options.offset);if(!ce){var Ne=this._container.offsetWidth,qe=this._container.offsetHeight,ur;Xt.y+Ce.bottom.y<qe?ur=["top"]:Xt.y>this._map.transform.height-qe?ur=["bottom"]:ur=[],Xt.x<Ne/2?ur.push("left"):Xt.x>this._map.transform.width-Ne/2&&ur.push("right"),ur.length===0?ce="bottom":ce=ur.join("-")}var lr=Xt.add(Ce[ce]).round();M.setTransform(this._container,jv[ce]+" translate("+lr.x+"px,"+lr.y+"px)"),Cd(this._container,ce,"popup")}},K.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var rt=this._container.querySelector(Pg);rt&&rt.focus()}},K.prototype._onClose=function(){this.remove()},K}(s.Evented);function Ig(vt){if(vt)if(typeof vt=="number"){var K=Math.round(Math.sqrt(.5*Math.pow(vt,2)));return{center:new s.Point(0,0),top:new s.Point(0,vt),"top-left":new s.Point(K,K),"top-right":new s.Point(-K,K),bottom:new s.Point(0,-vt),"bottom-left":new s.Point(K,-K),"bottom-right":new s.Point(-K,-K),left:new s.Point(vt,0),right:new s.Point(-vt,0)}}else if(vt instanceof s.Point||Array.isArray(vt)){var gt=s.Point.convert(vt);return{center:gt,top:gt,"top-left":gt,"top-right":gt,bottom:gt,"bottom-left":gt,"bottom-right":gt,left:gt,right:gt}}else return{center:s.Point.convert(vt.center||[0,0]),top:s.Point.convert(vt.top||[0,0]),"top-left":s.Point.convert(vt["top-left"]||[0,0]),"top-right":s.Point.convert(vt["top-right"]||[0,0]),bottom:s.Point.convert(vt.bottom||[0,0]),"bottom-left":s.Point.convert(vt["bottom-left"]||[0,0]),"bottom-right":s.Point.convert(vt["bottom-right"]||[0,0]),left:s.Point.convert(vt.left||[0,0]),right:s.Point.convert(vt.right||[0,0])};else return Ig(new s.Point(0,0))}var Po={version:s.version,supported:P,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:Kp,NavigationControl:mf,GeolocateControl:Mg,AttributionControl:Zi,ScaleControl:Uc,FullscreenControl:$l,Popup:v1,Marker:Fh,Style:No,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.Point,MercatorCoordinate:s.MercatorCoordinate,Evented:s.Evented,config:s.config,prewarm:Qt,clearPrewarmedResources:re,get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(vt){s.config.ACCESS_TOKEN=vt},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(vt){s.config.API_URL=vt},get workerCount(){return dr.workerCount},set workerCount(vt){dr.workerCount=vt},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(vt){s.config.MAX_PARALLEL_IMAGE_REQUESTS=vt},clearStorage:function(K){s.clearTileCache(K)},workerUrl:""};return Po}),y})},3108:function(W,G,t){W.exports=t(26099)},26099:function(W,G,t){var y=t(64928),D=t(32420),s=t(51160),P=t(76752),M=t(55616),d=t(31264),g=t(47520),r=t(18400),e=t(72512),o=t(76244),n=1073741824;W.exports=function(c,m){m||(m={}),c=g(c,"float64"),m=M(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var v=d(m.maxDepth,255),T=d(m.bounds,P(c,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var h=u(c,T),i=c.length>>>1,p;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?p=new(e(m.dtype))(i):m.dtype&&(p=m.dtype,Array.isArray(p)&&(p.length=i));for(var w=0;w<i;++w)p[w]=w;var A=[],L=[],x=[],E=[];U(0,0,1,p,0,1);for(var S=0,a=0;a<A.length;a++){var C=A[a];if(p.set)p.set(C,S);else for(var b=0,z=C.length;b<z;b++)p[b+S]=C[b];var k=S+A[a].length;E[a]=[S,k],S=k}return p.range=F,p;function U(O,H,X,J,et,it){if(!J.length)return null;var ft=A[et]||(A[et]=[]),ot=x[et]||(x[et]=[]),Q=L[et]||(L[et]=[]),tt=ft.length;if(et++,et>v||it>n){for(var Z=0;Z<J.length;Z++)ft.push(J[Z]),ot.push(it),Q.push(null,null,null,null);return tt}if(ft.push(J[0]),ot.push(it),J.length<=1)return Q.push(null,null,null,null),tt;for(var q=X*.5,ut=O+q,$=H+q,j=[],lt=[],nt=[],ht=[],mt=1,At=J.length;mt<At;mt++){var bt=J[mt],Pt=h[bt*2],_t=h[bt*2+1];Pt<ut?_t<$?j.push(bt):lt.push(bt):_t<$?nt.push(bt):ht.push(bt)}return it<<=2,Q.push(U(O,H,q,j,et,it),U(O,$,q,lt,et,it+1),U(ut,H,q,nt,et,it+2),U(ut,$,q,ht,et,it+3)),tt}function F(){for(var O=[],H=arguments.length;H--;)O[H]=arguments[H];var X;if(r(O[O.length-1])){var J=O.pop();!O.length&&(J.x!=null||J.l!=null||J.left!=null)&&(O=[J],X={}),X=M(J,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else X={};O.length||(O=T);var et=s.apply(void 0,O),it=[Math.min(et.x,et.x+et.width),Math.min(et.y,et.y+et.height),Math.max(et.x,et.x+et.width),Math.max(et.y,et.y+et.height)],ft=it[0],ot=it[1],Q=it[2],tt=it[3],Z=u([ft,ot,Q,tt],T),q=Z[0],ut=Z[1],$=Z[2],j=Z[3],lt=d(X.level,A.length);if(X.d!=null){var nt;typeof X.d=="number"?nt=[X.d,X.d]:X.d.length&&(nt=X.d),lt=Math.min(Math.max(Math.ceil(-o(Math.abs(nt[0])/(T[2]-T[0]))),Math.ceil(-o(Math.abs(nt[1])/(T[3]-T[1])))),lt)}if(lt=Math.min(lt,A.length),X.lod)return V(q,ut,$,j,lt);var ht=[];mt(0,0,1,0,0,1);function mt(bt,Pt,_t,Ut,St,Rt){if(!(St===null||Rt===null)){var Et=bt+_t,zt=Pt+_t;if(!(q>Et||ut>zt||$<bt||j<Pt)&&!(Ut>=lt)&&St!==Rt){var Ct=A[Ut];Rt===void 0&&(Rt=Ct.length);for(var Wt=St;Wt<Rt;Wt++){var Kt=Ct[Wt],oe=c[Kt*2],Jt=c[Kt*2+1];oe>=ft&&oe<=Q&&Jt>=ot&&Jt<=tt&&ht.push(Kt)}var te=L[Ut],fe=te[St*4+0],ve=te[St*4+1],de=te[St*4+2],xe=te[St*4+3],Me=At(te,St+1),ne=_t*.5,kt=Ut+1;mt(bt,Pt,ne,kt,fe,ve||de||xe||Me),mt(bt,Pt+ne,ne,kt,ve,de||xe||Me),mt(bt+ne,Pt,ne,kt,de,xe||Me),mt(bt+ne,Pt+ne,ne,kt,xe,Me)}}}function At(bt,Pt){for(var _t=null,Ut=0;_t===null;)if(_t=bt[Pt*4+Ut],Ut++,Ut>bt.length)return null;return _t}return ht}function V(O,H,X,J,et){for(var it=[],ft=0;ft<et;ft++){var ot=x[ft],Q=E[ft][0],tt=N(O,H,ft),Z=N(X,J,ft),q=y.ge(ot,tt),ut=y.gt(ot,Z,q,ot.length-1);it[ft]=[q+Q,ut+Q]}return it}function N(O,H,X){for(var J=1,et=.5,it=.5,ft=.5,ot=0;ot<X;ot++)J<<=2,J+=O<et?H<it?0:1:H<it?2:3,ft*=.5,et+=O<et?-ft:ft,it+=H<it?-ft:ft;return J}};function u(f,c){for(var m=c[0],v=c[1],T=c[2],h=c[3],i=1/(T-m),p=1/(h-v),w=new Array(f.length),A=0,L=f.length/2;A<L;A++)w[2*A]=D((f[2*A]-m)*i,0,1),w[2*A+1]=D((f[2*A+1]-v)*p,0,1);return w}},40440:function(W,G,t){Object.defineProperty(G,"__esModule",{value:!0});var y=t(3256),D=6378137;function s(r){return y.geomReduce(r,function(e,o){return e+P(o)},0)}G.default=s;function P(r){var e=0,o;switch(r.type){case"Polygon":return M(r.coordinates);case"MultiPolygon":for(o=0;o<r.coordinates.length;o++)e+=M(r.coordinates[o]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function M(r){var e=0;if(r&&r.length>0){e+=Math.abs(d(r[0]));for(var o=1;o<r.length;o++)e-=Math.abs(d(r[o]))}return e}function d(r){var e,o,n,u,f,c,m,v=0,T=r.length;if(T>2){for(m=0;m<T;m++)m===T-2?(u=T-2,f=T-1,c=0):m===T-1?(u=T-1,f=0,c=1):(u=m,f=m+1,c=m+2),e=r[u],o=r[f],n=r[c],v+=(g(n[0])-g(e[0]))*Math.sin(g(o[1]));v=v*D*D/2}return v}function g(r){return r*Math.PI/180}},46284:function(W,G){Object.defineProperty(G,"__esModule",{value:!0}),G.earthRadius=63710088e-1,G.factors={centimeters:G.earthRadius*100,centimetres:G.earthRadius*100,degrees:G.earthRadius/111325,feet:G.earthRadius*3.28084,inches:G.earthRadius*39.37,kilometers:G.earthRadius/1e3,kilometres:G.earthRadius/1e3,meters:G.earthRadius,metres:G.earthRadius,miles:G.earthRadius/1609.344,millimeters:G.earthRadius*1e3,millimetres:G.earthRadius*1e3,nauticalmiles:G.earthRadius/1852,radians:1,yards:G.earthRadius*1.0936},G.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/G.earthRadius,yards:1.0936133},G.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(S,a,C){C===void 0&&(C={});var b={type:"Feature"};return(C.id===0||C.id)&&(b.id=C.id),C.bbox&&(b.bbox=C.bbox),b.properties=a||{},b.geometry=S,b}G.feature=t;function y(S,a,C){switch(S){case"Point":return D(a).geometry;case"LineString":return d(a).geometry;case"Polygon":return P(a).geometry;case"MultiPoint":return o(a).geometry;case"MultiLineString":return e(a).geometry;case"MultiPolygon":return n(a).geometry;default:throw new Error(S+" is invalid")}}G.geometry=y;function D(S,a,C){if(C===void 0&&(C={}),!S)throw new Error("coordinates is required");if(!Array.isArray(S))throw new Error("coordinates must be an Array");if(S.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(S[0])||!A(S[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:S};return t(b,a,C)}G.point=D;function s(S,a,C){return C===void 0&&(C={}),r(S.map(function(b){return D(b,a)}),C)}G.points=s;function P(S,a,C){C===void 0&&(C={});for(var b=0,z=S;b<z.length;b++){var k=z[b];if(k.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<k[k.length-1].length;U++)if(k[k.length-1][U]!==k[0][U])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:S};return t(F,a,C)}G.polygon=P;function M(S,a,C){return C===void 0&&(C={}),r(S.map(function(b){return P(b,a)}),C)}G.polygons=M;function d(S,a,C){if(C===void 0&&(C={}),S.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:S};return t(b,a,C)}G.lineString=d;function g(S,a,C){return C===void 0&&(C={}),r(S.map(function(b){return d(b,a)}),C)}G.lineStrings=g;function r(S,a){a===void 0&&(a={});var C={type:"FeatureCollection"};return a.id&&(C.id=a.id),a.bbox&&(C.bbox=a.bbox),C.features=S,C}G.featureCollection=r;function e(S,a,C){C===void 0&&(C={});var b={type:"MultiLineString",coordinates:S};return t(b,a,C)}G.multiLineString=e;function o(S,a,C){C===void 0&&(C={});var b={type:"MultiPoint",coordinates:S};return t(b,a,C)}G.multiPoint=o;function n(S,a,C){C===void 0&&(C={});var b={type:"MultiPolygon",coordinates:S};return t(b,a,C)}G.multiPolygon=n;function u(S,a,C){C===void 0&&(C={});var b={type:"GeometryCollection",geometries:S};return t(b,a,C)}G.geometryCollection=u;function f(S,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,a||0);return Math.round(S*C)/C}G.round=f;function c(S,a){a===void 0&&(a="kilometers");var C=G.factors[a];if(!C)throw new Error(a+" units is invalid");return S*C}G.radiansToLength=c;function m(S,a){a===void 0&&(a="kilometers");var C=G.factors[a];if(!C)throw new Error(a+" units is invalid");return S/C}G.lengthToRadians=m;function v(S,a){return h(m(S,a))}G.lengthToDegrees=v;function T(S){var a=S%360;return a<0&&(a+=360),a}G.bearingToAzimuth=T;function h(S){var a=S%(2*Math.PI);return a*180/Math.PI}G.radiansToDegrees=h;function i(S){var a=S%360;return a*Math.PI/180}G.degreesToRadians=i;function p(S,a,C){if(a===void 0&&(a="kilometers"),C===void 0&&(C="kilometers"),!(S>=0))throw new Error("length must be a positive number");return c(m(S,a),C)}G.convertLength=p;function w(S,a,C){if(a===void 0&&(a="meters"),C===void 0&&(C="kilometers"),!(S>=0))throw new Error("area must be a positive number");var b=G.areaFactors[a];if(!b)throw new Error("invalid original units");var z=G.areaFactors[C];if(!z)throw new Error("invalid final units");return S/b*z}G.convertArea=w;function A(S){return!isNaN(S)&&S!==null&&!Array.isArray(S)}G.isNumber=A;function L(S){return!!S&&S.constructor===Object}G.isObject=L;function x(S){if(!S)throw new Error("bbox is required");if(!Array.isArray(S))throw new Error("bbox must be an Array");if(S.length!==4&&S.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");S.forEach(function(a){if(!A(a))throw new Error("bbox must only contain numbers")})}G.validateBBox=x;function E(S){if(!S)throw new Error("id is required");if(["string","number"].indexOf(typeof S)===-1)throw new Error("id must be a number or a string")}G.validateId=E},3256:function(W,G,t){Object.defineProperty(G,"__esModule",{value:!0});var y=t(46284);function D(i,p,w){if(i!==null)for(var A,L,x,E,S,a,C,b=0,z=0,k,U=i.type,F=U==="FeatureCollection",V=U==="Feature",N=F?i.features.length:1,O=0;O<N;O++){C=F?i.features[O].geometry:V?i.geometry:i,k=C?C.type==="GeometryCollection":!1,S=k?C.geometries.length:1;for(var H=0;H<S;H++){var X=0,J=0;if(E=k?C.geometries[H]:C,E!==null){a=E.coordinates;var et=E.type;switch(b=w&&(et==="Polygon"||et==="MultiPolygon")?1:0,et){case null:break;case"Point":if(p(a,z,O,X,J)===!1)return!1;z++,X++;break;case"LineString":case"MultiPoint":for(A=0;A<a.length;A++){if(p(a[A],z,O,X,J)===!1)return!1;z++,et==="MultiPoint"&&X++}et==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(A=0;A<a.length;A++){for(L=0;L<a[A].length-b;L++){if(p(a[A][L],z,O,X,J)===!1)return!1;z++}et==="MultiLineString"&&X++,et==="Polygon"&&J++}et==="Polygon"&&X++;break;case"MultiPolygon":for(A=0;A<a.length;A++){for(J=0,L=0;L<a[A].length;L++){for(x=0;x<a[A][L].length-b;x++){if(p(a[A][L][x],z,O,X,J)===!1)return!1;z++}J++}X++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(D(E.geometries[A],p,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(i,p,w,A){var L=w;return D(i,function(x,E,S,a,C){E===0&&w===void 0?L=x:L=p(L,x,E,S,a,C)},A),L}function P(i,p){var w;switch(i.type){case"FeatureCollection":for(w=0;w<i.features.length&&p(i.features[w].properties,w)!==!1;w++);break;case"Feature":p(i.properties,0);break}}function M(i,p,w){var A=w;return P(i,function(L,x){x===0&&w===void 0?A=L:A=p(A,L,x)}),A}function d(i,p){if(i.type==="Feature")p(i,0);else if(i.type==="FeatureCollection")for(var w=0;w<i.features.length&&p(i.features[w],w)!==!1;w++);}function g(i,p,w){var A=w;return d(i,function(L,x){x===0&&w===void 0?A=L:A=p(A,L,x)}),A}function r(i){var p=[];return D(i,function(w){p.push(w)}),p}function e(i,p){var w,A,L,x,E,S,a,C,b,z,k=0,U=i.type==="FeatureCollection",F=i.type==="Feature",V=U?i.features.length:1;for(w=0;w<V;w++){for(S=U?i.features[w].geometry:F?i.geometry:i,C=U?i.features[w].properties:F?i.properties:{},b=U?i.features[w].bbox:F?i.bbox:void 0,z=U?i.features[w].id:F?i.id:void 0,a=S?S.type==="GeometryCollection":!1,E=a?S.geometries.length:1,L=0;L<E;L++){if(x=a?S.geometries[L]:S,x===null){if(p(null,k,C,b,z)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(x,k,C,b,z)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<x.geometries.length;A++)if(p(x.geometries[A],k,C,b,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function o(i,p,w){var A=w;return e(i,function(L,x,E,S,a){x===0&&w===void 0?A=L:A=p(A,L,x,E,S,a)}),A}function n(i,p){e(i,function(w,A,L,x,E){var S=w===null?null:w.type;switch(S){case null:case"Point":case"LineString":case"Polygon":return p(y.feature(w,L,{bbox:x,id:E}),A,0)===!1?!1:void 0}var a;switch(S){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var C=0;C<w.coordinates.length;C++){var b=w.coordinates[C],z={type:a,coordinates:b};if(p(y.feature(z,L),A,C)===!1)return!1}})}function u(i,p,w){var A=w;return n(i,function(L,x,E){x===0&&E===0&&w===void 0?A=L:A=p(A,L,x,E)}),A}function f(i,p){n(i,function(w,A,L){var x=0;if(w.geometry){var E=w.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var S,a=0,C=0,b=0;if(D(w,function(z,k,U,F,V){if(S===void 0||A>a||F>C||V>b){S=z,a=A,C=F,b=V,x=0;return}var N=y.lineString([S,z],w.properties);if(p(N,A,L,V,x)===!1)return!1;x++,S=z})===!1)return!1}}})}function c(i,p,w){var A=w,L=!1;return f(i,function(x,E,S,a,C){L===!1&&w===void 0?A=x:A=p(A,x,E,S,a,C),L=!0}),A}function m(i,p){if(!i)throw new Error("geojson is required");n(i,function(w,A,L){if(w.geometry!==null){var x=w.geometry.type,E=w.geometry.coordinates;switch(x){case"LineString":if(p(w,A,L,0,0)===!1)return!1;break;case"Polygon":for(var S=0;S<E.length;S++)if(p(y.lineString(E[S],w.properties),A,L,S)===!1)return!1;break}}})}function v(i,p,w){var A=w;return m(i,function(L,x,E,S){x===0&&w===void 0?A=L:A=p(A,L,x,E,S)}),A}function T(i,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,A=p.multiFeatureIndex||0,L=p.geometryIndex||0,x=p.segmentIndex||0,E=p.properties,S;switch(i.type){case"FeatureCollection":w<0&&(w=i.features.length+w),E=E||i.features[w].properties,S=i.features[w].geometry;break;case"Feature":E=E||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var a=S.coordinates;switch(S.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=a.length+x-1),y.lineString([a[x],a[x+1]],E,p);case"Polygon":return L<0&&(L=a.length+L),x<0&&(x=a[L].length+x-1),y.lineString([a[L][x],a[L][x+1]],E,p);case"MultiLineString":return A<0&&(A=a.length+A),x<0&&(x=a[A].length+x-1),y.lineString([a[A][x],a[A][x+1]],E,p);case"MultiPolygon":return A<0&&(A=a.length+A),L<0&&(L=a[A].length+L),x<0&&(x=a[A][L].length-x-1),y.lineString([a[A][L][x],a[A][L][x+1]],E,p)}throw new Error("geojson is invalid")}function h(i,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,A=p.multiFeatureIndex||0,L=p.geometryIndex||0,x=p.coordIndex||0,E=p.properties,S;switch(i.type){case"FeatureCollection":w<0&&(w=i.features.length+w),E=E||i.features[w].properties,S=i.features[w].geometry;break;case"Feature":E=E||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var a=S.coordinates;switch(S.type){case"Point":return y.point(a,E,p);case"MultiPoint":return A<0&&(A=a.length+A),y.point(a[A],E,p);case"LineString":return x<0&&(x=a.length+x),y.point(a[x],E,p);case"Polygon":return L<0&&(L=a.length+L),x<0&&(x=a[L].length+x),y.point(a[L][x],E,p);case"MultiLineString":return A<0&&(A=a.length+A),x<0&&(x=a[A].length+x),y.point(a[A][x],E,p);case"MultiPolygon":return A<0&&(A=a.length+A),L<0&&(L=a[A].length+L),x<0&&(x=a[A][L].length-x),y.point(a[A][L][x],E,p)}throw new Error("geojson is invalid")}G.coordEach=D,G.coordReduce=s,G.propEach=P,G.propReduce=M,G.featureEach=d,G.featureReduce=g,G.coordAll=r,G.geomEach=e,G.geomReduce=o,G.flattenEach=n,G.flattenReduce=u,G.segmentEach=f,G.segmentReduce=c,G.lineEach=m,G.lineReduce=v,G.findSegment=T,G.findPoint=h},42428:function(W,G,t){Object.defineProperty(G,"__esModule",{value:!0});var y=t(84880);function D(s){var P=[1/0,1/0,-1/0,-1/0];return y.coordEach(s,function(M){P[0]>M[0]&&(P[0]=M[0]),P[1]>M[1]&&(P[1]=M[1]),P[2]<M[0]&&(P[2]=M[0]),P[3]<M[1]&&(P[3]=M[1])}),P}D.default=D,G.default=D},76796:function(W,G){Object.defineProperty(G,"__esModule",{value:!0}),G.earthRadius=63710088e-1,G.factors={centimeters:G.earthRadius*100,centimetres:G.earthRadius*100,degrees:G.earthRadius/111325,feet:G.earthRadius*3.28084,inches:G.earthRadius*39.37,kilometers:G.earthRadius/1e3,kilometres:G.earthRadius/1e3,meters:G.earthRadius,metres:G.earthRadius,miles:G.earthRadius/1609.344,millimeters:G.earthRadius*1e3,millimetres:G.earthRadius*1e3,nauticalmiles:G.earthRadius/1852,radians:1,yards:G.earthRadius*1.0936},G.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/G.earthRadius,yards:1.0936133},G.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(S,a,C){C===void 0&&(C={});var b={type:"Feature"};return(C.id===0||C.id)&&(b.id=C.id),C.bbox&&(b.bbox=C.bbox),b.properties=a||{},b.geometry=S,b}G.feature=t;function y(S,a,C){switch(S){case"Point":return D(a).geometry;case"LineString":return d(a).geometry;case"Polygon":return P(a).geometry;case"MultiPoint":return o(a).geometry;case"MultiLineString":return e(a).geometry;case"MultiPolygon":return n(a).geometry;default:throw new Error(S+" is invalid")}}G.geometry=y;function D(S,a,C){if(C===void 0&&(C={}),!S)throw new Error("coordinates is required");if(!Array.isArray(S))throw new Error("coordinates must be an Array");if(S.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(S[0])||!A(S[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:S};return t(b,a,C)}G.point=D;function s(S,a,C){return C===void 0&&(C={}),r(S.map(function(b){return D(b,a)}),C)}G.points=s;function P(S,a,C){C===void 0&&(C={});for(var b=0,z=S;b<z.length;b++){var k=z[b];if(k.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<k[k.length-1].length;U++)if(k[k.length-1][U]!==k[0][U])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:S};return t(F,a,C)}G.polygon=P;function M(S,a,C){return C===void 0&&(C={}),r(S.map(function(b){return P(b,a)}),C)}G.polygons=M;function d(S,a,C){if(C===void 0&&(C={}),S.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:S};return t(b,a,C)}G.lineString=d;function g(S,a,C){return C===void 0&&(C={}),r(S.map(function(b){return d(b,a)}),C)}G.lineStrings=g;function r(S,a){a===void 0&&(a={});var C={type:"FeatureCollection"};return a.id&&(C.id=a.id),a.bbox&&(C.bbox=a.bbox),C.features=S,C}G.featureCollection=r;function e(S,a,C){C===void 0&&(C={});var b={type:"MultiLineString",coordinates:S};return t(b,a,C)}G.multiLineString=e;function o(S,a,C){C===void 0&&(C={});var b={type:"MultiPoint",coordinates:S};return t(b,a,C)}G.multiPoint=o;function n(S,a,C){C===void 0&&(C={});var b={type:"MultiPolygon",coordinates:S};return t(b,a,C)}G.multiPolygon=n;function u(S,a,C){C===void 0&&(C={});var b={type:"GeometryCollection",geometries:S};return t(b,a,C)}G.geometryCollection=u;function f(S,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,a||0);return Math.round(S*C)/C}G.round=f;function c(S,a){a===void 0&&(a="kilometers");var C=G.factors[a];if(!C)throw new Error(a+" units is invalid");return S*C}G.radiansToLength=c;function m(S,a){a===void 0&&(a="kilometers");var C=G.factors[a];if(!C)throw new Error(a+" units is invalid");return S/C}G.lengthToRadians=m;function v(S,a){return h(m(S,a))}G.lengthToDegrees=v;function T(S){var a=S%360;return a<0&&(a+=360),a}G.bearingToAzimuth=T;function h(S){var a=S%(2*Math.PI);return a*180/Math.PI}G.radiansToDegrees=h;function i(S){var a=S%360;return a*Math.PI/180}G.degreesToRadians=i;function p(S,a,C){if(a===void 0&&(a="kilometers"),C===void 0&&(C="kilometers"),!(S>=0))throw new Error("length must be a positive number");return c(m(S,a),C)}G.convertLength=p;function w(S,a,C){if(a===void 0&&(a="meters"),C===void 0&&(C="kilometers"),!(S>=0))throw new Error("area must be a positive number");var b=G.areaFactors[a];if(!b)throw new Error("invalid original units");var z=G.areaFactors[C];if(!z)throw new Error("invalid final units");return S/b*z}G.convertArea=w;function A(S){return!isNaN(S)&&S!==null&&!Array.isArray(S)}G.isNumber=A;function L(S){return!!S&&S.constructor===Object}G.isObject=L;function x(S){if(!S)throw new Error("bbox is required");if(!Array.isArray(S))throw new Error("bbox must be an Array");if(S.length!==4&&S.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");S.forEach(function(a){if(!A(a))throw new Error("bbox must only contain numbers")})}G.validateBBox=x;function E(S){if(!S)throw new Error("id is required");if(["string","number"].indexOf(typeof S)===-1)throw new Error("id must be a number or a string")}G.validateId=E},84880:function(W,G,t){Object.defineProperty(G,"__esModule",{value:!0});var y=t(76796);function D(i,p,w){if(i!==null)for(var A,L,x,E,S,a,C,b=0,z=0,k,U=i.type,F=U==="FeatureCollection",V=U==="Feature",N=F?i.features.length:1,O=0;O<N;O++){C=F?i.features[O].geometry:V?i.geometry:i,k=C?C.type==="GeometryCollection":!1,S=k?C.geometries.length:1;for(var H=0;H<S;H++){var X=0,J=0;if(E=k?C.geometries[H]:C,E!==null){a=E.coordinates;var et=E.type;switch(b=w&&(et==="Polygon"||et==="MultiPolygon")?1:0,et){case null:break;case"Point":if(p(a,z,O,X,J)===!1)return!1;z++,X++;break;case"LineString":case"MultiPoint":for(A=0;A<a.length;A++){if(p(a[A],z,O,X,J)===!1)return!1;z++,et==="MultiPoint"&&X++}et==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(A=0;A<a.length;A++){for(L=0;L<a[A].length-b;L++){if(p(a[A][L],z,O,X,J)===!1)return!1;z++}et==="MultiLineString"&&X++,et==="Polygon"&&J++}et==="Polygon"&&X++;break;case"MultiPolygon":for(A=0;A<a.length;A++){for(J=0,L=0;L<a[A].length;L++){for(x=0;x<a[A][L].length-b;x++){if(p(a[A][L][x],z,O,X,J)===!1)return!1;z++}J++}X++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(D(E.geometries[A],p,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(i,p,w,A){var L=w;return D(i,function(x,E,S,a,C){E===0&&w===void 0?L=x:L=p(L,x,E,S,a,C)},A),L}function P(i,p){var w;switch(i.type){case"FeatureCollection":for(w=0;w<i.features.length&&p(i.features[w].properties,w)!==!1;w++);break;case"Feature":p(i.properties,0);break}}function M(i,p,w){var A=w;return P(i,function(L,x){x===0&&w===void 0?A=L:A=p(A,L,x)}),A}function d(i,p){if(i.type==="Feature")p(i,0);else if(i.type==="FeatureCollection")for(var w=0;w<i.features.length&&p(i.features[w],w)!==!1;w++);}function g(i,p,w){var A=w;return d(i,function(L,x){x===0&&w===void 0?A=L:A=p(A,L,x)}),A}function r(i){var p=[];return D(i,function(w){p.push(w)}),p}function e(i,p){var w,A,L,x,E,S,a,C,b,z,k=0,U=i.type==="FeatureCollection",F=i.type==="Feature",V=U?i.features.length:1;for(w=0;w<V;w++){for(S=U?i.features[w].geometry:F?i.geometry:i,C=U?i.features[w].properties:F?i.properties:{},b=U?i.features[w].bbox:F?i.bbox:void 0,z=U?i.features[w].id:F?i.id:void 0,a=S?S.type==="GeometryCollection":!1,E=a?S.geometries.length:1,L=0;L<E;L++){if(x=a?S.geometries[L]:S,x===null){if(p(null,k,C,b,z)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(x,k,C,b,z)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<x.geometries.length;A++)if(p(x.geometries[A],k,C,b,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function o(i,p,w){var A=w;return e(i,function(L,x,E,S,a){x===0&&w===void 0?A=L:A=p(A,L,x,E,S,a)}),A}function n(i,p){e(i,function(w,A,L,x,E){var S=w===null?null:w.type;switch(S){case null:case"Point":case"LineString":case"Polygon":return p(y.feature(w,L,{bbox:x,id:E}),A,0)===!1?!1:void 0}var a;switch(S){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var C=0;C<w.coordinates.length;C++){var b=w.coordinates[C],z={type:a,coordinates:b};if(p(y.feature(z,L),A,C)===!1)return!1}})}function u(i,p,w){var A=w;return n(i,function(L,x,E){x===0&&E===0&&w===void 0?A=L:A=p(A,L,x,E)}),A}function f(i,p){n(i,function(w,A,L){var x=0;if(w.geometry){var E=w.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var S,a=0,C=0,b=0;if(D(w,function(z,k,U,F,V){if(S===void 0||A>a||F>C||V>b){S=z,a=A,C=F,b=V,x=0;return}var N=y.lineString([S,z],w.properties);if(p(N,A,L,V,x)===!1)return!1;x++,S=z})===!1)return!1}}})}function c(i,p,w){var A=w,L=!1;return f(i,function(x,E,S,a,C){L===!1&&w===void 0?A=x:A=p(A,x,E,S,a,C),L=!0}),A}function m(i,p){if(!i)throw new Error("geojson is required");n(i,function(w,A,L){if(w.geometry!==null){var x=w.geometry.type,E=w.geometry.coordinates;switch(x){case"LineString":if(p(w,A,L,0,0)===!1)return!1;break;case"Polygon":for(var S=0;S<E.length;S++)if(p(y.lineString(E[S],w.properties),A,L,S)===!1)return!1;break}}})}function v(i,p,w){var A=w;return m(i,function(L,x,E,S){x===0&&w===void 0?A=L:A=p(A,L,x,E,S)}),A}function T(i,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,A=p.multiFeatureIndex||0,L=p.geometryIndex||0,x=p.segmentIndex||0,E=p.properties,S;switch(i.type){case"FeatureCollection":w<0&&(w=i.features.length+w),E=E||i.features[w].properties,S=i.features[w].geometry;break;case"Feature":E=E||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var a=S.coordinates;switch(S.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=a.length+x-1),y.lineString([a[x],a[x+1]],E,p);case"Polygon":return L<0&&(L=a.length+L),x<0&&(x=a[L].length+x-1),y.lineString([a[L][x],a[L][x+1]],E,p);case"MultiLineString":return A<0&&(A=a.length+A),x<0&&(x=a[A].length+x-1),y.lineString([a[A][x],a[A][x+1]],E,p);case"MultiPolygon":return A<0&&(A=a.length+A),L<0&&(L=a[A].length+L),x<0&&(x=a[A][L].length-x-1),y.lineString([a[A][L][x],a[A][L][x+1]],E,p)}throw new Error("geojson is invalid")}function h(i,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,A=p.multiFeatureIndex||0,L=p.geometryIndex||0,x=p.coordIndex||0,E=p.properties,S;switch(i.type){case"FeatureCollection":w<0&&(w=i.features.length+w),E=E||i.features[w].properties,S=i.features[w].geometry;break;case"Feature":E=E||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var a=S.coordinates;switch(S.type){case"Point":return y.point(a,E,p);case"MultiPoint":return A<0&&(A=a.length+A),y.point(a[A],E,p);case"LineString":return x<0&&(x=a.length+x),y.point(a[x],E,p);case"Polygon":return L<0&&(L=a.length+L),x<0&&(x=a[L].length+x),y.point(a[L][x],E,p);case"MultiLineString":return A<0&&(A=a.length+A),x<0&&(x=a[A].length+x),y.point(a[A][x],E,p);case"MultiPolygon":return A<0&&(A=a.length+A),L<0&&(L=a[A].length+L),x<0&&(x=a[A][L].length-x),y.point(a[A][L][x],E,p)}throw new Error("geojson is invalid")}G.coordEach=D,G.coordReduce=s,G.propEach=P,G.propReduce=M,G.featureEach=d,G.featureReduce=g,G.coordAll=r,G.geomEach=e,G.geomReduce=o,G.flattenEach=n,G.flattenReduce=u,G.segmentEach=f,G.segmentReduce=c,G.lineEach=m,G.lineReduce=v,G.findSegment=T,G.findPoint=h},77844:function(W,G,t){Object.defineProperty(G,"__esModule",{value:!0});var y=t(43752),D=t(49840);function s(P,M){M===void 0&&(M={});var d=0,g=0,r=0;return y.coordEach(P,function(e){d+=e[0],g+=e[1],r++}),D.point([d/r,g/r],M.properties)}G.default=s},49840:function(W,G){Object.defineProperty(G,"__esModule",{value:!0}),G.earthRadius=63710088e-1,G.factors={centimeters:G.earthRadius*100,centimetres:G.earthRadius*100,degrees:G.earthRadius/111325,feet:G.earthRadius*3.28084,inches:G.earthRadius*39.37,kilometers:G.earthRadius/1e3,kilometres:G.earthRadius/1e3,meters:G.earthRadius,metres:G.earthRadius,miles:G.earthRadius/1609.344,millimeters:G.earthRadius*1e3,millimetres:G.earthRadius*1e3,nauticalmiles:G.earthRadius/1852,radians:1,yards:G.earthRadius/1.0936},G.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/G.earthRadius,yards:.91441111923921},G.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function t(F,V,N){N===void 0&&(N={});var O={type:"Feature"};return(N.id===0||N.id)&&(O.id=N.id),N.bbox&&(O.bbox=N.bbox),O.properties=V||{},O.geometry=F,O}G.feature=t;function y(F,V,N){switch(F){case"Point":return D(V).geometry;case"LineString":return d(V).geometry;case"Polygon":return P(V).geometry;case"MultiPoint":return o(V).geometry;case"MultiLineString":return e(V).geometry;case"MultiPolygon":return n(V).geometry;default:throw new Error(F+" is invalid")}}G.geometry=y;function D(F,V,N){N===void 0&&(N={});var O={type:"Point",coordinates:F};return t(O,V,N)}G.point=D;function s(F,V,N){return N===void 0&&(N={}),r(F.map(function(O){return D(O,V)}),N)}G.points=s;function P(F,V,N){N===void 0&&(N={});for(var O=0,H=F;O<H.length;O++){var X=H[O];if(X.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var J=0;J<X[X.length-1].length;J++)if(X[X.length-1][J]!==X[0][J])throw new Error("First and last Position are not equivalent.")}var et={type:"Polygon",coordinates:F};return t(et,V,N)}G.polygon=P;function M(F,V,N){return N===void 0&&(N={}),r(F.map(function(O){return P(O,V)}),N)}G.polygons=M;function d(F,V,N){if(N===void 0&&(N={}),F.length<2)throw new Error("coordinates must be an array of two or more positions");var O={type:"LineString",coordinates:F};return t(O,V,N)}G.lineString=d;function g(F,V,N){return N===void 0&&(N={}),r(F.map(function(O){return d(O,V)}),N)}G.lineStrings=g;function r(F,V){V===void 0&&(V={});var N={type:"FeatureCollection"};return V.id&&(N.id=V.id),V.bbox&&(N.bbox=V.bbox),N.features=F,N}G.featureCollection=r;function e(F,V,N){N===void 0&&(N={});var O={type:"MultiLineString",coordinates:F};return t(O,V,N)}G.multiLineString=e;function o(F,V,N){N===void 0&&(N={});var O={type:"MultiPoint",coordinates:F};return t(O,V,N)}G.multiPoint=o;function n(F,V,N){N===void 0&&(N={});var O={type:"MultiPolygon",coordinates:F};return t(O,V,N)}G.multiPolygon=n;function u(F,V,N){N===void 0&&(N={});var O={type:"GeometryCollection",geometries:F};return t(O,V,N)}G.geometryCollection=u;function f(F,V){if(V===void 0&&(V=0),V&&!(V>=0))throw new Error("precision must be a positive number");var N=Math.pow(10,V||0);return Math.round(F*N)/N}G.round=f;function c(F,V){V===void 0&&(V="kilometers");var N=G.factors[V];if(!N)throw new Error(V+" units is invalid");return F*N}G.radiansToLength=c;function m(F,V){V===void 0&&(V="kilometers");var N=G.factors[V];if(!N)throw new Error(V+" units is invalid");return F/N}G.lengthToRadians=m;function v(F,V){return h(m(F,V))}G.lengthToDegrees=v;function T(F){var V=F%360;return V<0&&(V+=360),V}G.bearingToAzimuth=T;function h(F){var V=F%(2*Math.PI);return V*180/Math.PI}G.radiansToDegrees=h;function i(F){var V=F%360;return V*Math.PI/180}G.degreesToRadians=i;function p(F,V,N){if(V===void 0&&(V="kilometers"),N===void 0&&(N="kilometers"),!(F>=0))throw new Error("length must be a positive number");return c(m(F,V),N)}G.convertLength=p;function w(F,V,N){if(V===void 0&&(V="meters"),N===void 0&&(N="kilometers"),!(F>=0))throw new Error("area must be a positive number");var O=G.areaFactors[V];if(!O)throw new Error("invalid original units");var H=G.areaFactors[N];if(!H)throw new Error("invalid final units");return F/O*H}G.convertArea=w;function A(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)&&!/^\s*$/.test(F)}G.isNumber=A;function L(F){return!!F&&F.constructor===Object}G.isObject=L;function x(F){if(!F)throw new Error("bbox is required");if(!Array.isArray(F))throw new Error("bbox must be an Array");if(F.length!==4&&F.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");F.forEach(function(V){if(!A(V))throw new Error("bbox must only contain numbers")})}G.validateBBox=x;function E(F){if(!F)throw new Error("id is required");if(["string","number"].indexOf(typeof F)===-1)throw new Error("id must be a number or a string")}G.validateId=E;function S(){throw new Error("method has been renamed to `radiansToDegrees`")}G.radians2degrees=S;function a(){throw new Error("method has been renamed to `degreesToRadians`")}G.degrees2radians=a;function C(){throw new Error("method has been renamed to `lengthToDegrees`")}G.distanceToDegrees=C;function b(){throw new Error("method has been renamed to `lengthToRadians`")}G.distanceToRadians=b;function z(){throw new Error("method has been renamed to `radiansToLength`")}G.radiansToDistance=z;function k(){throw new Error("method has been renamed to `bearingToAzimuth`")}G.bearingToAngle=k;function U(){throw new Error("method has been renamed to `convertLength`")}G.convertDistance=U},43752:function(W,G,t){Object.defineProperty(G,"__esModule",{value:!0});var y=t(49840);function D(i,p,w){if(i!==null)for(var A,L,x,E,S,a,C,b=0,z=0,k,U=i.type,F=U==="FeatureCollection",V=U==="Feature",N=F?i.features.length:1,O=0;O<N;O++){C=F?i.features[O].geometry:V?i.geometry:i,k=C?C.type==="GeometryCollection":!1,S=k?C.geometries.length:1;for(var H=0;H<S;H++){var X=0,J=0;if(E=k?C.geometries[H]:C,E!==null){a=E.coordinates;var et=E.type;switch(b=w&&(et==="Polygon"||et==="MultiPolygon")?1:0,et){case null:break;case"Point":if(p(a,z,O,X,J)===!1)return!1;z++,X++;break;case"LineString":case"MultiPoint":for(A=0;A<a.length;A++){if(p(a[A],z,O,X,J)===!1)return!1;z++,et==="MultiPoint"&&X++}et==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(A=0;A<a.length;A++){for(L=0;L<a[A].length-b;L++){if(p(a[A][L],z,O,X,J)===!1)return!1;z++}et==="MultiLineString"&&X++,et==="Polygon"&&J++}et==="Polygon"&&X++;break;case"MultiPolygon":for(A=0;A<a.length;A++){for(J=0,L=0;L<a[A].length;L++){for(x=0;x<a[A][L].length-b;x++){if(p(a[A][L][x],z,O,X,J)===!1)return!1;z++}J++}X++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(D(E.geometries[A],p,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function s(i,p,w,A){var L=w;return D(i,function(x,E,S,a,C){E===0&&w===void 0?L=x:L=p(L,x,E,S,a,C)},A),L}function P(i,p){var w;switch(i.type){case"FeatureCollection":for(w=0;w<i.features.length&&p(i.features[w].properties,w)!==!1;w++);break;case"Feature":p(i.properties,0);break}}function M(i,p,w){var A=w;return P(i,function(L,x){x===0&&w===void 0?A=L:A=p(A,L,x)}),A}function d(i,p){if(i.type==="Feature")p(i,0);else if(i.type==="FeatureCollection")for(var w=0;w<i.features.length&&p(i.features[w],w)!==!1;w++);}function g(i,p,w){var A=w;return d(i,function(L,x){x===0&&w===void 0?A=L:A=p(A,L,x)}),A}function r(i){var p=[];return D(i,function(w){p.push(w)}),p}function e(i,p){var w,A,L,x,E,S,a,C,b,z,k=0,U=i.type==="FeatureCollection",F=i.type==="Feature",V=U?i.features.length:1;for(w=0;w<V;w++){for(S=U?i.features[w].geometry:F?i.geometry:i,C=U?i.features[w].properties:F?i.properties:{},b=U?i.features[w].bbox:F?i.bbox:void 0,z=U?i.features[w].id:F?i.id:void 0,a=S?S.type==="GeometryCollection":!1,E=a?S.geometries.length:1,L=0;L<E;L++){if(x=a?S.geometries[L]:S,x===null){if(p(null,k,C,b,z)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(x,k,C,b,z)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<x.geometries.length;A++)if(p(x.geometries[A],k,C,b,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function o(i,p,w){var A=w;return e(i,function(L,x,E,S,a){x===0&&w===void 0?A=L:A=p(A,L,x,E,S,a)}),A}function n(i,p){e(i,function(w,A,L,x,E){var S=w===null?null:w.type;switch(S){case null:case"Point":case"LineString":case"Polygon":return p(y.feature(w,L,{bbox:x,id:E}),A,0)===!1?!1:void 0}var a;switch(S){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var C=0;C<w.coordinates.length;C++){var b=w.coordinates[C],z={type:a,coordinates:b};if(p(y.feature(z,L),A,C)===!1)return!1}})}function u(i,p,w){var A=w;return n(i,function(L,x,E){x===0&&E===0&&w===void 0?A=L:A=p(A,L,x,E)}),A}function f(i,p){n(i,function(w,A,L){var x=0;if(w.geometry){var E=w.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var S,a=0,C=0,b=0;if(D(w,function(z,k,U,F,V){if(S===void 0||A>a||F>C||V>b){S=z,a=A,C=F,b=V,x=0;return}var N=y.lineString([S,z],w.properties);if(p(N,A,L,V,x)===!1)return!1;x++,S=z})===!1)return!1}}})}function c(i,p,w){var A=w,L=!1;return f(i,function(x,E,S,a,C){L===!1&&w===void 0?A=x:A=p(A,x,E,S,a,C),L=!0}),A}function m(i,p){if(!i)throw new Error("geojson is required");n(i,function(w,A,L){if(w.geometry!==null){var x=w.geometry.type,E=w.geometry.coordinates;switch(x){case"LineString":if(p(w,A,L,0,0)===!1)return!1;break;case"Polygon":for(var S=0;S<E.length;S++)if(p(y.lineString(E[S],w.properties),A,L,S)===!1)return!1;break}}})}function v(i,p,w){var A=w;return m(i,function(L,x,E,S){x===0&&w===void 0?A=L:A=p(A,L,x,E,S)}),A}function T(i,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,A=p.multiFeatureIndex||0,L=p.geometryIndex||0,x=p.segmentIndex||0,E=p.properties,S;switch(i.type){case"FeatureCollection":w<0&&(w=i.features.length+w),E=E||i.features[w].properties,S=i.features[w].geometry;break;case"Feature":E=E||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var a=S.coordinates;switch(S.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=a.length+x-1),y.lineString([a[x],a[x+1]],E,p);case"Polygon":return L<0&&(L=a.length+L),x<0&&(x=a[L].length+x-1),y.lineString([a[L][x],a[L][x+1]],E,p);case"MultiLineString":return A<0&&(A=a.length+A),x<0&&(x=a[A].length+x-1),y.lineString([a[A][x],a[A][x+1]],E,p);case"MultiPolygon":return A<0&&(A=a.length+A),L<0&&(L=a[A].length+L),x<0&&(x=a[A][L].length-x-1),y.lineString([a[A][L][x],a[A][L][x+1]],E,p)}throw new Error("geojson is invalid")}function h(i,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var w=p.featureIndex||0,A=p.multiFeatureIndex||0,L=p.geometryIndex||0,x=p.coordIndex||0,E=p.properties,S;switch(i.type){case"FeatureCollection":w<0&&(w=i.features.length+w),E=E||i.features[w].properties,S=i.features[w].geometry;break;case"Feature":E=E||i.properties,S=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=i;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var a=S.coordinates;switch(S.type){case"Point":return y.point(a,E,p);case"MultiPoint":return A<0&&(A=a.length+A),y.point(a[A],E,p);case"LineString":return x<0&&(x=a.length+x),y.point(a[x],E,p);case"Polygon":return L<0&&(L=a.length+L),x<0&&(x=a[L].length+x),y.point(a[L][x],E,p);case"MultiLineString":return A<0&&(A=a.length+A),x<0&&(x=a[A].length+x),y.point(a[A][x],E,p);case"MultiPolygon":return A<0&&(A=a.length+A),L<0&&(L=a[A].length+L),x<0&&(x=a[A][L].length-x),y.point(a[A][L][x],E,p)}throw new Error("geojson is invalid")}G.coordEach=D,G.coordReduce=s,G.propEach=P,G.propReduce=M,G.featureEach=d,G.featureReduce=g,G.coordAll=r,G.geomEach=e,G.geomReduce=o,G.flattenEach=n,G.flattenReduce=u,G.segmentEach=f,G.segmentReduce=c,G.lineEach=m,G.lineReduce=v,G.findSegment=T,G.findPoint=h},49972:function(W){W.exports=G;function G(t){var y=0,D=0,s=0,P=0;return t.map(function(M){M=M.slice();var d=M[0],g=d.toUpperCase();if(d!=g)switch(M[0]=g,d){case"a":M[6]+=s,M[7]+=P;break;case"v":M[1]+=P;break;case"h":M[1]+=s;break;default:for(var r=1;r<M.length;)M[r++]+=s,M[r++]+=P}switch(g){case"Z":s=y,P=D;break;case"H":s=M[1];break;case"V":P=M[1];break;case"M":s=y=M[1],P=D=M[2];break;default:s=M[M.length-2],P=M[M.length-1]}return M})}},76752:function(W){W.exports=G;function G(t,y){if(!t||t.length==null)throw Error("Argument should be an array");y==null?y=1:y=Math.floor(y);for(var D=Array(y*2),s=0;s<y;s++){for(var P=-1/0,M=1/0,d=s,g=t.length;d<g;d+=y)t[d]>P&&(P=t[d]),t[d]<M&&(M=t[d]);D[s]=M,D[y+s]=P}return D}},10272:function(W){W.exports=function(G,t,y){if(typeof Array.prototype.findIndex=="function")return G.findIndex(t,y);if(typeof t!="function")throw new TypeError("predicate must be a function");var D=Object(G),s=D.length;if(s===0)return-1;for(var P=0;P<s;P++)if(t.call(y,D[P],P,D))return P;return-1}},71152:function(W,G,t){var y=t(76752);W.exports=D;function D(s,P,M){if(!s||s.length==null)throw Error("Argument should be an array");P==null&&(P=1),M==null&&(M=y(s,P));for(var d=0;d<P;d++){var g=M[P+d],r=M[d],e=d,o=s.length;if(g===1/0&&r===-1/0)for(e=d;e<o;e+=P)s[e]=s[e]===g?1:s[e]===r?0:.5;else if(g===1/0)for(e=d;e<o;e+=P)s[e]=s[e]===g?1:0;else if(r===-1/0)for(e=d;e<o;e+=P)s[e]=s[e]===r?0:1;else{var n=g-r;for(e=d;e<o;e+=P)isNaN(s[e])||(s[e]=n===0?.5:(s[e]-r)/n)}}return s}},67752:function(W){W.exports=function(t,y){var D=typeof t=="number",s=typeof y=="number";D&&!s?(y=t,t=0):!D&&!s&&(t=0,y=0),t=t|0,y=y|0;var P=y-t;if(P<0)throw new Error("array length must be positive");for(var M=new Array(P),d=0,g=t;d<P;d++,g++)M[d]=g;return M}},45408:function(W,G,t){var y=t(4168);function D(J){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(it){return typeof it}:D=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},D(J)}function s(J,et){if(!(J instanceof et))throw new TypeError("Cannot call a class as a function")}var P=t(86832),M=P.codes,d=M.ERR_AMBIGUOUS_ARGUMENT,g=M.ERR_INVALID_ARG_TYPE,r=M.ERR_INVALID_ARG_VALUE,e=M.ERR_INVALID_RETURN_VALUE,o=M.ERR_MISSING_ARGS,n=t(26144),u=t(35840),f=u.inspect,c=t(35840).types,m=c.isPromise,v=c.isRegExp,T=Object.assign?Object.assign:t(60964).assign,h=Object.is?Object.is:t(39896),i,p;function w(){var J=t(25116);i=J.isDeepEqual,p=J.isDeepStrictEqual}var A=!1,L=W.exports=C,x={};function E(J){throw J.message instanceof Error?J.message:new n(J)}function S(J,et,it,ft,ot){var Q=arguments.length,tt;if(Q===0)tt="Failed";else if(Q===1)it=J,J=void 0;else{if(A===!1){A=!0;var Z=y.emitWarning?y.emitWarning:console.warn.bind(console);Z("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Q===2&&(ft="!=")}if(it instanceof Error)throw it;var q={actual:J,expected:et,operator:ft===void 0?"fail":ft,stackStartFn:ot||S};it!==void 0&&(q.message=it);var ut=new n(q);throw tt&&(ut.message=tt,ut.generatedMessage=!0),ut}L.fail=S,L.AssertionError=n;function a(J,et,it,ft){if(!it){var ot=!1;if(et===0)ot=!0,ft="No value argument passed to `assert.ok()`";else if(ft instanceof Error)throw ft;var Q=new n({actual:it,expected:!0,message:ft,operator:"==",stackStartFn:J});throw Q.generatedMessage=ot,Q}}function C(){for(var J=arguments.length,et=new Array(J),it=0;it<J;it++)et[it]=arguments[it];a.apply(void 0,[C,et.length].concat(et))}L.ok=C,L.equal=function J(et,it,ft){if(arguments.length<2)throw new o("actual","expected");et!=it&&E({actual:et,expected:it,message:ft,operator:"==",stackStartFn:J})},L.notEqual=function J(et,it,ft){if(arguments.length<2)throw new o("actual","expected");et==it&&E({actual:et,expected:it,message:ft,operator:"!=",stackStartFn:J})},L.deepEqual=function J(et,it,ft){if(arguments.length<2)throw new o("actual","expected");i===void 0&&w(),i(et,it)||E({actual:et,expected:it,message:ft,operator:"deepEqual",stackStartFn:J})},L.notDeepEqual=function J(et,it,ft){if(arguments.length<2)throw new o("actual","expected");i===void 0&&w(),i(et,it)&&E({actual:et,expected:it,message:ft,operator:"notDeepEqual",stackStartFn:J})},L.deepStrictEqual=function J(et,it,ft){if(arguments.length<2)throw new o("actual","expected");i===void 0&&w(),p(et,it)||E({actual:et,expected:it,message:ft,operator:"deepStrictEqual",stackStartFn:J})},L.notDeepStrictEqual=b;function b(J,et,it){if(arguments.length<2)throw new o("actual","expected");i===void 0&&w(),p(J,et)&&E({actual:J,expected:et,message:it,operator:"notDeepStrictEqual",stackStartFn:b})}L.strictEqual=function J(et,it,ft){if(arguments.length<2)throw new o("actual","expected");h(et,it)||E({actual:et,expected:it,message:ft,operator:"strictEqual",stackStartFn:J})},L.notStrictEqual=function J(et,it,ft){if(arguments.length<2)throw new o("actual","expected");h(et,it)&&E({actual:et,expected:it,message:ft,operator:"notStrictEqual",stackStartFn:J})};var z=function J(et,it,ft){var ot=this;s(this,J),it.forEach(function(Q){Q in et&&(ft!==void 0&&typeof ft[Q]=="string"&&v(et[Q])&&et[Q].test(ft[Q])?ot[Q]=ft[Q]:ot[Q]=et[Q])})};function k(J,et,it,ft,ot,Q){if(!(it in J)||!p(J[it],et[it])){if(!ft){var tt=new z(J,ot),Z=new z(et,ot,J),q=new n({actual:tt,expected:Z,operator:"deepStrictEqual",stackStartFn:Q});throw q.actual=J,q.expected=et,q.operator=Q.name,q}E({actual:J,expected:et,message:ft,operator:Q.name,stackStartFn:Q})}}function U(J,et,it,ft){if(typeof et!="function"){if(v(et))return et.test(J);if(arguments.length===2)throw new g("expected",["Function","RegExp"],et);if(D(J)!=="object"||J===null){var ot=new n({actual:J,expected:et,message:it,operator:"deepStrictEqual",stackStartFn:ft});throw ot.operator=ft.name,ot}var Q=Object.keys(et);if(et instanceof Error)Q.push("name","message");else if(Q.length===0)throw new r("error",et,"may not be an empty object");return i===void 0&&w(),Q.forEach(function(tt){typeof J[tt]=="string"&&v(et[tt])&&et[tt].test(J[tt])||k(J,et,tt,it,Q,ft)}),!0}return et.prototype!==void 0&&J instanceof et?!0:Error.isPrototypeOf(et)?!1:et.call({},J)===!0}function F(J){if(typeof J!="function")throw new g("fn","Function",J);try{J()}catch(et){return et}return x}function V(J){return m(J)||J!==null&&D(J)==="object"&&typeof J.then=="function"&&typeof J.catch=="function"}function N(J){return Promise.resolve().then(function(){var et;if(typeof J=="function"){if(et=J(),!V(et))throw new e("instance of Promise","promiseFn",et)}else if(V(J))et=J;else throw new g("promiseFn",["Function","Promise"],J);return Promise.resolve().then(function(){return et}).then(function(){return x}).catch(function(it){return it})})}function O(J,et,it,ft){if(typeof it=="string"){if(arguments.length===4)throw new g("error",["Object","Error","Function","RegExp"],it);if(D(et)==="object"&&et!==null){if(et.message===it)throw new d("error/message",'The error message "'.concat(et.message,'" is identical to the message.'))}else if(et===it)throw new d("error/message",'The error "'.concat(et,'" is identical to the message.'));ft=it,it=void 0}else if(it!=null&&D(it)!=="object"&&typeof it!="function")throw new g("error",["Object","Error","Function","RegExp"],it);if(et===x){var ot="";it&&it.name&&(ot+=" (".concat(it.name,")")),ot+=ft?": ".concat(ft):".";var Q=J.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:it,operator:J.name,message:"Missing expected ".concat(Q).concat(ot),stackStartFn:J})}if(it&&!U(et,it,ft,J))throw et}function H(J,et,it,ft){if(et!==x){if(typeof it=="string"&&(ft=it,it=void 0),!it||U(et,it)){var ot=ft?": ".concat(ft):".",Q=J.name==="doesNotReject"?"rejection":"exception";E({actual:et,expected:it,operator:J.name,message:"Got unwanted ".concat(Q).concat(ot,`
`)+'Actual message: "'.concat(et&&et.message,'"'),stackStartFn:J})}throw et}}L.throws=function J(et){for(var it=arguments.length,ft=new Array(it>1?it-1:0),ot=1;ot<it;ot++)ft[ot-1]=arguments[ot];O.apply(void 0,[J,F(et)].concat(ft))},L.rejects=function J(et){for(var it=arguments.length,ft=new Array(it>1?it-1:0),ot=1;ot<it;ot++)ft[ot-1]=arguments[ot];return N(et).then(function(Q){return O.apply(void 0,[J,Q].concat(ft))})},L.doesNotThrow=function J(et){for(var it=arguments.length,ft=new Array(it>1?it-1:0),ot=1;ot<it;ot++)ft[ot-1]=arguments[ot];H.apply(void 0,[J,F(et)].concat(ft))},L.doesNotReject=function J(et){for(var it=arguments.length,ft=new Array(it>1?it-1:0),ot=1;ot<it;ot++)ft[ot-1]=arguments[ot];return N(et).then(function(Q){return H.apply(void 0,[J,Q].concat(ft))})},L.ifError=function J(et){if(et!=null){var it="ifError got unwanted exception: ";D(et)==="object"&&typeof et.message=="string"?et.message.length===0&&et.constructor?it+=et.constructor.name:it+=et.message:it+=f(et);var ft=new n({actual:et,expected:null,operator:"ifError",message:it,stackStartFn:J}),ot=et.stack;if(typeof ot=="string"){var Q=ot.split(`
`);Q.shift();for(var tt=ft.stack.split(`
`),Z=0;Z<Q.length;Z++){var q=tt.indexOf(Q[Z]);if(q!==-1){tt=tt.slice(0,q);break}}ft.stack="".concat(tt.join(`
`),`
`).concat(Q.join(`
`))}throw ft}};function X(){for(var J=arguments.length,et=new Array(J),it=0;it<J;it++)et[it]=arguments[it];a.apply(void 0,[X,et.length].concat(et))}L.strict=T(X,L,{equal:L.strictEqual,deepEqual:L.deepStrictEqual,notEqual:L.notStrictEqual,notDeepEqual:L.notDeepStrictEqual}),L.strict.strict=L.strict},26144:function(W,G,t){var y=t(4168);function D(F){for(var V=1;V<arguments.length;V++){var N=arguments[V]!=null?arguments[V]:{},O=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(N).filter(function(H){return Object.getOwnPropertyDescriptor(N,H).enumerable}))),O.forEach(function(H){s(F,H,N[H])})}return F}function s(F,V,N){return V in F?Object.defineProperty(F,V,{value:N,enumerable:!0,configurable:!0,writable:!0}):F[V]=N,F}function P(F,V){if(!(F instanceof V))throw new TypeError("Cannot call a class as a function")}function M(F,V){for(var N=0;N<V.length;N++){var O=V[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(F,O.key,O)}}function d(F,V,N){return V&&M(F.prototype,V),F}function g(F,V){return V&&(v(V)==="object"||typeof V=="function")?V:r(F)}function r(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function e(F,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(V&&V.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),V&&c(F,V)}function o(F){var V=typeof Map=="function"?new Map:void 0;return o=function(O){if(O===null||!f(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(typeof V<"u"){if(V.has(O))return V.get(O);V.set(O,H)}function H(){return u(O,arguments,m(this).constructor)}return H.prototype=Object.create(O.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),c(H,O)},o(F)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function u(F,V,N){return n()?u=Reflect.construct:u=function(H,X,J){var et=[null];et.push.apply(et,X);var it=Function.bind.apply(H,et),ft=new it;return J&&c(ft,J.prototype),ft},u.apply(null,arguments)}function f(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function c(F,V){return c=Object.setPrototypeOf||function(O,H){return O.__proto__=H,O},c(F,V)}function m(F){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},m(F)}function v(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v=function(N){return typeof N}:v=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},v(F)}var T=t(35840),h=T.inspect,i=t(86832),p=i.codes.ERR_INVALID_ARG_TYPE;function w(F,V,N){return(N===void 0||N>F.length)&&(N=F.length),F.substring(N-V.length,N)===V}function A(F,V){if(V=Math.floor(V),F.length==0||V==0)return"";var N=F.length*V;for(V=Math.floor(Math.log(V)/Math.log(2));V;)F+=F,V--;return F+=F.substring(0,N-F.length),F}var L="",x="",E="",S="",a={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},C=10;function b(F){var V=Object.keys(F),N=Object.create(Object.getPrototypeOf(F));return V.forEach(function(O){N[O]=F[O]}),Object.defineProperty(N,"message",{value:F.message}),N}function z(F){return h(F,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function k(F,V,N){var O="",H="",X=0,J="",et=!1,it=z(F),ft=it.split(`
`),ot=z(V).split(`
`),Q=0,tt="";if(N==="strictEqual"&&v(F)==="object"&&v(V)==="object"&&F!==null&&V!==null&&(N="strictEqualObject"),ft.length===1&&ot.length===1&&ft[0]!==ot[0]){var Z=ft[0].length+ot[0].length;if(Z<=C){if((v(F)!=="object"||F===null)&&(v(V)!=="object"||V===null)&&(F!==0||V!==0))return"".concat(a[N],`

`)+"".concat(ft[0]," !== ").concat(ot[0],`
`)}else if(N!=="strictEqualObject"){var q=y.stderr&&y.stderr.isTTY?y.stderr.columns:80;if(Z<q){for(;ft[0][Q]===ot[0][Q];)Q++;Q>2&&(tt=`
  `.concat(A(" ",Q),"^"),Q=0)}}}for(var ut=ft[ft.length-1],$=ot[ot.length-1];ut===$&&(Q++<2?J=`
  `.concat(ut).concat(J):O=ut,ft.pop(),ot.pop(),!(ft.length===0||ot.length===0));)ut=ft[ft.length-1],$=ot[ot.length-1];var j=Math.max(ft.length,ot.length);if(j===0){var lt=it.split(`
`);if(lt.length>30)for(lt[26]="".concat(L,"...").concat(S);lt.length>27;)lt.pop();return"".concat(a.notIdentical,`

`).concat(lt.join(`
`),`
`)}Q>3&&(J=`
`.concat(L,"...").concat(S).concat(J),et=!0),O!==""&&(J=`
  `.concat(O).concat(J),O="");var nt=0,ht=a[N]+`
`.concat(x,"+ actual").concat(S," ").concat(E,"- expected").concat(S),mt=" ".concat(L,"...").concat(S," Lines skipped");for(Q=0;Q<j;Q++){var At=Q-X;if(ft.length<Q+1)At>1&&Q>2&&(At>4?(H+=`
`.concat(L,"...").concat(S),et=!0):At>3&&(H+=`
  `.concat(ot[Q-2]),nt++),H+=`
  `.concat(ot[Q-1]),nt++),X=Q,O+=`
`.concat(E,"-").concat(S," ").concat(ot[Q]),nt++;else if(ot.length<Q+1)At>1&&Q>2&&(At>4?(H+=`
`.concat(L,"...").concat(S),et=!0):At>3&&(H+=`
  `.concat(ft[Q-2]),nt++),H+=`
  `.concat(ft[Q-1]),nt++),X=Q,H+=`
`.concat(x,"+").concat(S," ").concat(ft[Q]),nt++;else{var bt=ot[Q],Pt=ft[Q],_t=Pt!==bt&&(!w(Pt,",")||Pt.slice(0,-1)!==bt);_t&&w(bt,",")&&bt.slice(0,-1)===Pt&&(_t=!1,Pt+=","),_t?(At>1&&Q>2&&(At>4?(H+=`
`.concat(L,"...").concat(S),et=!0):At>3&&(H+=`
  `.concat(ft[Q-2]),nt++),H+=`
  `.concat(ft[Q-1]),nt++),X=Q,H+=`
`.concat(x,"+").concat(S," ").concat(Pt),O+=`
`.concat(E,"-").concat(S," ").concat(bt),nt+=2):(H+=O,O="",(At===1||Q===0)&&(H+=`
  `.concat(Pt),nt++))}if(nt>20&&Q<j-2)return"".concat(ht).concat(mt,`
`).concat(H,`
`).concat(L,"...").concat(S).concat(O,`
`)+"".concat(L,"...").concat(S)}return"".concat(ht).concat(et?mt:"",`
`).concat(H).concat(O).concat(J).concat(tt)}var U=function(F){e(V,F);function V(N){var O;if(P(this,V),v(N)!=="object"||N===null)throw new p("options","Object",N);var H=N.message,X=N.operator,J=N.stackStartFn,et=N.actual,it=N.expected,ft=Error.stackTraceLimit;if(Error.stackTraceLimit=0,H!=null)O=g(this,m(V).call(this,String(H)));else if(y.stderr&&y.stderr.isTTY&&(y.stderr&&y.stderr.getColorDepth&&y.stderr.getColorDepth()!==1?(L="\x1B[34m",x="\x1B[32m",S="\x1B[39m",E="\x1B[31m"):(L="",x="",S="",E="")),v(et)==="object"&&et!==null&&v(it)==="object"&&it!==null&&"stack"in et&&et instanceof Error&&"stack"in it&&it instanceof Error&&(et=b(et),it=b(it)),X==="deepStrictEqual"||X==="strictEqual")O=g(this,m(V).call(this,k(et,it,X)));else if(X==="notDeepStrictEqual"||X==="notStrictEqual"){var ot=a[X],Q=z(et).split(`
`);if(X==="notStrictEqual"&&v(et)==="object"&&et!==null&&(ot=a.notStrictEqualObject),Q.length>30)for(Q[26]="".concat(L,"...").concat(S);Q.length>27;)Q.pop();Q.length===1?O=g(this,m(V).call(this,"".concat(ot," ").concat(Q[0]))):O=g(this,m(V).call(this,"".concat(ot,`

`).concat(Q.join(`
`),`
`)))}else{var tt=z(et),Z="",q=a[X];X==="notDeepEqual"||X==="notEqual"?(tt="".concat(a[X],`

`).concat(tt),tt.length>1024&&(tt="".concat(tt.slice(0,1021),"..."))):(Z="".concat(z(it)),tt.length>512&&(tt="".concat(tt.slice(0,509),"...")),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),X==="deepEqual"||X==="equal"?tt="".concat(q,`

`).concat(tt,`

should equal

`):Z=" ".concat(X," ").concat(Z)),O=g(this,m(V).call(this,"".concat(tt).concat(Z)))}return Error.stackTraceLimit=ft,O.generatedMessage=!H,Object.defineProperty(r(O),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),O.code="ERR_ASSERTION",O.actual=et,O.expected=it,O.operator=X,Error.captureStackTrace&&Error.captureStackTrace(r(O),J),O.stack,O.name="AssertionError",g(O)}return d(V,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(O,H){return h(this,D({},H,{customInspect:!1,depth:0}))}}]),V}(o(Error));W.exports=U},86832:function(W,G,t){function y(v){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(h){return typeof h}:y=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},y(v)}function D(v,T){if(!(v instanceof T))throw new TypeError("Cannot call a class as a function")}function s(v,T){return T&&(y(T)==="object"||typeof T=="function")?T:P(v)}function P(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function M(v){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},M(v)}function d(v,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),T&&g(v,T)}function g(v,T){return g=Object.setPrototypeOf||function(i,p){return i.__proto__=p,i},g(v,T)}var r={},e,o;function n(v,T,h){h||(h=Error);function i(w,A,L){return typeof T=="string"?T:T(w,A,L)}var p=function(w){d(A,w);function A(L,x,E){var S;return D(this,A),S=s(this,M(A).call(this,i(L,x,E))),S.code=v,S}return A}(h);r[v]=p}function u(v,T){if(Array.isArray(v)){var h=v.length;return v=v.map(function(i){return String(i)}),h>2?"one of ".concat(T," ").concat(v.slice(0,h-1).join(", "),", or ")+v[h-1]:h===2?"one of ".concat(T," ").concat(v[0]," or ").concat(v[1]):"of ".concat(T," ").concat(v[0])}else return"of ".concat(T," ").concat(String(v))}function f(v,T,h){return v.substr(0,T.length)===T}function c(v,T,h){return(h===void 0||h>v.length)&&(h=v.length),v.substring(h-T.length,h)===T}function m(v,T,h){return typeof h!="number"&&(h=0),h+T.length>v.length?!1:v.indexOf(T,h)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(v,T,h){e===void 0&&(e=t(45408)),e(typeof v=="string","'name' must be a string");var i;typeof T=="string"&&f(T,"not ")?(i="must not be",T=T.replace(/^not /,"")):i="must be";var p;if(c(v," argument"))p="The ".concat(v," ").concat(i," ").concat(u(T,"type"));else{var w=m(v,".")?"property":"argument";p='The "'.concat(v,'" ').concat(w," ").concat(i," ").concat(u(T,"type"))}return p+=". Received type ".concat(y(h)),p},TypeError),n("ERR_INVALID_ARG_VALUE",function(v,T){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";o===void 0&&(o=t(35840));var i=o.inspect(T);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(v,"' ").concat(h,". Received ").concat(i)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(v,T,h){var i;return h&&h.constructor&&h.constructor.name?i="instance of ".concat(h.constructor.name):i="type ".concat(y(h)),"Expected ".concat(v,' to be returned from the "').concat(T,'"')+" function but got ".concat(i,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var v=arguments.length,T=new Array(v),h=0;h<v;h++)T[h]=arguments[h];e===void 0&&(e=t(45408)),e(T.length>0,"At least one arg needs to be specified");var i="The ",p=T.length;switch(T=T.map(function(w){return'"'.concat(w,'"')}),p){case 1:i+="".concat(T[0]," argument");break;case 2:i+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:i+=T.slice(0,p-1).join(", "),i+=", and ".concat(T[p-1]," arguments");break}return"".concat(i," must be specified")},TypeError),W.exports.codes=r},25116:function(W,G,t){function y(Ut,St){return P(Ut)||s(Ut,St)||D()}function D(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(Ut,St){var Rt=[],Et=!0,zt=!1,Ct=void 0;try{for(var Wt=Ut[Symbol.iterator](),Kt;!(Et=(Kt=Wt.next()).done)&&(Rt.push(Kt.value),!(St&&Rt.length===St));Et=!0);}catch(oe){zt=!0,Ct=oe}finally{try{!Et&&Wt.return!=null&&Wt.return()}finally{if(zt)throw Ct}}return Rt}function P(Ut){if(Array.isArray(Ut))return Ut}function M(Ut){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(Rt){return typeof Rt}:M=function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt},M(Ut)}var d=/a/g.flags!==void 0,g=function(St){var Rt=[];return St.forEach(function(Et){return Rt.push(Et)}),Rt},r=function(St){var Rt=[];return St.forEach(function(Et,zt){return Rt.push([zt,Et])}),Rt},e=Object.is?Object.is:t(39896),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:t(1560);function u(Ut){return Ut.call.bind(Ut)}var f=u(Object.prototype.hasOwnProperty),c=u(Object.prototype.propertyIsEnumerable),m=u(Object.prototype.toString),v=t(35840).types,T=v.isAnyArrayBuffer,h=v.isArrayBufferView,i=v.isDate,p=v.isMap,w=v.isRegExp,A=v.isSet,L=v.isNativeError,x=v.isBoxedPrimitive,E=v.isNumberObject,S=v.isStringObject,a=v.isBooleanObject,C=v.isBigIntObject,b=v.isSymbolObject,z=v.isFloat32Array,k=v.isFloat64Array;function U(Ut){if(Ut.length===0||Ut.length>10)return!0;for(var St=0;St<Ut.length;St++){var Rt=Ut.charCodeAt(St);if(Rt<48||Rt>57)return!0}return Ut.length===10&&Ut>=Math.pow(2,32)}function F(Ut){return Object.keys(Ut).filter(U).concat(o(Ut).filter(Object.prototype.propertyIsEnumerable.bind(Ut)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function V(Ut,St){if(Ut===St)return 0;for(var Rt=Ut.length,Et=St.length,zt=0,Ct=Math.min(Rt,Et);zt<Ct;++zt)if(Ut[zt]!==St[zt]){Rt=Ut[zt],Et=St[zt];break}return Rt<Et?-1:Et<Rt?1:0}var N=!0,O=!1,H=0,X=1,J=2,et=3;function it(Ut,St){return d?Ut.source===St.source&&Ut.flags===St.flags:RegExp.prototype.toString.call(Ut)===RegExp.prototype.toString.call(St)}function ft(Ut,St){if(Ut.byteLength!==St.byteLength)return!1;for(var Rt=0;Rt<Ut.byteLength;Rt++)if(Ut[Rt]!==St[Rt])return!1;return!0}function ot(Ut,St){return Ut.byteLength!==St.byteLength?!1:V(new Uint8Array(Ut.buffer,Ut.byteOffset,Ut.byteLength),new Uint8Array(St.buffer,St.byteOffset,St.byteLength))===0}function Q(Ut,St){return Ut.byteLength===St.byteLength&&V(new Uint8Array(Ut),new Uint8Array(St))===0}function tt(Ut,St){return E(Ut)?E(St)&&e(Number.prototype.valueOf.call(Ut),Number.prototype.valueOf.call(St)):S(Ut)?S(St)&&String.prototype.valueOf.call(Ut)===String.prototype.valueOf.call(St):a(Ut)?a(St)&&Boolean.prototype.valueOf.call(Ut)===Boolean.prototype.valueOf.call(St):C(Ut)?C(St)&&BigInt.prototype.valueOf.call(Ut)===BigInt.prototype.valueOf.call(St):b(St)&&Symbol.prototype.valueOf.call(Ut)===Symbol.prototype.valueOf.call(St)}function Z(Ut,St,Rt,Et){if(Ut===St)return Ut!==0?!0:Rt?e(Ut,St):!0;if(Rt){if(M(Ut)!=="object")return typeof Ut=="number"&&n(Ut)&&n(St);if(M(St)!=="object"||Ut===null||St===null||Object.getPrototypeOf(Ut)!==Object.getPrototypeOf(St))return!1}else{if(Ut===null||M(Ut)!=="object")return St===null||M(St)!=="object"?Ut==St:!1;if(St===null||M(St)!=="object")return!1}var zt=m(Ut),Ct=m(St);if(zt!==Ct)return!1;if(Array.isArray(Ut)){if(Ut.length!==St.length)return!1;var Wt=F(Ut),Kt=F(St);return Wt.length!==Kt.length?!1:ut(Ut,St,Rt,Et,X,Wt)}if(zt==="[object Object]"&&(!p(Ut)&&p(St)||!A(Ut)&&A(St)))return!1;if(i(Ut)){if(!i(St)||Date.prototype.getTime.call(Ut)!==Date.prototype.getTime.call(St))return!1}else if(w(Ut)){if(!w(St)||!it(Ut,St))return!1}else if(L(Ut)||Ut instanceof Error){if(Ut.message!==St.message||Ut.name!==St.name)return!1}else if(h(Ut)){if(!Rt&&(z(Ut)||k(Ut))){if(!ft(Ut,St))return!1}else if(!ot(Ut,St))return!1;var oe=F(Ut),Jt=F(St);return oe.length!==Jt.length?!1:ut(Ut,St,Rt,Et,H,oe)}else{if(A(Ut))return!A(St)||Ut.size!==St.size?!1:ut(Ut,St,Rt,Et,J);if(p(Ut))return!p(St)||Ut.size!==St.size?!1:ut(Ut,St,Rt,Et,et);if(T(Ut)){if(!Q(Ut,St))return!1}else if(x(Ut)&&!tt(Ut,St))return!1}return ut(Ut,St,Rt,Et,H)}function q(Ut,St){return St.filter(function(Rt){return c(Ut,Rt)})}function ut(Ut,St,Rt,Et,zt,Ct){if(arguments.length===5){Ct=Object.keys(Ut);var Wt=Object.keys(St);if(Ct.length!==Wt.length)return!1}for(var Kt=0;Kt<Ct.length;Kt++)if(!f(St,Ct[Kt]))return!1;if(Rt&&arguments.length===5){var oe=o(Ut);if(oe.length!==0){var Jt=0;for(Kt=0;Kt<oe.length;Kt++){var te=oe[Kt];if(c(Ut,te)){if(!c(St,te))return!1;Ct.push(te),Jt++}else if(c(St,te))return!1}var fe=o(St);if(oe.length!==fe.length&&q(St,fe).length!==Jt)return!1}else{var ve=o(St);if(ve.length!==0&&q(St,ve).length!==0)return!1}}if(Ct.length===0&&(zt===H||zt===X&&Ut.length===0||Ut.size===0))return!0;if(Et===void 0)Et={val1:new Map,val2:new Map,position:0};else{var de=Et.val1.get(Ut);if(de!==void 0){var xe=Et.val2.get(St);if(xe!==void 0)return de===xe}Et.position++}Et.val1.set(Ut,Et.position),Et.val2.set(St,Et.position);var Me=bt(Ut,St,Rt,Ct,Et,zt);return Et.val1.delete(Ut),Et.val2.delete(St),Me}function $(Ut,St,Rt,Et){for(var zt=g(Ut),Ct=0;Ct<zt.length;Ct++){var Wt=zt[Ct];if(Z(St,Wt,Rt,Et))return Ut.delete(Wt),!0}return!1}function j(Ut){switch(M(Ut)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ut=+Ut;case"number":if(n(Ut))return!1}return!0}function lt(Ut,St,Rt){var Et=j(Rt);return Et??(St.has(Et)&&!Ut.has(Et))}function nt(Ut,St,Rt,Et,zt){var Ct=j(Rt);if(Ct!=null)return Ct;var Wt=St.get(Ct);return Wt===void 0&&!St.has(Ct)||!Z(Et,Wt,!1,zt)?!1:!Ut.has(Ct)&&Z(Et,Wt,!1,zt)}function ht(Ut,St,Rt,Et){for(var zt=null,Ct=g(Ut),Wt=0;Wt<Ct.length;Wt++){var Kt=Ct[Wt];if(M(Kt)==="object"&&Kt!==null)zt===null&&(zt=new Set),zt.add(Kt);else if(!St.has(Kt)){if(Rt||!lt(Ut,St,Kt))return!1;zt===null&&(zt=new Set),zt.add(Kt)}}if(zt!==null){for(var oe=g(St),Jt=0;Jt<oe.length;Jt++){var te=oe[Jt];if(M(te)==="object"&&te!==null){if(!$(zt,te,Rt,Et))return!1}else if(!Rt&&!Ut.has(te)&&!$(zt,te,Rt,Et))return!1}return zt.size===0}return!0}function mt(Ut,St,Rt,Et,zt,Ct){for(var Wt=g(Ut),Kt=0;Kt<Wt.length;Kt++){var oe=Wt[Kt];if(Z(Rt,oe,zt,Ct)&&Z(Et,St.get(oe),zt,Ct))return Ut.delete(oe),!0}return!1}function At(Ut,St,Rt,Et){for(var zt=null,Ct=r(Ut),Wt=0;Wt<Ct.length;Wt++){var Kt=y(Ct[Wt],2),oe=Kt[0],Jt=Kt[1];if(M(oe)==="object"&&oe!==null)zt===null&&(zt=new Set),zt.add(oe);else{var te=St.get(oe);if(te===void 0&&!St.has(oe)||!Z(Jt,te,Rt,Et)){if(Rt||!nt(Ut,St,oe,Jt,Et))return!1;zt===null&&(zt=new Set),zt.add(oe)}}}if(zt!==null){for(var fe=r(St),ve=0;ve<fe.length;ve++){var de=y(fe[ve],2),oe=de[0],xe=de[1];if(M(oe)==="object"&&oe!==null){if(!mt(zt,Ut,oe,xe,Rt,Et))return!1}else if(!Rt&&(!Ut.has(oe)||!Z(Ut.get(oe),xe,!1,Et))&&!mt(zt,Ut,oe,xe,!1,Et))return!1}return zt.size===0}return!0}function bt(Ut,St,Rt,Et,zt,Ct){var Wt=0;if(Ct===J){if(!ht(Ut,St,Rt,zt))return!1}else if(Ct===et){if(!At(Ut,St,Rt,zt))return!1}else if(Ct===X)for(;Wt<Ut.length;Wt++)if(f(Ut,Wt)){if(!f(St,Wt)||!Z(Ut[Wt],St[Wt],Rt,zt))return!1}else{if(f(St,Wt))return!1;for(var Kt=Object.keys(Ut);Wt<Kt.length;Wt++){var oe=Kt[Wt];if(!f(St,oe)||!Z(Ut[oe],St[oe],Rt,zt))return!1}return Kt.length===Object.keys(St).length}for(Wt=0;Wt<Et.length;Wt++){var Jt=Et[Wt];if(!Z(Ut[Jt],St[Jt],Rt,zt))return!1}return!0}function Pt(Ut,St){return Z(Ut,St,O)}function _t(Ut,St){return Z(Ut,St,N)}W.exports={isDeepEqual:Pt,isDeepStrictEqual:_t}},83160:function(W,G,t){t.r(G),t.d(G,{decode:function(){return M},encode:function(){return P}});for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=typeof Uint8Array>"u"?[]:new Uint8Array(256),s=0;s<y.length;s++)D[y.charCodeAt(s)]=s;var P=function(d){var g=new Uint8Array(d),r,e=g.length,o="";for(r=0;r<e;r+=3)o+=y[g[r]>>2],o+=y[(g[r]&3)<<4|g[r+1]>>4],o+=y[(g[r+1]&15)<<2|g[r+2]>>6],o+=y[g[r+2]&63];return e%3===2?o=o.substring(0,o.length-1)+"=":e%3===1&&(o=o.substring(0,o.length-2)+"=="),o},M=function(d){var g=d.length*.75,r=d.length,e,o=0,n,u,f,c;d[d.length-1]==="="&&(g--,d[d.length-2]==="="&&g--);var m=new ArrayBuffer(g),v=new Uint8Array(m);for(e=0;e<r;e+=4)n=D[d.charCodeAt(e)],u=D[d.charCodeAt(e+1)],f=D[d.charCodeAt(e+2)],c=D[d.charCodeAt(e+3)],v[o++]=n<<2|u>>4,v[o++]=(u&15)<<4|f>>2,v[o++]=(f&3)<<6|c&63;return m}},59968:function(W,G){G.byteLength=g,G.toByteArray=e,G.fromByteArray=u;for(var t=[],y=[],D=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0,M=s.length;P<M;++P)t[P]=s[P],y[s.charCodeAt(P)]=P;y[45]=62,y[95]=63;function d(f){var c=f.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=f.indexOf("=");m===-1&&(m=c);var v=m===c?0:4-m%4;return[m,v]}function g(f){var c=d(f),m=c[0],v=c[1];return(m+v)*3/4-v}function r(f,c,m){return(c+m)*3/4-m}function e(f){var c,m=d(f),v=m[0],T=m[1],h=new D(r(f,v,T)),i=0,p=T>0?v-4:v,w;for(w=0;w<p;w+=4)c=y[f.charCodeAt(w)]<<18|y[f.charCodeAt(w+1)]<<12|y[f.charCodeAt(w+2)]<<6|y[f.charCodeAt(w+3)],h[i++]=c>>16&255,h[i++]=c>>8&255,h[i++]=c&255;return T===2&&(c=y[f.charCodeAt(w)]<<2|y[f.charCodeAt(w+1)]>>4,h[i++]=c&255),T===1&&(c=y[f.charCodeAt(w)]<<10|y[f.charCodeAt(w+1)]<<4|y[f.charCodeAt(w+2)]>>2,h[i++]=c>>8&255,h[i++]=c&255),h}function o(f){return t[f>>18&63]+t[f>>12&63]+t[f>>6&63]+t[f&63]}function n(f,c,m){for(var v,T=[],h=c;h<m;h+=3)v=(f[h]<<16&16711680)+(f[h+1]<<8&65280)+(f[h+2]&255),T.push(o(v));return T.join("")}function u(f){for(var c,m=f.length,v=m%3,T=[],h=16383,i=0,p=m-v;i<p;i+=h)T.push(n(f,i,i+h>p?p:i+h));return v===1?(c=f[m-1],T.push(t[c>>2]+t[c<<4&63]+"==")):v===2&&(c=(f[m-2]<<8)+f[m-1],T.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),T.join("")}},64928:function(W){function G(M,d,g,r,e){for(var o=e+1;r<=e;){var n=r+e>>>1,u=M[n],f=g!==void 0?g(u,d):u-d;f>=0?(o=n,e=n-1):r=n+1}return o}function t(M,d,g,r,e){for(var o=e+1;r<=e;){var n=r+e>>>1,u=M[n],f=g!==void 0?g(u,d):u-d;f>0?(o=n,e=n-1):r=n+1}return o}function y(M,d,g,r,e){for(var o=r-1;r<=e;){var n=r+e>>>1,u=M[n],f=g!==void 0?g(u,d):u-d;f<0?(o=n,r=n+1):e=n-1}return o}function D(M,d,g,r,e){for(var o=r-1;r<=e;){var n=r+e>>>1,u=M[n],f=g!==void 0?g(u,d):u-d;f<=0?(o=n,r=n+1):e=n-1}return o}function s(M,d,g,r,e){for(;r<=e;){var o=r+e>>>1,n=M[o],u=g!==void 0?g(n,d):n-d;if(u===0)return o;u<=0?r=o+1:e=o-1}return-1}function P(M,d,g,r,e,o){return typeof g=="function"?o(M,d,g,r===void 0?0:r|0,e===void 0?M.length-1:e|0):o(M,d,void 0,g===void 0?0:g|0,r===void 0?M.length-1:r|0)}W.exports={ge:function(M,d,g,r,e){return P(M,d,g,r,e,G)},gt:function(M,d,g,r,e){return P(M,d,g,r,e,t)},lt:function(M,d,g,r,e){return P(M,d,g,r,e,y)},le:function(M,d,g,r,e){return P(M,d,g,r,e,D)},eq:function(M,d,g,r,e){return P(M,d,g,r,e,s)}}},308:function(W,G){"use restrict";var t=32;G.INT_BITS=t,G.INT_MAX=2147483647,G.INT_MIN=-1<<t-1,G.sign=function(s){return(s>0)-(s<0)},G.abs=function(s){var P=s>>t-1;return(s^P)-P},G.min=function(s,P){return P^(s^P)&-(s<P)},G.max=function(s,P){return s^(s^P)&-(s<P)},G.isPow2=function(s){return!(s&s-1)&&!!s},G.log2=function(s){var P,M;return P=(s>65535)<<4,s>>>=P,M=(s>255)<<3,s>>>=M,P|=M,M=(s>15)<<2,s>>>=M,P|=M,M=(s>3)<<1,s>>>=M,P|=M,P|s>>1},G.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},G.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function y(s){var P=32;return s&=-s,s&&P--,s&65535&&(P-=16),s&16711935&&(P-=8),s&252645135&&(P-=4),s&858993459&&(P-=2),s&1431655765&&(P-=1),P}G.countTrailingZeros=y,G.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},G.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},G.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var D=new Array(256);(function(s){for(var P=0;P<256;++P){var M=P,d=P,g=7;for(M>>>=1;M;M>>>=1)d<<=1,d|=M&1,--g;s[P]=d<<g&255}})(D),G.reverse=function(s){return D[s&255]<<24|D[s>>>8&255]<<16|D[s>>>16&255]<<8|D[s>>>24&255]},G.interleave2=function(s,P){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,P&=65535,P=(P|P<<8)&16711935,P=(P|P<<4)&252645135,P=(P|P<<2)&858993459,P=(P|P<<1)&1431655765,s|P<<1},G.deinterleave2=function(s,P){return s=s>>>P&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},G.interleave3=function(s,P,M){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,P&=1023,P=(P|P<<16)&4278190335,P=(P|P<<8)&251719695,P=(P|P<<4)&3272356035,P=(P|P<<2)&1227133513,s|=P<<1,M&=1023,M=(M|M<<16)&4278190335,M=(M|M<<8)&251719695,M=(M|M<<4)&3272356035,M=(M|M<<2)&1227133513,s|M<<2},G.deinterleave3=function(s,P){return s=s>>>P&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},G.nextCombination=function(s){var P=s|s-1;return P+1|(~P&-~P)-1>>>y(s)+1}},29620:function(W,G,t){var y=t(32420);W.exports=s;var D=1e20;function s(d,g){g||(g={});var r=g.cutoff==null?.25:g.cutoff,e=g.radius==null?8:g.radius,o=g.channel||0,n,u,f,c,m,v,T,h,i,p,w;if(ArrayBuffer.isView(d)||Array.isArray(d)){if(!g.width||!g.height)throw Error("For raw data width and height should be provided by options");n=g.width,u=g.height,c=d,g.stride?v=g.stride:v=Math.floor(d.length/n/u)}else window.HTMLCanvasElement&&d instanceof window.HTMLCanvasElement?(h=d,T=h.getContext("2d"),n=h.width,u=h.height,i=T.getImageData(0,0,n,u),c=i.data,v=4):window.CanvasRenderingContext2D&&d instanceof window.CanvasRenderingContext2D?(h=d.canvas,T=d,n=h.width,u=h.height,i=T.getImageData(0,0,n,u),c=i.data,v=4):window.ImageData&&d instanceof window.ImageData&&(i=d,n=d.width,u=d.height,c=i.data,v=4);if(f=Math.max(n,u),window.Uint8ClampedArray&&c instanceof window.Uint8ClampedArray||window.Uint8Array&&c instanceof window.Uint8Array)for(m=c,c=Array(n*u),p=0,w=m.length;p<w;p++)c[p]=m[p*v+o]/255;else if(v!==1)throw Error("Raw data can have only 1 value per pixel");var A=Array(n*u),L=Array(n*u),x=Array(f),E=Array(f),S=Array(f+1),a=Array(f);for(p=0,w=n*u;p<w;p++){var C=c[p];A[p]=C===1?0:C===0?D:Math.pow(Math.max(0,.5-C),2),L[p]=C===1?D:C===0?0:Math.pow(Math.max(0,C-.5),2)}P(A,n,u,x,E,a,S),P(L,n,u,x,E,a,S);var b=window.Float32Array?new Float32Array(n*u):new Array(n*u);for(p=0,w=n*u;p<w;p++)b[p]=y(1-((A[p]-L[p])/e+r),0,1);return b}function P(d,g,r,e,o,n,u){for(var f=0;f<g;f++){for(var c=0;c<r;c++)e[c]=d[c*g+f];for(M(e,o,n,u,r),c=0;c<r;c++)d[c*g+f]=o[c]}for(c=0;c<r;c++){for(f=0;f<g;f++)e[f]=d[c*g+f];for(M(e,o,n,u,g),f=0;f<g;f++)d[c*g+f]=Math.sqrt(o[f])}}function M(d,g,r,e,o){r[0]=0,e[0]=-D,e[1]=+D;for(var n=1,u=0;n<o;n++){for(var f=(d[n]+n*n-(d[r[u]]+r[u]*r[u]))/(2*n-2*r[u]);f<=e[u];)u--,f=(d[n]+n*n-(d[r[u]]+r[u]*r[u]))/(2*n-2*r[u]);u++,r[u]=n,e[u]=f,e[u+1]=+D}for(n=0,u=0;n<o;n++){for(;e[u+1]<n;)u++;g[n]=(n-r[u])*(n-r[u])+d[r[u]]}}},99676:function(W,G,t){var y=t(53664),D=t(57916),s=D(y("String.prototype.indexOf"));W.exports=function(M,d){var g=y(M,!!d);return typeof g=="function"&&s(M,".prototype.")>-1?D(g):g}},57916:function(W,G,t){var y=t(8844),D=t(53664),s=t(14500),P=D("%TypeError%"),M=D("%Function.prototype.apply%"),d=D("%Function.prototype.call%"),g=D("%Reflect.apply%",!0)||y.call(d,M),r=D("%Object.defineProperty%",!0),e=D("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}W.exports=function(u){if(typeof u!="function")throw new P("a function is required");var f=g(y,d,arguments);return s(f,1+e(0,u.length-(arguments.length-1)),!0)};var o=function(){return g(y,M,arguments)};r?r(W.exports,"apply",{value:o}):W.exports.apply=o},32420:function(W){W.exports=G;function G(t,y,D){return y<D?t<y?y:t>D?D:t:t<D?D:t>y?y:t}},3808:function(W,G,t){var y=t(32420);W.exports=D,W.exports.to=D,W.exports.from=s;function D(P,M){M==null&&(M=!0);var d=P[0],g=P[1],r=P[2],e=P[3];e==null&&(e=M?1:255),M&&(d*=255,g*=255,r*=255,e*=255),d=y(d,0,255)&255,g=y(g,0,255)&255,r=y(r,0,255)&255,e=y(e,0,255)&255;var o=d*16777216+(g<<16)+(r<<8)+e;return o}function s(P,M){P=+P;var d=P>>>24,g=(P&16711680)>>>16,r=(P&65280)>>>8,e=P&255;return M===!1?[d,g,r,e]:[d/255,g/255,r/255,e/255]}},17592:function(W){W.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(W,G,t){var y=t(96824),D=t(32420),s=t(72512);W.exports=function(d,g){(g==="float"||!g)&&(g="array"),g==="uint"&&(g="uint8"),g==="uint_clamped"&&(g="uint8_clamped");var r=s(g),e=new r(4),o=g!=="uint8"&&g!=="uint8_clamped";return(!d.length||typeof d=="string")&&(d=y(d),d[0]/=255,d[1]/=255,d[2]/=255),P(d)?(e[0]=d[0],e[1]=d[1],e[2]=d[2],e[3]=d[3]!=null?d[3]:255,o&&(e[0]/=255,e[1]/=255,e[2]/=255,e[3]/=255),e):(o?(e[0]=d[0],e[1]=d[1],e[2]=d[2],e[3]=d[3]!=null?d[3]:1):(e[0]=D(Math.floor(d[0]*255),0,255),e[1]=D(Math.floor(d[1]*255),0,255),e[2]=D(Math.floor(d[2]*255),0,255),e[3]=d[3]==null?255:D(Math.floor(d[3]*255),0,255)),e)};function P(M){return!!(M instanceof Uint8Array||M instanceof Uint8ClampedArray||Array.isArray(M)&&(M[0]>1||M[0]===0)&&(M[1]>1||M[1]===0)&&(M[2]>1||M[2]===0)&&(!M[3]||M[3]>1))}},96824:function(W,G,t){var y=t(95532),D=t(53576),s=t(32420);W.exports=function(M){var d,g=y(M);return g.space?(d=Array(3),d[0]=s(g.values[0],0,255),d[1]=s(g.values[1],0,255),d[2]=s(g.values[2],0,255),g.space[0]==="h"&&(d=D.rgb(d)),d.push(s(g.alpha,0,1)),d):[]}},95532:function(W,G,t){var y=t(17592);W.exports=s;var D={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function s(P){var M,d=[],g=1,r;if(typeof P=="string")if(P=P.toLowerCase(),y[P])d=y[P].slice(),r="rgb";else if(P==="transparent")g=0,r="rgb",d=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(P)){var e=P.slice(1),o=e.length,n=o<=4;g=1,n?(d=[parseInt(e[0]+e[0],16),parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16)],o===4&&(g=parseInt(e[3]+e[3],16)/255)):(d=[parseInt(e[0]+e[1],16),parseInt(e[2]+e[3],16),parseInt(e[4]+e[5],16)],o===8&&(g=parseInt(e[6]+e[7],16)/255)),d[0]||(d[0]=0),d[1]||(d[1]=0),d[2]||(d[2]=0),r="rgb"}else if(M=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(P)){var u=M[1],f=u==="rgb",e=u.replace(/a$/,"");r=e;var o=e==="cmyk"?4:e==="gray"?1:3;d=M[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(v,T){if(/%$/.test(v))return T===o?parseFloat(v)/100:e==="rgb"?parseFloat(v)*255/100:parseFloat(v);if(e[T]==="h"){if(/deg$/.test(v))return parseFloat(v);if(D[v]!==void 0)return D[v]}return parseFloat(v)}),u===e&&d.push(1),g=f||d[o]===void 0?1:d[o],d=d.slice(0,o)}else P.length>10&&/[0-9](?:\s|\/)/.test(P)&&(d=P.match(/([0-9]+)/g).map(function(c){return parseFloat(c)}),r=P.match(/([a-z])/ig).join("").toLowerCase());else isNaN(P)?Array.isArray(P)||P.length?(d=[P[0],P[1],P[2]],r="rgb",g=P.length===4?P[3]:1):P instanceof Object&&(P.r!=null||P.red!=null||P.R!=null?(r="rgb",d=[P.r||P.red||P.R||0,P.g||P.green||P.G||0,P.b||P.blue||P.B||0]):(r="hsl",d=[P.h||P.hue||P.H||0,P.s||P.saturation||P.S||0,P.l||P.lightness||P.L||P.b||P.brightness]),g=P.a||P.alpha||P.opacity||1,P.opacity!=null&&(g/=100)):(r="rgb",d=[P>>>16,(P&65280)>>>8,P&255]);return{space:r,values:d,alpha:g}}},53576:function(W,G,t){var y=t(19336);W.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(D){var s=D[0]/360,P=D[1]/100,M=D[2]/100,d,g,r,e,o;if(P===0)return o=M*255,[o,o,o];M<.5?g=M*(1+P):g=M+P-M*P,d=2*M-g,e=[0,0,0];for(var n=0;n<3;n++)r=s+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?o=d+(g-d)*6*r:2*r<1?o=g:3*r<2?o=d+(g-d)*(.6666666666666666-r)*6:o=d,e[n]=o*255;return e}},y.hsl=function(D){var s=D[0]/255,P=D[1]/255,M=D[2]/255,d=Math.min(s,P,M),g=Math.max(s,P,M),r=g-d,e,o,n;return g===d?e=0:s===g?e=(P-M)/r:P===g?e=2+(M-s)/r:M===g&&(e=4+(s-P)/r),e=Math.min(e*60,360),e<0&&(e+=360),n=(d+g)/2,g===d?o=0:n<=.5?o=r/(g+d):o=r/(2-g-d),[e,o*100,n*100]}},19336:function(W){W.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(W){W.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(W,G,t){W.exports={parse:t(46416),stringify:t(49395)}},8744:function(W,G,t){var y=t(30584);W.exports={isSize:function(s){return/^[\d\.]/.test(s)||s.indexOf("/")!==-1||y.indexOf(s)!==-1}}},46416:function(W,G,t){var y=t(92384),D=t(68194),s=t(3748),P=t(2904),M=t(47916),d=t(7294),g=t(39956),r=t(8744).isSize;W.exports=o;var e=o.cache={};function o(u){if(typeof u!="string")throw new Error("Font argument must be a string.");if(e[u])return e[u];if(u==="")throw new Error("Cannot parse an empty string.");if(s.indexOf(u)!==-1)return e[u]={system:u};for(var f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},c=g(u,/\s+/),m;m=c.shift();){if(D.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(T){f[T]=m}),e[u]=f;if(M.indexOf(m)!==-1){f.style=m;continue}if(m==="normal"||m==="small-caps"){f.variant=m;continue}if(d.indexOf(m)!==-1){f.stretch=m;continue}if(P.indexOf(m)!==-1){f.weight=m;continue}if(r(m)){var v=g(m,"/");if(f.size=v[0],v[1]!=null?f.lineHeight=n(v[1]):c[0]==="/"&&(c.shift(),f.lineHeight=n(c.shift())),!c.length)throw new Error("Missing required font-family.");return f.family=g(c.join(" "),/\s*,\s*/).map(y),e[u]=f}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function n(u){var f=parseFloat(u);return f.toString()===u?f:u}},49395:function(W,G,t){var y=t(55616),D=t(8744).isSize,s=u(t(68194)),P=u(t(3748)),M=u(t(2904)),d=u(t(47916)),g=u(t(7294)),r={normal:1,"small-caps":1},e={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},o={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};W.exports=function(c){if(c=y(c,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),c.system)return c.system&&n(c.system,P),c.system;if(n(c.style,d),n(c.variant,r),n(c.weight,M),n(c.stretch,g),c.size==null&&(c.size=o.size),typeof c.size=="number"&&(c.size+="px"),!D)throw Error("Bad size value `"+c.size+"`");c.family||(c.family=o.family),Array.isArray(c.family)&&(c.family.length||(c.family=[o.family]),c.family=c.family.map(function(v){return e[v]?v:'"'+v+'"'}).join(", "));var m=[];return m.push(c.style),c.variant!==c.style&&m.push(c.variant),c.weight!==c.variant&&c.weight!==c.style&&m.push(c.weight),c.stretch!==c.weight&&c.stretch!==c.variant&&c.stretch!==c.style&&m.push(c.stretch),m.push(c.size+(c.lineHeight==null||c.lineHeight==="normal"||c.lineHeight+""=="1"?"":"/"+c.lineHeight)),m.push(c.family),m.filter(Boolean).join(" ")};function n(f,c){if(f&&!c[f]&&!s[f])throw Error("Unknown keyword `"+f+"`");return f}function u(f){for(var c={},m=0;m<f.length;m++)c[f[m]]=1;return c}},27940:function(W,G,t){var y=t(81680),D=t(18496),s=t(87396),P=t(95920),M=t(50868),d=t(84323),g=Function.prototype.bind,r=Object.defineProperty,e=Object.prototype.hasOwnProperty,o;o=function(n,u,f){var c=D(u)&&s(u.value),m;return m=P(u),delete m.writable,delete m.value,m.get=function(){return!f.overwriteDefinition&&e.call(this,n)?c:(u.value=g.call(c,f.resolveContext?f.resolveContext(this):this),r(this,n,u),this[n])},m},W.exports=function(n){var u=M(arguments[1]);return y(u.resolveContext)&&s(u.resolveContext),d(n,function(f,c){return o(c,f,u)})}},21092:function(W,G,t){var y=t(81680),D=t(85488),s=t(38452),P=t(50868),M=t(71056),d=W.exports=function(g,r){var e,o,n,u,f;return arguments.length<2||typeof g!="string"?(u=r,r=g,g=null):u=arguments[2],y(g)?(e=M.call(g,"c"),o=M.call(g,"e"),n=M.call(g,"w")):(e=n=!0,o=!1),f={value:r,configurable:e,enumerable:o,writable:n},u?s(P(u),f):f};d.gs=function(g,r,e){var o,n,u,f;return typeof g!="string"?(u=e,e=r,r=g,g=null):u=arguments[3],y(r)?D(r)?y(e)?D(e)||(u=e,e=void 0):e=void 0:(u=r,r=e=void 0):r=void 0,y(g)?(o=M.call(g,"c"),n=M.call(g,"e")):(o=!0,n=!1),f={get:r,set:e,configurable:o,enumerable:n},u?s(P(u),f):f}},84706:function(W,G,t){t.d(G,{XE:function(){return y},kv:function(){return P},mo:function(){return d},Uf:function(){return g},SY:function(){return r},ik:function(){return e},oh:function(){return o}});function y(n,u){return n<u?-1:n>u?1:n>=u?0:NaN}function D(n){return n.length===1&&(n=s(n)),{left:function(u,f,c,m){for(c==null&&(c=0),m==null&&(m=u.length);c<m;){var v=c+m>>>1;n(u[v],f)<0?c=v+1:m=v}return c},right:function(u,f,c,m){for(c==null&&(c=0),m==null&&(m=u.length);c<m;){var v=c+m>>>1;n(u[v],f)>0?m=v:c=v+1}return c}}}function s(n){return function(u,f){return y(n(u),f)}}D(y);function P(n,u){var f=n.length,c=-1,m,v;if(u==null){for(;++c<f;)if((m=n[c])!=null&&m>=m)for(v=m;++c<f;)(m=n[c])!=null&&m>v&&(v=m)}else for(;++c<f;)if((m=u(n[c],c,n))!=null&&m>=m)for(v=m;++c<f;)(m=u(n[c],c,n))!=null&&m>v&&(v=m);return v}function M(n){return n===null?NaN:+n}function d(n,u){var f=n.length,c=f,m=-1,v,T=0;if(u==null)for(;++m<f;)isNaN(v=M(n[m]))?--c:T+=v;else for(;++m<f;)isNaN(v=M(u(n[m],m,n)))?--c:T+=v;if(c)return T/c}function g(n){for(var u=n.length,f,c=-1,m=0,v,T;++c<u;)m+=n[c].length;for(v=new Array(m);--u>=0;)for(T=n[u],f=T.length;--f>=0;)v[--m]=T[f];return v}function r(n,u){var f=n.length,c=-1,m,v;if(u==null){for(;++c<f;)if((m=n[c])!=null&&m>=m)for(v=m;++c<f;)(m=n[c])!=null&&v>m&&(v=m)}else for(;++c<f;)if((m=u(n[c],c,n))!=null&&m>=m)for(v=m;++c<f;)(m=u(n[c],c,n))!=null&&v>m&&(v=m);return v}function e(n,u,f){n=+n,u=+u,f=(m=arguments.length)<2?(u=n,n=0,1):m<3?1:+f;for(var c=-1,m=Math.max(0,Math.ceil((u-n)/f))|0,v=new Array(m);++c<m;)v[c]=n+c*f;return v}function o(n,u){var f=n.length,c=-1,m,v=0;if(u==null)for(;++c<f;)(m=+n[c])&&(v+=m);else for(;++c<f;)(m=+u(n[c],c,n))&&(v+=m);return v}},34712:function(W,G,t){t.d(G,{kH:function(){return P},UJ:function(){return M}});var y="$";function D(){}D.prototype=s.prototype={constructor:D,has:function(u){return y+u in this},get:function(u){return this[y+u]},set:function(u,f){return this[y+u]=f,this},remove:function(u){var f=y+u;return f in this&&delete this[f]},clear:function(){for(var u in this)u[0]===y&&delete this[u]},keys:function(){var u=[];for(var f in this)f[0]===y&&u.push(f.slice(1));return u},values:function(){var u=[];for(var f in this)f[0]===y&&u.push(this[f]);return u},entries:function(){var u=[];for(var f in this)f[0]===y&&u.push({key:f.slice(1),value:this[f]});return u},size:function(){var u=0;for(var f in this)f[0]===y&&++u;return u},empty:function(){for(var u in this)if(u[0]===y)return!1;return!0},each:function(u){for(var f in this)f[0]===y&&u(this[f],f.slice(1),this)}};function s(u,f){var c=new D;if(u instanceof D)u.each(function(i,p){c.set(p,i)});else if(Array.isArray(u)){var m=-1,v=u.length,T;if(f==null)for(;++m<v;)c.set(m,u[m]);else for(;++m<v;)c.set(f(T=u[m],m,u),T)}else if(u)for(var h in u)c.set(h,u[h]);return c}var P=s;function M(){var u=[],f=[],c,m,v;function T(i,p,w,A){if(p>=u.length)return c!=null&&i.sort(c),m!=null?m(i):i;for(var L=-1,x=i.length,E=u[p++],S,a,C=P(),b,z=w();++L<x;)(b=C.get(S=E(a=i[L])+""))?b.push(a):C.set(S,[a]);return C.each(function(k,U){A(z,U,T(k,p,w,A))}),z}function h(i,p){if(++p>u.length)return i;var w,A=f[p-1];return m!=null&&p>=u.length?w=i.entries():(w=[],i.each(function(L,x){w.push({key:x,values:h(L,p)})})),A!=null?w.sort(function(L,x){return A(L.key,x.key)}):w}return v={object:function(i){return T(i,0,d,g)},map:function(i){return T(i,0,r,e)},entries:function(i){return h(T(i,0,r,e),0)},key:function(i){return u.push(i),v},sortKeys:function(i){return f[u.length-1]=i,v},sortValues:function(i){return c=i,v},rollup:function(i){return m=i,v}}}function d(){return{}}function g(u,f,c){u[f]=c}function r(){return P()}function e(u,f,c){u.set(f,c)}function o(){}var n=P.prototype;o.prototype={constructor:o,has:n.has,add:function(u){return u+="",this[y+u]=u,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(W,G,t){t.r(G),t.d(G,{forceCenter:function(){return y},forceCollide:function(){return C},forceLink:function(){return U},forceManyBody:function(){return Wt},forceRadial:function(){return Kt},forceSimulation:function(){return Ct},forceX:function(){return oe},forceY:function(){return Jt}});function y(te,fe){var ve;te==null&&(te=0),fe==null&&(fe=0);function de(){var xe,Me=ve.length,ne,kt=0,Gt=0;for(xe=0;xe<Me;++xe)ne=ve[xe],kt+=ne.x,Gt+=ne.y;for(kt=kt/Me-te,Gt=Gt/Me-fe,xe=0;xe<Me;++xe)ne=ve[xe],ne.x-=kt,ne.y-=Gt}return de.initialize=function(xe){ve=xe},de.x=function(xe){return arguments.length?(te=+xe,de):te},de.y=function(xe){return arguments.length?(fe=+xe,de):fe},de}function D(te){return function(){return te}}function s(){return(Math.random()-.5)*1e-6}function P(te){var fe=+this._x.call(null,te),ve=+this._y.call(null,te);return M(this.cover(fe,ve),fe,ve,te)}function M(te,fe,ve,de){if(isNaN(fe)||isNaN(ve))return te;var xe,Me=te._root,ne={data:de},kt=te._x0,Gt=te._y0,Yt=te._x1,Zt=te._y1,It,Nt,Ht,Lt,dt,xt,Ot,jt;if(!Me)return te._root=ne,te;for(;Me.length;)if((dt=fe>=(It=(kt+Yt)/2))?kt=It:Yt=It,(xt=ve>=(Nt=(Gt+Zt)/2))?Gt=Nt:Zt=Nt,xe=Me,!(Me=Me[Ot=xt<<1|dt]))return xe[Ot]=ne,te;if(Ht=+te._x.call(null,Me.data),Lt=+te._y.call(null,Me.data),fe===Ht&&ve===Lt)return ne.next=Me,xe?xe[Ot]=ne:te._root=ne,te;do xe=xe?xe[Ot]=new Array(4):te._root=new Array(4),(dt=fe>=(It=(kt+Yt)/2))?kt=It:Yt=It,(xt=ve>=(Nt=(Gt+Zt)/2))?Gt=Nt:Zt=Nt;while((Ot=xt<<1|dt)===(jt=(Lt>=Nt)<<1|Ht>=It));return xe[jt]=Me,xe[Ot]=ne,te}function d(te){var fe,ve,de=te.length,xe,Me,ne=new Array(de),kt=new Array(de),Gt=1/0,Yt=1/0,Zt=-1/0,It=-1/0;for(ve=0;ve<de;++ve)isNaN(xe=+this._x.call(null,fe=te[ve]))||isNaN(Me=+this._y.call(null,fe))||(ne[ve]=xe,kt[ve]=Me,xe<Gt&&(Gt=xe),xe>Zt&&(Zt=xe),Me<Yt&&(Yt=Me),Me>It&&(It=Me));if(Gt>Zt||Yt>It)return this;for(this.cover(Gt,Yt).cover(Zt,It),ve=0;ve<de;++ve)M(this,ne[ve],kt[ve],te[ve]);return this}function g(te,fe){if(isNaN(te=+te)||isNaN(fe=+fe))return this;var ve=this._x0,de=this._y0,xe=this._x1,Me=this._y1;if(isNaN(ve))xe=(ve=Math.floor(te))+1,Me=(de=Math.floor(fe))+1;else{for(var ne=xe-ve,kt=this._root,Gt,Yt;ve>te||te>=xe||de>fe||fe>=Me;)switch(Yt=(fe<de)<<1|te<ve,Gt=new Array(4),Gt[Yt]=kt,kt=Gt,ne*=2,Yt){case 0:xe=ve+ne,Me=de+ne;break;case 1:ve=xe-ne,Me=de+ne;break;case 2:xe=ve+ne,de=Me-ne;break;case 3:ve=xe-ne,de=Me-ne;break}this._root&&this._root.length&&(this._root=kt)}return this._x0=ve,this._y0=de,this._x1=xe,this._y1=Me,this}function r(){var te=[];return this.visit(function(fe){if(!fe.length)do te.push(fe.data);while(fe=fe.next)}),te}function e(te){return arguments.length?this.cover(+te[0][0],+te[0][1]).cover(+te[1][0],+te[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function o(te,fe,ve,de,xe){this.node=te,this.x0=fe,this.y0=ve,this.x1=de,this.y1=xe}function n(te,fe,ve){var de,xe=this._x0,Me=this._y0,ne,kt,Gt,Yt,Zt=this._x1,It=this._y1,Nt=[],Ht=this._root,Lt,dt;for(Ht&&Nt.push(new o(Ht,xe,Me,Zt,It)),ve==null?ve=1/0:(xe=te-ve,Me=fe-ve,Zt=te+ve,It=fe+ve,ve*=ve);Lt=Nt.pop();)if(!(!(Ht=Lt.node)||(ne=Lt.x0)>Zt||(kt=Lt.y0)>It||(Gt=Lt.x1)<xe||(Yt=Lt.y1)<Me))if(Ht.length){var xt=(ne+Gt)/2,Ot=(kt+Yt)/2;Nt.push(new o(Ht[3],xt,Ot,Gt,Yt),new o(Ht[2],ne,Ot,xt,Yt),new o(Ht[1],xt,kt,Gt,Ot),new o(Ht[0],ne,kt,xt,Ot)),(dt=(fe>=Ot)<<1|te>=xt)&&(Lt=Nt[Nt.length-1],Nt[Nt.length-1]=Nt[Nt.length-1-dt],Nt[Nt.length-1-dt]=Lt)}else{var jt=te-+this._x.call(null,Ht.data),ie=fe-+this._y.call(null,Ht.data),le=jt*jt+ie*ie;if(le<ve){var Ve=Math.sqrt(ve=le);xe=te-Ve,Me=fe-Ve,Zt=te+Ve,It=fe+Ve,de=Ht.data}}return de}function u(te){if(isNaN(Zt=+this._x.call(null,te))||isNaN(It=+this._y.call(null,te)))return this;var fe,ve=this._root,de,xe,Me,ne=this._x0,kt=this._y0,Gt=this._x1,Yt=this._y1,Zt,It,Nt,Ht,Lt,dt,xt,Ot;if(!ve)return this;if(ve.length)for(;;){if((Lt=Zt>=(Nt=(ne+Gt)/2))?ne=Nt:Gt=Nt,(dt=It>=(Ht=(kt+Yt)/2))?kt=Ht:Yt=Ht,fe=ve,!(ve=ve[xt=dt<<1|Lt]))return this;if(!ve.length)break;(fe[xt+1&3]||fe[xt+2&3]||fe[xt+3&3])&&(de=fe,Ot=xt)}for(;ve.data!==te;)if(xe=ve,!(ve=ve.next))return this;return(Me=ve.next)&&delete ve.next,xe?(Me?xe.next=Me:delete xe.next,this):fe?(Me?fe[xt]=Me:delete fe[xt],(ve=fe[0]||fe[1]||fe[2]||fe[3])&&ve===(fe[3]||fe[2]||fe[1]||fe[0])&&!ve.length&&(de?de[Ot]=ve:this._root=ve),this):(this._root=Me,this)}function f(te){for(var fe=0,ve=te.length;fe<ve;++fe)this.remove(te[fe]);return this}function c(){return this._root}function m(){var te=0;return this.visit(function(fe){if(!fe.length)do++te;while(fe=fe.next)}),te}function v(te){var fe=[],ve,de=this._root,xe,Me,ne,kt,Gt;for(de&&fe.push(new o(de,this._x0,this._y0,this._x1,this._y1));ve=fe.pop();)if(!te(de=ve.node,Me=ve.x0,ne=ve.y0,kt=ve.x1,Gt=ve.y1)&&de.length){var Yt=(Me+kt)/2,Zt=(ne+Gt)/2;(xe=de[3])&&fe.push(new o(xe,Yt,Zt,kt,Gt)),(xe=de[2])&&fe.push(new o(xe,Me,Zt,Yt,Gt)),(xe=de[1])&&fe.push(new o(xe,Yt,ne,kt,Zt)),(xe=de[0])&&fe.push(new o(xe,Me,ne,Yt,Zt))}return this}function T(te){var fe=[],ve=[],de;for(this._root&&fe.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));de=fe.pop();){var xe=de.node;if(xe.length){var Me,ne=de.x0,kt=de.y0,Gt=de.x1,Yt=de.y1,Zt=(ne+Gt)/2,It=(kt+Yt)/2;(Me=xe[0])&&fe.push(new o(Me,ne,kt,Zt,It)),(Me=xe[1])&&fe.push(new o(Me,Zt,kt,Gt,It)),(Me=xe[2])&&fe.push(new o(Me,ne,It,Zt,Yt)),(Me=xe[3])&&fe.push(new o(Me,Zt,It,Gt,Yt))}ve.push(de)}for(;de=ve.pop();)te(de.node,de.x0,de.y0,de.x1,de.y1);return this}function h(te){return te[0]}function i(te){return arguments.length?(this._x=te,this):this._x}function p(te){return te[1]}function w(te){return arguments.length?(this._y=te,this):this._y}function A(te,fe,ve){var de=new L(fe??h,ve??p,NaN,NaN,NaN,NaN);return te==null?de:de.addAll(te)}function L(te,fe,ve,de,xe,Me){this._x=te,this._y=fe,this._x0=ve,this._y0=de,this._x1=xe,this._y1=Me,this._root=void 0}function x(te){for(var fe={data:te.data},ve=fe;te=te.next;)ve=ve.next={data:te.data};return fe}var E=A.prototype=L.prototype;E.copy=function(){var te=new L(this._x,this._y,this._x0,this._y0,this._x1,this._y1),fe=this._root,ve,de;if(!fe)return te;if(!fe.length)return te._root=x(fe),te;for(ve=[{source:fe,target:te._root=new Array(4)}];fe=ve.pop();)for(var xe=0;xe<4;++xe)(de=fe.source[xe])&&(de.length?ve.push({source:de,target:fe.target[xe]=new Array(4)}):fe.target[xe]=x(de));return te},E.add=P,E.addAll=d,E.cover=g,E.data=r,E.extent=e,E.find=n,E.remove=u,E.removeAll=f,E.root=c,E.size=m,E.visit=v,E.visitAfter=T,E.x=i,E.y=w;function S(te){return te.x+te.vx}function a(te){return te.y+te.vy}function C(te){var fe,ve,de=1,xe=1;typeof te!="function"&&(te=D(te==null?1:+te));function Me(){for(var Gt,Yt=fe.length,Zt,It,Nt,Ht,Lt,dt,xt=0;xt<xe;++xt)for(Zt=A(fe,S,a).visitAfter(ne),Gt=0;Gt<Yt;++Gt)It=fe[Gt],Lt=ve[It.index],dt=Lt*Lt,Nt=It.x+It.vx,Ht=It.y+It.vy,Zt.visit(Ot);function Ot(jt,ie,le,Ve,je){var Te=jt.data,Le=jt.r,Ke=Lt+Le;if(Te){if(Te.index>It.index){var vr=Nt-Te.x-Te.vx,ge=Ht-Te.y-Te.vy,Xe=vr*vr+ge*ge;Xe<Ke*Ke&&(vr===0&&(vr=s(),Xe+=vr*vr),ge===0&&(ge=s(),Xe+=ge*ge),Xe=(Ke-(Xe=Math.sqrt(Xe)))/Xe*de,It.vx+=(vr*=Xe)*(Ke=(Le*=Le)/(dt+Le)),It.vy+=(ge*=Xe)*Ke,Te.vx-=vr*(Ke=1-Ke),Te.vy-=ge*Ke)}return}return ie>Nt+Ke||Ve<Nt-Ke||le>Ht+Ke||je<Ht-Ke}}function ne(Gt){if(Gt.data)return Gt.r=ve[Gt.data.index];for(var Yt=Gt.r=0;Yt<4;++Yt)Gt[Yt]&&Gt[Yt].r>Gt.r&&(Gt.r=Gt[Yt].r)}function kt(){if(fe){var Gt,Yt=fe.length,Zt;for(ve=new Array(Yt),Gt=0;Gt<Yt;++Gt)Zt=fe[Gt],ve[Zt.index]=+te(Zt,Gt,fe)}}return Me.initialize=function(Gt){fe=Gt,kt()},Me.iterations=function(Gt){return arguments.length?(xe=+Gt,Me):xe},Me.strength=function(Gt){return arguments.length?(de=+Gt,Me):de},Me.radius=function(Gt){return arguments.length?(te=typeof Gt=="function"?Gt:D(+Gt),kt(),Me):te},Me}var b=t(34712);function z(te){return te.index}function k(te,fe){var ve=te.get(fe);if(!ve)throw new Error("missing: "+fe);return ve}function U(te){var fe=z,ve=Zt,de,xe=D(30),Me,ne,kt,Gt,Yt=1;te==null&&(te=[]);function Zt(dt){return 1/Math.min(kt[dt.source.index],kt[dt.target.index])}function It(dt){for(var xt=0,Ot=te.length;xt<Yt;++xt)for(var jt=0,ie,le,Ve,je,Te,Le,Ke;jt<Ot;++jt)ie=te[jt],le=ie.source,Ve=ie.target,je=Ve.x+Ve.vx-le.x-le.vx||s(),Te=Ve.y+Ve.vy-le.y-le.vy||s(),Le=Math.sqrt(je*je+Te*Te),Le=(Le-Me[jt])/Le*dt*de[jt],je*=Le,Te*=Le,Ve.vx-=je*(Ke=Gt[jt]),Ve.vy-=Te*Ke,le.vx+=je*(Ke=1-Ke),le.vy+=Te*Ke}function Nt(){if(ne){var dt,xt=ne.length,Ot=te.length,jt=(0,b.kH)(ne,fe),ie;for(dt=0,kt=new Array(xt);dt<Ot;++dt)ie=te[dt],ie.index=dt,typeof ie.source!="object"&&(ie.source=k(jt,ie.source)),typeof ie.target!="object"&&(ie.target=k(jt,ie.target)),kt[ie.source.index]=(kt[ie.source.index]||0)+1,kt[ie.target.index]=(kt[ie.target.index]||0)+1;for(dt=0,Gt=new Array(Ot);dt<Ot;++dt)ie=te[dt],Gt[dt]=kt[ie.source.index]/(kt[ie.source.index]+kt[ie.target.index]);de=new Array(Ot),Ht(),Me=new Array(Ot),Lt()}}function Ht(){if(ne)for(var dt=0,xt=te.length;dt<xt;++dt)de[dt]=+ve(te[dt],dt,te)}function Lt(){if(ne)for(var dt=0,xt=te.length;dt<xt;++dt)Me[dt]=+xe(te[dt],dt,te)}return It.initialize=function(dt){ne=dt,Nt()},It.links=function(dt){return arguments.length?(te=dt,Nt(),It):te},It.id=function(dt){return arguments.length?(fe=dt,It):fe},It.iterations=function(dt){return arguments.length?(Yt=+dt,It):Yt},It.strength=function(dt){return arguments.length?(ve=typeof dt=="function"?dt:D(+dt),Ht(),It):ve},It.distance=function(dt){return arguments.length?(xe=typeof dt=="function"?dt:D(+dt),Lt(),It):xe},It}var F={value:function(){}};function V(){for(var te=0,fe=arguments.length,ve={},de;te<fe;++te){if(!(de=arguments[te]+"")||de in ve||/[\s.]/.test(de))throw new Error("illegal type: "+de);ve[de]=[]}return new N(ve)}function N(te){this._=te}function O(te,fe){return te.trim().split(/^|\s+/).map(function(ve){var de="",xe=ve.indexOf(".");if(xe>=0&&(de=ve.slice(xe+1),ve=ve.slice(0,xe)),ve&&!fe.hasOwnProperty(ve))throw new Error("unknown type: "+ve);return{type:ve,name:de}})}N.prototype=V.prototype={constructor:N,on:function(te,fe){var ve=this._,de=O(te+"",ve),xe,Me=-1,ne=de.length;if(arguments.length<2){for(;++Me<ne;)if((xe=(te=de[Me]).type)&&(xe=H(ve[xe],te.name)))return xe;return}if(fe!=null&&typeof fe!="function")throw new Error("invalid callback: "+fe);for(;++Me<ne;)if(xe=(te=de[Me]).type)ve[xe]=X(ve[xe],te.name,fe);else if(fe==null)for(xe in ve)ve[xe]=X(ve[xe],te.name,null);return this},copy:function(){var te={},fe=this._;for(var ve in fe)te[ve]=fe[ve].slice();return new N(te)},call:function(te,fe){if((xe=arguments.length-2)>0)for(var ve=new Array(xe),de=0,xe,Me;de<xe;++de)ve[de]=arguments[de+2];if(!this._.hasOwnProperty(te))throw new Error("unknown type: "+te);for(Me=this._[te],de=0,xe=Me.length;de<xe;++de)Me[de].value.apply(fe,ve)},apply:function(te,fe,ve){if(!this._.hasOwnProperty(te))throw new Error("unknown type: "+te);for(var de=this._[te],xe=0,Me=de.length;xe<Me;++xe)de[xe].value.apply(fe,ve)}};function H(te,fe){for(var ve=0,de=te.length,xe;ve<de;++ve)if((xe=te[ve]).name===fe)return xe.value}function X(te,fe,ve){for(var de=0,xe=te.length;de<xe;++de)if(te[de].name===fe){te[de]=F,te=te.slice(0,de).concat(te.slice(de+1));break}return ve!=null&&te.push({name:fe,value:ve}),te}var J=V,et=0,it=0,ft=0,ot=1e3,Q,tt,Z=0,q=0,ut=0,$=typeof performance=="object"&&performance.now?performance:Date,j=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(te){setTimeout(te,17)};function lt(){return q||(j(nt),q=$.now()+ut)}function nt(){q=0}function ht(){this._call=this._time=this._next=null}ht.prototype=mt.prototype={constructor:ht,restart:function(te,fe,ve){if(typeof te!="function")throw new TypeError("callback is not a function");ve=(ve==null?lt():+ve)+(fe==null?0:+fe),!this._next&&tt!==this&&(tt?tt._next=this:Q=this,tt=this),this._call=te,this._time=ve,Ut()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ut())}};function mt(te,fe,ve){var de=new ht;return de.restart(te,fe,ve),de}function At(){lt(),++et;for(var te=Q,fe;te;)(fe=q-te._time)>=0&&te._call.call(null,fe),te=te._next;--et}function bt(){q=(Z=$.now())+ut,et=it=0;try{At()}finally{et=0,_t(),q=0}}function Pt(){var te=$.now(),fe=te-Z;fe>ot&&(ut-=fe,Z=te)}function _t(){for(var te,fe=Q,ve,de=1/0;fe;)fe._call?(de>fe._time&&(de=fe._time),te=fe,fe=fe._next):(ve=fe._next,fe._next=null,fe=te?te._next=ve:Q=ve);tt=te,Ut(de)}function Ut(te){if(!et){it&&(it=clearTimeout(it));var fe=te-q;fe>24?(te<1/0&&(it=setTimeout(bt,te-$.now()-ut)),ft&&(ft=clearInterval(ft))):(ft||(Z=$.now(),ft=setInterval(Pt,ot)),et=1,j(bt))}}function St(te){return te.x}function Rt(te){return te.y}var Et=10,zt=Math.PI*(3-Math.sqrt(5));function Ct(te){var fe,ve=1,de=.001,xe=1-Math.pow(de,1/300),Me=0,ne=.6,kt=(0,b.kH)(),Gt=mt(Zt),Yt=J("tick","end");te==null&&(te=[]);function Zt(){It(),Yt.call("tick",fe),ve<de&&(Gt.stop(),Yt.call("end",fe))}function It(Lt){var dt,xt=te.length,Ot;Lt===void 0&&(Lt=1);for(var jt=0;jt<Lt;++jt)for(ve+=(Me-ve)*xe,kt.each(function(ie){ie(ve)}),dt=0;dt<xt;++dt)Ot=te[dt],Ot.fx==null?Ot.x+=Ot.vx*=ne:(Ot.x=Ot.fx,Ot.vx=0),Ot.fy==null?Ot.y+=Ot.vy*=ne:(Ot.y=Ot.fy,Ot.vy=0);return fe}function Nt(){for(var Lt=0,dt=te.length,xt;Lt<dt;++Lt){if(xt=te[Lt],xt.index=Lt,xt.fx!=null&&(xt.x=xt.fx),xt.fy!=null&&(xt.y=xt.fy),isNaN(xt.x)||isNaN(xt.y)){var Ot=Et*Math.sqrt(Lt),jt=Lt*zt;xt.x=Ot*Math.cos(jt),xt.y=Ot*Math.sin(jt)}(isNaN(xt.vx)||isNaN(xt.vy))&&(xt.vx=xt.vy=0)}}function Ht(Lt){return Lt.initialize&&Lt.initialize(te),Lt}return Nt(),fe={tick:It,restart:function(){return Gt.restart(Zt),fe},stop:function(){return Gt.stop(),fe},nodes:function(Lt){return arguments.length?(te=Lt,Nt(),kt.each(Ht),fe):te},alpha:function(Lt){return arguments.length?(ve=+Lt,fe):ve},alphaMin:function(Lt){return arguments.length?(de=+Lt,fe):de},alphaDecay:function(Lt){return arguments.length?(xe=+Lt,fe):+xe},alphaTarget:function(Lt){return arguments.length?(Me=+Lt,fe):Me},velocityDecay:function(Lt){return arguments.length?(ne=1-Lt,fe):1-ne},force:function(Lt,dt){return arguments.length>1?(dt==null?kt.remove(Lt):kt.set(Lt,Ht(dt)),fe):kt.get(Lt)},find:function(Lt,dt,xt){var Ot=0,jt=te.length,ie,le,Ve,je,Te;for(xt==null?xt=1/0:xt*=xt,Ot=0;Ot<jt;++Ot)je=te[Ot],ie=Lt-je.x,le=dt-je.y,Ve=ie*ie+le*le,Ve<xt&&(Te=je,xt=Ve);return Te},on:function(Lt,dt){return arguments.length>1?(Yt.on(Lt,dt),fe):Yt.on(Lt)}}}function Wt(){var te,fe,ve,de=D(-30),xe,Me=1,ne=1/0,kt=.81;function Gt(Nt){var Ht,Lt=te.length,dt=A(te,St,Rt).visitAfter(Zt);for(ve=Nt,Ht=0;Ht<Lt;++Ht)fe=te[Ht],dt.visit(It)}function Yt(){if(te){var Nt,Ht=te.length,Lt;for(xe=new Array(Ht),Nt=0;Nt<Ht;++Nt)Lt=te[Nt],xe[Lt.index]=+de(Lt,Nt,te)}}function Zt(Nt){var Ht=0,Lt,dt,xt=0,Ot,jt,ie;if(Nt.length){for(Ot=jt=ie=0;ie<4;++ie)(Lt=Nt[ie])&&(dt=Math.abs(Lt.value))&&(Ht+=Lt.value,xt+=dt,Ot+=dt*Lt.x,jt+=dt*Lt.y);Nt.x=Ot/xt,Nt.y=jt/xt}else{Lt=Nt,Lt.x=Lt.data.x,Lt.y=Lt.data.y;do Ht+=xe[Lt.data.index];while(Lt=Lt.next)}Nt.value=Ht}function It(Nt,Ht,Lt,dt){if(!Nt.value)return!0;var xt=Nt.x-fe.x,Ot=Nt.y-fe.y,jt=dt-Ht,ie=xt*xt+Ot*Ot;if(jt*jt/kt<ie)return ie<ne&&(xt===0&&(xt=s(),ie+=xt*xt),Ot===0&&(Ot=s(),ie+=Ot*Ot),ie<Me&&(ie=Math.sqrt(Me*ie)),fe.vx+=xt*Nt.value*ve/ie,fe.vy+=Ot*Nt.value*ve/ie),!0;if(Nt.length||ie>=ne)return;(Nt.data!==fe||Nt.next)&&(xt===0&&(xt=s(),ie+=xt*xt),Ot===0&&(Ot=s(),ie+=Ot*Ot),ie<Me&&(ie=Math.sqrt(Me*ie)));do Nt.data!==fe&&(jt=xe[Nt.data.index]*ve/ie,fe.vx+=xt*jt,fe.vy+=Ot*jt);while(Nt=Nt.next)}return Gt.initialize=function(Nt){te=Nt,Yt()},Gt.strength=function(Nt){return arguments.length?(de=typeof Nt=="function"?Nt:D(+Nt),Yt(),Gt):de},Gt.distanceMin=function(Nt){return arguments.length?(Me=Nt*Nt,Gt):Math.sqrt(Me)},Gt.distanceMax=function(Nt){return arguments.length?(ne=Nt*Nt,Gt):Math.sqrt(ne)},Gt.theta=function(Nt){return arguments.length?(kt=Nt*Nt,Gt):Math.sqrt(kt)},Gt}function Kt(te,fe,ve){var de,xe=D(.1),Me,ne;typeof te!="function"&&(te=D(+te)),fe==null&&(fe=0),ve==null&&(ve=0);function kt(Yt){for(var Zt=0,It=de.length;Zt<It;++Zt){var Nt=de[Zt],Ht=Nt.x-fe||1e-6,Lt=Nt.y-ve||1e-6,dt=Math.sqrt(Ht*Ht+Lt*Lt),xt=(ne[Zt]-dt)*Me[Zt]*Yt/dt;Nt.vx+=Ht*xt,Nt.vy+=Lt*xt}}function Gt(){if(de){var Yt,Zt=de.length;for(Me=new Array(Zt),ne=new Array(Zt),Yt=0;Yt<Zt;++Yt)ne[Yt]=+te(de[Yt],Yt,de),Me[Yt]=isNaN(ne[Yt])?0:+xe(de[Yt],Yt,de)}}return kt.initialize=function(Yt){de=Yt,Gt()},kt.strength=function(Yt){return arguments.length?(xe=typeof Yt=="function"?Yt:D(+Yt),Gt(),kt):xe},kt.radius=function(Yt){return arguments.length?(te=typeof Yt=="function"?Yt:D(+Yt),Gt(),kt):te},kt.x=function(Yt){return arguments.length?(fe=+Yt,kt):fe},kt.y=function(Yt){return arguments.length?(ve=+Yt,kt):ve},kt}function oe(te){var fe=D(.1),ve,de,xe;typeof te!="function"&&(te=D(te==null?0:+te));function Me(kt){for(var Gt=0,Yt=ve.length,Zt;Gt<Yt;++Gt)Zt=ve[Gt],Zt.vx+=(xe[Gt]-Zt.x)*de[Gt]*kt}function ne(){if(ve){var kt,Gt=ve.length;for(de=new Array(Gt),xe=new Array(Gt),kt=0;kt<Gt;++kt)de[kt]=isNaN(xe[kt]=+te(ve[kt],kt,ve))?0:+fe(ve[kt],kt,ve)}}return Me.initialize=function(kt){ve=kt,ne()},Me.strength=function(kt){return arguments.length?(fe=typeof kt=="function"?kt:D(+kt),ne(),Me):fe},Me.x=function(kt){return arguments.length?(te=typeof kt=="function"?kt:D(+kt),ne(),Me):te},Me}function Jt(te){var fe=D(.1),ve,de,xe;typeof te!="function"&&(te=D(te==null?0:+te));function Me(kt){for(var Gt=0,Yt=ve.length,Zt;Gt<Yt;++Gt)Zt=ve[Gt],Zt.vy+=(xe[Gt]-Zt.y)*de[Gt]*kt}function ne(){if(ve){var kt,Gt=ve.length;for(de=new Array(Gt),xe=new Array(Gt),kt=0;kt<Gt;++kt)de[kt]=isNaN(xe[kt]=+te(ve[kt],kt,ve))?0:+fe(ve[kt],kt,ve)}}return Me.initialize=function(kt){ve=kt,ne()},Me.strength=function(kt){return arguments.length?(fe=typeof kt=="function"?kt:D(+kt),ne(),Me):fe},Me.y=function(kt){return arguments.length?(te=typeof kt=="function"?kt:D(+kt),ne(),Me):te},Me}},57624:function(W,G,t){t.d(G,{E9:function(){return i},SO:function(){return T}});function y(w){return Math.abs(w=Math.round(w))>=1e21?w.toLocaleString("en").replace(/,/g,""):w.toString(10)}function D(w,A){if((L=(w=A?w.toExponential(A-1):w.toExponential()).indexOf("e"))<0)return null;var L,x=w.slice(0,L);return[x.length>1?x[0]+x.slice(2):x,+w.slice(L+1)]}function s(w){return w=D(Math.abs(w)),w?w[1]:NaN}function P(w,A){return function(L,x){for(var E=L.length,S=[],a=0,C=w[0],b=0;E>0&&C>0&&(b+C+1>x&&(C=Math.max(1,x-b)),S.push(L.substring(E-=C,E+C)),!((b+=C+1)>x));)C=w[a=(a+1)%w.length];return S.reverse().join(A)}}function M(w){return function(A){return A.replace(/[0-9]/g,function(L){return w[+L]})}}var d=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function g(w){if(!(A=d.exec(w)))throw new Error("invalid format: "+w);var A;return new r({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}g.prototype=r.prototype;function r(w){this.fill=w.fill===void 0?" ":w.fill+"",this.align=w.align===void 0?">":w.align+"",this.sign=w.sign===void 0?"-":w.sign+"",this.symbol=w.symbol===void 0?"":w.symbol+"",this.zero=!!w.zero,this.width=w.width===void 0?void 0:+w.width,this.comma=!!w.comma,this.precision=w.precision===void 0?void 0:+w.precision,this.trim=!!w.trim,this.type=w.type===void 0?"":w.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function e(w){t:for(var A=w.length,L=1,x=-1,E;L<A;++L)switch(w[L]){case".":x=E=L;break;case"0":x===0&&(x=L),E=L;break;default:if(!+w[L])break t;x>0&&(x=0);break}return x>0?w.slice(0,x)+w.slice(E+1):w}var o;function n(w,A){var L=D(w,A);if(!L)return w+"";var x=L[0],E=L[1],S=E-(o=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,a=x.length;return S===a?x:S>a?x+new Array(S-a+1).join("0"):S>0?x.slice(0,S)+"."+x.slice(S):"0."+new Array(1-S).join("0")+D(w,Math.max(0,A+S-1))[0]}function u(w,A){var L=D(w,A);if(!L)return w+"";var x=L[0],E=L[1];return E<0?"0."+new Array(-E).join("0")+x:x.length>E+1?x.slice(0,E+1)+"."+x.slice(E+1):x+new Array(E-x.length+2).join("0")}var f={"%":function(w,A){return(w*100).toFixed(A)},b:function(w){return Math.round(w).toString(2)},c:function(w){return w+""},d:y,e:function(w,A){return w.toExponential(A)},f:function(w,A){return w.toFixed(A)},g:function(w,A){return w.toPrecision(A)},o:function(w){return Math.round(w).toString(8)},p:function(w,A){return u(w*100,A)},r:u,s:n,X:function(w){return Math.round(w).toString(16).toUpperCase()},x:function(w){return Math.round(w).toString(16)}};function c(w){return w}var m=Array.prototype.map,v=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T(w){var A=w.grouping===void 0||w.thousands===void 0?c:P(m.call(w.grouping,Number),w.thousands+""),L=w.currency===void 0?"":w.currency[0]+"",x=w.currency===void 0?"":w.currency[1]+"",E=w.decimal===void 0?".":w.decimal+"",S=w.numerals===void 0?c:M(m.call(w.numerals,String)),a=w.percent===void 0?"%":w.percent+"",C=w.minus===void 0?"-":w.minus+"",b=w.nan===void 0?"NaN":w.nan+"";function z(U){U=g(U);var F=U.fill,V=U.align,N=U.sign,O=U.symbol,H=U.zero,X=U.width,J=U.comma,et=U.precision,it=U.trim,ft=U.type;ft==="n"?(J=!0,ft="g"):f[ft]||(et===void 0&&(et=12),it=!0,ft="g"),(H||F==="0"&&V==="=")&&(H=!0,F="0",V="=");var ot=O==="$"?L:O==="#"&&/[boxX]/.test(ft)?"0"+ft.toLowerCase():"",Q=O==="$"?x:/[%p]/.test(ft)?a:"",tt=f[ft],Z=/[defgprs%]/.test(ft);et=et===void 0?6:/[gprs]/.test(ft)?Math.max(1,Math.min(21,et)):Math.max(0,Math.min(20,et));function q(ut){var $=ot,j=Q,lt,nt,ht;if(ft==="c")j=tt(ut)+j,ut="";else{ut=+ut;var mt=ut<0||1/ut<0;if(ut=isNaN(ut)?b:tt(Math.abs(ut),et),it&&(ut=e(ut)),mt&&+ut==0&&N!=="+"&&(mt=!1),$=(mt?N==="("?N:C:N==="-"||N==="("?"":N)+$,j=(ft==="s"?v[8+o/3]:"")+j+(mt&&N==="("?")":""),Z){for(lt=-1,nt=ut.length;++lt<nt;)if(ht=ut.charCodeAt(lt),48>ht||ht>57){j=(ht===46?E+ut.slice(lt+1):ut.slice(lt))+j,ut=ut.slice(0,lt);break}}}J&&!H&&(ut=A(ut,1/0));var At=$.length+ut.length+j.length,bt=At<X?new Array(X-At+1).join(F):"";switch(J&&H&&(ut=A(bt+ut,bt.length?X-j.length:1/0),bt=""),V){case"<":ut=$+ut+j+bt;break;case"=":ut=$+bt+ut+j;break;case"^":ut=bt.slice(0,At=bt.length>>1)+$+ut+j+bt.slice(At);break;default:ut=bt+$+ut+j;break}return S(ut)}return q.toString=function(){return U+""},q}function k(U,F){var V=z((U=g(U),U.type="f",U)),N=Math.max(-8,Math.min(8,Math.floor(s(F)/3)))*3,O=Math.pow(10,-N),H=v[8+N/3];return function(X){return V(O*X)+H}}return{format:z,formatPrefix:k}}var h,i;p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function p(w){return h=T(w),i=h.format,h.formatPrefix,h}},87108:function(W,G,t){t.r(G),t.d(G,{geoAiry:function(){return H},geoAiryRaw:function(){return O},geoAitoff:function(){return J},geoAitoffRaw:function(){return X},geoArmadillo:function(){return it},geoArmadilloRaw:function(){return et},geoAugust:function(){return ot},geoAugustRaw:function(){return ft},geoBaker:function(){return q},geoBakerRaw:function(){return Z},geoBerghaus:function(){return j},geoBerghausRaw:function(){return $},geoBertin1953:function(){return _t},geoBertin1953Raw:function(){return Pt},geoBoggs:function(){return Kt},geoBoggsRaw:function(){return Wt},geoBonne:function(){return ve},geoBonneRaw:function(){return fe},geoBottomley:function(){return xe},geoBottomleyRaw:function(){return de},geoBromley:function(){return ne},geoBromleyRaw:function(){return Me},geoChamberlin:function(){return dt},geoChamberlinAfrica:function(){return Lt},geoChamberlinRaw:function(){return Nt},geoCollignon:function(){return Ot},geoCollignonRaw:function(){return xt},geoCraig:function(){return ie},geoCraigRaw:function(){return jt},geoCraster:function(){return je},geoCrasterRaw:function(){return Ve},geoCylindricalEqualArea:function(){return Le},geoCylindricalEqualAreaRaw:function(){return Te},geoCylindricalStereographic:function(){return vr},geoCylindricalStereographicRaw:function(){return Ke},geoEckert1:function(){return Xe},geoEckert1Raw:function(){return ge},geoEckert2:function(){return mr},geoEckert2Raw:function(){return $e},geoEckert3:function(){return ye},geoEckert3Raw:function(){return or},geoEckert4:function(){return be},geoEckert4Raw:function(){return ue},geoEckert5:function(){return _e},geoEckert5Raw:function(){return Ee},geoEckert6:function(){return Fe},geoEckert6Raw:function(){return Oe},geoEisenlohr:function(){return hr},geoEisenlohrRaw:function(){return Je},geoFahey:function(){return fr},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return xr},geoFoucautRaw:function(){return Lr},geoFoucautSinusoidal:function(){return re},geoFoucautSinusoidalRaw:function(){return Qt},geoGilbert:function(){return Ze},geoGingery:function(){return yr},geoGingeryRaw:function(){return nr},geoGinzburg4:function(){return vn},geoGinzburg4Raw:function(){return Tr},geoGinzburg5:function(){return En},geoGinzburg5Raw:function(){return Or},geoGinzburg6:function(){return gr},geoGinzburg6Raw:function(){return nn},geoGinzburg8:function(){return jr},geoGinzburg8Raw:function(){return Pr},geoGinzburg9:function(){return pn},geoGinzburg9Raw:function(){return _r},geoGringorten:function(){return gi},geoGringortenQuincuncial:function(){return Vv},geoGringortenRaw:function(){return Tn},geoGuyou:function(){return ln},geoGuyouRaw:function(){return Cr},geoHammer:function(){return mt},geoHammerRaw:function(){return nt},geoHammerRetroazimuthal:function(){return Nn},geoHammerRetroazimuthalRaw:function(){return gn},geoHealpix:function(){return cn},geoHealpixRaw:function(){return Sr},geoHill:function(){return Yr},geoHillRaw:function(){return Er},geoHomolosine:function(){return Un},geoHomolosineRaw:function(){return On},geoHufnagel:function(){return Yn},geoHufnagelRaw:function(){return zn},geoHyperelliptical:function(){return Ma},geoHyperellipticalRaw:function(){return Li},geoInterrupt:function(){return So},geoInterruptedBoggs:function(){return pu},geoInterruptedHomolosine:function(){return la},geoInterruptedMollweide:function(){return wc},geoInterruptedMollweideHemispheres:function(){return Yo},geoInterruptedQuarticAuthalic:function(){return ml},geoInterruptedSinuMollweide:function(){return zf},geoInterruptedSinusoidal:function(){return yu},geoKavrayskiy7:function(){return uo},geoKavrayskiy7Raw:function(){return to},geoLagrange:function(){return Mo},geoLagrangeRaw:function(){return mu},geoLarrivee:function(){return vh},geoLarriveeRaw:function(){return os},geoLaskowski:function(){return Cv},geoLaskowskiRaw:function(){return qo},geoLittrow:function(){return xo},geoLittrowRaw:function(){return Bs},geoLoximuthal:function(){return yl},geoLoximuthalRaw:function(){return Tc},geoMiller:function(){return Ac},geoMillerRaw:function(){return Ns},geoModifiedStereographic:function(){return Wl},geoModifiedStereographicAlaska:function(){return Sc},geoModifiedStereographicGs48:function(){return Rv},geoModifiedStereographicGs50:function(){return _v},geoModifiedStereographicLee:function(){return gh},geoModifiedStereographicMiller:function(){return ph},geoModifiedStereographicRaw:function(){return dh},geoMollweide:function(){return Et},geoMollweideRaw:function(){return Rt},geoMtFlatPolarParabolic:function(){return yh},geoMtFlatPolarParabolicRaw:function(){return qu},geoMtFlatPolarQuartic:function(){return kv},geoMtFlatPolarQuarticRaw:function(){return qs},geoMtFlatPolarSinusoidal:function(){return mh},geoMtFlatPolarSinusoidalRaw:function(){return Of},geoNaturalEarth:function(){return xh.c},geoNaturalEarth2:function(){return ws},geoNaturalEarth2Raw:function(){return Bf},geoNaturalEarthRaw:function(){return xh.g},geoNellHammer:function(){return Yl},geoNellHammerRaw:function(){return bu},geoNicolosi:function(){return Mc},geoNicolosiRaw:function(){return Us},geoPatterson:function(){return Su},geoPattersonRaw:function(){return Uf},geoPeirceQuincuncial:function(){return Mh},geoPierceQuincuncial:function(){return Mh},geoPolyconic:function(){return Fv},geoPolyconicRaw:function(){return Vf},geoPolyhedral:function(){return Ea},geoPolyhedralButterfly:function(){return rf},geoPolyhedralCollignon:function(){return Xl},geoPolyhedralWaterman:function(){return bl},geoProject:function(){return Nv},geoQuantize:function(){return Eh},geoQuincuncial:function(){return rl},geoRectangularPolyconic:function(){return Ch},geoRectangularPolyconicRaw:function(){return Rc},geoRobinson:function(){return wl},geoRobinsonRaw:function(){return Cs},geoSatellite:function(){return Zl},geoSatelliteRaw:function(){return Yf},geoSinuMollweide:function(){return An},geoSinuMollweideRaw:function(){return wn},geoSinusoidal:function(){return te},geoSinusoidalRaw:function(){return Jt},geoStitch:function(){return ff},geoTimes:function(){return fo},geoTimesRaw:function(){return Sl},geoTwoPointAzimuthal:function(){return Zf},geoTwoPointAzimuthalRaw:function(){return kc},geoTwoPointAzimuthalUsa:function(){return Jl},geoTwoPointEquidistant:function(){return Ih},geoTwoPointEquidistantRaw:function(){return cf},geoTwoPointEquidistantUsa:function(){return Hv},geoVanDerGrinten:function(){return hf},geoVanDerGrinten2:function(){return Dh},geoVanDerGrinten2Raw:function(){return _u},geoVanDerGrinten3:function(){return Gv},geoVanDerGrinten3Raw:function(){return Ml},geoVanDerGrinten4:function(){return vf},geoVanDerGrinten4Raw:function(){return es},geoVanDerGrintenRaw:function(){return Uo},geoWagner:function(){return El},geoWagner4:function(){return Rh},geoWagner4Raw:function(){return Jf},geoWagner6:function(){return Fc},geoWagner6Raw:function(){return gf},geoWagner7:function(){return zc},geoWagnerRaw:function(){return al},geoWiechel:function(){return Oc},geoWiechelRaw:function(){return Ql},geoWinkel3:function(){return _h},geoWinkel3Raw:function(){return yf}});var y=t(87952),D=Math.abs,s=Math.atan,P=Math.atan2,M=Math.cos,d=Math.exp,g=Math.floor,r=Math.log,e=Math.max,o=Math.min,n=Math.pow,u=Math.round,f=Math.sign||function($t){return $t>0?1:$t<0?-1:0},c=Math.sin,m=Math.tan,v=1e-6,T=1e-12,h=Math.PI,i=h/2,p=h/4,w=Math.SQRT1_2,A=z(2),L=z(h),x=h*2,E=180/h,S=h/180;function a($t){return $t?$t/Math.sin($t):1}function C($t){return $t>1?i:$t<-1?-i:Math.asin($t)}function b($t){return $t>1?0:$t<-1?h:Math.acos($t)}function z($t){return $t>0?Math.sqrt($t):0}function k($t){return $t=d(2*$t),($t-1)/($t+1)}function U($t){return(d($t)-d(-$t))/2}function F($t){return(d($t)+d(-$t))/2}function V($t){return r($t+z($t*$t+1))}function N($t){return r($t+z($t*$t-1))}function O($t){var se=m($t/2),me=2*r(M($t/2))/(se*se);function we(ke,Re){var ze=M(ke),pr=M(Re),wr=c(Re),sr=pr*ze,Mr=-((1-sr?r((1+sr)/2)/(1-sr):-.5)+me/(1+sr));return[Mr*pr*c(ke),Mr*wr]}return we.invert=function(ke,Re){var ze=z(ke*ke+Re*Re),pr=-$t/2,wr=50,sr;if(!ze)return[0,0];do{var Mr=pr/2,zr=M(Mr),Vr=c(Mr),rn=Vr/zr,bn=-r(D(zr));pr-=sr=(2/rn*bn-me*rn-ze)/(-bn/(Vr*Vr)+1-me/(2*zr*zr))*(zr<0?.7:1)}while(D(sr)>v&&--wr>0);var In=c(pr);return[P(ke*In,ze*M(pr)),C(Re*In/ze)]},we}function H(){var $t=i,se=(0,y.U)(O),me=se($t);return me.radius=function(we){return arguments.length?se($t=we*S):$t*E},me.scale(179.976).clipAngle(147)}function X($t,se){var me=M(se),we=a(b(me*M($t/=2)));return[2*me*c($t)*we,c(se)*we]}X.invert=function($t,se){if(!($t*$t+4*se*se>h*h+v)){var me=$t,we=se,ke=25;do{var Re=c(me),ze=c(me/2),pr=M(me/2),wr=c(we),sr=M(we),Mr=c(2*we),zr=wr*wr,Vr=sr*sr,rn=ze*ze,bn=1-Vr*pr*pr,In=bn?b(sr*pr)*z(_n=1/bn):_n=0,_n,Jn=2*In*sr*ze-$t,Pi=In*wr-se,Ii=_n*(Vr*rn+In*sr*pr*zr),Ri=_n*(.5*Re*Mr-In*2*wr*ze),Fi=_n*.25*(Mr*ze-In*wr*Vr*Re),ji=_n*(zr*pr+In*rn*sr),Aa=Ri*Fi-ji*Ii;if(!Aa)break;var qa=(Pi*Ri-Jn*ji)/Aa,ct=(Jn*Fi-Pi*Ii)/Aa;me-=qa,we-=ct}while((D(qa)>v||D(ct)>v)&&--ke>0);return[me,we]}};function J(){return(0,y.c)(X).scale(152.63)}function et($t){var se=c($t),me=M($t),we=$t>=0?1:-1,ke=m(we*$t),Re=(1+se-me)/2;function ze(pr,wr){var sr=M(wr),Mr=M(pr/=2);return[(1+sr)*c(pr),(we*wr>-P(Mr,ke)-.001?0:-we*10)+Re+c(wr)*me-(1+sr)*se*Mr]}return ze.invert=function(pr,wr){var sr=0,Mr=0,zr=50;do{var Vr=M(sr),rn=c(sr),bn=M(Mr),In=c(Mr),_n=1+bn,Jn=_n*rn-pr,Pi=Re+In*me-_n*se*Vr-wr,Ii=_n*Vr/2,Ri=-rn*In,Fi=se*_n*rn/2,ji=me*bn+se*Vr*In,Aa=Ri*Fi-ji*Ii,qa=(Pi*Ri-Jn*ji)/Aa/2,ct=(Jn*Fi-Pi*Ii)/Aa;D(ct)>2&&(ct/=2),sr-=qa,Mr-=ct}while((D(qa)>v||D(ct)>v)&&--zr>0);return we*Mr>-P(M(sr),ke)-.001?[sr*2,Mr]:null},ze}function it(){var $t=20*S,se=$t>=0?1:-1,me=m(se*$t),we=(0,y.U)(et),ke=we($t),Re=ke.stream;return ke.parallel=function(ze){return arguments.length?(me=m((se=($t=ze*S)>=0?1:-1)*$t),we($t)):$t*E},ke.stream=function(ze){var pr=ke.rotate(),wr=Re(ze),sr=(ke.rotate([0,0]),Re(ze)),Mr=ke.precision();return ke.rotate(pr),wr.sphere=function(){sr.polygonStart(),sr.lineStart();for(var zr=se*-180;se*zr<180;zr+=se*90)sr.point(zr,se*90);if($t)for(;se*(zr-=3*se*Mr)>=-180;)sr.point(zr,se*-P(M(zr*S/2),me)*E);sr.lineEnd(),sr.polygonEnd()},wr},ke.scale(218.695).center([0,28.0974])}function ft($t,se){var me=m(se/2),we=z(1-me*me),ke=1+we*M($t/=2),Re=c($t)*we/ke,ze=me/ke,pr=Re*Re,wr=ze*ze;return[1.3333333333333333*Re*(3+pr-3*wr),1.3333333333333333*ze*(3+3*pr-wr)]}ft.invert=function($t,se){if($t*=.375,se*=.375,!$t&&D(se)>1)return null;var me=$t*$t,we=se*se,ke=1+me+we,Re=z((ke-z(ke*ke-4*se*se))/2),ze=C(Re)/3,pr=Re?N(D(se/Re))/3:V(D($t))/3,wr=M(ze),sr=F(pr),Mr=sr*sr-wr*wr;return[f($t)*2*P(U(pr)*wr,.25-Mr),f(se)*2*P(sr*c(ze),.25+Mr)]};function ot(){return(0,y.c)(ft).scale(66.1603)}var Q=z(8),tt=r(1+A);function Z($t,se){var me=D(se);return me<p?[$t,r(m(p+se/2))]:[$t*M(me)*(2*A-1/c(me)),f(se)*(2*A*(me-p)-r(m(me/2)))]}Z.invert=function($t,se){if((Re=D(se))<tt)return[$t,2*s(d(se))-i];var me=p,we=25,ke,Re;do{var ze=M(me/2),pr=m(me/2);me-=ke=(Q*(me-p)-r(pr)-Re)/(Q-ze*ze/(2*pr))}while(D(ke)>T&&--we>0);return[$t/(M(me)*(Q-1/c(me))),f(se)*me]};function q(){return(0,y.c)(Z).scale(112.314)}var ut=t(69020);function $($t){var se=2*h/$t;function me(we,ke){var Re=(0,ut.O)(we,ke);if(D(we)>i){var ze=P(Re[1],Re[0]),pr=z(Re[0]*Re[0]+Re[1]*Re[1]),wr=se*u((ze-i)/se)+i,sr=P(c(ze-=wr),2-M(ze));ze=wr+C(h/pr*c(sr))-sr,Re[0]=pr*M(ze),Re[1]=pr*c(ze)}return Re}return me.invert=function(we,ke){var Re=z(we*we+ke*ke);if(Re>i){var ze=P(ke,we),pr=se*u((ze-i)/se)+i,wr=ze>pr?-1:1,sr=Re*M(pr-ze),Mr=1/m(wr*b((sr-h)/z(h*(h-2*sr)+Re*Re)));ze=pr+2*s((Mr+wr*z(Mr*Mr-3))/3),we=Re*M(ze),ke=Re*c(ze)}return ut.O.invert(we,ke)},me}function j(){var $t=5,se=(0,y.U)($),me=se($t),we=me.stream,ke=.01,Re=-M(ke*S),ze=c(ke*S);return me.lobes=function(pr){return arguments.length?se($t=+pr):$t},me.stream=function(pr){var wr=me.rotate(),sr=we(pr),Mr=(me.rotate([0,0]),we(pr));return me.rotate(wr),sr.sphere=function(){Mr.polygonStart(),Mr.lineStart();for(var zr=0,Vr=360/$t,rn=2*h/$t,bn=90-180/$t,In=i;zr<$t;++zr,bn-=Vr,In-=rn)Mr.point(P(ze*M(In),Re)*E,C(ze*c(In))*E),bn<-90?(Mr.point(-90,-180-bn-ke),Mr.point(-90,-180-bn+ke)):(Mr.point(90,bn+ke),Mr.point(90,bn-ke));Mr.lineEnd(),Mr.polygonEnd()},sr},me.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var lt=t(54724);function nt($t,se){if(arguments.length<2&&(se=$t),se===1)return lt.y;if(se===1/0)return ht;function me(we,ke){var Re=(0,lt.y)(we/se,ke);return Re[0]*=$t,Re}return me.invert=function(we,ke){var Re=lt.y.invert(we/$t,ke);return Re[0]*=se,Re},me}function ht($t,se){return[$t*M(se)/M(se/=2),2*c(se)]}ht.invert=function($t,se){var me=2*C(se/2);return[$t*M(me/2)/M(me),me]};function mt(){var $t=2,se=(0,y.U)(nt),me=se($t);return me.coefficient=function(we){return arguments.length?se($t=+we):$t},me.scale(169.529)}function At($t,se,me){var we=100,ke,Re,ze;me=me===void 0?0:+me,se=+se;do Re=$t(me),ze=$t(me+v),Re===ze&&(ze=Re+v),me-=ke=-1*v*(Re-se)/(Re-ze);while(we-- >0&&D(ke)>v);return we<0?NaN:me}function bt($t,se,me){return se===void 0&&(se=40),me===void 0&&(me=T),function(we,ke,Re,ze){var pr,wr,sr;Re=Re===void 0?0:+Re,ze=ze===void 0?0:+ze;for(var Mr=0;Mr<se;Mr++){var zr=$t(Re,ze),Vr=zr[0]-we,rn=zr[1]-ke;if(D(Vr)<me&&D(rn)<me)break;var bn=Vr*Vr+rn*rn;if(bn>pr){Re-=wr/=2,ze-=sr/=2;continue}pr=bn;var In=(Re>0?-1:1)*me,_n=(ze>0?-1:1)*me,Jn=$t(Re+In,ze),Pi=$t(Re,ze+_n),Ii=(Jn[0]-zr[0])/In,Ri=(Jn[1]-zr[1])/In,Fi=(Pi[0]-zr[0])/_n,ji=(Pi[1]-zr[1])/_n,Aa=ji*Ii-Ri*Fi,qa=(D(Aa)<.5?.5:1)/Aa;if(wr=(rn*Fi-Vr*ji)*qa,sr=(Vr*Ri-rn*Ii)*qa,Re+=wr,ze+=sr,D(wr)<me&&D(sr)<me)break}return[Re,ze]}}function Pt(){var $t=nt(1.68,2),se=1.4,me=12;function we(ke,Re){if(ke+Re<-se){var ze=(ke-Re+1.6)*(ke+Re+se)/8;ke+=ze,Re-=.8*ze*c(Re+h/2)}var pr=$t(ke,Re),wr=(1-M(ke*Re))/me;return pr[1]<0&&(pr[0]*=1+wr),pr[1]>0&&(pr[1]*=1+wr/1.5*pr[0]*pr[0]),pr}return we.invert=bt(we),we}function _t(){return(0,y.c)(Pt()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ut($t,se){var me=$t*c(se),we=30,ke;do se-=ke=(se+c(se)-me)/(1+M(se));while(D(ke)>v&&--we>0);return se/2}function St($t,se,me){function we(ke,Re){return[$t*ke*M(Re=Ut(me,Re)),se*c(Re)]}return we.invert=function(ke,Re){return Re=C(Re/se),[ke/($t*M(Re)),C((2*Re+c(2*Re))/me)]},we}var Rt=St(A/i,A,h);function Et(){return(0,y.c)(Rt).scale(169.529)}var zt=2.00276,Ct=1.11072;function Wt($t,se){var me=Ut(h,se);return[zt*$t/(1/M(se)+Ct/M(me)),(se+A*c(me))/zt]}Wt.invert=function($t,se){var me=zt*se,we=se<0?-p:p,ke=25,Re,ze;do ze=me-A*c(we),we-=Re=(c(2*we)+2*we-h*c(ze))/(2*M(2*we)+2+h*M(ze)*A*M(we));while(D(Re)>v&&--ke>0);return ze=me-A*c(we),[$t*(1/M(ze)+Ct/M(we))/zt,ze]};function Kt(){return(0,y.c)(Wt).scale(160.857)}function oe($t){var se=0,me=(0,y.U)($t),we=me(se);return we.parallel=function(ke){return arguments.length?me(se=ke*S):se*E},we}function Jt($t,se){return[$t*M(se),se]}Jt.invert=function($t,se){return[$t/M(se),se]};function te(){return(0,y.c)(Jt).scale(152.63)}function fe($t){if(!$t)return Jt;var se=1/m($t);function me(we,ke){var Re=se+$t-ke,ze=Re&&we*M(ke)/Re;return[Re*c(ze),se-Re*M(ze)]}return me.invert=function(we,ke){var Re=z(we*we+(ke=se-ke)*ke),ze=se+$t-Re;return[Re/M(ze)*P(we,ke),ze]},me}function ve(){return oe(fe).scale(123.082).center([0,26.1441]).parallel(45)}function de($t){function se(me,we){var ke=i-we,Re=ke&&me*$t*c(ke)/ke;return[ke*c(Re)/$t,i-ke*M(Re)]}return se.invert=function(me,we){var ke=me*$t,Re=i-we,ze=z(ke*ke+Re*Re),pr=P(ke,Re);return[(ze?ze/c(ze):1)*pr/$t,i-ze]},se}function xe(){var $t=.5,se=(0,y.U)(de),me=se($t);return me.fraction=function(we){return arguments.length?se($t=+we):$t},me.scale(158.837)}var Me=St(1,4/h,h);function ne(){return(0,y.c)(Me).scale(152.63)}var kt=t(24052),Gt=t(92992);function Yt($t,se,me,we,ke,Re){var ze=M(Re),pr;if(D($t)>1||D(Re)>1)pr=b(me*ke+se*we*ze);else{var wr=c($t/2),sr=c(Re/2);pr=2*C(z(wr*wr+se*we*sr*sr))}return D(pr)>v?[pr,P(we*c(Re),se*ke-me*we*ze)]:[0,0]}function Zt($t,se,me){return b(($t*$t+se*se-me*me)/(2*$t*se))}function It($t){return $t-2*h*g(($t+h)/(2*h))}function Nt($t,se,me){for(var we=[[$t[0],$t[1],c($t[1]),M($t[1])],[se[0],se[1],c(se[1]),M(se[1])],[me[0],me[1],c(me[1]),M(me[1])]],ke=we[2],Re,ze=0;ze<3;++ze,ke=Re)Re=we[ze],ke.v=Yt(Re[1]-ke[1],ke[3],ke[2],Re[3],Re[2],Re[0]-ke[0]),ke.point=[0,0];var pr=Zt(we[0].v[0],we[2].v[0],we[1].v[0]),wr=Zt(we[0].v[0],we[1].v[0],we[2].v[0]),sr=h-pr;we[2].point[1]=0,we[0].point[0]=-(we[1].point[0]=we[0].v[0]/2);var Mr=[we[2].point[0]=we[0].point[0]+we[2].v[0]*M(pr),2*(we[0].point[1]=we[1].point[1]=we[2].v[0]*c(pr))];function zr(Vr,rn){var bn=c(rn),In=M(rn),_n=new Array(3),Jn;for(Jn=0;Jn<3;++Jn){var Pi=we[Jn];if(_n[Jn]=Yt(rn-Pi[1],Pi[3],Pi[2],In,bn,Vr-Pi[0]),!_n[Jn][0])return Pi.point;_n[Jn][1]=It(_n[Jn][1]-Pi.v[1])}var Ii=Mr.slice();for(Jn=0;Jn<3;++Jn){var Ri=Jn==2?0:Jn+1,Fi=Zt(we[Jn].v[0],_n[Jn][0],_n[Ri][0]);_n[Jn][1]<0&&(Fi=-Fi),Jn?Jn==1?(Fi=wr-Fi,Ii[0]-=_n[Jn][0]*M(Fi),Ii[1]-=_n[Jn][0]*c(Fi)):(Fi=sr-Fi,Ii[0]+=_n[Jn][0]*M(Fi),Ii[1]+=_n[Jn][0]*c(Fi)):(Ii[0]+=_n[Jn][0]*M(Fi),Ii[1]-=_n[Jn][0]*c(Fi))}return Ii[0]/=3,Ii[1]/=3,Ii}return zr}function Ht($t){return $t[0]*=S,$t[1]*=S,$t}function Lt(){return dt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function dt($t,se,me){var we=(0,kt.c)({type:"MultiPoint",coordinates:[$t,se,me]}),ke=[-we[0],-we[1]],Re=(0,Gt.c)(ke),ze=Nt(Ht(Re($t)),Ht(Re(se)),Ht(Re(me)));ze.invert=bt(ze);var pr=(0,y.c)(ze).rotate(ke),wr=pr.center;return delete pr.rotate,pr.center=function(sr){return arguments.length?wr(Re(sr)):Re.invert(wr())},pr.clipAngle(90)}function xt($t,se){var me=z(1-c(se));return[2/L*$t*me,L*(1-me)]}xt.invert=function($t,se){var me=(me=se/L-1)*me;return[me>0?$t*z(h/me)/2:0,C(1-me)]};function Ot(){return(0,y.c)(xt).scale(95.6464).center([0,30])}function jt($t){var se=m($t);function me(we,ke){return[we,(we?we/c(we):1)*(c(ke)*M(we)-se*M(ke))]}return me.invert=se?function(we,ke){we&&(ke*=c(we)/we);var Re=M(we);return[we,2*P(z(Re*Re+se*se-ke*ke)-Re,se-ke)]}:function(we,ke){return[we,C(we?ke*m(we)/we:ke)]},me}function ie(){return oe(jt).scale(249.828).clipAngle(90)}var le=z(3);function Ve($t,se){return[le*$t*(2*M(2*se/3)-1)/L,le*L*c(se/3)]}Ve.invert=function($t,se){var me=3*C(se/(le*L));return[L*$t/(le*(2*M(2*me/3)-1)),me]};function je(){return(0,y.c)(Ve).scale(156.19)}function Te($t){var se=M($t);function me(we,ke){return[we*se,c(ke)/se]}return me.invert=function(we,ke){return[we/se,C(ke*se)]},me}function Le(){return oe(Te).parallel(38.58).scale(195.044)}function Ke($t){var se=M($t);function me(we,ke){return[we*se,(1+se)*m(ke/2)]}return me.invert=function(we,ke){return[we/se,s(ke/(1+se))*2]},me}function vr(){return oe(Ke).scale(124.75)}function ge($t,se){var me=z(8/(3*h));return[me*$t*(1-D(se)/h),me*se]}ge.invert=function($t,se){var me=z(8/(3*h)),we=se/me;return[$t/(me*(1-D(we)/h)),we]};function Xe(){return(0,y.c)(ge).scale(165.664)}function $e($t,se){var me=z(4-3*c(D(se)));return[2/z(6*h)*$t*me,f(se)*z(2*h/3)*(2-me)]}$e.invert=function($t,se){var me=2-D(se)/z(2*h/3);return[$t*z(6*h)/(2*me),f(se)*C((4-me*me)/3)]};function mr(){return(0,y.c)($e).scale(165.664)}function or($t,se){var me=z(h*(4+h));return[2/me*$t*(1+z(1-4*se*se/(h*h))),4/me*se]}or.invert=function($t,se){var me=z(h*(4+h))/2;return[$t*me/(1+z(1-se*se*(4+h)/(4*h))),se*me/2]};function ye(){return(0,y.c)(or).scale(180.739)}function ue($t,se){var me=(2+i)*c(se);se/=2;for(var we=0,ke=1/0;we<10&&D(ke)>v;we++){var Re=M(se);se-=ke=(se+c(se)*(Re+2)-me)/(2*Re*(1+Re))}return[2/z(h*(4+h))*$t*(1+M(se)),2*z(h/(4+h))*c(se)]}ue.invert=function($t,se){var me=se*z((4+h)/h)/2,we=C(me),ke=M(we);return[$t/(2/z(h*(4+h))*(1+ke)),C((we+me*(ke+2))/(2+i))]};function be(){return(0,y.c)(ue).scale(180.739)}function Ee($t,se){return[$t*(1+M(se))/z(2+h),2*se/z(2+h)]}Ee.invert=function($t,se){var me=z(2+h),we=se*me/2;return[me*$t/(1+M(we)),we]};function _e(){return(0,y.c)(Ee).scale(173.044)}function Oe($t,se){for(var me=(1+i)*c(se),we=0,ke=1/0;we<10&&D(ke)>v;we++)se-=ke=(se+c(se)-me)/(1+M(se));return me=z(2+h),[$t*(1+M(se))/me,2*se/me]}Oe.invert=function($t,se){var me=1+i,we=z(me/2);return[$t*2*we/(1+M(se*=we)),C((se+c(se))/me)]};function Fe(){return(0,y.c)(Oe).scale(173.044)}var Be=3+2*A;function Je($t,se){var me=c($t/=2),we=M($t),ke=z(M(se)),Re=M(se/=2),ze=c(se)/(Re+A*we*ke),pr=z(2/(1+ze*ze)),wr=z((A*Re+(we+me)*ke)/(A*Re+(we-me)*ke));return[Be*(pr*(wr-1/wr)-2*r(wr)),Be*(pr*ze*(wr+1/wr)-2*s(ze))]}Je.invert=function($t,se){if(!(Re=ft.invert($t/1.2,se*1.065)))return null;var me=Re[0],we=Re[1],ke=20,Re;$t/=Be,se/=Be;do{var ze=me/2,pr=we/2,wr=c(ze),sr=M(ze),Mr=c(pr),zr=M(pr),Vr=M(we),rn=z(Vr),bn=Mr/(zr+A*sr*rn),In=bn*bn,_n=z(2/(1+In)),Jn=A*zr+(sr+wr)*rn,Pi=A*zr+(sr-wr)*rn,Ii=Jn/Pi,Ri=z(Ii),Fi=Ri-1/Ri,ji=Ri+1/Ri,Aa=_n*Fi-2*r(Ri)-$t,qa=_n*bn*ji-2*s(bn)-se,ct=Mr&&w*rn*wr*In/Mr,Mt=(A*sr*zr+rn)/(2*(zr+A*sr*rn)*(zr+A*sr*rn)*rn),Vt=-.5*bn*_n*_n*_n,ee=Vt*ct,ae=Vt*Mt,he=(he=2*zr+A*rn*(sr-wr))*he*Ri,Ie=(A*sr*zr*rn+Vr)/he,Ae=-(A*wr*Mr)/(rn*he),Ue=Fi*ee-2*Ie/Ri+_n*(Ie+Ie/Ii),He=Fi*ae-2*Ae/Ri+_n*(Ae+Ae/Ii),ir=bn*ji*ee-2*ct/(1+In)+_n*ji*ct+_n*bn*(Ie-Ie/Ii),Ir=bn*ji*ae-2*Mt/(1+In)+_n*ji*Mt+_n*bn*(Ae-Ae/Ii),Dr=He*ir-Ir*Ue;if(!Dr)break;var Qr=(qa*He-Aa*Ir)/Dr,sn=(Aa*ir-qa*Ue)/Dr;me-=Qr,we=e(-i,o(i,we-sn))}while((D(Qr)>v||D(sn)>v)&&--ke>0);return D(D(we)-i)<v?[0,we]:ke&&[me,we]};function hr(){return(0,y.c)(Je).scale(62.5271)}var cr=M(35*S);function dr($t,se){var me=m(se/2);return[$t*cr*z(1-me*me),(1+cr)*me]}dr.invert=function($t,se){var me=se/(1+cr);return[$t&&$t/(cr*z(1-me*me)),2*s(me)]};function fr(){return(0,y.c)(dr).scale(137.152)}function Lr($t,se){var me=se/2,we=M(me);return[2*$t/L*M(se)*we*we,L*m(me)]}Lr.invert=function($t,se){var me=s(se/L),we=M(me),ke=2*me;return[$t*L/2/(M(ke)*we*we),ke]};function xr(){return(0,y.c)(Lr).scale(135.264)}function Qt($t){var se=1-$t,me=Re(h,0)[0]-Re(-h,0)[0],we=Re(0,i)[1]-Re(0,-i)[1],ke=z(2*we/me);function Re(wr,sr){var Mr=M(sr),zr=c(sr);return[Mr/(se+$t*Mr)*wr,se*sr+$t*zr]}function ze(wr,sr){var Mr=Re(wr,sr);return[Mr[0]*ke,Mr[1]/ke]}function pr(wr){return ze(0,wr)[1]}return ze.invert=function(wr,sr){var Mr=At(pr,sr),zr=wr/ke*($t+se/M(Mr));return[zr,Mr]},ze}function re(){var $t=.5,se=(0,y.U)(Qt),me=se($t);return me.alpha=function(we){return arguments.length?se($t=+we):$t},me.scale(168.725)}var tr=t(4888),er=t(69604);function Ye($t){return[$t[0]/2,C(m($t[1]/2*S))*E]}function Pe($t){return[$t[0]*2,2*s(c($t[1]*S))*E]}function Ze($t){$t==null&&($t=tr.c);var se=$t(),me=(0,er.c)().scale(E).precision(0).clipAngle(null).translate([0,0]);function we(Re){return se(Ye(Re))}se.invert&&(we.invert=function(Re){return Pe(se.invert(Re))}),we.stream=function(Re){var ze=se.stream(Re),pr=me.stream({point:function(wr,sr){ze.point(wr/2,C(m(-sr/2*S))*E)},lineStart:function(){ze.lineStart()},lineEnd:function(){ze.lineEnd()},polygonStart:function(){ze.polygonStart()},polygonEnd:function(){ze.polygonEnd()}});return pr.sphere=ze.sphere,pr};function ke(Re){we[Re]=function(){return arguments.length?(se[Re].apply(se,arguments),we):se[Re]()}}return we.rotate=function(Re){return arguments.length?(me.rotate(Re),we):me.rotate()},we.center=function(Re){return arguments.length?(se.center(Ye(Re)),we):Pe(se.center())},ke("angle"),ke("clipAngle"),ke("clipExtent"),ke("fitExtent"),ke("fitHeight"),ke("fitSize"),ke("fitWidth"),ke("scale"),ke("translate"),ke("precision"),we.scale(249.5)}function nr($t,se){var me=2*h/se,we=$t*$t;function ke(Re,ze){var pr=(0,ut.O)(Re,ze),wr=pr[0],sr=pr[1],Mr=wr*wr+sr*sr;if(Mr>we){var zr=z(Mr),Vr=P(sr,wr),rn=me*u(Vr/me),bn=Vr-rn,In=$t*M(bn),_n=($t*c(bn)-bn*c(In))/(i-In),Jn=Qe(bn,_n),Pi=(h-$t)/We(Jn,In,h);wr=zr;var Ii=50,Ri;do wr-=Ri=($t+We(Jn,In,wr)*Pi-zr)/(Jn(wr)*Pi);while(D(Ri)>v&&--Ii>0);sr=bn*c(wr),wr<i&&(sr-=_n*(wr-i));var Fi=c(rn),ji=M(rn);pr[0]=wr*ji-sr*Fi,pr[1]=wr*Fi+sr*ji}return pr}return ke.invert=function(Re,ze){var pr=Re*Re+ze*ze;if(pr>we){var wr=z(pr),sr=P(ze,Re),Mr=me*u(sr/me),zr=sr-Mr;Re=wr*M(zr),ze=wr*c(zr);for(var Vr=Re-i,rn=c(Re),bn=ze/rn,In=Re<i?1/0:0,_n=10;;){var Jn=$t*c(bn),Pi=$t*M(bn),Ii=c(Pi),Ri=i-Pi,Fi=(Jn-bn*Ii)/Ri,ji=Qe(bn,Fi);if(D(In)<T||!--_n)break;bn-=In=(bn*rn-Fi*Vr-ze)/(rn-Vr*2*(Ri*(Pi+bn*Jn*M(Pi)-Ii)-Jn*(Jn-bn*Ii))/(Ri*Ri))}wr=$t+We(ji,Pi,Re)*(h-$t)/We(ji,Pi,h),sr=Mr+bn,Re=wr*M(sr),ze=wr*c(sr)}return ut.O.invert(Re,ze)},ke}function Qe($t,se){return function(me){var we=$t*M(me);return me<i&&(we-=se),z(1+we*we)}}function We($t,se,me){for(var we=50,ke=(me-se)/we,Re=$t(se)+$t(me),ze=1,pr=se;ze<we;++ze)Re+=2*$t(pr+=ke);return Re*.5*ke}function yr(){var $t=6,se=30*S,me=M(se),we=c(se),ke=(0,y.U)(nr),Re=ke(se,$t),ze=Re.stream,pr=.01,wr=-M(pr*S),sr=c(pr*S);return Re.radius=function(Mr){return arguments.length?(me=M(se=Mr*S),we=c(se),ke(se,$t)):se*E},Re.lobes=function(Mr){return arguments.length?ke(se,$t=+Mr):$t},Re.stream=function(Mr){var zr=Re.rotate(),Vr=ze(Mr),rn=(Re.rotate([0,0]),ze(Mr));return Re.rotate(zr),Vr.sphere=function(){rn.polygonStart(),rn.lineStart();for(var bn=0,In=2*h/$t,_n=0;bn<$t;++bn,_n-=In)rn.point(P(sr*M(_n),wr)*E,C(sr*c(_n))*E),rn.point(P(we*M(_n-In/2),me)*E,C(we*c(_n-In/2))*E);rn.lineEnd(),rn.polygonEnd()},Vr},Re.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Rr($t,se,me,we,ke,Re,ze,pr){arguments.length<8&&(pr=0);function wr(sr,Mr){if(!Mr)return[$t*sr/h,0];var zr=Mr*Mr,Vr=$t+zr*(se+zr*(me+zr*we)),rn=Mr*(ke-1+zr*(Re-pr+zr*ze)),bn=(Vr*Vr+rn*rn)/(2*rn),In=sr*C(Vr/bn)/h;return[bn*c(In),Mr*(1+zr*pr)+bn*(1-M(In))]}return wr.invert=function(sr,Mr){var zr=h*sr/$t,Vr=Mr,rn,bn,In=50;do{var _n=Vr*Vr,Jn=$t+_n*(se+_n*(me+_n*we)),Pi=Vr*(ke-1+_n*(Re-pr+_n*ze)),Ii=Jn*Jn+Pi*Pi,Ri=2*Pi,Fi=Ii/Ri,ji=Fi*Fi,Aa=C(Jn/Fi)/h,qa=zr*Aa,ct=Jn*Jn,Mt=(2*se+_n*(4*me+_n*6*we))*Vr,Vt=ke+_n*(3*Re+_n*5*ze),ee=2*(Jn*Mt+Pi*(Vt-1)),ae=2*(Vt-1),he=(ee*Ri-Ii*ae)/(Ri*Ri),Ie=M(qa),Ae=c(qa),Ue=Fi*Ie,He=Fi*Ae,ir=zr/h*(1/z(1-ct/ji))*(Mt*Fi-Jn*he)/ji,Ir=He-sr,Dr=Vr*(1+_n*pr)+Fi-Ue-Mr,Qr=he*Ae+Ue*ir,sn=Ue*Aa,kr=1+he-(he*Ie-He*ir),Hr=He*Aa,Kr=Qr*Hr-kr*sn;if(!Kr)break;zr-=rn=(Dr*Qr-Ir*kr)/Kr,Vr-=bn=(Ir*Hr-Dr*sn)/Kr}while((D(rn)>v||D(bn)>v)&&--In>0);return[zr,Vr]},wr}var Tr=Rr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function vn(){return(0,y.c)(Tr).scale(149.995)}var Or=Rr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function En(){return(0,y.c)(Or).scale(153.93)}var nn=Rr(5/6*h,-.62636,-.0344,0,1.3493,-.05524,0,.045);function gr(){return(0,y.c)(nn).scale(130.945)}function Pr($t,se){var me=$t*$t,we=se*se;return[$t*(1-.162388*we)*(.87-952426e-9*me*me),se*(1+we/12)]}Pr.invert=function($t,se){var me=$t,we=se,ke=50,Re;do{var ze=we*we;we-=Re=(we*(1+ze/12)-se)/(1+ze/4)}while(D(Re)>v&&--ke>0);ke=50,$t/=1-.162388*ze;do{var pr=(pr=me*me)*pr;me-=Re=(me*(.87-952426e-9*pr)-$t)/(.87-.00476213*pr)}while(D(Re)>v&&--ke>0);return[me,we]};function jr(){return(0,y.c)(Pr).scale(131.747)}var _r=Rr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function pn(){return(0,y.c)(_r).scale(131.087)}function en($t){var se=$t(i,0)[0]-$t(-i,0)[0];function me(we,ke){var Re=we>0?-.5:.5,ze=$t(we+Re*h,ke);return ze[0]-=Re*se,ze}return $t.invert&&(me.invert=function(we,ke){var Re=we>0?-.5:.5,ze=$t.invert(we+Re*se,ke),pr=ze[0]-Re*h;return pr<-h?pr+=2*h:pr>h&&(pr-=2*h),ze[0]=pr,ze}),me}function Tn($t,se){var me=f($t),we=f(se),ke=M(se),Re=M($t)*ke,ze=c($t)*ke,pr=c(we*se);$t=D(P(ze,pr)),se=C(Re),D($t-i)>v&&($t%=i);var wr=Pn($t>h/4?i-$t:$t,se);return $t>h/4&&(pr=wr[0],wr[0]=-wr[1],wr[1]=-pr),wr[0]*=me,wr[1]*=-we,wr}Tn.invert=function($t,se){D($t)>1&&($t=f($t)*2-$t),D(se)>1&&(se=f(se)*2-se);var me=f($t),we=f(se),ke=-me*$t,Re=-we*se,ze=Re/ke<1,pr=Gn(ze?Re:ke,ze?ke:Re),wr=pr[0],sr=pr[1],Mr=M(sr);return ze&&(wr=-i-wr),[me*(P(c(wr)*Mr,-c(sr))+h),we*C(M(wr)*Mr)]};function Pn($t,se){if(se===i)return[0,0];var me=c(se),we=me*me,ke=we*we,Re=1+ke,ze=1+3*ke,pr=1-ke,wr=C(1/z(Re)),sr=pr+we*Re*wr,Mr=(1-me)/sr,zr=z(Mr),Vr=Mr*Re,rn=z(Vr),bn=zr*pr,In,_n;if($t===0)return[0,-(bn+we*rn)];var Jn=M(se),Pi=1/Jn,Ii=2*me*Jn,Ri=(-3*we+wr*ze)*Ii,Fi=(-sr*Jn-(1-me)*Ri)/(sr*sr),ji=.5*Fi/zr,Aa=pr*ji-2*we*zr*Ii,qa=we*Re*Fi+Mr*ze*Ii,ct=-Pi*Ii,Mt=-Pi*qa,Vt=-2*Pi*Aa,ee=4*$t/h,ae;if($t>.222*h||se<h/4&&$t>.175*h){if(In=(bn+we*z(Vr*(1+ke)-bn*bn))/(1+ke),$t>h/4)return[In,In];var he=In,Ie=.5*In;In=.5*(Ie+he),_n=50;do{var Ae=z(Vr-In*In),Ue=In*(Vt+ct*Ae)+Mt*C(In/rn)-ee;if(!Ue)break;Ue<0?Ie=In:he=In,In=.5*(Ie+he)}while(D(he-Ie)>v&&--_n>0)}else{In=v,_n=25;do{var He=In*In,ir=z(Vr-He),Ir=Vt+ct*ir,Dr=In*Ir+Mt*C(In/rn)-ee,Qr=Ir+(Mt-ct*He)/ir;In-=ae=ir?Dr/Qr:0}while(D(ae)>v&&--_n>0)}return[In,-bn-we*z(Vr-In*In)]}function Gn($t,se){for(var me=0,we=1,ke=.5,Re=50;;){var ze=ke*ke,pr=z(ke),wr=C(1/z(1+ze)),sr=1-ze+ke*(1+ze)*wr,Mr=(1-pr)/sr,zr=z(Mr),Vr=Mr*(1+ze),rn=zr*(1-ze),bn=Vr-$t*$t,In=z(bn),_n=se+rn+ke*In;if(D(we-me)<T||--Re===0||_n===0)break;_n>0?me=ke:we=ke,ke=.5*(me+we)}if(!Re)return null;var Jn=C(pr),Pi=M(Jn),Ii=1/Pi,Ri=2*pr*Pi,Fi=(-3*ke+wr*(1+3*ze))*Ri,ji=(-sr*Pi-(1-pr)*Fi)/(sr*sr),Aa=.5*ji/zr,qa=(1-ze)*Aa-2*ke*zr*Ri,ct=-2*Ii*qa,Mt=-Ii*Ri,Vt=-Ii*(ke*(1+ze)*ji+Mr*(1+3*ze)*Ri);return[h/4*($t*(ct+Mt*In)+Vt*C($t/z(Vr))),Jn]}function gi(){return(0,y.c)(en(Tn)).scale(239.75)}function bi($t,se,me){var we,ke,Re;return $t?(we=oi($t,me),se?(ke=oi(se,1-me),Re=ke[1]*ke[1]+me*we[0]*we[0]*ke[0]*ke[0],[[we[0]*ke[2]/Re,we[1]*we[2]*ke[0]*ke[1]/Re],[we[1]*ke[1]/Re,-we[0]*we[2]*ke[0]*ke[2]/Re],[we[2]*ke[1]*ke[2]/Re,-me*we[0]*we[1]*ke[0]/Re]]):[[we[0],0],[we[1],0],[we[2],0]]):(ke=oi(se,1-me),[[0,ke[0]/ke[1]],[1/ke[1],0],[ke[2]/ke[1],0]])}function oi($t,se){var me,we,ke,Re,ze;if(se<v)return Re=c($t),we=M($t),me=se*($t-Re*we)/4,[Re-me*we,we+me*Re,1-se*Re*Re/2,$t-me];if(se>=1-v)return me=(1-se)/4,we=F($t),Re=k($t),ke=1/we,ze=we*U($t),[Re+me*(ze-$t)/(we*we),ke-me*Re*ke*(ze-$t),ke+me*Re*ke*(ze+$t),2*s(d($t))-i+me*(ze-$t)/we];var pr=[1,0,0,0,0,0,0,0,0],wr=[z(se),0,0,0,0,0,0,0,0],sr=0;for(we=z(1-se),ze=1;D(wr[sr]/pr[sr])>v&&sr<8;)me=pr[sr++],wr[sr]=(me-we)/2,pr[sr]=(me+we)/2,we=z(me*we),ze*=2;ke=ze*pr[sr]*$t;do Re=wr[sr]*c(we=ke)/pr[sr],ke=(C(Re)+ke)/2;while(--sr);return[c(ke),Re=M(ke),Re/M(ke-we),ke]}function ni($t,se,me){var we=D($t),ke=D(se),Re=U(ke);if(we){var ze=1/c(we),pr=1/(m(we)*m(we)),wr=-(pr+me*(Re*Re*ze*ze)-1+me),sr=(me-1)*pr,Mr=(-wr+z(wr*wr-4*sr))/2;return[Dn(s(1/z(Mr)),me)*f($t),Dn(s(z((Mr/pr-1)/me)),1-me)*f(se)]}return[0,Dn(s(Re),1-me)*f(se)]}function Dn($t,se){if(!se)return $t;if(se===1)return r(m($t/2+p));for(var me=1,we=z(1-se),ke=z(se),Re=0;D(ke)>v;Re++){if($t%h){var ze=s(we*m($t)/me);ze<0&&(ze+=h),$t+=ze+~~($t/h)*h}else $t+=$t;ke=(me+we)/2,we=z(me*we),ke=((me=ke)-we)/2}return $t/(n(2,Re)*me)}function Cr($t,se){var me=(A-1)/(A+1),we=z(1-me*me),ke=Dn(i,we*we),Re=-1,ze=r(m(h/4+D(se)/2)),pr=d(Re*ze)/z(me),wr=an(pr*M(Re*$t),pr*c(Re*$t)),sr=ni(wr[0],wr[1],we*we);return[-sr[1],(se>=0?1:-1)*(.5*ke-sr[0])]}function an($t,se){var me=$t*$t,we=se+1,ke=1-me-se*se;return[.5*(($t>=0?i:-i)-P(ke,2*$t)),-.25*r(ke*ke+4*me)+.5*r(we*we+me)]}function on($t,se){var me=se[0]*se[0]+se[1]*se[1];return[($t[0]*se[0]+$t[1]*se[1])/me,($t[1]*se[0]-$t[0]*se[1])/me]}Cr.invert=function($t,se){var me=(A-1)/(A+1),we=z(1-me*me),ke=Dn(i,we*we),Re=-1,ze=bi(.5*ke-se,-$t,we*we),pr=on(ze[0],ze[1]),wr=P(pr[1],pr[0])/Re;return[wr,2*s(d(.5/Re*r(me*pr[0]*pr[0]+me*pr[1]*pr[1])))-i]};function ln(){return(0,y.c)(en(Cr)).scale(151.496)}var Bn=t(61780);function gn($t){var se=c($t),me=M($t),we=Cn($t);we.invert=Cn(-$t);function ke(Re,ze){var pr=we(Re,ze);Re=pr[0],ze=pr[1];var wr=c(ze),sr=M(ze),Mr=M(Re),zr=b(se*wr+me*sr*Mr),Vr=c(zr),rn=D(Vr)>v?zr/Vr:1;return[rn*me*c(Re),(D(Re)>i?rn:-rn)*(se*sr-me*wr*Mr)]}return ke.invert=function(Re,ze){var pr=z(Re*Re+ze*ze),wr=-c(pr),sr=M(pr),Mr=pr*sr,zr=-ze*wr,Vr=pr*se,rn=z(Mr*Mr+zr*zr-Vr*Vr),bn=P(Mr*Vr+zr*rn,zr*Vr-Mr*rn),In=(pr>i?-1:1)*P(Re*wr,pr*M(bn)*sr+ze*c(bn)*wr);return we.invert(In,bn)},ke}function Cn($t){var se=c($t),me=M($t);return function(we,ke){var Re=M(ke),ze=M(we)*Re,pr=c(we)*Re,wr=c(ke);return[P(pr,ze*me-wr*se),C(wr*me+ze*se)]}}function Nn(){var $t=0,se=(0,y.U)(gn),me=se($t),we=me.rotate,ke=me.stream,Re=(0,Bn.c)();return me.parallel=function(ze){if(!arguments.length)return $t*E;var pr=me.rotate();return se($t=ze*S).rotate(pr)},me.rotate=function(ze){return arguments.length?(we.call(me,[ze[0],ze[1]-$t*E]),Re.center([-ze[0],-ze[1]]),me):(ze=we.call(me),ze[1]+=$t*E,ze)},me.stream=function(ze){return ze=ke(ze),ze.sphere=function(){ze.polygonStart();var pr=.01,wr=Re.radius(90-pr)().coordinates[0],sr=wr.length-1,Mr=-1,zr;for(ze.lineStart();++Mr<sr;)ze.point((zr=wr[Mr])[0],zr[1]);for(ze.lineEnd(),wr=Re.radius(90+pr)().coordinates[0],sr=wr.length-1,ze.lineStart();--Mr>=0;)ze.point((zr=wr[Mr])[0],zr[1]);ze.lineEnd(),ze.polygonEnd()},ze},me.scale(79.4187).parallel(45).clipAngle(179.999)}var $n=t(84706),vi=t(16016),Di=3,Ar=C(1-1/Di)*E,Br=Te(0);function Sr($t){var se=Ar*S,me=xt(h,se)[0]-xt(-h,se)[0],we=Br(0,se)[1],ke=xt(0,se)[1],Re=L-ke,ze=x/$t,pr=4/x,wr=we+Re*Re*4/x;function sr(Mr,zr){var Vr,rn=D(zr);if(rn>se){var bn=o($t-1,e(0,g((Mr+h)/ze)));Mr+=h*($t-1)/$t-bn*ze,Vr=xt(Mr,rn),Vr[0]=Vr[0]*x/me-x*($t-1)/(2*$t)+bn*x/$t,Vr[1]=we+(Vr[1]-ke)*4*Re/x,zr<0&&(Vr[1]=-Vr[1])}else Vr=Br(Mr,zr);return Vr[0]*=pr,Vr[1]/=wr,Vr}return sr.invert=function(Mr,zr){Mr/=pr,zr*=wr;var Vr=D(zr);if(Vr>we){var rn=o($t-1,e(0,g((Mr+h)/ze)));Mr=(Mr+h*($t-1)/$t-rn*ze)*me/x;var bn=xt.invert(Mr,.25*(Vr-we)*x/Re+ke);return bn[0]-=h*($t-1)/$t-rn*ze,zr<0&&(bn[1]=-bn[1]),bn}return Br.invert(Mr,zr)},sr}function Nr($t,se){return[$t,se&1?90-v:Ar]}function un($t,se){return[$t,se&1?-90+v:-Ar]}function Rn($t){return[$t[0]*(1-v),$t[1]]}function mn($t){var se=[].concat((0,$n.ik)(-180,180+$t/2,$t).map(Nr),(0,$n.ik)(180,-180-$t/2,-$t).map(un));return{type:"Polygon",coordinates:[$t===180?se.map(Rn):se]}}function cn(){var $t=4,se=(0,y.U)(Sr),me=se($t),we=me.stream;return me.lobes=function(ke){return arguments.length?se($t=+ke):$t},me.stream=function(ke){var Re=me.rotate(),ze=we(ke),pr=(me.rotate([0,0]),we(ke));return me.rotate(Re),ze.sphere=function(){(0,vi.c)(mn(180/$t),pr)},ze},me.scale(239.75)}function Er($t){var se=1+$t,me=c(1/se),we=C(me),ke=2*z(h/(Re=h+4*we*se)),Re,ze=.5*ke*(se+z($t*(2+$t))),pr=$t*$t,wr=se*se;function sr(Mr,zr){var Vr=1-c(zr),rn,bn;if(Vr&&Vr<2){var In=i-zr,_n=25,Jn;do{var Pi=c(In),Ii=M(In),Ri=we+P(Pi,se-Ii),Fi=1+wr-2*se*Ii;In-=Jn=(In-pr*we-se*Pi+Fi*Ri-.5*Vr*Re)/(2*se*Pi*Ri)}while(D(Jn)>T&&--_n>0);rn=ke*z(Fi),bn=Mr*Ri/h}else rn=ke*($t+Vr),bn=Mr*we/h;return[rn*c(bn),ze-rn*M(bn)]}return sr.invert=function(Mr,zr){var Vr=Mr*Mr+(zr-=ze)*zr,rn=(1+wr-Vr/(ke*ke))/(2*se),bn=b(rn),In=c(bn),_n=we+P(In,se-rn);return[C(Mr/z(Vr))*h/_n,C(1-2*(bn-pr*we-se*In+(1+wr-2*se*rn)*_n)/Re)]},sr}function Yr(){var $t=1,se=(0,y.U)(Er),me=se($t);return me.ratio=function(we){return arguments.length?se($t=+we):$t},me.scale(167.774).center([0,18.67])}var Gr=.7109889596207567,$r=.0528035274542;function wn($t,se){return se>-Gr?($t=Rt($t,se),$t[1]+=$r,$t):Jt($t,se)}wn.invert=function($t,se){return se>-Gr?Rt.invert($t,se-$r):Jt.invert($t,se)};function An(){return(0,y.c)(wn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function On($t,se){return D(se)>Gr?($t=Rt($t,se),$t[1]-=se>0?$r:-$r,$t):Jt($t,se)}On.invert=function($t,se){return D(se)>Gr?Rt.invert($t,se+(se>0?$r:-$r)):Jt.invert($t,se)};function Un(){return(0,y.c)(On).scale(152.63)}function zn($t,se,me,we){var ke=z(4*h/(2*me+(1+$t-se/2)*c(2*me)+($t+se)/2*c(4*me)+se/2*c(6*me))),Re=z(we*c(me)*z((1+$t*M(2*me)+se*M(4*me))/(1+$t+se))),ze=me*wr(1);function pr(zr){return z(1+$t*M(2*zr)+se*M(4*zr))}function wr(zr){var Vr=zr*me;return(2*Vr+(1+$t-se/2)*c(2*Vr)+($t+se)/2*c(4*Vr)+se/2*c(6*Vr))/me}function sr(zr){return pr(zr)*c(zr)}var Mr=function(zr,Vr){var rn=me*At(wr,ze*c(Vr)/me,Vr/h);isNaN(rn)&&(rn=me*f(Vr));var bn=ke*pr(rn);return[bn*Re*zr/h*M(rn),bn/Re*c(rn)]};return Mr.invert=function(zr,Vr){var rn=At(sr,Vr*Re/ke);return[zr*h/(M(rn)*ke*Re*pr(rn)),C(me*wr(rn/me)/ze)]},me===0&&(ke=z(we/h),Mr=function(zr,Vr){return[zr*ke,c(Vr)/ke]},Mr.invert=function(zr,Vr){return[zr/ke,C(Vr*ke)]}),Mr}function Yn(){var $t=1,se=0,me=45*S,we=2,ke=(0,y.U)(zn),Re=ke($t,se,me,we);return Re.a=function(ze){return arguments.length?ke($t=+ze,se,me,we):$t},Re.b=function(ze){return arguments.length?ke($t,se=+ze,me,we):se},Re.psiMax=function(ze){return arguments.length?ke($t,se,me=+ze*S,we):me*E},Re.ratio=function(ze){return arguments.length?ke($t,se,me,we=+ze):we},Re.scale(180.739)}function Zn($t,se,me,we,ke,Re,ze,pr,wr,sr,Mr){if(Mr.nanEncountered)return NaN;var zr,Vr,rn,bn,In,_n,Jn,Pi,Ii,Ri;if(zr=me-se,Vr=$t(se+zr*.25),rn=$t(me-zr*.25),isNaN(Vr)){Mr.nanEncountered=!0;return}if(isNaN(rn)){Mr.nanEncountered=!0;return}return bn=zr*(we+4*Vr+ke)/12,In=zr*(ke+4*rn+Re)/12,_n=bn+In,Ri=(_n-ze)/15,sr>wr?(Mr.maxDepthCount++,_n+Ri):Math.abs(Ri)<pr?_n+Ri:(Jn=se+zr*.5,Pi=Zn($t,se,Jn,we,Vr,ke,bn,pr*.5,wr,sr+1,Mr),isNaN(Pi)?(Mr.nanEncountered=!0,NaN):(Ii=Zn($t,Jn,me,ke,rn,Re,In,pr*.5,wr,sr+1,Mr),isNaN(Ii)?(Mr.nanEncountered=!0,NaN):Pi+Ii))}function si($t,se,me,we,ke){var Re={maxDepthCount:0,nanEncountered:!1};ke===void 0&&(ke=20);var ze=$t(se),pr=$t(.5*(se+me)),wr=$t(me),sr=(ze+4*pr+wr)*(me-se)/6,Mr=Zn($t,se,me,ze,pr,wr,sr,we,ke,1,Re);return Mr}function Li($t,se,me){function we(rn){return $t+(1-$t)*n(1-n(rn,se),1/se)}function ke(rn){return si(we,0,rn,1e-4)}for(var Re=1/ke(1),ze=1e3,pr=(1+1e-8)*Re,wr=[],sr=0;sr<=ze;sr++)wr.push(ke(sr/ze)*pr);function Mr(rn){var bn=0,In=ze,_n=ze>>1;do wr[_n]>rn?In=_n:bn=_n,_n=bn+In>>1;while(_n>bn);var Jn=wr[_n+1]-wr[_n];return Jn&&(Jn=(rn-wr[_n+1])/Jn),(_n+1+Jn)/ze}var zr=2*Mr(1)/h*Re/me,Vr=function(rn,bn){var In=Mr(D(c(bn))),_n=we(In)*rn;return In/=zr,[_n,bn>=0?In:-In]};return Vr.invert=function(rn,bn){var In;return bn*=zr,D(bn)<1&&(In=f(bn)*C(ke(D(bn))*Re)),[rn/we(D(bn)),In]},Vr}function Ma(){var $t=0,se=2.5,me=1.183136,we=(0,y.U)(Li),ke=we($t,se,me);return ke.alpha=function(Re){return arguments.length?we($t=+Re,se,me):$t},ke.k=function(Re){return arguments.length?we($t,se=+Re,me):se},ke.gamma=function(Re){return arguments.length?we($t,se,me=+Re):me},ke.scale(152.63)}function sa($t,se){return D($t[0]-se[0])<v&&D($t[1]-se[1])<v}function No($t,se){for(var me=-1,we=$t.length,ke=$t[0],Re,ze,pr,wr=[];++me<we;){Re=$t[me],ze=(Re[0]-ke[0])/se,pr=(Re[1]-ke[1])/se;for(var sr=0;sr<se;++sr)wr.push([ke[0]+sr*ze,ke[1]+sr*pr]);ke=Re}return wr.push(Re),wr}function $o($t){var se=[],me,we,ke,Re,ze,pr,wr,sr=$t[0].length;for(wr=0;wr<sr;++wr)me=$t[0][wr],we=me[0][0],ke=me[0][1],Re=me[1][1],ze=me[2][0],pr=me[2][1],se.push(No([[we+v,ke+v],[we+v,Re-v],[ze-v,Re-v],[ze-v,pr+v]],30));for(wr=$t[1].length-1;wr>=0;--wr)me=$t[1][wr],we=me[0][0],ke=me[0][1],Re=me[1][1],ze=me[2][0],pr=me[2][1],se.push(No([[ze-v,pr-v],[ze-v,Re+v],[we+v,Re+v],[we+v,ke-v]],30));return{type:"Polygon",coordinates:[(0,$n.Uf)(se)]}}function So($t,se,me){var we,ke;function Re(wr,sr){for(var Mr=sr<0?-1:1,zr=se[+(sr<0)],Vr=0,rn=zr.length-1;Vr<rn&&wr>zr[Vr][2][0];++Vr);var bn=$t(wr-zr[Vr][1][0],sr);return bn[0]+=$t(zr[Vr][1][0],Mr*sr>Mr*zr[Vr][0][1]?zr[Vr][0][1]:sr)[0],bn}me?Re.invert=me(Re):$t.invert&&(Re.invert=function(wr,sr){for(var Mr=ke[+(sr<0)],zr=se[+(sr<0)],Vr=0,rn=Mr.length;Vr<rn;++Vr){var bn=Mr[Vr];if(bn[0][0]<=wr&&wr<bn[1][0]&&bn[0][1]<=sr&&sr<bn[1][1]){var In=$t.invert(wr-$t(zr[Vr][1][0],0)[0],sr);return In[0]+=zr[Vr][1][0],sa(Re(In[0],In[1]),[wr,sr])?In:null}}});var ze=(0,y.c)(Re),pr=ze.stream;return ze.stream=function(wr){var sr=ze.rotate(),Mr=pr(wr),zr=(ze.rotate([0,0]),pr(wr));return ze.rotate(sr),Mr.sphere=function(){(0,vi.c)(we,zr)},Mr},ze.lobes=function(wr){return arguments.length?(we=$o(wr),se=wr.map(function(sr){return sr.map(function(Mr){return[[Mr[0][0]*S,Mr[0][1]*S],[Mr[1][0]*S,Mr[1][1]*S],[Mr[2][0]*S,Mr[2][1]*S]]})}),ke=se.map(function(sr){return sr.map(function(Mr){var zr=$t(Mr[0][0],Mr[0][1])[0],Vr=$t(Mr[2][0],Mr[2][1])[0],rn=$t(Mr[1][0],Mr[0][1])[1],bn=$t(Mr[1][0],Mr[1][1])[1],In;return rn>bn&&(In=rn,rn=bn,bn=In),[[zr,rn],[Vr,bn]]})}),ze):se.map(function(sr){return sr.map(function(Mr){return[[Mr[0][0]*E,Mr[0][1]*E],[Mr[1][0]*E,Mr[1][1]*E],[Mr[2][0]*E,Mr[2][1]*E]]})})},se!=null&&ze.lobes(se),ze}var $s=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function pu(){return So(Wt,$s).scale(160.857)}var Ju=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function la(){return So(On,Ju).scale(152.63)}var Qu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function wc(){return So(Rt,Qu).scale(169.529)}var mo=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Yo(){return So(Rt,mo).scale(169.529).rotate([20,0])}var gu=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function zf(){return So(wn,gu,bt).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Qa=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function yu(){return So(Jt,Qa).scale(152.63).rotate([-20,0])}function to($t,se){return[3/x*$t*z(h*h/3-se*se),se]}to.invert=function($t,se){return[x/3*$t/z(h*h/3-se*se),se]};function uo(){return(0,y.c)(to).scale(158.837)}function mu($t){function se(me,we){if(D(D(we)-i)<v)return[0,we<0?-2:2];var ke=c(we),Re=n((1+ke)/(1-ke),$t/2),ze=.5*(Re+1/Re)+M(me*=$t);return[2*c(me)/ze,(Re-1/Re)/ze]}return se.invert=function(me,we){var ke=D(we);if(D(ke-2)<v)return me?null:[0,f(we)*i];if(ke>2)return null;me/=2,we/=2;var Re=me*me,ze=we*we,pr=2*we/(1+Re+ze);return pr=n((1+pr)/(1-pr),1/$t),[P(2*me,1-Re-ze)/$t,C((pr-1)/(pr+1))]},se}function Mo(){var $t=.5,se=(0,y.U)(mu),me=se($t);return me.spacing=function(we){return arguments.length?se($t=+we):$t},me.scale(124.75)}var Eo=h/A;function os($t,se){return[$t*(1+z(M(se)))/2,se/(M(se/2)*M($t/6))]}os.invert=function($t,se){var me=D($t),we=D(se),ke=v,Re=i;we<Eo?Re*=we/Eo:ke+=6*b(Eo/we);for(var ze=0;ze<25;ze++){var pr=c(Re),wr=z(M(Re)),sr=c(Re/2),Mr=M(Re/2),zr=c(ke/6),Vr=M(ke/6),rn=.5*ke*(1+wr)-me,bn=Re/(Mr*Vr)-we,In=wr?-.25*ke*pr/wr:0,_n=.5*(1+wr),Jn=(1+.5*Re*sr/Mr)/(Mr*Vr),Pi=Re/Mr*(zr/6)/(Vr*Vr),Ii=In*Pi-Jn*_n,Ri=(rn*Pi-bn*_n)/Ii,Fi=(bn*In-rn*Jn)/Ii;if(Re-=Ri,ke-=Fi,D(Ri)<v&&D(Fi)<v)break}return[$t<0?-ke:ke,se<0?-Re:Re]};function vh(){return(0,y.c)(os).scale(97.2672)}function qo($t,se){var me=$t*$t,we=se*se;return[$t*(.975534+we*(-.119161+me*-.0143059+we*-.0547009)),se*(1.00384+me*(.0802894+we*-.02855+me*199025e-9)+we*(.0998909+we*-.0491032))]}qo.invert=function($t,se){var me=f($t)*h,we=se/2,ke=50;do{var Re=me*me,ze=we*we,pr=me*we,wr=me*(.975534+ze*(-.119161+Re*-.0143059+ze*-.0547009))-$t,sr=we*(1.00384+Re*(.0802894+ze*-.02855+Re*199025e-9)+ze*(.0998909+ze*-.0491032))-se,Mr=.975534-ze*(.119161+3*Re*.0143059+ze*.0547009),zr=-pr*(2*.119161+4*.0547009*ze+2*.0143059*Re),Vr=pr*(2*.0802894+4*199025e-9*Re+2*-.02855*ze),rn=1.00384+Re*(.0802894+199025e-9*Re)+ze*(3*(.0998909-.02855*Re)-5*.0491032*ze),bn=zr*Vr-rn*Mr,In=(sr*zr-wr*rn)/bn,_n=(wr*Vr-sr*Mr)/bn;me-=In,we-=_n}while((D(In)>v||D(_n)>v)&&--ke>0);return ke&&[me,we]};function Cv(){return(0,y.c)(qo).scale(139.98)}function Bs($t,se){return[c($t)/M(se),m(se)*M($t)]}Bs.invert=function($t,se){var me=$t*$t,we=se*se,ke=we+1,Re=me+ke,ze=$t?w*z((Re-z(Re*Re-4*me))/me):1/z(ke);return[C($t*ze),f(se)*b(ze)]};function xo(){return(0,y.c)(Bs).scale(144.049).clipAngle(89.999)}function Tc($t){var se=M($t),me=m(p+$t/2);function we(ke,Re){var ze=Re-$t,pr=D(ze)<v?ke*se:D(pr=p+Re/2)<v||D(D(pr)-i)<v?0:ke*ze/r(m(pr)/me);return[pr,ze]}return we.invert=function(ke,Re){var ze,pr=Re+$t;return[D(Re)<v?ke/se:D(ze=p+pr/2)<v||D(D(ze)-i)<v?0:ke*r(m(ze)/me)/Re,pr]},we}function yl(){return oe(Tc).parallel(40).scale(158.837)}function Ns($t,se){return[$t,1.25*r(m(p+.4*se))]}Ns.invert=function($t,se){return[$t,2.5*s(d(.8*se))-.625*h]};function Ac(){return(0,y.c)(Ns).scale(108.318)}function dh($t){var se=$t.length-1;function me(we,ke){for(var Re=M(ke),ze=2/(1+Re*M(we)),pr=ze*Re*c(we),wr=ze*c(ke),sr=se,Mr=$t[sr],zr=Mr[0],Vr=Mr[1],rn;--sr>=0;)Mr=$t[sr],zr=Mr[0]+pr*(rn=zr)-wr*Vr,Vr=Mr[1]+pr*Vr+wr*rn;return zr=pr*(rn=zr)-wr*Vr,Vr=pr*Vr+wr*rn,[zr,Vr]}return me.invert=function(we,ke){var Re=20,ze=we,pr=ke;do{for(var wr=se,sr=$t[wr],Mr=sr[0],zr=sr[1],Vr=0,rn=0,bn;--wr>=0;)sr=$t[wr],Vr=Mr+ze*(bn=Vr)-pr*rn,rn=zr+ze*rn+pr*bn,Mr=sr[0]+ze*(bn=Mr)-pr*zr,zr=sr[1]+ze*zr+pr*bn;Vr=Mr+ze*(bn=Vr)-pr*rn,rn=zr+ze*rn+pr*bn,Mr=ze*(bn=Mr)-pr*zr-we,zr=ze*zr+pr*bn-ke;var In=Vr*Vr+rn*rn,_n,Jn;ze-=_n=(Mr*Vr+zr*rn)/In,pr-=Jn=(zr*Vr-Mr*rn)/In}while(D(_n)+D(Jn)>v*v&&--Re>0);if(Re){var Pi=z(ze*ze+pr*pr),Ii=2*s(Pi*.5),Ri=c(Ii);return[P(ze*Ri,Pi*M(Ii)),Pi?C(pr*Ri/Pi):0]}},me}var Lv=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ff=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Pv=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Iv=[[.9245,0],[0,0],[.01943,0]],Dv=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Sc(){return Wl(Lv,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Rv(){return Wl(Ff,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function _v(){return Wl(Pv,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function ph(){return Wl(Iv,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function gh(){return Wl(Dv,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Wl($t,se){var me=(0,y.c)(dh($t)).rotate(se).clipAngle(90),we=(0,Gt.c)(se),ke=me.center;return delete me.rotate,me.center=function(Re){return arguments.length?ke(we(Re)):we.invert(ke())},me}var xu=z(6),$u=z(7);function qu($t,se){var me=C(7*c(se)/(3*xu));return[xu*$t*(2*M(2*me/3)-1)/$u,9*c(me/3)/$u]}qu.invert=function($t,se){var me=3*C(se*$u/9);return[$t*$u/(xu*(2*M(2*me/3)-1)),C(c(me)*3*xu/7)]};function yh(){return(0,y.c)(qu).scale(164.859)}function qs($t,se){for(var me=(1+w)*c(se),we=se,ke=0,Re;ke<25&&(we-=Re=(c(we/2)+c(we)-me)/(.5*M(we/2)+M(we)),!(D(Re)<v));ke++);return[$t*(1+2*M(we)/M(we/2))/(3*A),2*z(3)*c(we/2)/z(2+A)]}qs.invert=function($t,se){var me=se*z(2+A)/(2*z(3)),we=2*C(me);return[3*A*$t/(1+2*M(we)/M(we/2)),C((me+c(we))/(1+w))]};function kv(){return(0,y.c)(qs).scale(188.209)}function Of($t,se){for(var me=z(6/(4+h)),we=(1+h/4)*c(se),ke=se/2,Re=0,ze;Re<25&&(ke-=ze=(ke/2+c(ke)-we)/(.5+M(ke)),!(D(ze)<v));Re++);return[me*(.5+M(ke))*$t/1.5,me*ke]}Of.invert=function($t,se){var me=z(6/(4+h)),we=se/me;return D(D(we)-i)<v&&(we=we<0?-i:i),[1.5*$t/(me*(.5+M(we))),C((we/2+c(we))/(1+h/4))]};function mh(){return(0,y.c)(Of).scale(166.518)}var xh=t(47984);function Bf($t,se){var me=se*se,we=me*me,ke=me*we;return[$t*(.84719-.13063*me+ke*ke*(-.04515+.05494*me-.02326*we+.00331*ke)),se*(1.01183+we*we*(-.02625+.01926*me-.00396*we))]}Bf.invert=function($t,se){var me=se,we=25,ke,Re,ze,pr;do Re=me*me,ze=Re*Re,me-=ke=(me*(1.01183+ze*ze*(-.02625+.01926*Re-.00396*ze))-se)/(1.01183+ze*ze*(-.23625+.21186*Re+-.05148*ze));while(D(ke)>T&&--we>0);return Re=me*me,ze=Re*Re,pr=Re*ze,[$t/(.84719-.13063*Re+pr*pr*(-.04515+.05494*Re-.02326*ze+.00331*pr)),me]};function ws(){return(0,y.c)(Bf).scale(175.295)}function bu($t,se){return[$t*(1+M(se))/2,2*(se-m(se/2))]}bu.invert=function($t,se){for(var me=se/2,we=0,ke=1/0;we<10&&D(ke)>v;++we){var Re=M(se/2);se-=ke=(se-m(se/2)-me)/(1-.5/(Re*Re))}return[2*$t/(1+M(se)),se]};function Yl(){return(0,y.c)(bu).scale(152.63)}var tf=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ml(){return So(nt(1/0),tf).rotate([20,0]).scale(152.63)}function Us($t,se){var me=c(se),we=M(se),ke=f($t);if($t===0||D(se)===i)return[0,se];if(se===0)return[$t,0];if(D($t)===i)return[$t*we,i*me];var Re=h/(2*$t)-2*$t/h,ze=2*se/h,pr=(1-ze*ze)/(me-ze),wr=Re*Re,sr=pr*pr,Mr=1+wr/sr,zr=1+sr/wr,Vr=(Re*me/pr-Re/2)/Mr,rn=(sr*me/wr+pr/2)/zr,bn=Vr*Vr+we*we/Mr,In=rn*rn-(sr*me*me/wr+pr*me-1)/zr;return[i*(Vr+z(bn)*ke),i*(rn+z(In<0?0:In)*f(-se*Re)*ke)]}Us.invert=function($t,se){$t/=i,se/=i;var me=$t*$t,we=se*se,ke=me+we,Re=h*h;return[$t?(ke-1+z((1-ke)*(1-ke)+4*me))/(2*$t)*i:0,At(function(ze){return ke*(h*c(ze)-2*ze)*h+4*ze*ze*(se-c(ze))+2*h*ze-Re*se},0)]};function Mc(){return(0,y.c)(Us).scale(127.267)}var wu=1.0148,Ts=.23185,ja=-.14499,Ec=.02406,zv=wu,Nf=5*Ts,Tu=7*ja,Au=9*Ec,ts=1.790857183;function Uf($t,se){var me=se*se;return[$t,se*(wu+me*me*(Ts+me*(ja+Ec*me)))]}Uf.invert=function($t,se){se>ts?se=ts:se<-ts&&(se=-ts);var me=se,we;do{var ke=me*me;me-=we=(me*(wu+ke*ke*(Ts+ke*(ja+Ec*ke)))-se)/(zv+ke*ke*(Nf+ke*(Tu+Au*ke)))}while(D(we)>v);return[$t,me]};function Su(){return(0,y.c)(Uf).scale(139.319)}function Vf($t,se){if(D(se)<v)return[$t,0];var me=m(se),we=$t*c(se);return[c(we)/me,se+(1-M(we))/me]}Vf.invert=function($t,se){if(D(se)<v)return[$t,0];var me=$t*$t+se*se,we=se*.5,ke=10,Re;do{var ze=m(we),pr=1/M(we),wr=me-2*se*we+we*we;we-=Re=(ze*wr+2*(we-se))/(2+wr*pr*pr+2*(we-se)*ze)}while(D(Re)>v&&--ke>0);return ze=m(we),[(D(se)<D(we+1/ze)?C($t*ze):f(se)*f($t)*(b(D($t*ze))+i))/c(we),we]};function Fv(){return(0,y.c)(Vf).scale(103.74)}var bh=t(13696),Cc=t(27284);function Lc($t,se){var me=Hf($t[1],$t[0]),we=Hf(se[1],se[0]),ke=Gf(me,we),Re=ef(me)/ef(we);return Mu([1,0,$t[0][0],0,1,$t[0][1]],Mu([Re,0,0,0,Re,0],Mu([M(ke),c(ke),0,-c(ke),M(ke),0],[1,0,-se[0][0],0,1,-se[0][1]])))}function Pc($t){var se=1/($t[0]*$t[4]-$t[1]*$t[3]);return[se*$t[4],-se*$t[1],se*($t[1]*$t[5]-$t[2]*$t[4]),-se*$t[3],se*$t[0],se*($t[2]*$t[3]-$t[0]*$t[5])]}function Mu($t,se){return[$t[0]*se[0]+$t[1]*se[3],$t[0]*se[1]+$t[1]*se[4],$t[0]*se[2]+$t[1]*se[5]+$t[2],$t[3]*se[0]+$t[4]*se[3],$t[3]*se[1]+$t[4]*se[4],$t[3]*se[2]+$t[4]*se[5]+$t[5]]}function Hf($t,se){return[$t[0]-se[0],$t[1]-se[1]]}function ef($t){return z($t[0]*$t[0]+$t[1]*$t[1])}function Gf($t,se){return P($t[0]*se[1]-$t[1]*se[0],$t[0]*se[0]+$t[1]*se[1])}function Ea($t,se,me){we($t,{transform:null});function we(sr,Mr){if(sr.edges=Ic(sr.face),Mr.face){var zr=sr.shared=Th(sr.face,Mr.face),Vr=Lc(zr.map(Mr.project),zr.map(sr.project));sr.transform=Mr.transform?Mu(Mr.transform,Vr):Vr;for(var rn=Mr.edges,bn=0,In=rn.length;bn<In;++bn)As(zr[0],rn[bn][1])&&As(zr[1],rn[bn][0])&&(rn[bn]=sr),As(zr[0],rn[bn][0])&&As(zr[1],rn[bn][1])&&(rn[bn]=sr);for(rn=sr.edges,bn=0,In=rn.length;bn<In;++bn)As(zr[0],rn[bn][0])&&As(zr[1],rn[bn][1])&&(rn[bn]=Mr),As(zr[0],rn[bn][1])&&As(zr[1],rn[bn][0])&&(rn[bn]=Mr)}else sr.transform=Mr.transform;return sr.children&&sr.children.forEach(function(_n){we(_n,sr)}),sr}function ke(sr,Mr){var zr=se(sr,Mr),Vr=zr.project([sr*E,Mr*E]),rn;return(rn=zr.transform)?[rn[0]*Vr[0]+rn[1]*Vr[1]+rn[2],-(rn[3]*Vr[0]+rn[4]*Vr[1]+rn[5])]:(Vr[1]=-Vr[1],Vr)}jl($t)&&(ke.invert=function(sr,Mr){var zr=Re($t,[sr,-Mr]);return zr&&(zr[0]*=S,zr[1]*=S,zr)});function Re(sr,Mr){var zr=sr.project.invert,Vr=sr.transform,rn=Mr;if(Vr&&(Vr=Pc(Vr),rn=[Vr[0]*rn[0]+Vr[1]*rn[1]+Vr[2],Vr[3]*rn[0]+Vr[4]*rn[1]+Vr[5]]),zr&&sr===ze(bn=zr(rn)))return bn;for(var bn,In=sr.children,_n=0,Jn=In&&In.length;_n<Jn;++_n)if(bn=Re(In[_n],Mr))return bn}function ze(sr){return se(sr[0]*S,sr[1]*S)}var pr=(0,y.c)(ke),wr=pr.stream;return pr.stream=function(sr){var Mr=pr.rotate(),zr=wr(sr),Vr=(pr.rotate([0,0]),wr(sr));return pr.rotate(Mr),zr.sphere=function(){Vr.polygonStart(),Vr.lineStart(),wh(Vr,$t),Vr.lineEnd(),Vr.polygonEnd()},zr},pr.angle(me==null?-30:me*E)}function wh($t,se,me){var we,ke=se.edges,Re=ke.length,ze,pr={type:"MultiPoint",coordinates:se.face},wr=se.face.filter(function(In){return D(In[1])!==90}),sr=(0,bh.c)({type:"MultiPoint",coordinates:wr}),Mr=!1,zr=-1,Vr=sr[1][0]-sr[0][0],rn=Vr===180||Vr===360?[(sr[0][0]+sr[1][0])/2,(sr[0][1]+sr[1][1])/2]:(0,kt.c)(pr);if(me)for(;++zr<Re&&ke[zr]!==me;);++zr;for(var bn=0;bn<Re;++bn)ze=ke[(bn+zr)%Re],Array.isArray(ze)?(Mr||($t.point((we=(0,Cc.c)(ze[0],rn)(v))[0],we[1]),Mr=!0),$t.point((we=(0,Cc.c)(ze[1],rn)(v))[0],we[1])):(Mr=!1,ze!==me&&wh($t,ze,se))}function As($t,se){return $t&&se&&$t[0]===se[0]&&$t[1]===se[1]}function Th($t,se){for(var me,we,ke=$t.length,Re=null,ze=0;ze<ke;++ze){me=$t[ze];for(var pr=se.length;--pr>=0;)if(we=se[pr],me[0]===we[0]&&me[1]===we[1]){if(Re)return[Re,me];Re=me}}}function Ic($t){for(var se=$t.length,me=[],we=$t[se-1],ke=0;ke<se;++ke)me.push([we,we=$t[ke]]);return me}function jl($t){return $t.project.invert||$t.children&&$t.children.some(jl)}var xl=t(53285),Wf=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],$a=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function($t){return $t.map(function(se){return Wf[se]})});function rf($t){$t=$t||function(me){var we=(0,kt.c)({type:"MultiPoint",coordinates:me});return(0,xl.c)().scale(1).translate([0,0]).rotate([-we[0],-we[1]])};var se=$a.map(function(me){return{face:me,project:$t(me)}});return[-1,0,0,1,0,1,4,5].forEach(function(me,we){var ke=se[me];ke&&(ke.children||(ke.children=[])).push(se[we])}),Ea(se[0],function(me,we){return se[me<-h/2?we<0?6:4:me<0?we<0?2:0:me<h/2?we<0?3:1:we<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Ss=2/z(3);function tl($t,se){var me=xt($t,se);return[me[0]*Ss,me[1]]}tl.invert=function($t,se){return xt.invert($t/Ss,se)};function Xl($t){$t=$t||function(me){var we=(0,kt.c)({type:"MultiPoint",coordinates:me});return(0,y.c)(tl).translate([0,0]).scale(1).rotate(we[1]>0?[-we[0],0]:[180-we[0],180])};var se=$a.map(function(me){return{face:me,project:$t(me)}});return[-1,0,0,1,0,1,4,5].forEach(function(me,we){var ke=se[me];ke&&(ke.children||(ke.children=[])).push(se[we])}),Ea(se[0],function(me,we){return se[me<-h/2?we<0?6:4:me<0?we<0?2:0:me<h/2?we<0?3:1:we<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function bl($t){$t=$t||function(ze){var pr=ze.length===6?(0,kt.c)({type:"MultiPoint",coordinates:ze}):ze[0];return(0,xl.c)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var se=$a.map(function(ze){for(var pr=ze.map(vs),wr=pr.length,sr=pr[wr-1],Mr,zr=[],Vr=0;Vr<wr;++Vr)Mr=pr[Vr],zr.push(Es([sr[0]*.9486832980505138+Mr[0]*.31622776601683794,sr[1]*.9486832980505138+Mr[1]*.31622776601683794,sr[2]*.9486832980505138+Mr[2]*.31622776601683794]),Es([Mr[0]*.9486832980505138+sr[0]*.31622776601683794,Mr[1]*.9486832980505138+sr[1]*.31622776601683794,Mr[2]*.9486832980505138+sr[2]*.31622776601683794])),sr=Mr;return zr}),me=[],we=[-1,0,0,1,0,1,4,5];se.forEach(function(ze,pr){for(var wr=$a[pr],sr=wr.length,Mr=me[pr]=[],zr=0;zr<sr;++zr)se.push([wr[zr],ze[(zr*2+2)%(2*sr)],ze[(zr*2+1)%(2*sr)]]),we.push(pr),Mr.push(el(vs(ze[(zr*2+2)%(2*sr)]),vs(ze[(zr*2+1)%(2*sr)])))});var ke=se.map(function(ze){return{project:$t(ze),face:ze}});we.forEach(function(ze,pr){var wr=ke[ze];wr&&(wr.children||(wr.children=[])).push(ke[pr])});function Re(ze,pr){var wr=M(pr),sr=[wr*M(ze),wr*c(ze),c(pr)],Mr=ze<-h/2?pr<0?6:4:ze<0?pr<0?2:0:ze<h/2?pr<0?3:1:pr<0?7:5,zr=me[Mr];return ke[Ms(zr[0],sr)<0?8+3*Mr:Ms(zr[1],sr)<0?8+3*Mr+1:Ms(zr[2],sr)<0?8+3*Mr+2:Mr]}return Ea(ke[0],Re).angle(-30).scale(110.625).center([0,45])}function Ms($t,se){for(var me=0,we=$t.length,ke=0;me<we;++me)ke+=$t[me]*se[me];return ke}function el($t,se){return[$t[1]*se[2]-$t[2]*se[1],$t[2]*se[0]-$t[0]*se[2],$t[0]*se[1]-$t[1]*se[0]]}function Es($t){return[P($t[1],$t[0])*E,C(e(-1,o(1,$t[2])))*E]}function vs($t){var se=$t[0]*S,me=$t[1]*S,we=M(me);return[we*M(se),we*c(se),c(me)]}function nf(){}function Ov($t){if((me=$t.length)<4)return!1;for(var se=0,me,we=$t[me-1][1]*$t[0][0]-$t[me-1][0]*$t[0][1];++se<me;)we+=$t[se-1][1]*$t[se][0]-$t[se-1][0]*$t[se][1];return we<=0}function Bv($t,se){for(var me=se[0],we=se[1],ke=!1,Re=0,ze=$t.length,pr=ze-1;Re<ze;pr=Re++){var wr=$t[Re],sr=wr[0],Mr=wr[1],zr=$t[pr],Vr=zr[0],rn=zr[1];Mr>we^rn>we&&me<(Vr-sr)*(we-Mr)/(rn-Mr)+sr&&(ke=!ke)}return ke}function Nv($t,se){var me=se.stream,we;if(!me)throw new Error("invalid projection");switch($t&&$t.type){case"Feature":we=Dc;break;case"FeatureCollection":we=Uv;break;default:we=Eu;break}return we($t,me)}function Uv($t,se){return{type:"FeatureCollection",features:$t.features.map(function(me){return Dc(me,se)})}}function Dc($t,se){return{type:"Feature",id:$t.id,properties:$t.properties,geometry:Eu($t.geometry,se)}}function Ah($t,se){return{type:"GeometryCollection",geometries:$t.geometries.map(function(me){return Eu(me,se)})}}function Eu($t,se){if(!$t)return null;if($t.type==="GeometryCollection")return Ah($t,se);var me;switch($t.type){case"Point":me=Cu;break;case"MultiPoint":me=Cu;break;case"LineString":me=Sh;break;case"MultiLineString":me=Sh;break;case"Polygon":me=af;break;case"MultiPolygon":me=af;break;case"Sphere":me=af;break;default:return null}return(0,vi.c)($t,se(me)),me.result()}var bo=[],ss=[],Cu={point:function($t,se){bo.push([$t,se])},result:function(){var $t=bo.length?bo.length<2?{type:"Point",coordinates:bo[0]}:{type:"MultiPoint",coordinates:bo}:null;return bo=[],$t}},Sh={lineStart:nf,point:function($t,se){bo.push([$t,se])},lineEnd:function(){bo.length&&(ss.push(bo),bo=[])},result:function(){var $t=ss.length?ss.length<2?{type:"LineString",coordinates:ss[0]}:{type:"MultiLineString",coordinates:ss}:null;return ss=[],$t}},af={polygonStart:nf,lineStart:nf,point:function($t,se){bo.push([$t,se])},lineEnd:function(){var $t=bo.length;if($t){do bo.push(bo[0].slice());while(++$t<4);ss.push(bo),bo=[]}},polygonEnd:nf,result:function(){if(!ss.length)return null;var $t=[],se=[];return ss.forEach(function(me){Ov(me)?$t.push([me]):se.push(me)}),se.forEach(function(me){var we=me[0];$t.some(function(ke){if(Bv(ke[0],we))return ke.push(me),!0})||$t.push([me])}),ss=[],$t.length?$t.length>1?{type:"MultiPolygon",coordinates:$t}:{type:"Polygon",coordinates:$t[0]}:null}};function rl($t){var se=$t(i,0)[0]-$t(-i,0)[0];function me(we,ke){var Re=D(we)<i,ze=$t(Re?we:we>0?we-h:we+h,ke),pr=(ze[0]-ze[1])*w,wr=(ze[0]+ze[1])*w;if(Re)return[pr,wr];var sr=se*w,Mr=pr>0^wr>0?-1:1;return[Mr*pr-f(wr)*sr,Mr*wr-f(pr)*sr]}return $t.invert&&(me.invert=function(we,ke){var Re=(we+ke)*w,ze=(ke-we)*w,pr=D(Re)<.5*se&&D(ze)<.5*se;if(!pr){var wr=se*w,sr=Re>0^ze>0?-1:1,Mr=-sr*we+(ze>0?1:-1)*wr,zr=-sr*ke+(Re>0?1:-1)*wr;Re=(-Mr-zr)*w,ze=(Mr-zr)*w}var Vr=$t.invert(Re,ze);return pr||(Vr[0]+=Re>0?h:-h),Vr}),(0,y.c)(me).rotate([-90,-90,45]).clipAngle(179.999)}function Vv(){return rl(Tn).scale(176.423)}function Mh(){return rl(Cr).scale(111.48)}function Eh($t,se){if(!(0<=(se=+se)&&se<=20))throw new Error("invalid digits");function me(sr){var Mr=sr.length,zr=2,Vr=new Array(Mr);for(Vr[0]=+sr[0].toFixed(se),Vr[1]=+sr[1].toFixed(se);zr<Mr;)Vr[zr]=sr[zr],++zr;return Vr}function we(sr){return sr.map(me)}function ke(sr){for(var Mr=me(sr[0]),zr=[Mr],Vr=1;Vr<sr.length;Vr++){var rn=me(sr[Vr]);(rn.length>2||rn[0]!=Mr[0]||rn[1]!=Mr[1])&&(zr.push(rn),Mr=rn)}return zr.length===1&&sr.length>1&&zr.push(me(sr[sr.length-1])),zr}function Re(sr){return sr.map(ke)}function ze(sr){if(sr==null)return sr;var Mr;switch(sr.type){case"GeometryCollection":Mr={type:"GeometryCollection",geometries:sr.geometries.map(ze)};break;case"Point":Mr={type:"Point",coordinates:me(sr.coordinates)};break;case"MultiPoint":Mr={type:sr.type,coordinates:we(sr.coordinates)};break;case"LineString":Mr={type:sr.type,coordinates:ke(sr.coordinates)};break;case"MultiLineString":case"Polygon":Mr={type:sr.type,coordinates:Re(sr.coordinates)};break;case"MultiPolygon":Mr={type:"MultiPolygon",coordinates:sr.coordinates.map(Re)};break;default:return sr}return sr.bbox!=null&&(Mr.bbox=sr.bbox),Mr}function pr(sr){var Mr={type:"Feature",properties:sr.properties,geometry:ze(sr.geometry)};return sr.id!=null&&(Mr.id=sr.id),sr.bbox!=null&&(Mr.bbox=sr.bbox),Mr}if($t!=null)switch($t.type){case"Feature":return pr($t);case"FeatureCollection":{var wr={type:"FeatureCollection",features:$t.features.map(pr)};return $t.bbox!=null&&(wr.bbox=$t.bbox),wr}default:return ze($t)}return $t}function Rc($t){var se=c($t);function me(we,ke){var Re=se?m(we*se/2)/se:we/2;if(!ke)return[2*Re,-$t];var ze=2*s(Re*c(ke)),pr=1/m(ke);return[c(ze)*pr,ke+(1-M(ze))*pr-$t]}return me.invert=function(we,ke){if(D(ke+=$t)<v)return[se?2*s(se*we/2)/se:we,0];var Re=we*we+ke*ke,ze=0,pr=10,wr;do{var sr=m(ze),Mr=1/M(ze),zr=Re-2*ke*ze+ze*ze;ze-=wr=(sr*zr+2*(ze-ke))/(2+zr*Mr*Mr+2*(ze-ke)*sr)}while(D(wr)>v&&--pr>0);var Vr=we*(sr=m(ze)),rn=m(D(ke)<D(ze+1/sr)?C(Vr)*.5:b(Vr)*.5+h/4)/c(ze);return[se?2*s(se*rn)/se:2*rn,ze]},me}function Ch(){return oe(Rc).scale(131.215)}var jo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];jo.forEach(function($t){$t[1]*=1.0144});function Cs($t,se){var me=o(18,D(se)*36/h),we=g(me),ke=me-we,Re=(zr=jo[we])[0],ze=zr[1],pr=(zr=jo[++we])[0],wr=zr[1],sr=(zr=jo[o(19,++we)])[0],Mr=zr[1],zr;return[$t*(pr+ke*(sr-Re)/2+ke*ke*(sr-2*pr+Re)/2),(se>0?i:-i)*(wr+ke*(Mr-ze)/2+ke*ke*(Mr-2*wr+ze)/2)]}Cs.invert=function($t,se){var me=se/i,we=me*90,ke=o(18,D(we/5)),Re=e(0,g(ke));do{var ze=jo[Re][1],pr=jo[Re+1][1],wr=jo[o(19,Re+2)][1],sr=wr-ze,Mr=wr-2*pr+ze,zr=2*(D(me)-pr)/sr,Vr=Mr/sr,rn=zr*(1-Vr*zr*(1-2*Vr*zr));if(rn>=0||Re===1){we=(se>=0?5:-5)*(rn+ke);var bn=50,In;do ke=o(18,D(we)/5),Re=g(ke),rn=ke-Re,ze=jo[Re][1],pr=jo[Re+1][1],wr=jo[o(19,Re+2)][1],we-=(In=(se>=0?i:-i)*(pr+rn*(wr-ze)/2+rn*rn*(wr-2*pr+ze)/2)-se)*E;while(D(In)>T&&--bn>0);break}}while(--Re>=0);var _n=jo[Re][0],Jn=jo[Re+1][0],Pi=jo[o(19,Re+2)][0];return[$t/(Jn+rn*(Pi-_n)/2+rn*rn*(Pi-2*Jn+_n)/2),we*S]};function wl(){return(0,y.c)(Cs).scale(152.63)}function Lu($t){function se(me,we){var ke=M(we),Re=($t-1)/($t-ke*M(me));return[Re*ke*c(me),Re*c(we)]}return se.invert=function(me,we){var ke=me*me+we*we,Re=z(ke),ze=($t-z(1-ke*($t+1)/($t-1)))/(($t-1)/Re+Re/($t-1));return[P(me*ze,Re*z(1-ze*ze)),Re?C(we*ze/Re):0]},se}function Yf($t,se){var me=Lu($t);if(!se)return me;var we=M(se),ke=c(se);function Re(ze,pr){var wr=me(ze,pr),sr=wr[1],Mr=sr*ke/($t-1)+we;return[wr[0]*we/Mr,sr/Mr]}return Re.invert=function(ze,pr){var wr=($t-1)/($t-1-pr*ke);return me.invert(wr*ze,wr*pr*we)},Re}function Zl(){var $t=2,se=0,me=(0,y.U)(Yf),we=me($t,se);return we.distance=function(ke){return arguments.length?me($t=+ke,se):$t},we.tilt=function(ke){return arguments.length?me($t,se=ke*S):se*E},we.scale(432.147).clipAngle(b(1/$t)*E-1e-6)}var Kl=1e-4,Lh=1e4,nl=-180,Pu=nl+Kl,Tl=180,il=Tl-Kl,of=-90,Iu=of+Kl,Ta=90,Du=Ta-Kl;function jf($t){return $t.length>0}function Ph($t){return Math.floor($t*Lh)/Lh}function Ru($t){return $t===of||$t===Ta?[0,$t]:[nl,Ph($t)]}function sf($t){var se=$t[0],me=$t[1],we=!1;return se<=Pu?(se=nl,we=!0):se>=il&&(se=Tl,we=!0),me<=Iu?(me=of,we=!0):me>=Du&&(me=Ta,we=!0),we?[se,me]:$t}function Xf($t){return $t.map(sf)}function _c($t,se,me){for(var we=0,ke=$t.length;we<ke;++we){var Re=$t[we].slice();me.push({index:-1,polygon:se,ring:Re});for(var ze=0,pr=Re.length;ze<pr;++ze){var wr=Re[ze],sr=wr[0],Mr=wr[1];if(sr<=Pu||sr>=il||Mr<=Iu||Mr>=Du){Re[ze]=sf(wr);for(var zr=ze+1;zr<pr;++zr){var Vr=Re[zr],rn=Vr[0],bn=Vr[1];if(rn>Pu&&rn<il&&bn>Iu&&bn<Du)break}if(zr===ze+1)continue;if(ze){var In={index:-1,polygon:se,ring:Re.slice(0,ze+1)};In.ring[In.ring.length-1]=Ru(Mr),me[me.length-1]=In}else me.pop();if(zr>=pr)break;me.push({index:-1,polygon:se,ring:Re=Re.slice(zr-1)}),Re[0]=Ru(Re[0][1]),ze=-1,pr=Re.length}}}}function lf($t){var se,me=$t.length,we={},ke={},Re,ze,pr,wr,sr;for(se=0;se<me;++se){if(Re=$t[se],ze=Re.ring[0],wr=Re.ring[Re.ring.length-1],ze[0]===wr[0]&&ze[1]===wr[1]){Re.polygon.push(Re.ring),$t[se]=null;continue}Re.index=se,we[ze]=ke[wr]=Re}for(se=0;se<me;++se)if(Re=$t[se],Re){if(ze=Re.ring[0],wr=Re.ring[Re.ring.length-1],pr=ke[ze],sr=we[wr],delete we[ze],delete ke[wr],ze[0]===wr[0]&&ze[1]===wr[1]){Re.polygon.push(Re.ring);continue}pr?(delete ke[ze],delete we[pr.ring[0]],pr.ring.pop(),$t[pr.index]=null,Re={index:-1,polygon:pr.polygon,ring:pr.ring.concat(Re.ring)},pr===sr?Re.polygon.push(Re.ring):(Re.index=me++,$t.push(we[Re.ring[0]]=ke[Re.ring[Re.ring.length-1]]=Re))):sr?(delete we[wr],delete ke[sr.ring[sr.ring.length-1]],Re.ring.pop(),Re={index:me++,polygon:sr.polygon,ring:Re.ring.concat(sr.ring)},$t[sr.index]=null,$t.push(we[Re.ring[0]]=ke[Re.ring[Re.ring.length-1]]=Re)):(Re.ring.push(Re.ring[0]),Re.polygon.push(Re.ring))}}function uf($t){var se={type:"Feature",geometry:Al($t.geometry)};return $t.id!=null&&(se.id=$t.id),$t.bbox!=null&&(se.bbox=$t.bbox),$t.properties!=null&&(se.properties=$t.properties),se}function Al($t){if($t==null)return $t;var se,me,we,ke;switch($t.type){case"GeometryCollection":se={type:"GeometryCollection",geometries:$t.geometries.map(Al)};break;case"Point":se={type:"Point",coordinates:sf($t.coordinates)};break;case"MultiPoint":case"LineString":se={type:$t.type,coordinates:Xf($t.coordinates)};break;case"MultiLineString":se={type:"MultiLineString",coordinates:$t.coordinates.map(Xf)};break;case"Polygon":{var Re=[];_c($t.coordinates,Re,me=[]),lf(me),se={type:"Polygon",coordinates:Re};break}case"MultiPolygon":{me=[],we=-1,ke=$t.coordinates.length;for(var ze=new Array(ke);++we<ke;)_c($t.coordinates[we],ze[we]=[],me);lf(me),se={type:"MultiPolygon",coordinates:ze.filter(jf)};break}default:return $t}return $t.bbox!=null&&(se.bbox=$t.bbox),se}function ff($t){if($t==null)return $t;switch($t.type){case"Feature":return uf($t);case"FeatureCollection":{var se={type:"FeatureCollection",features:$t.features.map(uf)};return $t.bbox!=null&&(se.bbox=$t.bbox),se}default:return Al($t)}}function Sl($t,se){var me=m(se/2),we=c(p*me);return[$t*(.74482-.34588*we*we),1.70711*me]}Sl.invert=function($t,se){var me=se/1.70711,we=c(p*me);return[$t/(.74482-.34588*we*we),2*s(me)]};function fo(){return(0,y.c)(Sl).scale(146.153)}function Vs($t,se,me){var we=(0,Cc.c)(se,me),ke=we(.5),Re=(0,Gt.c)([-ke[0],-ke[1]])(se),ze=we.distance/2,pr=-C(c(Re[1]*S)/c(ze)),wr=[-ke[0],-ke[1],-(Re[0]>0?h-pr:pr)*E],sr=(0,y.c)($t(ze)).rotate(wr),Mr=(0,Gt.c)(wr),zr=sr.center;return delete sr.rotate,sr.center=function(Vr){return arguments.length?zr(Mr(Vr)):Mr.invert(zr())},sr.clipAngle(90)}function kc($t){var se=M($t);function me(we,ke){var Re=(0,xl.Y)(we,ke);return Re[0]*=se,Re}return me.invert=function(we,ke){return xl.Y.invert(we/se,ke)},me}function Jl(){return Zf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Zf($t,se){return Vs(kc,$t,se)}function cf($t){if(!($t*=2))return ut.O;var se=-$t/2,me=-se,we=$t*$t,ke=m(me),Re=.5/c(me);function ze(pr,wr){var sr=b(M(wr)*M(pr-se)),Mr=b(M(wr)*M(pr-me)),zr=wr<0?-1:1;return sr*=sr,Mr*=Mr,[(sr-Mr)/(2*$t),zr*z(4*we*Mr-(we-sr+Mr)*(we-sr+Mr))/(2*$t)]}return ze.invert=function(pr,wr){var sr=wr*wr,Mr=M(z(sr+(Vr=pr+se)*Vr)),zr=M(z(sr+(Vr=pr+me)*Vr)),Vr,rn;return[P(rn=Mr-zr,Vr=(Mr+zr)*ke),(wr<0?-1:1)*b(z(Vr*Vr+rn*rn)*Re)]},ze}function Hv(){return Ih([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Ih($t,se){return Vs(cf,$t,se)}function Uo($t,se){if(D(se)<v)return[$t,0];var me=D(se/i),we=C(me);if(D($t)<v||D(D(se)-i)<v)return[0,f(se)*h*m(we/2)];var ke=M(we),Re=D(h/$t-$t/h)/2,ze=Re*Re,pr=ke/(me+ke-1),wr=pr*(2/me-1),sr=wr*wr,Mr=sr+ze,zr=pr-sr,Vr=ze+pr;return[f($t)*h*(Re*zr+z(ze*zr*zr-Mr*(pr*pr-sr)))/Mr,f(se)*h*(wr*Vr-Re*z((ze+1)*Mr-Vr*Vr))/Mr]}Uo.invert=function($t,se){if(D(se)<v)return[$t,0];if(D($t)<v)return[0,i*c(2*s(se/h))];var me=($t/=h)*$t,we=(se/=h)*se,ke=me+we,Re=ke*ke,ze=-D(se)*(1+ke),pr=ze-2*we+me,wr=-2*ze+1+2*we+Re,sr=we/wr+(2*pr*pr*pr/(wr*wr*wr)-9*ze*pr/(wr*wr))/27,Mr=(ze-pr*pr/(3*wr))/wr,zr=2*z(-Mr/3),Vr=b(3*sr/(Mr*zr))/3;return[h*(ke-1+z(1+2*(me-we)+Re))/(2*$t),f(se)*h*(-zr*M(Vr+h/3)-pr/(3*wr))]};function hf(){return(0,y.c)(Uo).scale(79.4183)}function _u($t,se){if(D(se)<v)return[$t,0];var me=D(se/i),we=C(me);if(D($t)<v||D(D(se)-i)<v)return[0,f(se)*h*m(we/2)];var ke=M(we),Re=D(h/$t-$t/h)/2,ze=Re*Re,pr=ke*(z(1+ze)-Re*ke)/(1+ze*me*me);return[f($t)*h*pr,f(se)*h*z(1-pr*(2*Re+pr))]}_u.invert=function($t,se){if(!$t)return[0,i*c(2*s(se/h))];var me=D($t/h),we=(1-me*me-(se/=h)*se)/(2*me),ke=we*we,Re=z(ke+1);return[f($t)*h*(Re-we),f(se)*i*c(2*P(z((1-2*we*me)*(we+Re)-me),z(Re+we+me)))]};function Dh(){return(0,y.c)(_u).scale(79.4183)}function Ml($t,se){if(D(se)<v)return[$t,0];var me=se/i,we=C(me);if(D($t)<v||D(D(se)-i)<v)return[0,h*m(we/2)];var ke=(h/$t-$t/h)/2,Re=me/(1+M(we));return[h*(f($t)*z(ke*ke+1-Re*Re)-ke),h*Re]}Ml.invert=function($t,se){if(!se)return[$t,0];var me=se/h,we=(h*h*(1-me*me)-$t*$t)/(2*h*$t);return[$t?h*(f($t)*z(we*we+1)-we):0,i*c(2*s(me))]};function Gv(){return(0,y.c)(Ml).scale(79.4183)}function es($t,se){if(!se)return[$t,0];var me=D(se);if(!$t||me===i)return[0,se];var we=me/i,ke=we*we,Re=(8*we-ke*(ke+2)-5)/(2*ke*(we-1)),ze=Re*Re,pr=we*Re,wr=ke+ze+2*pr,sr=we+3*Re,Mr=$t/i,zr=Mr+1/Mr,Vr=f(D($t)-i)*z(zr*zr-4),rn=Vr*Vr,bn=wr*(ke+ze*rn-1)+(1-ke)*(ke*(sr*sr+4*ze)+12*pr*ze+4*ze*ze),In=(Vr*(wr+ze-1)+2*z(bn))/(4*wr+rn);return[f($t)*i*In,f(se)*i*z(1+Vr*D(In)-In*In)]}es.invert=function($t,se){var me;if(!$t||!se)return[$t,se];se/=h;var we=f($t)*$t/i,ke=(we*we-1+4*se*se)/D(we),Re=ke*ke,ze=2*se,pr=50;do{var wr=ze*ze,sr=(8*ze-wr*(wr+2)-5)/(2*wr*(ze-1)),Mr=(3*ze-wr*ze-10)/(2*wr*ze),zr=sr*sr,Vr=ze*sr,rn=ze+sr,bn=rn*rn,In=ze+3*sr,_n=bn*(wr+zr*Re-1)+(1-wr)*(wr*(In*In+4*zr)+zr*(12*Vr+4*zr)),Jn=-2*rn*(4*Vr*zr+(1-4*wr+3*wr*wr)*(1+Mr)+zr*(-6+14*wr-Re+(-8+8*wr-2*Re)*Mr)+Vr*(-8+12*wr+(-10+10*wr-Re)*Mr)),Pi=z(_n),Ii=ke*(bn+zr-1)+2*Pi-we*(4*bn+Re),Ri=ke*(2*sr*Mr+2*rn*(1+Mr))+Jn/Pi-8*rn*(ke*(-1+zr+bn)+2*Pi)*(1+Mr)/(Re+4*bn);ze-=me=Ii/Ri}while(me>v&&--pr>0);return[f($t)*(z(ke*ke+4)+ke)*h/4,i*ze]};function vf(){return(0,y.c)(es).scale(127.16)}function Kf($t,se,me,we,ke){function Re(ze,pr){var wr=me*c(we*pr),sr=z(1-wr*wr),Mr=z(2/(1+sr*M(ze*=ke)));return[$t*sr*Mr*c(ze),se*wr*Mr]}return Re.invert=function(ze,pr){var wr=ze/$t,sr=pr/se,Mr=z(wr*wr+sr*sr),zr=2*C(Mr/2);return[P(ze*m(zr),$t*Mr)/ke,Mr&&C(pr*c(zr)/(se*me*Mr))/we]},Re}function al($t,se,me,we){var ke=h/3;$t=e($t,v),se=e(se,v),$t=o($t,i),se=o(se,h-v),me=e(me,0),me=o(me,100-v),we=e(we,v);var Re=me/100+1,ze=we/100,pr=b(Re*M(ke))/ke,wr=c($t)/c(pr*i),sr=se/h,Mr=z(ze*c($t/2)/c(se/2)),zr=Mr/z(sr*wr*pr),Vr=1/(Mr*z(sr*wr*pr));return Kf(zr,Vr,wr,pr,sr)}function El(){var $t=65*S,se=60*S,me=20,we=200,ke=(0,y.U)(al),Re=ke($t,se,me,we);return Re.poleline=function(ze){return arguments.length?ke($t=+ze*S,se,me,we):$t*E},Re.parallels=function(ze){return arguments.length?ke($t,se=+ze*S,me,we):se*E},Re.inflation=function(ze){return arguments.length?ke($t,se,me=+ze,we):me},Re.ratio=function(ze){return arguments.length?ke($t,se,me,we=+ze):we},Re.scale(163.775)}function zc(){return El().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var df=4*h+3*z(3),pf=2*z(2*h*z(3)/df),Jf=St(pf*z(3)/h,pf,df/6);function Rh(){return(0,y.c)(Jf).scale(176.84)}function gf($t,se){return[$t*z(1-3*se*se/(h*h)),se]}gf.invert=function($t,se){return[$t/z(1-3*se*se/(h*h)),se]};function Fc(){return(0,y.c)(gf).scale(152.63)}function Ql($t,se){var me=M(se),we=M($t)*me,ke=1-we,Re=M($t=P(c($t)*me,-c(se))),ze=c($t);return me=z(1-we*we),[ze*me-Re*ke,-Re*me-ze*ke]}Ql.invert=function($t,se){var me=($t*$t+se*se)/-2,we=z(-me*(2+me)),ke=se*me+$t*we,Re=$t*me-se*we,ze=z(Re*Re+ke*ke);return[P(we*ke,ze*(1+me)),ze?-C(we*Re/ze):0]};function Oc(){return(0,y.c)(Ql).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function yf($t,se){var me=X($t,se);return[(me[0]+$t/i)/2,(me[1]+se)/2]}yf.invert=function($t,se){var me=$t,we=se,ke=25;do{var Re=M(we),ze=c(we),pr=c(2*we),wr=ze*ze,sr=Re*Re,Mr=c(me),zr=M(me/2),Vr=c(me/2),rn=Vr*Vr,bn=1-sr*zr*zr,In=bn?b(Re*zr)*z(_n=1/bn):_n=0,_n,Jn=.5*(2*In*Re*Vr+me/i)-$t,Pi=.5*(In*ze+we)-se,Ii=.5*_n*(sr*rn+In*Re*zr*wr)+.5/i,Ri=_n*(Mr*pr/4-In*ze*Vr),Fi=.125*_n*(pr*Vr-In*ze*sr*Mr),ji=.5*_n*(wr*zr+In*rn*Re)+.5,Aa=Ri*Fi-ji*Ii,qa=(Pi*Ri-Jn*ji)/Aa,ct=(Jn*Fi-Pi*Ii)/Aa;me-=qa,we-=ct}while((D(qa)>v||D(ct)>v)&&--ke>0);return[me,we]};function _h(){return(0,y.c)(yf).scale(158.837)}},88728:function(W,G,t){t.d(G,{c:function(){return y}});function y(){return new D}function D(){this.reset()}D.prototype={constructor:D,reset:function(){this.s=this.t=0},add:function(M){P(s,M,this.t),P(this,s.s,this.s),this.s?this.t+=s.t:this.s=s.t},valueOf:function(){return this.s}};var s=new D;function P(M,d,g){var r=M.s=d+g,e=r-d,o=r-e;M.t=d-o+(g-e)}},95384:function(W,G,t){t.d(G,{cp:function(){return T},mQ:function(){return M},oB:function(){return u}});var y=t(88728),D=t(64528),s=t(70932),P=t(16016),M=(0,y.c)(),d=(0,y.c)(),g,r,e,o,n,u={point:s.c,lineStart:s.c,lineEnd:s.c,polygonStart:function(){M.reset(),u.lineStart=f,u.lineEnd=c},polygonEnd:function(){var h=+M;d.add(h<0?D.kD+h:h),this.lineStart=this.lineEnd=this.point=s.c},sphere:function(){d.add(D.kD)}};function f(){u.point=m}function c(){v(g,r)}function m(h,i){u.point=v,g=h,r=i,h*=D.qw,i*=D.qw,e=h,o=(0,D.W8)(i=i/2+D.wL),n=(0,D.g$)(i)}function v(h,i){h*=D.qw,i*=D.qw,i=i/2+D.wL;var p=h-e,w=p>=0?1:-1,A=w*p,L=(0,D.W8)(i),x=(0,D.g$)(i),E=n*x,S=o*L+E*(0,D.W8)(A),a=E*w*(0,D.g$)(A);M.add((0,D.WE)(a,S)),e=h,o=L,n=x}function T(h){return d.reset(),(0,P.c)(h,u),d*2}},13696:function(W,G,t){t.d(G,{c:function(){return C}});var y=t(88728),D=t(95384),s=t(84220),P=t(64528),M=t(16016),d,g,r,e,o,n,u,f,c=(0,y.c)(),m,v,T={point:h,lineStart:p,lineEnd:w,polygonStart:function(){T.point=A,T.lineStart=L,T.lineEnd=x,c.reset(),D.oB.polygonStart()},polygonEnd:function(){D.oB.polygonEnd(),T.point=h,T.lineStart=p,T.lineEnd=w,D.mQ<0?(d=-(r=180),g=-(e=90)):c>P.Gg?e=90:c<-P.Gg&&(g=-90),v[0]=d,v[1]=r},sphere:function(){d=-(r=180),g=-(e=90)}};function h(b,z){m.push(v=[d=b,r=b]),z<g&&(g=z),z>e&&(e=z)}function i(b,z){var k=(0,s.ux)([b*P.qw,z*P.qw]);if(f){var U=(0,s.CW)(f,k),F=[U[1],-U[0],0],V=(0,s.CW)(F,U);(0,s.cJ)(V),V=(0,s.G)(V);var N=b-o,O=N>0?1:-1,H=V[0]*P.oh*O,X,J=(0,P.a2)(N)>180;J^(O*o<H&&H<O*b)?(X=V[1]*P.oh,X>e&&(e=X)):(H=(H+360)%360-180,J^(O*o<H&&H<O*b)?(X=-V[1]*P.oh,X<g&&(g=X)):(z<g&&(g=z),z>e&&(e=z))),J?b<o?E(d,b)>E(d,r)&&(r=b):E(b,r)>E(d,r)&&(d=b):r>=d?(b<d&&(d=b),b>r&&(r=b)):b>o?E(d,b)>E(d,r)&&(r=b):E(b,r)>E(d,r)&&(d=b)}else m.push(v=[d=b,r=b]);z<g&&(g=z),z>e&&(e=z),f=k,o=b}function p(){T.point=i}function w(){v[0]=d,v[1]=r,T.point=h,f=null}function A(b,z){if(f){var k=b-o;c.add((0,P.a2)(k)>180?k+(k>0?360:-360):k)}else n=b,u=z;D.oB.point(b,z),i(b,z)}function L(){D.oB.lineStart()}function x(){A(n,u),D.oB.lineEnd(),(0,P.a2)(c)>P.Gg&&(d=-(r=180)),v[0]=d,v[1]=r,f=null}function E(b,z){return(z-=b)<0?z+360:z}function S(b,z){return b[0]-z[0]}function a(b,z){return b[0]<=b[1]?b[0]<=z&&z<=b[1]:z<b[0]||b[1]<z}function C(b){var z,k,U,F,V,N,O;if(e=r=-(d=g=1/0),m=[],(0,M.c)(b,T),k=m.length){for(m.sort(S),z=1,U=m[0],V=[U];z<k;++z)F=m[z],a(U,F[0])||a(U,F[1])?(E(U[0],F[1])>E(U[0],U[1])&&(U[1]=F[1]),E(F[0],U[1])>E(U[0],U[1])&&(U[0]=F[0])):V.push(U=F);for(N=-1/0,k=V.length-1,z=0,U=V[k];z<=k;U=F,++z)F=V[z],(O=E(U[1],F[0]))>N&&(N=O,d=F[0],r=U[1])}return m=v=null,d===1/0||g===1/0?[[NaN,NaN],[NaN,NaN]]:[[d,g],[r,e]]}},84220:function(W,G,t){t.d(G,{CW:function(){return M},Ez:function(){return P},G:function(){return D},cJ:function(){return r},mg:function(){return d},ux:function(){return s},wx:function(){return g}});var y=t(64528);function D(e){return[(0,y.WE)(e[1],e[0]),(0,y.qR)(e[2])]}function s(e){var o=e[0],n=e[1],u=(0,y.W8)(n);return[u*(0,y.W8)(o),u*(0,y.g$)(o),(0,y.g$)(n)]}function P(e,o){return e[0]*o[0]+e[1]*o[1]+e[2]*o[2]}function M(e,o){return[e[1]*o[2]-e[2]*o[1],e[2]*o[0]-e[0]*o[2],e[0]*o[1]-e[1]*o[0]]}function d(e,o){e[0]+=o[0],e[1]+=o[1],e[2]+=o[2]}function g(e,o){return[e[0]*o,e[1]*o,e[2]*o]}function r(e){var o=(0,y._I)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=o,e[1]/=o,e[2]/=o}},24052:function(W,G,t){t.d(G,{c:function(){return k}});var y=t(64528),D=t(70932),s=t(16016),P,M,d,g,r,e,o,n,u,f,c,m,v,T,h,i,p={sphere:D.c,point:w,lineStart:L,lineEnd:S,polygonStart:function(){p.lineStart=a,p.lineEnd=C},polygonEnd:function(){p.lineStart=L,p.lineEnd=S}};function w(U,F){U*=y.qw,F*=y.qw;var V=(0,y.W8)(F);A(V*(0,y.W8)(U),V*(0,y.g$)(U),(0,y.g$)(F))}function A(U,F,V){++P,d+=(U-d)/P,g+=(F-g)/P,r+=(V-r)/P}function L(){p.point=x}function x(U,F){U*=y.qw,F*=y.qw;var V=(0,y.W8)(F);T=V*(0,y.W8)(U),h=V*(0,y.g$)(U),i=(0,y.g$)(F),p.point=E,A(T,h,i)}function E(U,F){U*=y.qw,F*=y.qw;var V=(0,y.W8)(F),N=V*(0,y.W8)(U),O=V*(0,y.g$)(U),H=(0,y.g$)(F),X=(0,y.WE)((0,y._I)((X=h*H-i*O)*X+(X=i*N-T*H)*X+(X=T*O-h*N)*X),T*N+h*O+i*H);M+=X,e+=X*(T+(T=N)),o+=X*(h+(h=O)),n+=X*(i+(i=H)),A(T,h,i)}function S(){p.point=w}function a(){p.point=b}function C(){z(m,v),p.point=w}function b(U,F){m=U,v=F,U*=y.qw,F*=y.qw,p.point=z;var V=(0,y.W8)(F);T=V*(0,y.W8)(U),h=V*(0,y.g$)(U),i=(0,y.g$)(F),A(T,h,i)}function z(U,F){U*=y.qw,F*=y.qw;var V=(0,y.W8)(F),N=V*(0,y.W8)(U),O=V*(0,y.g$)(U),H=(0,y.g$)(F),X=h*H-i*O,J=i*N-T*H,et=T*O-h*N,it=(0,y._I)(X*X+J*J+et*et),ft=(0,y.qR)(it),ot=it&&-ft/it;u+=ot*X,f+=ot*J,c+=ot*et,M+=ft,e+=ft*(T+(T=N)),o+=ft*(h+(h=O)),n+=ft*(i+(i=H)),A(T,h,i)}function k(U){P=M=d=g=r=e=o=n=u=f=c=0,(0,s.c)(U,p);var F=u,V=f,N=c,O=F*F+V*V+N*N;return O<y.a8&&(F=e,V=o,N=n,M<y.Gg&&(F=d,V=g,N=r),O=F*F+V*V+N*N,O<y.a8)?[NaN,NaN]:[(0,y.WE)(V,F)*y.oh,(0,y.qR)(N/(0,y._I)(O))*y.oh]}},61780:function(W,G,t){t.d(G,{Q:function(){return M},c:function(){return g}});var y=t(84220);function D(r){return function(){return r}}var s=t(64528),P=t(92992);function M(r,e,o,n,u,f){if(o){var c=(0,s.W8)(e),m=(0,s.g$)(e),v=n*o;u==null?(u=e+n*s.kD,f=e-v/2):(u=d(c,u),f=d(c,f),(n>0?u<f:u>f)&&(u+=n*s.kD));for(var T,h=u;n>0?h>f:h<f;h-=v)T=(0,y.G)([c,-m*(0,s.W8)(h),-m*(0,s.g$)(h)]),r.point(T[0],T[1])}}function d(r,e){e=(0,y.ux)(e),e[0]-=r,(0,y.cJ)(e);var o=(0,s.mE)(-e[1]);return((-e[2]<0?-o:o)+s.kD-s.Gg)%s.kD}function g(){var r=D([0,0]),e=D(90),o=D(6),n,u,f={point:c};function c(v,T){n.push(v=u(v,T)),v[0]*=s.oh,v[1]*=s.oh}function m(){var v=r.apply(this,arguments),T=e.apply(this,arguments)*s.qw,h=o.apply(this,arguments)*s.qw;return n=[],u=(0,P.O)(-v[0]*s.qw,-v[1]*s.qw,0).invert,M(f,T,h,1),v={type:"Polygon",coordinates:[n]},n=u=null,v}return m.center=function(v){return arguments.length?(r=typeof v=="function"?v:D([+v[0],+v[1]]),m):r},m.radius=function(v){return arguments.length?(e=typeof v=="function"?v:D(+v),m):e},m.precision=function(v){return arguments.length?(o=typeof v=="function"?v:D(+v),m):o},m}},78284:function(W,G,t){var y=t(14229),D=t(64528);G.c=(0,y.c)(function(){return!0},s,M,[-D.pi,-D.or]);function s(d){var g=NaN,r=NaN,e=NaN,o;return{lineStart:function(){d.lineStart(),o=1},point:function(n,u){var f=n>0?D.pi:-D.pi,c=(0,D.a2)(n-g);(0,D.a2)(c-D.pi)<D.Gg?(d.point(g,r=(r+u)/2>0?D.or:-D.or),d.point(e,r),d.lineEnd(),d.lineStart(),d.point(f,r),d.point(n,r),o=0):e!==f&&c>=D.pi&&((0,D.a2)(g-e)<D.Gg&&(g-=e*D.Gg),(0,D.a2)(n-f)<D.Gg&&(n-=f*D.Gg),r=P(g,r,n,u),d.point(e,r),d.lineEnd(),d.lineStart(),d.point(f,r),o=0),d.point(g=n,r=u),e=f},lineEnd:function(){d.lineEnd(),g=r=NaN},clean:function(){return 2-o}}}function P(d,g,r,e){var o,n,u=(0,D.g$)(d-r);return(0,D.a2)(u)>D.Gg?(0,D.MQ)(((0,D.g$)(g)*(n=(0,D.W8)(e))*(0,D.g$)(r)-(0,D.g$)(e)*(o=(0,D.W8)(g))*(0,D.g$)(d))/(o*n*u)):(g+e)/2}function M(d,g,r,e){var o;if(d==null)o=r*D.or,e.point(-D.pi,o),e.point(0,o),e.point(D.pi,o),e.point(D.pi,0),e.point(D.pi,-o),e.point(0,-o),e.point(-D.pi,-o),e.point(-D.pi,0),e.point(-D.pi,o);else if((0,D.a2)(d[0]-g[0])>D.Gg){var n=d[0]<g[0]?D.pi:-D.pi;o=r*n/2,e.point(-n,o),e.point(0,o),e.point(n,o)}else e.point(g[0],g[1])}},97208:function(W,G,t){t.d(G,{c:function(){return D}});var y=t(70932);function D(){var s=[],P;return{point:function(M,d,g){P.push([M,d,g])},lineStart:function(){s.push(P=[])},lineEnd:y.c,rejoin:function(){s.length>1&&s.push(s.pop().concat(s.shift()))},result:function(){var M=s;return s=[],P=null,M}}}},2728:function(W,G,t){t.d(G,{c:function(){return d}});var y=t(84220),D=t(61780),s=t(64528),P=t(41860),M=t(14229);function d(g){var r=(0,s.W8)(g),e=6*s.qw,o=r>0,n=(0,s.a2)(r)>s.Gg;function u(T,h,i,p){(0,D.Q)(p,g,e,i,T,h)}function f(T,h){return(0,s.W8)(T)*(0,s.W8)(h)>r}function c(T){var h,i,p,w,A;return{lineStart:function(){w=p=!1,A=1},point:function(L,x){var E=[L,x],S,a=f(L,x),C=o?a?0:v(L,x):a?v(L+(L<0?s.pi:-s.pi),x):0;if(!h&&(w=p=a)&&T.lineStart(),a!==p&&(S=m(h,E),(!S||(0,P.c)(h,S)||(0,P.c)(E,S))&&(E[2]=1)),a!==p)A=0,a?(T.lineStart(),S=m(E,h),T.point(S[0],S[1])):(S=m(h,E),T.point(S[0],S[1],2),T.lineEnd()),h=S;else if(n&&h&&o^a){var b;!(C&i)&&(b=m(E,h,!0))&&(A=0,o?(T.lineStart(),T.point(b[0][0],b[0][1]),T.point(b[1][0],b[1][1]),T.lineEnd()):(T.point(b[1][0],b[1][1]),T.lineEnd(),T.lineStart(),T.point(b[0][0],b[0][1],3)))}a&&(!h||!(0,P.c)(h,E))&&T.point(E[0],E[1]),h=E,p=a,i=C},lineEnd:function(){p&&T.lineEnd(),h=null},clean:function(){return A|(w&&p)<<1}}}function m(T,h,i){var p=(0,y.ux)(T),w=(0,y.ux)(h),A=[1,0,0],L=(0,y.CW)(p,w),x=(0,y.Ez)(L,L),E=L[0],S=x-E*E;if(!S)return!i&&T;var a=r*x/S,C=-r*E/S,b=(0,y.CW)(A,L),z=(0,y.wx)(A,a),k=(0,y.wx)(L,C);(0,y.mg)(z,k);var U=b,F=(0,y.Ez)(z,U),V=(0,y.Ez)(U,U),N=F*F-V*((0,y.Ez)(z,z)-1);if(!(N<0)){var O=(0,s._I)(N),H=(0,y.wx)(U,(-F-O)/V);if((0,y.mg)(H,z),H=(0,y.G)(H),!i)return H;var X=T[0],J=h[0],et=T[1],it=h[1],ft;J<X&&(ft=X,X=J,J=ft);var ot=J-X,Q=(0,s.a2)(ot-s.pi)<s.Gg,tt=Q||ot<s.Gg;if(!Q&&it<et&&(ft=et,et=it,it=ft),tt?Q?et+it>0^H[1]<((0,s.a2)(H[0]-X)<s.Gg?et:it):et<=H[1]&&H[1]<=it:ot>s.pi^(X<=H[0]&&H[0]<=J)){var Z=(0,y.wx)(U,(-F+O)/V);return(0,y.mg)(Z,z),[H,(0,y.G)(Z)]}}}function v(T,h){var i=o?g:s.pi-g,p=0;return T<-i?p|=1:T>i&&(p|=2),h<-i?p|=4:h>i&&(p|=8),p}return(0,M.c)(f,c,u,o?[0,-g]:[-s.pi,g-s.pi])}},14229:function(W,G,t){t.d(G,{c:function(){return d}});var y=t(97208),D=t(32232),s=t(64528),P=t(58196),M=t(84706);function d(e,o,n,u){return function(f){var c=o(f),m=(0,y.c)(),v=o(m),T=!1,h,i,p,w={point:A,lineStart:x,lineEnd:E,polygonStart:function(){w.point=S,w.lineStart=a,w.lineEnd=C,i=[],h=[]},polygonEnd:function(){w.point=A,w.lineStart=x,w.lineEnd=E,i=(0,M.Uf)(i);var b=(0,P.c)(h,u);i.length?(T||(f.polygonStart(),T=!0),(0,D.c)(i,r,b,n,f)):b&&(T||(f.polygonStart(),T=!0),f.lineStart(),n(null,null,1,f),f.lineEnd()),T&&(f.polygonEnd(),T=!1),i=h=null},sphere:function(){f.polygonStart(),f.lineStart(),n(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function A(b,z){e(b,z)&&f.point(b,z)}function L(b,z){c.point(b,z)}function x(){w.point=L,c.lineStart()}function E(){w.point=A,c.lineEnd()}function S(b,z){p.push([b,z]),v.point(b,z)}function a(){v.lineStart(),p=[]}function C(){S(p[0][0],p[0][1]),v.lineEnd();var b=v.clean(),z=m.result(),k,U=z.length,F,V,N;if(p.pop(),h.push(p),p=null,!!U){if(b&1){if(V=z[0],(F=V.length-1)>0){for(T||(f.polygonStart(),T=!0),f.lineStart(),k=0;k<F;++k)f.point((N=V[k])[0],N[1]);f.lineEnd()}return}U>1&&b&2&&z.push(z.pop().concat(z.shift())),i.push(z.filter(g))}}return w}}function g(e){return e.length>1}function r(e,o){return((e=e.x)[0]<0?e[1]-s.or-s.Gg:s.or-e[1])-((o=o.x)[0]<0?o[1]-s.or-s.Gg:s.or-o[1])}},21676:function(W,G,t){t.d(G,{c:function(){return r}});var y=t(64528),D=t(97208);function s(e,o,n,u,f,c){var m=e[0],v=e[1],T=o[0],h=o[1],i=0,p=1,w=T-m,A=h-v,L;if(L=n-m,!(!w&&L>0)){if(L/=w,w<0){if(L<i)return;L<p&&(p=L)}else if(w>0){if(L>p)return;L>i&&(i=L)}if(L=f-m,!(!w&&L<0)){if(L/=w,w<0){if(L>p)return;L>i&&(i=L)}else if(w>0){if(L<i)return;L<p&&(p=L)}if(L=u-v,!(!A&&L>0)){if(L/=A,A<0){if(L<i)return;L<p&&(p=L)}else if(A>0){if(L>p)return;L>i&&(i=L)}if(L=c-v,!(!A&&L<0)){if(L/=A,A<0){if(L>p)return;L>i&&(i=L)}else if(A>0){if(L<i)return;L<p&&(p=L)}return i>0&&(e[0]=m+i*w,e[1]=v+i*A),p<1&&(o[0]=m+p*w,o[1]=v+p*A),!0}}}}}var P=t(32232),M=t(84706),d=1e9,g=-d;function r(e,o,n,u){function f(h,i){return e<=h&&h<=n&&o<=i&&i<=u}function c(h,i,p,w){var A=0,L=0;if(h==null||(A=m(h,p))!==(L=m(i,p))||T(h,i)<0^p>0)do w.point(A===0||A===3?e:n,A>1?u:o);while((A=(A+p+4)%4)!==L);else w.point(i[0],i[1])}function m(h,i){return(0,y.a2)(h[0]-e)<y.Gg?i>0?0:3:(0,y.a2)(h[0]-n)<y.Gg?i>0?2:1:(0,y.a2)(h[1]-o)<y.Gg?i>0?1:0:i>0?3:2}function v(h,i){return T(h.x,i.x)}function T(h,i){var p=m(h,1),w=m(i,1);return p!==w?p-w:p===0?i[1]-h[1]:p===1?h[0]-i[0]:p===2?h[1]-i[1]:i[0]-h[0]}return function(h){var i=h,p=(0,D.c)(),w,A,L,x,E,S,a,C,b,z,k,U={point:F,lineStart:H,lineEnd:X,polygonStart:N,polygonEnd:O};function F(et,it){f(et,it)&&i.point(et,it)}function V(){for(var et=0,it=0,ft=A.length;it<ft;++it)for(var ot=A[it],Q=1,tt=ot.length,Z=ot[0],q,ut,$=Z[0],j=Z[1];Q<tt;++Q)q=$,ut=j,Z=ot[Q],$=Z[0],j=Z[1],ut<=u?j>u&&($-q)*(u-ut)>(j-ut)*(e-q)&&++et:j<=u&&($-q)*(u-ut)<(j-ut)*(e-q)&&--et;return et}function N(){i=p,w=[],A=[],k=!0}function O(){var et=V(),it=k&&et,ft=(w=(0,M.Uf)(w)).length;(it||ft)&&(h.polygonStart(),it&&(h.lineStart(),c(null,null,1,h),h.lineEnd()),ft&&(0,P.c)(w,v,et,c,h),h.polygonEnd()),i=h,w=A=L=null}function H(){U.point=J,A&&A.push(L=[]),z=!0,b=!1,a=C=NaN}function X(){w&&(J(x,E),S&&b&&p.rejoin(),w.push(p.result())),U.point=F,b&&i.lineEnd()}function J(et,it){var ft=f(et,it);if(A&&L.push([et,it]),z)x=et,E=it,S=ft,z=!1,ft&&(i.lineStart(),i.point(et,it));else if(ft&&b)i.point(et,it);else{var ot=[a=Math.max(g,Math.min(d,a)),C=Math.max(g,Math.min(d,C))],Q=[et=Math.max(g,Math.min(d,et)),it=Math.max(g,Math.min(d,it))];s(ot,Q,e,o,n,u)?(b||(i.lineStart(),i.point(ot[0],ot[1])),i.point(Q[0],Q[1]),ft||i.lineEnd(),k=!1):ft&&(i.lineStart(),i.point(et,it),k=!1)}a=et,C=it,b=ft}return U}}},32232:function(W,G,t){t.d(G,{c:function(){return P}});var y=t(41860),D=t(64528);function s(d,g,r,e){this.x=d,this.z=g,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function P(d,g,r,e,o){var n=[],u=[],f,c;if(d.forEach(function(p){if(!((w=p.length-1)<=0)){var w,A=p[0],L=p[w],x;if((0,y.c)(A,L)){if(!A[2]&&!L[2]){for(o.lineStart(),f=0;f<w;++f)o.point((A=p[f])[0],A[1]);o.lineEnd();return}L[0]+=2*D.Gg}n.push(x=new s(A,p,null,!0)),u.push(x.o=new s(A,null,x,!1)),n.push(x=new s(L,p,null,!1)),u.push(x.o=new s(L,null,x,!0))}}),!!n.length){for(u.sort(g),M(n),M(u),f=0,c=u.length;f<c;++f)u[f].e=r=!r;for(var m=n[0],v,T;;){for(var h=m,i=!0;h.v;)if((h=h.n)===m)return;v=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(i)for(f=0,c=v.length;f<c;++f)o.point((T=v[f])[0],T[1]);else e(h.x,h.n.x,1,o);h=h.n}else{if(i)for(v=h.p.z,f=v.length-1;f>=0;--f)o.point((T=v[f])[0],T[1]);else e(h.x,h.p.x,-1,o);h=h.p}h=h.o,v=h.z,i=!i}while(!h.v);o.lineEnd()}}}function M(d){if(g=d.length){for(var g,r=0,e=d[0],o;++r<g;)e.n=o=d[r],o.p=e,e=o;e.n=o=d[0],o.p=e}}},68120:function(W,G,t){t.d(G,{c:function(){return y}});function y(D,s){function P(M,d){return M=D(M,d),s(M[0],M[1])}return D.invert&&s.invert&&(P.invert=function(M,d){return M=s.invert(M,d),M&&D.invert(M[0],M[1])}),P}},7376:function(W,G,t){t.d(G,{c:function(){return y}});function y(D){return D}},83356:function(W,G,t){t.r(G),t.d(G,{geoAlbers:function(){return mr},geoAlbersUsa:function(){return ue},geoArea:function(){return y.cp},geoAzimuthalEqualArea:function(){return be.c},geoAzimuthalEqualAreaRaw:function(){return be.y},geoAzimuthalEquidistant:function(){return Ee.c},geoAzimuthalEquidistantRaw:function(){return Ee.O},geoBounds:function(){return D.c},geoCentroid:function(){return s.c},geoCircle:function(){return P.c},geoClipAntimeridian:function(){return M.c},geoClipCircle:function(){return d.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return g.c},geoConicConformal:function(){return cr},geoConicConformalRaw:function(){return hr},geoConicEqualArea:function(){return $e},geoConicEqualAreaRaw:function(){return Xe},geoConicEquidistant:function(){return Lr},geoConicEquidistantRaw:function(){return fr},geoContains:function(){return N},geoDistance:function(){return S},geoEqualEarth:function(){return Ze},geoEqualEarthRaw:function(){return Pe},geoEquirectangular:function(){return dr.c},geoEquirectangularRaw:function(){return dr.u},geoGnomonic:function(){return nr.c},geoGnomonicRaw:function(){return nr.Y},geoGraticule:function(){return J},geoGraticule10:function(){return et},geoIdentity:function(){return We},geoInterpolate:function(){return it.c},geoLength:function(){return L},geoMercator:function(){return Fe},geoMercatorRaw:function(){return Oe},geoNaturalEarth1:function(){return yr.c},geoNaturalEarth1Raw:function(){return yr.g},geoOrthographic:function(){return Rr.c},geoOrthographicRaw:function(){return Rr.t},geoPath:function(){return Le},geoProjection:function(){return Ke.c},geoProjectionMutator:function(){return Ke.U},geoRotation:function(){return _e.c},geoStereographic:function(){return Or},geoStereographicRaw:function(){return vn},geoStream:function(){return f.c},geoTransform:function(){return Qe.c},geoTransverseMercator:function(){return nn},geoTransverseMercatorRaw:function(){return En}});var y=t(95384),D=t(13696),s=t(24052),P=t(61780),M=t(78284),d=t(2728),g=t(21676);function r(){var gr=0,Pr=0,jr=960,_r=500,pn,en,Tn;return Tn={stream:function(Pn){return pn&&en===Pn?pn:pn=(0,g.c)(gr,Pr,jr,_r)(en=Pn)},extent:function(Pn){return arguments.length?(gr=+Pn[0][0],Pr=+Pn[0][1],jr=+Pn[1][0],_r=+Pn[1][1],pn=en=null,Tn):[[gr,Pr],[jr,_r]]}}}var e=t(58196),o=t(88728),n=t(64528),u=t(70932),f=t(16016),c=(0,o.c)(),m,v,T,h={sphere:u.c,point:u.c,lineStart:i,lineEnd:u.c,polygonStart:u.c,polygonEnd:u.c};function i(){h.point=w,h.lineEnd=p}function p(){h.point=h.lineEnd=u.c}function w(gr,Pr){gr*=n.qw,Pr*=n.qw,m=gr,v=(0,n.g$)(Pr),T=(0,n.W8)(Pr),h.point=A}function A(gr,Pr){gr*=n.qw,Pr*=n.qw;var jr=(0,n.g$)(Pr),_r=(0,n.W8)(Pr),pn=(0,n.a2)(gr-m),en=(0,n.W8)(pn),Tn=(0,n.g$)(pn),Pn=_r*Tn,Gn=T*jr-v*_r*en,gi=v*jr+T*_r*en;c.add((0,n.WE)((0,n._I)(Pn*Pn+Gn*Gn),gi)),m=gr,v=jr,T=_r}function L(gr){return c.reset(),(0,f.c)(gr,h),+c}var x=[null,null],E={type:"LineString",coordinates:x};function S(gr,Pr){return x[0]=gr,x[1]=Pr,L(E)}var a={Feature:function(gr,Pr){return b(gr.geometry,Pr)},FeatureCollection:function(gr,Pr){for(var jr=gr.features,_r=-1,pn=jr.length;++_r<pn;)if(b(jr[_r].geometry,Pr))return!0;return!1}},C={Sphere:function(){return!0},Point:function(gr,Pr){return z(gr.coordinates,Pr)},MultiPoint:function(gr,Pr){for(var jr=gr.coordinates,_r=-1,pn=jr.length;++_r<pn;)if(z(jr[_r],Pr))return!0;return!1},LineString:function(gr,Pr){return k(gr.coordinates,Pr)},MultiLineString:function(gr,Pr){for(var jr=gr.coordinates,_r=-1,pn=jr.length;++_r<pn;)if(k(jr[_r],Pr))return!0;return!1},Polygon:function(gr,Pr){return U(gr.coordinates,Pr)},MultiPolygon:function(gr,Pr){for(var jr=gr.coordinates,_r=-1,pn=jr.length;++_r<pn;)if(U(jr[_r],Pr))return!0;return!1},GeometryCollection:function(gr,Pr){for(var jr=gr.geometries,_r=-1,pn=jr.length;++_r<pn;)if(b(jr[_r],Pr))return!0;return!1}};function b(gr,Pr){return gr&&C.hasOwnProperty(gr.type)?C[gr.type](gr,Pr):!1}function z(gr,Pr){return S(gr,Pr)===0}function k(gr,Pr){for(var jr,_r,pn,en=0,Tn=gr.length;en<Tn;en++){if(_r=S(gr[en],Pr),_r===0||en>0&&(pn=S(gr[en],gr[en-1]),pn>0&&jr<=pn&&_r<=pn&&(jr+_r-pn)*(1-Math.pow((jr-_r)/pn,2))<n.a8*pn))return!0;jr=_r}return!1}function U(gr,Pr){return!!(0,e.c)(gr.map(F),V(Pr))}function F(gr){return gr=gr.map(V),gr.pop(),gr}function V(gr){return[gr[0]*n.qw,gr[1]*n.qw]}function N(gr,Pr){return(gr&&a.hasOwnProperty(gr.type)?a[gr.type]:b)(gr,Pr)}var O=t(84706);function H(gr,Pr,jr){var _r=(0,O.ik)(gr,Pr-n.Gg,jr).concat(Pr);return function(pn){return _r.map(function(en){return[pn,en]})}}function X(gr,Pr,jr){var _r=(0,O.ik)(gr,Pr-n.Gg,jr).concat(Pr);return function(pn){return _r.map(function(en){return[en,pn]})}}function J(){var gr,Pr,jr,_r,pn,en,Tn,Pn,Gn=10,gi=Gn,bi=90,oi=360,ni,Dn,Cr,an,on=2.5;function ln(){return{type:"MultiLineString",coordinates:Bn()}}function Bn(){return(0,O.ik)((0,n.Km)(_r/bi)*bi,jr,bi).map(Cr).concat((0,O.ik)((0,n.Km)(Pn/oi)*oi,Tn,oi).map(an)).concat((0,O.ik)((0,n.Km)(Pr/Gn)*Gn,gr,Gn).filter(function(gn){return(0,n.a2)(gn%bi)>n.Gg}).map(ni)).concat((0,O.ik)((0,n.Km)(en/gi)*gi,pn,gi).filter(function(gn){return(0,n.a2)(gn%oi)>n.Gg}).map(Dn))}return ln.lines=function(){return Bn().map(function(gn){return{type:"LineString",coordinates:gn}})},ln.outline=function(){return{type:"Polygon",coordinates:[Cr(_r).concat(an(Tn).slice(1),Cr(jr).reverse().slice(1),an(Pn).reverse().slice(1))]}},ln.extent=function(gn){return arguments.length?ln.extentMajor(gn).extentMinor(gn):ln.extentMinor()},ln.extentMajor=function(gn){return arguments.length?(_r=+gn[0][0],jr=+gn[1][0],Pn=+gn[0][1],Tn=+gn[1][1],_r>jr&&(gn=_r,_r=jr,jr=gn),Pn>Tn&&(gn=Pn,Pn=Tn,Tn=gn),ln.precision(on)):[[_r,Pn],[jr,Tn]]},ln.extentMinor=function(gn){return arguments.length?(Pr=+gn[0][0],gr=+gn[1][0],en=+gn[0][1],pn=+gn[1][1],Pr>gr&&(gn=Pr,Pr=gr,gr=gn),en>pn&&(gn=en,en=pn,pn=gn),ln.precision(on)):[[Pr,en],[gr,pn]]},ln.step=function(gn){return arguments.length?ln.stepMajor(gn).stepMinor(gn):ln.stepMinor()},ln.stepMajor=function(gn){return arguments.length?(bi=+gn[0],oi=+gn[1],ln):[bi,oi]},ln.stepMinor=function(gn){return arguments.length?(Gn=+gn[0],gi=+gn[1],ln):[Gn,gi]},ln.precision=function(gn){return arguments.length?(on=+gn,ni=H(en,pn,90),Dn=X(Pr,gr,on),Cr=H(Pn,Tn,90),an=X(_r,jr,on),ln):on},ln.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function et(){return J()()}var it=t(27284),ft=t(7376),ot=(0,o.c)(),Q=(0,o.c)(),tt,Z,q,ut,$={point:u.c,lineStart:u.c,lineEnd:u.c,polygonStart:function(){$.lineStart=j,$.lineEnd=ht},polygonEnd:function(){$.lineStart=$.lineEnd=$.point=u.c,ot.add((0,n.a2)(Q)),Q.reset()},result:function(){var gr=ot/2;return ot.reset(),gr}};function j(){$.point=lt}function lt(gr,Pr){$.point=nt,tt=q=gr,Z=ut=Pr}function nt(gr,Pr){Q.add(ut*gr-q*Pr),q=gr,ut=Pr}function ht(){nt(tt,Z)}var mt=$,At=t(73784),bt=0,Pt=0,_t=0,Ut=0,St=0,Rt=0,Et=0,zt=0,Ct=0,Wt,Kt,oe,Jt,te={point:fe,lineStart:ve,lineEnd:Me,polygonStart:function(){te.lineStart=ne,te.lineEnd=kt},polygonEnd:function(){te.point=fe,te.lineStart=ve,te.lineEnd=Me},result:function(){var gr=Ct?[Et/Ct,zt/Ct]:Rt?[Ut/Rt,St/Rt]:_t?[bt/_t,Pt/_t]:[NaN,NaN];return bt=Pt=_t=Ut=St=Rt=Et=zt=Ct=0,gr}};function fe(gr,Pr){bt+=gr,Pt+=Pr,++_t}function ve(){te.point=de}function de(gr,Pr){te.point=xe,fe(oe=gr,Jt=Pr)}function xe(gr,Pr){var jr=gr-oe,_r=Pr-Jt,pn=(0,n._I)(jr*jr+_r*_r);Ut+=pn*(oe+gr)/2,St+=pn*(Jt+Pr)/2,Rt+=pn,fe(oe=gr,Jt=Pr)}function Me(){te.point=fe}function ne(){te.point=Gt}function kt(){Yt(Wt,Kt)}function Gt(gr,Pr){te.point=Yt,fe(Wt=oe=gr,Kt=Jt=Pr)}function Yt(gr,Pr){var jr=gr-oe,_r=Pr-Jt,pn=(0,n._I)(jr*jr+_r*_r);Ut+=pn*(oe+gr)/2,St+=pn*(Jt+Pr)/2,Rt+=pn,pn=Jt*gr-oe*Pr,Et+=pn*(oe+gr),zt+=pn*(Jt+Pr),Ct+=pn*3,fe(oe=gr,Jt=Pr)}var Zt=te;function It(gr){this._context=gr}It.prototype={_radius:4.5,pointRadius:function(gr){return this._radius=gr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(gr,Pr){switch(this._point){case 0:{this._context.moveTo(gr,Pr),this._point=1;break}case 1:{this._context.lineTo(gr,Pr);break}default:{this._context.moveTo(gr+this._radius,Pr),this._context.arc(gr,Pr,this._radius,0,n.kD);break}}},result:u.c};var Nt=(0,o.c)(),Ht,Lt,dt,xt,Ot,jt={point:u.c,lineStart:function(){jt.point=ie},lineEnd:function(){Ht&&le(Lt,dt),jt.point=u.c},polygonStart:function(){Ht=!0},polygonEnd:function(){Ht=null},result:function(){var gr=+Nt;return Nt.reset(),gr}};function ie(gr,Pr){jt.point=le,Lt=xt=gr,dt=Ot=Pr}function le(gr,Pr){xt-=gr,Ot-=Pr,Nt.add((0,n._I)(xt*xt+Ot*Ot)),xt=gr,Ot=Pr}var Ve=jt;function je(){this._string=[]}je.prototype={_radius:4.5,_circle:Te(4.5),pointRadius:function(gr){return(gr=+gr)!==this._radius&&(this._radius=gr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(gr,Pr){switch(this._point){case 0:{this._string.push("M",gr,",",Pr),this._point=1;break}case 1:{this._string.push("L",gr,",",Pr);break}default:{this._circle==null&&(this._circle=Te(this._radius)),this._string.push("M",gr,",",Pr,this._circle);break}}},result:function(){if(this._string.length){var gr=this._string.join("");return this._string=[],gr}else return null}};function Te(gr){return"m0,"+gr+"a"+gr+","+gr+" 0 1,1 0,"+-2*gr+"a"+gr+","+gr+" 0 1,1 0,"+2*gr+"z"}function Le(gr,Pr){var jr=4.5,_r,pn;function en(Tn){return Tn&&(typeof jr=="function"&&pn.pointRadius(+jr.apply(this,arguments)),(0,f.c)(Tn,_r(pn))),pn.result()}return en.area=function(Tn){return(0,f.c)(Tn,_r(mt)),mt.result()},en.measure=function(Tn){return(0,f.c)(Tn,_r(Ve)),Ve.result()},en.bounds=function(Tn){return(0,f.c)(Tn,_r(At.c)),At.c.result()},en.centroid=function(Tn){return(0,f.c)(Tn,_r(Zt)),Zt.result()},en.projection=function(Tn){return arguments.length?(_r=Tn==null?(gr=null,ft.c):(gr=Tn).stream,en):gr},en.context=function(Tn){return arguments.length?(pn=Tn==null?(Pr=null,new je):new It(Pr=Tn),typeof jr!="function"&&pn.pointRadius(jr),en):Pr},en.pointRadius=function(Tn){return arguments.length?(jr=typeof Tn=="function"?Tn:(pn.pointRadius(+Tn),+Tn),en):jr},en.projection(gr).context(Pr)}var Ke=t(87952);function vr(gr){var Pr=0,jr=n.pi/3,_r=(0,Ke.U)(gr),pn=_r(Pr,jr);return pn.parallels=function(en){return arguments.length?_r(Pr=en[0]*n.qw,jr=en[1]*n.qw):[Pr*n.oh,jr*n.oh]},pn}function ge(gr){var Pr=(0,n.W8)(gr);function jr(_r,pn){return[_r*Pr,(0,n.g$)(pn)/Pr]}return jr.invert=function(_r,pn){return[_r/Pr,(0,n.qR)(pn*Pr)]},jr}function Xe(gr,Pr){var jr=(0,n.g$)(gr),_r=(jr+(0,n.g$)(Pr))/2;if((0,n.a2)(_r)<n.Gg)return ge(gr);var pn=1+jr*(2*_r-jr),en=(0,n._I)(pn)/_r;function Tn(Pn,Gn){var gi=(0,n._I)(pn-2*_r*(0,n.g$)(Gn))/_r;return[gi*(0,n.g$)(Pn*=_r),en-gi*(0,n.W8)(Pn)]}return Tn.invert=function(Pn,Gn){var gi=en-Gn,bi=(0,n.WE)(Pn,(0,n.a2)(gi))*(0,n.kq)(gi);return gi*_r<0&&(bi-=n.pi*(0,n.kq)(Pn)*(0,n.kq)(gi)),[bi/_r,(0,n.qR)((pn-(Pn*Pn+gi*gi)*_r*_r)/(2*_r))]},Tn}function $e(){return vr(Xe).scale(155.424).center([0,33.6442])}function mr(){return $e().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var or=t(86420);function ye(gr){var Pr=gr.length;return{point:function(jr,_r){for(var pn=-1;++pn<Pr;)gr[pn].point(jr,_r)},sphere:function(){for(var jr=-1;++jr<Pr;)gr[jr].sphere()},lineStart:function(){for(var jr=-1;++jr<Pr;)gr[jr].lineStart()},lineEnd:function(){for(var jr=-1;++jr<Pr;)gr[jr].lineEnd()},polygonStart:function(){for(var jr=-1;++jr<Pr;)gr[jr].polygonStart()},polygonEnd:function(){for(var jr=-1;++jr<Pr;)gr[jr].polygonEnd()}}}function ue(){var gr,Pr,jr=mr(),_r,pn=$e().rotate([154,0]).center([-2,58.5]).parallels([55,65]),en,Tn=$e().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Pn,Gn,gi={point:function(ni,Dn){Gn=[ni,Dn]}};function bi(ni){var Dn=ni[0],Cr=ni[1];return Gn=null,_r.point(Dn,Cr),Gn||(en.point(Dn,Cr),Gn)||(Pn.point(Dn,Cr),Gn)}bi.invert=function(ni){var Dn=jr.scale(),Cr=jr.translate(),an=(ni[0]-Cr[0])/Dn,on=(ni[1]-Cr[1])/Dn;return(on>=.12&&on<.234&&an>=-.425&&an<-.214?pn:on>=.166&&on<.234&&an>=-.214&&an<-.115?Tn:jr).invert(ni)},bi.stream=function(ni){return gr&&Pr===ni?gr:gr=ye([jr.stream(Pr=ni),pn.stream(ni),Tn.stream(ni)])},bi.precision=function(ni){return arguments.length?(jr.precision(ni),pn.precision(ni),Tn.precision(ni),oi()):jr.precision()},bi.scale=function(ni){return arguments.length?(jr.scale(ni),pn.scale(ni*.35),Tn.scale(ni),bi.translate(jr.translate())):jr.scale()},bi.translate=function(ni){if(!arguments.length)return jr.translate();var Dn=jr.scale(),Cr=+ni[0],an=+ni[1];return _r=jr.translate(ni).clipExtent([[Cr-.455*Dn,an-.238*Dn],[Cr+.455*Dn,an+.238*Dn]]).stream(gi),en=pn.translate([Cr-.307*Dn,an+.201*Dn]).clipExtent([[Cr-.425*Dn+n.Gg,an+.12*Dn+n.Gg],[Cr-.214*Dn-n.Gg,an+.234*Dn-n.Gg]]).stream(gi),Pn=Tn.translate([Cr-.205*Dn,an+.212*Dn]).clipExtent([[Cr-.214*Dn+n.Gg,an+.166*Dn+n.Gg],[Cr-.115*Dn-n.Gg,an+.234*Dn-n.Gg]]).stream(gi),oi()},bi.fitExtent=function(ni,Dn){return(0,or.QX)(bi,ni,Dn)},bi.fitSize=function(ni,Dn){return(0,or.UV)(bi,ni,Dn)},bi.fitWidth=function(ni,Dn){return(0,or.Qx)(bi,ni,Dn)},bi.fitHeight=function(ni,Dn){return(0,or.OW)(bi,ni,Dn)};function oi(){return gr=Pr=null,bi}return bi.scale(1070)}var be=t(54724),Ee=t(69020),_e=t(92992);function Oe(gr,Pr){return[gr,(0,n.Yz)((0,n.a6)((n.or+Pr)/2))]}Oe.invert=function(gr,Pr){return[gr,2*(0,n.MQ)((0,n.oN)(Pr))-n.or]};function Fe(){return Be(Oe).scale(961/n.kD)}function Be(gr){var Pr=(0,Ke.c)(gr),jr=Pr.center,_r=Pr.scale,pn=Pr.translate,en=Pr.clipExtent,Tn=null,Pn,Gn,gi;Pr.scale=function(oi){return arguments.length?(_r(oi),bi()):_r()},Pr.translate=function(oi){return arguments.length?(pn(oi),bi()):pn()},Pr.center=function(oi){return arguments.length?(jr(oi),bi()):jr()},Pr.clipExtent=function(oi){return arguments.length?(oi==null?Tn=Pn=Gn=gi=null:(Tn=+oi[0][0],Pn=+oi[0][1],Gn=+oi[1][0],gi=+oi[1][1]),bi()):Tn==null?null:[[Tn,Pn],[Gn,gi]]};function bi(){var oi=n.pi*_r(),ni=Pr((0,_e.c)(Pr.rotate()).invert([0,0]));return en(Tn==null?[[ni[0]-oi,ni[1]-oi],[ni[0]+oi,ni[1]+oi]]:gr===Oe?[[Math.max(ni[0]-oi,Tn),Pn],[Math.min(ni[0]+oi,Gn),gi]]:[[Tn,Math.max(ni[1]-oi,Pn)],[Gn,Math.min(ni[1]+oi,gi)]])}return bi()}function Je(gr){return(0,n.a6)((n.or+gr)/2)}function hr(gr,Pr){var jr=(0,n.W8)(gr),_r=gr===Pr?(0,n.g$)(gr):(0,n.Yz)(jr/(0,n.W8)(Pr))/(0,n.Yz)(Je(Pr)/Je(gr)),pn=jr*(0,n.g3)(Je(gr),_r)/_r;if(!_r)return Oe;function en(Tn,Pn){pn>0?Pn<-n.or+n.Gg&&(Pn=-n.or+n.Gg):Pn>n.or-n.Gg&&(Pn=n.or-n.Gg);var Gn=pn/(0,n.g3)(Je(Pn),_r);return[Gn*(0,n.g$)(_r*Tn),pn-Gn*(0,n.W8)(_r*Tn)]}return en.invert=function(Tn,Pn){var Gn=pn-Pn,gi=(0,n.kq)(_r)*(0,n._I)(Tn*Tn+Gn*Gn),bi=(0,n.WE)(Tn,(0,n.a2)(Gn))*(0,n.kq)(Gn);return Gn*_r<0&&(bi-=n.pi*(0,n.kq)(Tn)*(0,n.kq)(Gn)),[bi/_r,2*(0,n.MQ)((0,n.g3)(pn/gi,1/_r))-n.or]},en}function cr(){return vr(hr).scale(109.5).parallels([30,30])}var dr=t(69604);function fr(gr,Pr){var jr=(0,n.W8)(gr),_r=gr===Pr?(0,n.g$)(gr):(jr-(0,n.W8)(Pr))/(Pr-gr),pn=jr/_r+gr;if((0,n.a2)(_r)<n.Gg)return dr.u;function en(Tn,Pn){var Gn=pn-Pn,gi=_r*Tn;return[Gn*(0,n.g$)(gi),pn-Gn*(0,n.W8)(gi)]}return en.invert=function(Tn,Pn){var Gn=pn-Pn,gi=(0,n.WE)(Tn,(0,n.a2)(Gn))*(0,n.kq)(Gn);return Gn*_r<0&&(gi-=n.pi*(0,n.kq)(Tn)*(0,n.kq)(Gn)),[gi/_r,pn-(0,n.kq)(_r)*(0,n._I)(Tn*Tn+Gn*Gn)]},en}function Lr(){return vr(fr).scale(131.154).center([0,13.9389])}var xr=1.340264,Qt=-.081106,re=893e-6,tr=.003796,er=(0,n._I)(3)/2,Ye=12;function Pe(gr,Pr){var jr=(0,n.qR)(er*(0,n.g$)(Pr)),_r=jr*jr,pn=_r*_r*_r;return[gr*(0,n.W8)(jr)/(er*(xr+3*Qt*_r+pn*(7*re+9*tr*_r))),jr*(xr+Qt*_r+pn*(re+tr*_r))]}Pe.invert=function(gr,Pr){for(var jr=Pr,_r=jr*jr,pn=_r*_r*_r,en=0,Tn,Pn,Gn;en<Ye&&(Pn=jr*(xr+Qt*_r+pn*(re+tr*_r))-Pr,Gn=xr+3*Qt*_r+pn*(7*re+9*tr*_r),jr-=Tn=Pn/Gn,_r=jr*jr,pn=_r*_r*_r,!((0,n.a2)(Tn)<n.a8));++en);return[er*gr*(xr+3*Qt*_r+pn*(7*re+9*tr*_r))/(0,n.W8)(jr),(0,n.qR)((0,n.g$)(jr)/er)]};function Ze(){return(0,Ke.c)(Pe).scale(177.158)}var nr=t(53285),Qe=t(15196);function We(){var gr=1,Pr=0,jr=0,_r=1,pn=1,en=0,Tn,Pn,Gn=null,gi,bi,oi,ni=1,Dn=1,Cr=(0,Qe.s)({point:function(Cn,Nn){var $n=gn([Cn,Nn]);this.stream.point($n[0],$n[1])}}),an=ft.c,on,ln;function Bn(){return ni=gr*_r,Dn=gr*pn,on=ln=null,gn}function gn(Cn){var Nn=Cn[0]*ni,$n=Cn[1]*Dn;if(en){var vi=$n*Tn-Nn*Pn;Nn=Nn*Tn+$n*Pn,$n=vi}return[Nn+Pr,$n+jr]}return gn.invert=function(Cn){var Nn=Cn[0]-Pr,$n=Cn[1]-jr;if(en){var vi=$n*Tn+Nn*Pn;Nn=Nn*Tn-$n*Pn,$n=vi}return[Nn/ni,$n/Dn]},gn.stream=function(Cn){return on&&ln===Cn?on:on=Cr(an(ln=Cn))},gn.postclip=function(Cn){return arguments.length?(an=Cn,Gn=gi=bi=oi=null,Bn()):an},gn.clipExtent=function(Cn){return arguments.length?(an=Cn==null?(Gn=gi=bi=oi=null,ft.c):(0,g.c)(Gn=+Cn[0][0],gi=+Cn[0][1],bi=+Cn[1][0],oi=+Cn[1][1]),Bn()):Gn==null?null:[[Gn,gi],[bi,oi]]},gn.scale=function(Cn){return arguments.length?(gr=+Cn,Bn()):gr},gn.translate=function(Cn){return arguments.length?(Pr=+Cn[0],jr=+Cn[1],Bn()):[Pr,jr]},gn.angle=function(Cn){return arguments.length?(en=Cn%360*n.qw,Pn=(0,n.g$)(en),Tn=(0,n.W8)(en),Bn()):en*n.oh},gn.reflectX=function(Cn){return arguments.length?(_r=Cn?-1:1,Bn()):_r<0},gn.reflectY=function(Cn){return arguments.length?(pn=Cn?-1:1,Bn()):pn<0},gn.fitExtent=function(Cn,Nn){return(0,or.QX)(gn,Cn,Nn)},gn.fitSize=function(Cn,Nn){return(0,or.UV)(gn,Cn,Nn)},gn.fitWidth=function(Cn,Nn){return(0,or.Qx)(gn,Cn,Nn)},gn.fitHeight=function(Cn,Nn){return(0,or.OW)(gn,Cn,Nn)},gn}var yr=t(47984),Rr=t(4888),Tr=t(62280);function vn(gr,Pr){var jr=(0,n.W8)(Pr),_r=1+(0,n.W8)(gr)*jr;return[jr*(0,n.g$)(gr)/_r,(0,n.g$)(Pr)/_r]}vn.invert=(0,Tr.g)(function(gr){return 2*(0,n.MQ)(gr)});function Or(){return(0,Ke.c)(vn).scale(250).clipAngle(142)}function En(gr,Pr){return[(0,n.Yz)((0,n.a6)((n.or+Pr)/2)),-gr]}En.invert=function(gr,Pr){return[-Pr,2*(0,n.MQ)((0,n.oN)(gr))-n.or]};function nn(){var gr=Be(En),Pr=gr.center,jr=gr.rotate;return gr.center=function(_r){return arguments.length?Pr([-_r[1],_r[0]]):(_r=Pr(),[_r[1],-_r[0]])},gr.rotate=function(_r){return arguments.length?jr([_r[0],_r[1],_r.length>2?_r[2]+90:90]):(_r=jr(),[_r[0],_r[1],_r[2]-90])},jr([0,0,90]).scale(159.155)}},27284:function(W,G,t){t.d(G,{c:function(){return D}});var y=t(64528);function D(s,P){var M=s[0]*y.qw,d=s[1]*y.qw,g=P[0]*y.qw,r=P[1]*y.qw,e=(0,y.W8)(d),o=(0,y.g$)(d),n=(0,y.W8)(r),u=(0,y.g$)(r),f=e*(0,y.W8)(M),c=e*(0,y.g$)(M),m=n*(0,y.W8)(g),v=n*(0,y.g$)(g),T=2*(0,y.qR)((0,y._I)((0,y.SD)(r-d)+e*n*(0,y.SD)(g-M))),h=(0,y.g$)(T),i=T?function(p){var w=(0,y.g$)(p*=T)/h,A=(0,y.g$)(T-p)/h,L=A*f+w*m,x=A*c+w*v,E=A*o+w*u;return[(0,y.WE)(x,L)*y.oh,(0,y.WE)(E,(0,y._I)(L*L+x*x))*y.oh]}:function(){return[M*y.oh,d*y.oh]};return i.distance=T,i}},64528:function(W,G,t){t.d(G,{Gg:function(){return y},Km:function(){return f},MQ:function(){return o},SD:function(){return L},W8:function(){return u},WE:function(){return n},Yz:function(){return m},_I:function(){return i},a2:function(){return e},a6:function(){return p},a8:function(){return D},g$:function(){return T},g3:function(){return v},kD:function(){return d},kq:function(){return h},mE:function(){return w},oN:function(){return c},oh:function(){return g},or:function(){return P},pi:function(){return s},qR:function(){return A},qw:function(){return r},wL:function(){return M}});var y=1e-6,D=1e-12,s=Math.PI,P=s/2,M=s/4,d=s*2,g=180/s,r=s/180,e=Math.abs,o=Math.atan,n=Math.atan2,u=Math.cos,f=Math.ceil,c=Math.exp,m=Math.log,v=Math.pow,T=Math.sin,h=Math.sign||function(x){return x>0?1:x<0?-1:0},i=Math.sqrt,p=Math.tan;function w(x){return x>1?0:x<-1?s:Math.acos(x)}function A(x){return x>1?P:x<-1?-P:Math.asin(x)}function L(x){return(x=T(x/2))*x}},70932:function(W,G,t){t.d(G,{c:function(){return y}});function y(){}},73784:function(W,G,t){var y=t(70932),D=1/0,s=D,P=-D,M=P,d={point:g,lineStart:y.c,lineEnd:y.c,polygonStart:y.c,polygonEnd:y.c,result:function(){var r=[[D,s],[P,M]];return P=M=-(s=D=1/0),r}};function g(r,e){r<D&&(D=r),r>P&&(P=r),e<s&&(s=e),e>M&&(M=e)}G.c=d},41860:function(W,G,t){t.d(G,{c:function(){return D}});var y=t(64528);function D(s,P){return(0,y.a2)(s[0]-P[0])<y.Gg&&(0,y.a2)(s[1]-P[1])<y.Gg}},58196:function(W,G,t){t.d(G,{c:function(){return d}});var y=t(88728),D=t(84220),s=t(64528),P=(0,y.c)();function M(g){return(0,s.a2)(g[0])<=s.pi?g[0]:(0,s.kq)(g[0])*(((0,s.a2)(g[0])+s.pi)%s.kD-s.pi)}function d(g,r){var e=M(r),o=r[1],n=(0,s.g$)(o),u=[(0,s.g$)(e),-(0,s.W8)(e),0],f=0,c=0;P.reset(),n===1?o=s.or+s.Gg:n===-1&&(o=-s.or-s.Gg);for(var m=0,v=g.length;m<v;++m)if(h=(T=g[m]).length)for(var T,h,i=T[h-1],p=M(i),w=i[1]/2+s.wL,A=(0,s.g$)(w),L=(0,s.W8)(w),x=0;x<h;++x,p=S,A=C,L=b,i=E){var E=T[x],S=M(E),a=E[1]/2+s.wL,C=(0,s.g$)(a),b=(0,s.W8)(a),z=S-p,k=z>=0?1:-1,U=k*z,F=U>s.pi,V=A*C;if(P.add((0,s.WE)(V*k*(0,s.g$)(U),L*b+V*(0,s.W8)(U))),f+=F?z+k*s.kD:z,F^p>=e^S>=e){var N=(0,D.CW)((0,D.ux)(i),(0,D.ux)(E));(0,D.cJ)(N);var O=(0,D.CW)(u,N);(0,D.cJ)(O);var H=(F^z>=0?-1:1)*(0,s.qR)(O[2]);(o>H||o===H&&(N[0]||N[1]))&&(c+=F^z>=0?1:-1)}}return(f<-s.Gg||f<s.Gg&&P<-s.Gg)^c&1}},62280:function(W,G,t){t.d(G,{a:function(){return D},g:function(){return s}});var y=t(64528);function D(P){return function(M,d){var g=(0,y.W8)(M),r=(0,y.W8)(d),e=P(g*r);return[e*r*(0,y.g$)(M),e*(0,y.g$)(d)]}}function s(P){return function(M,d){var g=(0,y._I)(M*M+d*d),r=P(g),e=(0,y.g$)(r),o=(0,y.W8)(r);return[(0,y.WE)(M*e,g*o),(0,y.qR)(g&&d*e/g)]}}},54724:function(W,G,t){t.d(G,{c:function(){return M},y:function(){return P}});var y=t(64528),D=t(62280),s=t(87952),P=(0,D.a)(function(d){return(0,y._I)(2/(1+d))});P.invert=(0,D.g)(function(d){return 2*(0,y.qR)(d/2)});function M(){return(0,s.c)(P).scale(124.75).clipAngle(179.999)}},69020:function(W,G,t){t.d(G,{O:function(){return P},c:function(){return M}});var y=t(64528),D=t(62280),s=t(87952),P=(0,D.a)(function(d){return(d=(0,y.mE)(d))&&d/(0,y.g$)(d)});P.invert=(0,D.g)(function(d){return d});function M(){return(0,s.c)(P).scale(79.4188).clipAngle(179.999)}},69604:function(W,G,t){t.d(G,{c:function(){return s},u:function(){return D}});var y=t(87952);function D(P,M){return[P,M]}D.invert=D;function s(){return(0,y.c)(D).scale(152.63)}},86420:function(W,G,t){t.d(G,{OW:function(){return g},QX:function(){return P},Qx:function(){return d},UV:function(){return M}});var y=t(16016),D=t(73784);function s(r,e,o){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,y.c)(o,r.stream(D.c)),e(D.c.result()),n!=null&&r.clipExtent(n),r}function P(r,e,o){return s(r,function(n){var u=e[1][0]-e[0][0],f=e[1][1]-e[0][1],c=Math.min(u/(n[1][0]-n[0][0]),f/(n[1][1]-n[0][1])),m=+e[0][0]+(u-c*(n[1][0]+n[0][0]))/2,v=+e[0][1]+(f-c*(n[1][1]+n[0][1]))/2;r.scale(150*c).translate([m,v])},o)}function M(r,e,o){return P(r,[[0,0],e],o)}function d(r,e,o){return s(r,function(n){var u=+e,f=u/(n[1][0]-n[0][0]),c=(u-f*(n[1][0]+n[0][0]))/2,m=-f*n[0][1];r.scale(150*f).translate([c,m])},o)}function g(r,e,o){return s(r,function(n){var u=+e,f=u/(n[1][1]-n[0][1]),c=-f*n[0][0],m=(u-f*(n[1][1]+n[0][1]))/2;r.scale(150*f).translate([c,m])},o)}},53285:function(W,G,t){t.d(G,{Y:function(){return P},c:function(){return M}});var y=t(64528),D=t(62280),s=t(87952);function P(d,g){var r=(0,y.W8)(g),e=(0,y.W8)(d)*r;return[r*(0,y.g$)(d)/e,(0,y.g$)(g)/e]}P.invert=(0,D.g)(y.MQ);function M(){return(0,s.c)(P).scale(144.049).clipAngle(60)}},87952:function(W,G,t){t.d(G,{c:function(){return p},U:function(){return w}});var y=t(78284),D=t(2728),s=t(21676),P=t(68120),M=t(7376),d=t(64528),g=t(92992),r=t(15196),e=t(86420),o=t(84220),n=16,u=(0,d.W8)(30*d.qw);function f(A,L){return+L?m(A,L):c(A)}function c(A){return(0,r.s)({point:function(L,x){L=A(L,x),this.stream.point(L[0],L[1])}})}function m(A,L){function x(E,S,a,C,b,z,k,U,F,V,N,O,H,X){var J=k-E,et=U-S,it=J*J+et*et;if(it>4*L&&H--){var ft=C+V,ot=b+N,Q=z+O,tt=(0,d._I)(ft*ft+ot*ot+Q*Q),Z=(0,d.qR)(Q/=tt),q=(0,d.a2)((0,d.a2)(Q)-1)<d.Gg||(0,d.a2)(a-F)<d.Gg?(a+F)/2:(0,d.WE)(ot,ft),ut=A(q,Z),$=ut[0],j=ut[1],lt=$-E,nt=j-S,ht=et*lt-J*nt;(ht*ht/it>L||(0,d.a2)((J*lt+et*nt)/it-.5)>.3||C*V+b*N+z*O<u)&&(x(E,S,a,C,b,z,$,j,q,ft/=tt,ot/=tt,Q,H,X),X.point($,j),x($,j,q,ft,ot,Q,k,U,F,V,N,O,H,X))}}return function(E){var S,a,C,b,z,k,U,F,V,N,O,H,X={point:J,lineStart:et,lineEnd:ft,polygonStart:function(){E.polygonStart(),X.lineStart=ot},polygonEnd:function(){E.polygonEnd(),X.lineStart=et}};function J(Z,q){Z=A(Z,q),E.point(Z[0],Z[1])}function et(){F=NaN,X.point=it,E.lineStart()}function it(Z,q){var ut=(0,o.ux)([Z,q]),$=A(Z,q);x(F,V,U,N,O,H,F=$[0],V=$[1],U=Z,N=ut[0],O=ut[1],H=ut[2],n,E),E.point(F,V)}function ft(){X.point=J,E.lineEnd()}function ot(){et(),X.point=Q,X.lineEnd=tt}function Q(Z,q){it(S=Z,q),a=F,C=V,b=N,z=O,k=H,X.point=it}function tt(){x(F,V,U,N,O,H,a,C,S,b,z,k,n,E),X.lineEnd=ft,ft()}return X}}var v=(0,r.s)({point:function(A,L){this.stream.point(A*d.qw,L*d.qw)}});function T(A){return(0,r.s)({point:function(L,x){var E=A(L,x);return this.stream.point(E[0],E[1])}})}function h(A,L,x,E,S){function a(C,b){return C*=E,b*=S,[L+A*C,x-A*b]}return a.invert=function(C,b){return[(C-L)/A*E,(x-b)/A*S]},a}function i(A,L,x,E,S,a){var C=(0,d.W8)(a),b=(0,d.g$)(a),z=C*A,k=b*A,U=C/A,F=b/A,V=(b*x-C*L)/A,N=(b*L+C*x)/A;function O(H,X){return H*=E,X*=S,[z*H-k*X+L,x-k*H-z*X]}return O.invert=function(H,X){return[E*(U*H-F*X+V),S*(N-F*H-U*X)]},O}function p(A){return w(function(){return A})()}function w(A){var L,x=150,E=480,S=250,a=0,C=0,b=0,z=0,k=0,U,F=0,V=1,N=1,O=null,H=y.c,X=null,J,et,it,ft=M.c,ot=.5,Q,tt,Z,q,ut;function $(ht){return Z(ht[0]*d.qw,ht[1]*d.qw)}function j(ht){return ht=Z.invert(ht[0],ht[1]),ht&&[ht[0]*d.oh,ht[1]*d.oh]}$.stream=function(ht){return q&&ut===ht?q:q=v(T(U)(H(Q(ft(ut=ht)))))},$.preclip=function(ht){return arguments.length?(H=ht,O=void 0,nt()):H},$.postclip=function(ht){return arguments.length?(ft=ht,X=J=et=it=null,nt()):ft},$.clipAngle=function(ht){return arguments.length?(H=+ht?(0,D.c)(O=ht*d.qw):(O=null,y.c),nt()):O*d.oh},$.clipExtent=function(ht){return arguments.length?(ft=ht==null?(X=J=et=it=null,M.c):(0,s.c)(X=+ht[0][0],J=+ht[0][1],et=+ht[1][0],it=+ht[1][1]),nt()):X==null?null:[[X,J],[et,it]]},$.scale=function(ht){return arguments.length?(x=+ht,lt()):x},$.translate=function(ht){return arguments.length?(E=+ht[0],S=+ht[1],lt()):[E,S]},$.center=function(ht){return arguments.length?(a=ht[0]%360*d.qw,C=ht[1]%360*d.qw,lt()):[a*d.oh,C*d.oh]},$.rotate=function(ht){return arguments.length?(b=ht[0]%360*d.qw,z=ht[1]%360*d.qw,k=ht.length>2?ht[2]%360*d.qw:0,lt()):[b*d.oh,z*d.oh,k*d.oh]},$.angle=function(ht){return arguments.length?(F=ht%360*d.qw,lt()):F*d.oh},$.reflectX=function(ht){return arguments.length?(V=ht?-1:1,lt()):V<0},$.reflectY=function(ht){return arguments.length?(N=ht?-1:1,lt()):N<0},$.precision=function(ht){return arguments.length?(Q=f(tt,ot=ht*ht),nt()):(0,d._I)(ot)},$.fitExtent=function(ht,mt){return(0,e.QX)($,ht,mt)},$.fitSize=function(ht,mt){return(0,e.UV)($,ht,mt)},$.fitWidth=function(ht,mt){return(0,e.Qx)($,ht,mt)},$.fitHeight=function(ht,mt){return(0,e.OW)($,ht,mt)};function lt(){var ht=i(x,0,0,V,N,F).apply(null,L(a,C)),mt=(F?i:h)(x,E-ht[0],S-ht[1],V,N,F);return U=(0,g.O)(b,z,k),tt=(0,P.c)(L,mt),Z=(0,P.c)(U,tt),Q=f(tt,ot),nt()}function nt(){return q=ut=null,$}return function(){return L=A.apply(this,arguments),$.invert=L.invert&&j,lt()}}},47984:function(W,G,t){t.d(G,{c:function(){return P},g:function(){return s}});var y=t(87952),D=t(64528);function s(M,d){var g=d*d,r=g*g;return[M*(.8707-.131979*g+r*(-.013791+r*(.003971*g-.001529*r))),d*(1.007226+g*(.015085+r*(-.044475+.028874*g-.005916*r)))]}s.invert=function(M,d){var g=d,r=25,e;do{var o=g*g,n=o*o;g-=e=(g*(1.007226+o*(.015085+n*(-.044475+.028874*o-.005916*n)))-d)/(1.007226+o*(.045255+n*(-.311325+.259866*o-.06507600000000001*n)))}while((0,D.a2)(e)>D.Gg&&--r>0);return[M/(.8707+(o=g*g)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),g]};function P(){return(0,y.c)(s).scale(175.295)}},4888:function(W,G,t){t.d(G,{c:function(){return M},t:function(){return P}});var y=t(64528),D=t(62280),s=t(87952);function P(d,g){return[(0,y.W8)(g)*(0,y.g$)(d),(0,y.g$)(g)]}P.invert=(0,D.g)(y.qR);function M(){return(0,s.c)(P).scale(249.5).clipAngle(90+y.Gg)}},92992:function(W,G,t){t.d(G,{O:function(){return P},c:function(){return r}});var y=t(68120),D=t(64528);function s(e,o){return[(0,D.a2)(e)>D.pi?e+Math.round(-e/D.kD)*D.kD:e,o]}s.invert=s;function P(e,o,n){return(e%=D.kD)?o||n?(0,y.c)(d(e),g(o,n)):d(e):o||n?g(o,n):s}function M(e){return function(o,n){return o+=e,[o>D.pi?o-D.kD:o<-D.pi?o+D.kD:o,n]}}function d(e){var o=M(e);return o.invert=M(-e),o}function g(e,o){var n=(0,D.W8)(e),u=(0,D.g$)(e),f=(0,D.W8)(o),c=(0,D.g$)(o);function m(v,T){var h=(0,D.W8)(T),i=(0,D.W8)(v)*h,p=(0,D.g$)(v)*h,w=(0,D.g$)(T),A=w*n+i*u;return[(0,D.WE)(p*f-A*c,i*n-w*u),(0,D.qR)(A*f+p*c)]}return m.invert=function(v,T){var h=(0,D.W8)(T),i=(0,D.W8)(v)*h,p=(0,D.g$)(v)*h,w=(0,D.g$)(T),A=w*f-p*c;return[(0,D.WE)(p*f+w*c,i*n+A*u),(0,D.qR)(A*n-i*u)]},m}function r(e){e=P(e[0]*D.qw,e[1]*D.qw,e.length>2?e[2]*D.qw:0);function o(n){return n=e(n[0]*D.qw,n[1]*D.qw),n[0]*=D.oh,n[1]*=D.oh,n}return o.invert=function(n){return n=e.invert(n[0]*D.qw,n[1]*D.qw),n[0]*=D.oh,n[1]*=D.oh,n},o}},16016:function(W,G,t){t.d(G,{c:function(){return d}});function y(g,r){g&&s.hasOwnProperty(g.type)&&s[g.type](g,r)}var D={Feature:function(g,r){y(g.geometry,r)},FeatureCollection:function(g,r){for(var e=g.features,o=-1,n=e.length;++o<n;)y(e[o].geometry,r)}},s={Sphere:function(g,r){r.sphere()},Point:function(g,r){g=g.coordinates,r.point(g[0],g[1],g[2])},MultiPoint:function(g,r){for(var e=g.coordinates,o=-1,n=e.length;++o<n;)g=e[o],r.point(g[0],g[1],g[2])},LineString:function(g,r){P(g.coordinates,r,0)},MultiLineString:function(g,r){for(var e=g.coordinates,o=-1,n=e.length;++o<n;)P(e[o],r,0)},Polygon:function(g,r){M(g.coordinates,r)},MultiPolygon:function(g,r){for(var e=g.coordinates,o=-1,n=e.length;++o<n;)M(e[o],r)},GeometryCollection:function(g,r){for(var e=g.geometries,o=-1,n=e.length;++o<n;)y(e[o],r)}};function P(g,r,e){var o=-1,n=g.length-e,u;for(r.lineStart();++o<n;)u=g[o],r.point(u[0],u[1],u[2]);r.lineEnd()}function M(g,r){var e=-1,o=g.length;for(r.polygonStart();++e<o;)P(g[e],r,1);r.polygonEnd()}function d(g,r){g&&D.hasOwnProperty(g.type)?D[g.type](g,r):y(g,r)}},15196:function(W,G,t){t.d(G,{c:function(){return y},s:function(){return D}});function y(P){return{stream:D(P)}}function D(P){return function(M){var d=new s;for(var g in P)d[g]=P[g];return d.stream=M,d}}function s(){}s.prototype={constructor:s,point:function(P,M){this.stream.point(P,M)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(W,G,t){t.r(G),t.d(G,{cluster:function(){return r},hierarchy:function(){return A},pack:function(){return j},packEnclose:function(){return z},packSiblings:function(){return Q},partition:function(){return bt},stratify:function(){return Et},tree:function(){return ve},treemap:function(){return kt},treemapBinary:function(){return Gt},treemapDice:function(){return At},treemapResquarify:function(){return Zt},treemapSlice:function(){return de},treemapSliceDice:function(){return Yt},treemapSquarify:function(){return ne}});function y(It,Nt){return It.parent===Nt.parent?1:2}function D(It){return It.reduce(s,0)/It.length}function s(It,Nt){return It+Nt.x}function P(It){return 1+It.reduce(M,0)}function M(It,Nt){return Math.max(It,Nt.y)}function d(It){for(var Nt;Nt=It.children;)It=Nt[0];return It}function g(It){for(var Nt;Nt=It.children;)It=Nt[Nt.length-1];return It}function r(){var It=y,Nt=1,Ht=1,Lt=!1;function dt(xt){var Ot,jt=0;xt.eachAfter(function(Te){var Le=Te.children;Le?(Te.x=D(Le),Te.y=P(Le)):(Te.x=Ot?jt+=It(Te,Ot):0,Te.y=0,Ot=Te)});var ie=d(xt),le=g(xt),Ve=ie.x-It(ie,le)/2,je=le.x+It(le,ie)/2;return xt.eachAfter(Lt?function(Te){Te.x=(Te.x-xt.x)*Nt,Te.y=(xt.y-Te.y)*Ht}:function(Te){Te.x=(Te.x-Ve)/(je-Ve)*Nt,Te.y=(1-(xt.y?Te.y/xt.y:1))*Ht})}return dt.separation=function(xt){return arguments.length?(It=xt,dt):It},dt.size=function(xt){return arguments.length?(Lt=!1,Nt=+xt[0],Ht=+xt[1],dt):Lt?null:[Nt,Ht]},dt.nodeSize=function(xt){return arguments.length?(Lt=!0,Nt=+xt[0],Ht=+xt[1],dt):Lt?[Nt,Ht]:null},dt}function e(It){var Nt=0,Ht=It.children,Lt=Ht&&Ht.length;if(!Lt)Nt=1;else for(;--Lt>=0;)Nt+=Ht[Lt].value;It.value=Nt}function o(){return this.eachAfter(e)}function n(It){var Nt=this,Ht,Lt=[Nt],dt,xt,Ot;do for(Ht=Lt.reverse(),Lt=[];Nt=Ht.pop();)if(It(Nt),dt=Nt.children,dt)for(xt=0,Ot=dt.length;xt<Ot;++xt)Lt.push(dt[xt]);while(Lt.length);return this}function u(It){for(var Nt=this,Ht=[Nt],Lt,dt;Nt=Ht.pop();)if(It(Nt),Lt=Nt.children,Lt)for(dt=Lt.length-1;dt>=0;--dt)Ht.push(Lt[dt]);return this}function f(It){for(var Nt=this,Ht=[Nt],Lt=[],dt,xt,Ot;Nt=Ht.pop();)if(Lt.push(Nt),dt=Nt.children,dt)for(xt=0,Ot=dt.length;xt<Ot;++xt)Ht.push(dt[xt]);for(;Nt=Lt.pop();)It(Nt);return this}function c(It){return this.eachAfter(function(Nt){for(var Ht=+It(Nt.data)||0,Lt=Nt.children,dt=Lt&&Lt.length;--dt>=0;)Ht+=Lt[dt].value;Nt.value=Ht})}function m(It){return this.eachBefore(function(Nt){Nt.children&&Nt.children.sort(It)})}function v(It){for(var Nt=this,Ht=T(Nt,It),Lt=[Nt];Nt!==Ht;)Nt=Nt.parent,Lt.push(Nt);for(var dt=Lt.length;It!==Ht;)Lt.splice(dt,0,It),It=It.parent;return Lt}function T(It,Nt){if(It===Nt)return It;var Ht=It.ancestors(),Lt=Nt.ancestors(),dt=null;for(It=Ht.pop(),Nt=Lt.pop();It===Nt;)dt=It,It=Ht.pop(),Nt=Lt.pop();return dt}function h(){for(var It=this,Nt=[It];It=It.parent;)Nt.push(It);return Nt}function i(){var It=[];return this.each(function(Nt){It.push(Nt)}),It}function p(){var It=[];return this.eachBefore(function(Nt){Nt.children||It.push(Nt)}),It}function w(){var It=this,Nt=[];return It.each(function(Ht){Ht!==It&&Nt.push({source:Ht.parent,target:Ht})}),Nt}function A(It,Nt){var Ht=new a(It),Lt=+It.value&&(Ht.value=It.value),dt,xt=[Ht],Ot,jt,ie,le;for(Nt==null&&(Nt=x);dt=xt.pop();)if(Lt&&(dt.value=+dt.data.value),(jt=Nt(dt.data))&&(le=jt.length))for(dt.children=new Array(le),ie=le-1;ie>=0;--ie)xt.push(Ot=dt.children[ie]=new a(jt[ie])),Ot.parent=dt,Ot.depth=dt.depth+1;return Ht.eachBefore(S)}function L(){return A(this).eachBefore(E)}function x(It){return It.children}function E(It){It.data=It.data.data}function S(It){var Nt=0;do It.height=Nt;while((It=It.parent)&&It.height<++Nt)}function a(It){this.data=It,this.depth=this.height=0,this.parent=null}a.prototype=A.prototype={constructor:a,count:o,each:n,eachAfter:f,eachBefore:u,sum:c,sort:m,path:v,ancestors:h,descendants:i,leaves:p,links:w,copy:L};var C=Array.prototype.slice;function b(It){for(var Nt=It.length,Ht,Lt;Nt;)Lt=Math.random()*Nt--|0,Ht=It[Nt],It[Nt]=It[Lt],It[Lt]=Ht;return It}function z(It){for(var Nt=0,Ht=(It=b(C.call(It))).length,Lt=[],dt,xt;Nt<Ht;)dt=It[Nt],xt&&F(xt,dt)?++Nt:(xt=N(Lt=k(Lt,dt)),Nt=0);return xt}function k(It,Nt){var Ht,Lt;if(V(Nt,It))return[Nt];for(Ht=0;Ht<It.length;++Ht)if(U(Nt,It[Ht])&&V(H(It[Ht],Nt),It))return[It[Ht],Nt];for(Ht=0;Ht<It.length-1;++Ht)for(Lt=Ht+1;Lt<It.length;++Lt)if(U(H(It[Ht],It[Lt]),Nt)&&U(H(It[Ht],Nt),It[Lt])&&U(H(It[Lt],Nt),It[Ht])&&V(X(It[Ht],It[Lt],Nt),It))return[It[Ht],It[Lt],Nt];throw new Error}function U(It,Nt){var Ht=It.r-Nt.r,Lt=Nt.x-It.x,dt=Nt.y-It.y;return Ht<0||Ht*Ht<Lt*Lt+dt*dt}function F(It,Nt){var Ht=It.r-Nt.r+1e-6,Lt=Nt.x-It.x,dt=Nt.y-It.y;return Ht>0&&Ht*Ht>Lt*Lt+dt*dt}function V(It,Nt){for(var Ht=0;Ht<Nt.length;++Ht)if(!F(It,Nt[Ht]))return!1;return!0}function N(It){switch(It.length){case 1:return O(It[0]);case 2:return H(It[0],It[1]);case 3:return X(It[0],It[1],It[2])}}function O(It){return{x:It.x,y:It.y,r:It.r}}function H(It,Nt){var Ht=It.x,Lt=It.y,dt=It.r,xt=Nt.x,Ot=Nt.y,jt=Nt.r,ie=xt-Ht,le=Ot-Lt,Ve=jt-dt,je=Math.sqrt(ie*ie+le*le);return{x:(Ht+xt+ie/je*Ve)/2,y:(Lt+Ot+le/je*Ve)/2,r:(je+dt+jt)/2}}function X(It,Nt,Ht){var Lt=It.x,dt=It.y,xt=It.r,Ot=Nt.x,jt=Nt.y,ie=Nt.r,le=Ht.x,Ve=Ht.y,je=Ht.r,Te=Lt-Ot,Le=Lt-le,Ke=dt-jt,vr=dt-Ve,ge=ie-xt,Xe=je-xt,$e=Lt*Lt+dt*dt-xt*xt,mr=$e-Ot*Ot-jt*jt+ie*ie,or=$e-le*le-Ve*Ve+je*je,ye=Le*Ke-Te*vr,ue=(Ke*or-vr*mr)/(ye*2)-Lt,be=(vr*ge-Ke*Xe)/ye,Ee=(Le*mr-Te*or)/(ye*2)-dt,_e=(Te*Xe-Le*ge)/ye,Oe=be*be+_e*_e-1,Fe=2*(xt+ue*be+Ee*_e),Be=ue*ue+Ee*Ee-xt*xt,Je=-(Oe?(Fe+Math.sqrt(Fe*Fe-4*Oe*Be))/(2*Oe):Be/Fe);return{x:Lt+ue+be*Je,y:dt+Ee+_e*Je,r:Je}}function J(It,Nt,Ht){var Lt=It.x-Nt.x,dt,xt,Ot=It.y-Nt.y,jt,ie,le=Lt*Lt+Ot*Ot;le?(xt=Nt.r+Ht.r,xt*=xt,ie=It.r+Ht.r,ie*=ie,xt>ie?(dt=(le+ie-xt)/(2*le),jt=Math.sqrt(Math.max(0,ie/le-dt*dt)),Ht.x=It.x-dt*Lt-jt*Ot,Ht.y=It.y-dt*Ot+jt*Lt):(dt=(le+xt-ie)/(2*le),jt=Math.sqrt(Math.max(0,xt/le-dt*dt)),Ht.x=Nt.x+dt*Lt-jt*Ot,Ht.y=Nt.y+dt*Ot+jt*Lt)):(Ht.x=Nt.x+Ht.r,Ht.y=Nt.y)}function et(It,Nt){var Ht=It.r+Nt.r-1e-6,Lt=Nt.x-It.x,dt=Nt.y-It.y;return Ht>0&&Ht*Ht>Lt*Lt+dt*dt}function it(It){var Nt=It._,Ht=It.next._,Lt=Nt.r+Ht.r,dt=(Nt.x*Ht.r+Ht.x*Nt.r)/Lt,xt=(Nt.y*Ht.r+Ht.y*Nt.r)/Lt;return dt*dt+xt*xt}function ft(It){this._=It,this.next=null,this.previous=null}function ot(It){if(!(dt=It.length))return 0;var Nt,Ht,Lt,dt,xt,Ot,jt,ie,le,Ve,je;if(Nt=It[0],Nt.x=0,Nt.y=0,!(dt>1))return Nt.r;if(Ht=It[1],Nt.x=-Ht.r,Ht.x=Nt.r,Ht.y=0,!(dt>2))return Nt.r+Ht.r;J(Ht,Nt,Lt=It[2]),Nt=new ft(Nt),Ht=new ft(Ht),Lt=new ft(Lt),Nt.next=Lt.previous=Ht,Ht.next=Nt.previous=Lt,Lt.next=Ht.previous=Nt;t:for(jt=3;jt<dt;++jt){J(Nt._,Ht._,Lt=It[jt]),Lt=new ft(Lt),ie=Ht.next,le=Nt.previous,Ve=Ht._.r,je=Nt._.r;do if(Ve<=je){if(et(ie._,Lt._)){Ht=ie,Nt.next=Ht,Ht.previous=Nt,--jt;continue t}Ve+=ie._.r,ie=ie.next}else{if(et(le._,Lt._)){Nt=le,Nt.next=Ht,Ht.previous=Nt,--jt;continue t}je+=le._.r,le=le.previous}while(ie!==le.next);for(Lt.previous=Nt,Lt.next=Ht,Nt.next=Ht.previous=Ht=Lt,xt=it(Nt);(Lt=Lt.next)!==Ht;)(Ot=it(Lt))<xt&&(Nt=Lt,xt=Ot);Ht=Nt.next}for(Nt=[Ht._],Lt=Ht;(Lt=Lt.next)!==Ht;)Nt.push(Lt._);for(Lt=z(Nt),jt=0;jt<dt;++jt)Nt=It[jt],Nt.x-=Lt.x,Nt.y-=Lt.y;return Lt.r}function Q(It){return ot(It),It}function tt(It){return It==null?null:Z(It)}function Z(It){if(typeof It!="function")throw new Error;return It}function q(){return 0}function ut(It){return function(){return It}}function $(It){return Math.sqrt(It.value)}function j(){var It=null,Nt=1,Ht=1,Lt=q;function dt(xt){return xt.x=Nt/2,xt.y=Ht/2,It?xt.eachBefore(lt(It)).eachAfter(nt(Lt,.5)).eachBefore(ht(1)):xt.eachBefore(lt($)).eachAfter(nt(q,1)).eachAfter(nt(Lt,xt.r/Math.min(Nt,Ht))).eachBefore(ht(Math.min(Nt,Ht)/(2*xt.r))),xt}return dt.radius=function(xt){return arguments.length?(It=tt(xt),dt):It},dt.size=function(xt){return arguments.length?(Nt=+xt[0],Ht=+xt[1],dt):[Nt,Ht]},dt.padding=function(xt){return arguments.length?(Lt=typeof xt=="function"?xt:ut(+xt),dt):Lt},dt}function lt(It){return function(Nt){Nt.children||(Nt.r=Math.max(0,+It(Nt)||0))}}function nt(It,Nt){return function(Ht){if(Lt=Ht.children){var Lt,dt,xt=Lt.length,Ot=It(Ht)*Nt||0,jt;if(Ot)for(dt=0;dt<xt;++dt)Lt[dt].r+=Ot;if(jt=ot(Lt),Ot)for(dt=0;dt<xt;++dt)Lt[dt].r-=Ot;Ht.r=jt+Ot}}}function ht(It){return function(Nt){var Ht=Nt.parent;Nt.r*=It,Ht&&(Nt.x=Ht.x+It*Nt.x,Nt.y=Ht.y+It*Nt.y)}}function mt(It){It.x0=Math.round(It.x0),It.y0=Math.round(It.y0),It.x1=Math.round(It.x1),It.y1=Math.round(It.y1)}function At(It,Nt,Ht,Lt,dt){for(var xt=It.children,Ot,jt=-1,ie=xt.length,le=It.value&&(Lt-Nt)/It.value;++jt<ie;)Ot=xt[jt],Ot.y0=Ht,Ot.y1=dt,Ot.x0=Nt,Ot.x1=Nt+=Ot.value*le}function bt(){var It=1,Nt=1,Ht=0,Lt=!1;function dt(Ot){var jt=Ot.height+1;return Ot.x0=Ot.y0=Ht,Ot.x1=It,Ot.y1=Nt/jt,Ot.eachBefore(xt(Nt,jt)),Lt&&Ot.eachBefore(mt),Ot}function xt(Ot,jt){return function(ie){ie.children&&At(ie,ie.x0,Ot*(ie.depth+1)/jt,ie.x1,Ot*(ie.depth+2)/jt);var le=ie.x0,Ve=ie.y0,je=ie.x1-Ht,Te=ie.y1-Ht;je<le&&(le=je=(le+je)/2),Te<Ve&&(Ve=Te=(Ve+Te)/2),ie.x0=le,ie.y0=Ve,ie.x1=je,ie.y1=Te}}return dt.round=function(Ot){return arguments.length?(Lt=!!Ot,dt):Lt},dt.size=function(Ot){return arguments.length?(It=+Ot[0],Nt=+Ot[1],dt):[It,Nt]},dt.padding=function(Ot){return arguments.length?(Ht=+Ot,dt):Ht},dt}var Pt="$",_t={depth:-1},Ut={};function St(It){return It.id}function Rt(It){return It.parentId}function Et(){var It=St,Nt=Rt;function Ht(Lt){var dt,xt,Ot=Lt.length,jt,ie,le,Ve=new Array(Ot),je,Te,Le={};for(xt=0;xt<Ot;++xt)dt=Lt[xt],le=Ve[xt]=new a(dt),(je=It(dt,xt,Lt))!=null&&(je+="")&&(Te=Pt+(le.id=je),Le[Te]=Te in Le?Ut:le);for(xt=0;xt<Ot;++xt)if(le=Ve[xt],je=Nt(Lt[xt],xt,Lt),je==null||!(je+="")){if(jt)throw new Error("multiple roots");jt=le}else{if(ie=Le[Pt+je],!ie)throw new Error("missing: "+je);if(ie===Ut)throw new Error("ambiguous: "+je);ie.children?ie.children.push(le):ie.children=[le],le.parent=ie}if(!jt)throw new Error("no root");if(jt.parent=_t,jt.eachBefore(function(Ke){Ke.depth=Ke.parent.depth+1,--Ot}).eachBefore(S),jt.parent=null,Ot>0)throw new Error("cycle");return jt}return Ht.id=function(Lt){return arguments.length?(It=Z(Lt),Ht):It},Ht.parentId=function(Lt){return arguments.length?(Nt=Z(Lt),Ht):Nt},Ht}function zt(It,Nt){return It.parent===Nt.parent?1:2}function Ct(It){var Nt=It.children;return Nt?Nt[0]:It.t}function Wt(It){var Nt=It.children;return Nt?Nt[Nt.length-1]:It.t}function Kt(It,Nt,Ht){var Lt=Ht/(Nt.i-It.i);Nt.c-=Lt,Nt.s+=Ht,It.c+=Lt,Nt.z+=Ht,Nt.m+=Ht}function oe(It){for(var Nt=0,Ht=0,Lt=It.children,dt=Lt.length,xt;--dt>=0;)xt=Lt[dt],xt.z+=Nt,xt.m+=Nt,Nt+=xt.s+(Ht+=xt.c)}function Jt(It,Nt,Ht){return It.a.parent===Nt.parent?It.a:Ht}function te(It,Nt){this._=It,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Nt}te.prototype=Object.create(a.prototype);function fe(It){for(var Nt=new te(It,0),Ht,Lt=[Nt],dt,xt,Ot,jt;Ht=Lt.pop();)if(xt=Ht._.children)for(Ht.children=new Array(jt=xt.length),Ot=jt-1;Ot>=0;--Ot)Lt.push(dt=Ht.children[Ot]=new te(xt[Ot],Ot)),dt.parent=Ht;return(Nt.parent=new te(null,0)).children=[Nt],Nt}function ve(){var It=zt,Nt=1,Ht=1,Lt=null;function dt(le){var Ve=fe(le);if(Ve.eachAfter(xt),Ve.parent.m=-Ve.z,Ve.eachBefore(Ot),Lt)le.eachBefore(ie);else{var je=le,Te=le,Le=le;le.eachBefore(function($e){$e.x<je.x&&(je=$e),$e.x>Te.x&&(Te=$e),$e.depth>Le.depth&&(Le=$e)});var Ke=je===Te?1:It(je,Te)/2,vr=Ke-je.x,ge=Nt/(Te.x+Ke+vr),Xe=Ht/(Le.depth||1);le.eachBefore(function($e){$e.x=($e.x+vr)*ge,$e.y=$e.depth*Xe})}return le}function xt(le){var Ve=le.children,je=le.parent.children,Te=le.i?je[le.i-1]:null;if(Ve){oe(le);var Le=(Ve[0].z+Ve[Ve.length-1].z)/2;Te?(le.z=Te.z+It(le._,Te._),le.m=le.z-Le):le.z=Le}else Te&&(le.z=Te.z+It(le._,Te._));le.parent.A=jt(le,Te,le.parent.A||je[0])}function Ot(le){le._.x=le.z+le.parent.m,le.m+=le.parent.m}function jt(le,Ve,je){if(Ve){for(var Te=le,Le=le,Ke=Ve,vr=Te.parent.children[0],ge=Te.m,Xe=Le.m,$e=Ke.m,mr=vr.m,or;Ke=Wt(Ke),Te=Ct(Te),Ke&&Te;)vr=Ct(vr),Le=Wt(Le),Le.a=le,or=Ke.z+$e-Te.z-ge+It(Ke._,Te._),or>0&&(Kt(Jt(Ke,le,je),le,or),ge+=or,Xe+=or),$e+=Ke.m,ge+=Te.m,mr+=vr.m,Xe+=Le.m;Ke&&!Wt(Le)&&(Le.t=Ke,Le.m+=$e-Xe),Te&&!Ct(vr)&&(vr.t=Te,vr.m+=ge-mr,je=le)}return je}function ie(le){le.x*=Nt,le.y=le.depth*Ht}return dt.separation=function(le){return arguments.length?(It=le,dt):It},dt.size=function(le){return arguments.length?(Lt=!1,Nt=+le[0],Ht=+le[1],dt):Lt?null:[Nt,Ht]},dt.nodeSize=function(le){return arguments.length?(Lt=!0,Nt=+le[0],Ht=+le[1],dt):Lt?[Nt,Ht]:null},dt}function de(It,Nt,Ht,Lt,dt){for(var xt=It.children,Ot,jt=-1,ie=xt.length,le=It.value&&(dt-Ht)/It.value;++jt<ie;)Ot=xt[jt],Ot.x0=Nt,Ot.x1=Lt,Ot.y0=Ht,Ot.y1=Ht+=Ot.value*le}var xe=(1+Math.sqrt(5))/2;function Me(It,Nt,Ht,Lt,dt,xt){for(var Ot=[],jt=Nt.children,ie,le,Ve=0,je=0,Te=jt.length,Le,Ke,vr=Nt.value,ge,Xe,$e,mr,or,ye,ue;Ve<Te;){Le=dt-Ht,Ke=xt-Lt;do ge=jt[je++].value;while(!ge&&je<Te);for(Xe=$e=ge,ye=Math.max(Ke/Le,Le/Ke)/(vr*It),ue=ge*ge*ye,or=Math.max($e/ue,ue/Xe);je<Te;++je){if(ge+=le=jt[je].value,le<Xe&&(Xe=le),le>$e&&($e=le),ue=ge*ge*ye,mr=Math.max($e/ue,ue/Xe),mr>or){ge-=le;break}or=mr}Ot.push(ie={value:ge,dice:Le<Ke,children:jt.slice(Ve,je)}),ie.dice?At(ie,Ht,Lt,dt,vr?Lt+=Ke*ge/vr:xt):de(ie,Ht,Lt,vr?Ht+=Le*ge/vr:dt,xt),vr-=ge,Ve=je}return Ot}var ne=function It(Nt){function Ht(Lt,dt,xt,Ot,jt){Me(Nt,Lt,dt,xt,Ot,jt)}return Ht.ratio=function(Lt){return It((Lt=+Lt)>1?Lt:1)},Ht}(xe);function kt(){var It=ne,Nt=!1,Ht=1,Lt=1,dt=[0],xt=q,Ot=q,jt=q,ie=q,le=q;function Ve(Te){return Te.x0=Te.y0=0,Te.x1=Ht,Te.y1=Lt,Te.eachBefore(je),dt=[0],Nt&&Te.eachBefore(mt),Te}function je(Te){var Le=dt[Te.depth],Ke=Te.x0+Le,vr=Te.y0+Le,ge=Te.x1-Le,Xe=Te.y1-Le;ge<Ke&&(Ke=ge=(Ke+ge)/2),Xe<vr&&(vr=Xe=(vr+Xe)/2),Te.x0=Ke,Te.y0=vr,Te.x1=ge,Te.y1=Xe,Te.children&&(Le=dt[Te.depth+1]=xt(Te)/2,Ke+=le(Te)-Le,vr+=Ot(Te)-Le,ge-=jt(Te)-Le,Xe-=ie(Te)-Le,ge<Ke&&(Ke=ge=(Ke+ge)/2),Xe<vr&&(vr=Xe=(vr+Xe)/2),It(Te,Ke,vr,ge,Xe))}return Ve.round=function(Te){return arguments.length?(Nt=!!Te,Ve):Nt},Ve.size=function(Te){return arguments.length?(Ht=+Te[0],Lt=+Te[1],Ve):[Ht,Lt]},Ve.tile=function(Te){return arguments.length?(It=Z(Te),Ve):It},Ve.padding=function(Te){return arguments.length?Ve.paddingInner(Te).paddingOuter(Te):Ve.paddingInner()},Ve.paddingInner=function(Te){return arguments.length?(xt=typeof Te=="function"?Te:ut(+Te),Ve):xt},Ve.paddingOuter=function(Te){return arguments.length?Ve.paddingTop(Te).paddingRight(Te).paddingBottom(Te).paddingLeft(Te):Ve.paddingTop()},Ve.paddingTop=function(Te){return arguments.length?(Ot=typeof Te=="function"?Te:ut(+Te),Ve):Ot},Ve.paddingRight=function(Te){return arguments.length?(jt=typeof Te=="function"?Te:ut(+Te),Ve):jt},Ve.paddingBottom=function(Te){return arguments.length?(ie=typeof Te=="function"?Te:ut(+Te),Ve):ie},Ve.paddingLeft=function(Te){return arguments.length?(le=typeof Te=="function"?Te:ut(+Te),Ve):le},Ve}function Gt(It,Nt,Ht,Lt,dt){var xt=It.children,Ot,jt=xt.length,ie,le=new Array(jt+1);for(le[0]=ie=Ot=0;Ot<jt;++Ot)le[Ot+1]=ie+=xt[Ot].value;Ve(0,jt,It.value,Nt,Ht,Lt,dt);function Ve(je,Te,Le,Ke,vr,ge,Xe){if(je>=Te-1){var $e=xt[je];$e.x0=Ke,$e.y0=vr,$e.x1=ge,$e.y1=Xe;return}for(var mr=le[je],or=Le/2+mr,ye=je+1,ue=Te-1;ye<ue;){var be=ye+ue>>>1;le[be]<or?ye=be+1:ue=be}or-le[ye-1]<le[ye]-or&&je+1<ye&&--ye;var Ee=le[ye]-mr,_e=Le-Ee;if(ge-Ke>Xe-vr){var Oe=(Ke*_e+ge*Ee)/Le;Ve(je,ye,Ee,Ke,vr,Oe,Xe),Ve(ye,Te,_e,Oe,vr,ge,Xe)}else{var Fe=(vr*_e+Xe*Ee)/Le;Ve(je,ye,Ee,Ke,vr,ge,Fe),Ve(ye,Te,_e,Ke,Fe,ge,Xe)}}}function Yt(It,Nt,Ht,Lt,dt){(It.depth&1?de:At)(It,Nt,Ht,Lt,dt)}var Zt=function It(Nt){function Ht(Lt,dt,xt,Ot,jt){if((ie=Lt._squarify)&&ie.ratio===Nt)for(var ie,le,Ve,je,Te=-1,Le,Ke=ie.length,vr=Lt.value;++Te<Ke;){for(le=ie[Te],Ve=le.children,je=le.value=0,Le=Ve.length;je<Le;++je)le.value+=Ve[je].value;le.dice?At(le,dt,xt,Ot,xt+=(jt-xt)*le.value/vr):de(le,dt,xt,dt+=(Ot-dt)*le.value/vr,jt),vr-=le.value}else Lt._squarify=ie=Me(Nt,Lt,dt,xt,Ot,jt),ie.ratio=Nt}return Ht.ratio=function(Lt){return It((Lt=+Lt)>1?Lt:1)},Ht}(xe)},10132:function(W,G,t){t.d(G,{ak:function(){return v}});var y=Math.PI,D=2*y,s=1e-6,P=D-s;function M(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function d(){return new M}M.prototype=d.prototype={constructor:M,moveTo:function(T,h){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,h){this._+="L"+(this._x1=+T)+","+(this._y1=+h)},quadraticCurveTo:function(T,h,i,p){this._+="Q"+ +T+","+ +h+","+(this._x1=+i)+","+(this._y1=+p)},bezierCurveTo:function(T,h,i,p,w,A){this._+="C"+ +T+","+ +h+","+ +i+","+ +p+","+(this._x1=+w)+","+(this._y1=+A)},arcTo:function(T,h,i,p,w){T=+T,h=+h,i=+i,p=+p,w=+w;var A=this._x1,L=this._y1,x=i-T,E=p-h,S=A-T,a=L-h,C=S*S+a*a;if(w<0)throw new Error("negative radius: "+w);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=h);else if(C>s)if(!(Math.abs(a*x-E*S)>s)||!w)this._+="L"+(this._x1=T)+","+(this._y1=h);else{var b=i-A,z=p-L,k=x*x+E*E,U=b*b+z*z,F=Math.sqrt(k),V=Math.sqrt(C),N=w*Math.tan((y-Math.acos((k+C-U)/(2*F*V)))/2),O=N/V,H=N/F;Math.abs(O-1)>s&&(this._+="L"+(T+O*S)+","+(h+O*a)),this._+="A"+w+","+w+",0,0,"+ +(a*b>S*z)+","+(this._x1=T+H*x)+","+(this._y1=h+H*E)}},arc:function(T,h,i,p,w,A){T=+T,h=+h,i=+i,A=!!A;var L=i*Math.cos(p),x=i*Math.sin(p),E=T+L,S=h+x,a=1^A,C=A?p-w:w-p;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+E+","+S:(Math.abs(this._x1-E)>s||Math.abs(this._y1-S)>s)&&(this._+="L"+E+","+S),i&&(C<0&&(C=C%D+D),C>P?this._+="A"+i+","+i+",0,1,"+a+","+(T-L)+","+(h-x)+"A"+i+","+i+",0,1,"+a+","+(this._x1=E)+","+(this._y1=S):C>s&&(this._+="A"+i+","+i+",0,"+ +(C>=y)+","+a+","+(this._x1=T+i*Math.cos(w))+","+(this._y1=h+i*Math.sin(w))))},rect:function(T,h,i,p){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)+"h"+ +i+"v"+ +p+"h"+-i+"Z"},toString:function(){return this._}};var g=d,r=Array.prototype.slice;function e(T){return function(){return T}}function o(T){return T[0]}function n(T){return T[1]}function u(T){return T.source}function f(T){return T.target}function c(T){var h=u,i=f,p=o,w=n,A=null;function L(){var x,E=r.call(arguments),S=h.apply(this,E),a=i.apply(this,E);if(A||(A=x=g()),T(A,+p.apply(this,(E[0]=S,E)),+w.apply(this,E),+p.apply(this,(E[0]=a,E)),+w.apply(this,E)),x)return A=null,x+""||null}return L.source=function(x){return arguments.length?(h=x,L):h},L.target=function(x){return arguments.length?(i=x,L):i},L.x=function(x){return arguments.length?(p=typeof x=="function"?x:e(+x),L):p},L.y=function(x){return arguments.length?(w=typeof x=="function"?x:e(+x),L):w},L.context=function(x){return arguments.length?(A=x??null,L):A},L}function m(T,h,i,p,w){T.moveTo(h,i),T.bezierCurveTo(h=(h+p)/2,i,h,w,p,w)}function v(){return c(m)}},94336:function(W,G,t){t.d(G,{Yn:function(){return Gt},m_:function(){return o},E9:function(){return Yt}});var y=t(8208),D=t(58931),s=t(46192),P=t(68936),M=t(32171),d=t(53528);function g(It){if(0<=It.y&&It.y<100){var Nt=new Date(-1,It.m,It.d,It.H,It.M,It.S,It.L);return Nt.setFullYear(It.y),Nt}return new Date(It.y,It.m,It.d,It.H,It.M,It.S,It.L)}function r(It){if(0<=It.y&&It.y<100){var Nt=new Date(Date.UTC(-1,It.m,It.d,It.H,It.M,It.S,It.L));return Nt.setUTCFullYear(It.y),Nt}return new Date(Date.UTC(It.y,It.m,It.d,It.H,It.M,It.S,It.L))}function e(It,Nt,Ht){return{y:It,m:Nt,d:Ht,H:0,M:0,S:0,L:0}}function o(It){var Nt=It.dateTime,Ht=It.date,Lt=It.time,dt=It.periods,xt=It.days,Ot=It.shortDays,jt=It.months,ie=It.shortMonths,le=T(dt),Ve=h(dt),je=T(xt),Te=h(xt),Le=T(Ot),Ke=h(Ot),vr=T(jt),ge=h(jt),Xe=T(ie),$e=h(ie),mr={a:fr,A:Lr,b:xr,B:Qt,c:null,d:J,e:J,f:Q,H:et,I:it,j:ft,L:ot,m:tt,M:Z,p:re,q:tr,Q:Me,s:ne,S:q,u:ut,U:$,V:j,w:lt,W:nt,x:null,X:null,y:ht,Y:mt,Z:At,"%":xe},or={a:er,A:Ye,b:Pe,B:Ze,c:null,d:bt,e:bt,f:Rt,H:Pt,I:_t,j:Ut,L:St,m:Et,M:zt,p:nr,q:Qe,Q:Me,s:ne,S:Ct,u:Wt,U:Kt,V:oe,w:Jt,W:te,x:null,X:null,y:fe,Y:ve,Z:de,"%":xe},ye={a:Oe,A:Fe,b:Be,B:Je,c:hr,d:b,e:b,f:N,H:k,I:k,j:z,L:V,m:C,M:U,p:_e,q:a,Q:H,s:X,S:F,u:p,U:w,V:A,w:i,W:L,x:cr,X:dr,y:E,Y:x,Z:S,"%":O};mr.x=ue(Ht,mr),mr.X=ue(Lt,mr),mr.c=ue(Nt,mr),or.x=ue(Ht,or),or.X=ue(Lt,or),or.c=ue(Nt,or);function ue(We,yr){return function(Rr){var Tr=[],vn=-1,Or=0,En=We.length,nn,gr,Pr;for(Rr instanceof Date||(Rr=new Date(+Rr));++vn<En;)We.charCodeAt(vn)===37&&(Tr.push(We.slice(Or,vn)),(gr=n[nn=We.charAt(++vn)])!=null?nn=We.charAt(++vn):gr=nn==="e"?" ":"0",(Pr=yr[nn])&&(nn=Pr(Rr,gr)),Tr.push(nn),Or=vn+1);return Tr.push(We.slice(Or,vn)),Tr.join("")}}function be(We,yr){return function(Rr){var Tr=e(1900,void 0,1),vn=Ee(Tr,We,Rr+="",0),Or,En;if(vn!=Rr.length)return null;if("Q"in Tr)return new Date(Tr.Q);if("s"in Tr)return new Date(Tr.s*1e3+("L"in Tr?Tr.L:0));if(yr&&!("Z"in Tr)&&(Tr.Z=0),"p"in Tr&&(Tr.H=Tr.H%12+Tr.p*12),Tr.m===void 0&&(Tr.m="q"in Tr?Tr.q:0),"V"in Tr){if(Tr.V<1||Tr.V>53)return null;"w"in Tr||(Tr.w=1),"Z"in Tr?(Or=r(e(Tr.y,0,1)),En=Or.getUTCDay(),Or=En>4||En===0?y.ot.ceil(Or):(0,y.ot)(Or),Or=D.c.offset(Or,(Tr.V-1)*7),Tr.y=Or.getUTCFullYear(),Tr.m=Or.getUTCMonth(),Tr.d=Or.getUTCDate()+(Tr.w+6)%7):(Or=g(e(Tr.y,0,1)),En=Or.getDay(),Or=En>4||En===0?s.qT.ceil(Or):(0,s.qT)(Or),Or=P.c.offset(Or,(Tr.V-1)*7),Tr.y=Or.getFullYear(),Tr.m=Or.getMonth(),Tr.d=Or.getDate()+(Tr.w+6)%7)}else("W"in Tr||"U"in Tr)&&("w"in Tr||(Tr.w="u"in Tr?Tr.u%7:"W"in Tr?1:0),En="Z"in Tr?r(e(Tr.y,0,1)).getUTCDay():g(e(Tr.y,0,1)).getDay(),Tr.m=0,Tr.d="W"in Tr?(Tr.w+6)%7+Tr.W*7-(En+5)%7:Tr.w+Tr.U*7-(En+6)%7);return"Z"in Tr?(Tr.H+=Tr.Z/100|0,Tr.M+=Tr.Z%100,r(Tr)):g(Tr)}}function Ee(We,yr,Rr,Tr){for(var vn=0,Or=yr.length,En=Rr.length,nn,gr;vn<Or;){if(Tr>=En)return-1;if(nn=yr.charCodeAt(vn++),nn===37){if(nn=yr.charAt(vn++),gr=ye[nn in n?yr.charAt(vn++):nn],!gr||(Tr=gr(We,Rr,Tr))<0)return-1}else if(nn!=Rr.charCodeAt(Tr++))return-1}return Tr}function _e(We,yr,Rr){var Tr=le.exec(yr.slice(Rr));return Tr?(We.p=Ve[Tr[0].toLowerCase()],Rr+Tr[0].length):-1}function Oe(We,yr,Rr){var Tr=Le.exec(yr.slice(Rr));return Tr?(We.w=Ke[Tr[0].toLowerCase()],Rr+Tr[0].length):-1}function Fe(We,yr,Rr){var Tr=je.exec(yr.slice(Rr));return Tr?(We.w=Te[Tr[0].toLowerCase()],Rr+Tr[0].length):-1}function Be(We,yr,Rr){var Tr=Xe.exec(yr.slice(Rr));return Tr?(We.m=$e[Tr[0].toLowerCase()],Rr+Tr[0].length):-1}function Je(We,yr,Rr){var Tr=vr.exec(yr.slice(Rr));return Tr?(We.m=ge[Tr[0].toLowerCase()],Rr+Tr[0].length):-1}function hr(We,yr,Rr){return Ee(We,Nt,yr,Rr)}function cr(We,yr,Rr){return Ee(We,Ht,yr,Rr)}function dr(We,yr,Rr){return Ee(We,Lt,yr,Rr)}function fr(We){return Ot[We.getDay()]}function Lr(We){return xt[We.getDay()]}function xr(We){return ie[We.getMonth()]}function Qt(We){return jt[We.getMonth()]}function re(We){return dt[+(We.getHours()>=12)]}function tr(We){return 1+~~(We.getMonth()/3)}function er(We){return Ot[We.getUTCDay()]}function Ye(We){return xt[We.getUTCDay()]}function Pe(We){return ie[We.getUTCMonth()]}function Ze(We){return jt[We.getUTCMonth()]}function nr(We){return dt[+(We.getUTCHours()>=12)]}function Qe(We){return 1+~~(We.getUTCMonth()/3)}return{format:function(We){var yr=ue(We+="",mr);return yr.toString=function(){return We},yr},parse:function(We){var yr=be(We+="",!1);return yr.toString=function(){return We},yr},utcFormat:function(We){var yr=ue(We+="",or);return yr.toString=function(){return We},yr},utcParse:function(We){var yr=be(We+="",!0);return yr.toString=function(){return We},yr}}}var n={"-":"",_:" ",0:"0"},u=/^\s*\d+/,f=/^%/,c=/[\\^$*+?|[\]().{}]/g;function m(It,Nt,Ht){var Lt=It<0?"-":"",dt=(Lt?-It:It)+"",xt=dt.length;return Lt+(xt<Ht?new Array(Ht-xt+1).join(Nt)+dt:dt)}function v(It){return It.replace(c,"\\$&")}function T(It){return new RegExp("^(?:"+It.map(v).join("|")+")","i")}function h(It){for(var Nt={},Ht=-1,Lt=It.length;++Ht<Lt;)Nt[It[Ht].toLowerCase()]=Ht;return Nt}function i(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+1));return Lt?(It.w=+Lt[0],Ht+Lt[0].length):-1}function p(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+1));return Lt?(It.u=+Lt[0],Ht+Lt[0].length):-1}function w(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+2));return Lt?(It.U=+Lt[0],Ht+Lt[0].length):-1}function A(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+2));return Lt?(It.V=+Lt[0],Ht+Lt[0].length):-1}function L(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+2));return Lt?(It.W=+Lt[0],Ht+Lt[0].length):-1}function x(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+4));return Lt?(It.y=+Lt[0],Ht+Lt[0].length):-1}function E(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+2));return Lt?(It.y=+Lt[0]+(+Lt[0]>68?1900:2e3),Ht+Lt[0].length):-1}function S(It,Nt,Ht){var Lt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Nt.slice(Ht,Ht+6));return Lt?(It.Z=Lt[1]?0:-(Lt[2]+(Lt[3]||"00")),Ht+Lt[0].length):-1}function a(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+1));return Lt?(It.q=Lt[0]*3-3,Ht+Lt[0].length):-1}function C(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+2));return Lt?(It.m=Lt[0]-1,Ht+Lt[0].length):-1}function b(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+2));return Lt?(It.d=+Lt[0],Ht+Lt[0].length):-1}function z(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+3));return Lt?(It.m=0,It.d=+Lt[0],Ht+Lt[0].length):-1}function k(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+2));return Lt?(It.H=+Lt[0],Ht+Lt[0].length):-1}function U(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+2));return Lt?(It.M=+Lt[0],Ht+Lt[0].length):-1}function F(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+2));return Lt?(It.S=+Lt[0],Ht+Lt[0].length):-1}function V(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+3));return Lt?(It.L=+Lt[0],Ht+Lt[0].length):-1}function N(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht,Ht+6));return Lt?(It.L=Math.floor(Lt[0]/1e3),Ht+Lt[0].length):-1}function O(It,Nt,Ht){var Lt=f.exec(Nt.slice(Ht,Ht+1));return Lt?Ht+Lt[0].length:-1}function H(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht));return Lt?(It.Q=+Lt[0],Ht+Lt[0].length):-1}function X(It,Nt,Ht){var Lt=u.exec(Nt.slice(Ht));return Lt?(It.s=+Lt[0],Ht+Lt[0].length):-1}function J(It,Nt){return m(It.getDate(),Nt,2)}function et(It,Nt){return m(It.getHours(),Nt,2)}function it(It,Nt){return m(It.getHours()%12||12,Nt,2)}function ft(It,Nt){return m(1+P.c.count((0,M.c)(It),It),Nt,3)}function ot(It,Nt){return m(It.getMilliseconds(),Nt,3)}function Q(It,Nt){return ot(It,Nt)+"000"}function tt(It,Nt){return m(It.getMonth()+1,Nt,2)}function Z(It,Nt){return m(It.getMinutes(),Nt,2)}function q(It,Nt){return m(It.getSeconds(),Nt,2)}function ut(It){var Nt=It.getDay();return Nt===0?7:Nt}function $(It,Nt){return m(s.uU.count((0,M.c)(It)-1,It),Nt,2)}function j(It,Nt){var Ht=It.getDay();return It=Ht>=4||Ht===0?(0,s.kD)(It):s.kD.ceil(It),m(s.kD.count((0,M.c)(It),It)+((0,M.c)(It).getDay()===4),Nt,2)}function lt(It){return It.getDay()}function nt(It,Nt){return m(s.qT.count((0,M.c)(It)-1,It),Nt,2)}function ht(It,Nt){return m(It.getFullYear()%100,Nt,2)}function mt(It,Nt){return m(It.getFullYear()%1e4,Nt,4)}function At(It){var Nt=It.getTimezoneOffset();return(Nt>0?"-":(Nt*=-1,"+"))+m(Nt/60|0,"0",2)+m(Nt%60,"0",2)}function bt(It,Nt){return m(It.getUTCDate(),Nt,2)}function Pt(It,Nt){return m(It.getUTCHours(),Nt,2)}function _t(It,Nt){return m(It.getUTCHours()%12||12,Nt,2)}function Ut(It,Nt){return m(1+D.c.count((0,d.c)(It),It),Nt,3)}function St(It,Nt){return m(It.getUTCMilliseconds(),Nt,3)}function Rt(It,Nt){return St(It,Nt)+"000"}function Et(It,Nt){return m(It.getUTCMonth()+1,Nt,2)}function zt(It,Nt){return m(It.getUTCMinutes(),Nt,2)}function Ct(It,Nt){return m(It.getUTCSeconds(),Nt,2)}function Wt(It){var Nt=It.getUTCDay();return Nt===0?7:Nt}function Kt(It,Nt){return m(y.EV.count((0,d.c)(It)-1,It),Nt,2)}function oe(It,Nt){var Ht=It.getUTCDay();return It=Ht>=4||Ht===0?(0,y.yA)(It):y.yA.ceil(It),m(y.yA.count((0,d.c)(It),It)+((0,d.c)(It).getUTCDay()===4),Nt,2)}function Jt(It){return It.getUTCDay()}function te(It,Nt){return m(y.ot.count((0,d.c)(It)-1,It),Nt,2)}function fe(It,Nt){return m(It.getUTCFullYear()%100,Nt,2)}function ve(It,Nt){return m(It.getUTCFullYear()%1e4,Nt,4)}function de(){return"+0000"}function xe(){return"%"}function Me(It){return+It}function ne(It){return Math.floor(+It/1e3)}var kt,Gt,Yt;Zt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zt(It){return kt=o(It),Gt=kt.format,kt.parse,Yt=kt.utcFormat,kt.utcParse,kt}},68936:function(W,G,t){t.d(G,{m:function(){return P}});var y=t(81628),D=t(69792),s=(0,y.c)(function(M){M.setHours(0,0,0,0)},function(M,d){M.setDate(M.getDate()+d)},function(M,d){return(d-M-(d.getTimezoneOffset()-M.getTimezoneOffset())*D.iy)/D.SK},function(M){return M.getDate()-1});G.c=s;var P=s.range},69792:function(W,G,t){t.d(G,{KK:function(){return M},SK:function(){return P},cg:function(){return s},iy:function(){return D},yc:function(){return y}});var y=1e3,D=6e4,s=36e5,P=864e5,M=6048e5},73220:function(W,G,t){t.r(G),t.d(G,{timeDay:function(){return m.c},timeDays:function(){return m.m},timeFriday:function(){return v.iB},timeFridays:function(){return v.sJ},timeHour:function(){return f},timeHours:function(){return c},timeInterval:function(){return y.c},timeMillisecond:function(){return s},timeMilliseconds:function(){return P},timeMinute:function(){return o},timeMinutes:function(){return n},timeMonday:function(){return v.qT},timeMondays:function(){return v.QP},timeMonth:function(){return h},timeMonths:function(){return i},timeSaturday:function(){return v.Wc},timeSaturdays:function(){return v.aI},timeSecond:function(){return g},timeSeconds:function(){return r},timeSunday:function(){return v.uU},timeSundays:function(){return v.Ab},timeThursday:function(){return v.kD},timeThursdays:function(){return v.eC},timeTuesday:function(){return v.Mf},timeTuesdays:function(){return v.Oc},timeWednesday:function(){return v.eg},timeWednesdays:function(){return v.sn},timeWeek:function(){return v.uU},timeWeeks:function(){return v.Ab},timeYear:function(){return p.c},timeYears:function(){return p.Q},utcDay:function(){return a.c},utcDays:function(){return a.o},utcFriday:function(){return C.od},utcFridays:function(){return C.iG},utcHour:function(){return E},utcHours:function(){return S},utcMillisecond:function(){return s},utcMilliseconds:function(){return P},utcMinute:function(){return A},utcMinutes:function(){return L},utcMonday:function(){return C.ot},utcMondays:function(){return C.iO},utcMonth:function(){return z},utcMonths:function(){return k},utcSaturday:function(){return C.Ad},utcSaturdays:function(){return C.K8},utcSecond:function(){return g},utcSeconds:function(){return r},utcSunday:function(){return C.EV},utcSundays:function(){return C.Wq},utcThursday:function(){return C.yA},utcThursdays:function(){return C.ob},utcTuesday:function(){return C.sG},utcTuesdays:function(){return C.kl},utcWednesday:function(){return C._6},utcWednesdays:function(){return C.W_},utcWeek:function(){return C.EV},utcWeeks:function(){return C.Wq},utcYear:function(){return U.c},utcYears:function(){return U.i}});var y=t(81628),D=(0,y.c)(function(){},function(F,V){F.setTime(+F+V)},function(F,V){return V-F});D.every=function(F){return F=Math.floor(F),!isFinite(F)||!(F>0)?null:F>1?(0,y.c)(function(V){V.setTime(Math.floor(V/F)*F)},function(V,N){V.setTime(+V+N*F)},function(V,N){return(N-V)/F}):D};var s=D,P=D.range,M=t(69792),d=(0,y.c)(function(F){F.setTime(F-F.getMilliseconds())},function(F,V){F.setTime(+F+V*M.yc)},function(F,V){return(V-F)/M.yc},function(F){return F.getUTCSeconds()}),g=d,r=d.range,e=(0,y.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*M.yc)},function(F,V){F.setTime(+F+V*M.iy)},function(F,V){return(V-F)/M.iy},function(F){return F.getMinutes()}),o=e,n=e.range,u=(0,y.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*M.yc-F.getMinutes()*M.iy)},function(F,V){F.setTime(+F+V*M.cg)},function(F,V){return(V-F)/M.cg},function(F){return F.getHours()}),f=u,c=u.range,m=t(68936),v=t(46192),T=(0,y.c)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,V){F.setMonth(F.getMonth()+V)},function(F,V){return V.getMonth()-F.getMonth()+(V.getFullYear()-F.getFullYear())*12},function(F){return F.getMonth()}),h=T,i=T.range,p=t(32171),w=(0,y.c)(function(F){F.setUTCSeconds(0,0)},function(F,V){F.setTime(+F+V*M.iy)},function(F,V){return(V-F)/M.iy},function(F){return F.getUTCMinutes()}),A=w,L=w.range,x=(0,y.c)(function(F){F.setUTCMinutes(0,0,0)},function(F,V){F.setTime(+F+V*M.cg)},function(F,V){return(V-F)/M.cg},function(F){return F.getUTCHours()}),E=x,S=x.range,a=t(58931),C=t(8208),b=(0,y.c)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,V){F.setUTCMonth(F.getUTCMonth()+V)},function(F,V){return V.getUTCMonth()-F.getUTCMonth()+(V.getUTCFullYear()-F.getUTCFullYear())*12},function(F){return F.getUTCMonth()}),z=b,k=b.range,U=t(53528)},81628:function(W,G,t){t.d(G,{c:function(){return s}});var y=new Date,D=new Date;function s(P,M,d,g){function r(e){return P(e=arguments.length===0?new Date:new Date(+e)),e}return r.floor=function(e){return P(e=new Date(+e)),e},r.ceil=function(e){return P(e=new Date(e-1)),M(e,1),P(e),e},r.round=function(e){var o=r(e),n=r.ceil(e);return e-o<n-e?o:n},r.offset=function(e,o){return M(e=new Date(+e),o==null?1:Math.floor(o)),e},r.range=function(e,o,n){var u=[],f;if(e=r.ceil(e),n=n==null?1:Math.floor(n),!(e<o)||!(n>0))return u;do u.push(f=new Date(+e)),M(e,n),P(e);while(f<e&&e<o);return u},r.filter=function(e){return s(function(o){if(o>=o)for(;P(o),!e(o);)o.setTime(o-1)},function(o,n){if(o>=o)if(n<0)for(;++n<=0;)for(;M(o,-1),!e(o););else for(;--n>=0;)for(;M(o,1),!e(o););})},d&&(r.count=function(e,o){return y.setTime(+e),D.setTime(+o),P(y),P(D),Math.floor(d(y,D))},r.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?r.filter(g?function(o){return g(o)%e===0}:function(o){return r.count(0,o)%e===0}):r}),r}},58931:function(W,G,t){t.d(G,{o:function(){return P}});var y=t(81628),D=t(69792),s=(0,y.c)(function(M){M.setUTCHours(0,0,0,0)},function(M,d){M.setUTCDate(M.getUTCDate()+d)},function(M,d){return(d-M)/D.SK},function(M){return M.getUTCDate()-1});G.c=s;var P=s.range},8208:function(W,G,t){t.d(G,{Ad:function(){return o},EV:function(){return P},K8:function(){return T},W_:function(){return c},Wq:function(){return n},_6:function(){return g},iG:function(){return v},iO:function(){return u},kl:function(){return f},ob:function(){return m},od:function(){return e},ot:function(){return M},sG:function(){return d},yA:function(){return r}});var y=t(81628),D=t(69792);function s(h){return(0,y.c)(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-h)%7),i.setUTCHours(0,0,0,0)},function(i,p){i.setUTCDate(i.getUTCDate()+p*7)},function(i,p){return(p-i)/D.KK})}var P=s(0),M=s(1),d=s(2),g=s(3),r=s(4),e=s(5),o=s(6),n=P.range,u=M.range,f=d.range,c=g.range,m=r.range,v=e.range,T=o.range},53528:function(W,G,t){t.d(G,{i:function(){return s}});var y=t(81628),D=(0,y.c)(function(P){P.setUTCMonth(0,1),P.setUTCHours(0,0,0,0)},function(P,M){P.setUTCFullYear(P.getUTCFullYear()+M)},function(P,M){return M.getUTCFullYear()-P.getUTCFullYear()},function(P){return P.getUTCFullYear()});D.every=function(P){return!isFinite(P=Math.floor(P))||!(P>0)?null:(0,y.c)(function(M){M.setUTCFullYear(Math.floor(M.getUTCFullYear()/P)*P),M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,d){M.setUTCFullYear(M.getUTCFullYear()+d*P)})},G.c=D;var s=D.range},46192:function(W,G,t){t.d(G,{Ab:function(){return n},Mf:function(){return d},Oc:function(){return f},QP:function(){return u},Wc:function(){return o},aI:function(){return T},eC:function(){return m},eg:function(){return g},iB:function(){return e},kD:function(){return r},qT:function(){return M},sJ:function(){return v},sn:function(){return c},uU:function(){return P}});var y=t(81628),D=t(69792);function s(h){return(0,y.c)(function(i){i.setDate(i.getDate()-(i.getDay()+7-h)%7),i.setHours(0,0,0,0)},function(i,p){i.setDate(i.getDate()+p*7)},function(i,p){return(p-i-(p.getTimezoneOffset()-i.getTimezoneOffset())*D.iy)/D.KK})}var P=s(0),M=s(1),d=s(2),g=s(3),r=s(4),e=s(5),o=s(6),n=P.range,u=M.range,f=d.range,c=g.range,m=r.range,v=e.range,T=o.range},32171:function(W,G,t){t.d(G,{Q:function(){return s}});var y=t(81628),D=(0,y.c)(function(P){P.setMonth(0,1),P.setHours(0,0,0,0)},function(P,M){P.setFullYear(P.getFullYear()+M)},function(P,M){return M.getFullYear()-P.getFullYear()},function(P){return P.getFullYear()});D.every=function(P){return!isFinite(P=Math.floor(P))||!(P>0)?null:(0,y.c)(function(M){M.setFullYear(Math.floor(M.getFullYear()/P)*P),M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,d){M.setFullYear(M.getFullYear()+d*P)})},G.c=D;var s=D.range},64348:function(W,G,t){var y=t(39640)(),D=t(53664),s=y&&D("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch{s=!1}var P=D("%SyntaxError%"),M=D("%TypeError%"),d=t(2304);W.exports=function(r,e,o){if(!r||typeof r!="object"&&typeof r!="function")throw new M("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new M("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new M("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new M("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new M("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new M("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,m=!!d&&d(r,e);if(s)s(r,e,{configurable:f===null&&m?m.configurable:!f,enumerable:n===null&&m?m.enumerable:!n,value:o,writable:u===null&&m?m.writable:!u});else if(c||!n&&!u&&!f)r[e]=o;else throw new P("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(W,G,t){var y=t(41820),D=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",s=Object.prototype.toString,P=Array.prototype.concat,M=Object.defineProperty,d=function(n){return typeof n=="function"&&s.call(n)==="[object Function]"},g=t(39640)(),r=M&&g,e=function(n,u,f,c){if(u in n){if(c===!0){if(n[u]===f)return}else if(!d(c)||!c())return}r?M(n,u,{configurable:!0,enumerable:!1,value:f,writable:!0}):n[u]=f},o=function(n,u){var f=arguments.length>2?arguments[2]:{},c=y(u);D&&(c=P.call(c,Object.getOwnPropertySymbols(u)));for(var m=0;m<c.length;m+=1)e(n,c[m],u[c[m]],f[c[m]])};o.supportsDescriptors=!!r,W.exports=o},31264:function(W){W.exports=function(){for(var G=0;G<arguments.length;G++)if(arguments[G]!==void 0)return arguments[G]}},63768:function(W){W.exports=D;var G=D.canvas=document.createElement("canvas"),t=G.getContext("2d"),y=s([32,126]);D.createPairs=s,D.ascii=y;function D(P,M){Array.isArray(P)&&(P=P.join(", "));var d={},g,r=16,e=.05;M&&(M.length===2&&typeof M[0]=="number"?g=s(M):Array.isArray(M)?g=M:(M.o?g=s(M.o):M.pairs&&(g=M.pairs),M.fontSize&&(r=M.fontSize),M.threshold!=null&&(e=M.threshold))),g||(g=y),t.font=r+"px "+P;for(var o=0;o<g.length;o++){var n=g[o],u=t.measureText(n[0]).width+t.measureText(n[1]).width,f=t.measureText(n).width;if(Math.abs(u-f)>r*e){var c=(f-u)/r;d[n]=c*1e3}}return d}function s(P){for(var M=[],d=P[0];d<=P[1];d++)for(var g=String.fromCharCode(d),r=P[0];r<P[1];r++){var e=String.fromCharCode(r),o=g+e;M.push(o)}return M}},22235:function(W,G,t){var y=t(49972),D=t(48816),s={M:"moveTo",C:"bezierCurveTo"};W.exports=function(P,M){P.beginPath(),D(y(M)).forEach(function(d){var g=d[0],r=d.slice(1);P[s[g]].apply(P,r)}),P.closePath()}},72512:function(W){W.exports=function(G){switch(G){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(W){function G(D,s,P){var M=D[P]|0;if(M<=0)return[];var d=new Array(M),g;if(P===D.length-1)for(g=0;g<M;++g)d[g]=s;else for(g=0;g<M;++g)d[g]=G(D,s,P+1);return d}function t(D,s){var P,M;for(P=new Array(D),M=0;M<D;++M)P[M]=s;return P}function y(D,s){switch(typeof s>"u"&&(s=0),typeof D){case"number":if(D>0)return t(D|0,s);break;case"object":if(typeof D.length=="number")return G(D,s,0);break}return[]}W.exports=y},28912:function(W){W.exports=G,W.exports.default=G;function G(k,U,F){F=F||2;var V=U&&U.length,N=V?U[0]*F:k.length,O=t(k,0,N,F,!0),H=[];if(!O||O.next===O.prev)return H;var X,J,et,it,ft,ot,Q;if(V&&(O=g(k,U,O,F)),k.length>80*F){X=et=k[0],J=it=k[1];for(var tt=F;tt<N;tt+=F)ft=k[tt],ot=k[tt+1],ft<X&&(X=ft),ot<J&&(J=ot),ft>et&&(et=ft),ot>it&&(it=ot);Q=Math.max(et-X,it-J),Q=Q!==0?1/Q:0}return D(O,H,F,X,J,Q),H}function t(k,U,F,V,N){var O,H;if(N===z(k,U,F,V)>0)for(O=U;O<F;O+=V)H=a(O,k[O],k[O+1],H);else for(O=F-V;O>=U;O-=V)H=a(O,k[O],k[O+1],H);return H&&i(H,H.next)&&(C(H),H=H.next),H}function y(k,U){if(!k)return k;U||(U=k);var F=k,V;do if(V=!1,!F.steiner&&(i(F,F.next)||h(F.prev,F,F.next)===0)){if(C(F),F=U=F.prev,F===F.next)break;V=!0}else F=F.next;while(V||F!==U);return U}function D(k,U,F,V,N,O,H){if(k){!H&&O&&u(k,V,N,O);for(var X=k,J,et;k.prev!==k.next;){if(J=k.prev,et=k.next,O?P(k,V,N,O):s(k)){U.push(J.i/F),U.push(k.i/F),U.push(et.i/F),C(k),k=et.next,X=et.next;continue}if(k=et,k===X){H?H===1?(k=M(y(k),U,F),D(k,U,F,V,N,O,2)):H===2&&d(k,U,F,V,N,O):D(y(k),U,F,V,N,O,1);break}}}}function s(k){var U=k.prev,F=k,V=k.next;if(h(U,F,V)>=0)return!1;for(var N=k.next.next;N!==k.prev;){if(v(U.x,U.y,F.x,F.y,V.x,V.y,N.x,N.y)&&h(N.prev,N,N.next)>=0)return!1;N=N.next}return!0}function P(k,U,F,V){var N=k.prev,O=k,H=k.next;if(h(N,O,H)>=0)return!1;for(var X=N.x<O.x?N.x<H.x?N.x:H.x:O.x<H.x?O.x:H.x,J=N.y<O.y?N.y<H.y?N.y:H.y:O.y<H.y?O.y:H.y,et=N.x>O.x?N.x>H.x?N.x:H.x:O.x>H.x?O.x:H.x,it=N.y>O.y?N.y>H.y?N.y:H.y:O.y>H.y?O.y:H.y,ft=c(X,J,U,F,V),ot=c(et,it,U,F,V),Q=k.prevZ,tt=k.nextZ;Q&&Q.z>=ft&&tt&&tt.z<=ot;){if(Q!==k.prev&&Q!==k.next&&v(N.x,N.y,O.x,O.y,H.x,H.y,Q.x,Q.y)&&h(Q.prev,Q,Q.next)>=0||(Q=Q.prevZ,tt!==k.prev&&tt!==k.next&&v(N.x,N.y,O.x,O.y,H.x,H.y,tt.x,tt.y)&&h(tt.prev,tt,tt.next)>=0))return!1;tt=tt.nextZ}for(;Q&&Q.z>=ft;){if(Q!==k.prev&&Q!==k.next&&v(N.x,N.y,O.x,O.y,H.x,H.y,Q.x,Q.y)&&h(Q.prev,Q,Q.next)>=0)return!1;Q=Q.prevZ}for(;tt&&tt.z<=ot;){if(tt!==k.prev&&tt!==k.next&&v(N.x,N.y,O.x,O.y,H.x,H.y,tt.x,tt.y)&&h(tt.prev,tt,tt.next)>=0)return!1;tt=tt.nextZ}return!0}function M(k,U,F){var V=k;do{var N=V.prev,O=V.next.next;!i(N,O)&&p(N,V,V.next,O)&&x(N,O)&&x(O,N)&&(U.push(N.i/F),U.push(V.i/F),U.push(O.i/F),C(V),C(V.next),V=k=O),V=V.next}while(V!==k);return y(V)}function d(k,U,F,V,N,O){var H=k;do{for(var X=H.next.next;X!==H.prev;){if(H.i!==X.i&&T(H,X)){var J=S(H,X);H=y(H,H.next),J=y(J,J.next),D(H,U,F,V,N,O),D(J,U,F,V,N,O);return}X=X.next}H=H.next}while(H!==k)}function g(k,U,F,V){var N=[],O,H,X,J,et;for(O=0,H=U.length;O<H;O++)X=U[O]*V,J=O<H-1?U[O+1]*V:k.length,et=t(k,X,J,V,!1),et===et.next&&(et.steiner=!0),N.push(m(et));for(N.sort(r),O=0;O<N.length;O++)e(N[O],F),F=y(F,F.next);return F}function r(k,U){return k.x-U.x}function e(k,U){if(U=o(k,U),U){var F=S(U,k);y(U,U.next),y(F,F.next)}}function o(k,U){var F=U,V=k.x,N=k.y,O=-1/0,H;do{if(N<=F.y&&N>=F.next.y&&F.next.y!==F.y){var X=F.x+(N-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(X<=V&&X>O){if(O=X,X===V){if(N===F.y)return F;if(N===F.next.y)return F.next}H=F.x<F.next.x?F:F.next}}F=F.next}while(F!==U);if(!H)return null;if(V===O)return H;var J=H,et=H.x,it=H.y,ft=1/0,ot;F=H;do V>=F.x&&F.x>=et&&V!==F.x&&v(N<it?V:O,N,et,it,N<it?O:V,N,F.x,F.y)&&(ot=Math.abs(N-F.y)/(V-F.x),x(F,k)&&(ot<ft||ot===ft&&(F.x>H.x||F.x===H.x&&n(H,F)))&&(H=F,ft=ot)),F=F.next;while(F!==J);return H}function n(k,U){return h(k.prev,k,U.prev)<0&&h(U.next,k,k.next)<0}function u(k,U,F,V){var N=k;do N.z===null&&(N.z=c(N.x,N.y,U,F,V)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==k);N.prevZ.nextZ=null,N.prevZ=null,f(N)}function f(k){var U,F,V,N,O,H,X,J,et=1;do{for(F=k,k=null,O=null,H=0;F;){for(H++,V=F,X=0,U=0;U<et&&(X++,V=V.nextZ,!!V);U++);for(J=et;X>0||J>0&&V;)X!==0&&(J===0||!V||F.z<=V.z)?(N=F,F=F.nextZ,X--):(N=V,V=V.nextZ,J--),O?O.nextZ=N:k=N,N.prevZ=O,O=N;F=V}O.nextZ=null,et*=2}while(H>1);return k}function c(k,U,F,V,N){return k=32767*(k-F)*N,U=32767*(U-V)*N,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,k|U<<1}function m(k){var U=k,F=k;do(U.x<F.x||U.x===F.x&&U.y<F.y)&&(F=U),U=U.next;while(U!==k);return F}function v(k,U,F,V,N,O,H,X){return(N-H)*(U-X)-(k-H)*(O-X)>=0&&(k-H)*(V-X)-(F-H)*(U-X)>=0&&(F-H)*(O-X)-(N-H)*(V-X)>=0}function T(k,U){return k.next.i!==U.i&&k.prev.i!==U.i&&!L(k,U)&&(x(k,U)&&x(U,k)&&E(k,U)&&(h(k.prev,k,U.prev)||h(k,U.prev,U))||i(k,U)&&h(k.prev,k,k.next)>0&&h(U.prev,U,U.next)>0)}function h(k,U,F){return(U.y-k.y)*(F.x-U.x)-(U.x-k.x)*(F.y-U.y)}function i(k,U){return k.x===U.x&&k.y===U.y}function p(k,U,F,V){var N=A(h(k,U,F)),O=A(h(k,U,V)),H=A(h(F,V,k)),X=A(h(F,V,U));return!!(N!==O&&H!==X||N===0&&w(k,F,U)||O===0&&w(k,V,U)||H===0&&w(F,k,V)||X===0&&w(F,U,V))}function w(k,U,F){return U.x<=Math.max(k.x,F.x)&&U.x>=Math.min(k.x,F.x)&&U.y<=Math.max(k.y,F.y)&&U.y>=Math.min(k.y,F.y)}function A(k){return k>0?1:k<0?-1:0}function L(k,U){var F=k;do{if(F.i!==k.i&&F.next.i!==k.i&&F.i!==U.i&&F.next.i!==U.i&&p(F,F.next,k,U))return!0;F=F.next}while(F!==k);return!1}function x(k,U){return h(k.prev,k,k.next)<0?h(k,U,k.next)>=0&&h(k,k.prev,U)>=0:h(k,U,k.prev)<0||h(k,k.next,U)<0}function E(k,U){var F=k,V=!1,N=(k.x+U.x)/2,O=(k.y+U.y)/2;do F.y>O!=F.next.y>O&&F.next.y!==F.y&&N<(F.next.x-F.x)*(O-F.y)/(F.next.y-F.y)+F.x&&(V=!V),F=F.next;while(F!==k);return V}function S(k,U){var F=new b(k.i,k.x,k.y),V=new b(U.i,U.x,U.y),N=k.next,O=U.prev;return k.next=U,U.prev=k,F.next=N,N.prev=F,V.next=F,F.prev=V,O.next=V,V.prev=O,V}function a(k,U,F,V){var N=new b(k,U,F);return V?(N.next=V.next,N.prev=V,V.next.prev=N,V.next=N):(N.prev=N,N.next=N),N}function C(k){k.next.prev=k.prev,k.prev.next=k.next,k.prevZ&&(k.prevZ.nextZ=k.nextZ),k.nextZ&&(k.nextZ.prevZ=k.prevZ)}function b(k,U,F){this.i=k,this.x=U,this.y=F,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}G.deviation=function(k,U,F,V){var N=U&&U.length,O=N?U[0]*F:k.length,H=Math.abs(z(k,0,O,F));if(N)for(var X=0,J=U.length;X<J;X++){var et=U[X]*F,it=X<J-1?U[X+1]*F:k.length;H-=Math.abs(z(k,et,it,F))}var ft=0;for(X=0;X<V.length;X+=3){var ot=V[X]*F,Q=V[X+1]*F,tt=V[X+2]*F;ft+=Math.abs((k[ot]-k[tt])*(k[Q+1]-k[ot+1])-(k[ot]-k[Q])*(k[tt+1]-k[ot+1]))}return H===0&&ft===0?0:Math.abs((ft-H)/H)};function z(k,U,F,V){for(var N=0,O=U,H=F-V;O<F;O+=V)N+=(k[H]-k[O])*(k[O+1]+k[H+1]),H=O;return N}G.flatten=function(k){for(var U=k[0][0].length,F={vertices:[],holes:[],dimensions:U},V=0,N=0;N<k.length;N++){for(var O=0;O<k[N].length;O++)for(var H=0;H<U;H++)F.vertices.push(k[N][O][H]);N>0&&(V+=k[N-1].length,F.holes.push(V))}return F}},6688:function(W,G,t){var y=t(78484);W.exports=function(s,P){var M=[],d=[],g=[],r={},e=[],o;function n(w){g[w]=!1,r.hasOwnProperty(w)&&Object.keys(r[w]).forEach(function(A){delete r[w][A],g[A]&&n(A)})}function u(w){var A=!1;d.push(w),g[w]=!0;var L,x;for(L=0;L<e[w].length;L++)x=e[w][L],x===o?(f(o,d),A=!0):g[x]||(A=u(x));if(A)n(w);else for(L=0;L<e[w].length;L++){x=e[w][L];var E=r[x];E||(E={},r[x]=E),E[x]=!0}return d.pop(),A}function f(w,A){var L=[].concat(A).concat(w);P?P(u):M.push(L)}function c(w){for(var A=0;A<s.length;A++)A<w&&(s[A]=[]),s[A]=s[A].filter(function(L){return L>=w})}function m(w){c(w);for(var A=s,L=y(A),x=L.components.filter(function(k){return k.length>1}),E=1/0,S,a=0;a<x.length;a++)for(var C=0;C<x[a].length;C++)x[a][C]<E&&(E=x[a][C],S=a);var b=x[S];if(!b)return!1;var z=s.map(function(k,U){return b.indexOf(U)===-1?[]:k.filter(function(F){return b.indexOf(F)!==-1})});return{leastVertex:E,adjList:z}}o=0;for(var v=s.length;o<v;){var T=m(o);if(o=T.leastVertex,e=T.adjList,e){for(var h=0;h<e.length;h++)for(var i=0;i<e[h].length;i++){var p=e[h][i];g[+p]=!1,r[p]={}}u(o),o=o+1}else o=v}if(!P)return M}},41476:function(W,G,t){var y=t(9252);W.exports=function(){return y(this).length=0,this}},74772:function(W,G,t){W.exports=t(44716)()?Array.from:t(80816)},44716:function(W){W.exports=function(){var G=Array.from,t,y;return typeof G!="function"?!1:(t=["raz","dwa"],y=G(t),!!(y&&y!==t&&y[1]==="dwa"))}},80816:function(W,G,t){var y=t(92664).iterator,D=t(60948),s=t(17024),P=t(81304),M=t(34044),d=t(9252),g=t(42584),r=t(29768),e=Array.isArray,o=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},u=Object.defineProperty;W.exports=function(f){var c=arguments[1],m=arguments[2],v,T,h,i,p,w,A,L,x,E;if(f=Object(d(f)),g(c)&&M(c),!this||this===Array||!s(this)){if(!c){if(D(f))return p=f.length,p!==1?Array.apply(null,f):(i=new Array(1),i[0]=f[0],i);if(e(f)){for(i=new Array(p=f.length),T=0;T<p;++T)i[T]=f[T];return i}}i=[]}else v=this;if(!e(f)){if((x=f[y])!==void 0){for(A=M(x).call(f),v&&(i=new v),L=A.next(),T=0;!L.done;)E=c?o.call(c,m,L.value,T):L.value,v?(n.value=E,u(i,T,n)):i[T]=E,L=A.next(),++T;p=T}else if(r(f)){for(p=f.length,v&&(i=new v),T=0,h=0;T<p;++T)E=f[T],T+1<p&&(w=E.charCodeAt(0),w>=55296&&w<=56319&&(E+=f[++T])),E=c?o.call(c,m,E,h):E,v?(n.value=E,u(i,h,n)):i[h]=E,++h;p=h}}if(p===void 0)for(p=P(f.length),v&&(i=new v(p)),T=0;T<p;++T)E=c?o.call(c,m,f[T],T):f[T],v?(n.value=E,u(i,T,n)):i[T]=E;return v&&(n.value=null,i.length=p),i}},60948:function(W){var G=Object.prototype.toString,t=G.call(function(){return arguments}());W.exports=function(y){return G.call(y)===t}},17024:function(W){var G=Object.prototype.toString,t=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);W.exports=function(y){return typeof y=="function"&&t(G.call(y))}},33208:function(W){W.exports=function(){}},85608:function(W,G,t){W.exports=t(37328)()?Math.sign:t(92928)},37328:function(W){W.exports=function(){var G=Math.sign;return typeof G!="function"?!1:G(10)===1&&G(-20)===-1}},92928:function(W){W.exports=function(G){return G=Number(G),isNaN(G)||G===0?G:G>0?1:-1}},96936:function(W,G,t){var y=t(85608),D=Math.abs,s=Math.floor;W.exports=function(P){return isNaN(P)?0:(P=Number(P),P===0||!isFinite(P)?P:y(P)*s(D(P)))}},81304:function(W,G,t){var y=t(96936),D=Math.max;W.exports=function(s){return D(0,y(s))}},14428:function(W,G,t){var y=t(34044),D=t(9252),s=Function.prototype.bind,P=Function.prototype.call,M=Object.keys,d=Object.prototype.propertyIsEnumerable;W.exports=function(g,r){return function(e,o){var n,u=arguments[2],f=arguments[3];return e=Object(D(e)),y(o),n=M(e),f&&n.sort(typeof f=="function"?s.call(f,e):void 0),typeof g!="function"&&(g=n[g]),P.call(g,n,function(c,m){return d.call(e,c)?P.call(o,u,e[c],c,e,m):r})}}},38452:function(W,G,t){W.exports=t(96276)()?Object.assign:t(81892)},96276:function(W){W.exports=function(){var G=Object.assign,t;return typeof G!="function"?!1:(t={foo:"raz"},G(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},81892:function(W,G,t){var y=t(54768),D=t(9252),s=Math.max;W.exports=function(P,M){var d,g,r=s(arguments.length,2),e;for(P=Object(D(P)),e=function(o){try{P[o]=M[o]}catch(n){d||(d=n)}},g=1;g<r;++g)M=arguments[g],y(M).forEach(e);if(d!==void 0)throw d;return P}},95920:function(W,G,t){var y=t(74772),D=t(38452),s=t(9252);W.exports=function(P){var M=Object(s(P)),d=arguments[1],g=Object(arguments[2]);if(M!==P&&!d)return M;var r={};return d?y(d,function(e){(g.ensure||e in P)&&(r[e]=P[e])}):D(r,P),r}},14452:function(W,G,t){var y=Object.create,D;t(63092)()||(D=t(8672)),W.exports=function(){var s,P,M;return!D||D.level!==1?y:(s={},P={},M={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(d){if(d==="__proto__"){P[d]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}P[d]=M}),Object.defineProperties(s,P),Object.defineProperty(D,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:s}),function(d,g){return y(d===null?s:d,g)})}()},42748:function(W,G,t){W.exports=t(14428)("forEach")},69127:function(W,G,t){var y=t(42584),D={function:!0,object:!0};W.exports=function(s){return y(s)&&D[typeof s]||!1}},42584:function(W,G,t){var y=t(33208)();W.exports=function(D){return D!==y&&D!==null}},54768:function(W,G,t){W.exports=t(87888)()?Object.keys:t(89592)},87888:function(W){W.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(W,G,t){var y=t(42584),D=Object.keys;W.exports=function(s){return D(y(s)?Object(s):s)}},84323:function(W,G,t){var y=t(34044),D=t(42748),s=Function.prototype.call;W.exports=function(P,M){var d={},g=arguments[2];return y(M),D(P,function(r,e,o,n){d[e]=s.call(M,g,r,e,o,n)}),d}},50868:function(W,G,t){var y=t(42584),D=Array.prototype.forEach,s=Object.create,P=function(M,d){var g;for(g in M)d[g]=M[g]};W.exports=function(M){var d=s(null);return D.call(arguments,function(g){y(g)&&P(Object(g),d)}),d}},69932:function(W,G,t){W.exports=t(63092)()?Object.setPrototypeOf:t(8672)},63092:function(W){var G=Object.create,t=Object.getPrototypeOf,y={};W.exports=function(){var D=Object.setPrototypeOf,s=arguments[0]||G;return typeof D!="function"?!1:t(D(s(null),y))===y}},8672:function(W,G,t){var y=t(69127),D=t(9252),s=Object.prototype.isPrototypeOf,P=Object.defineProperty,M={configurable:!0,enumerable:!1,writable:!0,value:void 0},d;d=function(g,r){if(D(g),r===null||y(r))return g;throw new TypeError("Prototype must be null or an object")},W.exports=function(g){var r,e;return g?(g.level===2?g.set?(e=g.set,r=function(o,n){return e.call(d(o,n),n),o}):r=function(o,n){return d(o,n).__proto__=n,o}:r=function o(n,u){var f;return d(n,u),f=s.call(o.nullPolyfill,n),f&&delete o.nullPolyfill.__proto__,u===null&&(u=o.nullPolyfill),n.__proto__=u,f&&P(o.nullPolyfill,"__proto__",M),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:g.level})):null}(function(){var g=Object.create(null),r={},e,o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(o){try{e=o.set,e.call(g,r)}catch{}if(Object.getPrototypeOf(g)===r)return{set:e,level:2}}return g.__proto__=r,Object.getPrototypeOf(g)===r?{level:2}:(g={},g.__proto__=r,Object.getPrototypeOf(g)===r?{level:1}:!1)}()),t(14452)},34044:function(W){W.exports=function(G){if(typeof G!="function")throw new TypeError(G+" is not a function");return G}},92584:function(W,G,t){var y=t(69127);W.exports=function(D){if(!y(D))throw new TypeError(D+" is not an Object");return D}},9252:function(W,G,t){var y=t(42584);W.exports=function(D){if(!y(D))throw new TypeError("Cannot use null or undefined");return D}},71056:function(W,G,t){W.exports=t(42976)()?String.prototype.contains:t(93040)},42976:function(W){var G="razdwatrzy";W.exports=function(){return typeof G.contains!="function"?!1:G.contains("dwa")===!0&&G.contains("foo")===!1}},93040:function(W){var G=String.prototype.indexOf;W.exports=function(t){return G.call(this,t,arguments[1])>-1}},29768:function(W){var G=Object.prototype.toString,t=G.call("");W.exports=function(y){return typeof y=="string"||y&&typeof y=="object"&&(y instanceof String||G.call(y)===t)||!1}},82252:function(W){var G=Object.create(null),t=Math.random;W.exports=function(){var y;do y=t().toString(36).slice(2);while(G[y]);return y}},52104:function(W,G,t){var y=t(69932),D=t(71056),s=t(21092),P=t(92664),M=t(85512),d=Object.defineProperty,g;g=W.exports=function(r,e){if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");M.call(this,r),e?D.call(e,"key+value")?e="key+value":D.call(e,"key")?e="key":e="value":e="value",d(this,"__kind__",s("",e))},y&&y(g,M),delete g.prototype.constructor,g.prototype=Object.create(M.prototype,{_resolve:s(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),d(g.prototype,P.toStringTag,s("c","Array Iterator"))},76024:function(W,G,t){var y=t(60948),D=t(34044),s=t(29768),P=t(76252),M=Array.isArray,d=Function.prototype.call,g=Array.prototype.some;W.exports=function(r,e){var o,n=arguments[2],u,f,c,m,v,T,h;if(M(r)||y(r)?o="array":s(r)?o="string":r=P(r),D(e),f=function(){c=!0},o==="array"){g.call(r,function(i){return d.call(e,n,i,f),c});return}if(o==="string"){for(v=r.length,m=0;m<v&&(T=r[m],m+1<v&&(h=T.charCodeAt(0),h>=55296&&h<=56319&&(T+=r[++m])),d.call(e,n,T,f),!c);++m);return}for(u=r.next();!u.done;){if(d.call(e,n,u.value,f),c)return;u=r.next()}}},76252:function(W,G,t){var y=t(60948),D=t(29768),s=t(52104),P=t(80940),M=t(52891),d=t(92664).iterator;W.exports=function(g){return typeof M(g)[d]=="function"?g[d]():y(g)?new s(g):D(g)?new P(g):new s(g)}},85512:function(W,G,t){var y=t(41476),D=t(38452),s=t(34044),P=t(9252),M=t(21092),d=t(27940),g=t(92664),r=Object.defineProperty,e=Object.defineProperties,o;W.exports=o=function(n,u){if(!(this instanceof o))throw new TypeError("Constructor requires 'new'");e(this,{__list__:M("w",P(n)),__context__:M("w",u),__nextIndex__:M("w",0)}),u&&(s(u.on),u.on("_add",this._onAdd),u.on("_delete",this._onDelete),u.on("_clear",this._onClear))},delete o.prototype.constructor,e(o.prototype,D({_next:M(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:M(function(){return this._createResult(this._next())}),_createResult:M(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:M(function(n){return this.__list__[n]}),_unBind:M(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:M(function(){return"[object "+(this[g.toStringTag]||"Object")+"]"})},d({_onAdd:M(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",M("c",[n]));return}this.__redo__.forEach(function(u,f){u>=n&&(this.__redo__[f]=++u)},this),this.__redo__.push(n)}}),_onDelete:M(function(n){var u;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(u=this.__redo__.indexOf(n),u!==-1&&this.__redo__.splice(u,1),this.__redo__.forEach(function(f,c){f>n&&(this.__redo__[c]=--f)},this)))}),_onClear:M(function(){this.__redo__&&y.call(this.__redo__),this.__nextIndex__=0})}))),r(o.prototype,g.iterator,M(function(){return this}))},76368:function(W,G,t){var y=t(60948),D=t(42584),s=t(29768),P=t(92664).iterator,M=Array.isArray;W.exports=function(d){return D(d)?M(d)||s(d)||y(d)?!0:typeof d[P]=="function":!1}},80940:function(W,G,t){var y=t(69932),D=t(21092),s=t(92664),P=t(85512),M=Object.defineProperty,d;d=W.exports=function(g){if(!(this instanceof d))throw new TypeError("Constructor requires 'new'");g=String(g),P.call(this,g),M(this,"__length__",D("",g.length))},y&&y(d,P),delete d.prototype.constructor,d.prototype=Object.create(P.prototype,{_next:D(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:D(function(g){var r=this.__list__[g],e;return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0),e>=55296&&e<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),M(d.prototype,s.toStringTag,D("c","String Iterator"))},52891:function(W,G,t){var y=t(76368);W.exports=function(D){if(!y(D))throw new TypeError(D+" is not iterable");return D}},60964:function(W){function G(y,D){if(y==null)throw new TypeError("Cannot convert first argument to object");for(var s=Object(y),P=1;P<arguments.length;P++){var M=arguments[P];if(M!=null)for(var d=Object.keys(Object(M)),g=0,r=d.length;g<r;g++){var e=d[g],o=Object.getOwnPropertyDescriptor(M,e);o!==void 0&&o.enumerable&&(s[e]=M[e])}}return s}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:G})}W.exports={assign:G,polyfill:t}},92664:function(W,G,t){W.exports=t(43580)()?t(12296).Symbol:t(18376)},43580:function(W,G,t){var y=t(12296),D={object:!0,symbol:!0};W.exports=function(){var s=y.Symbol,P;if(typeof s!="function")return!1;P=s("test symbol");try{String(P)}catch{return!1}return!(!D[typeof s.iterator]||!D[typeof s.toPrimitive]||!D[typeof s.toStringTag])}},53908:function(W){W.exports=function(G){return G?typeof G=="symbol"?!0:!G.constructor||G.constructor.name!=="Symbol"?!1:G[G.constructor.toStringTag]==="Symbol":!1}},96863:function(W,G,t){var y=t(21092),D=Object.create,s=Object.defineProperty,P=Object.prototype,M=D(null);W.exports=function(d){for(var g=0,r,e;M[d+(g||"")];)++g;return d+=g||"",M[d]=!0,r="@@"+d,s(P,r,y.gs(null,function(o){e||(e=!0,s(this,r,y(o)),e=!1)})),r}},53540:function(W,G,t){var y=t(21092),D=t(12296).Symbol;W.exports=function(s){return Object.defineProperties(s,{hasInstance:y("",D&&D.hasInstance||s("hasInstance")),isConcatSpreadable:y("",D&&D.isConcatSpreadable||s("isConcatSpreadable")),iterator:y("",D&&D.iterator||s("iterator")),match:y("",D&&D.match||s("match")),replace:y("",D&&D.replace||s("replace")),search:y("",D&&D.search||s("search")),species:y("",D&&D.species||s("species")),split:y("",D&&D.split||s("split")),toPrimitive:y("",D&&D.toPrimitive||s("toPrimitive")),toStringTag:y("",D&&D.toStringTag||s("toStringTag")),unscopables:y("",D&&D.unscopables||s("unscopables"))})}},73852:function(W,G,t){var y=t(21092),D=t(63948),s=Object.create(null);W.exports=function(P){return Object.defineProperties(P,{for:y(function(M){return s[M]?s[M]:s[M]=P(String(M))}),keyFor:y(function(M){var d;D(M);for(d in s)if(s[d]===M)return d})})}},18376:function(W,G,t){var y=t(21092),D=t(63948),s=t(12296).Symbol,P=t(96863),M=t(53540),d=t(73852),g=Object.create,r=Object.defineProperties,e=Object.defineProperty,o,n,u;if(typeof s=="function")try{String(s()),u=!0}catch{}else s=null;n=function(c){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return o(c)},W.exports=o=function f(c){var m;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return u?s(c):(m=g(n.prototype),c=c===void 0?"":String(c),r(m,{__description__:y("",c),__name__:y("",P(c))}))},M(o),d(o),r(n.prototype,{constructor:y(o),toString:y("",function(){return this.__name__})}),r(o.prototype,{toString:y(function(){return"Symbol ("+D(this).__description__+")"}),valueOf:y(function(){return D(this)})}),e(o.prototype,o.toPrimitive,y("",function(){var f=D(this);return typeof f=="symbol"?f:f.toString()})),e(o.prototype,o.toStringTag,y("c","Symbol")),e(n.prototype,o.toStringTag,y("c",o.prototype[o.toStringTag])),e(n.prototype,o.toPrimitive,y("c",o.prototype[o.toPrimitive]))},63948:function(W,G,t){var y=t(53908);W.exports=function(D){if(!y(D))throw new TypeError(D+" is not a symbol");return D}},60463:function(W,G,t){W.exports=t(96979)()?WeakMap:t(64864)},96979:function(W){W.exports=function(){var G,t;if(typeof WeakMap!="function")return!1;try{G=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(G)!=="[object WeakMap]"||typeof G.set!="function"||G.set({},1)!==G||typeof G.delete!="function"||typeof G.has!="function"||G.get(t)!=="one")}},69876:function(W){W.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(W,G,t){var y=t(42584),D=t(69932),s=t(92584),P=t(9252),M=t(82252),d=t(21092),g=t(76252),r=t(76024),e=t(92664).toStringTag,o=t(69876),n=Array.isArray,u=Object.defineProperty,f=Object.prototype.hasOwnProperty,c=Object.getPrototypeOf,m;W.exports=m=function(){var v=arguments[0],T;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return T=o&&D&&WeakMap!==m?D(new WeakMap,c(this)):this,y(v)&&(n(v)||(v=g(v))),u(T,"__weakMapData__",d("c","$weakMap$"+M())),v&&r(v,function(h){P(h),T.set(h[0],h[1])}),T},o&&(D&&D(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:d(m)})),Object.defineProperties(m.prototype,{delete:d(function(v){return f.call(s(v),this.__weakMapData__)?(delete v[this.__weakMapData__],!0):!1}),get:d(function(v){if(f.call(s(v),this.__weakMapData__))return v[this.__weakMapData__]}),has:d(function(v){return f.call(s(v),this.__weakMapData__)}),set:d(function(v,T){return u(s(v),this.__weakMapData__,d("c",T)),this}),toString:d(function(){return"[object WeakMap]"})}),u(m.prototype,e,d("c","WeakMap"))},61252:function(W){var G=typeof Reflect=="object"?Reflect:null,t=G&&typeof G.apply=="function"?G.apply:function(p,w,A){return Function.prototype.apply.call(p,w,A)},y;G&&typeof G.ownKeys=="function"?y=G.ownKeys:Object.getOwnPropertySymbols?y=function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:y=function(p){return Object.getOwnPropertyNames(p)};function D(i){console&&console.warn&&console.warn(i)}var s=Number.isNaN||function(p){return p!==p};function P(){P.init.call(this)}W.exports=P,W.exports.once=v,P.EventEmitter=P,P.prototype._events=void 0,P.prototype._eventsCount=0,P.prototype._maxListeners=void 0;var M=10;function d(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function(i){if(typeof i!="number"||i<0||s(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");M=i}}),P.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},P.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||s(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this};function g(i){return i._maxListeners===void 0?P.defaultMaxListeners:i._maxListeners}P.prototype.getMaxListeners=function(){return g(this)},P.prototype.emit=function(p){for(var w=[],A=1;A<arguments.length;A++)w.push(arguments[A]);var L=p==="error",x=this._events;if(x!==void 0)L=L&&x.error===void 0;else if(!L)return!1;if(L){var E;if(w.length>0&&(E=w[0]),E instanceof Error)throw E;var S=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw S.context=E,S}var a=x[p];if(a===void 0)return!1;if(typeof a=="function")t(a,this,w);else for(var C=a.length,b=f(a,C),A=0;A<C;++A)t(b[A],this,w);return!0};function r(i,p,w,A){var L,x,E;if(d(w),x=i._events,x===void 0?(x=i._events=Object.create(null),i._eventsCount=0):(x.newListener!==void 0&&(i.emit("newListener",p,w.listener?w.listener:w),x=i._events),E=x[p]),E===void 0)E=x[p]=w,++i._eventsCount;else if(typeof E=="function"?E=x[p]=A?[w,E]:[E,w]:A?E.unshift(w):E.push(w),L=g(i),L>0&&E.length>L&&!E.warned){E.warned=!0;var S=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");S.name="MaxListenersExceededWarning",S.emitter=i,S.type=p,S.count=E.length,D(S)}return i}P.prototype.addListener=function(p,w){return r(this,p,w,!1)},P.prototype.on=P.prototype.addListener,P.prototype.prependListener=function(p,w){return r(this,p,w,!0)};function e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(i,p,w){var A={fired:!1,wrapFn:void 0,target:i,type:p,listener:w},L=e.bind(A);return L.listener=w,A.wrapFn=L,L}P.prototype.once=function(p,w){return d(w),this.on(p,o(this,p,w)),this},P.prototype.prependOnceListener=function(p,w){return d(w),this.prependListener(p,o(this,p,w)),this},P.prototype.removeListener=function(p,w){var A,L,x,E,S;if(d(w),L=this._events,L===void 0)return this;if(A=L[p],A===void 0)return this;if(A===w||A.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete L[p],L.removeListener&&this.emit("removeListener",p,A.listener||w));else if(typeof A!="function"){for(x=-1,E=A.length-1;E>=0;E--)if(A[E]===w||A[E].listener===w){S=A[E].listener,x=E;break}if(x<0)return this;x===0?A.shift():c(A,x),A.length===1&&(L[p]=A[0]),L.removeListener!==void 0&&this.emit("removeListener",p,S||w)}return this},P.prototype.off=P.prototype.removeListener,P.prototype.removeAllListeners=function(p){var w,A,L;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[p]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[p]),this;if(arguments.length===0){var x=Object.keys(A),E;for(L=0;L<x.length;++L)E=x[L],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=A[p],typeof w=="function")this.removeListener(p,w);else if(w!==void 0)for(L=w.length-1;L>=0;L--)this.removeListener(p,w[L]);return this};function n(i,p,w){var A=i._events;if(A===void 0)return[];var L=A[p];return L===void 0?[]:typeof L=="function"?w?[L.listener||L]:[L]:w?m(L):f(L,L.length)}P.prototype.listeners=function(p){return n(this,p,!0)},P.prototype.rawListeners=function(p){return n(this,p,!1)},P.listenerCount=function(i,p){return typeof i.listenerCount=="function"?i.listenerCount(p):u.call(i,p)},P.prototype.listenerCount=u;function u(i){var p=this._events;if(p!==void 0){var w=p[i];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}P.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]};function f(i,p){for(var w=new Array(p),A=0;A<p;++A)w[A]=i[A];return w}function c(i,p){for(;p+1<i.length;p++)i[p]=i[p+1];i.pop()}function m(i){for(var p=new Array(i.length),w=0;w<p.length;++w)p[w]=i[w].listener||i[w];return p}function v(i,p){return new Promise(function(w,A){function L(E){i.removeListener(p,x),A(E)}function x(){typeof i.removeListener=="function"&&i.removeListener("error",L),w([].slice.call(arguments))}h(i,p,x,{once:!0}),p!=="error"&&T(i,L,{once:!0})})}function T(i,p,w){typeof i.on=="function"&&h(i,"error",p,w)}function h(i,p,w,A){if(typeof i.on=="function")A.once?i.once(p,w):i.on(p,w);else if(typeof i.addEventListener=="function")i.addEventListener(p,function L(x){A.once&&i.removeEventListener(p,L),w(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}},39072:function(W){var G=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};W.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return G()}try{return __global__||G()}finally{delete Object.prototype.__global__}}()},12296:function(W,G,t){W.exports=t(45072)()?globalThis:t(39072)},45072:function(W){W.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(W,G,t){var y=t(94576);W.exports=function(D){var s=typeof D;if(s==="string"){var P=D;if(D=+D,D===0&&y(P))return!1}else if(s!=="number")return!1;return D-D<1}},47520:function(W,G,t){var y=t(72512);W.exports=D;function D(s,P,M){if(!s)throw new TypeError("must specify data as first parameter");if(M=+(M||0)|0,Array.isArray(s)&&s[0]&&typeof s[0][0]=="number"){var d=s[0].length,g=s.length*d,r,e,o,n;(!P||typeof P=="string")&&(P=new(y(P||"float32"))(g+M));var u=P.length-M;if(g!==u)throw new Error("source length "+g+" ("+d+"x"+s.length+") does not match destination length "+u);for(r=0,o=M;r<s.length;r++)for(e=0;e<d;e++)P[o++]=s[r][e]===null?NaN:s[r][e]}else if(!P||typeof P=="string"){var f=y(P||"float32");if(Array.isArray(s)||P==="array")for(P=new f(s.length+M),r=0,o=M,n=P.length;o<n;o++,r++)P[o]=s[r]===null?NaN:s[r];else M===0?P=new f(s):(P=new f(s.length+M),P.set(s,M))}else P.set(s,M);return P}},33888:function(W,G,t){var y=t(49395),D=[32,126];W.exports=s;function s(P){P=P||{};var M=P.shape?P.shape:P.canvas?[P.canvas.width,P.canvas.height]:[512,512],d=P.canvas||document.createElement("canvas"),g=P.font,r=typeof P.step=="number"?[P.step,P.step]:P.step||[32,32],e=P.chars||D;if(g&&typeof g!="string"&&(g=y(g)),!Array.isArray(e))e=String(e).split("");else if(e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"){for(var o=[],n=e[0],u=0;n<=e[1];n++)o[u++]=String.fromCharCode(n);e=o}M=M.slice(),d.width=M[0],d.height=M[1];var f=d.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,d.width,d.height),f.font=g,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";for(var c=r[0]/2,m=r[1]/2,n=0;n<e.length;n++)f.fillText(e[n],c,m),(c+=r[0])>M[0]-r[0]/2&&(c=r[0]/2,m+=r[1]);return d}},71920:function(W){W.exports=G,G.canvas=document.createElement("canvas"),G.cache={};function G(e,P){P||(P={}),(typeof e=="string"||Array.isArray(e))&&(P.family=e);var M=Array.isArray(P.family)?P.family.join(", "):P.family;if(!M)throw Error("`family` must be defined");var d=P.size||P.fontSize||P.em||48,g=P.weight||P.fontWeight||"",r=P.style||P.fontStyle||"",e=[r,g,d].join(" ")+"px "+M,o=P.origin||"top";if(G.cache[M]&&d<=G.cache[M].em)return t(G.cache[M],o);var n=P.canvas||G.canvas,u=n.getContext("2d"),f={upper:P.upper!==void 0?P.upper:"H",lower:P.lower!==void 0?P.lower:"x",descent:P.descent!==void 0?P.descent:"p",ascent:P.ascent!==void 0?P.ascent:"h",tittle:P.tittle!==void 0?P.tittle:"i",overshoot:P.overshoot!==void 0?P.overshoot:"O"},c=Math.ceil(d*1.5);n.height=c,n.width=c*.5,u.font=e;var m="H",v={top:0};u.clearRect(0,0,c,c),u.textBaseline="top",u.fillStyle="black",u.fillText(m,0,0);var T=y(u.getImageData(0,0,c,c));u.clearRect(0,0,c,c),u.textBaseline="bottom",u.fillText(m,0,c);var h=y(u.getImageData(0,0,c,c));v.lineHeight=v.bottom=c-h+T,u.clearRect(0,0,c,c),u.textBaseline="alphabetic",u.fillText(m,0,c);var i=y(u.getImageData(0,0,c,c)),p=c-i-1+T;v.baseline=v.alphabetic=p,u.clearRect(0,0,c,c),u.textBaseline="middle",u.fillText(m,0,c*.5);var w=y(u.getImageData(0,0,c,c));v.median=v.middle=c-w-1+T-c*.5,u.clearRect(0,0,c,c),u.textBaseline="hanging",u.fillText(m,0,c*.5);var A=y(u.getImageData(0,0,c,c));v.hanging=c-A-1+T-c*.5,u.clearRect(0,0,c,c),u.textBaseline="ideographic",u.fillText(m,0,c);var L=y(u.getImageData(0,0,c,c));if(v.ideographic=c-L-1+T,f.upper&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.upper,0,0),v.upper=y(u.getImageData(0,0,c,c)),v.capHeight=v.baseline-v.upper),f.lower&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.lower,0,0),v.lower=y(u.getImageData(0,0,c,c)),v.xHeight=v.baseline-v.lower),f.tittle&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.tittle,0,0),v.tittle=y(u.getImageData(0,0,c,c))),f.ascent&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.ascent,0,0),v.ascent=y(u.getImageData(0,0,c,c))),f.descent&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.descent,0,0),v.descent=D(u.getImageData(0,0,c,c))),f.overshoot){u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.overshoot,0,0);var x=D(u.getImageData(0,0,c,c));v.overshoot=x-p}for(var E in v)v[E]/=d;return v.em=d,G.cache[M]=v,t(v,o)}function t(s,P){var M={};typeof P=="string"&&(P=s[P]);for(var d in s)d!=="em"&&(M[d]=s[d]-P);return M}function y(s){for(var P=s.height,M=s.data,d=3;d<M.length;d+=4)if(M[d]!==0)return Math.floor((d-3)*.25/P)}function D(s){for(var P=s.height,M=s.data,d=M.length-1;d>0;d-=4)if(M[d]!==0)return Math.floor((d-3)*.25/P)}},46492:function(W,G,t){var y=t(90720),D=Object.prototype.toString,s=Object.prototype.hasOwnProperty,P=function(e,o,n){for(var u=0,f=e.length;u<f;u++)s.call(e,u)&&(n==null?o(e[u],u,e):o.call(n,e[u],u,e))},M=function(e,o,n){for(var u=0,f=e.length;u<f;u++)n==null?o(e.charAt(u),u,e):o.call(n,e.charAt(u),u,e)},d=function(e,o,n){for(var u in e)s.call(e,u)&&(n==null?o(e[u],u,e):o.call(n,e[u],u,e))},g=function(e,o,n){if(!y(o))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=n),D.call(e)==="[object Array]"?P(e,o,u):typeof e=="string"?M(e,o,u):d(e,o,u)};W.exports=g},74336:function(W){var G="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,y=Math.max,D="[object Function]",s=function(g,r){for(var e=[],o=0;o<g.length;o+=1)e[o]=g[o];for(var n=0;n<r.length;n+=1)e[n+g.length]=r[n];return e},P=function(g,r){for(var e=[],o=r,n=0;o<g.length;o+=1,n+=1)e[n]=g[o];return e},M=function(d,g){for(var r="",e=0;e<d.length;e+=1)r+=d[e],e+1<d.length&&(r+=g);return r};W.exports=function(g){var r=this;if(typeof r!="function"||t.apply(r)!==D)throw new TypeError(G+r);for(var e=P(arguments,1),o,n=function(){if(this instanceof o){var v=r.apply(this,s(e,arguments));return Object(v)===v?v:this}return r.apply(g,s(e,arguments))},u=y(0,r.length-e.length),f=[],c=0;c<u;c++)f[c]="$"+c;if(o=Function("binder","return function ("+M(f,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var m=function(){};m.prototype=r.prototype,o.prototype=new m,m.prototype=null}return o}},8844:function(W,G,t){var y=t(74336);W.exports=Function.prototype.bind||y},13380:function(W){W.exports=G;function G(t,y){if(typeof t!="string")throw new TypeError("must specify type string");if(y=y||{},typeof document>"u"&&!y.canvas)return null;var D=y.canvas||document.createElement("canvas");typeof y.width=="number"&&(D.width=y.width),typeof y.height=="number"&&(D.height=y.height);var s=y,P;try{var M=[t];t.indexOf("webgl")===0&&M.push("experimental-"+t);for(var d=0;d<M.length;d++)if(P=D.getContext(M[d],s),P)return P}catch{P=null}return P||null}},53664:function(W,G,t){var y,D=SyntaxError,s=Function,P=TypeError,M=function(b){try{return s('"use strict"; return ('+b+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var g=function(){throw new P},r=d?function(){try{return arguments.callee,g}catch{try{return d(arguments,"callee").get}catch{return g}}}():g,e=t(71080)(),o=t(69572)(),n=Object.getPrototypeOf||(o?function(b){return b.__proto__}:null),u={},f=typeof Uint8Array>"u"||!n?y:n(Uint8Array),c={"%AggregateError%":typeof AggregateError>"u"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?y:ArrayBuffer,"%ArrayIteratorPrototype%":e&&n?n([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?y:Atomics,"%BigInt%":typeof BigInt>"u"?y:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?y:Float32Array,"%Float64Array%":typeof Float64Array>"u"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?y:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array>"u"?y:Int8Array,"%Int16Array%":typeof Int16Array>"u"?y:Int16Array,"%Int32Array%":typeof Int32Array>"u"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":e&&n?n(n([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map>"u"?y:Map,"%MapIteratorPrototype%":typeof Map>"u"||!e||!n?y:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?y:Promise,"%Proxy%":typeof Proxy>"u"?y:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?y:Set,"%SetIteratorPrototype%":typeof Set>"u"||!e||!n?y:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":e&&n?n(""[Symbol.iterator]()):y,"%Symbol%":e?Symbol:y,"%SyntaxError%":D,"%ThrowTypeError%":r,"%TypedArray%":f,"%TypeError%":P,"%Uint8Array%":typeof Uint8Array>"u"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?y:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?y:WeakMap,"%WeakRef%":typeof WeakRef>"u"?y:WeakRef,"%WeakSet%":typeof WeakSet>"u"?y:WeakSet};if(n)try{null.error}catch(b){var m=n(n(b));c["%Error.prototype%"]=m}var v=function b(z){var k;if(z==="%AsyncFunction%")k=M("async function () {}");else if(z==="%GeneratorFunction%")k=M("function* () {}");else if(z==="%AsyncGeneratorFunction%")k=M("async function* () {}");else if(z==="%AsyncGenerator%"){var U=b("%AsyncGeneratorFunction%");U&&(k=U.prototype)}else if(z==="%AsyncIteratorPrototype%"){var F=b("%AsyncGenerator%");F&&n&&(k=n(F.prototype))}return c[z]=k,k},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},h=t(8844),i=t(92064),p=h.call(Function.call,Array.prototype.concat),w=h.call(Function.apply,Array.prototype.splice),A=h.call(Function.call,String.prototype.replace),L=h.call(Function.call,String.prototype.slice),x=h.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,a=function(z){var k=L(z,0,1),U=L(z,-1);if(k==="%"&&U!=="%")throw new D("invalid intrinsic syntax, expected closing `%`");if(U==="%"&&k!=="%")throw new D("invalid intrinsic syntax, expected opening `%`");var F=[];return A(z,E,function(V,N,O,H){F[F.length]=O?A(H,S,"$1"):N||V}),F},C=function(z,k){var U=z,F;if(i(T,U)&&(F=T[U],U="%"+F[0]+"%"),i(c,U)){var V=c[U];if(V===u&&(V=v(U)),typeof V>"u"&&!k)throw new P("intrinsic "+z+" exists, but is not available. Please file an issue!");return{alias:F,name:U,value:V}}throw new D("intrinsic "+z+" does not exist!")};W.exports=function(z,k){if(typeof z!="string"||z.length===0)throw new P("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof k!="boolean")throw new P('"allowMissing" argument must be a boolean');if(x(/^%?[^%]*%?$/,z)===null)throw new D("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var U=a(z),F=U.length>0?U[0]:"",V=C("%"+F+"%",k),N=V.name,O=V.value,H=!1,X=V.alias;X&&(F=X[0],w(U,p([0,1],X)));for(var J=1,et=!0;J<U.length;J+=1){var it=U[J],ft=L(it,0,1),ot=L(it,-1);if((ft==='"'||ft==="'"||ft==="`"||ot==='"'||ot==="'"||ot==="`")&&ft!==ot)throw new D("property names with quotes must have matching quotes");if((it==="constructor"||!et)&&(H=!0),F+="."+it,N="%"+F+"%",i(c,N))O=c[N];else if(O!=null){if(!(it in O)){if(!k)throw new P("base intrinsic for "+z+" exists, but the property is not available.");return}if(d&&J+1>=U.length){var Q=d(O,it);et=!!Q,et&&"get"in Q&&!("originalValue"in Q.get)?O=Q.get:O=O[it]}else et=i(O,it),O=O[it];et&&!H&&(c[N]=O)}}return O}},12408:function(W){W.exports=G;function G(t,y){var D=y[0],s=y[1],P=y[2],M=y[3],d=y[4],g=y[5],r=y[6],e=y[7],o=y[8],n=y[9],u=y[10],f=y[11],c=y[12],m=y[13],v=y[14],T=y[15];return t[0]=g*(u*T-f*v)-n*(r*T-e*v)+m*(r*f-e*u),t[1]=-(s*(u*T-f*v)-n*(P*T-M*v)+m*(P*f-M*u)),t[2]=s*(r*T-e*v)-g*(P*T-M*v)+m*(P*e-M*r),t[3]=-(s*(r*f-e*u)-g*(P*f-M*u)+n*(P*e-M*r)),t[4]=-(d*(u*T-f*v)-o*(r*T-e*v)+c*(r*f-e*u)),t[5]=D*(u*T-f*v)-o*(P*T-M*v)+c*(P*f-M*u),t[6]=-(D*(r*T-e*v)-d*(P*T-M*v)+c*(P*e-M*r)),t[7]=D*(r*f-e*u)-d*(P*f-M*u)+o*(P*e-M*r),t[8]=d*(n*T-f*m)-o*(g*T-e*m)+c*(g*f-e*n),t[9]=-(D*(n*T-f*m)-o*(s*T-M*m)+c*(s*f-M*n)),t[10]=D*(g*T-e*m)-d*(s*T-M*m)+c*(s*e-M*g),t[11]=-(D*(g*f-e*n)-d*(s*f-M*n)+o*(s*e-M*g)),t[12]=-(d*(n*v-u*m)-o*(g*v-r*m)+c*(g*u-r*n)),t[13]=D*(n*v-u*m)-o*(s*v-P*m)+c*(s*u-P*n),t[14]=-(D*(g*v-r*m)-d*(s*v-P*m)+c*(s*r-P*g)),t[15]=D*(g*u-r*n)-d*(s*u-P*n)+o*(s*r-P*g),t}},76860:function(W){W.exports=G;function G(t){var y=new Float32Array(16);return y[0]=t[0],y[1]=t[1],y[2]=t[2],y[3]=t[3],y[4]=t[4],y[5]=t[5],y[6]=t[6],y[7]=t[7],y[8]=t[8],y[9]=t[9],y[10]=t[10],y[11]=t[11],y[12]=t[12],y[13]=t[13],y[14]=t[14],y[15]=t[15],y}},64492:function(W){W.exports=G;function G(t,y){return t[0]=y[0],t[1]=y[1],t[2]=y[2],t[3]=y[3],t[4]=y[4],t[5]=y[5],t[6]=y[6],t[7]=y[7],t[8]=y[8],t[9]=y[9],t[10]=y[10],t[11]=y[11],t[12]=y[12],t[13]=y[13],t[14]=y[14],t[15]=y[15],t}},54212:function(W){W.exports=G;function G(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},70800:function(W){W.exports=G;function G(t){var y=t[0],D=t[1],s=t[2],P=t[3],M=t[4],d=t[5],g=t[6],r=t[7],e=t[8],o=t[9],n=t[10],u=t[11],f=t[12],c=t[13],m=t[14],v=t[15],T=y*d-D*M,h=y*g-s*M,i=y*r-P*M,p=D*g-s*d,w=D*r-P*d,A=s*r-P*g,L=e*c-o*f,x=e*m-n*f,E=e*v-u*f,S=o*m-n*c,a=o*v-u*c,C=n*v-u*m;return T*C-h*a+i*S+p*E-w*x+A*L}},61784:function(W){W.exports=G;function G(t,y){var D=y[0],s=y[1],P=y[2],M=y[3],d=D+D,g=s+s,r=P+P,e=D*d,o=s*d,n=s*g,u=P*d,f=P*g,c=P*r,m=M*d,v=M*g,T=M*r;return t[0]=1-n-c,t[1]=o+T,t[2]=u-v,t[3]=0,t[4]=o-T,t[5]=1-e-c,t[6]=f+m,t[7]=0,t[8]=u+v,t[9]=f-m,t[10]=1-e-n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},91616:function(W){W.exports=G;function G(t,y,D){var s,P,M,d=D[0],g=D[1],r=D[2],e=Math.sqrt(d*d+g*g+r*r);return Math.abs(e)<1e-6?null:(e=1/e,d*=e,g*=e,r*=e,s=Math.sin(y),P=Math.cos(y),M=1-P,t[0]=d*d*M+P,t[1]=g*d*M+r*s,t[2]=r*d*M-g*s,t[3]=0,t[4]=d*g*M-r*s,t[5]=g*g*M+P,t[6]=r*g*M+d*s,t[7]=0,t[8]=d*r*M+g*s,t[9]=g*r*M-d*s,t[10]=r*r*M+P,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},51944:function(W){W.exports=G;function G(t,y,D){var s=y[0],P=y[1],M=y[2],d=y[3],g=s+s,r=P+P,e=M+M,o=s*g,n=s*r,u=s*e,f=P*r,c=P*e,m=M*e,v=d*g,T=d*r,h=d*e;return t[0]=1-(f+m),t[1]=n+h,t[2]=u-T,t[3]=0,t[4]=n-h,t[5]=1-(o+m),t[6]=c+v,t[7]=0,t[8]=u+T,t[9]=c-v,t[10]=1-(o+f),t[11]=0,t[12]=D[0],t[13]=D[1],t[14]=D[2],t[15]=1,t}},69444:function(W){W.exports=G;function G(t,y){return t[0]=y[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=y[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=y[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},48268:function(W){W.exports=G;function G(t,y){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=y[0],t[13]=y[1],t[14]=y[2],t[15]=1,t}},21856:function(W){W.exports=G;function G(t,y){var D=Math.sin(y),s=Math.cos(y);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=D,t[7]=0,t[8]=0,t[9]=-D,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},79216:function(W){W.exports=G;function G(t,y){var D=Math.sin(y),s=Math.cos(y);return t[0]=s,t[1]=0,t[2]=-D,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=D,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},57736:function(W){W.exports=G;function G(t,y){var D=Math.sin(y),s=Math.cos(y);return t[0]=s,t[1]=D,t[2]=0,t[3]=0,t[4]=-D,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},38848:function(W){W.exports=G;function G(t,y,D,s,P,M,d){var g=1/(D-y),r=1/(P-s),e=1/(M-d);return t[0]=M*2*g,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=M*2*r,t[6]=0,t[7]=0,t[8]=(D+y)*g,t[9]=(P+s)*r,t[10]=(d+M)*e,t[11]=-1,t[12]=0,t[13]=0,t[14]=d*M*2*e,t[15]=0,t}},36635:function(W){W.exports=G;function G(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},36524:function(W,G,t){W.exports={create:t(54212),clone:t(76860),copy:t(64492),identity:t(36635),transpose:t(86520),invert:t(4308),adjoint:t(12408),determinant:t(70800),multiply:t(80944),translate:t(35176),scale:t(68152),rotate:t(30016),rotateX:t(15456),rotateY:t(64840),rotateZ:t(4192),fromRotation:t(91616),fromRotationTranslation:t(51944),fromScaling:t(69444),fromTranslation:t(48268),fromXRotation:t(21856),fromYRotation:t(79216),fromZRotation:t(57736),fromQuat:t(61784),frustum:t(38848),perspective:t(51296),perspectiveFromFieldOfView:t(63688),ortho:t(97688),lookAt:t(56508),str:t(89412)}},4308:function(W){W.exports=G;function G(t,y){var D=y[0],s=y[1],P=y[2],M=y[3],d=y[4],g=y[5],r=y[6],e=y[7],o=y[8],n=y[9],u=y[10],f=y[11],c=y[12],m=y[13],v=y[14],T=y[15],h=D*g-s*d,i=D*r-P*d,p=D*e-M*d,w=s*r-P*g,A=s*e-M*g,L=P*e-M*r,x=o*m-n*c,E=o*v-u*c,S=o*T-f*c,a=n*v-u*m,C=n*T-f*m,b=u*T-f*v,z=h*b-i*C+p*a+w*S-A*E+L*x;return z?(z=1/z,t[0]=(g*b-r*C+e*a)*z,t[1]=(P*C-s*b-M*a)*z,t[2]=(m*L-v*A+T*w)*z,t[3]=(u*A-n*L-f*w)*z,t[4]=(r*S-d*b-e*E)*z,t[5]=(D*b-P*S+M*E)*z,t[6]=(v*p-c*L-T*i)*z,t[7]=(o*L-u*p+f*i)*z,t[8]=(d*C-g*S+e*x)*z,t[9]=(s*S-D*C-M*x)*z,t[10]=(c*A-m*p+T*h)*z,t[11]=(n*p-o*A-f*h)*z,t[12]=(g*E-d*a-r*x)*z,t[13]=(D*a-s*E+P*x)*z,t[14]=(m*i-c*w-v*h)*z,t[15]=(o*w-n*i+u*h)*z,t):null}},56508:function(W,G,t){var y=t(36635);W.exports=D;function D(s,P,M,d){var g,r,e,o,n,u,f,c,m,v,T=P[0],h=P[1],i=P[2],p=d[0],w=d[1],A=d[2],L=M[0],x=M[1],E=M[2];return Math.abs(T-L)<1e-6&&Math.abs(h-x)<1e-6&&Math.abs(i-E)<1e-6?y(s):(f=T-L,c=h-x,m=i-E,v=1/Math.sqrt(f*f+c*c+m*m),f*=v,c*=v,m*=v,g=w*m-A*c,r=A*f-p*m,e=p*c-w*f,v=Math.sqrt(g*g+r*r+e*e),v?(v=1/v,g*=v,r*=v,e*=v):(g=0,r=0,e=0),o=c*e-m*r,n=m*g-f*e,u=f*r-c*g,v=Math.sqrt(o*o+n*n+u*u),v?(v=1/v,o*=v,n*=v,u*=v):(o=0,n=0,u=0),s[0]=g,s[1]=o,s[2]=f,s[3]=0,s[4]=r,s[5]=n,s[6]=c,s[7]=0,s[8]=e,s[9]=u,s[10]=m,s[11]=0,s[12]=-(g*T+r*h+e*i),s[13]=-(o*T+n*h+u*i),s[14]=-(f*T+c*h+m*i),s[15]=1,s)}},80944:function(W){W.exports=G;function G(t,y,D){var s=y[0],P=y[1],M=y[2],d=y[3],g=y[4],r=y[5],e=y[6],o=y[7],n=y[8],u=y[9],f=y[10],c=y[11],m=y[12],v=y[13],T=y[14],h=y[15],i=D[0],p=D[1],w=D[2],A=D[3];return t[0]=i*s+p*g+w*n+A*m,t[1]=i*P+p*r+w*u+A*v,t[2]=i*M+p*e+w*f+A*T,t[3]=i*d+p*o+w*c+A*h,i=D[4],p=D[5],w=D[6],A=D[7],t[4]=i*s+p*g+w*n+A*m,t[5]=i*P+p*r+w*u+A*v,t[6]=i*M+p*e+w*f+A*T,t[7]=i*d+p*o+w*c+A*h,i=D[8],p=D[9],w=D[10],A=D[11],t[8]=i*s+p*g+w*n+A*m,t[9]=i*P+p*r+w*u+A*v,t[10]=i*M+p*e+w*f+A*T,t[11]=i*d+p*o+w*c+A*h,i=D[12],p=D[13],w=D[14],A=D[15],t[12]=i*s+p*g+w*n+A*m,t[13]=i*P+p*r+w*u+A*v,t[14]=i*M+p*e+w*f+A*T,t[15]=i*d+p*o+w*c+A*h,t}},97688:function(W){W.exports=G;function G(t,y,D,s,P,M,d){var g=1/(y-D),r=1/(s-P),e=1/(M-d);return t[0]=-2*g,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*e,t[11]=0,t[12]=(y+D)*g,t[13]=(P+s)*r,t[14]=(d+M)*e,t[15]=1,t}},51296:function(W){W.exports=G;function G(t,y,D,s,P){var M=1/Math.tan(y/2),d=1/(s-P);return t[0]=M/D,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=M,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(P+s)*d,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*P*s*d,t[15]=0,t}},63688:function(W){W.exports=G;function G(t,y,D,s){var P=Math.tan(y.upDegrees*Math.PI/180),M=Math.tan(y.downDegrees*Math.PI/180),d=Math.tan(y.leftDegrees*Math.PI/180),g=Math.tan(y.rightDegrees*Math.PI/180),r=2/(d+g),e=2/(P+M);return t[0]=r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=-((d-g)*r*.5),t[9]=(P-M)*e*.5,t[10]=s/(D-s),t[11]=-1,t[12]=0,t[13]=0,t[14]=s*D/(D-s),t[15]=0,t}},30016:function(W){W.exports=G;function G(t,y,D,s){var P=s[0],M=s[1],d=s[2],g=Math.sqrt(P*P+M*M+d*d),r,e,o,n,u,f,c,m,v,T,h,i,p,w,A,L,x,E,S,a,C,b,z,k;return Math.abs(g)<1e-6?null:(g=1/g,P*=g,M*=g,d*=g,r=Math.sin(D),e=Math.cos(D),o=1-e,n=y[0],u=y[1],f=y[2],c=y[3],m=y[4],v=y[5],T=y[6],h=y[7],i=y[8],p=y[9],w=y[10],A=y[11],L=P*P*o+e,x=M*P*o+d*r,E=d*P*o-M*r,S=P*M*o-d*r,a=M*M*o+e,C=d*M*o+P*r,b=P*d*o+M*r,z=M*d*o-P*r,k=d*d*o+e,t[0]=n*L+m*x+i*E,t[1]=u*L+v*x+p*E,t[2]=f*L+T*x+w*E,t[3]=c*L+h*x+A*E,t[4]=n*S+m*a+i*C,t[5]=u*S+v*a+p*C,t[6]=f*S+T*a+w*C,t[7]=c*S+h*a+A*C,t[8]=n*b+m*z+i*k,t[9]=u*b+v*z+p*k,t[10]=f*b+T*z+w*k,t[11]=c*b+h*z+A*k,y!==t&&(t[12]=y[12],t[13]=y[13],t[14]=y[14],t[15]=y[15]),t)}},15456:function(W){W.exports=G;function G(t,y,D){var s=Math.sin(D),P=Math.cos(D),M=y[4],d=y[5],g=y[6],r=y[7],e=y[8],o=y[9],n=y[10],u=y[11];return y!==t&&(t[0]=y[0],t[1]=y[1],t[2]=y[2],t[3]=y[3],t[12]=y[12],t[13]=y[13],t[14]=y[14],t[15]=y[15]),t[4]=M*P+e*s,t[5]=d*P+o*s,t[6]=g*P+n*s,t[7]=r*P+u*s,t[8]=e*P-M*s,t[9]=o*P-d*s,t[10]=n*P-g*s,t[11]=u*P-r*s,t}},64840:function(W){W.exports=G;function G(t,y,D){var s=Math.sin(D),P=Math.cos(D),M=y[0],d=y[1],g=y[2],r=y[3],e=y[8],o=y[9],n=y[10],u=y[11];return y!==t&&(t[4]=y[4],t[5]=y[5],t[6]=y[6],t[7]=y[7],t[12]=y[12],t[13]=y[13],t[14]=y[14],t[15]=y[15]),t[0]=M*P-e*s,t[1]=d*P-o*s,t[2]=g*P-n*s,t[3]=r*P-u*s,t[8]=M*s+e*P,t[9]=d*s+o*P,t[10]=g*s+n*P,t[11]=r*s+u*P,t}},4192:function(W){W.exports=G;function G(t,y,D){var s=Math.sin(D),P=Math.cos(D),M=y[0],d=y[1],g=y[2],r=y[3],e=y[4],o=y[5],n=y[6],u=y[7];return y!==t&&(t[8]=y[8],t[9]=y[9],t[10]=y[10],t[11]=y[11],t[12]=y[12],t[13]=y[13],t[14]=y[14],t[15]=y[15]),t[0]=M*P+e*s,t[1]=d*P+o*s,t[2]=g*P+n*s,t[3]=r*P+u*s,t[4]=e*P-M*s,t[5]=o*P-d*s,t[6]=n*P-g*s,t[7]=u*P-r*s,t}},68152:function(W){W.exports=G;function G(t,y,D){var s=D[0],P=D[1],M=D[2];return t[0]=y[0]*s,t[1]=y[1]*s,t[2]=y[2]*s,t[3]=y[3]*s,t[4]=y[4]*P,t[5]=y[5]*P,t[6]=y[6]*P,t[7]=y[7]*P,t[8]=y[8]*M,t[9]=y[9]*M,t[10]=y[10]*M,t[11]=y[11]*M,t[12]=y[12],t[13]=y[13],t[14]=y[14],t[15]=y[15],t}},89412:function(W){W.exports=G;function G(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},35176:function(W){W.exports=G;function G(t,y,D){var s=D[0],P=D[1],M=D[2],d,g,r,e,o,n,u,f,c,m,v,T;return y===t?(t[12]=y[0]*s+y[4]*P+y[8]*M+y[12],t[13]=y[1]*s+y[5]*P+y[9]*M+y[13],t[14]=y[2]*s+y[6]*P+y[10]*M+y[14],t[15]=y[3]*s+y[7]*P+y[11]*M+y[15]):(d=y[0],g=y[1],r=y[2],e=y[3],o=y[4],n=y[5],u=y[6],f=y[7],c=y[8],m=y[9],v=y[10],T=y[11],t[0]=d,t[1]=g,t[2]=r,t[3]=e,t[4]=o,t[5]=n,t[6]=u,t[7]=f,t[8]=c,t[9]=m,t[10]=v,t[11]=T,t[12]=d*s+o*P+c*M+y[12],t[13]=g*s+n*P+m*M+y[13],t[14]=r*s+u*P+v*M+y[14],t[15]=e*s+f*P+T*M+y[15]),t}},86520:function(W){W.exports=G;function G(t,y){if(t===y){var D=y[1],s=y[2],P=y[3],M=y[6],d=y[7],g=y[11];t[1]=y[4],t[2]=y[8],t[3]=y[12],t[4]=D,t[6]=y[9],t[7]=y[13],t[8]=s,t[9]=M,t[11]=y[14],t[12]=P,t[13]=d,t[14]=g}else t[0]=y[0],t[1]=y[4],t[2]=y[8],t[3]=y[12],t[4]=y[1],t[5]=y[5],t[6]=y[9],t[7]=y[13],t[8]=y[2],t[9]=y[6],t[10]=y[10],t[11]=y[14],t[12]=y[3],t[13]=y[7],t[14]=y[11],t[15]=y[15];return t}},23352:function(W,G,t){var y=t(42771),D=t(55616),s=t(28624),P=t(55212),M=t(60463),d=t(72160),g=t(33888),r=t(14144),e=t(51160),o=t(58908),n=t(65819),u=t(23464),f=t(63768),c=t(50896),m=t(71920),v=t(47520),T=t(308),h=T.nextPow2,i=new M,p=!1;if(document.body){var w=document.body.appendChild(document.createElement("div"));w.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(w).fontStretch&&(p=!0),document.body.removeChild(w)}var A=function(E){L(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=P(E),this.shader=i.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||s({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),i.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(o(E)?E:{})};A.prototype.createShader=function(){var E=this.regl,S=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(C,b){return[b.atlas.width,b.atlas.height]},atlasDim:function(C,b){return[b.atlas.cols,b.atlas.rows]},atlas:function(C,b){return b.atlas.texture},charStep:function(C,b){return b.atlas.step},em:function(C,b){return b.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),a={};return{regl:E,draw:S,atlas:a}},A.prototype.update=function(E){var S=this;if(typeof E=="string")E={text:E};else if(!E)return;E=D(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(Ct){return parseFloat(Ct)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=e(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=v(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=A.baseFontSize+"px sans-serif");var a=!1,C=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(Ct,Wt){if(typeof Ct=="string")try{Ct=y.parse(Ct)}catch{Ct=y.parse(A.baseFontSize+"px "+Ct)}else{var Kt=Ct.style,oe=Ct.weight,Jt=Ct.stretch,te=Ct.variant;Ct=y.parse(y.stringify(Ct)),Kt&&(Ct.style=Kt),oe&&(Ct.weight=oe),Jt&&(Ct.stretch=Jt),te&&(Ct.variant=te)}var fe=y.stringify({size:A.baseFontSize,family:Ct.family,stretch:p?Ct.stretch:void 0,variant:Ct.variant,weight:Ct.weight,style:Ct.style}),ve=n(Ct.size),de=Math.round(ve[0]*u(ve[1]));if(de!==S.fontSize[Wt]&&(C=!0,S.fontSize[Wt]=de),(!S.font[Wt]||fe!=S.font[Wt].baseString)&&(a=!0,S.font[Wt]=A.fonts[fe],!S.font[Wt])){var xe=Ct.family.join(", "),Me=[Ct.style];Ct.style!=Ct.variant&&Me.push(Ct.variant),Ct.variant!=Ct.weight&&Me.push(Ct.weight),p&&Ct.weight!=Ct.stretch&&Me.push(Ct.stretch),S.font[Wt]={baseString:fe,family:xe,weight:Ct.weight,stretch:Ct.stretch,style:Ct.style,variant:Ct.variant,width:{},kerning:{},metrics:m(xe,{origin:"top",fontSize:A.baseFontSize,fontStyle:Me.join(" ")})},A.fonts[fe]=S.font[Wt]}}),(a||C)&&this.font.forEach(function(Ct,Wt){var Kt=y.stringify({size:S.fontSize[Wt],family:Ct.family,stretch:p?Ct.stretch:void 0,variant:Ct.variant,weight:Ct.weight,style:Ct.style});if(S.fontAtlas[Wt]=S.shader.atlas[Kt],!S.fontAtlas[Wt]){var oe=Ct.metrics;S.shader.atlas[Kt]=S.fontAtlas[Wt]={fontString:Kt,step:Math.ceil(S.fontSize[Wt]*oe.bottom*.5)*2,em:S.fontSize[Wt],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:S.regl.texture()}}E.text==null&&(E.text=S.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var b=Array(E.position.length*.5),z=0;z<b.length;z++)b[z]=E.text;E.text=b}var k;if(E.text!=null||a){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var U=1;U<E.text.length;U++)this.textOffsets[U]=this.textOffsets[U-1]+E.text[U-1].length,this.count+=E.text[U].length,this.counts.push(E.text[U].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];k=[],this.font.forEach(function(Ct,Wt){A.atlasContext.font=Ct.baseString;for(var Kt=S.fontAtlas[Wt],oe=0;oe<S.text.length;oe++){var Jt=S.text.charAt(oe);if(Kt.ids[Jt]==null&&(Kt.ids[Jt]=Kt.chars.length,Kt.chars.push(Jt),k.push(Jt)),Ct.width[Jt]==null&&(Ct.width[Jt]=A.atlasContext.measureText(Jt).width/A.baseFontSize,S.kerning)){var te=[];for(var fe in Ct.width)te.push(fe+Jt,Jt+fe);c(Ct.kerning,f(Ct.family,{pairs:te}))}}})}if(E.position)if(E.position.length>2){for(var F=!E.position[0].length,V=r.mallocFloat(this.count*2),N=0,O=0;N<this.counts.length;N++){var H=this.counts[N];if(F)for(var X=0;X<H;X++)V[O++]=E.position[N*2],V[O++]=E.position[N*2+1];else for(var J=0;J<H;J++)V[O++]=E.position[N][0],V[O++]=E.position[N][1]}this.position.call?this.position({type:"float",data:V}):this.position=this.regl.buffer({type:"float",data:V}),r.freeFloat(V)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||a){var et=r.mallocUint8(this.count),it=r.mallocFloat(this.count*2);this.textWidth=[];for(var ft=0,ot=0;ft<this.counts.length;ft++){for(var Q=this.counts[ft],tt=this.font[ft]||this.font[0],Z=this.fontAtlas[ft]||this.fontAtlas[0],q=0;q<Q;q++){var ut=this.text.charAt(ot),$=this.text.charAt(ot-1);if(et[ot]=Z.ids[ut],it[ot*2]=tt.width[ut],q){var j=it[ot*2-2],lt=it[ot*2],nt=it[ot*2-1],ht=nt+j*.5+lt*.5;if(this.kerning){var mt=tt.kerning[$+ut];mt&&(ht+=mt*.001)}it[ot*2+1]=ht}else it[ot*2+1]=it[ot*2]*.5;ot++}this.textWidth.push(it.length?it[ot*2-2]*.5+it[ot*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:et,type:"uint8",usage:"stream"}),this.sizeBuffer({data:it,type:"float",usage:"stream"}),r.freeUint8(et),r.freeFloat(it),k.length&&this.font.forEach(function(Ct,Wt){var Kt=S.fontAtlas[Wt],oe=Kt.step,Jt=Math.floor(A.maxAtlasSize/oe),te=Math.min(Jt,Kt.chars.length),fe=Math.ceil(Kt.chars.length/te),ve=h(te*oe),de=h(fe*oe);Kt.width=ve,Kt.height=de,Kt.rows=fe,Kt.cols=te,Kt.em&&Kt.texture({data:g({canvas:A.atlasCanvas,font:Kt.fontString,chars:Kt.chars,shape:[ve,de],step:[oe,oe]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(Ct,Wt){var Kt=Array.isArray(S.align)?S.align.length>1?S.align[Wt]:S.align[0]:S.align;if(typeof Kt=="number")return Kt;switch(Kt){case"right":case"end":return-Ct;case"center":case"centre":case"middle":return-Ct*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Ct,Wt){var Kt=(S.font[Wt]||S.font[0]).metrics,oe=0;return oe+=Kt.bottom*.5,typeof Ct=="number"?oe+=Ct-Kt.baseline:oe+=-Kt[Ct],oe*=-1,oe})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=d(E.color,"uint8");else{var At;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var bt=E.color.length;At=r.mallocUint8(bt);for(var Pt=(E.color.subarray||E.color.slice).bind(E.color),_t=0;_t<bt;_t+=4)At.set(d(Pt(_t,_t+4),"uint8"),_t)}else{var Ut=E.color.length;At=r.mallocUint8(Ut*4);for(var St=0;St<Ut;St++)At.set(d(E.color[St]||0,"uint8"),St*4)}this.color=At}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Rt=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Rt){var Et=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Et);for(var zt=0;zt<this.batch.length;zt++)this.batch[zt]={count:this.counts.length>1?this.counts[zt]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[zt]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(zt*4,zt*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[zt]:this.opacity,baseline:this.baselineOffset[zt]!=null?this.baselineOffset[zt]:this.baselineOffset[0],align:this.align?this.alignOffset[zt]!=null?this.alignOffset[zt]:this.alignOffset[0]:0,atlas:this.fontAtlas[zt]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(zt*2,zt*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={};function L(x){return typeof x=="function"&&x._gl&&x.prop&&x.texture&&x.buffer}W.exports=A},55212:function(W,G,t){var y=t(55616);W.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},s(r)?r={container:r}:P(r)?r={container:r}:M(r)?r={gl:r}:r=y(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=t.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var e=document.querySelector(r.container);if(!e)throw Error("Element "+r.container+" is not found");r.container=e}s(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=d(),r.container.appendChild(r.canvas),D(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=d(),r.container.appendChild(r.canvas),D(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(o){try{r.gl=r.canvas.getContext(o,r.attrs)}catch{}return r.gl}),r.gl};function D(g){if(g.container)if(g.container==document.body)document.body.style.width||(g.canvas.width=g.width||g.pixelRatio*t.g.innerWidth),document.body.style.height||(g.canvas.height=g.height||g.pixelRatio*t.g.innerHeight);else{var r=g.container.getBoundingClientRect();g.canvas.width=g.width||r.right-r.left,g.canvas.height=g.height||r.bottom-r.top}}function s(g){return typeof g.getContext=="function"&&"width"in g&&"height"in g}function P(g){return typeof g.nodeName=="string"&&typeof g.appendChild=="function"&&typeof g.getBoundingClientRect=="function"}function M(g){return typeof g.drawArrays=="function"||typeof g.drawElements=="function"}function d(){var g=document.createElement("canvas");return g.style.position="absolute",g.style.top=0,g.style.left=0,g}},26444:function(W){W.exports=function(G){typeof G=="string"&&(G=[G]);for(var t=[].slice.call(arguments,1),y=[],D=0;D<G.length-1;D++)y.push(G[D],t[D]||"");return y.push(G[D]),y.join("")}},2304:function(W,G,t){var y=t(53664),D=y("%Object.getOwnPropertyDescriptor%",!0);if(D)try{D([],"length")}catch{D=null}W.exports=D},52264:function(W,G,t){var y=t(24200),D;typeof t.g.matchMedia=="function"?D=!t.g.matchMedia("(hover: none)").matches:D=y,W.exports=D},89184:function(W,G,t){var y=t(24200);function D(){var s=!1;try{var P=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,P),window.removeEventListener("test",null,P)}catch{s=!1}return s}W.exports=y&&D()},39640:function(W,G,t){var y=t(53664),D=y("%Object.defineProperty%",!0),s=function(){if(D)try{return D({},"a",{value:1}),!0}catch{return!1}return!1};s.hasArrayLengthDefineBug=function(){if(!s())return null;try{return D([],"length",{value:1}).length!==1}catch{return!0}},W.exports=s},69572:function(W){var G={foo:{}},t=Object;W.exports=function(){return{__proto__:G}.foo===G.foo&&!({__proto__:null}instanceof t)}},71080:function(W,G,t){var y=typeof Symbol<"u"&&Symbol,D=t(89320);W.exports=function(){return typeof y!="function"||typeof Symbol!="function"||typeof y("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:D()}},89320:function(W){W.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},y=Symbol("test"),D=Object(y);if(typeof y=="string"||Object.prototype.toString.call(y)!=="[object Symbol]"||Object.prototype.toString.call(D)!=="[object Symbol]")return!1;var s=42;t[y]=s;for(y in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var P=Object.getOwnPropertySymbols(t);if(P.length!==1||P[0]!==y||!Object.prototype.propertyIsEnumerable.call(t,y))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var M=Object.getOwnPropertyDescriptor(t,y);if(M.value!==s||M.enumerable!==!0)return!1}return!0}},46672:function(W,G,t){var y=t(89320);W.exports=function(){return y()&&!!Symbol.toStringTag}},92064:function(W,G,t){var y=Function.prototype.call,D=Object.prototype.hasOwnProperty,s=t(8844);W.exports=s.call(y,D)},35984:function(W,G){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */G.read=function(t,y,D,s,P){var M,d,g=P*8-s-1,r=(1<<g)-1,e=r>>1,o=-7,n=D?P-1:0,u=D?-1:1,f=t[y+n];for(n+=u,M=f&(1<<-o)-1,f>>=-o,o+=g;o>0;M=M*256+t[y+n],n+=u,o-=8);for(d=M&(1<<-o)-1,M>>=-o,o+=s;o>0;d=d*256+t[y+n],n+=u,o-=8);if(M===0)M=1-e;else{if(M===r)return d?NaN:(f?-1:1)*(1/0);d=d+Math.pow(2,s),M=M-e}return(f?-1:1)*d*Math.pow(2,M-s)},G.write=function(t,y,D,s,P,M){var d,g,r,e=M*8-P-1,o=(1<<e)-1,n=o>>1,u=P===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=s?0:M-1,c=s?1:-1,m=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(g=isNaN(y)?1:0,d=o):(d=Math.floor(Math.log(y)/Math.LN2),y*(r=Math.pow(2,-d))<1&&(d--,r*=2),d+n>=1?y+=u/r:y+=u*Math.pow(2,1-n),y*r>=2&&(d++,r/=2),d+n>=o?(g=0,d=o):d+n>=1?(g=(y*r-1)*Math.pow(2,P),d=d+n):(g=y*Math.pow(2,n-1)*Math.pow(2,P),d=0));P>=8;t[D+f]=g&255,f+=c,g/=256,P-=8);for(d=d<<P|g,e+=P;e>0;t[D+f]=d&255,f+=c,d/=256,e-=8);t[D+f-c]|=m*128}},6768:function(W){typeof Object.create=="function"?W.exports=function(t,y){y&&(t.super_=y,t.prototype=Object.create(y.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:W.exports=function(t,y){if(y){t.super_=y;var D=function(){};D.prototype=y.prototype,t.prototype=new D,t.prototype.constructor=t}}},91148:function(W,G,t){var y=t(46672)(),D=t(99676),s=D("Object.prototype.toString"),P=function(r){return y&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:s(r)==="[object Arguments]"},M=function(r){return P(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&s(r)!=="[object Array]"&&s(r.callee)==="[object Function]"},d=function(){return P(arguments)}();P.isLegacyArguments=M,W.exports=d?P:M},24200:function(W){W.exports=!0},90720:function(W){var G=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,y,D;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{y=Object.defineProperty({},"length",{get:function(){throw D}}),D={},t(function(){throw 42},null,y)}catch(T){T!==D&&(t=null)}else t=null;var s=/^\s*class\b/,P=function(h){try{var i=G.call(h);return s.test(i)}catch{return!1}},M=function(h){try{return P(h)?!1:(G.call(h),!0)}catch{return!1}},d=Object.prototype.toString,g="[object Object]",r="[object Function]",e="[object GeneratorFunction]",o="[object HTMLAllCollection]",n="[object HTML document.all class]",u="[object HTMLCollection]",f=typeof Symbol=="function"&&!!Symbol.toStringTag,c=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var v=document.all;d.call(v)===d.call(document.all)&&(m=function(h){if((c||!h)&&(typeof h>"u"||typeof h=="object"))try{var i=d.call(h);return(i===o||i===n||i===u||i===g)&&h("")==null}catch{}return!1})}W.exports=t?function(h){if(m(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{t(h,null,y)}catch(i){if(i!==D)return!1}return!P(h)&&M(h)}:function(h){if(m(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(f)return M(h);if(P(h))return!1;var i=d.call(h);return i!==r&&i!==e&&!/^\[object HTML/.test(i)?!1:M(h)}},84420:function(W,G,t){var y=Object.prototype.toString,D=Function.prototype.toString,s=/^\s*(?:function)?\*/,P=t(46672)(),M=Object.getPrototypeOf,d=function(){if(!P)return!1;try{return Function("return function*() {}")()}catch{}},g;W.exports=function(e){if(typeof e!="function")return!1;if(s.test(D.call(e)))return!0;if(!P){var o=y.call(e);return o==="[object GeneratorFunction]"}if(!M)return!1;if(typeof g>"u"){var n=d();g=n?M(n):!1}return M(e)===g}},96604:function(W){W.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(W){W.exports=function(t){return t!==t}},1560:function(W,G,t){var y=t(57916),D=t(81288),s=t(85992),P=t(57740),M=t(59736),d=y(P(),Number);D(d,{getPolyfill:P,implementation:s,shim:M}),W.exports=d},57740:function(W,G,t){var y=t(85992);W.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:y}},59736:function(W,G,t){var y=t(81288),D=t(57740);W.exports=function(){var P=D();return y(Number,{isNaN:P},{isNaN:function(){return Number.isNaN!==P}}),P}},18400:function(W){W.exports=function(G){var t=typeof G;return G!==null&&(t==="object"||t==="function")}},58908:function(W){var G=Object.prototype.toString;W.exports=function(t){var y;return G.call(t)==="[object Object]"&&(y=Object.getPrototypeOf(t),y===null||y===Object.getPrototypeOf({}))}},94576:function(W){W.exports=function(G){for(var t=G.length,y,D=0;D<t;D++)if(y=G.charCodeAt(D),(y<9||y>13)&&y!==32&&y!==133&&y!==160&&y!==5760&&y!==6158&&(y<8192||y>8205)&&y!==8232&&y!==8233&&y!==8239&&y!==8287&&y!==8288&&y!==12288&&y!==65279)return!1;return!0}},53520:function(W){W.exports=function(t){return typeof t!="string"?!1:(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4))}},7728:function(W,G,t){var y=t(46492),D=t(63436),s=t(99676),P=s("Object.prototype.toString"),M=t(46672)(),d=t(2304),g=typeof globalThis>"u"?t.g:globalThis,r=D(),e=s("Array.prototype.indexOf",!0)||function(m,v){for(var T=0;T<m.length;T+=1)if(m[T]===v)return T;return-1},o=s("String.prototype.slice"),n={},u=Object.getPrototypeOf;M&&d&&u&&y(r,function(c){var m=new g[c];if(Symbol.toStringTag in m){var v=u(m),T=d(v,Symbol.toStringTag);if(!T){var h=u(v);T=d(h,Symbol.toStringTag)}n[c]=T.get}});var f=function(m){var v=!1;return y(n,function(T,h){if(!v)try{v=T.call(m)===h}catch{}}),v};W.exports=function(m){if(!m||typeof m!="object")return!1;if(!M||!(Symbol.toStringTag in m)){var v=o(P(m),8,-1);return e(r,v)>-1}return d?f(m):!1}},76244:function(W){W.exports=Math.log2||function(G){return Math.log(G)*Math.LOG2E}},62644:function(W,G,t){W.exports=D;var y=t(93784);function D(s,P){P||(P=s,s=window);var M=0,d=0,g=0,r={shift:!1,alt:!1,control:!1,meta:!1},e=!1;function o(w){var A=!1;return"altKey"in w&&(A=A||w.altKey!==r.alt,r.alt=!!w.altKey),"shiftKey"in w&&(A=A||w.shiftKey!==r.shift,r.shift=!!w.shiftKey),"ctrlKey"in w&&(A=A||w.ctrlKey!==r.control,r.control=!!w.ctrlKey),"metaKey"in w&&(A=A||w.metaKey!==r.meta,r.meta=!!w.metaKey),A}function n(w,A){var L=y.x(A),x=y.y(A);"buttons"in A&&(w=A.buttons|0),(w!==M||L!==d||x!==g||o(A))&&(M=w|0,d=L||0,g=x||0,P&&P(M,d,g,r))}function u(w){n(0,w)}function f(){(M||d||g||r.shift||r.alt||r.meta||r.control)&&(d=g=0,M=0,r.shift=r.alt=r.control=r.meta=!1,P&&P(0,0,0,r))}function c(w){o(w)&&P&&P(M,d,g,r)}function m(w){y.buttons(w)===0?n(0,w):n(M,w)}function v(w){n(M|y.buttons(w),w)}function T(w){n(M&~y.buttons(w),w)}function h(){e||(e=!0,s.addEventListener("mousemove",m),s.addEventListener("mousedown",v),s.addEventListener("mouseup",T),s.addEventListener("mouseleave",u),s.addEventListener("mouseenter",u),s.addEventListener("mouseout",u),s.addEventListener("mouseover",u),s.addEventListener("blur",f),s.addEventListener("keyup",c),s.addEventListener("keydown",c),s.addEventListener("keypress",c),s!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",c),window.addEventListener("keydown",c),window.addEventListener("keypress",c)))}function i(){e&&(e=!1,s.removeEventListener("mousemove",m),s.removeEventListener("mousedown",v),s.removeEventListener("mouseup",T),s.removeEventListener("mouseleave",u),s.removeEventListener("mouseenter",u),s.removeEventListener("mouseout",u),s.removeEventListener("mouseover",u),s.removeEventListener("blur",f),s.removeEventListener("keyup",c),s.removeEventListener("keydown",c),s.removeEventListener("keypress",c),s!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",c),window.removeEventListener("keydown",c),window.removeEventListener("keypress",c)))}h();var p={element:s};return Object.defineProperties(p,{enabled:{get:function(){return e},set:function(w){w?h():i()},enumerable:!0},buttons:{get:function(){return M},enumerable:!0},x:{get:function(){return d},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),p}},29128:function(W){var G={left:0,top:0};W.exports=t;function t(D,s,P){s=s||D.currentTarget||D.srcElement,Array.isArray(P)||(P=[0,0]);var M=D.clientX||0,d=D.clientY||0,g=y(s);return P[0]=M-g.left,P[1]=d-g.top,P}function y(D){return D===window||D===document||D===document.body?G:D.getBoundingClientRect()}},93784:function(W,G){function t(P){if(typeof P=="object"){if("buttons"in P)return P.buttons;if("which"in P){var M=P.which;if(M===2)return 4;if(M===3)return 2;if(M>0)return 1<<M-1}else if("button"in P){var M=P.button;if(M===1)return 4;if(M===2)return 2;if(M>=0)return 1<<M}}return 0}G.buttons=t;function y(P){return P.target||P.srcElement||window}G.element=y;function D(P){if(typeof P=="object"){if("offsetX"in P)return P.offsetX;var M=y(P),d=M.getBoundingClientRect();return P.clientX-d.left}return 0}G.x=D;function s(P){if(typeof P=="object"){if("offsetY"in P)return P.offsetY;var M=y(P),d=M.getBoundingClientRect();return P.clientY-d.top}return 0}G.y=s},97264:function(W,G,t){var y=t(23464);W.exports=D;function D(s,P,M){typeof s=="function"&&(M=!!P,P=s,s=window);var d=y("ex",s),g=function(r){M&&r.preventDefault();var e=r.deltaX||0,o=r.deltaY||0,n=r.deltaZ||0,u=r.deltaMode,f=1;switch(u){case 1:f=d;break;case 2:f=window.innerHeight;break}if(e*=f,o*=f,n*=f,e||o||n)return P(e,o,n,r)};return s.addEventListener("wheel",g),g}},88324:function(W,G,t){var y;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(s,P,M){P[s]=P[s]||M(),W.exports?W.exports=P[s]:(y=(function(){return P[s]}).call(G,t,G,W),y!==void 0&&(W.exports=y))})("Promise",typeof t.g<"u"?t.g:this,function(){var s,P,M,d=Object.prototype.toString,g=typeof setImmediate<"u"?function(p){return setImmediate(p)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(p,w,A,L){return Object.defineProperty(p,w,{value:A,writable:!0,configurable:L!==!1})}}catch{s=function(w,A,L){return w[A]=L,w}}M=function(){var p,w,A;function L(x,E){this.fn=x,this.self=E,this.next=void 0}return{add:function(E,S){A=new L(E,S),w?w.next=A:p=A,w=A,A=void 0},drain:function(){var E=p;for(p=w=P=void 0;E;)E.fn.call(E.self),E=E.next}}}();function r(i,p){M.add(i,p),P||(P=g(M.drain))}function e(i){var p,w=typeof i;return i!=null&&(w=="object"||w=="function")&&(p=i.then),typeof p=="function"?p:!1}function o(){for(var i=0;i<this.chain.length;i++)n(this,this.state===1?this.chain[i].success:this.chain[i].failure,this.chain[i]);this.chain.length=0}function n(i,p,w){var A,L;try{p===!1?w.reject(i.msg):(p===!0?A=i.msg:A=p.call(void 0,i.msg),A===w.promise?w.reject(TypeError("Promise-chain cycle")):(L=e(A))?L.call(A,w.resolve,w.reject):w.resolve(A))}catch(x){w.reject(x)}}function u(i){var p,w=this;if(!w.triggered){w.triggered=!0,w.def&&(w=w.def);try{(p=e(i))?r(function(){var A=new m(w);try{p.call(i,function(){u.apply(A,arguments)},function(){f.apply(A,arguments)})}catch(L){f.call(A,L)}}):(w.msg=i,w.state=1,w.chain.length>0&&r(o,w))}catch(A){f.call(new m(w),A)}}}function f(i){var p=this;p.triggered||(p.triggered=!0,p.def&&(p=p.def),p.msg=i,p.state=2,p.chain.length>0&&r(o,p))}function c(i,p,w,A){for(var L=0;L<p.length;L++)(function(E){i.resolve(p[E]).then(function(a){w(E,a)},A)})(L)}function m(i){this.def=i,this.triggered=!1}function v(i){this.promise=i,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(i){if(typeof i!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var p=new v(this);this.then=function(A,L){var x={success:typeof A=="function"?A:!0,failure:typeof L=="function"?L:!1};return x.promise=new this.constructor(function(S,a){if(typeof S!="function"||typeof a!="function")throw TypeError("Not a function");x.resolve=S,x.reject=a}),p.chain.push(x),p.state!==0&&r(o,p),x.promise},this.catch=function(A){return this.then(void 0,A)};try{i.call(void 0,function(A){u.call(p,A)},function(A){f.call(p,A)})}catch(w){f.call(p,w)}}var h=s({},"constructor",T,!1);return T.prototype=h,s(h,"__NPO__",0,!1),s(T,"resolve",function(p){var w=this;return p&&typeof p=="object"&&p.__NPO__===1?p:new w(function(L,x){if(typeof L!="function"||typeof x!="function")throw TypeError("Not a function");L(p)})}),s(T,"reject",function(p){return new this(function(A,L){if(typeof A!="function"||typeof L!="function")throw TypeError("Not a function");L(p)})}),s(T,"all",function(p){var w=this;return d.call(p)!="[object Array]"?w.reject(TypeError("Not an array")):p.length===0?w.resolve([]):new w(function(L,x){if(typeof L!="function"||typeof x!="function")throw TypeError("Not a function");var E=p.length,S=Array(E),a=0;c(w,p,function(b,z){S[b]=z,++a===E&&L(S)},x)})}),s(T,"race",function(p){var w=this;return d.call(p)!="[object Array]"?w.reject(TypeError("Not an array")):new w(function(L,x){if(typeof L!="function"||typeof x!="function")throw TypeError("Not a function");c(w,p,function(S,a){L(a)},x)})}),T})},48816:function(W){var G=Math.PI,t=d(120);W.exports=y;function y(g){for(var r,e=[],o=0,n=0,u=0,f=0,c=null,m=null,v=0,T=0,h=0,i=g.length;h<i;h++){var p=g[h],w=p[0];switch(w){case"M":u=p[1],f=p[2];break;case"A":p=P(v,T,p[1],p[2],d(p[3]),p[4],p[5],p[6],p[7]),p.unshift("C"),p.length>7&&(e.push(p.splice(0,7)),p.unshift("C"));break;case"S":var A=v,L=T;(r=="C"||r=="S")&&(A+=A-o,L+=L-n),p=["C",A,L,p[1],p[2],p[3],p[4]];break;case"T":r=="Q"||r=="T"?(c=v*2-c,m=T*2-m):(c=v,m=T),p=s(v,T,c,m,p[1],p[2]);break;case"Q":c=p[1],m=p[2],p=s(v,T,p[1],p[2],p[3],p[4]);break;case"L":p=D(v,T,p[1],p[2]);break;case"H":p=D(v,T,p[1],T);break;case"V":p=D(v,T,v,p[1]);break;case"Z":p=D(v,T,u,f);break}r=w,v=p[p.length-2],T=p[p.length-1],p.length>4?(o=p[p.length-4],n=p[p.length-3]):(o=v,n=T),e.push(p)}return e}function D(g,r,e,o){return["C",g,r,e,o,e,o]}function s(g,r,e,o,n,u){return["C",g/3+.6666666666666666*e,r/3+.6666666666666666*o,n/3+.6666666666666666*e,u/3+.6666666666666666*o,n,u]}function P(g,r,e,o,n,u,f,c,m,v){if(v)S=v[0],a=v[1],x=v[2],E=v[3];else{var T=M(g,r,-n);g=T.x,r=T.y,T=M(c,m,-n),c=T.x,m=T.y;var h=(g-c)/2,i=(r-m)/2,p=h*h/(e*e)+i*i/(o*o);p>1&&(p=Math.sqrt(p),e=p*e,o=p*o);var w=e*e,A=o*o,L=(u==f?-1:1)*Math.sqrt(Math.abs((w*A-w*i*i-A*h*h)/(w*i*i+A*h*h)));L==1/0&&(L=1);var x=L*e*i/o+(g+c)/2,E=L*-o*h/e+(r+m)/2,S=Math.asin(((r-E)/o).toFixed(9)),a=Math.asin(((m-E)/o).toFixed(9));S=g<x?G-S:S,a=c<x?G-a:a,S<0&&(S=G*2+S),a<0&&(a=G*2+a),f&&S>a&&(S=S-G*2),!f&&a>S&&(a=a-G*2)}if(Math.abs(a-S)>t){var C=a,b=c,z=m;a=S+t*(f&&a>S?1:-1),c=x+e*Math.cos(a),m=E+o*Math.sin(a);var k=P(c,m,e,o,n,0,f,b,z,[a,C,x,E])}var U=Math.tan((a-S)/4),F=4/3*e*U,V=4/3*o*U,N=[2*g-(g+F*Math.sin(S)),2*r-(r-V*Math.cos(S)),c+F*Math.sin(a),m-V*Math.cos(a),c,m];if(v)return N;k&&(N=N.concat(k));for(var O=0;O<N.length;){var H=M(N[O],N[O+1],n);N[O++]=H.x,N[O++]=H.y}return N}function M(g,r,e){return{x:g*Math.cos(e)-r*Math.sin(e),y:g*Math.sin(e)+r*Math.cos(e)}}function d(g){return g*(G/180)}},50896:function(W){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var G=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;function D(P){if(P==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(P)}function s(){try{if(!Object.assign)return!1;var P=new String("abc");if(P[5]="de",Object.getOwnPropertyNames(P)[0]==="5")return!1;for(var M={},d=0;d<10;d++)M["_"+String.fromCharCode(d)]=d;var g=Object.getOwnPropertyNames(M).map(function(e){return M[e]});if(g.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}W.exports=s()?Object.assign:function(P,M){for(var d,g=D(P),r,e=1;e<arguments.length;e++){d=Object(arguments[e]);for(var o in d)t.call(d,o)&&(g[o]=d[o]);if(G){r=G(d);for(var n=0;n<r.length;n++)y.call(d,r[n])&&(g[r[n]]=d[r[n]])}}return g}},76835:function(W){var G=function(t){return t!==t};W.exports=function(y,D){return y===0&&D===0?1/y===1/D:!!(y===D||G(y)&&G(D))}},39896:function(W,G,t){var y=t(81288),D=t(57916),s=t(76835),P=t(66148),M=t(16408),d=D(P(),Object);y(d,{getPolyfill:P,implementation:s,shim:M}),W.exports=d},66148:function(W,G,t){var y=t(76835);W.exports=function(){return typeof Object.is=="function"?Object.is:y}},16408:function(W,G,t){var y=t(66148),D=t(81288);W.exports=function(){var P=y();return D(Object,{is:P},{is:function(){return Object.is!==P}}),P}},32764:function(W,G,t){var y;if(!Object.keys){var D=Object.prototype.hasOwnProperty,s=Object.prototype.toString,P=t(97344),M=Object.prototype.propertyIsEnumerable,d=!M.call({toString:null},"toString"),g=M.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=function(f){var c=f.constructor;return c&&c.prototype===f},o={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!o["$"+f]&&D.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{e(window[f])}catch{return!0}}catch{return!0}return!1}(),u=function(f){if(typeof window>"u"||!n)return e(f);try{return e(f)}catch{return!1}};y=function(c){var m=c!==null&&typeof c=="object",v=s.call(c)==="[object Function]",T=P(c),h=m&&s.call(c)==="[object String]",i=[];if(!m&&!v&&!T)throw new TypeError("Object.keys called on a non-object");var p=g&&v;if(h&&c.length>0&&!D.call(c,0))for(var w=0;w<c.length;++w)i.push(String(w));if(T&&c.length>0)for(var A=0;A<c.length;++A)i.push(String(A));else for(var L in c)!(p&&L==="prototype")&&D.call(c,L)&&i.push(String(L));if(d)for(var x=u(c),E=0;E<r.length;++E)!(x&&r[E]==="constructor")&&D.call(c,r[E])&&i.push(r[E]);return i}}W.exports=y},41820:function(W,G,t){var y=Array.prototype.slice,D=t(97344),s=Object.keys,P=s?function(g){return s(g)}:t(32764),M=Object.keys;P.shim=function(){if(Object.keys){var g=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);g||(Object.keys=function(e){return D(e)?M(y.call(e)):M(e)})}else Object.keys=P;return Object.keys||P},W.exports=P},97344:function(W){var G=Object.prototype.toString;W.exports=function(y){var D=G.call(y),s=D==="[object Arguments]";return s||(s=D!=="[object Array]"&&y!==null&&typeof y=="object"&&typeof y.length=="number"&&y.length>=0&&G.call(y.callee)==="[object Function]"),s}},32868:function(W){function G(D,s){if(typeof D!="string")return[D];var P=[D];typeof s=="string"||Array.isArray(s)?s={brackets:s}:s||(s={});var M=s.brackets?Array.isArray(s.brackets)?s.brackets:[s.brackets]:["{}","[]","()"],d=s.escape||"___",g=!!s.flat;M.forEach(function(o){var n=new RegExp(["\\",o[0],"[^\\",o[0],"\\",o[1],"]*\\",o[1]].join("")),u=[];function f(c,m,v){var T=P.push(c.slice(o[0].length,-o[1].length))-1;return u.push(T),d+T+d}P.forEach(function(c,m){for(var v,T=0;c!=v;)if(v=c,c=c.replace(n,f),T++>1e4)throw Error("References have circular dependency. Please, check them.");P[m]=c}),u=u.reverse(),P=P.map(function(c){return u.forEach(function(m){c=c.replace(new RegExp("(\\"+d+m+"\\"+d+")","g"),o[0]+"$1"+o[1])}),c})});var r=new RegExp("\\"+d+"([0-9]+)\\"+d);function e(o,n,u){for(var f=[],c,m=0;c=r.exec(o);){if(m++>1e4)throw Error("Circular references in parenthesis");f.push(o.slice(0,c.index)),f.push(e(n[c[1]],n)),o=o.slice(c.index+c[0].length)}return f.push(o),f}return g?P:e(P[0],P)}function t(D,s){if(s&&s.flat){var P=s&&s.escape||"___",M=D[0],d;if(!M)return"";for(var g=new RegExp("\\"+P+"([0-9]+)\\"+P),r=0;M!=d;){if(r++>1e4)throw Error("Circular references in "+D);d=M,M=M.replace(g,e)}return M}return D.reduce(function o(n,u){return Array.isArray(u)&&(u=u.reduce(o,"")),n+u},"");function e(o,n){if(D[n]==null)throw Error("Reference "+n+"is undefined");return D[n]}}function y(D,s){return Array.isArray(D)?t(D,s):G(D,s)}y.parse=G,y.stringify=t,W.exports=y},51160:function(W,G,t){var y=t(55616);W.exports=D;function D(s){var P;return arguments.length>1&&(s=arguments),typeof s=="string"?s=s.split(/\s/).map(parseFloat):typeof s=="number"&&(s=[s]),s.length&&typeof s[0]=="number"?s.length===1?P={width:s[0],height:s[0],x:0,y:0}:s.length===2?P={width:s[0],height:s[1],x:0,y:0}:P={x:s[0],y:s[1],width:s[2]-s[0]||0,height:s[3]-s[1]||0}:s&&(s=y(s,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),P={x:s.left||0,y:s.top||0},s.width==null?s.right?P.width=s.right-P.x:P.width=0:P.width=s.width,s.height==null?s.bottom?P.height=s.bottom-P.y:P.height=0:P.height=s.height),P}},21984:function(W){W.exports=y;var G={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function y(P){var M=[];return P.replace(t,function(d,g,r){var e=g.toLowerCase();for(r=s(r),e=="m"&&r.length>2&&(M.push([g].concat(r.splice(0,2))),e="l",g=g=="m"?"l":"L");;){if(r.length==G[e])return r.unshift(g),M.push(r);if(r.length<G[e])throw new Error("malformed path data");M.push([g].concat(r.splice(0,G[e])))}}),M}var D=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function s(P){var M=P.match(D);return M?M.map(Number):[]}},65819:function(W){W.exports=function(t,y){y||(y=[0,""]),t=String(t);var D=parseFloat(t,10);return y[0]=D,y[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",y}},41984:function(W,G,t){var y=t(4168);(function(){var D,s,P,M,d,g;typeof performance<"u"&&performance!==null&&performance.now?W.exports=function(){return performance.now()}:typeof y<"u"&&y!==null&&y.hrtime?(W.exports=function(){return(D()-d)/1e6},s=y.hrtime,D=function(){var r;return r=s(),r[0]*1e9+r[1]},M=D(),g=y.uptime()*1e9,d=M-g):Date.now?(W.exports=function(){return Date.now()-P},P=Date.now()):(W.exports=function(){return new Date().getTime()-P},P=new Date().getTime())}).call(this)},55616:function(W){W.exports=function(D,s,P){var M={},d,g;if(typeof s=="string"&&(s=t(s)),Array.isArray(s)){var r={};for(g=0;g<s.length;g++)r[s[g]]=!0;s=r}for(d in s)s[d]=t(s[d]);var e={};for(d in s){var o=s[d];if(Array.isArray(o))for(g=0;g<o.length;g++){var n=o[g];if(P&&(e[n]=!0),n in D){if(M[d]=D[n],P)for(var u=g;u<o.length;u++)e[o[u]]=!0;break}}else d in D&&(s[d]&&(M[d]=D[d]),P&&(e[d]=!0))}if(P)for(d in D)e[d]||(M[d]=D[d]);return M};var G={};function t(y){return G[y]?G[y]:(typeof y=="string"&&(y=G[y]=y.split(/\s*,\s*|\s+/)),y)}},61456:function(W){W.exports=function(t,y,D,s){var P=t[0],M=t[1],d=!1;D===void 0&&(D=0),s===void 0&&(s=y.length);for(var g=s-D,r=0,e=g-1;r<g;e=r++){var o=y[r+D][0],n=y[r+D][1],u=y[e+D][0],f=y[e+D][1],c=n>M!=f>M&&P<(u-o)*(M-n)/(f-n)+o;c&&(d=!d)}return d}},14756:function(W,G,t){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var y=t(7688),D=t(28648),s=t(72200),P=t(11403),M=t(82368),d=t(17792),g=!1,r=D(),e;e={buildLog:function(n){return n===!0?g=y():n===!1&&(g=!1),g===!1?!1:g.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var u=s(!0,r,g);return n.regions.forEach(u.addRegion),{segments:u.calculate(n.inverted),inverted:n.inverted}},combine:function(n,u){var f=s(!1,r,g);return{combined:f.calculate(n.segments,n.inverted,u.segments,u.inverted),inverted1:n.inverted,inverted2:u.inverted}},selectUnion:function(n){return{segments:M.union(n.combined,g),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:M.intersect(n.combined,g),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:M.difference(n.combined,g),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:M.differenceRev(n.combined,g),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:M.xor(n.combined,g),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:P(n.segments,r,g),inverted:n.inverted}},polygonFromGeoJSON:function(n){return d.toPolygon(e,n)},polygonToGeoJSON:function(n){return d.fromPolygon(e,r,n)},union:function(n,u){return o(n,u,e.selectUnion)},intersect:function(n,u){return o(n,u,e.selectIntersect)},difference:function(n,u){return o(n,u,e.selectDifference)},differenceRev:function(n,u){return o(n,u,e.selectDifferenceRev)},xor:function(n,u){return o(n,u,e.selectXor)}};function o(n,u,f){var c=e.segments(n),m=e.segments(u),v=e.combine(c,m),T=f(v);return e.polygon(T)}typeof window=="object"&&(window.PolyBool=e),W.exports=e},7688:function(W){function G(){var t,y=0,D=!1;function s(P,M){return t.list.push({type:P,data:M?JSON.parse(JSON.stringify(M)):void 0}),t}return t={list:[],segmentId:function(){return y++},checkIntersection:function(P,M){return s("check",{seg1:P,seg2:M})},segmentChop:function(P,M){return s("div_seg",{seg:P,pt:M}),s("chop",{seg:P,pt:M})},statusRemove:function(P){return s("pop_seg",{seg:P})},segmentUpdate:function(P){return s("seg_update",{seg:P})},segmentNew:function(P,M){return s("new_seg",{seg:P,primary:M})},segmentRemove:function(P){return s("rem_seg",{seg:P})},tempStatus:function(P,M,d){return s("temp_status",{seg:P,above:M,below:d})},rewind:function(P){return s("rewind",{seg:P})},status:function(P,M,d){return s("status",{seg:P,above:M,below:d})},vert:function(P){return P===D?t:(D=P,s("vert",{x:P}))},log:function(P){return typeof P!="string"&&(P=JSON.stringify(P,!1,"  ")),s("log",{txt:P})},reset:function(){return s("reset")},selected:function(P){return s("selected",{segs:P})},chainStart:function(P){return s("chain_start",{seg:P})},chainRemoveHead:function(P,M){return s("chain_rem_head",{index:P,pt:M})},chainRemoveTail:function(P,M){return s("chain_rem_tail",{index:P,pt:M})},chainNew:function(P,M){return s("chain_new",{pt1:P,pt2:M})},chainMatch:function(P){return s("chain_match",{index:P})},chainClose:function(P){return s("chain_close",{index:P})},chainAddHead:function(P,M){return s("chain_add_head",{index:P,pt:M})},chainAddTail:function(P,M){return s("chain_add_tail",{index:P,pt:M})},chainConnect:function(P,M){return s("chain_con",{index1:P,index2:M})},chainReverse:function(P){return s("chain_rev",{index:P})},chainJoin:function(P,M){return s("chain_join",{index1:P,index2:M})},done:function(){return s("done")}},t}W.exports=G},28648:function(W){function G(t){typeof t!="number"&&(t=1e-10);var y={epsilon:function(D){return typeof D=="number"&&(t=D),t},pointAboveOrOnLine:function(D,s,P){var M=s[0],d=s[1],g=P[0],r=P[1],e=D[0],o=D[1];return(g-M)*(o-d)-(r-d)*(e-M)>=-t},pointBetween:function(D,s,P){var M=D[1]-s[1],d=P[0]-s[0],g=D[0]-s[0],r=P[1]-s[1],e=g*d+M*r;if(e<t)return!1;var o=d*d+r*r;return!(e-o>-t)},pointsSameX:function(D,s){return Math.abs(D[0]-s[0])<t},pointsSameY:function(D,s){return Math.abs(D[1]-s[1])<t},pointsSame:function(D,s){return y.pointsSameX(D,s)&&y.pointsSameY(D,s)},pointsCompare:function(D,s){return y.pointsSameX(D,s)?y.pointsSameY(D,s)?0:D[1]<s[1]?-1:1:D[0]<s[0]?-1:1},pointsCollinear:function(D,s,P){var M=D[0]-s[0],d=D[1]-s[1],g=s[0]-P[0],r=s[1]-P[1];return Math.abs(M*r-g*d)<t},linesIntersect:function(D,s,P,M){var d=s[0]-D[0],g=s[1]-D[1],r=M[0]-P[0],e=M[1]-P[1],o=d*e-g*r;if(Math.abs(o)<t)return!1;var n=D[0]-P[0],u=D[1]-P[1],f=(r*u-e*n)/o,c=(d*u-g*n)/o,m={alongA:0,alongB:0,pt:[D[0]+f*d,D[1]+f*g]};return f<=-t?m.alongA=-2:f<t?m.alongA=-1:f-1<=-t?m.alongA=0:f-1<t?m.alongA=1:m.alongA=2,c<=-t?m.alongB=-2:c<t?m.alongB=-1:c-1<=-t?m.alongB=0:c-1<t?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(D,s){for(var P=D[0],M=D[1],d=s[s.length-1][0],g=s[s.length-1][1],r=!1,e=0;e<s.length;e++){var o=s[e][0],n=s[e][1];n-M>t!=g-M>t&&(d-o)*(M-n)/(g-n)+o-P>t&&(r=!r),d=o,g=n}return r}};return y}W.exports=G},17792:function(W){var G={toPolygon:function(t,y){function D(M){if(M.length<=0)return t.segments({inverted:!1,regions:[]});function d(e){var o=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[o]})}for(var g=d(M[0]),r=1;r<M.length;r++)g=t.selectDifference(t.combine(g,d(M[r])));return g}if(y.type==="Polygon")return t.polygon(D(y.coordinates));if(y.type==="MultiPolygon"){for(var s=t.segments({inverted:!1,regions:[]}),P=0;P<y.coordinates.length;P++)s=t.selectUnion(t.combine(s,D(y.coordinates[P])));return t.polygon(s)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,y,D){D=t.polygon(t.segments(D));function s(f,c){return y.pointInsideRegion([(f[0][0]+f[1][0])*.5,(f[0][1]+f[1][1])*.5],c)}function P(f){return{region:f,children:[]}}var M=P(null);function d(f,c){for(var m=0;m<f.children.length;m++){var v=f.children[m];if(s(c,v.region)){d(v,c);return}}for(var T=P(c),m=0;m<f.children.length;m++){var v=f.children[m];s(v.region,c)&&(T.children.push(v),f.children.splice(m,1),m--)}f.children.push(T)}for(var g=0;g<D.regions.length;g++){var r=D.regions[g];r.length<3||d(M,r)}function e(f,c){for(var m=0,v=f[f.length-1][0],T=f[f.length-1][1],h=[],i=0;i<f.length;i++){var p=f[i][0],w=f[i][1];h.push([p,w]),m+=w*v-p*T,v=p,T=w}var A=m<0;return A!==c&&h.reverse(),h.push([h[0][0],h[0][1]]),h}var o=[];function n(f){var c=[e(f.region,!1)];o.push(c);for(var m=0;m<f.children.length;m++)c.push(u(f.children[m]))}function u(f){for(var c=0;c<f.children.length;c++)n(f.children[c]);return e(f.region,!0)}for(var g=0;g<M.children.length;g++)n(M.children[g]);return o.length<=0?{type:"Polygon",coordinates:[]}:o.length==1?{type:"Polygon",coordinates:o[0]}:{type:"MultiPolygon",coordinates:o}}};W.exports=G},72200:function(W,G,t){var y=t(48088);function D(s,P,M){function d(T,h){return{id:M?M.segmentId():-1,start:T,end:h,myFill:{above:null,below:null},otherFill:null}}function g(T,h,i){return{id:M?M.segmentId():-1,start:T,end:h,myFill:{above:i.myFill.above,below:i.myFill.below},otherFill:null}}var r=y.create();function e(T,h,i,p,w,A){var L=P.pointsCompare(h,w);return L!==0?L:P.pointsSame(i,A)?0:T!==p?T?1:-1:P.pointAboveOrOnLine(i,p?w:A,p?A:w)?1:-1}function o(T,h){r.insertBefore(T,function(i){var p=e(T.isStart,T.pt,h,i.isStart,i.pt,i.other.pt);return p<0})}function n(T,h){var i=y.node({isStart:!0,pt:T.start,seg:T,primary:h,other:null,status:null});return o(i,T.end),i}function u(T,h,i){var p=y.node({isStart:!1,pt:h.end,seg:h,primary:i,other:T,status:null});T.other=p,o(p,T.pt)}function f(T,h){var i=n(T,h);return u(i,T,h),i}function c(T,h){M&&M.segmentChop(T.seg,h),T.other.remove(),T.seg.end=h,T.other.pt=h,o(T.other,T.pt)}function m(T,h){var i=g(h,T.seg.end,T.seg);return c(T,h),f(i,T.primary)}function v(T,h){var i=y.create();function p(F,V){var N=F.seg.start,O=F.seg.end,H=V.seg.start,X=V.seg.end;return P.pointsCollinear(N,H,X)?P.pointsCollinear(O,H,X)||P.pointAboveOrOnLine(O,H,X)?1:-1:P.pointAboveOrOnLine(N,H,X)?1:-1}function w(F){return i.findTransition(function(V){var N=p(F,V.ev);return N>0})}function A(F,V){var N=F.seg,O=V.seg,H=N.start,X=N.end,J=O.start,et=O.end;M&&M.checkIntersection(N,O);var it=P.linesIntersect(H,X,J,et);if(it===!1){if(!P.pointsCollinear(H,X,J)||P.pointsSame(H,et)||P.pointsSame(X,J))return!1;var ft=P.pointsSame(H,J),ot=P.pointsSame(X,et);if(ft&&ot)return V;var Q=!ft&&P.pointBetween(H,J,et),tt=!ot&&P.pointBetween(X,J,et);if(ft)return tt?m(V,X):m(F,et),V;Q&&(ot||(tt?m(V,X):m(F,et)),m(V,H))}else it.alongA===0&&(it.alongB===-1?m(F,J):it.alongB===0?m(F,it.pt):it.alongB===1&&m(F,et)),it.alongB===0&&(it.alongA===-1?m(V,H):it.alongA===0?m(V,it.pt):it.alongA===1&&m(V,X));return!1}for(var L=[];!r.isEmpty();){var x=r.getHead();if(M&&M.vert(x.pt[0]),x.isStart){let F=function(){if(S){var V=A(x,S);if(V)return V}return a?A(x,a):!1};M&&M.segmentNew(x.seg,x.primary);var E=w(x),S=E.before?E.before.ev:null,a=E.after?E.after.ev:null;M&&M.tempStatus(x.seg,S?S.seg:!1,a?a.seg:!1);var C=F();if(C){if(s){var b;x.seg.myFill.below===null?b=!0:b=x.seg.myFill.above!==x.seg.myFill.below,b&&(C.seg.myFill.above=!C.seg.myFill.above)}else C.seg.otherFill=x.seg.myFill;M&&M.segmentUpdate(C.seg),x.other.remove(),x.remove()}if(r.getHead()!==x){M&&M.rewind(x.seg);continue}if(s){var b;x.seg.myFill.below===null?b=!0:b=x.seg.myFill.above!==x.seg.myFill.below,a?x.seg.myFill.below=a.seg.myFill.above:x.seg.myFill.below=T,b?x.seg.myFill.above=!x.seg.myFill.below:x.seg.myFill.above=x.seg.myFill.below}else if(x.seg.otherFill===null){var z;a?x.primary===a.primary?z=a.seg.otherFill.above:z=a.seg.myFill.above:z=x.primary?h:T,x.seg.otherFill={above:z,below:z}}M&&M.status(x.seg,S?S.seg:!1,a?a.seg:!1),x.other.status=E.insert(y.node({ev:x}))}else{var k=x.status;if(k===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(i.exists(k.prev)&&i.exists(k.next)&&A(k.prev.ev,k.next.ev),M&&M.statusRemove(k.ev.seg),k.remove(),!x.primary){var U=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=U}L.push(x.seg)}r.getHead().remove()}return M&&M.done(),L}return s?{addRegion:function(T){for(var h,i=T[T.length-1],p=0;p<T.length;p++){h=i,i=T[p];var w=P.pointsCompare(h,i);w!==0&&f(d(w<0?h:i,w<0?i:h),!0)}},calculate:function(T){return v(T,!1)}}:{calculate:function(T,h,i,p){return T.forEach(function(w){f(g(w.start,w.end,w),!0)}),i.forEach(function(w){f(g(w.start,w.end,w),!1)}),v(h,p)}}}W.exports=D},48088:function(W){var G={create:function(){var t={root:{root:!0,next:null},exists:function(y){return!(y===null||y===t.root)},isEmpty:function(){return t.root.next===null},getHead:function(){return t.root.next},insertBefore:function(y,D){for(var s=t.root,P=t.root.next;P!==null;){if(D(P)){y.prev=P.prev,y.next=P,P.prev.next=y,P.prev=y;return}s=P,P=P.next}s.next=y,y.prev=s,y.next=null},findTransition:function(y){for(var D=t.root,s=t.root.next;s!==null&&!y(s);)D=s,s=s.next;return{before:D===t.root?null:D,after:s,insert:function(P){return P.prev=D,P.next=s,D.next=P,s!==null&&(s.prev=P),P}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}};W.exports=G},11403:function(W){function G(t,y,D){var s=[],P=[];return t.forEach(function(M){var d=M.start,g=M.end;if(y.pointsSame(d,g)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}D&&D.chainStart(M);var r={index:0,matches_head:!1,matches_pt1:!1},e={index:0,matches_head:!1,matches_pt1:!1},o=r;function n(C,b,z){return o.index=C,o.matches_head=b,o.matches_pt1=z,o===r?(o=e,!1):(o=null,!0)}for(var u=0;u<s.length;u++){var f=s[u],c=f[0];f[1];var m=f[f.length-1];if(f[f.length-2],y.pointsSame(c,d)){if(n(u,!0,!0))break}else if(y.pointsSame(c,g)){if(n(u,!0,!1))break}else if(y.pointsSame(m,d)){if(n(u,!1,!0))break}else if(y.pointsSame(m,g)&&n(u,!1,!1))break}if(o===r){s.push([d,g]),D&&D.chainNew(d,g);return}if(o===e){D&&D.chainMatch(r.index);var v=r.index,T=r.matches_pt1?g:d,h=r.matches_head,f=s[v],i=h?f[0]:f[f.length-1],p=h?f[1]:f[f.length-2],w=h?f[f.length-1]:f[0],A=h?f[f.length-2]:f[1];if(y.pointsCollinear(p,i,T)&&(h?(D&&D.chainRemoveHead(r.index,T),f.shift()):(D&&D.chainRemoveTail(r.index,T),f.pop()),i=p),y.pointsSame(w,T)){s.splice(v,1),y.pointsCollinear(A,w,i)&&(h?(D&&D.chainRemoveTail(r.index,i),f.pop()):(D&&D.chainRemoveHead(r.index,i),f.shift())),D&&D.chainClose(r.index),P.push(f);return}h?(D&&D.chainAddHead(r.index,T),f.unshift(T)):(D&&D.chainAddTail(r.index,T),f.push(T));return}function L(C){D&&D.chainReverse(C),s[C].reverse()}function x(C,b){var z=s[C],k=s[b],U=z[z.length-1],F=z[z.length-2],V=k[0],N=k[1];y.pointsCollinear(F,U,V)&&(D&&D.chainRemoveTail(C,U),z.pop(),U=F),y.pointsCollinear(U,V,N)&&(D&&D.chainRemoveHead(b,V),k.shift()),D&&D.chainJoin(C,b),s[C]=z.concat(k),s.splice(b,1)}var E=r.index,S=e.index;D&&D.chainConnect(E,S);var a=s[E].length<s[S].length;r.matches_head?e.matches_head?a?(L(E),x(E,S)):(L(S),x(S,E)):x(S,E):e.matches_head?x(E,S):a?(L(E),x(S,E)):(L(S),x(E,S))}),P}W.exports=G},82368:function(W){function G(y,D,s){var P=[];return y.forEach(function(M){var d=(M.myFill.above?8:0)+(M.myFill.below?4:0)+(M.otherFill&&M.otherFill.above?2:0)+(M.otherFill&&M.otherFill.below?1:0);D[d]!==0&&P.push({id:s?s.segmentId():-1,start:M.start,end:M.end,myFill:{above:D[d]===1,below:D[d]===2},otherFill:null})}),s&&s.selected(P),P}var t={union:function(y,D){return G(y,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],D)},intersect:function(y,D){return G(y,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],D)},difference:function(y,D){return G(y,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],D)},differenceRev:function(y,D){return G(y,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],D)},xor:function(y,D){return G(y,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],D)}};W.exports=t},9696:function(W,G,t){var y=t(29936).Transform,D=t(55619);function s(){y.call(this,{readableObjectMode:!0})}s.prototype=Object.create(y.prototype),s.prototype.constructor=s,D(s.prototype),G.gS=function(M,d,g){for(var r=d,e=0;e<g.length;)if(M[r++]!==g[e++])return!1;return!0},G.wR=function(M,d){var g=[],r=0;if(d&&d==="hex")for(;r<M.length;)g.push(parseInt(M.slice(r,r+2),16)),r+=2;else for(;r<M.length;r++)g.push(M.charCodeAt(r)&255);return g},G.Bz=function(M,d){return M[d]|M[d+1]<<8},G.eW=function(M,d){return M[d+1]|M[d]<<8},G.st=function(M,d){return M[d]|M[d+1]<<8|M[d+2]<<16|M[d+3]*16777216},G.eI=function(M,d){return M[d+3]|M[d+2]<<8|M[d+1]<<16|M[d]*16777216};function P(M,d,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=M,d&&(this.code=d),g&&(this.statusCode=g)}P.prototype=Object.create(Error.prototype),P.prototype.constructor=P},11688:function(W){function G(D,s){var P=new Error(D);return P.code=s,P}function t(D){try{return decodeURIComponent(escape(D))}catch{return D}}function y(D,s,P){this.input=D.subarray(s,P),this.start=s;var M=String.fromCharCode.apply(null,this.input.subarray(0,4));if(M!=="II*\0"&&M!=="MM\0*")throw G("invalid TIFF signature","EBADDATA");this.big_endian=M[0]==="M"}y.prototype.each=function(D){this.aborted=!1;var s=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:s}];this.ifds_to_read.length>0&&!this.aborted;){var P=this.ifds_to_read.shift();P.offset&&this.scan_ifd(P.id,P.offset,D)}},y.prototype.read_uint16=function(D){var s=this.input;if(D+2>s.length)throw G("unexpected EOF","EBADDATA");return this.big_endian?s[D]*256+s[D+1]:s[D]+s[D+1]*256},y.prototype.read_uint32=function(D){var s=this.input;if(D+4>s.length)throw G("unexpected EOF","EBADDATA");return this.big_endian?s[D]*16777216+s[D+1]*65536+s[D+2]*256+s[D+3]:s[D]+s[D+1]*256+s[D+2]*65536+s[D+3]*16777216},y.prototype.is_subifd_link=function(D,s){return D===0&&s===34665||D===0&&s===34853||D===34665&&s===40965},y.prototype.exif_format_length=function(D){switch(D){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},y.prototype.exif_format_read=function(D,s){var P;switch(D){case 1:case 2:return P=this.input[s],P;case 6:return P=this.input[s],P|(P&128)*33554430;case 3:return P=this.read_uint16(s),P;case 8:return P=this.read_uint16(s),P|(P&32768)*131070;case 4:return P=this.read_uint32(s),P;case 9:return P=this.read_uint32(s),P|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},y.prototype.scan_ifd=function(D,s,P){var M=this.read_uint16(s);s+=2;for(var d=0;d<M;d++){var g=this.read_uint16(s),r=this.read_uint16(s+2),e=this.read_uint32(s+4),o=this.exif_format_length(r),n=e*o,u=n<=4?s+8:this.read_uint32(s+8),f=!1;if(u+n>this.input.length)throw G("unexpected EOF","EBADDATA");for(var c=[],m=u,v=0;v<e;v++,m+=o){var T=this.exif_format_read(r,m);if(T===null){c=null;break}c.push(T)}Array.isArray(c)&&r===2&&(c=t(String.fromCharCode.apply(null,c)),c&&c[c.length-1]==="\0"&&(c=c.slice(0,-1))),this.is_subifd_link(D,g)&&Array.isArray(c)&&Number.isInteger(c[0])&&c[0]>0&&(this.ifds_to_read.push({id:g,offset:c[0]}),f=!0);var h={is_big_endian:this.big_endian,ifd:D,tag:g,format:r,count:e,entry_offset:s+this.start,data_length:n,data_offset:u+this.start,value:c,is_subifd_link:f};if(P(h)===!1){this.aborted=!0;return}s+=12}D===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(s)})},W.exports.ExifParser=y,W.exports.get_orientation=function(D){var s=0;try{return new y(D,0,D.length).each(function(P){if(P.ifd===0&&P.tag===274&&Array.isArray(P.value))return s=P.value[0],!1}),s}catch{return-1}}},44600:function(W,G,t){var y=t(9696).eW,D=t(9696).eI;function s(n,u){if(n.length<4+u)return null;var f=D(n,u);return n.length<f+u||f<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(u+4,u+8)),data:n.slice(u+8,u+f),end:u+f}}W.exports.unbox=s;function P(n,u){for(var f=0;;){var c=s(n,f);if(!c)break;switch(c.boxtype){case"ispe":u.sizes.push({width:D(c.data,4),height:D(c.data,8)});break;case"irot":u.transforms.push({type:"irot",value:c.data[0]&3});break;case"imir":u.transforms.push({type:"imir",value:c.data[0]&1});break}f=c.end}}function M(n,u,f){for(var c=0,m=0;m<f;m++)c=c*256+(n[u+m]||0);return c}function d(n,u){for(var f=n[4]>>4&15,c=n[4]&15,m=n[5]>>4&15,v=y(n,6),T=8,h=0;h<v;h++){var i=y(n,T);T+=2;var p=y(n,T);T+=2;var w=M(n,T,m);T+=m;var A=y(n,T);if(T+=2,p===0&&A===1){var L=M(n,T,f),x=M(n,T+f,c);u.item_loc[i]={length:x,offset:L+w}}T+=A*(f+c)}}function g(n,u){for(var f=y(n,4),c=6,m=0;m<f;m++){var v=s(n,c);if(!v)break;if(v.boxtype==="infe"){for(var T=y(v.data,4),h="",i=8;i<v.data.length&&v.data[i];i++)h+=String.fromCharCode(v.data[i]);u.item_inf[h]=T}c=v.end}}function r(n,u){for(var f=0;;){var c=s(n,f);if(!c)break;c.boxtype==="ipco"&&P(c.data,u),f=c.end}}function e(n,u){for(var f=4;;){var c=s(n,f);if(!c)break;c.boxtype==="iprp"&&r(c.data,u),c.boxtype==="iloc"&&d(c.data,u),c.boxtype==="iinf"&&g(c.data,u),f=c.end}}function o(n){var u=n.reduce(function(m,v){return m.width>v.width||m.width===v.width&&m.height>v.height?m:v}),f=n.reduce(function(m,v){return m.height>v.height||m.height===v.height&&m.width>v.width?m:v}),c;return u.width>f.height||u.width===f.height&&u.height>f.width?c=u:c=f,c}W.exports.readSizeFromMeta=function(n){var u={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(e(n,u),!!u.sizes.length){var f=o(u.sizes),c=1;u.transforms.forEach(function(v){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(v.type==="imir"&&(v.value===0?c=h[c]:(c=h[c],c=T[c],c=T[c])),v.type==="irot")for(var i=0;i<v.value;i++)c=T[c]});var m=null;return u.item_inf.Exif&&(m=u.item_loc[u.item_inf.Exif]),{width:f.width,height:f.height,orientation:u.transforms.length?c:null,variants:u.sizes,exif_location:m}}},W.exports.getMimeType=function(n){var u=String.fromCharCode.apply(null,n.slice(0,4)),f={};f[u]=!0;for(var c=8;c<n.length;c+=4)f[String.fromCharCode.apply(null,n.slice(c,c+4))]=!0;if(!(!f.mif1&&!f.msf1&&!f.miaf))return u==="avif"||u==="avis"||u==="avio"?{type:"avif",mime:"image/avif"}:u==="heic"||u==="heix"?{type:"heic",mime:"image/heic"}:u==="hevc"||u==="hevx"?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(W,G,t){var y=t(9696).wR,D=t(9696).gS,s=t(9696).eI,P=t(44600),M=t(11688),d=y("ftyp");W.exports=function(g){if(D(g,4,d)){var r=P.unbox(g,0);if(r){var e=P.getMimeType(r.data);if(e){for(var o,n=r.end;;){var u=P.unbox(g,n);if(!u)break;if(n=u.end,u.boxtype==="mdat")return;if(u.boxtype==="meta"){o=u.data;break}}if(o){var f=P.readSizeFromMeta(o);if(f){var c={width:f.width,height:f.height,type:e.type,mime:e.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(c.variants=f.variants),f.orientation&&(c.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=g.length){var m=s(g,f.exif_location.offset),v=g.slice(f.exif_location.offset+m+4,f.exif_location.offset+f.exif_location.length),T=M.get_orientation(v);T>0&&(c.orientation=T)}return c}}}}}}},38728:function(W,G,t){var y=t(9696).wR,D=t(9696).gS,s=t(9696).Bz,P=y("BM");W.exports=function(M){if(!(M.length<26)&&D(M,0,P))return{width:s(M,18),height:s(M,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(W,G,t){var y=t(9696).wR,D=t(9696).gS,s=t(9696).Bz,P=y("GIF87a"),M=y("GIF89a");W.exports=function(d){if(!(d.length<10)&&!(!D(d,0,P)&&!D(d,0,M)))return{width:s(d,6),height:s(d,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(W,G,t){var y=t(9696).Bz,D=0,s=1,P=16;W.exports=function(M){var d=y(M,0),g=y(M,2),r=y(M,4);if(!(d!==D||g!==s||!r)){for(var e=[],o={width:0,height:0},n=0;n<r;n++){var u=M[6+P*n]||256,f=M[6+P*n+1]||256,c={width:u,height:f};e.push(c),(u>o.width||f>o.height)&&(o=c)}return{width:o.width,height:o.height,variants:e,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(W,G,t){var y=t(9696).eW,D=t(9696).wR,s=t(9696).gS,P=t(11688),M=D("Exif\0\0");W.exports=function(d){if(!(d.length<2)&&!(d[0]!==255||d[1]!==216||d[2]!==255))for(var g=2;;){for(;;){if(d.length-g<2)return;if(d[g++]===255)break}for(var r=d[g++],e;r===255;)r=d[g++];if(208<=r&&r<=217||r===1)e=0;else if(192<=r&&r<=254){if(d.length-g<2)return;e=y(d,g)-2,g+=2}else return;if(r===217||r===218)return;var o;if(r===225&&e>=10&&s(d,g,M)&&(o=P.get_orientation(d.slice(g+6,g+e))),e>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(d.length-g<e)return;var n={width:y(d,g+3),height:y(d,g+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return o>0&&(n.orientation=o),n}g+=e}}},37276:function(W,G,t){var y=t(9696).wR,D=t(9696).gS,s=t(9696).eI,P=y(`PNG\r

`),M=y("IHDR");W.exports=function(d){if(!(d.length<24)&&D(d,0,P)&&D(d,12,M))return{width:s(d,16),height:s(d,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(W,G,t){var y=t(9696).wR,D=t(9696).gS,s=t(9696).eI,P=y("8BPS\0");W.exports=function(M){if(!(M.length<22)&&D(M,0,P))return{width:s(M,18),height:s(M,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(W){function G(o){return o===32||o===9||o===13||o===10}function t(o){return typeof o=="number"&&isFinite(o)&&o>0}function y(o){var n=0,u=o.length;for(o[0]===239&&o[1]===187&&o[2]===191&&(n=3);n<u&&G(o[n]);)n++;return n===u?!1:o[n]===60}var D=/<[-_.:a-zA-Z0-9][^>]*>/,s=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,P=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,M=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,d=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,g=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(o){var n=o.match(P),u=o.match(M),f=o.match(d);return{width:n&&(n[1]||n[2]),height:u&&(u[1]||u[2]),viewbox:f&&(f[1]||f[2])}}function e(o){return g.test(o)?o.match(g)[0]:"px"}W.exports=function(o){if(y(o)){for(var n="",u=0;u<o.length;u++)n+=String.fromCharCode(o[u]);var f=(n.match(D)||[""])[0];if(s.test(f)){var c=r(f),m=parseFloat(c.width),v=parseFloat(c.height);if(c.width&&c.height)return!t(m)||!t(v)?void 0:{width:m,height:v,type:"svg",mime:"image/svg+xml",wUnits:e(c.width),hUnits:e(c.height)};var T=(c.viewbox||"").split(" "),h={width:T[2],height:T[3]},i=parseFloat(h.width),p=parseFloat(h.height);if(!(!t(i)||!t(p))&&e(h.width)===e(h.height)){var w=i/p;return c.width?t(m)?{width:m,height:m/w,type:"svg",mime:"image/svg+xml",wUnits:e(c.width),hUnits:e(c.width)}:void 0:c.height?t(v)?{width:v*w,height:v,type:"svg",mime:"image/svg+xml",wUnits:e(c.height),hUnits:e(c.height)}:void 0:{width:i,height:p,type:"svg",mime:"image/svg+xml",wUnits:e(h.width),hUnits:e(h.height)}}}}}},98792:function(W,G,t){var y=t(9696).wR,D=t(9696).gS,s=t(9696).Bz,P=t(9696).eW,M=t(9696).st,d=t(9696).eI,g=y("II*\0"),r=y("MM\0*");function e(u,f,c){return c?P(u,f):s(u,f)}function o(u,f,c){return c?d(u,f):M(u,f)}function n(u,f,c){var m=e(u,f+2,c),v=o(u,f+4,c);return v!==1||m!==3&&m!==4?null:m===3?e(u,f+8,c):o(u,f+8,c)}W.exports=function(u){if(!(u.length<8)&&!(!D(u,0,g)&&!D(u,0,r))){var f=u[0]===77,c=o(u,4,f)-8;if(!(c<0)){var m=c+8;if(!(u.length-m<2)){var v=e(u,m+0,f)*12;if(!(v<=0)&&(m+=2,!(u.length-m<v))){var T,h,i,p;for(T=0;T<v;T+=12)p=e(u,m+T,f),p===256?h=n(u,m+T,f):p===257&&(i=n(u,m+T,f));if(h&&i)return{width:h,height:i,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(W,G,t){var y=t(9696).wR,D=t(9696).gS,s=t(9696).Bz,P=t(9696).st,M=t(11688),d=y("RIFF"),g=y("WEBP");function r(n,u){if(!(n[u+3]!==157||n[u+4]!==1||n[u+5]!==42))return{width:s(n,u+6)&16383,height:s(n,u+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function e(n,u){if(n[u]===47){var f=P(n,u+1);return{width:(f&16383)+1,height:(f>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function o(n,u){return{width:(n[u+6]<<16|n[u+5]<<8|n[u+4])+1,height:(n[u+9]<<u|n[u+8]<<8|n[u+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}W.exports=function(n){if(!(n.length<16)&&!(!D(n,0,d)&&!D(n,8,g))){var u=12,f=null,c=0,m=P(n,4)+8;if(!(m>n.length)){for(;u+8<m;){if(n[u]===0){u++;continue}var v=String.fromCharCode.apply(null,n.slice(u,u+4)),T=P(n,u+4);v==="VP8 "&&T>=10?f=f||r(n,u+8):v==="VP8L"&&T>=9?f=f||e(n,u+8):v==="VP8X"&&T>=10?f=f||o(n,u+8):v==="EXIF"&&(c=M.get_orientation(n.slice(u+8,u+8+T)),u=1/0),u+=8+T}if(f)return c>0&&(f.orientation=c),f}}}},87480:function(W,G,t){W.exports={avif:t(40528),bmp:t(38728),gif:t(5588),ico:t(41924),jpeg:t(87968),png:t(37276),psd:t(90328),svg:t(16024),tiff:t(98792),webp:t(20704)}},19480:function(W,G,t){var y=t(87480);function D(s){for(var P=Object.keys(y),M=0;M<P.length;M++){var d=y[P[M]](s);if(d)return d}return null}W.exports=function(P){return D(P)},W.exports.parsers=y},4168:function(W){var G=W.exports={},t,y;function D(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=D}catch{t=D}try{typeof clearTimeout=="function"?y=clearTimeout:y=s}catch{y=s}})();function P(c){if(t===setTimeout)return setTimeout(c,0);if((t===D||!t)&&setTimeout)return t=setTimeout,setTimeout(c,0);try{return t(c,0)}catch{try{return t.call(null,c,0)}catch{return t.call(this,c,0)}}}function M(c){if(y===clearTimeout)return clearTimeout(c);if((y===s||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(c);try{return y(c)}catch{try{return y.call(null,c)}catch{return y.call(this,c)}}}var d=[],g=!1,r,e=-1;function o(){!g||!r||(g=!1,r.length?d=r.concat(d):e=-1,d.length&&n())}function n(){if(!g){var c=P(o);g=!0;for(var m=d.length;m;){for(r=d,d=[];++e<m;)r&&r[e].run();e=-1,m=d.length}r=null,g=!1,M(c)}}G.nextTick=function(c){var m=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)m[v-1]=arguments[v];d.push(new u(c,m)),d.length===1&&!g&&P(n)};function u(c,m){this.fun=c,this.array=m}u.prototype.run=function(){this.fun.apply(null,this.array)},G.title="browser",G.browser=!0,G.env={},G.argv=[],G.version="",G.versions={};function f(){}G.on=f,G.addListener=f,G.once=f,G.off=f,G.removeListener=f,G.removeAllListeners=f,G.emit=f,G.prependListener=f,G.prependOnceListener=f,G.listeners=function(c){return[]},G.binding=function(c){throw new Error("process.binding is not supported")},G.cwd=function(){return"/"},G.chdir=function(c){throw new Error("process.chdir is not supported")},G.umask=function(){return 0}},3951:function(W,G,t){for(var y=t(41984),D=typeof window>"u"?t.g:window,s=["moz","webkit"],P="AnimationFrame",M=D["request"+P],d=D["cancel"+P]||D["cancelRequest"+P],g=0;!M&&g<s.length;g++)M=D[s[g]+"Request"+P],d=D[s[g]+"Cancel"+P]||D[s[g]+"CancelRequest"+P];if(!M||!d){var r=0,e=0,o=[],n=1e3/60;M=function(u){if(o.length===0){var f=y(),c=Math.max(0,n-(f-r));r=c+f,setTimeout(function(){var m=o.slice(0);o.length=0;for(var v=0;v<m.length;v++)if(!m[v].cancelled)try{m[v].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(c))}return o.push({handle:++e,callback:u,cancelled:!1}),e},d=function(u){for(var f=0;f<o.length;f++)o[f].handle===u&&(o[f].cancelled=!0)}}W.exports=function(u){return M.call(D,u)},W.exports.cancel=function(){d.apply(D,arguments)},W.exports.polyfill=function(u){u||(u=D),u.requestAnimationFrame=M,u.cancelAnimationFrame=d}},24544:function(W,G,t){var y=t(76752),D=t(72160),s=t(45223),P=t(55616),M=t(50896),d=t(47520),g=t(37816),r=g.float32,e=g.fract32;W.exports=n;var o=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(u,f){if(typeof u=="function"?(f||(f={}),f.regl=u):f=u,f.length&&(f.positions=f),u=f.regl,!u.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var c=u._gl,m,v,T,h,i,p,w={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},A=[];return h=u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),v=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),i=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=u.buffer({usage:"static",type:"float",data:o}),S(f),m=u({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:u.prop("range"),lineWidth:u.prop("lineWidth"),capSize:u.prop("capSize"),opacity:u.prop("opacity"),scale:u.prop("scale"),translate:u.prop("translate"),scaleFract:u.prop("scaleFract"),translateFract:u.prop("translateFract"),viewport:function(C,b){return[b.viewport.x,b.viewport.y,C.viewportWidth,C.viewportHeight]}},attributes:{color:{buffer:h,offset:function(C,b){return b.offset*4},divisor:1},position:{buffer:v,offset:function(C,b){return b.offset*8},divisor:1},positionFract:{buffer:T,offset:function(C,b){return b.offset*8},divisor:1},error:{buffer:i,offset:function(C,b){return b.offset*16},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:u.prop("viewport")},viewport:u.prop("viewport"),stencil:!1,instances:u.prop("count"),count:o.length}),M(L,{update:S,draw:x,destroy:a,regl:u,gl:c,canvas:c.canvas,groups:A}),L;function L(C){C?S(C):C===null&&a(),x()}function x(C){if(typeof C=="number")return E(C);C&&!Array.isArray(C)&&(C=[C]),u._refresh(),A.forEach(function(b,z){if(b){if(C&&(C[z]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}E(z)}})}function E(C){typeof C=="number"&&(C=A[C]),C!=null&&C&&C.count&&C.color&&C.opacity&&C.positions&&C.positions.length>1&&(C.scaleRatio=[C.scale[0]*C.viewport.width,C.scale[1]*C.viewport.height],m(C),C.after&&C.after(C))}function S(C){if(C){C.length!=null?typeof C[0]=="number"&&(C=[{positions:C}]):Array.isArray(C)||(C=[C]);var b=0,z=0;if(L.groups=A=C.map(function(H,X){var J=A[X];if(H)typeof H=="function"?H={after:H}:typeof H[0]=="number"&&(H={positions:H});else return J;return H=P(H,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),J||(A[X]=J={id:X,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},H=M({},w,H)),s(J,H,[{lineWidth:function(et){return+et*.5},capSize:function(et){return+et*.5},opacity:parseFloat,errors:function(et){return et=d(et),z+=et.length,et},positions:function(et,it){return et=d(et,"float64"),it.count=Math.floor(et.length/2),it.bounds=y(et,2),it.offset=b,b+=it.count,et}},{color:function(et,it){var ft=it.count;if(et||(et="transparent"),!Array.isArray(et)||typeof et[0]=="number"){var ot=et;et=Array(ft);for(var Q=0;Q<ft;Q++)et[Q]=ot}if(et.length<ft)throw Error("Not enough colors");for(var tt=new Uint8Array(ft*4),Z=0;Z<ft;Z++){var q=D(et[Z],"uint8");tt.set(q,Z*4)}return tt},range:function(et,it,ft){var ot=it.bounds;return et||(et=ot),it.scale=[1/(et[2]-et[0]),1/(et[3]-et[1])],it.translate=[-et[0],-et[1]],it.scaleFract=e(it.scale),it.translateFract=e(it.translate),et},viewport:function(et){var it;return Array.isArray(et)?it={x:et[0],y:et[1],width:et[2]-et[0],height:et[3]-et[1]}:et?(it={x:et.x||et.left||0,y:et.y||et.top||0},et.right?it.width=et.right-it.x:it.width=et.w||et.width||0,et.bottom?it.height=et.bottom-it.y:it.height=et.h||et.height||0):it={x:0,y:0,width:c.drawingBufferWidth,height:c.drawingBufferHeight},it}}]),J}),b||z){var k=A.reduce(function(H,X,J){return H+(X?X.count:0)},0),U=new Float64Array(k*2),F=new Uint8Array(k*4),V=new Float32Array(k*4);A.forEach(function(H,X){if(H){var J=H.positions,et=H.count,it=H.offset,ft=H.color,ot=H.errors;et&&(F.set(ft,it*4),V.set(ot,it*4),U.set(J,it*2))}});var N=r(U);v(N);var O=e(U,N);T(O),h(F),i(V)}}}function a(){v.destroy(),T.destroy(),h.destroy(),i.destroy(),p.destroy()}}},13472:function(W,G,t){var y=t(72160),D=t(76752),s=t(50896),P=t(55616),M=t(47520),d=t(28912),g=t(71152),r=t(37816),e=r.float32,o=r.fract32,n=t(60463),u=t(51160),f=t(10272),c=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,m=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,v=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,T=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,h=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,i=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;W.exports=p;function p(w,A){if(!(this instanceof p))return new p(w,A);if(typeof w=="function"?(A||(A={}),A.regl=w):A=w,A.length&&(A.positions=A),w=A.regl,!w.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=w._gl,this.regl=w,this.passes=[],this.shaders=p.shaders.has(w)?p.shaders.get(w):p.shaders.set(w,p.createShaders(w)).get(w),this.update(A)}p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new n,p.createShaders=function(w){var A=w.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),L={primitive:"triangle strip",instances:w.prop("count"),count:4,offset:0,uniforms:{miterMode:function(a,C){return C.join==="round"?2:1},miterLimit:w.prop("miterLimit"),scale:w.prop("scale"),scaleFract:w.prop("scaleFract"),translateFract:w.prop("translateFract"),translate:w.prop("translate"),thickness:w.prop("thickness"),dashTexture:w.prop("dashTexture"),opacity:w.prop("opacity"),pixelRatio:w.context("pixelRatio"),id:w.prop("id"),dashLength:w.prop("dashLength"),viewport:function(a,C){return[C.viewport.x,C.viewport.y,a.viewportWidth,a.viewportHeight]},depth:w.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(a,C){return!C.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:w.prop("viewport")},viewport:w.prop("viewport")},x=w(s({vert:c,frag:m,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:w.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},L)),E;try{E=w(s({cull:{enable:!0,face:"back"},vert:h,frag:i,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aColor:{buffer:w.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:w.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},L))}catch{E=x}var S=w({primitive:"triangle",elements:function(a,C){return C.triangles},offset:0,vert:v,frag:T,uniforms:{scale:w.prop("scale"),color:w.prop("fill"),scaleFract:w.prop("scaleFract"),translateFract:w.prop("translateFract"),translate:w.prop("translate"),opacity:w.prop("opacity"),pixelRatio:w.context("pixelRatio"),id:w.prop("id"),viewport:function(a,C){return[C.viewport.x,C.viewport.y,a.viewportWidth,a.viewportHeight]}},attributes:{position:{buffer:w.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:8}},blend:L.blend,depth:{enable:!1},scissor:L.scissor,stencil:L.stencil,viewport:L.viewport});return{fill:S,rect:x,miter:E}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var w,A=[],L=arguments.length;L--;)A[L]=arguments[L];A.length&&(w=this).update.apply(w,A),this.draw()},p.prototype.draw=function(){for(var w=this,A=[],L=arguments.length;L--;)A[L]=arguments[L];return(A.length?A:this.passes).forEach(function(x,E){var S;if(x&&Array.isArray(x))return(S=w).draw.apply(S,x);typeof x=="number"&&(x=w.passes[x]),x&&x.count>1&&x.opacity&&(w.regl._refresh(),x.fill&&x.triangles&&x.triangles.length>2&&w.shaders.fill(x),x.thickness&&(x.scale[0]*x.viewport.width>p.precisionThreshold||x.scale[1]*x.viewport.height>p.precisionThreshold||x.join==="rect"||!x.join&&(x.thickness<=2||x.count>=p.maxPoints)?w.shaders.rect(x):w.shaders.miter(x)))}),this},p.prototype.update=function(w){var A=this;if(w){w.length!=null?typeof w[0]=="number"&&(w=[{positions:w}]):Array.isArray(w)||(w=[w]);var L=this,x=L.regl,E=L.gl;if(w.forEach(function(z,k){var U=A.passes[k];if(z!==void 0){if(z===null){A.passes[k]=null;return}if(typeof z[0]=="number"&&(z={positions:z}),z=P(z,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),U||(A.passes[k]=U={id:k,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:x.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:x.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},z=s({},p.defaults,z)),z.thickness!=null&&(U.thickness=parseFloat(z.thickness)),z.opacity!=null&&(U.opacity=parseFloat(z.opacity)),z.miterLimit!=null&&(U.miterLimit=parseFloat(z.miterLimit)),z.overlay!=null&&(U.overlay=!!z.overlay,k<p.maxLines&&(U.depth=2*(p.maxLines-1-k%p.maxLines)/p.maxLines-1)),z.join!=null&&(U.join=z.join),z.hole!=null&&(U.hole=z.hole),z.fill!=null&&(U.fill=z.fill?y(z.fill,"uint8"):null),z.viewport!=null&&(U.viewport=u(z.viewport)),U.viewport||(U.viewport=u([E.drawingBufferWidth,E.drawingBufferHeight])),z.close!=null&&(U.close=z.close),z.positions===null&&(z.positions=[]),z.positions){var F,V;if(z.positions.x&&z.positions.y){var N=z.positions.x,O=z.positions.y;V=U.count=Math.max(N.length,O.length),F=new Float64Array(V*2);for(var H=0;H<V;H++)F[H*2]=N[H],F[H*2+1]=O[H]}else F=M(z.positions,"float64"),V=U.count=Math.floor(F.length/2);var X=U.bounds=D(F,2);if(U.fill){for(var J=[],et={},it=0,ft=0,ot=0,Q=U.count;ft<Q;ft++){var tt=F[ft*2],Z=F[ft*2+1];isNaN(tt)||isNaN(Z)||tt==null||Z==null?(tt=F[it*2],Z=F[it*2+1],et[ft]=it):it=ft,J[ot++]=tt,J[ot++]=Z}if(z.splitNull){U.count-1 in et||(et[U.count]=U.count-1);var q=Object.keys(et).map(Number).sort(function(dt,xt){return dt-xt}),ut=[],$=0,j=U.hole!=null?U.hole[0]:null;if(j!=null){var lt=f(q,function(dt){return dt>=j});q=q.slice(0,lt),q.push(j)}for(var nt=function(dt){var xt=J.slice($*2,q[dt]*2).concat(j?J.slice(j*2):[]),Ot=(U.hole||[]).map(function(ie){return ie-j+(q[dt]-$)}),jt=d(xt,Ot);jt=jt.map(function(ie){return ie+$+(ie+$<q[dt]?0:j-q[dt])}),ut.push.apply(ut,jt),$=q[dt]+1},ht=0;ht<q.length;ht++)nt(ht);for(var mt=0,At=ut.length;mt<At;mt++)et[ut[mt]]!=null&&(ut[mt]=et[ut[mt]]);U.triangles=ut}else{for(var bt=d(J,U.hole||[]),Pt=0,_t=bt.length;Pt<_t;Pt++)et[bt[Pt]]!=null&&(bt[Pt]=et[bt[Pt]]);U.triangles=bt}}var Ut=new Float64Array(F);g(Ut,2,X);var St=new Float64Array(V*2+6);U.close?F[0]===F[V*2-2]&&F[1]===F[V*2-1]?(St[0]=Ut[V*2-4],St[1]=Ut[V*2-3]):(St[0]=Ut[V*2-2],St[1]=Ut[V*2-1]):(St[0]=Ut[0],St[1]=Ut[1]),St.set(Ut,2),U.close?F[0]===F[V*2-2]&&F[1]===F[V*2-1]?(St[V*2+2]=Ut[2],St[V*2+3]=Ut[3],U.count-=1):(St[V*2+2]=Ut[0],St[V*2+3]=Ut[1],St[V*2+4]=Ut[2],St[V*2+5]=Ut[3]):(St[V*2+2]=Ut[V*2-2],St[V*2+3]=Ut[V*2-1],St[V*2+4]=Ut[V*2-2],St[V*2+5]=Ut[V*2-1]);var Rt=e(St);U.positionBuffer(Rt);var Et=o(St,Rt);U.positionFractBuffer(Et)}if(z.range?U.range=z.range:U.range||(U.range=U.bounds),(z.range||z.positions)&&U.count){var zt=U.bounds,Ct=zt[2]-zt[0],Wt=zt[3]-zt[1],Kt=U.range[2]-U.range[0],oe=U.range[3]-U.range[1];U.scale=[Ct/Kt,Wt/oe],U.translate=[-U.range[0]/Kt+zt[0]/Kt||0,-U.range[1]/oe+zt[1]/oe||0],U.scaleFract=o(U.scale),U.translateFract=o(U.translate)}if(z.dashes){var Jt=0,te;if(!z.dashes||z.dashes.length<2)Jt=1,te=new Uint8Array([255,255,255,255,255,255,255,255]);else{Jt=0;for(var fe=0;fe<z.dashes.length;++fe)Jt+=z.dashes[fe];te=new Uint8Array(Jt*p.dashMult);for(var ve=0,de=255,xe=0;xe<2;xe++)for(var Me=0;Me<z.dashes.length;++Me){for(var ne=0,kt=z.dashes[Me]*p.dashMult*.5;ne<kt;++ne)te[ve++]=de;de^=255}}U.dashLength=Jt,U.dashTexture({channels:1,data:te,width:te.length,height:1,mag:"linear",min:"linear"},0,0)}if(z.color){var Gt=U.count,Yt=z.color;Yt||(Yt="transparent");var Zt=new Uint8Array(Gt*4+4);if(!Array.isArray(Yt)||typeof Yt[0]=="number")for(var It=y(Yt,"uint8"),Nt=0;Nt<Gt+1;Nt++)Zt.set(It,Nt*4);else{for(var Ht=0;Ht<Gt;Ht++){var Lt=y(Yt[Ht],"uint8");Zt.set(Lt,Ht*4)}Zt.set(y(Yt[0],"uint8"),Gt*4)}U.colorBuffer({usage:"dynamic",type:"uint8",data:Zt})}}}),w.length<this.passes.length){for(var S=w.length;S<this.passes.length;S++){var a=this.passes[S];a&&(a.colorBuffer.destroy(),a.positionBuffer.destroy(),a.dashTexture.destroy())}this.passes.length=w.length}for(var C=[],b=0;b<this.passes.length;b++)this.passes[b]!==null&&C.push(this.passes[b]);return this.passes=C,this}},p.prototype.destroy=function(){return this.passes.forEach(function(w){w.colorBuffer.destroy(),w.positionBuffer.destroy(),w.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(W,G,t){function y(a,C){var b=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(b!=null){var z,k,U,F,V=[],N=!0,O=!1;try{if(U=(b=b.call(a)).next,C!==0)for(;!(N=(z=U.call(b)).done)&&(V.push(z.value),V.length!==C);N=!0);}catch(H){O=!0,k=H}finally{try{if(!N&&b.return!=null&&(F=b.return(),Object(F)!==F))return}finally{if(O)throw k}}return V}}function D(a,C){return M(a)||y(a,C)||g(a,C)||o()}function s(a){return P(a)||d(a)||g(a)||e()}function P(a){if(Array.isArray(a))return r(a)}function M(a){if(Array.isArray(a))return a}function d(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function g(a,C){if(a){if(typeof a=="string")return r(a,C);var b=Object.prototype.toString.call(a).slice(8,-1);if(b==="Object"&&a.constructor&&(b=a.constructor.name),b==="Map"||b==="Set")return Array.from(a);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(a,C)}}function r(a,C){(C==null||C>a.length)&&(C=a.length);for(var b=0,z=new Array(C);b<C;b++)z[b]=a[b];return z}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=t(72160),u=t(76752),f=t(3808),c=t(3108),m=t(50896),v=t(26444),T=t(55616),h=t(45223),i=t(47520),p=t(96604),w=t(37816),A=t(51160),L=x;function x(a,C){var b=this;if(!(this instanceof x))return new x(a,C);typeof a=="function"?(C||(C={}),C.regl=a):(C=a,a=null),C&&C.length&&(C.positions=C),a=C.regl;var z=a._gl,k,U=[],F={},V=[],N=[null],O=[null],H=255,X=100;this.tooManyColors=p,k=a.texture({data:new Uint8Array(H*4),width:H,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:a,gl:z,groups:V,markerCache:O,markerTextures:N,palette:U,paletteIds:F,paletteTexture:k,maxColors:H,maxSize:X,canvas:z.canvas}),this.update(C);var J={uniforms:{constPointSize:!!C.constPointSize,opacity:a.prop("opacity"),paletteSize:function(ot,Q){return[b.tooManyColors?0:H,k.height]},pixelRatio:a.context("pixelRatio"),scale:a.prop("scale"),scaleFract:a.prop("scaleFract"),translate:a.prop("translate"),translateFract:a.prop("translateFract"),markerTexture:a.prop("markerTexture"),paletteTexture:k},attributes:{x:function(ot,Q){return Q.xAttr||{buffer:Q.positionBuffer,stride:8,offset:0}},y:function(ot,Q){return Q.yAttr||{buffer:Q.positionBuffer,stride:8,offset:4}},xFract:function(ot,Q){return Q.xAttr?{constant:[0,0]}:{buffer:Q.positionFractBuffer,stride:8,offset:0}},yFract:function(ot,Q){return Q.yAttr?{constant:[0,0]}:{buffer:Q.positionFractBuffer,stride:8,offset:4}},size:function(ot,Q){return Q.size.length?{buffer:Q.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Q.size*255/b.maxSize)]}},borderSize:function(ot,Q){return Q.borderSize.length?{buffer:Q.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Q.borderSize*255/b.maxSize)]}},colorId:function(ot,Q){return Q.color.length?{buffer:Q.colorBuffer,stride:b.tooManyColors?8:4,offset:0}:{constant:b.tooManyColors?U.slice(Q.color*4,Q.color*4+4):[Q.color]}},borderColorId:function(ot,Q){return Q.borderColor.length?{buffer:Q.colorBuffer,stride:b.tooManyColors?8:4,offset:b.tooManyColors?4:2}:{constant:b.tooManyColors?U.slice(Q.borderColor*4,Q.borderColor*4+4):[Q.borderColor]}},isActive:function(ot,Q){return Q.activation===!0?{constant:[1]}:Q.activation?Q.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:a.prop("viewport")},viewport:a.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:a.prop("elements"),count:a.prop("count"),offset:a.prop("offset"),primitive:"points"},et=m({},J);et.frag=v([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),et.vert=v([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=a(et);var it=m({},J);it.frag=v([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),it.vert=v([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),p&&(it.frag=it.frag.replace("smoothstep","smoothStep"),et.frag=et.frag.replace("smoothstep","smoothStep")),this.drawCircle=a(it)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var a=this,C=arguments.length,b=new Array(C),z=0;z<C;z++)b[z]=arguments[z];var k=this.groups;if(b.length===1&&Array.isArray(b[0])&&(b[0][0]===null||Array.isArray(b[0][0]))&&(b=b[0]),this.regl._refresh(),b.length)for(var U=0;U<b.length;U++)this.drawItem(U,b[U]);else k.forEach(function(F,V){a.drawItem(V)});return this},x.prototype.drawItem=function(a,C){var b=this.groups,z=b[a];if(typeof C=="number"&&(a=C,z=b[C],C=null),!!(z&&z.count&&z.opacity)){z.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,z,C));for(var k=[],U=1;U<z.activation.length;U++)!z.activation[U]||z.activation[U]!==!0&&!z.activation[U].data.length||k.push.apply(k,s(this.getMarkerDrawOptions(U,z,C)));k.length&&this.drawMarker(k)}},x.prototype.getMarkerDrawOptions=function(a,C,b){var z=C.range,k=C.tree,U=C.viewport,F=C.activation,V=C.selectionBuffer,N=C.count;if(this.regl,!k)return b?[m({},C,{markerTexture:this.markerTextures[a],activation:F[a],count:b.length,elements:b,offset:0})]:[m({},C,{markerTexture:this.markerTextures[a],activation:F[a],offset:0})];var O=[],H=k.range(z,{lod:!0,px:[(z[2]-z[0])/U.width,(z[3]-z[1])/U.height]});if(b){for(var X=F[a],J=X.data,et=new Uint8Array(N),it=0;it<b.length;it++){var ft=b[it];et[ft]=J?J[ft]:1}V.subdata(et)}for(var ot=H.length;ot--;){var Q=D(H[ot],2),tt=Q[0],Z=Q[1];O.push(m({},C,{markerTexture:this.markerTextures[a],activation:b?V:F[a],offset:tt,count:Z-tt}))}return O},x.prototype.update=function(){for(var a=this,C=arguments.length,b=new Array(C),z=0;z<C;z++)b[z]=arguments[z];if(b.length){b.length===1&&Array.isArray(b[0])&&(b=b[0]);var k=this.groups,U=this.gl,F=this.regl,V=this.maxSize,N=this.maxColors,O=this.palette;this.groups=k=b.map(function(H,X){var J=k[X];if(H===void 0)return J;H===null?H={positions:null}:typeof H=="function"?H={ondraw:H}:typeof H[0]=="number"&&(H={positions:H}),H=T(H,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),H.positions===null&&(H.positions=[]),H.tooManyColors!=null&&(a.tooManyColors=H.tooManyColors),J||(k[X]=J={id:X,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:F.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},H=m({},x.defaults,H)),H.positions&&!("marker"in H)&&(H.marker=J.marker,delete J.marker),H.marker&&!("positions"in H)&&(H.positions=J.positions,delete J.positions);var et=0,it=0;if(h(J,H,[{snap:!0,size:function(St,Rt){return St==null&&(St=x.defaults.size),et+=St&&St.length?1:0,St},borderSize:function(St,Rt){return St==null&&(St=x.defaults.borderSize),et+=St&&St.length?1:0,St},opacity:parseFloat,color:function(St,Rt){return St==null&&(St=x.defaults.color),St=a.updateColor(St),it++,St},borderColor:function(St,Rt){return St==null&&(St=x.defaults.borderColor),St=a.updateColor(St),it++,St},bounds:function(St,Rt,Et){return"range"in Et||(Et.range=null),St},positions:function(St,Rt,Et){var zt=Rt.snap,Ct=Rt.positionBuffer,Wt=Rt.positionFractBuffer,Kt=Rt.selectionBuffer;if(St.x||St.y)return St.x.length?Rt.xAttr={buffer:F.buffer(St.x),offset:0,stride:4,count:St.x.length}:Rt.xAttr={buffer:St.x.buffer,offset:St.x.offset*4||0,stride:(St.x.stride||1)*4,count:St.x.count},St.y.length?Rt.yAttr={buffer:F.buffer(St.y),offset:0,stride:4,count:St.y.length}:Rt.yAttr={buffer:St.y.buffer,offset:St.y.offset*4||0,stride:(St.y.stride||1)*4,count:St.y.count},Rt.count=Math.max(Rt.xAttr.count,Rt.yAttr.count),St;St=i(St,"float64");var oe=Rt.count=Math.floor(St.length/2),Jt=Rt.bounds=oe?u(St,2):null;if(!Et.range&&!Rt.range&&(delete Rt.range,Et.range=Jt),!Et.marker&&!Rt.marker&&(delete Rt.marker,Et.marker=null),zt&&(zt===!0||oe>zt)?Rt.tree=c(St,{bounds:Jt}):zt&&zt.length&&(Rt.tree=zt),Rt.tree){var te={primitive:"points",usage:"static",data:Rt.tree,type:"uint32"};Rt.elements?Rt.elements(te):Rt.elements=F.elements(te)}var fe=w.float32(St);Ct({data:fe,usage:"dynamic"});var ve=w.fract32(St,fe);return Wt({data:ve,usage:"dynamic"}),Kt({data:new Uint8Array(oe),type:"uint8",usage:"stream"}),St}},{marker:function(St,Rt,Et){var zt=Rt.activation;if(zt.forEach(function(ve){return ve&&ve.destroy&&ve.destroy()}),zt.length=0,!St||typeof St[0]=="number"){var Ct=a.addMarker(St);zt[Ct]=!0}else{for(var Wt=[],Kt=0,oe=Math.min(St.length,Rt.count);Kt<oe;Kt++){var Jt=a.addMarker(St[Kt]);Wt[Jt]||(Wt[Jt]=new Uint8Array(Rt.count)),Wt[Jt][Kt]=1}for(var te=0;te<Wt.length;te++)if(Wt[te]){var fe={data:Wt[te],type:"uint8",usage:"static"};zt[te]?zt[te](fe):zt[te]=F.buffer(fe),zt[te].data=Wt[te]}}return St},range:function(St,Rt,Et){var zt=Rt.bounds;if(zt)return St||(St=zt),Rt.scale=[1/(St[2]-St[0]),1/(St[3]-St[1])],Rt.translate=[-St[0],-St[1]],Rt.scaleFract=w.fract(Rt.scale),Rt.translateFract=w.fract(Rt.translate),St},viewport:function(St){var Rt=A(St||[U.drawingBufferWidth,U.drawingBufferHeight]);return Rt}}]),et){var ft=J,ot=ft.count,Q=ft.size,tt=ft.borderSize,Z=ft.sizeBuffer,q=new Uint8Array(ot*2);if(Q.length||tt.length)for(var ut=0;ut<ot;ut++)q[ut*2]=Math.round((Q[ut]==null?Q:Q[ut])*255/V),q[ut*2+1]=Math.round((tt[ut]==null?tt:tt[ut])*255/V);Z({data:q,usage:"dynamic"})}if(it){var $=J,j=$.count,lt=$.color,nt=$.borderColor,ht=$.colorBuffer,mt;if(a.tooManyColors){if(lt.length||nt.length){mt=new Uint8Array(j*8);for(var At=0;At<j;At++){var bt=lt[At];mt[At*8]=O[bt*4],mt[At*8+1]=O[bt*4+1],mt[At*8+2]=O[bt*4+2],mt[At*8+3]=O[bt*4+3];var Pt=nt[At];mt[At*8+4]=O[Pt*4],mt[At*8+5]=O[Pt*4+1],mt[At*8+6]=O[Pt*4+2],mt[At*8+7]=O[Pt*4+3]}}}else if(lt.length||nt.length){mt=new Uint8Array(j*4+2);for(var _t=0;_t<j;_t++)lt[_t]!=null&&(mt[_t*4]=lt[_t]%N,mt[_t*4+1]=Math.floor(lt[_t]/N)),nt[_t]!=null&&(mt[_t*4+2]=nt[_t]%N,mt[_t*4+3]=Math.floor(nt[_t]/N))}ht({data:mt||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return J})}},x.prototype.addMarker=function(a){var C=this.markerTextures,b=this.regl,z=this.markerCache,k=a==null?0:z.indexOf(a);if(k>=0)return k;var U;if(a instanceof Uint8Array||a instanceof Uint8ClampedArray)U=a;else{U=new Uint8Array(a.length);for(var F=0,V=a.length;F<V;F++)U[F]=a[F]*255}var N=Math.floor(Math.sqrt(U.length));return k=C.length,z.push(a),C.push(b.texture({channels:1,data:U,radius:N,mag:"linear",min:"linear"})),k},x.prototype.updateColor=function(a){var C=this.paletteIds,b=this.palette,z=this.maxColors;Array.isArray(a)||(a=[a]);var k=[];if(typeof a[0]=="number"){var U=[];if(Array.isArray(a))for(var F=0;F<a.length;F+=4)U.push(a.slice(F,F+4));else for(var V=0;V<a.length;V+=4)U.push(a.subarray(V,V+4));a=U}for(var N=0;N<a.length;N++){var O=a[N];O=n(O,"uint8");var H=f(O,!1);if(C[H]==null){var X=b.length;C[H]=Math.floor(X/4),b[X]=O[0],b[X+1]=O[1],b[X+2]=O[2],b[X+3]=O[3]}k[N]=C[H]}return!this.tooManyColors&&b.length>z*4&&(this.tooManyColors=!0),this.updatePalette(b),k.length===1?k[0]:k},x.prototype.updatePalette=function(a){if(!this.tooManyColors){var C=this.maxColors,b=this.paletteTexture,z=Math.ceil(a.length*.25/C);if(z>1){a=a.slice();for(var k=a.length*.25%C;k<z*C;k++)a.push(0,0,0,0)}b.height<z&&b.resize(C,z),b.subimage({width:Math.min(a.length*.25,C),height:z,data:a},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(a){a.sizeBuffer.destroy(),a.positionBuffer.destroy(),a.positionFractBuffer.destroy(),a.colorBuffer.destroy(),a.activation.forEach(function(C){return C&&C.destroy&&C.destroy()}),a.selectionBuffer.destroy(),a.elements&&a.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(a){return a&&a.destroy&&a.destroy()}),this};var E=t(50896),S=function(C,b){var z=new L(C,b),k=z.render.bind(z);return E(k,{render:k,update:z.update.bind(z),draw:z.draw.bind(z),destroy:z.destroy.bind(z),regl:z.regl,gl:z.gl,canvas:z.gl.canvas,groups:z.groups,markers:z.markerCache,palette:z.palette}),k};W.exports=S},55795:function(W,G,t){var y=t(38540),D=t(55616),s=t(76752),P=t(3951),M=t(67752),d=t(51160),g=t(47520);W.exports=r;function r(u,f){if(!(this instanceof r))return new r(u);this.traces=[],this.passes={},this.regl=u,this.scatter=y(u),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var u=this,f,c=[],m=arguments.length;m--;)c[m]=arguments[m];return c.length&&(f=this).update.apply(f,c),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=P(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,P(function(){u.dirty=!1})),this)},r.prototype.update=function(){for(var u,f=[],c=arguments.length;c--;)f[c]=arguments[c];if(f.length){for(var m=0;m<f.length;m++)this.updateItem(m,f[m]);this.traces=this.traces.filter(Boolean);for(var v=[],T=0,h=0;h<this.traces.length;h++){for(var i=this.traces[h],p=this.traces[h].passes,w=0;w<p.length;w++)v.push(this.passes[p[w]]);i.passOffset=T,T+=i.passes.length}return(u=this.scatter).update.apply(u,v),this}},r.prototype.updateItem=function(u,f){var c=this,m=c.regl;if(f===null)return this.traces[u]=null,this;if(!f)return this;var v=D(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[u]||(this.traces[u]={id:u,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:d([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(v.color!=null&&(T.color=v.color),v.size!=null&&(T.size=v.size),v.marker!=null&&(T.marker=v.marker),v.borderColor!=null&&(T.borderColor=v.borderColor),v.borderSize!=null&&(T.borderSize=v.borderSize),v.opacity!=null&&(T.opacity=v.opacity),v.viewport&&(T.viewport=d(v.viewport)),v.diagonal!=null&&(T.diagonal=v.diagonal),v.upper!=null&&(T.upper=v.upper),v.lower!=null&&(T.lower=v.lower),v.data){T.buffer(g(v.data)),T.columns=v.data.length,T.count=v.data[0].length,T.bounds=[];for(var h=0;h<T.columns;h++)T.bounds[h]=s(v.data[h],1)}var i;v.range&&(T.range=v.range,i=T.range&&typeof T.range[0]!="number"),v.domain&&(T.domain=v.domain);var p=!1;v.padding!=null&&(Array.isArray(v.padding)&&v.padding.length===T.columns&&typeof v.padding[v.padding.length-1]=="number"?(T.padding=v.padding.map(n),p=!0):T.padding=n(v.padding));var w=T.columns,A=T.count,L=T.viewport.width,x=T.viewport.height,E=T.viewport.x,S=T.viewport.y,a=L/w,C=x/w;T.passes=[];for(var b=0;b<w;b++)for(var z=0;z<w;z++)if(!(!T.diagonal&&z===b)&&!(!T.upper&&b>z)&&!(!T.lower&&b<z)){var k=e(T.id,b,z),U=this.passes[k]||(this.passes[k]={});if(v.data&&(v.transpose?U.positions={x:{buffer:T.buffer,offset:z,count:A,stride:w},y:{buffer:T.buffer,offset:b,count:A,stride:w}}:U.positions={x:{buffer:T.buffer,offset:z*A,count:A},y:{buffer:T.buffer,offset:b*A,count:A}},U.bounds=o(T.bounds,b,z)),v.domain||v.viewport||v.data){var F=p?o(T.padding,b,z):T.padding;if(T.domain){var V=o(T.domain,b,z),N=V[0],O=V[1],H=V[2],X=V[3];U.viewport=[E+N*L+F[0],S+O*x+F[1],E+H*L-F[2],S+X*x-F[3]]}else U.viewport=[E+z*a+a*F[0],S+b*C+C*F[1],E+(z+1)*a-a*F[2],S+(b+1)*C-C*F[3]]}v.color&&(U.color=T.color),v.size&&(U.size=T.size),v.marker&&(U.marker=T.marker),v.borderSize&&(U.borderSize=T.borderSize),v.borderColor&&(U.borderColor=T.borderColor),v.opacity&&(U.opacity=T.opacity),v.range&&(U.range=i?o(T.range,b,z):T.range||U.bounds),T.passes.push(k)}return this},r.prototype.draw=function(){for(var u,f=[],c=arguments.length;c--;)f[c]=arguments[c];if(!f.length)this.scatter.draw();else{for(var m=[],v=0;v<f.length;v++)if(typeof f[v]=="number"){var T=this.traces[f[v]],h=T.passes,i=T.passOffset;m.push.apply(m,M(i,i+h.length))}else if(f[v].length){var p=f[v],w=this.traces[v],A=w.passes,L=w.passOffset;A=A.map(function(x,E){m[L+E]=p})}(u=this.scatter).draw.apply(u,m)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(u){u.buffer&&u.buffer.destroy&&u.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function e(u,f,c){var m=u.id!=null?u.id:u,v=f,T=c,h=m<<16|(v&255)<<8|T&255;return h}function o(u,f,c){var m,v,T,h,i=u[f],p=u[c];return i.length>2?(i[0],i[2],m=i[1],v=i[3]):i.length?(m=i[0],v=i[1]):(i.x,m=i.y,i.x+i.width,v=i.y+i.height),p.length>2?(T=p[0],h=p[2],p[1],p[3]):p.length?(T=p[0],h=p[1]):(T=p.x,p.y,h=p.x+p.width,p.y+p.height),[T,m,h,v]}function n(u){if(typeof u=="number")return[u,u,u,u];if(u.length===2)return[u[0],u[1],u[0],u[1]];var f=d(u);return[f.x,f.y,f.x+f.width,f.y+f.height]}},28624:function(W){(function(G,t){W.exports=t()})(this,function(){function G(ge,Xe){this.id=ht++,this.type=ge,this.data=Xe}function t(ge){if(ge.length===0)return[];var Xe=ge.charAt(0),$e=ge.charAt(ge.length-1);if(1<ge.length&&Xe===$e&&(Xe==='"'||Xe==="'"))return['"'+ge.substr(1,ge.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Xe=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(ge))return t(ge.substr(0,Xe.index)).concat(t(Xe[1])).concat(t(ge.substr(Xe.index+Xe[0].length)));if(Xe=ge.split("."),Xe.length===1)return['"'+ge.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(ge=[],$e=0;$e<Xe.length;++$e)ge=ge.concat(t(Xe[$e]));return ge}function y(ge){return"["+t(ge).join("][")+"]"}function D(ge,Xe){if(typeof ge=="function")return new G(0,ge);if(typeof ge=="number"||typeof ge=="boolean")return new G(5,ge);if(Array.isArray(ge))return new G(6,ge.map(function($e,mr){return D($e)}));if(ge instanceof G)return ge}function s(){var ge={"":0},Xe=[""];return{id:function($e){var mr=ge[$e];return mr||(mr=ge[$e]=Xe.length,Xe.push($e),mr)},str:function($e){return Xe[$e]}}}function P(ge,Xe,$e){function mr(){var ue=window.innerWidth,be=window.innerHeight;ge!==document.body&&(be=or.getBoundingClientRect(),ue=be.right-be.left,be=be.bottom-be.top),or.width=$e*ue,or.height=$e*be}var or=document.createElement("canvas");nt(or.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),ge.appendChild(or),ge===document.body&&(or.style.position="absolute",nt(ge.style,{margin:0,padding:0}));var ye;return ge!==document.body&&typeof ResizeObserver=="function"?(ye=new ResizeObserver(function(){setTimeout(mr)}),ye.observe(ge)):window.addEventListener("resize",mr,!1),mr(),{canvas:or,onDestroy:function(){ye?ye.disconnect():window.removeEventListener("resize",mr),ge.removeChild(or)}}}function M(ge,Xe){function $e(mr){try{return ge.getContext(mr,Xe)}catch{return null}}return $e("webgl")||$e("experimental-webgl")||$e("webgl-experimental")}function d(ge){return typeof ge=="string"?ge.split():ge}function g(ge){return typeof ge=="string"?document.querySelector(ge):ge}function r(ge){var Xe=ge||{},$e,mr,or,ye;ge={};var ue=[],be=[],Ee=typeof window>"u"?1:window.devicePixelRatio,_e=!1,Oe={},Fe=function(Je){},Be=function(){};if(typeof Xe=="string"?$e=document.querySelector(Xe):typeof Xe=="object"&&(typeof Xe.nodeName=="string"&&typeof Xe.appendChild=="function"&&typeof Xe.getBoundingClientRect=="function"?$e=Xe:typeof Xe.drawArrays=="function"||typeof Xe.drawElements=="function"?(ye=Xe,or=ye.canvas):("gl"in Xe?ye=Xe.gl:"canvas"in Xe?or=g(Xe.canvas):"container"in Xe&&(mr=g(Xe.container)),"attributes"in Xe&&(ge=Xe.attributes),"extensions"in Xe&&(ue=d(Xe.extensions)),"optionalExtensions"in Xe&&(be=d(Xe.optionalExtensions)),"onDone"in Xe&&(Fe=Xe.onDone),"profile"in Xe&&(_e=!!Xe.profile),"pixelRatio"in Xe&&(Ee=+Xe.pixelRatio),"cachedCode"in Xe&&(Oe=Xe.cachedCode))),$e&&($e.nodeName.toLowerCase()==="canvas"?or=$e:mr=$e),!ye){if(!or){if($e=P(mr||document.body,Fe,Ee),!$e)return null;or=$e.canvas,Be=$e.onDestroy}ge.premultipliedAlpha===void 0&&(ge.premultipliedAlpha=!0),ye=M(or,ge)}return ye?{gl:ye,canvas:or,container:mr,extensions:ue,optionalExtensions:be,pixelRatio:Ee,profile:_e,cachedCode:Oe,onDone:Fe,onDestroy:Be}:(Be(),Fe("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function e(ge,Xe){function $e(ue){ue=ue.toLowerCase();var be;try{be=mr[ue]=ge.getExtension(ue)}catch{}return!!be}for(var mr={},or=0;or<Xe.extensions.length;++or){var ye=Xe.extensions[or];if(!$e(ye))return Xe.onDestroy(),Xe.onDone('"'+ye+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Xe.optionalExtensions.forEach($e),{extensions:mr,restore:function(){Object.keys(mr).forEach(function(ue){if(mr[ue]&&!$e(ue))throw Error("(regl): error restoring extension "+ue)})}}}function o(ge,Xe){for(var $e=Array(ge),mr=0;mr<ge;++mr)$e[mr]=Xe(mr);return $e}function n(ge){var Xe,$e;return Xe=(65535<ge)<<4,ge>>>=Xe,$e=(255<ge)<<3,ge>>>=$e,Xe|=$e,$e=(15<ge)<<2,ge>>>=$e,Xe|=$e,$e=(3<ge)<<1,Xe|$e|ge>>>$e>>1}function u(){function ge(mr){t:{for(var or=16;268435456>=or;or*=16)if(mr<=or){mr=or;break t}mr=0}return or=$e[n(mr)>>2],0<or.length?or.pop():new ArrayBuffer(mr)}function Xe(mr){$e[n(mr.byteLength)>>2].push(mr)}var $e=o(8,function(){return[]});return{alloc:ge,free:Xe,allocType:function(mr,or){var ye=null;switch(mr){case 5120:ye=new Int8Array(ge(or),0,or);break;case 5121:ye=new Uint8Array(ge(or),0,or);break;case 5122:ye=new Int16Array(ge(2*or),0,or);break;case 5123:ye=new Uint16Array(ge(2*or),0,or);break;case 5124:ye=new Int32Array(ge(4*or),0,or);break;case 5125:ye=new Uint32Array(ge(4*or),0,or);break;case 5126:ye=new Float32Array(ge(4*or),0,or);break;default:return null}return ye.length!==or?ye.subarray(0,or):ye},freeType:function(mr){Xe(mr.buffer)}}}function f(ge){return!!ge&&typeof ge=="object"&&Array.isArray(ge.shape)&&Array.isArray(ge.stride)&&typeof ge.offset=="number"&&ge.shape.length===ge.stride.length&&(Array.isArray(ge.data)||Ut(ge.data))}function c(ge,Xe,$e,mr,or,ye){for(var ue=0;ue<Xe;++ue)for(var be=ge[ue],Ee=0;Ee<$e;++Ee)for(var _e=be[Ee],Oe=0;Oe<mr;++Oe)or[ye++]=_e[Oe]}function m(ge,Xe,$e,mr,or){for(var ye=1,ue=$e+1;ue<Xe.length;++ue)ye*=Xe[ue];var be=Xe[$e];if(Xe.length-$e===4){var Ee=Xe[$e+1],_e=Xe[$e+2];for(Xe=Xe[$e+3],ue=0;ue<be;++ue)c(ge[ue],Ee,_e,Xe,mr,or),or+=ye}else for(ue=0;ue<be;++ue)m(ge[ue],Xe,$e+1,mr,or),or+=ye}function v(ge){return Et[Object.prototype.toString.call(ge)]|0}function T(ge,Xe){for(var $e=0;$e<Xe.length;++$e)ge[$e]=Xe[$e]}function h(ge,Xe,$e,mr,or,ye,ue){for(var be=0,Ee=0;Ee<$e;++Ee)for(var _e=0;_e<mr;++_e)ge[be++]=Xe[or*Ee+ye*_e+ue]}function i(ge,Xe,$e,mr){function or(Fe){this.id=Ee++,this.buffer=ge.createBuffer(),this.type=Fe,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,$e.profile&&(this.stats={size:0})}function ye(Fe,Be,Je){Fe.byteLength=Be.byteLength,ge.bufferData(Fe.type,Be,Je)}function ue(Fe,Be,Je,hr,cr,dr){if(Fe.usage=Je,Array.isArray(Be)){if(Fe.dtype=hr||5126,0<Be.length)if(Array.isArray(Be[0])){cr=Kt(Be);for(var fr=hr=1;fr<cr.length;++fr)hr*=cr[fr];Fe.dimension=hr,Be=Wt(Be,cr,Fe.dtype),ye(Fe,Be,Je),dr?Fe.persistentData=Be:Pt.freeType(Be)}else typeof Be[0]=="number"?(Fe.dimension=cr,cr=Pt.allocType(Fe.dtype,Be.length),T(cr,Be),ye(Fe,cr,Je),dr?Fe.persistentData=cr:Pt.freeType(cr)):Ut(Be[0])&&(Fe.dimension=Be[0].length,Fe.dtype=hr||v(Be[0])||5126,Be=Wt(Be,[Be.length,Be[0].length],Fe.dtype),ye(Fe,Be,Je),dr?Fe.persistentData=Be:Pt.freeType(Be))}else if(Ut(Be))Fe.dtype=hr||v(Be),Fe.dimension=cr,ye(Fe,Be,Je),dr&&(Fe.persistentData=new Uint8Array(new Uint8Array(Be.buffer)));else if(f(Be)){cr=Be.shape;var Lr=Be.stride,fr=Be.offset,xr=0,Qt=0,re=0,tr=0;cr.length===1?(xr=cr[0],Qt=1,re=Lr[0],tr=0):cr.length===2&&(xr=cr[0],Qt=cr[1],re=Lr[0],tr=Lr[1]),Fe.dtype=hr||v(Be.data)||5126,Fe.dimension=Qt,cr=Pt.allocType(Fe.dtype,xr*Qt),h(cr,Be.data,xr,Qt,re,tr,fr),ye(Fe,cr,Je),dr?Fe.persistentData=cr:Pt.freeType(cr)}else Be instanceof ArrayBuffer&&(Fe.dtype=5121,Fe.dimension=cr,ye(Fe,Be,Je),dr&&(Fe.persistentData=new Uint8Array(new Uint8Array(Be))))}function be(Fe){Xe.bufferCount--,mr(Fe),ge.deleteBuffer(Fe.buffer),Fe.buffer=null,delete _e[Fe.id]}var Ee=0,_e={};or.prototype.bind=function(){ge.bindBuffer(this.type,this.buffer)},or.prototype.destroy=function(){be(this)};var Oe=[];return $e.profile&&(Xe.getTotalBufferSize=function(){var Fe=0;return Object.keys(_e).forEach(function(Be){Fe+=_e[Be].stats.size}),Fe}),{create:function(Fe,Be,Je,hr){function cr(fr){var Lr=35044,xr=null,Qt=0,re=0,tr=1;return Array.isArray(fr)||Ut(fr)||f(fr)||fr instanceof ArrayBuffer?xr=fr:typeof fr=="number"?Qt=fr|0:fr&&("data"in fr&&(xr=fr.data),"usage"in fr&&(Lr=Ct[fr.usage]),"type"in fr&&(re=zt[fr.type]),"dimension"in fr&&(tr=fr.dimension|0),"length"in fr&&(Qt=fr.length|0)),dr.bind(),xr?ue(dr,xr,Lr,re,tr,hr):(Qt&&ge.bufferData(dr.type,Qt,Lr),dr.dtype=re||5121,dr.usage=Lr,dr.dimension=tr,dr.byteLength=Qt),$e.profile&&(dr.stats.size=dr.byteLength*oe[dr.dtype]),cr}Xe.bufferCount++;var dr=new or(Be);return _e[dr.id]=dr,Je||cr(Fe),cr._reglType="buffer",cr._buffer=dr,cr.subdata=function(fr,Lr){var xr=(Lr||0)|0,Qt;if(dr.bind(),Ut(fr)||fr instanceof ArrayBuffer)ge.bufferSubData(dr.type,xr,fr);else if(Array.isArray(fr)){if(0<fr.length)if(typeof fr[0]=="number"){var re=Pt.allocType(dr.dtype,fr.length);T(re,fr),ge.bufferSubData(dr.type,xr,re),Pt.freeType(re)}else(Array.isArray(fr[0])||Ut(fr[0]))&&(Qt=Kt(fr),re=Wt(fr,Qt,dr.dtype),ge.bufferSubData(dr.type,xr,re),Pt.freeType(re))}else if(f(fr)){Qt=fr.shape;var tr=fr.stride,er=re=0,Ye=0,Pe=0;Qt.length===1?(re=Qt[0],er=1,Ye=tr[0],Pe=0):Qt.length===2&&(re=Qt[0],er=Qt[1],Ye=tr[0],Pe=tr[1]),Qt=Array.isArray(fr.data)?dr.dtype:v(fr.data),Qt=Pt.allocType(Qt,re*er),h(Qt,fr.data,re,er,Ye,Pe,fr.offset),ge.bufferSubData(dr.type,xr,Qt),Pt.freeType(Qt)}return cr},$e.profile&&(cr.stats=dr.stats),cr.destroy=function(){be(dr)},cr},createStream:function(Fe,Be){var Je=Oe.pop();return Je||(Je=new or(Fe)),Je.bind(),ue(Je,Be,35040,0,1,!1),Je},destroyStream:function(Fe){Oe.push(Fe)},clear:function(){St(_e).forEach(be),Oe.forEach(be)},getBuffer:function(Fe){return Fe&&Fe._buffer instanceof or?Fe._buffer:null},restore:function(){St(_e).forEach(function(Fe){Fe.buffer=ge.createBuffer(),ge.bindBuffer(Fe.type,Fe.buffer),ge.bufferData(Fe.type,Fe.persistentData||Fe.byteLength,Fe.usage)})},_initBuffer:ue}}function p(ge,Xe,$e,mr){function or(Fe){this.id=Ee++,be[this.id]=this,this.buffer=Fe,this.primType=4,this.type=this.vertCount=0}function ye(Fe,Be,Je,hr,cr,dr,fr){Fe.buffer.bind();var Lr;if(Be?((Lr=fr)||Ut(Be)&&(!f(Be)||Ut(Be.data))||(Lr=Xe.oes_element_index_uint?5125:5123),$e._initBuffer(Fe.buffer,Be,Je,Lr,3)):(ge.bufferData(34963,dr,Je),Fe.buffer.dtype=Lr||5121,Fe.buffer.usage=Je,Fe.buffer.dimension=3,Fe.buffer.byteLength=dr),Lr=fr,!fr){switch(Fe.buffer.dtype){case 5121:case 5120:Lr=5121;break;case 5123:case 5122:Lr=5123;break;case 5125:case 5124:Lr=5125}Fe.buffer.dtype=Lr}Fe.type=Lr,Be=cr,0>Be&&(Be=Fe.buffer.byteLength,Lr===5123?Be>>=1:Lr===5125&&(Be>>=2)),Fe.vertCount=Be,Be=hr,0>hr&&(Be=4,hr=Fe.buffer.dimension,hr===1&&(Be=0),hr===2&&(Be=1),hr===3&&(Be=4)),Fe.primType=Be}function ue(Fe){mr.elementsCount--,delete be[Fe.id],Fe.buffer.destroy(),Fe.buffer=null}var be={},Ee=0,_e={uint8:5121,uint16:5123};Xe.oes_element_index_uint&&(_e.uint32=5125),or.prototype.bind=function(){this.buffer.bind()};var Oe=[];return{create:function(Fe,Be){function Je(dr){if(dr)if(typeof dr=="number")hr(dr),cr.primType=4,cr.vertCount=dr|0,cr.type=5121;else{var fr=null,Lr=35044,xr=-1,Qt=-1,re=0,tr=0;Array.isArray(dr)||Ut(dr)||f(dr)?fr=dr:("data"in dr&&(fr=dr.data),"usage"in dr&&(Lr=Ct[dr.usage]),"primitive"in dr&&(xr=Jt[dr.primitive]),"count"in dr&&(Qt=dr.count|0),"type"in dr&&(tr=_e[dr.type]),"length"in dr?re=dr.length|0:(re=Qt,tr===5123||tr===5122?re*=2:(tr===5125||tr===5124)&&(re*=4))),ye(cr,fr,Lr,xr,Qt,re,tr)}else hr(),cr.primType=4,cr.vertCount=0,cr.type=5121;return Je}var hr=$e.create(null,34963,!0),cr=new or(hr._buffer);return mr.elementsCount++,Je(Fe),Je._reglType="elements",Je._elements=cr,Je.subdata=function(dr,fr){return hr.subdata(dr,fr),Je},Je.destroy=function(){ue(cr)},Je},createStream:function(Fe){var Be=Oe.pop();return Be||(Be=new or($e.create(null,34963,!0,!1)._buffer)),ye(Be,Fe,35040,-1,-1,0,0),Be},destroyStream:function(Fe){Oe.push(Fe)},getElements:function(Fe){return typeof Fe=="function"&&Fe._elements instanceof or?Fe._elements:null},clear:function(){St(be).forEach(ue)}}}function w(ge){for(var Xe=Pt.allocType(5123,ge.length),$e=0;$e<ge.length;++$e)if(isNaN(ge[$e]))Xe[$e]=65535;else if(ge[$e]===1/0)Xe[$e]=31744;else if(ge[$e]===-1/0)Xe[$e]=64512;else{te[0]=ge[$e];var ye=fe[0],mr=ye>>>31<<15,or=(ye<<1>>>24)-127,ye=ye>>13&1023;Xe[$e]=-24>or?mr:-14>or?mr+(ye+1024>>-14-or):15<or?mr+31744:mr+(or+15<<10)+ye}return Xe}function A(ge){return Array.isArray(ge)||Ut(ge)}function L(ge){return"[object "+ge+"]"}function x(ge){return Array.isArray(ge)&&(ge.length===0||typeof ge[0]=="number")}function E(ge){return!!(Array.isArray(ge)&&ge.length!==0&&A(ge[0]))}function S(ge){return Object.prototype.toString.call(ge)}function a(ge){if(!ge)return!1;var Xe=S(ge);return 0<=It.indexOf(Xe)?!0:x(ge)||E(ge)||f(ge)}function C(ge,Xe){ge.type===36193?(ge.data=w(Xe),Pt.freeType(Xe)):ge.data=Xe}function b(ge,Xe,$e,mr,or,ye){if(ge=typeof Ht[ge]<"u"?Ht[ge]:xe[ge]*Nt[Xe],ye&&(ge*=6),or){for(mr=0;1<=$e;)mr+=ge*$e*$e,$e/=2;return mr}return ge*$e*mr}function z(ge,Xe,$e,mr,or,ye,ue){function be(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Ee(Cr,an){Cr.internalformat=an.internalformat,Cr.format=an.format,Cr.type=an.type,Cr.compressed=an.compressed,Cr.premultiplyAlpha=an.premultiplyAlpha,Cr.flipY=an.flipY,Cr.unpackAlignment=an.unpackAlignment,Cr.colorSpace=an.colorSpace,Cr.width=an.width,Cr.height=an.height,Cr.channels=an.channels}function _e(Cr,an){if(typeof an=="object"&&an){"premultiplyAlpha"in an&&(Cr.premultiplyAlpha=an.premultiplyAlpha),"flipY"in an&&(Cr.flipY=an.flipY),"alignment"in an&&(Cr.unpackAlignment=an.alignment),"colorSpace"in an&&(Cr.colorSpace=vn[an.colorSpace]),"type"in an&&(Cr.type=Or[an.type]);var on=Cr.width,ln=Cr.height,Bn=Cr.channels,gn=!1;"shape"in an?(on=an.shape[0],ln=an.shape[1],an.shape.length===3&&(Bn=an.shape[2],gn=!0)):("radius"in an&&(on=ln=an.radius),"width"in an&&(on=an.width),"height"in an&&(ln=an.height),"channels"in an&&(Bn=an.channels,gn=!0)),Cr.width=on|0,Cr.height=ln|0,Cr.channels=Bn|0,on=!1,"format"in an&&(on=an.format,ln=Cr.internalformat=En[on],Cr.format=Pn[ln],on in Or&&!("type"in an)&&(Cr.type=Or[on]),on in nn&&(Cr.compressed=!0),on=!0),!gn&&on?Cr.channels=xe[Cr.format]:gn&&!on&&Cr.channels!==de[Cr.format]&&(Cr.format=Cr.internalformat=de[Cr.channels])}}function Oe(Cr){ge.pixelStorei(37440,Cr.flipY),ge.pixelStorei(37441,Cr.premultiplyAlpha),ge.pixelStorei(37443,Cr.colorSpace),ge.pixelStorei(3317,Cr.unpackAlignment)}function Fe(){be.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Be(Cr,an){var on=null;if(a(an)?on=an:an&&(_e(Cr,an),"x"in an&&(Cr.xOffset=an.x|0),"y"in an&&(Cr.yOffset=an.y|0),a(an.data)&&(on=an.data)),an.copy){var ln=or.viewportWidth,Bn=or.viewportHeight;Cr.width=Cr.width||ln-Cr.xOffset,Cr.height=Cr.height||Bn-Cr.yOffset,Cr.needsCopy=!0}else if(!on)Cr.width=Cr.width||1,Cr.height=Cr.height||1,Cr.channels=Cr.channels||4;else if(Ut(on))Cr.channels=Cr.channels||4,Cr.data=on,"type"in an||Cr.type!==5121||(Cr.type=Et[Object.prototype.toString.call(on)]|0);else if(x(on)){switch(Cr.channels=Cr.channels||4,ln=on,Bn=ln.length,Cr.type){case 5121:case 5123:case 5125:case 5126:Bn=Pt.allocType(Cr.type,Bn),Bn.set(ln),Cr.data=Bn;break;case 36193:Cr.data=w(ln)}Cr.alignment=1,Cr.needsFree=!0}else if(f(on)){ln=on.data,Array.isArray(ln)||Cr.type!==5121||(Cr.type=Et[Object.prototype.toString.call(ln)]|0);var Bn=on.shape,gn=on.stride,Cn,Nn,$n,vi;Bn.length===3?($n=Bn[2],vi=gn[2]):vi=$n=1,Cn=Bn[0],Nn=Bn[1],Bn=gn[0],gn=gn[1],Cr.alignment=1,Cr.width=Cn,Cr.height=Nn,Cr.channels=$n,Cr.format=Cr.internalformat=de[$n],Cr.needsFree=!0,Cn=vi,on=on.offset,$n=Cr.width,vi=Cr.height,Nn=Cr.channels;for(var Di=Pt.allocType(Cr.type===36193?5126:Cr.type,$n*vi*Nn),Ar=0,Br=0;Br<vi;++Br)for(var Sr=0;Sr<$n;++Sr)for(var Nr=0;Nr<Nn;++Nr)Di[Ar++]=ln[Bn*Sr+gn*Br+Cn*Nr+on];C(Cr,Di)}else if(S(on)===Me||S(on)===ne||S(on)===kt)S(on)===Me||S(on)===ne?Cr.element=on:Cr.element=on.canvas,Cr.width=Cr.element.width,Cr.height=Cr.element.height,Cr.channels=4;else if(S(on)===Gt)Cr.element=on,Cr.width=on.width,Cr.height=on.height,Cr.channels=4;else if(S(on)===Yt)Cr.element=on,Cr.width=on.naturalWidth,Cr.height=on.naturalHeight,Cr.channels=4;else if(S(on)===Zt)Cr.element=on,Cr.width=on.videoWidth,Cr.height=on.videoHeight,Cr.channels=4;else if(E(on)){for(ln=Cr.width||on[0].length,Bn=Cr.height||on.length,gn=Cr.channels,gn=A(on[0][0])?gn||on[0][0].length:gn||1,Cn=Rt.shape(on),$n=1,vi=0;vi<Cn.length;++vi)$n*=Cn[vi];$n=Pt.allocType(Cr.type===36193?5126:Cr.type,$n),Rt.flatten(on,Cn,"",$n),C(Cr,$n),Cr.alignment=1,Cr.width=ln,Cr.height=Bn,Cr.channels=gn,Cr.format=Cr.internalformat=de[gn],Cr.needsFree=!0}}function Je(Cr,an,on,ln,Bn){var gn=Cr.element,Cn=Cr.data,Nn=Cr.internalformat,$n=Cr.format,vi=Cr.type,Di=Cr.width,Ar=Cr.height;Oe(Cr),gn?ge.texSubImage2D(an,Bn,on,ln,$n,vi,gn):Cr.compressed?ge.compressedTexSubImage2D(an,Bn,on,ln,Nn,Di,Ar,Cn):Cr.needsCopy?(mr(),ge.copyTexSubImage2D(an,Bn,on,ln,Cr.xOffset,Cr.yOffset,Di,Ar)):ge.texSubImage2D(an,Bn,on,ln,Di,Ar,$n,vi,Cn)}function hr(){return Gn.pop()||new Fe}function cr(Cr){Cr.needsFree&&Pt.freeType(Cr.data),Fe.call(Cr),Gn.push(Cr)}function dr(){be.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function fr(Cr,an,on){var ln=Cr.images[0]=hr();Cr.mipmask=1,ln.width=Cr.width=an,ln.height=Cr.height=on,ln.channels=Cr.channels=4}function Lr(Cr,an){var on=null;if(a(an))on=Cr.images[0]=hr(),Ee(on,Cr),Be(on,an),Cr.mipmask=1;else if(_e(Cr,an),Array.isArray(an.mipmap))for(var ln=an.mipmap,Bn=0;Bn<ln.length;++Bn)on=Cr.images[Bn]=hr(),Ee(on,Cr),on.width>>=Bn,on.height>>=Bn,Be(on,ln[Bn]),Cr.mipmask|=1<<Bn;else on=Cr.images[0]=hr(),Ee(on,Cr),Be(on,an),Cr.mipmask=1;Ee(Cr,Cr.images[0])}function xr(Cr,an){for(var on=Cr.images,ln=0;ln<on.length&&on[ln];++ln){var Bn=on[ln],gn=an,Cn=ln,Nn=Bn.element,$n=Bn.data,vi=Bn.internalformat,Di=Bn.format,Ar=Bn.type,Br=Bn.width,Sr=Bn.height;Oe(Bn),Nn?ge.texImage2D(gn,Cn,Di,Di,Ar,Nn):Bn.compressed?ge.compressedTexImage2D(gn,Cn,vi,Br,Sr,0,$n):Bn.needsCopy?(mr(),ge.copyTexImage2D(gn,Cn,Di,Bn.xOffset,Bn.yOffset,Br,Sr,0)):ge.texImage2D(gn,Cn,Di,Br,Sr,0,Di,Ar,$n||null)}}function Qt(){var Cr=gi.pop()||new dr;be.call(Cr);for(var an=Cr.mipmask=0;16>an;++an)Cr.images[an]=null;return Cr}function re(Cr){for(var an=Cr.images,on=0;on<an.length;++on)an[on]&&cr(an[on]),an[on]=null;gi.push(Cr)}function tr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function er(Cr,an){"min"in an&&(Cr.minFilter=Tr[an.min],0<=ve.indexOf(Cr.minFilter)&&!("faces"in an)&&(Cr.genMipmaps=!0)),"mag"in an&&(Cr.magFilter=Rr[an.mag]);var on=Cr.wrapS,ln=Cr.wrapT;if("wrap"in an){var Bn=an.wrap;typeof Bn=="string"?on=ln=yr[Bn]:Array.isArray(Bn)&&(on=yr[Bn[0]],ln=yr[Bn[1]])}else"wrapS"in an&&(on=yr[an.wrapS]),"wrapT"in an&&(ln=yr[an.wrapT]);if(Cr.wrapS=on,Cr.wrapT=ln,"anisotropic"in an&&(Cr.anisotropic=an.anisotropic),"mipmap"in an){switch(on=!1,typeof an.mipmap){case"string":Cr.mipmapHint=We[an.mipmap],on=Cr.genMipmaps=!0;break;case"boolean":on=Cr.genMipmaps=an.mipmap;break;case"object":Cr.genMipmaps=!1,on=!0}!on||"min"in an||(Cr.minFilter=9984)}}function Ye(Cr,an){ge.texParameteri(an,10241,Cr.minFilter),ge.texParameteri(an,10240,Cr.magFilter),ge.texParameteri(an,10242,Cr.wrapS),ge.texParameteri(an,10243,Cr.wrapT),Xe.ext_texture_filter_anisotropic&&ge.texParameteri(an,34046,Cr.anisotropic),Cr.genMipmaps&&(ge.hint(33170,Cr.mipmapHint),ge.generateMipmap(an))}function Pe(Cr){be.call(this),this.mipmask=0,this.internalformat=6408,this.id=bi++,this.refCount=1,this.target=Cr,this.texture=ge.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new tr,ue.profile&&(this.stats={size:0})}function Ze(Cr){ge.activeTexture(33984),ge.bindTexture(Cr.target,Cr.texture)}function nr(){var Cr=Dn[0];Cr?ge.bindTexture(Cr.target,Cr.texture):ge.bindTexture(3553,null)}function Qe(Cr){var an=Cr.texture,on=Cr.unit,ln=Cr.target;0<=on&&(ge.activeTexture(33984+on),ge.bindTexture(ln,null),Dn[on]=null),ge.deleteTexture(an),Cr.texture=null,Cr.params=null,Cr.pixels=null,Cr.refCount=0,delete oi[Cr.id],ye.textureCount--}var We={"don't care":4352,"dont care":4352,nice:4354,fast:4353},yr={repeat:10497,clamp:33071,mirror:33648},Rr={nearest:9728,linear:9729},Tr=nt({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Rr),vn={none:0,browser:37444},Or={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},En={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},nn={};Xe.ext_srgb&&(En.srgb=35904,En.srgba=35906),Xe.oes_texture_float&&(Or.float32=Or.float=5126),Xe.oes_texture_half_float&&(Or.float16=Or["half float"]=36193),Xe.webgl_depth_texture&&(nt(En,{depth:6402,"depth stencil":34041}),nt(Or,{uint16:5123,uint32:5125,"depth stencil":34042})),Xe.webgl_compressed_texture_s3tc&&nt(nn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Xe.webgl_compressed_texture_atc&&nt(nn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Xe.webgl_compressed_texture_pvrtc&&nt(nn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Xe.webgl_compressed_texture_etc1&&(nn["rgb etc1"]=36196);var gr=Array.prototype.slice.call(ge.getParameter(34467));Object.keys(nn).forEach(function(Cr){var an=nn[Cr];0<=gr.indexOf(an)&&(En[Cr]=an)});var Pr=Object.keys(En);$e.textureFormats=Pr;var jr=[];Object.keys(En).forEach(function(Cr){jr[En[Cr]]=Cr});var _r=[];Object.keys(Or).forEach(function(Cr){_r[Or[Cr]]=Cr});var pn=[];Object.keys(Rr).forEach(function(Cr){pn[Rr[Cr]]=Cr});var en=[];Object.keys(Tr).forEach(function(Cr){en[Tr[Cr]]=Cr});var Tn=[];Object.keys(yr).forEach(function(Cr){Tn[yr[Cr]]=Cr});var Pn=Pr.reduce(function(Cr,an){var on=En[an];return on===6409||on===6406||on===6409||on===6410||on===6402||on===34041||Xe.ext_srgb&&(on===35904||on===35906)?Cr[on]=on:on===32855||0<=an.indexOf("rgba")?Cr[on]=6408:Cr[on]=6407,Cr},{}),Gn=[],gi=[],bi=0,oi={},ni=$e.maxTextureUnits,Dn=Array(ni).map(function(){return null});return nt(Pe.prototype,{bind:function(){this.bindCount+=1;var Cr=this.unit;if(0>Cr){for(var an=0;an<ni;++an){var on=Dn[an];if(on){if(0<on.bindCount)continue;on.unit=-1}Dn[an]=this,Cr=an;break}ue.profile&&ye.maxTextureUnits<Cr+1&&(ye.maxTextureUnits=Cr+1),this.unit=Cr,ge.activeTexture(33984+Cr),ge.bindTexture(this.target,this.texture)}return Cr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&Qe(this)}}),ue.profile&&(ye.getTotalTextureSize=function(){var Cr=0;return Object.keys(oi).forEach(function(an){Cr+=oi[an].stats.size}),Cr}),{create2D:function(Cr,an){function on(Bn,gn){var Cn=ln.texInfo;tr.call(Cn);var Nn=Qt();return typeof Bn=="number"?typeof gn=="number"?fr(Nn,Bn|0,gn|0):fr(Nn,Bn|0,Bn|0):Bn?(er(Cn,Bn),Lr(Nn,Bn)):fr(Nn,1,1),Cn.genMipmaps&&(Nn.mipmask=(Nn.width<<1)-1),ln.mipmask=Nn.mipmask,Ee(ln,Nn),ln.internalformat=Nn.internalformat,on.width=Nn.width,on.height=Nn.height,Ze(ln),xr(Nn,3553),Ye(Cn,3553),nr(),re(Nn),ue.profile&&(ln.stats.size=b(ln.internalformat,ln.type,Nn.width,Nn.height,Cn.genMipmaps,!1)),on.format=jr[ln.internalformat],on.type=_r[ln.type],on.mag=pn[Cn.magFilter],on.min=en[Cn.minFilter],on.wrapS=Tn[Cn.wrapS],on.wrapT=Tn[Cn.wrapT],on}var ln=new Pe(3553);return oi[ln.id]=ln,ye.textureCount++,on(Cr,an),on.subimage=function(Bn,gn,Cn,Nn){gn|=0,Cn|=0,Nn|=0;var $n=hr();return Ee($n,ln),$n.width=0,$n.height=0,Be($n,Bn),$n.width=$n.width||(ln.width>>Nn)-gn,$n.height=$n.height||(ln.height>>Nn)-Cn,Ze(ln),Je($n,3553,gn,Cn,Nn),nr(),cr($n),on},on.resize=function(Bn,gn){var Cn=Bn|0,Nn=gn|0||Cn;if(Cn===ln.width&&Nn===ln.height)return on;on.width=ln.width=Cn,on.height=ln.height=Nn,Ze(ln);for(var $n=0;ln.mipmask>>$n;++$n){var vi=Cn>>$n,Di=Nn>>$n;if(!vi||!Di)break;ge.texImage2D(3553,$n,ln.format,vi,Di,0,ln.format,ln.type,null)}return nr(),ue.profile&&(ln.stats.size=b(ln.internalformat,ln.type,Cn,Nn,!1,!1)),on},on._reglType="texture2d",on._texture=ln,ue.profile&&(on.stats=ln.stats),on.destroy=function(){ln.decRef()},on},createCube:function(Cr,an,on,ln,Bn,gn){function Cn(vi,Di,Ar,Br,Sr,Nr){var un,Rn=Nn.texInfo;for(tr.call(Rn),un=0;6>un;++un)$n[un]=Qt();if(typeof vi=="number"||!vi)for(vi=vi|0||1,un=0;6>un;++un)fr($n[un],vi,vi);else if(typeof vi=="object")if(Di)Lr($n[0],vi),Lr($n[1],Di),Lr($n[2],Ar),Lr($n[3],Br),Lr($n[4],Sr),Lr($n[5],Nr);else if(er(Rn,vi),_e(Nn,vi),"faces"in vi)for(vi=vi.faces,un=0;6>un;++un)Ee($n[un],Nn),Lr($n[un],vi[un]);else for(un=0;6>un;++un)Lr($n[un],vi);for(Ee(Nn,$n[0]),Nn.mipmask=Rn.genMipmaps?($n[0].width<<1)-1:$n[0].mipmask,Nn.internalformat=$n[0].internalformat,Cn.width=$n[0].width,Cn.height=$n[0].height,Ze(Nn),un=0;6>un;++un)xr($n[un],34069+un);for(Ye(Rn,34067),nr(),ue.profile&&(Nn.stats.size=b(Nn.internalformat,Nn.type,Cn.width,Cn.height,Rn.genMipmaps,!0)),Cn.format=jr[Nn.internalformat],Cn.type=_r[Nn.type],Cn.mag=pn[Rn.magFilter],Cn.min=en[Rn.minFilter],Cn.wrapS=Tn[Rn.wrapS],Cn.wrapT=Tn[Rn.wrapT],un=0;6>un;++un)re($n[un]);return Cn}var Nn=new Pe(34067);oi[Nn.id]=Nn,ye.cubeCount++;var $n=Array(6);return Cn(Cr,an,on,ln,Bn,gn),Cn.subimage=function(vi,Di,Ar,Br,Sr){Ar|=0,Br|=0,Sr|=0;var Nr=hr();return Ee(Nr,Nn),Nr.width=0,Nr.height=0,Be(Nr,Di),Nr.width=Nr.width||(Nn.width>>Sr)-Ar,Nr.height=Nr.height||(Nn.height>>Sr)-Br,Ze(Nn),Je(Nr,34069+vi,Ar,Br,Sr),nr(),cr(Nr),Cn},Cn.resize=function(vi){if(vi|=0,vi!==Nn.width){Cn.width=Nn.width=vi,Cn.height=Nn.height=vi,Ze(Nn);for(var Di=0;6>Di;++Di)for(var Ar=0;Nn.mipmask>>Ar;++Ar)ge.texImage2D(34069+Di,Ar,Nn.format,vi>>Ar,vi>>Ar,0,Nn.format,Nn.type,null);return nr(),ue.profile&&(Nn.stats.size=b(Nn.internalformat,Nn.type,Cn.width,Cn.height,!1,!0)),Cn}},Cn._reglType="textureCube",Cn._texture=Nn,ue.profile&&(Cn.stats=Nn.stats),Cn.destroy=function(){Nn.decRef()},Cn},clear:function(){for(var Cr=0;Cr<ni;++Cr)ge.activeTexture(33984+Cr),ge.bindTexture(3553,null),Dn[Cr]=null;St(oi).forEach(Qe),ye.cubeCount=0,ye.textureCount=0},getTexture:function(Cr){return null},restore:function(){for(var Cr=0;Cr<ni;++Cr){var an=Dn[Cr];an&&(an.bindCount=0,an.unit=-1,Dn[Cr]=null)}St(oi).forEach(function(on){on.texture=ge.createTexture(),ge.bindTexture(on.target,on.texture);for(var ln=0;32>ln;++ln)if(on.mipmask&1<<ln)if(on.target===3553)ge.texImage2D(3553,ln,on.internalformat,on.width>>ln,on.height>>ln,0,on.internalformat,on.type,null);else for(var Bn=0;6>Bn;++Bn)ge.texImage2D(34069+Bn,ln,on.internalformat,on.width>>ln,on.height>>ln,0,on.internalformat,on.type,null);Ye(on.texInfo,on.target)})},refresh:function(){for(var Cr=0;Cr<ni;++Cr){var an=Dn[Cr];an&&(an.bindCount=0,an.unit=-1,Dn[Cr]=null),ge.activeTexture(33984+Cr),ge.bindTexture(3553,null),ge.bindTexture(34067,null)}}}}function k(ge,Xe,$e,mr,or,ye){function ue(Pe,Ze,nr){this.target=Pe,this.texture=Ze,this.renderbuffer=nr;var Qe=Pe=0;Ze?(Pe=Ze.width,Qe=Ze.height):nr&&(Pe=nr.width,Qe=nr.height),this.width=Pe,this.height=Qe}function be(Pe){Pe&&(Pe.texture&&Pe.texture._texture.decRef(),Pe.renderbuffer&&Pe.renderbuffer._renderbuffer.decRef())}function Ee(Pe,Ze,nr){Pe&&(Pe.texture?Pe.texture._texture.refCount+=1:Pe.renderbuffer._renderbuffer.refCount+=1)}function _e(Pe,Ze){Ze&&(Ze.texture?ge.framebufferTexture2D(36160,Pe,Ze.target,Ze.texture._texture.texture,0):ge.framebufferRenderbuffer(36160,Pe,36161,Ze.renderbuffer._renderbuffer.renderbuffer))}function Oe(Pe){var Ze=3553,nr=null,Qe=null,We=Pe;return typeof Pe=="object"&&(We=Pe.data,"target"in Pe&&(Ze=Pe.target|0)),Pe=We._reglType,Pe==="texture2d"||Pe==="textureCube"?nr=We:Pe==="renderbuffer"&&(Qe=We,Ze=36161),new ue(Ze,nr,Qe)}function Fe(Pe,Ze,nr,Qe,We){return nr?(Pe=mr.create2D({width:Pe,height:Ze,format:Qe,type:We}),Pe._texture.refCount=0,new ue(3553,Pe,null)):(Pe=or.create({width:Pe,height:Ze,format:Qe}),Pe._renderbuffer.refCount=0,new ue(36161,null,Pe))}function Be(Pe){return Pe&&(Pe.texture||Pe.renderbuffer)}function Je(Pe,Ze,nr){Pe&&(Pe.texture?Pe.texture.resize(Ze,nr):Pe.renderbuffer&&Pe.renderbuffer.resize(Ze,nr),Pe.width=Ze,Pe.height=nr)}function hr(){this.id=er++,Ye[this.id]=this,this.framebuffer=ge.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function cr(Pe){Pe.colorAttachments.forEach(be),be(Pe.depthAttachment),be(Pe.stencilAttachment),be(Pe.depthStencilAttachment)}function dr(Pe){ge.deleteFramebuffer(Pe.framebuffer),Pe.framebuffer=null,ye.framebufferCount--,delete Ye[Pe.id]}function fr(Pe){var Ze;ge.bindFramebuffer(36160,Pe.framebuffer);var nr=Pe.colorAttachments;for(Ze=0;Ze<nr.length;++Ze)_e(36064+Ze,nr[Ze]);for(Ze=nr.length;Ze<$e.maxColorAttachments;++Ze)ge.framebufferTexture2D(36160,36064+Ze,3553,null,0);ge.framebufferTexture2D(36160,33306,3553,null,0),ge.framebufferTexture2D(36160,36096,3553,null,0),ge.framebufferTexture2D(36160,36128,3553,null,0),_e(36096,Pe.depthAttachment),_e(36128,Pe.stencilAttachment),_e(33306,Pe.depthStencilAttachment),ge.checkFramebufferStatus(36160),ge.isContextLost(),ge.bindFramebuffer(36160,xr.next?xr.next.framebuffer:null),xr.cur=xr.next,ge.getError()}function Lr(Pe,Ze){function nr(We,yr){var Rr,Tr=0,vn=0,Or=!0,En=!0;Rr=null;var nn=!0,gr="rgba",Pr="uint8",jr=1,_r=null,pn=null,en=null,Tn=!1;typeof We=="number"?(Tr=We|0,vn=yr|0||Tr):We?("shape"in We?(vn=We.shape,Tr=vn[0],vn=vn[1]):("radius"in We&&(Tr=vn=We.radius),"width"in We&&(Tr=We.width),"height"in We&&(vn=We.height)),("color"in We||"colors"in We)&&(Rr=We.color||We.colors),Rr||("colorCount"in We&&(jr=We.colorCount|0),"colorTexture"in We&&(nn=!!We.colorTexture,gr="rgba4"),"colorType"in We&&(Pr=We.colorType,!nn)&&(Pr==="half float"||Pr==="float16"?gr="rgba16f":(Pr==="float"||Pr==="float32")&&(gr="rgba32f")),"colorFormat"in We&&(gr=We.colorFormat,0<=Qt.indexOf(gr)?nn=!0:0<=re.indexOf(gr)&&(nn=!1))),("depthTexture"in We||"depthStencilTexture"in We)&&(Tn=!(!We.depthTexture&&!We.depthStencilTexture)),"depth"in We&&(typeof We.depth=="boolean"?Or=We.depth:(_r=We.depth,En=!1)),"stencil"in We&&(typeof We.stencil=="boolean"?En=We.stencil:(pn=We.stencil,Or=!1)),"depthStencil"in We&&(typeof We.depthStencil=="boolean"?Or=En=We.depthStencil:(en=We.depthStencil,En=Or=!1))):Tr=vn=1;var Pn=null,Gn=null,gi=null,bi=null;if(Array.isArray(Rr))Pn=Rr.map(Oe);else if(Rr)Pn=[Oe(Rr)];else for(Pn=Array(jr),Rr=0;Rr<jr;++Rr)Pn[Rr]=Fe(Tr,vn,nn,gr,Pr);for(Tr=Tr||Pn[0].width,vn=vn||Pn[0].height,_r?Gn=Oe(_r):Or&&!En&&(Gn=Fe(Tr,vn,Tn,"depth","uint32")),pn?gi=Oe(pn):En&&!Or&&(gi=Fe(Tr,vn,!1,"stencil","uint8")),en?bi=Oe(en):!_r&&!pn&&En&&Or&&(bi=Fe(Tr,vn,Tn,"depth stencil","depth stencil")),Or=null,Rr=0;Rr<Pn.length;++Rr)Ee(Pn[Rr]),Pn[Rr]&&Pn[Rr].texture&&(En=xt[Pn[Rr].texture._texture.format]*Ot[Pn[Rr].texture._texture.type],Or===null&&(Or=En));return Ee(Gn),Ee(gi),Ee(bi),cr(Qe),Qe.width=Tr,Qe.height=vn,Qe.colorAttachments=Pn,Qe.depthAttachment=Gn,Qe.stencilAttachment=gi,Qe.depthStencilAttachment=bi,nr.color=Pn.map(Be),nr.depth=Be(Gn),nr.stencil=Be(gi),nr.depthStencil=Be(bi),nr.width=Qe.width,nr.height=Qe.height,fr(Qe),nr}var Qe=new hr;return ye.framebufferCount++,nr(Pe,Ze),nt(nr,{resize:function(We,yr){var Rr=Math.max(We|0,1),Tr=Math.max(yr|0||Rr,1);if(Rr===Qe.width&&Tr===Qe.height)return nr;for(var vn=Qe.colorAttachments,Or=0;Or<vn.length;++Or)Je(vn[Or],Rr,Tr);return Je(Qe.depthAttachment,Rr,Tr),Je(Qe.stencilAttachment,Rr,Tr),Je(Qe.depthStencilAttachment,Rr,Tr),Qe.width=nr.width=Rr,Qe.height=nr.height=Tr,fr(Qe),nr},_reglType:"framebuffer",_framebuffer:Qe,destroy:function(){dr(Qe),cr(Qe)},use:function(We){xr.setFBO({framebuffer:nr},We)}})}var xr={cur:null,next:null,dirty:!1,setFBO:null},Qt=["rgba"],re=["rgba4","rgb565","rgb5 a1"];Xe.ext_srgb&&re.push("srgba"),Xe.ext_color_buffer_half_float&&re.push("rgba16f","rgb16f"),Xe.webgl_color_buffer_float&&re.push("rgba32f");var tr=["uint8"];Xe.oes_texture_half_float&&tr.push("half float","float16"),Xe.oes_texture_float&&tr.push("float","float32");var er=0,Ye={};return nt(xr,{getFramebuffer:function(Pe){return typeof Pe=="function"&&Pe._reglType==="framebuffer"&&(Pe=Pe._framebuffer,Pe instanceof hr)?Pe:null},create:Lr,createCube:function(Pe){function Ze(Qe){var We,yr={color:null},Rr=0,Tr=null;We="rgba";var vn="uint8",Or=1;if(typeof Qe=="number"?Rr=Qe|0:Qe?("shape"in Qe?Rr=Qe.shape[0]:("radius"in Qe&&(Rr=Qe.radius|0),"width"in Qe?Rr=Qe.width|0:"height"in Qe&&(Rr=Qe.height|0)),("color"in Qe||"colors"in Qe)&&(Tr=Qe.color||Qe.colors),Tr||("colorCount"in Qe&&(Or=Qe.colorCount|0),"colorType"in Qe&&(vn=Qe.colorType),"colorFormat"in Qe&&(We=Qe.colorFormat)),"depth"in Qe&&(yr.depth=Qe.depth),"stencil"in Qe&&(yr.stencil=Qe.stencil),"depthStencil"in Qe&&(yr.depthStencil=Qe.depthStencil)):Rr=1,Tr)if(Array.isArray(Tr))for(Qe=[],We=0;We<Tr.length;++We)Qe[We]=Tr[We];else Qe=[Tr];else for(Qe=Array(Or),Tr={radius:Rr,format:We,type:vn},We=0;We<Or;++We)Qe[We]=mr.createCube(Tr);for(yr.color=Array(Qe.length),We=0;We<Qe.length;++We)Or=Qe[We],Rr=Rr||Or.width,yr.color[We]={target:34069,data:Qe[We]};for(We=0;6>We;++We){for(Or=0;Or<Qe.length;++Or)yr.color[Or].target=34069+We;0<We&&(yr.depth=nr[0].depth,yr.stencil=nr[0].stencil,yr.depthStencil=nr[0].depthStencil),nr[We]?nr[We](yr):nr[We]=Lr(yr)}return nt(Ze,{width:Rr,height:Rr,color:Qe})}var nr=Array(6);return Ze(Pe),nt(Ze,{faces:nr,resize:function(Qe){var We=Qe|0;if(We===Ze.width)return Ze;var yr=Ze.color;for(Qe=0;Qe<yr.length;++Qe)yr[Qe].resize(We);for(Qe=0;6>Qe;++Qe)nr[Qe].resize(We);return Ze.width=Ze.height=We,Ze},_reglType:"framebufferCube",destroy:function(){nr.forEach(function(Qe){Qe.destroy()})}})},clear:function(){St(Ye).forEach(dr)},restore:function(){xr.cur=null,xr.next=null,xr.dirty=!0,St(Ye).forEach(function(Pe){Pe.framebuffer=ge.createFramebuffer(),fr(Pe)})}})}function U(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function F(ge,Xe,$e,mr,or,ye,ue){function be(fr){if(fr!==dr.currentVAO){var Lr=Xe.oes_vertex_array_object;fr?Lr.bindVertexArrayOES(fr.vao):Lr.bindVertexArrayOES(null),dr.currentVAO=fr}}function Ee(fr){if(fr!==dr.currentVAO){if(fr)fr.bindAttrs();else{for(var Lr=Xe.angle_instanced_arrays,xr=0;xr<Je.length;++xr){var Qt=Je[xr];Qt.buffer?(ge.enableVertexAttribArray(xr),Qt.buffer.bind(),ge.vertexAttribPointer(xr,Qt.size,Qt.type,Qt.normalized,Qt.stride,Qt.offfset),Lr&&Qt.divisor&&Lr.vertexAttribDivisorANGLE(xr,Qt.divisor)):(ge.disableVertexAttribArray(xr),ge.vertexAttrib4f(xr,Qt.x,Qt.y,Qt.z,Qt.w))}ue.elements?ge.bindBuffer(34963,ue.elements.buffer.buffer):ge.bindBuffer(34963,null)}dr.currentVAO=fr}}function _e(){St(cr).forEach(function(fr){fr.destroy()})}function Oe(){this.id=++hr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var fr=Xe.oes_vertex_array_object;this.vao=fr?fr.createVertexArrayOES():null,cr[this.id]=this,this.buffers=[]}function Fe(){Xe.oes_vertex_array_object&&St(cr).forEach(function(fr){fr.refresh()})}var Be=$e.maxAttributes,Je=Array(Be);for($e=0;$e<Be;++$e)Je[$e]=new U;var hr=0,cr={},dr={Record:U,scope:{},state:Je,currentVAO:null,targetVAO:null,restore:Xe.oes_vertex_array_object?Fe:function(){},createVAO:function(fr){function Lr(Qt){var re;Array.isArray(Qt)?(re=Qt,xr.elements&&xr.ownsElements&&xr.elements.destroy(),xr.elements=null,xr.ownsElements=!1,xr.offset=0,xr.count=0,xr.instances=-1,xr.primitive=4):(Qt.elements?(re=Qt.elements,xr.ownsElements?(typeof re=="function"&&re._reglType==="elements"?xr.elements.destroy():xr.elements(re),xr.ownsElements=!1):ye.getElements(Qt.elements)?(xr.elements=Qt.elements,xr.ownsElements=!1):(xr.elements=ye.create(Qt.elements),xr.ownsElements=!0)):(xr.elements=null,xr.ownsElements=!1),re=Qt.attributes,xr.offset=0,xr.count=-1,xr.instances=-1,xr.primitive=4,xr.elements&&(xr.count=xr.elements._elements.vertCount,xr.primitive=xr.elements._elements.primType),"offset"in Qt&&(xr.offset=Qt.offset|0),"count"in Qt&&(xr.count=Qt.count|0),"instances"in Qt&&(xr.instances=Qt.instances|0),"primitive"in Qt&&(xr.primitive=Jt[Qt.primitive])),Qt={};var tr=xr.attributes;tr.length=re.length;for(var er=0;er<re.length;++er){var Ye=re[er],Pe=tr[er]=new U,Ze=Ye.data||Ye;if(Array.isArray(Ze)||Ut(Ze)||f(Ze)){var nr;xr.buffers[er]&&(nr=xr.buffers[er],Ut(Ze)&&nr._buffer.byteLength>=Ze.byteLength?nr.subdata(Ze):(nr.destroy(),xr.buffers[er]=null)),xr.buffers[er]||(nr=xr.buffers[er]=or.create(Ye,34962,!1,!0)),Pe.buffer=or.getBuffer(nr),Pe.size=Pe.buffer.dimension|0,Pe.normalized=!1,Pe.type=Pe.buffer.dtype,Pe.offset=0,Pe.stride=0,Pe.divisor=0,Pe.state=1,Qt[er]=1}else or.getBuffer(Ye)?(Pe.buffer=or.getBuffer(Ye),Pe.size=Pe.buffer.dimension|0,Pe.normalized=!1,Pe.type=Pe.buffer.dtype,Pe.offset=0,Pe.stride=0,Pe.divisor=0,Pe.state=1):or.getBuffer(Ye.buffer)?(Pe.buffer=or.getBuffer(Ye.buffer),Pe.size=(+Ye.size||Pe.buffer.dimension)|0,Pe.normalized=!!Ye.normalized||!1,Pe.type="type"in Ye?zt[Ye.type]:Pe.buffer.dtype,Pe.offset=(Ye.offset||0)|0,Pe.stride=(Ye.stride||0)|0,Pe.divisor=(Ye.divisor||0)|0,Pe.state=1):"x"in Ye&&(Pe.x=+Ye.x||0,Pe.y=+Ye.y||0,Pe.z=+Ye.z||0,Pe.w=+Ye.w||0,Pe.state=2)}for(nr=0;nr<xr.buffers.length;++nr)!Qt[nr]&&xr.buffers[nr]&&(xr.buffers[nr].destroy(),xr.buffers[nr]=null);return xr.refresh(),Lr}var xr=new Oe;return mr.vaoCount+=1,Lr.destroy=function(){for(var Qt=0;Qt<xr.buffers.length;++Qt)xr.buffers[Qt]&&xr.buffers[Qt].destroy();xr.buffers.length=0,xr.ownsElements&&(xr.elements.destroy(),xr.elements=null,xr.ownsElements=!1),xr.destroy()},Lr._vao=xr,Lr._reglType="vao",Lr(fr)},getVAO:function(fr){return typeof fr=="function"&&fr._vao?fr._vao:null},destroyBuffer:function(fr){for(var Lr=0;Lr<Je.length;++Lr){var xr=Je[Lr];xr.buffer===fr&&(ge.disableVertexAttribArray(Lr),xr.buffer=null)}},setVAO:Xe.oes_vertex_array_object?be:Ee,clear:Xe.oes_vertex_array_object?_e:function(){}};return Oe.prototype.bindAttrs=function(){for(var fr=Xe.angle_instanced_arrays,Lr=this.attributes,xr=0;xr<Lr.length;++xr){var Qt=Lr[xr];Qt.buffer?(ge.enableVertexAttribArray(xr),ge.bindBuffer(34962,Qt.buffer.buffer),ge.vertexAttribPointer(xr,Qt.size,Qt.type,Qt.normalized,Qt.stride,Qt.offset),fr&&Qt.divisor&&fr.vertexAttribDivisorANGLE(xr,Qt.divisor)):(ge.disableVertexAttribArray(xr),ge.vertexAttrib4f(xr,Qt.x,Qt.y,Qt.z,Qt.w))}for(fr=Lr.length;fr<Be;++fr)ge.disableVertexAttribArray(fr);(fr=ye.getElements(this.elements))?ge.bindBuffer(34963,fr.buffer.buffer):ge.bindBuffer(34963,null)},Oe.prototype.refresh=function(){var fr=Xe.oes_vertex_array_object;fr&&(fr.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,fr.bindVertexArrayOES(null))},Oe.prototype.destroy=function(){if(this.vao){var fr=Xe.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,fr.bindVertexArrayOES(null)),fr.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),cr[this.id]&&(delete cr[this.id],--mr.vaoCount)},dr}function V(ge,Xe,$e,mr){function or(hr,cr,dr,fr){this.name=hr,this.id=cr,this.location=dr,this.info=fr}function ye(hr,cr){for(var dr=0;dr<hr.length;++dr)if(hr[dr].id===cr.id){hr[dr].location=cr.location;return}hr.push(cr)}function ue(hr,cr,dr){dr=hr===35632?_e:Oe;var fr=dr[cr];if(!fr){var Lr=Xe.str(cr),fr=ge.createShader(hr);ge.shaderSource(fr,Lr),ge.compileShader(fr),dr[cr]=fr}return fr}function be(hr,cr){this.id=Je++,this.fragId=hr,this.vertId=cr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,mr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ee(hr,cr,dr){var fr;fr=ue(35632,hr.fragId);var Lr=ue(35633,hr.vertId);if(cr=hr.program=ge.createProgram(),ge.attachShader(cr,fr),ge.attachShader(cr,Lr),dr)for(fr=0;fr<dr.length;++fr)Lr=dr[fr],ge.bindAttribLocation(cr,Lr[0],Lr[1]);ge.linkProgram(cr),Lr=ge.getProgramParameter(cr,35718),mr.profile&&(hr.stats.uniformsCount=Lr);var xr=hr.uniforms;for(fr=0;fr<Lr;++fr)if(dr=ge.getActiveUniform(cr,fr))if(1<dr.size)for(var Qt=0;Qt<dr.size;++Qt){var re=dr.name.replace("[0]","["+Qt+"]");ye(xr,new or(re,Xe.id(re),ge.getUniformLocation(cr,re),dr))}else ye(xr,new or(dr.name,Xe.id(dr.name),ge.getUniformLocation(cr,dr.name),dr));for(Lr=ge.getProgramParameter(cr,35721),mr.profile&&(hr.stats.attributesCount=Lr),hr=hr.attributes,fr=0;fr<Lr;++fr)(dr=ge.getActiveAttrib(cr,fr))&&ye(hr,new or(dr.name,Xe.id(dr.name),ge.getAttribLocation(cr,dr.name),dr))}var _e={},Oe={},Fe={},Be=[],Je=0;return mr.profile&&($e.getMaxUniformsCount=function(){var hr=0;return Be.forEach(function(cr){cr.stats.uniformsCount>hr&&(hr=cr.stats.uniformsCount)}),hr},$e.getMaxAttributesCount=function(){var hr=0;return Be.forEach(function(cr){cr.stats.attributesCount>hr&&(hr=cr.stats.attributesCount)}),hr}),{clear:function(){var hr=ge.deleteShader.bind(ge);St(_e).forEach(hr),_e={},St(Oe).forEach(hr),Oe={},Be.forEach(function(cr){ge.deleteProgram(cr.program)}),Be.length=0,Fe={},$e.shaderCount=0},program:function(hr,cr,dr,fr){var Lr=Fe[cr];Lr||(Lr=Fe[cr]={});var xr=Lr[hr];if(xr&&(xr.refCount++,!fr))return xr;var Qt=new be(cr,hr);return $e.shaderCount++,Ee(Qt,dr,fr),xr||(Lr[hr]=Qt),Be.push(Qt),nt(Qt,{destroy:function(){if(Qt.refCount--,0>=Qt.refCount){ge.deleteProgram(Qt.program);var re=Be.indexOf(Qt);Be.splice(re,1),$e.shaderCount--}0>=Lr[Qt.vertId].refCount&&(ge.deleteShader(Oe[Qt.vertId]),delete Oe[Qt.vertId],delete Fe[Qt.fragId][Qt.vertId]),Object.keys(Fe[Qt.fragId]).length||(ge.deleteShader(_e[Qt.fragId]),delete _e[Qt.fragId],delete Fe[Qt.fragId])}})},restore:function(){_e={},Oe={};for(var hr=0;hr<Be.length;++hr)Ee(Be[hr],null,Be[hr].attributes.map(function(cr){return[cr.location,cr.name]}))},shader:ue,frag:-1,vert:-1}}function N(ge,Xe,$e,mr,or,ye,ue){function be(_e){var Oe;Oe=Xe.next===null?5121:Xe.next.colorAttachments[0].texture._texture.type;var Fe=0,Be=0,Je=mr.framebufferWidth,hr=mr.framebufferHeight,cr=null;return Ut(_e)?cr=_e:_e&&(Fe=_e.x|0,Be=_e.y|0,Je=(_e.width||mr.framebufferWidth-Fe)|0,hr=(_e.height||mr.framebufferHeight-Be)|0,cr=_e.data||null),$e(),_e=Je*hr*4,cr||(Oe===5121?cr=new Uint8Array(_e):Oe===5126&&(cr=cr||new Float32Array(_e))),ge.pixelStorei(3333,4),ge.readPixels(Fe,Be,Je,hr,6408,Oe,cr),cr}function Ee(_e){var Oe;return Xe.setFBO({framebuffer:_e.framebuffer},function(){Oe=be(_e)}),Oe}return function(_e){return _e&&"framebuffer"in _e?Ee(_e):be(_e)}}function O(ge){for(var Xe=Array(ge.length>>2),mr=0;mr<Xe.length;mr++)Xe[mr]=0;for(mr=0;mr<8*ge.length;mr+=8)Xe[mr>>5]|=(ge.charCodeAt(mr/8)&255)<<24-mr%32;var $e=8*ge.length;ge=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var mr=Array(64),or,ye,ue,be,Ee,_e,Oe,Fe,Be,Je,hr;for(Xe[$e>>5]|=128<<24-$e%32,Xe[($e+64>>9<<4)+15]=$e,Fe=0;Fe<Xe.length;Fe+=16){for($e=ge[0],or=ge[1],ye=ge[2],ue=ge[3],be=ge[4],Ee=ge[5],_e=ge[6],Oe=ge[7],Be=0;64>Be;Be++){if(16>Be)mr[Be]=Xe[Be+Fe];else{Je=Be,hr=mr[Be-2],hr=J(hr,17)^J(hr,19)^hr>>>10,hr=et(hr,mr[Be-7]);var cr;cr=mr[Be-15],cr=J(cr,7)^J(cr,18)^cr>>>3,mr[Je]=et(et(hr,cr),mr[Be-16])}Je=be,Je=J(Je,6)^J(Je,11)^J(Je,25),Je=et(et(et(et(Oe,Je),be&Ee^~be&_e),jt[Be]),mr[Be]),Oe=$e,Oe=J(Oe,2)^J(Oe,13)^J(Oe,22),hr=et(Oe,$e&or^$e&ye^or&ye),Oe=_e,_e=Ee,Ee=be,be=et(ue,Je),ue=ye,ye=or,or=$e,$e=et(Je,hr)}ge[0]=et($e,ge[0]),ge[1]=et(or,ge[1]),ge[2]=et(ye,ge[2]),ge[3]=et(ue,ge[3]),ge[4]=et(be,ge[4]),ge[5]=et(Ee,ge[5]),ge[6]=et(_e,ge[6]),ge[7]=et(Oe,ge[7])}for(Xe="",mr=0;mr<32*ge.length;mr+=8)Xe+=String.fromCharCode(ge[mr>>5]>>>24-mr%32&255);return Xe}function H(ge){for(var Xe="",$e,mr=0;mr<ge.length;mr++)$e=ge.charCodeAt(mr),Xe+="0123456789abcdef".charAt($e>>>4&15)+"0123456789abcdef".charAt($e&15);return Xe}function X(ge){for(var Xe="",$e=-1,mr,or;++$e<ge.length;)mr=ge.charCodeAt($e),or=$e+1<ge.length?ge.charCodeAt($e+1):0,55296<=mr&&56319>=mr&&56320<=or&&57343>=or&&(mr=65536+((mr&1023)<<10)+(or&1023),$e++),127>=mr?Xe+=String.fromCharCode(mr):2047>=mr?Xe+=String.fromCharCode(192|mr>>>6&31,128|mr&63):65535>=mr?Xe+=String.fromCharCode(224|mr>>>12&15,128|mr>>>6&63,128|mr&63):2097151>=mr&&(Xe+=String.fromCharCode(240|mr>>>18&7,128|mr>>>12&63,128|mr>>>6&63,128|mr&63));return Xe}function J(ge,Xe){return ge>>>Xe|ge<<32-Xe}function et(ge,Xe){var $e=(ge&65535)+(Xe&65535);return(ge>>16)+(Xe>>16)+($e>>16)<<16|$e&65535}function it(ge){return Array.prototype.slice.call(ge)}function ft(ge){return it(ge).join("")}function ot(ge){function Xe(){var Oe=[],Fe=[];return nt(function(){Oe.push.apply(Oe,it(arguments))},{def:function(){var Be="v"+or++;return Fe.push(Be),0<arguments.length&&(Oe.push(Be,"="),Oe.push.apply(Oe,it(arguments)),Oe.push(";")),Be},toString:function(){return ft([0<Fe.length?"var "+Fe.join(",")+";":"",ft(Oe)])}})}function $e(){function Oe(cr,dr){Be(cr,dr,"=",Fe.def(cr,dr),";")}var Fe=Xe(),Be=Xe(),Je=Fe.toString,hr=Be.toString;return nt(function(){Fe.apply(Fe,it(arguments))},{def:Fe.def,entry:Fe,exit:Be,save:Oe,set:function(cr,dr,fr){Oe(cr,dr),Fe(cr,dr,"=",fr,";")},toString:function(){return Je()+hr()}})}var mr=ge&&ge.cache,or=0,ye=[],ue=[],be=[],Ee=Xe(),_e={};return{global:Ee,link:function(Oe,Fe){var Be=Fe&&Fe.stable;if(!Be){for(var Je=0;Je<ue.length;++Je)if(ue[Je]===Oe&&!be[Je])return ye[Je]}return Je="g"+or++,ye.push(Je),ue.push(Oe),be.push(Be),Je},block:Xe,proc:function(Oe,Fe){function Be(){var dr="a"+Je.length;return Je.push(dr),dr}var Je=[];Fe=Fe||0;for(var hr=0;hr<Fe;++hr)Be();var hr=$e(),cr=hr.toString;return _e[Oe]=nt(hr,{arg:Be,toString:function(){return ft(["function(",Je.join(),"){",cr(),"}"])}})},scope:$e,cond:function(){var Oe=ft(arguments),Fe=$e(),Be=$e(),Je=Fe.toString,hr=Be.toString;return nt(Fe,{then:function(){return Fe.apply(Fe,it(arguments)),this},else:function(){return Be.apply(Be,it(arguments)),this},toString:function(){var cr=hr();return cr&&(cr="else{"+cr+"}"),ft(["if(",Oe,"){",Je(),"}",cr])}})},compile:function(){var Oe=['"use strict";',Ee,"return {"];Object.keys(_e).forEach(function(Je){Oe.push('"',Je,'":',_e[Je].toString(),",")}),Oe.push("}");var Fe=ft(Oe).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Be;return mr&&(Be=H(O(X(Fe))),mr[Be])?mr[Be].apply(null,ue):(Fe=Function.apply(null,ye.concat(Fe)),mr&&(mr[Be]=Fe),Fe.apply(null,ue))}}}function Q(ge){return Array.isArray(ge)||Ut(ge)||f(ge)}function tt(ge){return ge.sort(function(Xe,$e){return Xe==="viewport"?-1:$e==="viewport"?1:Xe<$e?-1:1})}function Z(ge,Xe,$e,mr){this.thisDep=ge,this.contextDep=Xe,this.propDep=$e,this.append=mr}function q(ge){return ge&&!(ge.thisDep||ge.contextDep||ge.propDep)}function ut(ge){return new Z(!1,!1,!1,ge)}function $(ge,Xe){var $e=ge.type;if($e===0)return $e=ge.data.length,new Z(!0,1<=$e,2<=$e,Xe);if($e===4)return $e=ge.data,new Z($e.thisDep,$e.contextDep,$e.propDep,Xe);if($e===5)return new Z(!1,!1,!1,Xe);if($e===6){for(var mr=$e=!1,or=!1,ye=0;ye<ge.data.length;++ye){var ue=ge.data[ye];ue.type===1?or=!0:ue.type===2?mr=!0:ue.type===3?$e=!0:ue.type===0?($e=!0,ue=ue.data,1<=ue&&(mr=!0),2<=ue&&(or=!0)):ue.type===4&&($e=$e||ue.data.thisDep,mr=mr||ue.data.contextDep,or=or||ue.data.propDep)}return new Z($e,mr,or,Xe)}return new Z($e===3,$e===2,$e===1,Xe)}function j(ge,Xe,$e,mr,or,ye,ue,be,Ee,_e,Oe,Fe,Be,Je,hr,cr){function dr(Ar){return Ar.replace(".","_")}function fr(Ar,Br,Sr){var Nr=dr(Ar);gn.push(Ar),Bn[Nr]=ln[Nr]=!!Sr,Cn[Nr]=Br}function Lr(Ar,Br,Sr){var Nr=dr(Ar);gn.push(Ar),Array.isArray(Sr)?(ln[Nr]=Sr.slice(),Bn[Nr]=Sr.slice()):ln[Nr]=Bn[Nr]=Sr,Nn[Nr]=Br}function xr(){var Ar=ot({cache:hr}),Br=Ar.link,Sr=Ar.global;Ar.id=Di++,Ar.batchId="0";var Nr=Br($n),un=Ar.shared={props:"a0"};Object.keys($n).forEach(function(Yr){un[Yr]=Sr.def(Nr,".",Yr)});var Rn=Ar.next={},mn=Ar.current={};Object.keys(Nn).forEach(function(Yr){Array.isArray(ln[Yr])&&(Rn[Yr]=Sr.def(un.next,".",Yr),mn[Yr]=Sr.def(un.current,".",Yr))});var cn=Ar.constants={};Object.keys(vi).forEach(function(Yr){cn[Yr]=Sr.def(JSON.stringify(vi[Yr]))}),Ar.invoke=function(Yr,Gr){switch(Gr.type){case 0:var $r=["this",un.context,un.props,Ar.batchId];return Yr.def(Br(Gr.data),".call(",$r.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return Yr.def(un.props,Gr.data);case 2:return Yr.def(un.context,Gr.data);case 3:return Yr.def("this",Gr.data);case 4:return Gr.data.append(Ar,Yr),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(wn){return Ar.invoke(Yr,wn)})}},Ar.attribCache={};var Er={};return Ar.scopeAttrib=function(Yr){if(Yr=Xe.id(Yr),Yr in Er)return Er[Yr];var Gr=_e.scope[Yr];return Gr||(Gr=_e.scope[Yr]=new ni),Er[Yr]=Br(Gr)},Ar}function Qt(Ar){var Br=Ar.static;Ar=Ar.dynamic;var Sr;if("profile"in Br){var Nr=!!Br.profile;Sr=ut(function(Rn,mn){return Nr}),Sr.enable=Nr}else if("profile"in Ar){var un=Ar.profile;Sr=$(un,function(Rn,mn){return Rn.invoke(mn,un)})}return Sr}function re(Ar,Br){var Sr=Ar.static,Nr=Ar.dynamic;if("framebuffer"in Sr){var un=Sr.framebuffer;return un?(un=be.getFramebuffer(un),ut(function(mn,cn){var Er=mn.link(un),Yr=mn.shared;return cn.set(Yr.framebuffer,".next",Er),Yr=Yr.context,cn.set(Yr,".framebufferWidth",Er+".width"),cn.set(Yr,".framebufferHeight",Er+".height"),Er})):ut(function(mn,cn){var Er=mn.shared;return cn.set(Er.framebuffer,".next","null"),Er=Er.context,cn.set(Er,".framebufferWidth",Er+".drawingBufferWidth"),cn.set(Er,".framebufferHeight",Er+".drawingBufferHeight"),"null"})}if("framebuffer"in Nr){var Rn=Nr.framebuffer;return $(Rn,function(mn,cn){var Gr=mn.invoke(cn,Rn),Er=mn.shared,Yr=Er.framebuffer,Gr=cn.def(Yr,".getFramebuffer(",Gr,")");return cn.set(Yr,".next",Gr),Er=Er.context,cn.set(Er,".framebufferWidth",Gr+"?"+Gr+".width:"+Er+".drawingBufferWidth"),cn.set(Er,".framebufferHeight",Gr+"?"+Gr+".height:"+Er+".drawingBufferHeight"),Gr})}return null}function tr(Ar,Br,Sr){function Nr(cn){if(cn in un){var Er=un[cn];cn=!0;var Yr=Er.x|0,Gr=Er.y|0,$r,wn;return"width"in Er?$r=Er.width|0:cn=!1,"height"in Er?wn=Er.height|0:cn=!1,new Z(!cn&&Br&&Br.thisDep,!cn&&Br&&Br.contextDep,!cn&&Br&&Br.propDep,function(On,Un){var zn=On.shared.context,Yn=$r;"width"in Er||(Yn=Un.def(zn,".","framebufferWidth","-",Yr));var Zn=wn;return"height"in Er||(Zn=Un.def(zn,".","framebufferHeight","-",Gr)),[Yr,Gr,Yn,Zn]})}if(cn in Rn){var An=Rn[cn];return cn=$(An,function(On,Un){var Li=On.invoke(Un,An),zn=On.shared.context,Yn=Un.def(Li,".x|0"),Zn=Un.def(Li,".y|0"),si=Un.def('"width" in ',Li,"?",Li,".width|0:","(",zn,".","framebufferWidth","-",Yn,")"),Li=Un.def('"height" in ',Li,"?",Li,".height|0:","(",zn,".","framebufferHeight","-",Zn,")");return[Yn,Zn,si,Li]}),Br&&(cn.thisDep=cn.thisDep||Br.thisDep,cn.contextDep=cn.contextDep||Br.contextDep,cn.propDep=cn.propDep||Br.propDep),cn}return Br?new Z(Br.thisDep,Br.contextDep,Br.propDep,function(On,Un){var zn=On.shared.context;return[0,0,Un.def(zn,".","framebufferWidth"),Un.def(zn,".","framebufferHeight")]}):null}var un=Ar.static,Rn=Ar.dynamic;if(Ar=Nr("viewport")){var mn=Ar;Ar=new Z(Ar.thisDep,Ar.contextDep,Ar.propDep,function(cn,Er){var Yr=mn.append(cn,Er),Gr=cn.shared.context;return Er.set(Gr,".viewportWidth",Yr[2]),Er.set(Gr,".viewportHeight",Yr[3]),Yr})}return{viewport:Ar,scissor_box:Nr("scissor.box")}}function er(Ar,Br){var Sr=Ar.static;if(typeof Sr.frag=="string"&&typeof Sr.vert=="string"){if(0<Object.keys(Br.dynamic).length)return null;var Sr=Br.static,Nr=Object.keys(Sr);if(0<Nr.length&&typeof Sr[Nr[0]]=="number"){for(var un=[],Rn=0;Rn<Nr.length;++Rn)un.push([Sr[Nr[Rn]]|0,Nr[Rn]]);return un}}return null}function Ye(Ar,Br,Sr){function Nr(Yr){if(Yr in un){var Gr=Xe.id(un[Yr]);return Yr=ut(function(){return Gr}),Yr.id=Gr,Yr}if(Yr in Rn){var $r=Rn[Yr];return $($r,function(wn,An){var On=wn.invoke(An,$r);return An.def(wn.shared.strings,".id(",On,")")})}return null}var un=Ar.static,Rn=Ar.dynamic,mn=Nr("frag"),cn=Nr("vert"),Er=null;return q(mn)&&q(cn)?(Er=Oe.program(cn.id,mn.id,null,Sr),Ar=ut(function(Yr,Gr){return Yr.link(Er)})):Ar=new Z(mn&&mn.thisDep||cn&&cn.thisDep,mn&&mn.contextDep||cn&&cn.contextDep,mn&&mn.propDep||cn&&cn.propDep,function(Yr,Gr){var $r=Yr.shared.shader,wn;wn=mn?mn.append(Yr,Gr):Gr.def($r,".","frag");var An;return An=cn?cn.append(Yr,Gr):Gr.def($r,".","vert"),Gr.def($r+".program("+An+","+wn+")")}),{frag:mn,vert:cn,progVar:Ar,program:Er}}function Pe(Ar,Br){function Sr(On,Un){if(On in Nr){var zn=Nr[On]|0;return Un?Rn.offset=zn:Rn.instances=zn,ut(function(Zn,si){return Un&&(Zn.OFFSET=zn),zn})}if(On in un){var Yn=un[On];return $(Yn,function(Zn,si){var Li=Zn.invoke(si,Yn);return Un&&(Zn.OFFSET=Li),Li})}if(Un){if(Er)return ut(function(Zn,si){return Zn.OFFSET=0});if(mn)return new Z(cn.thisDep,cn.contextDep,cn.propDep,function(Zn,si){return si.def(Zn.shared.vao+".currentVAO?"+Zn.shared.vao+".currentVAO.offset:0")})}else if(mn)return new Z(cn.thisDep,cn.contextDep,cn.propDep,function(Zn,si){return si.def(Zn.shared.vao+".currentVAO?"+Zn.shared.vao+".currentVAO.instances:-1")});return null}var Nr=Ar.static,un=Ar.dynamic,Rn={},mn=!1,cn=function(){if("vao"in Nr){var On=Nr.vao;return On!==null&&_e.getVAO(On)===null&&(On=_e.createVAO(On)),mn=!0,Rn.vao=On,ut(function(zn){var Yn=_e.getVAO(On);return Yn?zn.link(Yn):"null"})}if("vao"in un){mn=!0;var Un=un.vao;return $(Un,function(zn,Yn){var Zn=zn.invoke(Yn,Un);return Yn.def(zn.shared.vao+".getVAO("+Zn+")")})}return null}(),Er=!1,Yr=function(){if("elements"in Nr){var On=Nr.elements;if(Rn.elements=On,Q(On)){var Un=Rn.elements=ye.create(On,!0),On=ye.getElements(Un);Er=!0}else On&&(On=ye.getElements(On),Er=!0);return Un=ut(function(Yn,Zn){if(On){var si=Yn.link(On);return Yn.ELEMENTS=si}return Yn.ELEMENTS=null}),Un.value=On,Un}if("elements"in un){Er=!0;var zn=un.elements;return $(zn,function(Yn,Zn){var si=Yn.shared,Ma=si.isBufferArgs,si=si.elements,sa=Yn.invoke(Zn,zn),Li=Zn.def("null"),Ma=Zn.def(Ma,"(",sa,")"),sa=Yn.cond(Ma).then(Li,"=",si,".createStream(",sa,");").else(Li,"=",si,".getElements(",sa,");");return Zn.entry(sa),Zn.exit(Yn.cond(Ma).then(si,".destroyStream(",Li,");")),Yn.ELEMENTS=Li})}return mn?new Z(cn.thisDep,cn.contextDep,cn.propDep,function(Yn,Zn){return Zn.def(Yn.shared.vao+".currentVAO?"+Yn.shared.elements+".getElements("+Yn.shared.vao+".currentVAO.elements):null")}):null}(),Gr=Sr("offset",!0),$r=function(){if("primitive"in Nr){var On=Nr.primitive;return Rn.primitive=On,ut(function(zn,Yn){return Jt[On]})}if("primitive"in un){var Un=un.primitive;return $(Un,function(zn,Yn){var Zn=zn.constants.primTypes,si=zn.invoke(Yn,Un);return Yn.def(Zn,"[",si,"]")})}return Er?q(Yr)?Yr.value?ut(function(zn,Yn){return Yn.def(zn.ELEMENTS,".primType")}):ut(function(){return 4}):new Z(Yr.thisDep,Yr.contextDep,Yr.propDep,function(zn,Yn){var Zn=zn.ELEMENTS;return Yn.def(Zn,"?",Zn,".primType:",4)}):mn?new Z(cn.thisDep,cn.contextDep,cn.propDep,function(zn,Yn){return Yn.def(zn.shared.vao+".currentVAO?"+zn.shared.vao+".currentVAO.primitive:4")}):null}(),wn=function(){if("count"in Nr){var On=Nr.count|0;return Rn.count=On,ut(function(){return On})}if("count"in un){var Un=un.count;return $(Un,function(zn,Yn){return zn.invoke(Yn,Un)})}return Er?q(Yr)?Yr?Gr?new Z(Gr.thisDep,Gr.contextDep,Gr.propDep,function(zn,Yn){return Yn.def(zn.ELEMENTS,".vertCount-",zn.OFFSET)}):ut(function(zn,Yn){return Yn.def(zn.ELEMENTS,".vertCount")}):ut(function(){return-1}):new Z(Yr.thisDep||Gr.thisDep,Yr.contextDep||Gr.contextDep,Yr.propDep||Gr.propDep,function(zn,Yn){var Zn=zn.ELEMENTS;return zn.OFFSET?Yn.def(Zn,"?",Zn,".vertCount-",zn.OFFSET,":-1"):Yn.def(Zn,"?",Zn,".vertCount:-1")}):mn?new Z(cn.thisDep,cn.contextDep,cn.propDep,function(zn,Yn){return Yn.def(zn.shared.vao,".currentVAO?",zn.shared.vao,".currentVAO.count:-1")}):null}(),An=Sr("instances",!1);return{elements:Yr,primitive:$r,count:wn,instances:An,offset:Gr,vao:cn,vaoActive:mn,elementsActive:Er,static:Rn}}function Ze(Ar,Br){var Sr=Ar.static,Nr=Ar.dynamic,un={};return gn.forEach(function(Rn){function mn(Er,Yr){if(Rn in Sr){var Gr=Er(Sr[Rn]);un[cn]=ut(function(){return Gr})}else if(Rn in Nr){var $r=Nr[Rn];un[cn]=$($r,function(wn,An){return Yr(wn,An,wn.invoke(An,$r))})}}var cn=dr(Rn);switch(Rn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return mn(function(Er){return Er},function(Er,Yr,Gr){return Gr});case"depth.func":return mn(function(Er){return je[Er]},function(Er,Yr,Gr){return Yr.def(Er.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return mn(function(Er){return Er},function(Er,Yr,Gr){return Er=Yr.def("+",Gr,"[0]"),Yr=Yr.def("+",Gr,"[1]"),[Er,Yr]});case"blend.func":return mn(function(Er){return[Ve["srcRGB"in Er?Er.srcRGB:Er.src],Ve["dstRGB"in Er?Er.dstRGB:Er.dst],Ve["srcAlpha"in Er?Er.srcAlpha:Er.src],Ve["dstAlpha"in Er?Er.dstAlpha:Er.dst]]},function(Er,Yr,Gr){function $r(Un,zn){return Yr.def('"',Un,zn,'" in ',Gr,"?",Gr,".",Un,zn,":",Gr,".",Un)}Er=Er.constants.blendFuncs;var wn=$r("src","RGB"),On=$r("dst","RGB"),wn=Yr.def(Er,"[",wn,"]"),An=Yr.def(Er,"[",$r("src","Alpha"),"]"),On=Yr.def(Er,"[",On,"]");return Er=Yr.def(Er,"[",$r("dst","Alpha"),"]"),[wn,On,An,Er]});case"blend.equation":return mn(function(Er){if(typeof Er=="string")return[Dn[Er],Dn[Er]];if(typeof Er=="object")return[Dn[Er.rgb],Dn[Er.alpha]]},function(Er,Yr,Gr){var $r=Er.constants.blendEquations,wn=Yr.def(),An=Yr.def();return Er=Er.cond("typeof ",Gr,'==="string"'),Er.then(wn,"=",An,"=",$r,"[",Gr,"];"),Er.else(wn,"=",$r,"[",Gr,".rgb];",An,"=",$r,"[",Gr,".alpha];"),Yr(Er),[wn,An]});case"blend.color":return mn(function(Er){return o(4,function(Yr){return+Er[Yr]})},function(Er,Yr,Gr){return o(4,function($r){return Yr.def("+",Gr,"[",$r,"]")})});case"stencil.mask":return mn(function(Er){return Er|0},function(Er,Yr,Gr){return Yr.def(Gr,"|0")});case"stencil.func":return mn(function(Er){return[je[Er.cmp||"keep"],Er.ref||0,"mask"in Er?Er.mask:-1]},function(Er,Yr,Gr){Er=Yr.def('"cmp" in ',Gr,"?",Er.constants.compareFuncs,"[",Gr,".cmp]",":",7680);var $r=Yr.def(Gr,".ref|0");return Yr=Yr.def('"mask" in ',Gr,"?",Gr,".mask|0:-1"),[Er,$r,Yr]});case"stencil.opFront":case"stencil.opBack":return mn(function(Er){return[Rn==="stencil.opBack"?1029:1028,Te[Er.fail||"keep"],Te[Er.zfail||"keep"],Te[Er.zpass||"keep"]]},function(Er,Yr,Gr){function $r(An){return Yr.def('"',An,'" in ',Gr,"?",wn,"[",Gr,".",An,"]:",7680)}var wn=Er.constants.stencilOps;return[Rn==="stencil.opBack"?1029:1028,$r("fail"),$r("zfail"),$r("zpass")]});case"polygonOffset.offset":return mn(function(Er){return[Er.factor|0,Er.units|0]},function(Er,Yr,Gr){return Er=Yr.def(Gr,".factor|0"),Yr=Yr.def(Gr,".units|0"),[Er,Yr]});case"cull.face":return mn(function(Er){var Yr=0;return Er==="front"?Yr=1028:Er==="back"&&(Yr=1029),Yr},function(Er,Yr,Gr){return Yr.def(Gr,'==="front"?',1028,":",1029)});case"lineWidth":return mn(function(Er){return Er},function(Er,Yr,Gr){return Gr});case"frontFace":return mn(function(Er){return Le[Er]},function(Er,Yr,Gr){return Yr.def(Gr+'==="cw"?2304:2305')});case"colorMask":return mn(function(Er){return Er.map(function(Yr){return!!Yr})},function(Er,Yr,Gr){return o(4,function($r){return"!!"+Gr+"["+$r+"]"})});case"sample.coverage":return mn(function(Er){return["value"in Er?Er.value:1,!!Er.invert]},function(Er,Yr,Gr){return Er=Yr.def('"value" in ',Gr,"?+",Gr,".value:1"),Yr=Yr.def("!!",Gr,".invert"),[Er,Yr]})}}),un}function nr(Ar,Br){var Sr=Ar.static,Nr=Ar.dynamic,un={};return Object.keys(Sr).forEach(function(Rn){var mn=Sr[Rn],cn;if(typeof mn=="number"||typeof mn=="boolean")cn=ut(function(){return mn});else if(typeof mn=="function"){var Er=mn._reglType;Er==="texture2d"||Er==="textureCube"?cn=ut(function(Yr){return Yr.link(mn)}):(Er==="framebuffer"||Er==="framebufferCube")&&(cn=ut(function(Yr){return Yr.link(mn.color[0])}))}else A(mn)&&(cn=ut(function(Yr){return Yr.global.def("[",o(mn.length,function(Gr){return mn[Gr]}),"]")}));cn.value=mn,un[Rn]=cn}),Object.keys(Nr).forEach(function(Rn){var mn=Nr[Rn];un[Rn]=$(mn,function(cn,Er){return cn.invoke(Er,mn)})}),un}function Qe(Ar,Br){var Sr=Ar.static,Nr=Ar.dynamic,un={};return Object.keys(Sr).forEach(function(Rn){var mn=Sr[Rn],cn=Xe.id(Rn),Er=new ni;if(Q(mn))Er.state=1,Er.buffer=or.getBuffer(or.create(mn,34962,!1,!0)),Er.type=0;else{var Yr=or.getBuffer(mn);if(Yr)Er.state=1,Er.buffer=Yr,Er.type=0;else if("constant"in mn){var Gr=mn.constant;Er.buffer="null",Er.state=2,typeof Gr=="number"?Er.x=Gr:ie.forEach(function(zn,Yn){Yn<Gr.length&&(Er[zn]=Gr[Yn])})}else{var Yr=Q(mn.buffer)?or.getBuffer(or.create(mn.buffer,34962,!1,!0)):or.getBuffer(mn.buffer),$r=mn.offset|0,wn=mn.stride|0,An=mn.size|0,On=!!mn.normalized,Un=0;"type"in mn&&(Un=zt[mn.type]),mn=mn.divisor|0,Er.buffer=Yr,Er.state=1,Er.size=An,Er.normalized=On,Er.type=Un||Yr.dtype,Er.offset=$r,Er.stride=wn,Er.divisor=mn}}un[Rn]=ut(function(zn,Yn){var Zn=zn.attribCache;if(cn in Zn)return Zn[cn];var si={isStream:!1};return Object.keys(Er).forEach(function(Li){si[Li]=Er[Li]}),Er.buffer&&(si.buffer=zn.link(Er.buffer),si.type=si.type||si.buffer+".dtype"),Zn[cn]=si})}),Object.keys(Nr).forEach(function(Rn){var mn=Nr[Rn];un[Rn]=$(mn,function(cn,Er){function Yr(Zn){Er(On[Zn],"=",Gr,".",Zn,"|0;")}var Gr=cn.invoke(Er,mn),An=cn.shared,$r=cn.constants,wn=An.isBufferArgs,An=An.buffer,On={isStream:Er.def(!1)},Un=new ni;Un.state=1,Object.keys(Un).forEach(function(Zn){On[Zn]=Er.def(""+Un[Zn])});var zn=On.buffer,Yn=On.type;return Er("if(",wn,"(",Gr,")){",On.isStream,"=true;",zn,"=",An,".createStream(",34962,",",Gr,");",Yn,"=",zn,".dtype;","}else{",zn,"=",An,".getBuffer(",Gr,");","if(",zn,"){",Yn,"=",zn,".dtype;",'}else if("constant" in ',Gr,"){",On.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',On[ie[0]],"=",Gr,".constant;",ie.slice(1).map(function(Zn){return On[Zn]}).join("="),"=0;","}else{",ie.map(function(Zn,si){return On[Zn]+"="+Gr+".constant.length>"+si+"?"+Gr+".constant["+si+"]:0;"}).join(""),"}}else{","if(",wn,"(",Gr,".buffer)){",zn,"=",An,".createStream(",34962,",",Gr,".buffer);","}else{",zn,"=",An,".getBuffer(",Gr,".buffer);","}",Yn,'="type" in ',Gr,"?",$r.glTypes,"[",Gr,".type]:",zn,".dtype;",On.normalized,"=!!",Gr,".normalized;"),Yr("size"),Yr("offset"),Yr("stride"),Yr("divisor"),Er("}}"),Er.exit("if(",On.isStream,"){",An,".destroyStream(",zn,");","}"),On})}),un}function We(Ar){var Br=Ar.static,Sr=Ar.dynamic,Nr={};return Object.keys(Br).forEach(function(un){var Rn=Br[un];Nr[un]=ut(function(mn,cn){return typeof Rn=="number"||typeof Rn=="boolean"?""+Rn:mn.link(Rn)})}),Object.keys(Sr).forEach(function(un){var Rn=Sr[un];Nr[un]=$(Rn,function(mn,cn){return mn.invoke(cn,Rn)})}),Nr}function yr(Ar,Br,Sr,Nr,un){function Rn(Un){var zn=cn[Un];zn&&(Yr[Un]=zn)}var mn=er(Ar,Br),wn=re(Ar),cn=tr(Ar,wn),Er=Pe(Ar),Yr=Ze(Ar),Gr=Ye(Ar,un,mn);Rn("viewport"),Rn(dr("scissor.box"));var $r=0<Object.keys(Yr).length,wn={framebuffer:wn,draw:Er,shader:Gr,state:Yr,dirty:$r,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(wn.profile=Qt(Ar),wn.uniforms=nr(Sr),wn.drawVAO=wn.scopeVAO=Er.vao,!wn.drawVAO&&Gr.program&&!mn&&$e.angle_instanced_arrays&&Er.static.elements){var An=!0;if(Ar=Gr.program.attributes.map(function(Un){return Un=Br.static[Un],An=An&&!!Un,Un}),An&&0<Ar.length){var On=_e.getVAO(_e.createVAO({attributes:Ar,elements:Er.static.elements}));wn.drawVAO=new Z(null,null,null,function(Un,zn){return Un.link(On)}),wn.useVAO=!0}}return mn?wn.useVAO=!0:wn.attributes=Qe(Br),wn.context=We(Nr),wn}function Rr(Ar,Br,Sr){var Nr=Ar.shared.context,un=Ar.scope();Object.keys(Sr).forEach(function(Rn){Br.save(Nr,"."+Rn);var mn=Sr[Rn].append(Ar,Br);Array.isArray(mn)?un(Nr,".",Rn,"=[",mn.join(),"];"):un(Nr,".",Rn,"=",mn,";")}),Br(un)}function Tr(Ar,Br,Sr,Nr){var cn=Ar.shared,un=cn.gl,Rn=cn.framebuffer,mn;an&&(mn=Br.def(cn.extensions,".webgl_draw_buffers"));var Er=Ar.constants,cn=Er.drawBuffer,Er=Er.backBuffer;Ar=Sr?Sr.append(Ar,Br):Br.def(Rn,".next"),Nr||Br("if(",Ar,"!==",Rn,".cur){"),Br("if(",Ar,"){",un,".bindFramebuffer(",36160,",",Ar,".framebuffer);"),an&&Br(mn,".drawBuffersWEBGL(",cn,"[",Ar,".colorAttachments.length]);"),Br("}else{",un,".bindFramebuffer(",36160,",null);"),an&&Br(mn,".drawBuffersWEBGL(",Er,");"),Br("}",Rn,".cur=",Ar,";"),Nr||Br("}")}function vn(Ar,Br,Sr){var Nr=Ar.shared,un=Nr.gl,Rn=Ar.current,mn=Ar.next,cn=Nr.current,Er=Nr.next,Yr=Ar.cond(cn,".dirty");gn.forEach(function(Gr){if(Gr=dr(Gr),!(Gr in Sr.state)){var $r,wn;if(Gr in mn){$r=mn[Gr],wn=Rn[Gr];var An=o(ln[Gr].length,function(On){return Yr.def($r,"[",On,"]")});Yr(Ar.cond(An.map(function(On,Un){return On+"!=="+wn+"["+Un+"]"}).join("||")).then(un,".",Nn[Gr],"(",An,");",An.map(function(On,Un){return wn+"["+Un+"]="+On}).join(";"),";"))}else $r=Yr.def(Er,".",Gr),An=Ar.cond($r,"!==",cn,".",Gr),Yr(An),Gr in Cn?An(Ar.cond($r).then(un,".enable(",Cn[Gr],");").else(un,".disable(",Cn[Gr],");"),cn,".",Gr,"=",$r,";"):An(un,".",Nn[Gr],"(",$r,");",cn,".",Gr,"=",$r,";")}}),Object.keys(Sr.state).length===0&&Yr(cn,".dirty=false;"),Br(Yr)}function Or(Ar,Br,Sr,Nr){var un=Ar.shared,Rn=Ar.current,mn=un.current,cn=un.gl,Er;tt(Object.keys(Sr)).forEach(function(Yr){var Gr=Sr[Yr];if(!Nr||Nr(Gr)){var $r=Gr.append(Ar,Br);if(Cn[Yr]){var wn=Cn[Yr];q(Gr)?(Er=Ar.link($r,{stable:!0}),Br(Ar.cond(Er).then(cn,".enable(",wn,");").else(cn,".disable(",wn,");")),Br(mn,".",Yr,"=",Er,";")):(Br(Ar.cond($r).then(cn,".enable(",wn,");").else(cn,".disable(",wn,");")),Br(mn,".",Yr,"=",$r,";"))}else if(A($r)){var An=Rn[Yr];Br(cn,".",Nn[Yr],"(",$r,");",$r.map(function(On,Un){return An+"["+Un+"]="+On}).join(";"),";")}else q(Gr)?(Er=Ar.link($r,{stable:!0}),Br(cn,".",Nn[Yr],"(",Er,");",mn,".",Yr,"=",Er,";")):Br(cn,".",Nn[Yr],"(",$r,");",mn,".",Yr,"=",$r,";")}})}function En(Ar,Br){Cr&&(Ar.instancing=Br.def(Ar.shared.extensions,".angle_instanced_arrays"))}function nn(Ar,Br,Sr,Nr,un){function Rn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function mn(Un){An=Br.def(),Un(An,"=",Rn(),";"),typeof un=="string"?Un(Gr,".count+=",un,";"):Un(Gr,".count++;"),Je&&(Nr?(On=Br.def(),Un(On,"=",wn,".getNumPendingQueries();")):Un(wn,".beginQuery(",Gr,");"))}function cn(Un){Un(Gr,".cpuTime+=",Rn(),"-",An,";"),Je&&(Nr?Un(wn,".pushScopeStats(",On,",",wn,".getNumPendingQueries(),",Gr,");"):Un(wn,".endQuery();"))}function Er(Un){var zn=Br.def($r,".profile");Br($r,".profile=",Un,";"),Br.exit($r,".profile=",zn,";")}var Yr=Ar.shared,Gr=Ar.stats,$r=Yr.current,wn=Yr.timer;Sr=Sr.profile;var An,On;if(Sr){if(q(Sr)){Sr.enable?(mn(Br),cn(Br.exit),Er("true")):Er("false");return}Sr=Sr.append(Ar,Br),Er(Sr)}else Sr=Br.def($r,".profile");Yr=Ar.block(),mn(Yr),Br("if(",Sr,"){",Yr,"}"),Ar=Ar.block(),cn(Ar),Br.exit("if(",Sr,"){",Ar,"}")}function gr(Ar,Br,Sr,Nr,un){function Rn(Er){switch(Er){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function mn(Er,Yr,Gr){function $r(){Br("if(!",Un,".buffer){",An,".enableVertexAttribArray(",On,");}");var si=Gr.type,Li;Li=Gr.size?Br.def(Gr.size,"||",Yr):Yr,Br("if(",Un,".type!==",si,"||",Un,".size!==",Li,"||",Zn.map(function(Ma){return Un+"."+Ma+"!=="+Gr[Ma]}).join("||"),"){",An,".bindBuffer(",34962,",",zn,".buffer);",An,".vertexAttribPointer(",[On,Li,si,Gr.normalized,Gr.stride,Gr.offset],");",Un,".type=",si,";",Un,".size=",Li,";",Zn.map(function(Ma){return Un+"."+Ma+"="+Gr[Ma]+";"}).join(""),"}"),Cr&&(si=Gr.divisor,Br("if(",Un,".divisor!==",si,"){",Ar.instancing,".vertexAttribDivisorANGLE(",[On,si],");",Un,".divisor=",si,";}"))}function wn(){Br("if(",Un,".buffer){",An,".disableVertexAttribArray(",On,");",Un,".buffer=null;","}if(",ie.map(function(si,Li){return Un+"."+si+"!=="+Yn[Li]}).join("||"),"){",An,".vertexAttrib4f(",On,",",Yn,");",ie.map(function(si,Li){return Un+"."+si+"="+Yn[Li]+";"}).join(""),"}")}var An=cn.gl,On=Br.def(Er,".location"),Un=Br.def(cn.attributes,"[",On,"]");Er=Gr.state;var zn=Gr.buffer,Yn=[Gr.x,Gr.y,Gr.z,Gr.w],Zn=["buffer","normalized","offset","stride"];Er===1?$r():Er===2?wn():(Br("if(",Er,"===",1,"){"),$r(),Br("}else{"),wn(),Br("}"))}var cn=Ar.shared;Nr.forEach(function(Er){var Yr=Er.name,Gr=Sr.attributes[Yr],$r;if(Gr){if(!un(Gr))return;$r=Gr.append(Ar,Br)}else{if(!un(Ke))return;var wn=Ar.scopeAttrib(Yr);$r={},Object.keys(new ni).forEach(function(An){$r[An]=Br.def(wn,".",An)})}mn(Ar.link(Er),Rn(Er.info.type),$r)})}function Pr(Ar,Br,Sr,Nr,un,Rn){for(var mn=Ar.shared,cn=mn.gl,Er,Yr=0;Yr<Nr.length;++Yr){var An=Nr[Yr],Gr=An.name,$r=An.info.type,wn=Sr.uniforms[Gr],An=Ar.link(An)+".location",On;if(wn){if(!un(wn))continue;if(q(wn)){if(Gr=wn.value,$r===35678||$r===35680)$r=Ar.link(Gr._texture||Gr.color[0]._texture),Br(cn,".uniform1i(",An,",",$r+".bind());"),Br.exit($r,".unbind();");else if($r===35674||$r===35675||$r===35676)Gr=Ar.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),wn=2,$r===35675?wn=3:$r===35676&&(wn=4),Br(cn,".uniformMatrix",wn,"fv(",An,",false,",Gr,");");else{switch($r){case 5126:Er="1f";break;case 35664:Er="2f";break;case 35665:Er="3f";break;case 35666:Er="4f";break;case 35670:Er="1i";break;case 5124:Er="1i";break;case 35671:Er="2i";break;case 35667:Er="2i";break;case 35672:Er="3i";break;case 35668:Er="3i";break;case 35673:Er="4i";break;case 35669:Er="4i"}Br(cn,".uniform",Er,"(",An,",",A(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}else On=wn.append(Ar,Br)}else{if(!un(Ke))continue;On=Br.def(mn.uniforms,"[",Xe.id(Gr),"]")}switch($r===35678?Br("if(",On,"&&",On,'._reglType==="framebuffer"){',On,"=",On,".color[0];","}"):$r===35680&&Br("if(",On,"&&",On,'._reglType==="framebufferCube"){',On,"=",On,".color[0];","}"),Gr=1,$r){case 35678:case 35680:$r=Br.def(On,"._texture"),Br(cn,".uniform1i(",An,",",$r,".bind());"),Br.exit($r,".unbind();");continue;case 5124:case 35670:Er="1i";break;case 35667:case 35671:Er="2i",Gr=2;break;case 35668:case 35672:Er="3i",Gr=3;break;case 35669:case 35673:Er="4i",Gr=4;break;case 5126:Er="1f";break;case 35664:Er="2f",Gr=2;break;case 35665:Er="3f",Gr=3;break;case 35666:Er="4f",Gr=4;break;case 35674:Er="Matrix2fv";break;case 35675:Er="Matrix3fv";break;case 35676:Er="Matrix4fv"}if(Er.charAt(0)==="M"){Br(cn,".uniform",Er,"(",An,",");var An=Math.pow($r-35674+2,2),Un=Ar.global.def("new Float32Array(",An,")");Array.isArray(On)?Br("false,(",o(An,function(Zn){return Un+"["+Zn+"]="+On[Zn]}),",",Un,")"):Br("false,(Array.isArray(",On,")||",On," instanceof Float32Array)?",On,":(",o(An,function(Zn){return Un+"["+Zn+"]="+On+"["+Zn+"]"}),",",Un,")"),Br(");")}else{if(1<Gr){for(var $r=[],zn=[],wn=0;wn<Gr;++wn)Array.isArray(On)?zn.push(On[wn]):zn.push(Br.def(On+"["+wn+"]")),Rn&&$r.push(Br.def());Rn&&Br("if(!",Ar.batchId,"||",$r.map(function(Yn,Zn){return Yn+"!=="+zn[Zn]}).join("||"),"){",$r.map(function(Yn,Zn){return Yn+"="+zn[Zn]+";"}).join("")),Br(cn,".uniform",Er,"(",An,",",zn.join(","),");")}else Rn&&($r=Br.def(),Br("if(!",Ar.batchId,"||",$r,"!==",On,"){",$r,"=",On,";")),Br(cn,".uniform",Er,"(",An,",",On,");");Rn&&Br("}")}}}function jr(Ar,Br,Sr,Nr){function un(si){var Li=Gr[si];return Li?Li.contextDep&&Nr.contextDynamic||Li.propDep?Li.append(Ar,Sr):Li.append(Ar,Br):Br.def(Yr,".",si)}function Rn(){function si(){Sr(zn,".drawElementsInstancedANGLE(",[wn,On,Yn,An+"<<(("+Yn+"-5121)>>1)",Un],");")}function Li(){Sr(zn,".drawArraysInstancedANGLE(",[wn,An,On,Un],");")}$r&&$r!=="null"?Zn?si():(Sr("if(",$r,"){"),si(),Sr("}else{"),Li(),Sr("}")):Li()}function mn(){function si(){Sr(Er+".drawElements("+[wn,On,Yn,An+"<<(("+Yn+"-5121)>>1)"]+");")}function Li(){Sr(Er+".drawArrays("+[wn,An,On]+");")}$r&&$r!=="null"?Zn?si():(Sr("if(",$r,"){"),si(),Sr("}else{"),Li(),Sr("}")):Li()}var cn=Ar.shared,Er=cn.gl,Yr=cn.draw,Gr=Nr.draw,$r=function(){var si=Gr.elements,Li=Br;return si?((si.contextDep&&Nr.contextDynamic||si.propDep)&&(Li=Sr),si=si.append(Ar,Li),Gr.elementsActive&&Li("if("+si+")"+Er+".bindBuffer(34963,"+si+".buffer.buffer);")):(si=Li.def(),Li(si,"=",Yr,".","elements",";","if(",si,"){",Er,".bindBuffer(",34963,",",si,".buffer.buffer);}","else if(",cn.vao,".currentVAO){",si,"=",Ar.shared.elements+".getElements("+cn.vao,".currentVAO.elements);",on?"":"if("+si+")"+Er+".bindBuffer(34963,"+si+".buffer.buffer);","}")),si}(),wn=un("primitive"),An=un("offset"),On=function(){var si=Gr.count,Li=Br;return si?((si.contextDep&&Nr.contextDynamic||si.propDep)&&(Li=Sr),si=si.append(Ar,Li)):si=Li.def(Yr,".","count"),si}();if(typeof On=="number"){if(On===0)return}else Sr("if(",On,"){"),Sr.exit("}");var Un,zn;Cr&&(Un=un("instances"),zn=Ar.instancing);var Yn=$r+".type",Zn=Gr.elements&&q(Gr.elements)&&!Gr.vaoActive;Cr&&(typeof Un!="number"||0<=Un)?typeof Un=="string"?(Sr("if(",Un,">0){"),Rn(),Sr("}else if(",Un,"<0){"),mn(),Sr("}")):Rn():mn()}function _r(Ar,Br,Sr,Nr,un){return Br=xr(),un=Br.proc("body",un),Cr&&(Br.instancing=un.def(Br.shared.extensions,".angle_instanced_arrays")),Ar(Br,un,Sr,Nr),Br.compile().body}function pn(Ar,Br,Sr,Nr){En(Ar,Br),Sr.useVAO?Sr.drawVAO?Br(Ar.shared.vao,".setVAO(",Sr.drawVAO.append(Ar,Br),");"):Br(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(Br(Ar.shared.vao,".setVAO(null);"),gr(Ar,Br,Sr,Nr.attributes,function(){return!0})),Pr(Ar,Br,Sr,Nr.uniforms,function(){return!0},!1),jr(Ar,Br,Br,Sr)}function en(Ar,Br){var Sr=Ar.proc("draw",1);En(Ar,Sr),Rr(Ar,Sr,Br.context),Tr(Ar,Sr,Br.framebuffer),vn(Ar,Sr,Br),Or(Ar,Sr,Br.state),nn(Ar,Sr,Br,!1,!0);var Nr=Br.shader.progVar.append(Ar,Sr);if(Sr(Ar.shared.gl,".useProgram(",Nr,".program);"),Br.shader.program)pn(Ar,Sr,Br,Br.shader.program);else{Sr(Ar.shared.vao,".setVAO(null);");var un=Ar.global.def("{}"),Rn=Sr.def(Nr,".id"),mn=Sr.def(un,"[",Rn,"]");Sr(Ar.cond(mn).then(mn,".call(this,a0);").else(mn,"=",un,"[",Rn,"]=",Ar.link(function(cn){return _r(pn,Ar,Br,cn,1)}),"(",Nr,");",mn,".call(this,a0);"))}0<Object.keys(Br.state).length&&Sr(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Sr(Ar.shared.vao,".setVAO(null);")}function Tn(Ar,Br,Sr,Nr){function un(){return!0}Ar.batchId="a1",En(Ar,Br),gr(Ar,Br,Sr,Nr.attributes,un),Pr(Ar,Br,Sr,Nr.uniforms,un,!1),jr(Ar,Br,Br,Sr)}function Pn(Ar,Br,Sr,Nr){function un($r){return $r.contextDep&&mn||$r.propDep}function Rn($r){return!un($r)}En(Ar,Br);var mn=Sr.contextDep,cn=Br.def(),Er=Br.def();Ar.shared.props=Er,Ar.batchId=cn;var Yr=Ar.scope(),Gr=Ar.scope();Br(Yr.entry,"for(",cn,"=0;",cn,"<","a1",";++",cn,"){",Er,"=","a0","[",cn,"];",Gr,"}",Yr.exit),Sr.needsContext&&Rr(Ar,Gr,Sr.context),Sr.needsFramebuffer&&Tr(Ar,Gr,Sr.framebuffer),Or(Ar,Gr,Sr.state,un),Sr.profile&&un(Sr.profile)&&nn(Ar,Gr,Sr,!1,!0),Nr?(Sr.useVAO?Sr.drawVAO?un(Sr.drawVAO)?Gr(Ar.shared.vao,".setVAO(",Sr.drawVAO.append(Ar,Gr),");"):Yr(Ar.shared.vao,".setVAO(",Sr.drawVAO.append(Ar,Yr),");"):Yr(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(Yr(Ar.shared.vao,".setVAO(null);"),gr(Ar,Yr,Sr,Nr.attributes,Rn),gr(Ar,Gr,Sr,Nr.attributes,un)),Pr(Ar,Yr,Sr,Nr.uniforms,Rn,!1),Pr(Ar,Gr,Sr,Nr.uniforms,un,!0),jr(Ar,Yr,Gr,Sr)):(Br=Ar.global.def("{}"),Nr=Sr.shader.progVar.append(Ar,Gr),Er=Gr.def(Nr,".id"),Yr=Gr.def(Br,"[",Er,"]"),Gr(Ar.shared.gl,".useProgram(",Nr,".program);","if(!",Yr,"){",Yr,"=",Br,"[",Er,"]=",Ar.link(function($r){return _r(Tn,Ar,Sr,$r,2)}),"(",Nr,");}",Yr,".call(this,a0[",cn,"],",cn,");"))}function Gn(Ar,Br){function Sr(Yr){return Yr.contextDep&&un||Yr.propDep}var Nr=Ar.proc("batch",2);Ar.batchId="0",En(Ar,Nr);var un=!1,Rn=!0;Object.keys(Br.context).forEach(function(Yr){un=un||Br.context[Yr].propDep}),un||(Rr(Ar,Nr,Br.context),Rn=!1);var mn=Br.framebuffer,cn=!1;if(mn?(mn.propDep?un=cn=!0:mn.contextDep&&un&&(cn=!0),cn||Tr(Ar,Nr,mn)):Tr(Ar,Nr,null),Br.state.viewport&&Br.state.viewport.propDep&&(un=!0),vn(Ar,Nr,Br),Or(Ar,Nr,Br.state,function(Yr){return!Sr(Yr)}),Br.profile&&Sr(Br.profile)||nn(Ar,Nr,Br,!1,"a1"),Br.contextDep=un,Br.needsContext=Rn,Br.needsFramebuffer=cn,Rn=Br.shader.progVar,Rn.contextDep&&un||Rn.propDep)Pn(Ar,Nr,Br,null);else if(Rn=Rn.append(Ar,Nr),Nr(Ar.shared.gl,".useProgram(",Rn,".program);"),Br.shader.program)Pn(Ar,Nr,Br,Br.shader.program);else{Nr(Ar.shared.vao,".setVAO(null);");var mn=Ar.global.def("{}"),cn=Nr.def(Rn,".id"),Er=Nr.def(mn,"[",cn,"]");Nr(Ar.cond(Er).then(Er,".call(this,a0,a1);").else(Er,"=",mn,"[",cn,"]=",Ar.link(function($r){return _r(Pn,Ar,Br,$r,2)}),"(",Rn,");",Er,".call(this,a0,a1);"))}0<Object.keys(Br.state).length&&Nr(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Nr(Ar.shared.vao,".setVAO(null);")}function gi(Ar,Br){function Sr(cn){var Er=Br.shader[cn];Er&&(Er=Er.append(Ar,Nr),isNaN(Er)?Nr.set(un.shader,"."+cn,Er):Nr.set(un.shader,"."+cn,Ar.link(Er,{stable:!0})))}var Nr=Ar.proc("scope",3);Ar.batchId="a2";var un=Ar.shared,Rn=un.current;if(Rr(Ar,Nr,Br.context),Br.framebuffer&&Br.framebuffer.append(Ar,Nr),tt(Object.keys(Br.state)).forEach(function(cn){var Er=Br.state[cn],Yr=Er.append(Ar,Nr);A(Yr)?Yr.forEach(function(Gr,$r){isNaN(Gr)?Nr.set(Ar.next[cn],"["+$r+"]",Gr):Nr.set(Ar.next[cn],"["+$r+"]",Ar.link(Gr,{stable:!0}))}):q(Er)?Nr.set(un.next,"."+cn,Ar.link(Yr,{stable:!0})):Nr.set(un.next,"."+cn,Yr)}),nn(Ar,Nr,Br,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(cn){var Er=Br.draw[cn];Er&&(Er=Er.append(Ar,Nr),isNaN(Er)?Nr.set(un.draw,"."+cn,Er):Nr.set(un.draw,"."+cn,Ar.link(Er),{stable:!0}))}),Object.keys(Br.uniforms).forEach(function(cn){var Er=Br.uniforms[cn].append(Ar,Nr);Array.isArray(Er)&&(Er="["+Er.map(function(Yr){return isNaN(Yr)?Yr:Ar.link(Yr,{stable:!0})})+"]"),Nr.set(un.uniforms,"["+Ar.link(Xe.id(cn),{stable:!0})+"]",Er)}),Object.keys(Br.attributes).forEach(function(cn){var Er=Br.attributes[cn].append(Ar,Nr),Yr=Ar.scopeAttrib(cn);Object.keys(new ni).forEach(function(Gr){Nr.set(Yr,"."+Gr,Er[Gr])})}),Br.scopeVAO){var mn=Br.scopeVAO.append(Ar,Nr);isNaN(mn)?Nr.set(un.vao,".targetVAO",mn):Nr.set(un.vao,".targetVAO",Ar.link(mn,{stable:!0}))}Sr("vert"),Sr("frag"),0<Object.keys(Br.state).length&&(Nr(Rn,".dirty=true;"),Nr.exit(Rn,".dirty=true;")),Nr("a1(",Ar.shared.context,",a0,",Ar.batchId,");")}function bi(Ar){if(typeof Ar=="object"&&!A(Ar)){for(var Br=Object.keys(Ar),Sr=0;Sr<Br.length;++Sr)if(mt.isDynamic(Ar[Br[Sr]]))return!0;return!1}}function oi(Ar,Br,Sr){function Nr($r,wn){mn.forEach(function(An){var On=un[An];mt.isDynamic(On)&&(On=$r.invoke(wn,On),wn(Gr,".",An,"=",On,";"))})}var un=Br.static[Sr];if(un&&bi(un)){var Rn=Ar.global,mn=Object.keys(un),cn=!1,Er=!1,Yr=!1,Gr=Ar.global.def("{}");mn.forEach(function($r){var wn=un[$r];if(mt.isDynamic(wn))typeof wn=="function"&&(wn=un[$r]=mt.unbox(wn)),$r=$(wn,null),cn=cn||$r.thisDep,Yr=Yr||$r.propDep,Er=Er||$r.contextDep;else{switch(Rn(Gr,".",$r,"="),typeof wn){case"number":Rn(wn);break;case"string":Rn('"',wn,'"');break;case"object":Array.isArray(wn)&&Rn("[",wn.join(),"]");break;default:Rn(Ar.link(wn))}Rn(";")}}),Br.dynamic[Sr]=new mt.DynamicVariable(4,{thisDep:cn,contextDep:Er,propDep:Yr,ref:Gr,append:Nr}),delete Br.static[Sr]}}var ni=_e.Record,Dn={add:32774,subtract:32778,"reverse subtract":32779};$e.ext_blend_minmax&&(Dn.min=32775,Dn.max=32776);var Cr=$e.angle_instanced_arrays,an=$e.webgl_draw_buffers,on=$e.oes_vertex_array_object,ln={dirty:!0,profile:cr.profile},Bn={},gn=[],Cn={},Nn={};fr("dither",3024),fr("blend.enable",3042),Lr("blend.color","blendColor",[0,0,0,0]),Lr("blend.equation","blendEquationSeparate",[32774,32774]),Lr("blend.func","blendFuncSeparate",[1,0,1,0]),fr("depth.enable",2929,!0),Lr("depth.func","depthFunc",513),Lr("depth.range","depthRange",[0,1]),Lr("depth.mask","depthMask",!0),Lr("colorMask","colorMask",[!0,!0,!0,!0]),fr("cull.enable",2884),Lr("cull.face","cullFace",1029),Lr("frontFace","frontFace",2305),Lr("lineWidth","lineWidth",1),fr("polygonOffset.enable",32823),Lr("polygonOffset.offset","polygonOffset",[0,0]),fr("sample.alpha",32926),fr("sample.enable",32928),Lr("sample.coverage","sampleCoverage",[1,!1]),fr("stencil.enable",2960),Lr("stencil.mask","stencilMask",-1),Lr("stencil.func","stencilFunc",[519,0,-1]),Lr("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Lr("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),fr("scissor.enable",3089),Lr("scissor.box","scissor",[0,0,ge.drawingBufferWidth,ge.drawingBufferHeight]),Lr("viewport","viewport",[0,0,ge.drawingBufferWidth,ge.drawingBufferHeight]);var $n={gl:ge,context:Be,strings:Xe,next:Bn,current:ln,draw:Fe,elements:ye,buffer:or,shader:Oe,attributes:_e.state,vao:_e,uniforms:Ee,framebuffer:be,extensions:$e,timer:Je,isBufferArgs:Q},vi={primTypes:Jt,compareFuncs:je,blendFuncs:Ve,blendEquations:Dn,stencilOps:Te,glTypes:zt,orientationType:Le};an&&(vi.backBuffer=[1029],vi.drawBuffer=o(mr.maxDrawbuffers,function(Ar){return Ar===0?[0]:o(Ar,function(Br){return 36064+Br})}));var Di=0;return{next:Bn,current:ln,procs:function(){var Ar=xr(),Br=Ar.proc("poll"),Sr=Ar.proc("refresh"),Nr=Ar.block();Br(Nr),Sr(Nr);var Er=Ar.shared,un=Er.gl,Rn=Er.next,mn=Er.current;Nr(mn,".dirty=false;"),Tr(Ar,Br),Tr(Ar,Sr,null,!0);var cn;Cr&&(cn=Ar.link(Cr)),$e.oes_vertex_array_object&&Sr(Ar.link($e.oes_vertex_array_object),".bindVertexArrayOES(null);");var Er=Sr.def(Er.attributes),Yr=Sr.def(0),Gr=Ar.cond(Yr,".buffer");Gr.then(un,".enableVertexAttribArray(i);",un,".bindBuffer(",34962,",",Yr,".buffer.buffer);",un,".vertexAttribPointer(i,",Yr,".size,",Yr,".type,",Yr,".normalized,",Yr,".stride,",Yr,".offset);").else(un,".disableVertexAttribArray(i);",un,".vertexAttrib4f(i,",Yr,".x,",Yr,".y,",Yr,".z,",Yr,".w);",Yr,".buffer=null;");var $r=Ar.link(mr.maxAttributes,{stable:!0});return Sr("for(var i=0;i<",$r,";++i){",Yr,"=",Er,"[i];",Gr,"}"),Cr&&Sr("for(var i=0;i<",$r,";++i){",cn,".vertexAttribDivisorANGLE(i,",Er,"[i].divisor);","}"),Sr(Ar.shared.vao,".currentVAO=null;",Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"),Object.keys(Cn).forEach(function(wn){var An=Cn[wn],On=Nr.def(Rn,".",wn),Un=Ar.block();Un("if(",On,"){",un,".enable(",An,")}else{",un,".disable(",An,")}",mn,".",wn,"=",On,";"),Sr(Un),Br("if(",On,"!==",mn,".",wn,"){",Un,"}")}),Object.keys(Nn).forEach(function(wn){var An=Nn[wn],On=ln[wn],Un,zn,Yn=Ar.block();Yn(un,".",An,"("),A(On)?(An=On.length,Un=Ar.global.def(Rn,".",wn),zn=Ar.global.def(mn,".",wn),Yn(o(An,function(Zn){return Un+"["+Zn+"]"}),");",o(An,function(Zn){return zn+"["+Zn+"]="+Un+"["+Zn+"];"}).join("")),Br("if(",o(An,function(Zn){return Un+"["+Zn+"]!=="+zn+"["+Zn+"]"}).join("||"),"){",Yn,"}")):(Un=Nr.def(Rn,".",wn),zn=Nr.def(mn,".",wn),Yn(Un,");",mn,".",wn,"=",Un,";"),Br("if(",Un,"!==",zn,"){",Yn,"}")),Sr(Yn)}),Ar.compile()}(),compile:function(Ar,Br,Sr,Nr,un){var Rn=xr();Rn.stats=Rn.link(un),Object.keys(Br.static).forEach(function(cn){oi(Rn,Br,cn)}),le.forEach(function(cn){oi(Rn,Ar,cn)});var mn=yr(Ar,Br,Sr,Nr,Rn);return mn.shader.program&&(mn.shader.program.attributes.sort(function(cn,Er){return cn.name<Er.name?-1:1}),mn.shader.program.uniforms.sort(function(cn,Er){return cn.name<Er.name?-1:1})),en(Rn,mn),gi(Rn,mn),Gn(Rn,mn),nt(Rn.compile(),{destroy:function(){mn.shader.program.destroy()}})}}}function lt(ge,Xe){for(var $e=0;$e<ge.length;++$e)if(ge[$e]===Xe)return $e;return-1}var nt=function(ge,Xe){for(var $e=Object.keys(Xe),mr=0;mr<$e.length;++mr)ge[$e[mr]]=Xe[$e[mr]];return ge},ht=0,mt={DynamicVariable:G,define:function(ge,Xe){return new G(ge,y(Xe+""))},isDynamic:function(ge){return typeof ge=="function"&&!ge._reglType||ge instanceof G},unbox:D,accessor:y},At={next:typeof requestAnimationFrame=="function"?function(ge){return requestAnimationFrame(ge)}:function(ge){return setTimeout(ge,16)},cancel:typeof cancelAnimationFrame=="function"?function(ge){return cancelAnimationFrame(ge)}:clearTimeout},bt=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Pt=u();Pt.zero=u();var _t=function(ge,Xe){var $e=1;Xe.ext_texture_filter_anisotropic&&($e=ge.getParameter(34047));var mr=1,or=1;Xe.webgl_draw_buffers&&(mr=ge.getParameter(34852),or=ge.getParameter(36063));var ye=!!Xe.oes_texture_float;if(ye){ye=ge.createTexture(),ge.bindTexture(3553,ye),ge.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ue=ge.createFramebuffer();if(ge.bindFramebuffer(36160,ue),ge.framebufferTexture2D(36160,36064,3553,ye,0),ge.bindTexture(3553,null),ge.checkFramebufferStatus(36160)!==36053)ye=!1;else{ge.viewport(0,0,1,1),ge.clearColor(1,0,0,1),ge.clear(16384);var be=Pt.allocType(5126,4);ge.readPixels(0,0,1,1,6408,5126,be),ge.getError()?ye=!1:(ge.deleteFramebuffer(ue),ge.deleteTexture(ye),ye=be[0]===1),Pt.freeType(be)}}return be=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(be=ge.createTexture(),ue=Pt.allocType(5121,36),ge.activeTexture(33984),ge.bindTexture(34067,be),ge.texImage2D(34069,0,6408,3,3,0,6408,5121,ue),Pt.freeType(ue),ge.bindTexture(34067,null),ge.deleteTexture(be),be=!ge.getError()),{colorBits:[ge.getParameter(3410),ge.getParameter(3411),ge.getParameter(3412),ge.getParameter(3413)],depthBits:ge.getParameter(3414),stencilBits:ge.getParameter(3415),subpixelBits:ge.getParameter(3408),extensions:Object.keys(Xe).filter(function(Ee){return!!Xe[Ee]}),maxAnisotropic:$e,maxDrawbuffers:mr,maxColorAttachments:or,pointSizeDims:ge.getParameter(33901),lineWidthDims:ge.getParameter(33902),maxViewportDims:ge.getParameter(3386),maxCombinedTextureUnits:ge.getParameter(35661),maxCubeMapSize:ge.getParameter(34076),maxRenderbufferSize:ge.getParameter(34024),maxTextureUnits:ge.getParameter(34930),maxTextureSize:ge.getParameter(3379),maxAttributes:ge.getParameter(34921),maxVertexUniforms:ge.getParameter(36347),maxVertexTextureUnits:ge.getParameter(35660),maxVaryingVectors:ge.getParameter(36348),maxFragmentUniforms:ge.getParameter(36349),glsl:ge.getParameter(35724),renderer:ge.getParameter(7937),vendor:ge.getParameter(7936),version:ge.getParameter(7938),readFloat:ye,npotTextureCube:be}},Ut=function(ge){return ge instanceof Uint8Array||ge instanceof Uint16Array||ge instanceof Uint32Array||ge instanceof Int8Array||ge instanceof Int16Array||ge instanceof Int32Array||ge instanceof Float32Array||ge instanceof Float64Array||ge instanceof Uint8ClampedArray},St=function(ge){return Object.keys(ge).map(function(Xe){return ge[Xe]})},Rt={shape:function(ge){for(var Xe=[];ge.length;ge=ge[0])Xe.push(ge.length);return Xe},flatten:function(ge,Xe,$e,mr){var or=1;if(Xe.length)for(var ye=0;ye<Xe.length;++ye)or*=Xe[ye];else or=0;switch($e=mr||Pt.allocType($e,or),Xe.length){case 0:break;case 1:for(mr=Xe[0],Xe=0;Xe<mr;++Xe)$e[Xe]=ge[Xe];break;case 2:for(mr=Xe[0],Xe=Xe[1],ye=or=0;ye<mr;++ye)for(var ue=ge[ye],be=0;be<Xe;++be)$e[or++]=ue[be];break;case 3:c(ge,Xe[0],Xe[1],Xe[2],$e,0);break;default:m(ge,Xe,0,$e,0)}return $e}},Et={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},zt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ct={dynamic:35048,stream:35040,static:35044},Wt=Rt.flatten,Kt=Rt.shape,oe=[];oe[5120]=1,oe[5122]=2,oe[5124]=4,oe[5121]=1,oe[5123]=2,oe[5125]=4,oe[5126]=4;var Jt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},te=new Float32Array(1),fe=new Uint32Array(te.buffer),ve=[9984,9986,9985,9987],de=[0,6409,6410,6407,6408],xe={};xe[6409]=xe[6406]=xe[6402]=1,xe[34041]=xe[6410]=2,xe[6407]=xe[35904]=3,xe[6408]=xe[35906]=4;var Me=L("HTMLCanvasElement"),ne=L("OffscreenCanvas"),kt=L("CanvasRenderingContext2D"),Gt=L("ImageBitmap"),Yt=L("HTMLImageElement"),Zt=L("HTMLVideoElement"),It=Object.keys(Et).concat([Me,ne,kt,Gt,Yt,Zt]),Nt=[];Nt[5121]=1,Nt[5126]=4,Nt[36193]=2,Nt[5123]=2,Nt[5125]=4;var Ht=[];Ht[32854]=2,Ht[32855]=2,Ht[36194]=2,Ht[34041]=4,Ht[33776]=.5,Ht[33777]=.5,Ht[33778]=1,Ht[33779]=1,Ht[35986]=.5,Ht[35987]=1,Ht[34798]=1,Ht[35840]=.5,Ht[35841]=.25,Ht[35842]=.5,Ht[35843]=.25,Ht[36196]=.5;var Lt=[];Lt[32854]=2,Lt[32855]=2,Lt[36194]=2,Lt[33189]=2,Lt[36168]=1,Lt[34041]=4,Lt[35907]=4,Lt[34836]=16,Lt[34842]=8,Lt[34843]=6;var dt=function(ge,Xe,$e,mr,or){function ye(Fe){this.id=_e++,this.refCount=1,this.renderbuffer=Fe,this.format=32854,this.height=this.width=0,or.profile&&(this.stats={size:0})}function ue(Fe){var Be=Fe.renderbuffer;ge.bindRenderbuffer(36161,null),ge.deleteRenderbuffer(Be),Fe.renderbuffer=null,Fe.refCount=0,delete Oe[Fe.id],mr.renderbufferCount--}var be={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Xe.ext_srgb&&(be.srgba=35907),Xe.ext_color_buffer_half_float&&(be.rgba16f=34842,be.rgb16f=34843),Xe.webgl_color_buffer_float&&(be.rgba32f=34836);var Ee=[];Object.keys(be).forEach(function(Fe){Ee[be[Fe]]=Fe});var _e=0,Oe={};return ye.prototype.decRef=function(){0>=--this.refCount&&ue(this)},or.profile&&(mr.getTotalRenderbufferSize=function(){var Fe=0;return Object.keys(Oe).forEach(function(Be){Fe+=Oe[Be].stats.size}),Fe}),{create:function(Fe,Be){function Je(cr,dr){var fr=0,Lr=0,xr=32854;if(typeof cr=="object"&&cr?("shape"in cr?(Lr=cr.shape,fr=Lr[0]|0,Lr=Lr[1]|0):("radius"in cr&&(fr=Lr=cr.radius|0),"width"in cr&&(fr=cr.width|0),"height"in cr&&(Lr=cr.height|0)),"format"in cr&&(xr=be[cr.format])):typeof cr=="number"?(fr=cr|0,Lr=typeof dr=="number"?dr|0:fr):cr||(fr=Lr=1),fr!==hr.width||Lr!==hr.height||xr!==hr.format)return Je.width=hr.width=fr,Je.height=hr.height=Lr,hr.format=xr,ge.bindRenderbuffer(36161,hr.renderbuffer),ge.renderbufferStorage(36161,xr,fr,Lr),or.profile&&(hr.stats.size=Lt[hr.format]*hr.width*hr.height),Je.format=Ee[hr.format],Je}var hr=new ye(ge.createRenderbuffer());return Oe[hr.id]=hr,mr.renderbufferCount++,Je(Fe,Be),Je.resize=function(cr,dr){var fr=cr|0,Lr=dr|0||fr;return fr===hr.width&&Lr===hr.height||(Je.width=hr.width=fr,Je.height=hr.height=Lr,ge.bindRenderbuffer(36161,hr.renderbuffer),ge.renderbufferStorage(36161,hr.format,fr,Lr),or.profile&&(hr.stats.size=Lt[hr.format]*hr.width*hr.height)),Je},Je._reglType="renderbuffer",Je._renderbuffer=hr,or.profile&&(Je.stats=hr.stats),Je.destroy=function(){hr.decRef()},Je},clear:function(){St(Oe).forEach(ue)},restore:function(){St(Oe).forEach(function(Fe){Fe.renderbuffer=ge.createRenderbuffer(),ge.bindRenderbuffer(36161,Fe.renderbuffer),ge.renderbufferStorage(36161,Fe.format,Fe.width,Fe.height)}),ge.bindRenderbuffer(36161,null)}}},xt=[];xt[6408]=4,xt[6407]=3;var Ot=[];Ot[5121]=1,Ot[5126]=4,Ot[36193]=2;var jt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ie=["x","y","z","w"],le="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ve={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},je={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Te={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Le={cw:2304,ccw:2305},Ke=new Z(!1,!1,!1,function(){}),vr=function(ge,Xe){function $e(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function mr(Oe,Fe,Be){var Je=ue.pop()||new $e;Je.startQueryIndex=Oe,Je.endQueryIndex=Fe,Je.sum=0,Je.stats=Be,be.push(Je)}if(!Xe.ext_disjoint_timer_query)return null;var or=[],ye=[],ue=[],be=[],Ee=[],_e=[];return{beginQuery:function(Oe){var Fe=or.pop()||Xe.ext_disjoint_timer_query.createQueryEXT();Xe.ext_disjoint_timer_query.beginQueryEXT(35007,Fe),ye.push(Fe),mr(ye.length-1,ye.length,Oe)},endQuery:function(){Xe.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:mr,update:function(){var Oe,Fe;if(Oe=ye.length,Oe!==0){_e.length=Math.max(_e.length,Oe+1),Ee.length=Math.max(Ee.length,Oe+1),Ee[0]=0;var Be=_e[0]=0;for(Fe=Oe=0;Fe<ye.length;++Fe){var Je=ye[Fe];Xe.ext_disjoint_timer_query.getQueryObjectEXT(Je,34919)?(Be+=Xe.ext_disjoint_timer_query.getQueryObjectEXT(Je,34918),or.push(Je)):ye[Oe++]=Je,Ee[Fe+1]=Be,_e[Fe+1]=Oe}for(ye.length=Oe,Fe=Oe=0;Fe<be.length;++Fe){var Be=be[Fe],hr=Be.startQueryIndex,Je=Be.endQueryIndex;Be.sum+=Ee[Je]-Ee[hr],hr=_e[hr],Je=_e[Je],Je===hr?(Be.stats.gpuTime+=Be.sum/1e6,ue.push(Be)):(Be.startQueryIndex=hr,Be.endQueryIndex=Je,be[Oe++]=Be)}be.length=Oe}},getNumPendingQueries:function(){return ye.length},clear:function(){or.push.apply(or,ye);for(var Oe=0;Oe<or.length;Oe++)Xe.ext_disjoint_timer_query.deleteQueryEXT(or[Oe]);ye.length=0,or.length=0},restore:function(){ye.length=0,or.length=0}}};return function(ge){function Xe(){if(nn.length===0)xr&&xr.update(),_r=null;else{_r=At.next(Xe),Oe();for(var en=nn.length-1;0<=en;--en){var Tn=nn[en];Tn&&Tn(tr,null,0)}Je.flush(),xr&&xr.update()}}function $e(){!_r&&0<nn.length&&(_r=At.next(Xe))}function mr(){_r&&(At.cancel(Xe),_r=null)}function or(en){en.preventDefault(),mr(),gr.forEach(function(Tn){Tn()})}function ye(en){Je.getError(),cr.restore(),Qe.restore(),Pe.restore(),We.restore(),yr.restore(),Rr.restore(),nr.restore(),xr&&xr.restore(),Tr.procs.refresh(),$e(),Pr.forEach(function(Tn){Tn()})}function ue(en){function Tn(ln,Bn){var gn={},Cn={};return Object.keys(ln).forEach(function(Nn){var $n=ln[Nn];if(mt.isDynamic($n))Cn[Nn]=mt.unbox($n,Nn);else{if(Bn&&Array.isArray($n)){for(var vi=0;vi<$n.length;++vi)if(mt.isDynamic($n[vi])){Cn[Nn]=mt.unbox($n,Nn);return}}gn[Nn]=$n}}),{dynamic:Cn,static:gn}}function Pn(ln){for(;on.length<ln;)on.push(null);return on}var Gn=Tn(en.context||{},!0),gi=Tn(en.uniforms||{},!0),bi=Tn(en.attributes||{},!1);en=Tn(function(ln){function Bn(Cn){if(Cn in gn){var Nn=gn[Cn];delete gn[Cn],Object.keys(Nn).forEach(function($n){gn[Cn+"."+$n]=Nn[$n]})}}var gn=nt({},ln);return delete gn.uniforms,delete gn.attributes,delete gn.context,delete gn.vao,"stencil"in gn&&gn.stencil.op&&(gn.stencil.opBack=gn.stencil.opFront=gn.stencil.op,delete gn.stencil.op),Bn("blend"),Bn("depth"),Bn("cull"),Bn("stencil"),Bn("polygonOffset"),Bn("scissor"),Bn("sample"),"vao"in ln&&(gn.vao=ln.vao),gn}(en),!1);var oi={gpuTime:0,cpuTime:0,count:0},ni=Tr.compile(en,bi,gi,Gn,oi),Dn=ni.draw,Cr=ni.batch,an=ni.scope,on=[];return nt(function(ln,Bn){var gn;if(typeof ln=="function")return an.call(this,null,ln,0);if(typeof Bn=="function")if(typeof ln=="number")for(gn=0;gn<ln;++gn)an.call(this,null,Bn,gn);else if(Array.isArray(ln))for(gn=0;gn<ln.length;++gn)an.call(this,ln[gn],Bn,gn);else return an.call(this,ln,Bn,0);else if(typeof ln=="number"){if(0<ln)return Cr.call(this,Pn(ln|0),ln|0)}else if(Array.isArray(ln)){if(ln.length)return Cr.call(this,ln,ln.length)}else return Dn.call(this,ln)},{stats:oi,destroy:function(){ni.destroy()}})}function be(en,Tn){var Pn=0;Tr.procs.poll();var Gn=Tn.color;Gn&&(Je.clearColor(+Gn[0]||0,+Gn[1]||0,+Gn[2]||0,+Gn[3]||0),Pn|=16384),"depth"in Tn&&(Je.clearDepth(+Tn.depth),Pn|=256),"stencil"in Tn&&(Je.clearStencil(Tn.stencil|0),Pn|=1024),Je.clear(Pn)}function Ee(en){return nn.push(en),$e(),{cancel:function(){function Tn(){var Gn=lt(nn,Tn);nn[Gn]=nn[nn.length-1],--nn.length,0>=nn.length&&mr()}var Pn=lt(nn,en);nn[Pn]=Tn}}}function _e(){var en=Or.viewport,Tn=Or.scissor_box;en[0]=en[1]=Tn[0]=Tn[1]=0,tr.viewportWidth=tr.framebufferWidth=tr.drawingBufferWidth=en[2]=Tn[2]=Je.drawingBufferWidth,tr.viewportHeight=tr.framebufferHeight=tr.drawingBufferHeight=en[3]=Tn[3]=Je.drawingBufferHeight}function Oe(){tr.tick+=1,tr.time=Be(),_e(),Tr.procs.poll()}function Fe(){We.refresh(),_e(),Tr.procs.refresh(),xr&&xr.update()}function Be(){return(bt()-Qt)/1e3}if(ge=r(ge),!ge)return null;var Je=ge.gl,hr=Je.getContextAttributes();Je.isContextLost();var cr=e(Je,ge);if(!cr)return null;var vn=s(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},fr=ge.cachedCode||{},Lr=cr.extensions,xr=vr(Je,Lr),Qt=bt(),er=Je.drawingBufferWidth,re=Je.drawingBufferHeight,tr={tick:0,time:0,viewportWidth:er,viewportHeight:re,framebufferWidth:er,framebufferHeight:re,drawingBufferWidth:er,drawingBufferHeight:re,pixelRatio:ge.pixelRatio},er={elements:null,primitive:4,count:-1,offset:0,instances:-1},Ye=_t(Je,Lr),Pe=i(Je,dr,ge,function(en){return nr.destroyBuffer(en)}),Ze=p(Je,Lr,Pe,dr),nr=F(Je,Lr,Ye,dr,Pe,Ze,er),Qe=V(Je,vn,dr,ge),We=z(Je,Lr,Ye,function(){Tr.procs.poll()},tr,dr,ge),yr=dt(Je,Lr,Ye,dr,ge),Rr=k(Je,Lr,Ye,We,yr,dr),Tr=j(Je,vn,Lr,Ye,Pe,Ze,We,Rr,{},nr,Qe,er,tr,xr,fr,ge),vn=N(Je,Rr,Tr.procs.poll,tr),Or=Tr.next,En=Je.canvas,nn=[],gr=[],Pr=[],jr=[ge.onDestroy],_r=null;En&&(En.addEventListener("webglcontextlost",or,!1),En.addEventListener("webglcontextrestored",ye,!1));var pn=Rr.setFBO=ue({framebuffer:mt.define.call(null,1,"framebuffer")});return Fe(),hr=nt(ue,{clear:function(en){if("framebuffer"in en)if(en.framebuffer&&en.framebuffer_reglType==="framebufferCube")for(var Tn=0;6>Tn;++Tn)pn(nt({framebuffer:en.framebuffer.faces[Tn]},en),be);else pn(en,be);else be(null,en)},prop:mt.define.bind(null,1),context:mt.define.bind(null,2),this:mt.define.bind(null,3),draw:ue({}),buffer:function(en){return Pe.create(en,34962,!1,!1)},elements:function(en){return Ze.create(en,!1)},texture:We.create2D,cube:We.createCube,renderbuffer:yr.create,framebuffer:Rr.create,framebufferCube:Rr.createCube,vao:nr.createVAO,attributes:hr,frame:Ee,on:function(en,Tn){var Pn;switch(en){case"frame":return Ee(Tn);case"lost":Pn=gr;break;case"restore":Pn=Pr;break;case"destroy":Pn=jr}return Pn.push(Tn),{cancel:function(){for(var Gn=0;Gn<Pn.length;++Gn)if(Pn[Gn]===Tn){Pn[Gn]=Pn[Pn.length-1],Pn.pop();break}}}},limits:Ye,hasExtension:function(en){return 0<=Ye.extensions.indexOf(en.toLowerCase())},read:vn,destroy:function(){nn.length=0,mr(),En&&(En.removeEventListener("webglcontextlost",or),En.removeEventListener("webglcontextrestored",ye)),Qe.clear(),Rr.clear(),yr.clear(),nr.clear(),We.clear(),Ze.clear(),Pe.clear(),xr&&xr.clear(),jr.forEach(function(en){en()})},_gl:Je,_refresh:Fe,poll:function(){Oe(),xr&&xr.update()},now:Be,stats:dr,getCachedCode:function(){return fr},preloadCachedCode:function(en){Object.entries(en).forEach(function(Tn){fr[Tn[0]]=Tn[1]})}}),ge.onDone(null,hr),hr}})},30456:function(W,G,t){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var y=t(33576),D=y.Buffer;function s(M,d){for(var g in M)d[g]=M[g]}D.from&&D.alloc&&D.allocUnsafe&&D.allocUnsafeSlow?W.exports=y:(s(y,G),G.Buffer=P);function P(M,d,g){return D(M,d,g)}P.prototype=Object.create(D.prototype),s(D,P),P.from=function(M,d,g){if(typeof M=="number")throw new TypeError("Argument must not be a number");return D(M,d,g)},P.alloc=function(M,d,g){if(typeof M!="number")throw new TypeError("Argument must be a number");var r=D(M);return d!==void 0?typeof g=="string"?r.fill(d,g):r.fill(d):r.fill(0),r},P.allocUnsafe=function(M){if(typeof M!="number")throw new TypeError("Argument must be a number");return D(M)},P.allocUnsafeSlow=function(M){if(typeof M!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(M)}},14500:function(W,G,t){var y=t(53664),D=t(64348),s=t(39640)(),P=t(2304),M=y("%TypeError%"),d=y("%Math.floor%");W.exports=function(r,e){if(typeof r!="function")throw new M("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||d(e)!==e)throw new M("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in r&&P){var f=P(r,"length");f&&!f.configurable&&(n=!1),f&&!f.writable&&(u=!1)}return(n||u||!o)&&(s?D(r,"length",e,!0,!0):D(r,"length",e)),r}},29936:function(W,G,t){W.exports=s;var y=t(61252).EventEmitter,D=t(6768);D(s,y),s.Readable=t(12348),s.Writable=t(11288),s.Duplex=t(15316),s.Transform=t(22477),s.PassThrough=t(27136),s.finished=t(15932),s.pipeline=t(38180),s.Stream=s;function s(){y.call(this)}s.prototype.pipe=function(P,M){var d=this;function g(c){P.writable&&P.write(c)===!1&&d.pause&&d.pause()}d.on("data",g);function r(){d.readable&&d.resume&&d.resume()}P.on("drain",r),!P._isStdio&&(!M||M.end!==!1)&&(d.on("end",o),d.on("close",n));var e=!1;function o(){e||(e=!0,P.end())}function n(){e||(e=!0,typeof P.destroy=="function"&&P.destroy())}function u(c){if(f(),y.listenerCount(this,"error")===0)throw c}d.on("error",u),P.on("error",u);function f(){d.removeListener("data",g),P.removeListener("drain",r),d.removeListener("end",o),d.removeListener("close",n),d.removeListener("error",u),P.removeListener("error",u),d.removeListener("end",f),d.removeListener("close",f),P.removeListener("close",f)}return d.on("end",f),d.on("close",f),P.on("close",f),P.emit("pipe",d),P}},92784:function(W){function G(d,g){d.prototype=Object.create(g.prototype),d.prototype.constructor=d,d.__proto__=g}var t={};function y(d,g,r){r||(r=Error);function e(n,u,f){return typeof g=="string"?g:g(n,u,f)}var o=function(n){G(u,n);function u(f,c,m){return n.call(this,e(f,c,m))||this}return u}(r);o.prototype.name=r.name,o.prototype.code=d,t[d]=o}function D(d,g){if(Array.isArray(d)){var r=d.length;return d=d.map(function(e){return String(e)}),r>2?"one of ".concat(g," ").concat(d.slice(0,r-1).join(", "),", or ")+d[r-1]:r===2?"one of ".concat(g," ").concat(d[0]," or ").concat(d[1]):"of ".concat(g," ").concat(d[0])}else return"of ".concat(g," ").concat(String(d))}function s(d,g,r){return d.substr(0,g.length)===g}function P(d,g,r){return(r===void 0||r>d.length)&&(r=d.length),d.substring(r-g.length,r)===g}function M(d,g,r){return typeof r!="number"&&(r=0),r+g.length>d.length?!1:d.indexOf(g,r)!==-1}y("ERR_INVALID_OPT_VALUE",function(d,g){return'The value "'+g+'" is invalid for option "'+d+'"'},TypeError),y("ERR_INVALID_ARG_TYPE",function(d,g,r){var e;typeof g=="string"&&s(g,"not ")?(e="must not be",g=g.replace(/^not /,"")):e="must be";var o;if(P(d," argument"))o="The ".concat(d," ").concat(e," ").concat(D(g,"type"));else{var n=M(d,".")?"property":"argument";o='The "'.concat(d,'" ').concat(n," ").concat(e," ").concat(D(g,"type"))}return o+=". Received type ".concat(typeof r),o},TypeError),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),y("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),y("ERR_STREAM_PREMATURE_CLOSE","Premature close"),y("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),y("ERR_STREAM_WRITE_AFTER_END","write after end"),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),W.exports.i=t},15316:function(W,G,t){var y=t(4168),D=Object.keys||function(n){var u=[];for(var f in n)u.push(f);return u};W.exports=r;var s=t(12348),P=t(11288);t(6768)(r,s);for(var M=D(P.prototype),d=0;d<M.length;d++){var g=M[d];r.prototype[g]||(r.prototype[g]=P.prototype[g])}function r(n){if(!(this instanceof r))return new r(n);s.call(this,n),P.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",e)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function e(){this._writableState.ended||y.nextTick(o,this)}function o(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}})},27136:function(W,G,t){W.exports=D;var y=t(22477);t(6768)(D,y);function D(s){if(!(this instanceof D))return new D(s);y.call(this,s)}D.prototype._transform=function(s,P,M){M(null,s)}},12348:function(W,G,t){var y=t(4168);W.exports=a;var D;a.ReadableState=S,t(61252).EventEmitter;var s=function(j,lt){return j.listeners(lt).length},P=t(4776),M=t(33576).Buffer,d=t.g.Uint8Array||function(){};function g($){return M.from($)}function r($){return M.isBuffer($)||$ instanceof d}var e=t(19768),o;e&&e.debuglog?o=e.debuglog("stream"):o=function(){};var n=t(47264),u=t(55324),f=t(24888),c=f.getHighWaterMark,m=t(92784).i,v=m.ERR_INVALID_ARG_TYPE,T=m.ERR_STREAM_PUSH_AFTER_EOF,h=m.ERR_METHOD_NOT_IMPLEMENTED,i=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,w,A;t(6768)(a,P);var L=u.errorOrDestroy,x=["error","close","destroy","pause","resume"];function E($,j,lt){if(typeof $.prependListener=="function")return $.prependListener(j,lt);!$._events||!$._events[j]?$.on(j,lt):Array.isArray($._events[j])?$._events[j].unshift(lt):$._events[j]=[lt,$._events[j]]}function S($,j,lt){D=D||t(15316),$=$||{},typeof lt!="boolean"&&(lt=j instanceof D),this.objectMode=!!$.objectMode,lt&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=c(this,$,"readableHighWaterMark",lt),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(p||(p=t(86032).o),this.decoder=new p($.encoding),this.encoding=$.encoding)}function a($){if(D=D||t(15316),!(this instanceof a))return new a($);var j=this instanceof D;this._readableState=new S($,this,j),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),P.call(this)}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),a.prototype.destroy=u.destroy,a.prototype._undestroy=u.undestroy,a.prototype._destroy=function($,j){j($)},a.prototype.push=function($,j){var lt=this._readableState,nt;return lt.objectMode?nt=!0:typeof $=="string"&&(j=j||lt.defaultEncoding,j!==lt.encoding&&($=M.from($,j),j=""),nt=!0),C(this,$,j,!1,nt)},a.prototype.unshift=function($){return C(this,$,null,!0,!1)};function C($,j,lt,nt,ht){o("readableAddChunk",j);var mt=$._readableState;if(j===null)mt.reading=!1,V($,mt);else{var At;if(ht||(At=z(mt,j)),At)L($,At);else if(mt.objectMode||j&&j.length>0)if(typeof j!="string"&&!mt.objectMode&&Object.getPrototypeOf(j)!==M.prototype&&(j=g(j)),nt)mt.endEmitted?L($,new i):b($,mt,j,!0);else if(mt.ended)L($,new T);else{if(mt.destroyed)return!1;mt.reading=!1,mt.decoder&&!lt?(j=mt.decoder.write(j),mt.objectMode||j.length!==0?b($,mt,j,!1):H($,mt)):b($,mt,j,!1)}else nt||(mt.reading=!1,H($,mt))}return!mt.ended&&(mt.length<mt.highWaterMark||mt.length===0)}function b($,j,lt,nt){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,$.emit("data",lt)):(j.length+=j.objectMode?1:lt.length,nt?j.buffer.unshift(lt):j.buffer.push(lt),j.needReadable&&N($)),H($,j)}function z($,j){var lt;return!r(j)&&typeof j!="string"&&j!==void 0&&!$.objectMode&&(lt=new v("chunk",["string","Buffer","Uint8Array"],j)),lt}a.prototype.isPaused=function(){return this._readableState.flowing===!1},a.prototype.setEncoding=function($){p||(p=t(86032).o);var j=new p($);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var lt=this._readableState.buffer.head,nt="";lt!==null;)nt+=j.write(lt.data),lt=lt.next;return this._readableState.buffer.clear(),nt!==""&&this._readableState.buffer.push(nt),this._readableState.length=nt.length,this};var k=1073741824;function U($){return $>=k?$=k:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function F($,j){return $<=0||j.length===0&&j.ended?0:j.objectMode?1:$!==$?j.flowing&&j.length?j.buffer.head.data.length:j.length:($>j.highWaterMark&&(j.highWaterMark=U($)),$<=j.length?$:j.ended?j.length:(j.needReadable=!0,0))}a.prototype.read=function($){o("read",$),$=parseInt($,10);var j=this._readableState,lt=$;if($!==0&&(j.emittedReadable=!1),$===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return o("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?Z(this):N(this),null;if($=F($,j),$===0&&j.ended)return j.length===0&&Z(this),null;var nt=j.needReadable;o("need readable",nt),(j.length===0||j.length-$<j.highWaterMark)&&(nt=!0,o("length less than watermark",nt)),j.ended||j.reading?(nt=!1,o("reading or ended",nt)):nt&&(o("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||($=F(lt,j)));var ht;return $>0?ht=tt($,j):ht=null,ht===null?(j.needReadable=j.length<=j.highWaterMark,$=0):(j.length-=$,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),lt!==$&&j.ended&&Z(this)),ht!==null&&this.emit("data",ht),ht};function V($,j){if(o("onEofChunk"),!j.ended){if(j.decoder){var lt=j.decoder.end();lt&&lt.length&&(j.buffer.push(lt),j.length+=j.objectMode?1:lt.length)}j.ended=!0,j.sync?N($):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,O($)))}}function N($){var j=$._readableState;o("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(o("emitReadable",j.flowing),j.emittedReadable=!0,y.nextTick(O,$))}function O($){var j=$._readableState;o("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&($.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,Q($)}function H($,j){j.readingMore||(j.readingMore=!0,y.nextTick(X,$,j))}function X($,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var lt=j.length;if(o("maybeReadMore read 0"),$.read(0),lt===j.length)break}j.readingMore=!1}a.prototype._read=function($){L(this,new h("_read()"))},a.prototype.pipe=function($,j){var lt=this,nt=this._readableState;switch(nt.pipesCount){case 0:nt.pipes=$;break;case 1:nt.pipes=[nt.pipes,$];break;default:nt.pipes.push($);break}nt.pipesCount+=1,o("pipe count=%d opts=%j",nt.pipesCount,j);var ht=(!j||j.end!==!1)&&$!==y.stdout&&$!==y.stderr,mt=ht?bt:Ct;nt.endEmitted?y.nextTick(mt):lt.once("end",mt),$.on("unpipe",At);function At(Wt,Kt){o("onunpipe"),Wt===lt&&Kt&&Kt.hasUnpiped===!1&&(Kt.hasUnpiped=!0,Ut())}function bt(){o("onend"),$.end()}var Pt=J(lt);$.on("drain",Pt);var _t=!1;function Ut(){o("cleanup"),$.removeListener("close",Et),$.removeListener("finish",zt),$.removeListener("drain",Pt),$.removeListener("error",Rt),$.removeListener("unpipe",At),lt.removeListener("end",bt),lt.removeListener("end",Ct),lt.removeListener("data",St),_t=!0,nt.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&Pt()}lt.on("data",St);function St(Wt){o("ondata");var Kt=$.write(Wt);o("dest.write",Kt),Kt===!1&&((nt.pipesCount===1&&nt.pipes===$||nt.pipesCount>1&&ut(nt.pipes,$)!==-1)&&!_t&&(o("false write response, pause",nt.awaitDrain),nt.awaitDrain++),lt.pause())}function Rt(Wt){o("onerror",Wt),Ct(),$.removeListener("error",Rt),s($,"error")===0&&L($,Wt)}E($,"error",Rt);function Et(){$.removeListener("finish",zt),Ct()}$.once("close",Et);function zt(){o("onfinish"),$.removeListener("close",Et),Ct()}$.once("finish",zt);function Ct(){o("unpipe"),lt.unpipe($)}return $.emit("pipe",lt),nt.flowing||(o("pipe resume"),lt.resume()),$};function J($){return function(){var lt=$._readableState;o("pipeOnDrain",lt.awaitDrain),lt.awaitDrain&&lt.awaitDrain--,lt.awaitDrain===0&&s($,"data")&&(lt.flowing=!0,Q($))}}a.prototype.unpipe=function($){var j=this._readableState,lt={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return $&&$!==j.pipes?this:($||($=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,$&&$.emit("unpipe",this,lt),this);if(!$){var nt=j.pipes,ht=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var mt=0;mt<ht;mt++)nt[mt].emit("unpipe",this,{hasUnpiped:!1});return this}var At=ut(j.pipes,$);return At===-1?this:(j.pipes.splice(At,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),$.emit("unpipe",this,lt),this)},a.prototype.on=function($,j){var lt=P.prototype.on.call(this,$,j),nt=this._readableState;return $==="data"?(nt.readableListening=this.listenerCount("readable")>0,nt.flowing!==!1&&this.resume()):$==="readable"&&!nt.endEmitted&&!nt.readableListening&&(nt.readableListening=nt.needReadable=!0,nt.flowing=!1,nt.emittedReadable=!1,o("on readable",nt.length,nt.reading),nt.length?N(this):nt.reading||y.nextTick(it,this)),lt},a.prototype.addListener=a.prototype.on,a.prototype.removeListener=function($,j){var lt=P.prototype.removeListener.call(this,$,j);return $==="readable"&&y.nextTick(et,this),lt},a.prototype.removeAllListeners=function($){var j=P.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&y.nextTick(et,this),j};function et($){var j=$._readableState;j.readableListening=$.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:$.listenerCount("data")>0&&$.resume()}function it($){o("readable nexttick read 0"),$.read(0)}a.prototype.resume=function(){var $=this._readableState;return $.flowing||(o("resume"),$.flowing=!$.readableListening,ft(this,$)),$.paused=!1,this};function ft($,j){j.resumeScheduled||(j.resumeScheduled=!0,y.nextTick(ot,$,j))}function ot($,j){o("resume",j.reading),j.reading||$.read(0),j.resumeScheduled=!1,$.emit("resume"),Q($),j.flowing&&!j.reading&&$.read(0)}a.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Q($){var j=$._readableState;for(o("flow",j.flowing);j.flowing&&$.read()!==null;);}a.prototype.wrap=function($){var j=this,lt=this._readableState,nt=!1;$.on("end",function(){if(o("wrapped end"),lt.decoder&&!lt.ended){var At=lt.decoder.end();At&&At.length&&j.push(At)}j.push(null)}),$.on("data",function(At){if(o("wrapped data"),lt.decoder&&(At=lt.decoder.write(At)),!(lt.objectMode&&At==null)&&!(!lt.objectMode&&(!At||!At.length))){var bt=j.push(At);bt||(nt=!0,$.pause())}});for(var ht in $)this[ht]===void 0&&typeof $[ht]=="function"&&(this[ht]=function(bt){return function(){return $[bt].apply($,arguments)}}(ht));for(var mt=0;mt<x.length;mt++)$.on(x[mt],this.emit.bind(this,x[mt]));return this._read=function(At){o("wrapped _read",At),nt&&(nt=!1,$.resume())},this},typeof Symbol=="function"&&(a.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=t(60328)),w(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),a._fromList=tt,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function tt($,j){if(j.length===0)return null;var lt;return j.objectMode?lt=j.buffer.shift():!$||$>=j.length?(j.decoder?lt=j.buffer.join(""):j.buffer.length===1?lt=j.buffer.first():lt=j.buffer.concat(j.length),j.buffer.clear()):lt=j.buffer.consume($,j.decoder),lt}function Z($){var j=$._readableState;o("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,y.nextTick(q,j,$))}function q($,j){if(o("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,j.readable=!1,j.emit("end"),$.autoDestroy)){var lt=j._writableState;(!lt||lt.autoDestroy&&lt.finished)&&j.destroy()}}typeof Symbol=="function"&&(a.from=function($,j){return A===void 0&&(A=t(90555)),A(a,$,j)});function ut($,j){for(var lt=0,nt=$.length;lt<nt;lt++)if($[lt]===j)return lt;return-1}},22477:function(W,G,t){W.exports=r;var y=t(92784).i,D=y.ERR_METHOD_NOT_IMPLEMENTED,s=y.ERR_MULTIPLE_CALLBACK,P=y.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=y.ERR_TRANSFORM_WITH_LENGTH_0,d=t(15316);t(6768)(r,d);function g(n,u){var f=this._transformState;f.transforming=!1;var c=f.writecb;if(c===null)return this.emit("error",new s);f.writechunk=null,f.writecb=null,u!=null&&this.push(u),c(n);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);d.call(this,n),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",e)}function e(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(u,f){o(n,u,f)}):o(this,null,null)}r.prototype.push=function(n,u){return this._transformState.needTransform=!1,d.prototype.push.call(this,n,u)},r.prototype._transform=function(n,u,f){f(new D("_transform()"))},r.prototype._write=function(n,u,f){var c=this._transformState;if(c.writecb=f,c.writechunk=n,c.writeencoding=u,!c.transforming){var m=this._readableState;(c.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},r.prototype._read=function(n){var u=this._transformState;u.writechunk!==null&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},r.prototype._destroy=function(n,u){d.prototype._destroy.call(this,n,function(f){u(f)})};function o(n,u,f){if(u)return n.emit("error",u);if(f!=null&&n.push(f),n._writableState.length)throw new M;if(n._transformState.transforming)throw new P;return n.push(null)}},11288:function(W,G,t){var y=t(4168);W.exports=S;function D(Q){var tt=this;this.next=null,this.entry=null,this.finish=function(){ot(tt,Q)}}var s;S.WritableState=x;var P={deprecate:t(96656)},M=t(4776),d=t(33576).Buffer,g=t.g.Uint8Array||function(){};function r(Q){return d.from(Q)}function e(Q){return d.isBuffer(Q)||Q instanceof g}var o=t(55324),n=t(24888),u=n.getHighWaterMark,f=t(92784).i,c=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,v=f.ERR_MULTIPLE_CALLBACK,T=f.ERR_STREAM_CANNOT_PIPE,h=f.ERR_STREAM_DESTROYED,i=f.ERR_STREAM_NULL_VALUES,p=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,A=o.errorOrDestroy;t(6768)(S,M);function L(){}function x(Q,tt,Z){s=s||t(15316),Q=Q||{},typeof Z!="boolean"&&(Z=tt instanceof s),this.objectMode=!!Q.objectMode,Z&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=u(this,Q,"writableHighWaterMark",Z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=Q.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ut){V(tt,ut)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new D(this)}x.prototype.getBuffer=function(){for(var tt=this.bufferedRequest,Z=[];tt;)Z.push(tt),tt=tt.next;return Z},function(){try{Object.defineProperty(x.prototype,"buffer",{get:P.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(tt){return E.call(this,tt)?!0:this!==S?!1:tt&&tt._writableState instanceof x}})):E=function(tt){return tt instanceof this};function S(Q){s=s||t(15316);var tt=this instanceof s;if(!tt&&!E.call(S,this))return new S(Q);this._writableState=new x(Q,this,tt),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),M.call(this)}S.prototype.pipe=function(){A(this,new T)};function a(Q,tt){var Z=new p;A(Q,Z),y.nextTick(tt,Z)}function C(Q,tt,Z,q){var ut;return Z===null?ut=new i:typeof Z!="string"&&!tt.objectMode&&(ut=new c("chunk",["string","Buffer"],Z)),ut?(A(Q,ut),y.nextTick(q,ut),!1):!0}S.prototype.write=function(Q,tt,Z){var q=this._writableState,ut=!1,$=!q.objectMode&&e(Q);return $&&!d.isBuffer(Q)&&(Q=r(Q)),typeof tt=="function"&&(Z=tt,tt=null),$?tt="buffer":tt||(tt=q.defaultEncoding),typeof Z!="function"&&(Z=L),q.ending?a(this,Z):($||C(this,q,Q,Z))&&(q.pendingcb++,ut=z(this,q,$,Q,tt,Z)),ut},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&H(this,Q))},S.prototype.setDefaultEncoding=function(tt){if(typeof tt=="string"&&(tt=tt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((tt+"").toLowerCase())>-1))throw new w(tt);return this._writableState.defaultEncoding=tt,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(Q,tt,Z){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof tt=="string"&&(tt=d.from(tt,Z)),tt}Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(Q,tt,Z,q,ut,$){if(!Z){var j=b(tt,q,ut);q!==j&&(Z=!0,ut="buffer",q=j)}var lt=tt.objectMode?1:q.length;tt.length+=lt;var nt=tt.length<tt.highWaterMark;if(nt||(tt.needDrain=!0),tt.writing||tt.corked){var ht=tt.lastBufferedRequest;tt.lastBufferedRequest={chunk:q,encoding:ut,isBuf:Z,callback:$,next:null},ht?ht.next=tt.lastBufferedRequest:tt.bufferedRequest=tt.lastBufferedRequest,tt.bufferedRequestCount+=1}else k(Q,tt,!1,lt,q,ut,$);return nt}function k(Q,tt,Z,q,ut,$,j){tt.writelen=q,tt.writecb=j,tt.writing=!0,tt.sync=!0,tt.destroyed?tt.onwrite(new h("write")):Z?Q._writev(ut,tt.onwrite):Q._write(ut,$,tt.onwrite),tt.sync=!1}function U(Q,tt,Z,q,ut){--tt.pendingcb,Z?(y.nextTick(ut,q),y.nextTick(it,Q,tt),Q._writableState.errorEmitted=!0,A(Q,q)):(ut(q),Q._writableState.errorEmitted=!0,A(Q,q),it(Q,tt))}function F(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function V(Q,tt){var Z=Q._writableState,q=Z.sync,ut=Z.writecb;if(typeof ut!="function")throw new v;if(F(Z),tt)U(Q,Z,q,tt,ut);else{var $=X(Z)||Q.destroyed;!$&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&H(Q,Z),q?y.nextTick(N,Q,Z,$,ut):N(Q,Z,$,ut)}}function N(Q,tt,Z,q){Z||O(Q,tt),tt.pendingcb--,q(),it(Q,tt)}function O(Q,tt){tt.length===0&&tt.needDrain&&(tt.needDrain=!1,Q.emit("drain"))}function H(Q,tt){tt.bufferProcessing=!0;var Z=tt.bufferedRequest;if(Q._writev&&Z&&Z.next){var q=tt.bufferedRequestCount,ut=new Array(q),$=tt.corkedRequestsFree;$.entry=Z;for(var j=0,lt=!0;Z;)ut[j]=Z,Z.isBuf||(lt=!1),Z=Z.next,j+=1;ut.allBuffers=lt,k(Q,tt,!0,tt.length,ut,"",$.finish),tt.pendingcb++,tt.lastBufferedRequest=null,$.next?(tt.corkedRequestsFree=$.next,$.next=null):tt.corkedRequestsFree=new D(tt),tt.bufferedRequestCount=0}else{for(;Z;){var nt=Z.chunk,ht=Z.encoding,mt=Z.callback,At=tt.objectMode?1:nt.length;if(k(Q,tt,!1,At,nt,ht,mt),Z=Z.next,tt.bufferedRequestCount--,tt.writing)break}Z===null&&(tt.lastBufferedRequest=null)}tt.bufferedRequest=Z,tt.bufferProcessing=!1}S.prototype._write=function(Q,tt,Z){Z(new m("_write()"))},S.prototype._writev=null,S.prototype.end=function(Q,tt,Z){var q=this._writableState;return typeof Q=="function"?(Z=Q,Q=null,tt=null):typeof tt=="function"&&(Z=tt,tt=null),Q!=null&&this.write(Q,tt),q.corked&&(q.corked=1,this.uncork()),q.ending||ft(this,q,Z),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function X(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function J(Q,tt){Q._final(function(Z){tt.pendingcb--,Z&&A(Q,Z),tt.prefinished=!0,Q.emit("prefinish"),it(Q,tt)})}function et(Q,tt){!tt.prefinished&&!tt.finalCalled&&(typeof Q._final=="function"&&!tt.destroyed?(tt.pendingcb++,tt.finalCalled=!0,y.nextTick(J,Q,tt)):(tt.prefinished=!0,Q.emit("prefinish")))}function it(Q,tt){var Z=X(tt);if(Z&&(et(Q,tt),tt.pendingcb===0&&(tt.finished=!0,Q.emit("finish"),tt.autoDestroy))){var q=Q._readableState;(!q||q.autoDestroy&&q.endEmitted)&&Q.destroy()}return Z}function ft(Q,tt,Z){tt.ending=!0,it(Q,tt),Z&&(tt.finished?y.nextTick(Z):Q.once("finish",Z)),tt.ended=!0,Q.writable=!1}function ot(Q,tt,Z){var q=Q.entry;for(Q.entry=null;q;){var ut=q.callback;tt.pendingcb--,ut(Z),q=q.next}tt.corkedRequestsFree.next=Q}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(tt){this._writableState&&(this._writableState.destroyed=tt)}}),S.prototype.destroy=o.destroy,S.prototype._undestroy=o.undestroy,S.prototype._destroy=function(Q,tt){tt(Q)}},60328:function(W,G,t){var y=t(4168),D;function s(i,p,w){return p in i?Object.defineProperty(i,p,{value:w,enumerable:!0,configurable:!0,writable:!0}):i[p]=w,i}var P=t(15932),M=Symbol("lastResolve"),d=Symbol("lastReject"),g=Symbol("error"),r=Symbol("ended"),e=Symbol("lastPromise"),o=Symbol("handlePromise"),n=Symbol("stream");function u(i,p){return{value:i,done:p}}function f(i){var p=i[M];if(p!==null){var w=i[n].read();w!==null&&(i[e]=null,i[M]=null,i[d]=null,p(u(w,!1)))}}function c(i){y.nextTick(f,i)}function m(i,p){return function(w,A){i.then(function(){if(p[r]){w(u(void 0,!0));return}p[o](w,A)},A)}}var v=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((D={get stream(){return this[n]},next:function(){var p=this,w=this[g];if(w!==null)return Promise.reject(w);if(this[r])return Promise.resolve(u(void 0,!0));if(this[n].destroyed)return new Promise(function(E,S){y.nextTick(function(){p[g]?S(p[g]):E(u(void 0,!0))})});var A=this[e],L;if(A)L=new Promise(m(A,this));else{var x=this[n].read();if(x!==null)return Promise.resolve(u(x,!1));L=new Promise(this[o])}return this[e]=L,L}},s(D,Symbol.asyncIterator,function(){return this}),s(D,"return",function(){var p=this;return new Promise(function(w,A){p[n].destroy(null,function(L){if(L){A(L);return}w(u(void 0,!0))})})}),D),v),h=function(p){var w,A=Object.create(T,(w={},s(w,n,{value:p,writable:!0}),s(w,M,{value:null,writable:!0}),s(w,d,{value:null,writable:!0}),s(w,g,{value:null,writable:!0}),s(w,r,{value:p._readableState.endEmitted,writable:!0}),s(w,o,{value:function(x,E){var S=A[n].read();S?(A[e]=null,A[M]=null,A[d]=null,x(u(S,!1))):(A[M]=x,A[d]=E)},writable:!0}),w));return A[e]=null,P(p,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=A[d];x!==null&&(A[e]=null,A[M]=null,A[d]=null,x(L)),A[g]=L;return}var E=A[M];E!==null&&(A[e]=null,A[M]=null,A[d]=null,E(u(void 0,!0))),A[r]=!0}),p.on("readable",c.bind(null,A)),A};W.exports=h},47264:function(W,G,t){function y(f,c){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(f);c&&(v=v.filter(function(T){return Object.getOwnPropertyDescriptor(f,T).enumerable})),m.push.apply(m,v)}return m}function D(f){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?y(Object(m),!0).forEach(function(v){s(f,v,m[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):y(Object(m)).forEach(function(v){Object.defineProperty(f,v,Object.getOwnPropertyDescriptor(m,v))})}return f}function s(f,c,m){return c in f?Object.defineProperty(f,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[c]=m,f}function P(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function M(f,c){for(var m=0;m<c.length;m++){var v=c[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}function d(f,c,m){return c&&M(f.prototype,c),f}var g=t(33576),r=g.Buffer,e=t(21576),o=e.inspect,n=o&&o.custom||"inspect";function u(f,c,m){r.prototype.copy.call(f,c,m)}W.exports=function(){function f(){P(this,f),this.head=null,this.tail=null,this.length=0}return d(f,[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,T=""+v.data;v=v.next;)T+=m+v.data;return T}},{key:"concat",value:function(m){if(this.length===0)return r.alloc(0);for(var v=r.allocUnsafe(m>>>0),T=this.head,h=0;T;)u(T.data,v,h),h+=T.data.length,T=T.next;return v}},{key:"consume",value:function(m,v){var T;return m<this.head.data.length?(T=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?T=this.shift():T=v?this._getString(m):this._getBuffer(m),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,T=1,h=v.data;for(m-=h.length;v=v.next;){var i=v.data,p=m>i.length?i.length:m;if(p===i.length?h+=i:h+=i.slice(0,m),m-=p,m===0){p===i.length?(++T,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=i.slice(p));break}++T}return this.length-=T,h}},{key:"_getBuffer",value:function(m){var v=r.allocUnsafe(m),T=this.head,h=1;for(T.data.copy(v),m-=T.data.length;T=T.next;){var i=T.data,p=m>i.length?i.length:m;if(i.copy(v,v.length-m,0,p),m-=p,m===0){p===i.length?(++h,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=i.slice(p));break}++h}return this.length-=h,v}},{key:n,value:function(m,v){return o(this,D({},v,{depth:0,customInspect:!1}))}}]),f}()},55324:function(W,G,t){var y=t(4168);function D(r,e){var o=this,n=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return n||u?(e?e(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,y.nextTick(d,this,r)):y.nextTick(d,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(f){!e&&f?o._writableState?o._writableState.errorEmitted?y.nextTick(P,o):(o._writableState.errorEmitted=!0,y.nextTick(s,o,f)):y.nextTick(s,o,f):e?(y.nextTick(P,o),e(f)):y.nextTick(P,o)}),this)}function s(r,e){d(r,e),P(r)}function P(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function M(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(r,e){r.emit("error",e)}function g(r,e){var o=r._readableState,n=r._writableState;o&&o.autoDestroy||n&&n.autoDestroy?r.destroy(e):r.emit("error",e)}W.exports={destroy:D,undestroy:M,errorOrDestroy:g}},15932:function(W,G,t){var y=t(92784).i.ERR_STREAM_PREMATURE_CLOSE;function D(d){var g=!1;return function(){if(!g){g=!0;for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];d.apply(this,e)}}}function s(){}function P(d){return d.setHeader&&typeof d.abort=="function"}function M(d,g,r){if(typeof g=="function")return M(d,null,g);g||(g={}),r=D(r||s);var e=g.readable||g.readable!==!1&&d.readable,o=g.writable||g.writable!==!1&&d.writable,n=function(){d.writable||f()},u=d._writableState&&d._writableState.finished,f=function(){o=!1,u=!0,e||r.call(d)},c=d._readableState&&d._readableState.endEmitted,m=function(){e=!1,c=!0,o||r.call(d)},v=function(p){r.call(d,p)},T=function(){var p;if(e&&!c)return(!d._readableState||!d._readableState.ended)&&(p=new y),r.call(d,p);if(o&&!u)return(!d._writableState||!d._writableState.ended)&&(p=new y),r.call(d,p)},h=function(){d.req.on("finish",f)};return P(d)?(d.on("complete",f),d.on("abort",T),d.req?h():d.on("request",h)):o&&!d._writableState&&(d.on("end",n),d.on("close",n)),d.on("end",m),d.on("finish",f),g.error!==!1&&d.on("error",v),d.on("close",T),function(){d.removeListener("complete",f),d.removeListener("abort",T),d.removeListener("request",h),d.req&&d.req.removeListener("finish",f),d.removeListener("end",n),d.removeListener("close",n),d.removeListener("finish",f),d.removeListener("end",m),d.removeListener("error",v),d.removeListener("close",T)}}W.exports=M},90555:function(W){W.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(W,G,t){var y;function D(f){var c=!1;return function(){c||(c=!0,f.apply(void 0,arguments))}}var s=t(92784).i,P=s.ERR_MISSING_ARGS,M=s.ERR_STREAM_DESTROYED;function d(f){if(f)throw f}function g(f){return f.setHeader&&typeof f.abort=="function"}function r(f,c,m,v){v=D(v);var T=!1;f.on("close",function(){T=!0}),y===void 0&&(y=t(15932)),y(f,{readable:c,writable:m},function(i){if(i)return v(i);T=!0,v()});var h=!1;return function(i){if(!T&&!h){if(h=!0,g(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();v(i||new M("pipe"))}}}function e(f){f()}function o(f,c){return f.pipe(c)}function n(f){return!f.length||typeof f[f.length-1]!="function"?d:f.pop()}function u(){for(var f=arguments.length,c=new Array(f),m=0;m<f;m++)c[m]=arguments[m];var v=n(c);if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new P("streams");var T,h=c.map(function(i,p){var w=p<c.length-1,A=p>0;return r(i,w,A,function(L){T||(T=L),L&&h.forEach(e),!w&&(h.forEach(e),v(T))})});return c.reduce(o)}W.exports=u},24888:function(W,G,t){var y=t(92784).i.ERR_INVALID_OPT_VALUE;function D(P,M,d){return P.highWaterMark!=null?P.highWaterMark:M?P[d]:null}function s(P,M,d,g){var r=D(M,g,d);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var e=g?d:"highWaterMark";throw new y(e,r)}return Math.floor(r)}return P.objectMode?16:16384}W.exports={getHighWaterMark:s}},4776:function(W,G,t){W.exports=t(61252).EventEmitter},86032:function(W,G,t){var y=t(30456).Buffer,D=y.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(h){if(!h)return"utf8";for(var i;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(i)return;h=(""+h).toLowerCase(),i=!0}}function P(h){var i=s(h);if(typeof i!="string"&&(y.isEncoding===D||!D(h)))throw new Error("Unknown encoding: "+h);return i||h}G.o=M;function M(h){this.encoding=P(h);var i;switch(this.encoding){case"utf16le":this.text=u,this.end=f,i=4;break;case"utf8":this.fillLast=e,i=4;break;case"base64":this.text=c,this.end=m,i=3;break;default:this.write=v,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(i)}M.prototype.write=function(h){if(h.length===0)return"";var i,p;if(this.lastNeed){if(i=this.fillLast(h),i===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<h.length?i?i+this.text(h,p):this.text(h,p):i||""},M.prototype.end=n,M.prototype.text=o,M.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function d(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function g(h,i,p){var w=i.length-1;if(w<p)return 0;var A=d(i[w]);return A>=0?(A>0&&(h.lastNeed=A-1),A):--w<p||A===-2?0:(A=d(i[w]),A>=0?(A>0&&(h.lastNeed=A-2),A):--w<p||A===-2?0:(A=d(i[w]),A>=0?(A>0&&(A===2?A=0:h.lastNeed=A-3),A):0))}function r(h,i,p){if((i[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&i.length>1){if((i[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&i.length>2&&(i[2]&192)!==128)return h.lastNeed=2,""}}function e(h){var i=this.lastTotal-this.lastNeed,p=r(this,h);if(p!==void 0)return p;if(this.lastNeed<=h.length)return h.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,i,0,h.length),this.lastNeed-=h.length}function o(h,i){var p=g(this,h,i);if(!this.lastNeed)return h.toString("utf8",i);this.lastTotal=p;var w=h.length-(p-this.lastNeed);return h.copy(this.lastChar,0,w),h.toString("utf8",i,w)}function n(h){var i=h&&h.length?this.write(h):"";return this.lastNeed?i+"":i}function u(h,i){if((h.length-i)%2===0){var p=h.toString("utf16le",i);if(p){var w=p.charCodeAt(p.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",i,h.length-1)}function f(h){var i=h&&h.length?this.write(h):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return i+this.lastChar.toString("utf16le",0,p)}return i}function c(h,i){var p=(h.length-i)%3;return p===0?h.toString("base64",i):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",i,h.length-p))}function m(h){var i=h&&h.length?this.write(h):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function v(h){return h.toString(this.encoding)}function T(h){return h&&h.length?this.write(h):""}},55619:function(W,G,t){var y=t(45408),D=t(86844)("stream-parser");W.exports=g;var s=-1,P=0,M=1,d=2;function g(h){var i=h&&typeof h._transform=="function",p=h&&typeof h._write=="function";if(!i&&!p)throw new Error("must pass a Writable or Transform stream in");D("extending Parser into stream"),h._bytes=e,h._skipBytes=o,i&&(h._passthrough=n),i?h._transform=f:h._write=u}function r(h){D("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=s,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function e(h,i){y(!this._parserCallback,'there is already a "callback" set!'),y(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||r(this),D("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=i,this._parserState=P}function o(h,i){y(!this._parserCallback,'there is already a "callback" set!'),y(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||r(this),D("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=i,this._parserState=M}function n(h,i){y(!this._parserCallback,'There is already a "callback" set!'),y(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||r(this),D("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=i,this._parserState=d}function u(h,i,p){this._parserInit||r(this),D("write(%o bytes)",h.length),typeof i=="function"&&(p=i),v(this,h,null,p)}function f(h,i,p){this._parserInit||r(this),D("transform(%o bytes)",h.length),typeof i!="function"&&(i=this._parserOutput),v(this,h,i,p)}function c(h,i,p,w){return h._parserBytesLeft<=0?w(new Error("got data but not currently parsing anything")):i.length<=h._parserBytesLeft?function(){return m(h,i,p,w)}:function(){var A=i.slice(0,h._parserBytesLeft);return m(h,A,p,function(L){if(L)return w(L);if(i.length>A.length)return function(){return c(h,i.slice(A.length),p,w)}})}}function m(h,i,p,w){if(h._parserBytesLeft-=i.length,D("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===P?(h._parserBuffers.push(i),h._parserBuffered+=i.length):h._parserState===d&&p(i),h._parserBytesLeft===0){var A=h._parserCallback;if(A&&h._parserState===P&&h._parserBuffers.length>1&&(i=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==P&&(i=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=s,h._parserBuffers.splice(0),A){var L=[];i&&L.push(i),p&&L.push(p);var x=A.length>L.length;x&&L.push(T(w));var E=A.apply(h,L);if(!x||w===E)return w}}else return w}var v=T(c);function T(h){return function(){for(var i=h.apply(this,arguments);typeof i=="function";)i=i();return i}}},86844:function(W,G,t){var y=t(4168);G=W.exports=t(89416),G.log=P,G.formatArgs=s,G.save=M,G.load=d,G.useColors=D,G.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),G.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function D(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}G.formatters.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function s(r){var e=this.useColors;if(r[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+r[0]+(e?"%c ":" ")+"+"+G.humanize(this.diff),!!e){var o="color: "+this.color;r.splice(1,0,o,"color: inherit");var n=0,u=0;r[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(n++,f==="%c"&&(u=n))}),r.splice(u,0,o)}}function P(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function M(r){try{r==null?G.storage.removeItem("debug"):G.storage.debug=r}catch{}}function d(){var r;try{r=G.storage.debug}catch{}return!r&&typeof y<"u"&&"env"in y&&(r=y.env.DEBUG),r}G.enable(d());function g(){try{return window.localStorage}catch{}}},89416:function(W,G,t){G=W.exports=s.debug=s.default=s,G.coerce=g,G.disable=M,G.enable=P,G.enabled=d,G.humanize=t(93744),G.names=[],G.skips=[],G.formatters={};var y;function D(r){var e=0,o;for(o in r)e=(e<<5)-e+r.charCodeAt(o),e|=0;return G.colors[Math.abs(e)%G.colors.length]}function s(r){function e(){if(e.enabled){var o=e,n=+new Date,u=n-(y||n);o.diff=u,o.prev=y,o.curr=n,y=n;for(var f=new Array(arguments.length),c=0;c<f.length;c++)f[c]=arguments[c];f[0]=G.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var m=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(T,h){if(T==="%%")return T;m++;var i=G.formatters[h];if(typeof i=="function"){var p=f[m];T=i.call(o,p),f.splice(m,1),m--}return T}),G.formatArgs.call(o,f);var v=e.log||G.log||console.log.bind(console);v.apply(o,f)}}return e.namespace=r,e.enabled=G.enabled(r),e.useColors=G.useColors(),e.color=D(r),typeof G.init=="function"&&G.init(e),e}function P(r){G.save(r),G.names=[],G.skips=[];for(var e=(typeof r=="string"?r:"").split(/[\s,]+/),o=e.length,n=0;n<o;n++)e[n]&&(r=e[n].replace(/\*/g,".*?"),r[0]==="-"?G.skips.push(new RegExp("^"+r.substr(1)+"$")):G.names.push(new RegExp("^"+r+"$")))}function M(){G.enable("")}function d(r){var e,o;for(e=0,o=G.skips.length;e<o;e++)if(G.skips[e].test(r))return!1;for(e=0,o=G.names.length;e<o;e++)if(G.names[e].test(r))return!0;return!1}function g(r){return r instanceof Error?r.stack||r.message:r}},93744:function(W){var G=1e3,t=G*60,y=t*60,D=y*24,s=D*365.25;W.exports=function(r,e){e=e||{};var o=typeof r;if(o==="string"&&r.length>0)return P(r);if(o==="number"&&isNaN(r)===!1)return e.long?d(r):M(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function P(r){if(r=String(r),!(r.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(e){var o=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return o*s;case"days":case"day":case"d":return o*D;case"hours":case"hour":case"hrs":case"hr":case"h":return o*y;case"minutes":case"minute":case"mins":case"min":case"m":return o*t;case"seconds":case"second":case"secs":case"sec":case"s":return o*G;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}function M(r){return r>=D?Math.round(r/D)+"d":r>=y?Math.round(r/y)+"h":r>=t?Math.round(r/t)+"m":r>=G?Math.round(r/G)+"s":r+"ms"}function d(r){return g(r,D,"day")||g(r,y,"hour")||g(r,t,"minute")||g(r,G,"second")||r+" ms"}function g(r,e,o){if(!(r<e))return r<e*1.5?Math.floor(r/e)+" "+o:Math.ceil(r/e)+" "+o+"s"}},39956:function(W,G,t){var y=t(32868);W.exports=function(s,P,M){if(s==null)throw Error("First argument should be a string");if(P==null)throw Error("Separator should be a string or a RegExp");M?(typeof M=="string"||Array.isArray(M))&&(M={ignore:M}):M={},M.escape==null&&(M.escape=!0),M.ignore==null?M.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof M.ignore=="string"&&(M.ignore=[M.ignore]),M.ignore=M.ignore.map(function(f){return f.length===1&&(f=f+f),f}));var d=y.parse(s,{flat:!0,brackets:M.ignore}),g=d[0],r=g.split(P);if(M.escape){for(var e=[],o=0;o<r.length;o++){var n=r[o],u=r[o+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(e.push(n+P+u),o++):e.push(n)}r=e}for(var o=0;o<r.length;o++)d[0]=r[o],r[o]=y.stringify(d,{flat:!0});return r}},78484:function(W){W.exports=G;function G(t){for(var y=t.length,D=new Array(y),s=new Array(y),P=new Array(y),M=new Array(y),d=new Array(y),g=new Array(y),r=0;r<y;++r)D[r]=-1,s[r]=0,P[r]=!1,M[r]=0,d[r]=-1,g[r]=[];var e=0,o=[],n=[];function u(v){var T=[v],h=[v];for(D[v]=s[v]=e,P[v]=!0,e+=1;h.length>0;){v=h[h.length-1];var i=t[v];if(M[v]<i.length){for(var p=M[v];p<i.length;++p){var w=i[p];if(D[w]<0){D[w]=s[w]=e,P[w]=!0,e+=1,T.push(w),h.push(w);break}else P[w]&&(s[v]=Math.min(s[v],s[w])|0);d[w]>=0&&g[v].push(d[w])}M[v]=p}else{if(s[v]===D[v]){for(var A=[],L=[],x=0,p=T.length-1;p>=0;--p){var E=T[p];if(P[E]=!1,A.push(E),L.push(g[E]),x+=g[E].length,d[E]=o.length,E===v){T.length=p;break}}o.push(A);for(var S=new Array(x),p=0;p<L.length;p++)for(var a=0;a<L[p].length;a++)S[--x]=L[p][a];n.push(S)}h.pop()}}}for(var r=0;r<y;++r)D[r]<0&&u(r);for(var f,r=0;r<n.length;r++){var c=n[r];if(c.length!==0){c.sort(function(T,h){return T-h}),f=[c[0]];for(var m=1;m<c.length;m++)c[m]!==c[m-1]&&f.push(c[m]);n[r]=f}}return{components:o,adjacencyList:n}}},92848:function(W,G,t){t.r(G);var y=function(){function r(e,o){var n=[],u=!0,f=!1,c=void 0;try{for(var m=e[Symbol.iterator](),v;!(u=(v=m.next()).done)&&(n.push(v.value),!(o&&n.length===o));u=!0);}catch(T){f=!0,c=T}finally{try{!u&&m.return&&m.return()}finally{if(f)throw c}}return n}return function(e,o){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=Math.PI*2,s=function(e,o,n,u,f,c,m){var v=e.x,T=e.y;v*=o,T*=n;var h=u*v-f*T,i=f*v+u*T;return{x:h+c,y:i+m}},P=function(e,o){var n=o===1.5707963267948966?.551915024494:o===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(o/4),u=Math.cos(e),f=Math.sin(e),c=Math.cos(e+o),m=Math.sin(e+o);return[{x:u-f*n,y:f+u*n},{x:c+m*n,y:m-c*n},{x:c,y:m}]},M=function(e,o,n,u){var f=e*u-o*n<0?-1:1,c=e*n+o*u;return c>1&&(c=1),c<-1&&(c=-1),f*Math.acos(c)},d=function(e,o,n,u,f,c,m,v,T,h,i,p){var w=Math.pow(f,2),A=Math.pow(c,2),L=Math.pow(i,2),x=Math.pow(p,2),E=w*A-w*x-A*L;E<0&&(E=0),E/=w*x+A*L,E=Math.sqrt(E)*(m===v?-1:1);var S=E*f/c*p,a=E*-c/f*i,C=h*S-T*a+(e+n)/2,b=T*S+h*a+(o+u)/2,z=(i-S)/f,k=(p-a)/c,U=(-i-S)/f,F=(-p-a)/c,V=M(1,0,z,k),N=M(z,k,U,F);return v===0&&N>0&&(N-=D),v===1&&N<0&&(N+=D),[C,b,V,N]},g=function(e){var o=e.px,n=e.py,u=e.cx,f=e.cy,c=e.rx,m=e.ry,v=e.xAxisRotation,T=v===void 0?0:v,h=e.largeArcFlag,i=h===void 0?0:h,p=e.sweepFlag,w=p===void 0?0:p,A=[];if(c===0||m===0)return[];var L=Math.sin(T*D/360),x=Math.cos(T*D/360),E=x*(o-u)/2+L*(n-f)/2,S=-L*(o-u)/2+x*(n-f)/2;if(E===0&&S===0)return[];c=Math.abs(c),m=Math.abs(m);var a=Math.pow(E,2)/Math.pow(c,2)+Math.pow(S,2)/Math.pow(m,2);a>1&&(c*=Math.sqrt(a),m*=Math.sqrt(a));var C=d(o,n,u,f,c,m,i,w,L,x,E,S),b=y(C,4),z=b[0],k=b[1],U=b[2],F=b[3],V=Math.abs(F)/(D/4);Math.abs(1-V)<1e-7&&(V=1);var N=Math.max(Math.ceil(V),1);F/=N;for(var O=0;O<N;O++)A.push(P(U,F)),U+=F;return A.map(function(H){var X=s(H[0],c,m,x,L,z,k),J=X.x,et=X.y,it=s(H[1],c,m,x,L,z,k),ft=it.x,ot=it.y,Q=s(H[2],c,m,x,L,z,k),tt=Q.x,Z=Q.y;return{x1:J,y1:et,x2:ft,y2:ot,x:tt,y:Z}})};G.default=g},74840:function(W,G,t){var y=t(21984),D=t(49972),s=t(41976),P=t(53520),M=t(45408);W.exports=d;function d(g){if(Array.isArray(g)&&g.length===1&&typeof g[0]=="string"&&(g=g[0]),typeof g=="string"&&(M(P(g),"String is not an SVG path."),g=y(g)),M(Array.isArray(g),"Argument should be a string or an array of path segments."),g=D(g),g=s(g),!g.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],e=0,o=g.length;e<o;e++)for(var n=g[e].slice(1),u=0;u<n.length;u+=2)n[u+0]<r[0]&&(r[0]=n[u+0]),n[u+1]<r[1]&&(r[1]=n[u+1]),n[u+0]>r[2]&&(r[2]=n[u+0]),n[u+1]>r[3]&&(r[3]=n[u+1]);return r}},41976:function(W,G,t){W.exports=D;var y=t(92848);function D(M){for(var d,g=[],r=0,e=0,o=0,n=0,u=null,f=null,c=0,m=0,v=0,T=M.length;v<T;v++){var h=M[v],i=h[0];switch(i){case"M":o=h[1],n=h[2];break;case"A":var p=y({px:c,py:m,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!p.length)continue;for(var w=0,A;w<p.length;w++)A=p[w],h=["C",A.x1,A.y1,A.x2,A.y2,A.x,A.y],w<p.length-1&&g.push(h);break;case"S":var L=c,x=m;(d=="C"||d=="S")&&(L+=L-r,x+=x-e),h=["C",L,x,h[1],h[2],h[3],h[4]];break;case"T":d=="Q"||d=="T"?(u=c*2-u,f=m*2-f):(u=c,f=m),h=P(c,m,u,f,h[1],h[2]);break;case"Q":u=h[1],f=h[2],h=P(c,m,h[1],h[2],h[3],h[4]);break;case"L":h=s(c,m,h[1],h[2]);break;case"H":h=s(c,m,h[1],m);break;case"V":h=s(c,m,c,h[1]);break;case"Z":h=s(c,m,o,n);break}d=i,c=h[h.length-2],m=h[h.length-1],h.length>4?(r=h[h.length-4],e=h[h.length-3]):(r=c,e=m),g.push(h)}return g}function s(M,d,g,r){return["C",M,d,g,r,g,r]}function P(M,d,g,r,e,o){return["C",M/3+.6666666666666666*g,d/3+.6666666666666666*r,e/3+.6666666666666666*g,o/3+.6666666666666666*r,e,o]}},20472:function(W,G,t){var y=t(74840),D=t(21984),s=t(22235),P=t(53520),M=t(29620),d=document.createElement("canvas"),g=d.getContext("2d");W.exports=r;function r(n,u){if(!P(n))throw Error("Argument should be valid svg path string");u||(u={});var f,c;u.shape?(f=u.shape[0],c=u.shape[1]):(f=d.width=u.w||u.width||200,c=d.height=u.h||u.height||200);var m=Math.min(f,c),v=u.stroke||0,T=u.viewbox||u.viewBox||y(n),h=[f/(T[2]-T[0]),c/(T[3]-T[1])],i=Math.min(h[0]||0,h[1]||0)/2;if(g.fillStyle="black",g.fillRect(0,0,f,c),g.fillStyle="white",v&&(typeof v!="number"&&(v=1),v>0?g.strokeStyle="white":g.strokeStyle="black",g.lineWidth=Math.abs(v)),g.translate(f*.5,c*.5),g.scale(i,i),o()){var p=new Path2D(n);g.fill(p),v&&g.stroke(p)}else{var w=D(n);s(g,w),g.fill(),v&&g.stroke()}g.setTransform(1,0,0,1,0,0);var A=M(g,{cutoff:u.cutoff!=null?u.cutoff:.5,radius:u.radius!=null?u.radius:m*.5});return A}var e;function o(){if(e!=null)return e;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return e=!1;var u=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(u);var f=n.getImageData(0,0,1,1);return e=f&&f.data&&f.data[3]===255}},49760:function(W,G,t){var y;(function(D){var s=/^\s+/,P=/\s+$/,M=0,d=D.round,g=D.min,r=D.max,e=D.random;function o(j,lt){if(j=j||"",lt=lt||{},j instanceof o)return j;if(!(this instanceof o))return new o(j,lt);var nt=n(j);this._originalInput=j,this._r=nt.r,this._g=nt.g,this._b=nt.b,this._a=nt.a,this._roundA=d(100*this._a)/100,this._format=lt.format||nt.format,this._gradientType=lt.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=nt.ok,this._tc_id=M++}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var j=this.toRgb();return(j.r*299+j.g*587+j.b*114)/1e3},getLuminance:function(){var j=this.toRgb(),lt,nt,ht,mt,At,bt;return lt=j.r/255,nt=j.g/255,ht=j.b/255,lt<=.03928?mt=lt/12.92:mt=D.pow((lt+.055)/1.055,2.4),nt<=.03928?At=nt/12.92:At=D.pow((nt+.055)/1.055,2.4),ht<=.03928?bt=ht/12.92:bt=D.pow((ht+.055)/1.055,2.4),.2126*mt+.7152*At+.0722*bt},setAlpha:function(j){return this._a=O(j),this._roundA=d(100*this._a)/100,this},toHsv:function(){var j=m(this._r,this._g,this._b);return{h:j.h*360,s:j.s,v:j.v,a:this._a}},toHsvString:function(){var j=m(this._r,this._g,this._b),lt=d(j.h*360),nt=d(j.s*100),ht=d(j.v*100);return this._a==1?"hsv("+lt+", "+nt+"%, "+ht+"%)":"hsva("+lt+", "+nt+"%, "+ht+"%, "+this._roundA+")"},toHsl:function(){var j=f(this._r,this._g,this._b);return{h:j.h*360,s:j.s,l:j.l,a:this._a}},toHslString:function(){var j=f(this._r,this._g,this._b),lt=d(j.h*360),nt=d(j.s*100),ht=d(j.l*100);return this._a==1?"hsl("+lt+", "+nt+"%, "+ht+"%)":"hsla("+lt+", "+nt+"%, "+ht+"%, "+this._roundA+")"},toHex:function(j){return T(this._r,this._g,this._b,j)},toHexString:function(j){return"#"+this.toHex(j)},toHex8:function(j){return h(this._r,this._g,this._b,this._a,j)},toHex8String:function(j){return"#"+this.toHex8(j)},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(H(this._r,255)*100)+"%",g:d(H(this._g,255)*100)+"%",b:d(H(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+d(H(this._r,255)*100)+"%, "+d(H(this._g,255)*100)+"%, "+d(H(this._b,255)*100)+"%)":"rgba("+d(H(this._r,255)*100)+"%, "+d(H(this._g,255)*100)+"%, "+d(H(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:V[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(j){var lt="#"+i(this._r,this._g,this._b,this._a),nt=lt,ht=this._gradientType?"GradientType = 1, ":"";if(j){var mt=o(j);nt="#"+i(mt._r,mt._g,mt._b,mt._a)}return"progid:DXImageTransform.Microsoft.gradient("+ht+"startColorstr="+lt+",endColorstr="+nt+")"},toString:function(j){var lt=!!j;j=j||this._format;var nt=!1,ht=this._a<1&&this._a>=0,mt=!lt&&ht&&(j==="hex"||j==="hex6"||j==="hex3"||j==="hex4"||j==="hex8"||j==="name");return mt?j==="name"&&this._a===0?this.toName():this.toRgbString():(j==="rgb"&&(nt=this.toRgbString()),j==="prgb"&&(nt=this.toPercentageRgbString()),(j==="hex"||j==="hex6")&&(nt=this.toHexString()),j==="hex3"&&(nt=this.toHexString(!0)),j==="hex4"&&(nt=this.toHex8String(!0)),j==="hex8"&&(nt=this.toHex8String()),j==="name"&&(nt=this.toName()),j==="hsl"&&(nt=this.toHslString()),j==="hsv"&&(nt=this.toHsvString()),nt||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(j,lt){var nt=j.apply(null,[this].concat([].slice.call(lt)));return this._r=nt._r,this._g=nt._g,this._b=nt._b,this.setAlpha(nt._a),this},lighten:function(){return this._applyModification(L,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(j,lt){return j.apply(null,[this].concat([].slice.call(lt)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(a,arguments)},monochromatic:function(){return this._applyCombination(U,arguments)},splitcomplement:function(){return this._applyCombination(z,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},o.fromRatio=function(j,lt){if(typeof j=="object"){var nt={};for(var ht in j)j.hasOwnProperty(ht)&&(ht==="a"?nt[ht]=j[ht]:nt[ht]=ot(j[ht]));j=nt}return o(j,lt)};function n(j){var lt={r:0,g:0,b:0},nt=1,ht=null,mt=null,At=null,bt=!1,Pt=!1;return typeof j=="string"&&(j=ut(j)),typeof j=="object"&&(q(j.r)&&q(j.g)&&q(j.b)?(lt=u(j.r,j.g,j.b),bt=!0,Pt=String(j.r).substr(-1)==="%"?"prgb":"rgb"):q(j.h)&&q(j.s)&&q(j.v)?(ht=ot(j.s),mt=ot(j.v),lt=v(j.h,ht,mt),bt=!0,Pt="hsv"):q(j.h)&&q(j.s)&&q(j.l)&&(ht=ot(j.s),At=ot(j.l),lt=c(j.h,ht,At),bt=!0,Pt="hsl"),j.hasOwnProperty("a")&&(nt=j.a)),nt=O(nt),{ok:bt,format:j.format||Pt,r:g(255,r(lt.r,0)),g:g(255,r(lt.g,0)),b:g(255,r(lt.b,0)),a:nt}}function u(j,lt,nt){return{r:H(j,255)*255,g:H(lt,255)*255,b:H(nt,255)*255}}function f(j,lt,nt){j=H(j,255),lt=H(lt,255),nt=H(nt,255);var ht=r(j,lt,nt),mt=g(j,lt,nt),At,bt,Pt=(ht+mt)/2;if(ht==mt)At=bt=0;else{var _t=ht-mt;switch(bt=Pt>.5?_t/(2-ht-mt):_t/(ht+mt),ht){case j:At=(lt-nt)/_t+(lt<nt?6:0);break;case lt:At=(nt-j)/_t+2;break;case nt:At=(j-lt)/_t+4;break}At/=6}return{h:At,s:bt,l:Pt}}function c(j,lt,nt){var ht,mt,At;j=H(j,360),lt=H(lt,100),nt=H(nt,100);function bt(Ut,St,Rt){return Rt<0&&(Rt+=1),Rt>1&&(Rt-=1),Rt<.16666666666666666?Ut+(St-Ut)*6*Rt:Rt<.5?St:Rt<.6666666666666666?Ut+(St-Ut)*(.6666666666666666-Rt)*6:Ut}if(lt===0)ht=mt=At=nt;else{var Pt=nt<.5?nt*(1+lt):nt+lt-nt*lt,_t=2*nt-Pt;ht=bt(_t,Pt,j+.3333333333333333),mt=bt(_t,Pt,j),At=bt(_t,Pt,j-.3333333333333333)}return{r:ht*255,g:mt*255,b:At*255}}function m(j,lt,nt){j=H(j,255),lt=H(lt,255),nt=H(nt,255);var ht=r(j,lt,nt),mt=g(j,lt,nt),At,bt,Pt=ht,_t=ht-mt;if(bt=ht===0?0:_t/ht,ht==mt)At=0;else{switch(ht){case j:At=(lt-nt)/_t+(lt<nt?6:0);break;case lt:At=(nt-j)/_t+2;break;case nt:At=(j-lt)/_t+4;break}At/=6}return{h:At,s:bt,v:Pt}}function v(j,lt,nt){j=H(j,360)*6,lt=H(lt,100),nt=H(nt,100);var ht=D.floor(j),mt=j-ht,At=nt*(1-lt),bt=nt*(1-mt*lt),Pt=nt*(1-(1-mt)*lt),_t=ht%6,Ut=[nt,bt,At,At,Pt,nt][_t],St=[Pt,nt,nt,bt,At,At][_t],Rt=[At,At,Pt,nt,nt,bt][_t];return{r:Ut*255,g:St*255,b:Rt*255}}function T(j,lt,nt,ht){var mt=[ft(d(j).toString(16)),ft(d(lt).toString(16)),ft(d(nt).toString(16))];return ht&&mt[0].charAt(0)==mt[0].charAt(1)&&mt[1].charAt(0)==mt[1].charAt(1)&&mt[2].charAt(0)==mt[2].charAt(1)?mt[0].charAt(0)+mt[1].charAt(0)+mt[2].charAt(0):mt.join("")}function h(j,lt,nt,ht,mt){var At=[ft(d(j).toString(16)),ft(d(lt).toString(16)),ft(d(nt).toString(16)),ft(Q(ht))];return mt&&At[0].charAt(0)==At[0].charAt(1)&&At[1].charAt(0)==At[1].charAt(1)&&At[2].charAt(0)==At[2].charAt(1)&&At[3].charAt(0)==At[3].charAt(1)?At[0].charAt(0)+At[1].charAt(0)+At[2].charAt(0)+At[3].charAt(0):At.join("")}function i(j,lt,nt,ht){var mt=[ft(Q(ht)),ft(d(j).toString(16)),ft(d(lt).toString(16)),ft(d(nt).toString(16))];return mt.join("")}o.equals=function(j,lt){return!j||!lt?!1:o(j).toRgbString()==o(lt).toRgbString()},o.random=function(){return o.fromRatio({r:e(),g:e(),b:e()})};function p(j,lt){lt=lt===0?0:lt||10;var nt=o(j).toHsl();return nt.s-=lt/100,nt.s=X(nt.s),o(nt)}function w(j,lt){lt=lt===0?0:lt||10;var nt=o(j).toHsl();return nt.s+=lt/100,nt.s=X(nt.s),o(nt)}function A(j){return o(j).desaturate(100)}function L(j,lt){lt=lt===0?0:lt||10;var nt=o(j).toHsl();return nt.l+=lt/100,nt.l=X(nt.l),o(nt)}function x(j,lt){lt=lt===0?0:lt||10;var nt=o(j).toRgb();return nt.r=r(0,g(255,nt.r-d(255*-(lt/100)))),nt.g=r(0,g(255,nt.g-d(255*-(lt/100)))),nt.b=r(0,g(255,nt.b-d(255*-(lt/100)))),o(nt)}function E(j,lt){lt=lt===0?0:lt||10;var nt=o(j).toHsl();return nt.l-=lt/100,nt.l=X(nt.l),o(nt)}function S(j,lt){var nt=o(j).toHsl(),ht=(nt.h+lt)%360;return nt.h=ht<0?360+ht:ht,o(nt)}function a(j){var lt=o(j).toHsl();return lt.h=(lt.h+180)%360,o(lt)}function C(j){var lt=o(j).toHsl(),nt=lt.h;return[o(j),o({h:(nt+120)%360,s:lt.s,l:lt.l}),o({h:(nt+240)%360,s:lt.s,l:lt.l})]}function b(j){var lt=o(j).toHsl(),nt=lt.h;return[o(j),o({h:(nt+90)%360,s:lt.s,l:lt.l}),o({h:(nt+180)%360,s:lt.s,l:lt.l}),o({h:(nt+270)%360,s:lt.s,l:lt.l})]}function z(j){var lt=o(j).toHsl(),nt=lt.h;return[o(j),o({h:(nt+72)%360,s:lt.s,l:lt.l}),o({h:(nt+216)%360,s:lt.s,l:lt.l})]}function k(j,lt,nt){lt=lt||6,nt=nt||30;var ht=o(j).toHsl(),mt=360/nt,At=[o(j)];for(ht.h=(ht.h-(mt*lt>>1)+720)%360;--lt;)ht.h=(ht.h+mt)%360,At.push(o(ht));return At}function U(j,lt){lt=lt||6;for(var nt=o(j).toHsv(),ht=nt.h,mt=nt.s,At=nt.v,bt=[],Pt=1/lt;lt--;)bt.push(o({h:ht,s:mt,v:At})),At=(At+Pt)%1;return bt}o.mix=function(j,lt,nt){nt=nt===0?0:nt||50;var ht=o(j).toRgb(),mt=o(lt).toRgb(),At=nt/100,bt={r:(mt.r-ht.r)*At+ht.r,g:(mt.g-ht.g)*At+ht.g,b:(mt.b-ht.b)*At+ht.b,a:(mt.a-ht.a)*At+ht.a};return o(bt)},o.readability=function(j,lt){var nt=o(j),ht=o(lt);return(D.max(nt.getLuminance(),ht.getLuminance())+.05)/(D.min(nt.getLuminance(),ht.getLuminance())+.05)},o.isReadable=function(j,lt,nt){var ht=o.readability(j,lt),mt,At;switch(At=!1,mt=$(nt),mt.level+mt.size){case"AAsmall":case"AAAlarge":At=ht>=4.5;break;case"AAlarge":At=ht>=3;break;case"AAAsmall":At=ht>=7;break}return At},o.mostReadable=function(j,lt,nt){var ht=null,mt=0,At,bt,Pt,_t;nt=nt||{},bt=nt.includeFallbackColors,Pt=nt.level,_t=nt.size;for(var Ut=0;Ut<lt.length;Ut++)At=o.readability(j,lt[Ut]),At>mt&&(mt=At,ht=o(lt[Ut]));return o.isReadable(j,ht,{level:Pt,size:_t})||!bt?ht:(nt.includeFallbackColors=!1,o.mostReadable(j,["#fff","#000"],nt))};var F=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V=o.hexNames=N(F);function N(j){var lt={};for(var nt in j)j.hasOwnProperty(nt)&&(lt[j[nt]]=nt);return lt}function O(j){return j=parseFloat(j),(isNaN(j)||j<0||j>1)&&(j=1),j}function H(j,lt){et(j)&&(j="100%");var nt=it(j);return j=g(lt,r(0,parseFloat(j))),nt&&(j=parseInt(j*lt,10)/100),D.abs(j-lt)<1e-6?1:j%lt/parseFloat(lt)}function X(j){return g(1,r(0,j))}function J(j){return parseInt(j,16)}function et(j){return typeof j=="string"&&j.indexOf(".")!=-1&&parseFloat(j)===1}function it(j){return typeof j=="string"&&j.indexOf("%")!=-1}function ft(j){return j.length==1?"0"+j:""+j}function ot(j){return j<=1&&(j=j*100+"%"),j}function Q(j){return D.round(parseFloat(j)*255).toString(16)}function tt(j){return J(j)/255}var Z=function(){var j="[-\\+]?\\d+%?",lt="[-\\+]?\\d*\\.\\d+%?",nt="(?:"+lt+")|(?:"+j+")",ht="[\\s|\\(]+("+nt+")[,|\\s]+("+nt+")[,|\\s]+("+nt+")\\s*\\)?",mt="[\\s|\\(]+("+nt+")[,|\\s]+("+nt+")[,|\\s]+("+nt+")[,|\\s]+("+nt+")\\s*\\)?";return{CSS_UNIT:new RegExp(nt),rgb:new RegExp("rgb"+ht),rgba:new RegExp("rgba"+mt),hsl:new RegExp("hsl"+ht),hsla:new RegExp("hsla"+mt),hsv:new RegExp("hsv"+ht),hsva:new RegExp("hsva"+mt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function q(j){return!!Z.CSS_UNIT.exec(j)}function ut(j){j=j.replace(s,"").replace(P,"").toLowerCase();var lt=!1;if(F[j])j=F[j],lt=!0;else if(j=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var nt;return(nt=Z.rgb.exec(j))?{r:nt[1],g:nt[2],b:nt[3]}:(nt=Z.rgba.exec(j))?{r:nt[1],g:nt[2],b:nt[3],a:nt[4]}:(nt=Z.hsl.exec(j))?{h:nt[1],s:nt[2],l:nt[3]}:(nt=Z.hsla.exec(j))?{h:nt[1],s:nt[2],l:nt[3],a:nt[4]}:(nt=Z.hsv.exec(j))?{h:nt[1],s:nt[2],v:nt[3]}:(nt=Z.hsva.exec(j))?{h:nt[1],s:nt[2],v:nt[3],a:nt[4]}:(nt=Z.hex8.exec(j))?{r:J(nt[1]),g:J(nt[2]),b:J(nt[3]),a:tt(nt[4]),format:lt?"name":"hex8"}:(nt=Z.hex6.exec(j))?{r:J(nt[1]),g:J(nt[2]),b:J(nt[3]),format:lt?"name":"hex"}:(nt=Z.hex4.exec(j))?{r:J(nt[1]+""+nt[1]),g:J(nt[2]+""+nt[2]),b:J(nt[3]+""+nt[3]),a:tt(nt[4]+""+nt[4]),format:lt?"name":"hex8"}:(nt=Z.hex3.exec(j))?{r:J(nt[1]+""+nt[1]),g:J(nt[2]+""+nt[2]),b:J(nt[3]+""+nt[3]),format:lt?"name":"hex"}:!1}function $(j){var lt,nt;return j=j||{level:"AA",size:"small"},lt=(j.level||"AA").toUpperCase(),nt=(j.size||"small").toLowerCase(),lt!=="AA"&&lt!=="AAA"&&(lt="AA"),nt!=="small"&&nt!=="large"&&(nt="small"),{level:lt,size:nt}}W.exports?W.exports=o:(y=(function(){return o}).call(G,t,G,W),y!==void 0&&(W.exports=y))})(Math)},37816:function(W){W.exports=y,W.exports.float32=W.exports.float=y,W.exports.fract32=W.exports.fract=t;var G=new Float32Array(1);function t(D,s){if(D.length){if(D instanceof Float32Array)return new Float32Array(D.length);s instanceof Float32Array||(s=y(D));for(var P=0,M=s.length;P<M;P++)s[P]=D[P]-s[P];return s}return y(D-y(D))}function y(D){return D.length?D instanceof Float32Array?D:new Float32Array(D):(G[0]=D,G[0])}},23464:function(W,G,t){var y=t(65819);W.exports=M;var D=96;function s(d,g){var r=y(getComputedStyle(d).getPropertyValue(g));return r[0]*M(r[1],d)}function P(d,g){var r=document.createElement("div");r.style["font-size"]="128"+d,g.appendChild(r);var e=s(r,"font-size")/128;return g.removeChild(r),e}function M(d,g){switch(g=g||document.body,d=(d||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),d){case"%":return g.clientHeight/100;case"ch":case"ex":return P(d,g);case"em":return s(g,"font-size");case"rem":return s(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return D;case"cm":return D/2.54;case"mm":return D/25.4;case"pt":return D/72;case"pc":return D/6}return 1}},55712:function(W,G,t){t.d(G,{NO:function(){return P}});function y(g,r){for(var e,o=g.length,n=o-r;n<--o;)e=g[n],g[n++]=g[o],g[o]=e}function D(g){return g}function s(g){if(g==null)return D;var r,e,o=g.scale[0],n=g.scale[1],u=g.translate[0],f=g.translate[1];return function(c,m){m||(r=e=0);var v=2,T=c.length,h=new Array(T);for(h[0]=(r+=c[0])*o+u,h[1]=(e+=c[1])*n+f;v<T;)h[v]=c[v],++v;return h}}function P(g,r){return typeof r=="string"&&(r=g.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(e){return M(g,e)})}:M(g,r)}function M(g,r){var e=r.id,o=r.bbox,n=r.properties==null?{}:r.properties,u=d(g,r);return e==null&&o==null?{type:"Feature",properties:n,geometry:u}:o==null?{type:"Feature",id:e,properties:n,geometry:u}:{type:"Feature",id:e,bbox:o,properties:n,geometry:u}}function d(g,r){var e=s(g.transform),o=g.arcs;function n(T,h){h.length&&h.pop();for(var i=o[T<0?~T:T],p=0,w=i.length;p<w;++p)h.push(e(i[p],p));T<0&&y(h,w)}function u(T){return e(T)}function f(T){for(var h=[],i=0,p=T.length;i<p;++i)n(T[i],h);return h.length<2&&h.push(h[0]),h}function c(T){for(var h=f(T);h.length<4;)h.push(h[0]);return h}function m(T){return T.map(c)}function v(T){var h=T.type,i;switch(h){case"GeometryCollection":return{type:h,geometries:T.geometries.map(v)};case"Point":i=u(T.coordinates);break;case"MultiPoint":i=T.coordinates.map(u);break;case"LineString":i=f(T.arcs);break;case"MultiLineString":i=T.arcs.map(f);break;case"Polygon":i=m(T.arcs);break;case"MultiPolygon":i=T.arcs.map(m);break;default:return null}return{type:h,coordinates:i}}return v(r)}},73384:function(W,G,t){var y=t(54612);W.exports=function(D){if(typeof D!="function"||!hasOwnProperty.call(D,"length"))return!1;try{if(typeof D.length!="number"||typeof D.call!="function"||typeof D.apply!="function")return!1}catch{return!1}return!y(D)}},57980:function(W,G,t){var y=t(81680),D=t(7328),s=t(33940),P=t(18856),M=function(d,g){return d.replace("%v",P(g))};W.exports=function(d,g,r){if(!D(r))throw new TypeError(M(g,d));if(!y(d)){if("default"in r)return r.default;if(r.isOptional)return null}var e=s(r.errorMessage);throw y(e)||(e=g),new TypeError(M(e,d))}},32336:function(W){W.exports=function(G){try{return G.toString()}catch{try{return String(G)}catch{return null}}}},18856:function(W,G,t){var y=t(32336),D=/[\n\r\u2028\u2029]/g;W.exports=function(s){var P=y(s);return P===null?"<Non-coercible to string value>":(P.length>100&&(P=P.slice(0,99)+""),P=P.replace(D,function(M){switch(M){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),P)}},7328:function(W,G,t){var y=t(81680),D={object:!0,function:!0,undefined:!0};W.exports=function(s){return y(s)?hasOwnProperty.call(D,typeof s):!1}},87396:function(W,G,t){var y=t(57980),D=t(85488);W.exports=function(s){return D(s)?s:y(s,"%v is not a plain function",arguments[1])}},85488:function(W,G,t){var y=t(73384),D=/^\s*class[\s{/}]/,s=Function.prototype.toString;W.exports=function(P){return!(!y(P)||D.test(s.call(P)))}},54612:function(W,G,t){var y=t(7328);W.exports=function(D){if(!y(D))return!1;try{return D.constructor?D.constructor.prototype===D:!1}catch{return!1}}},33940:function(W,G,t){var y=t(81680),D=t(7328),s=Object.prototype.toString;W.exports=function(P){if(!y(P))return null;if(D(P)){var M=P.toString;if(typeof M!="function"||M===s)return null}try{return""+P}catch{return null}}},18496:function(W,G,t){var y=t(57980),D=t(81680);W.exports=function(s){return D(s)?s:y(s,"Cannot use %v",arguments[1])}},81680:function(W){var G=void 0;W.exports=function(t){return t!==G&&t!==null}},14144:function(W,G,t){var y=t(308),D=t(10352),s=t(33576).Buffer;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:D([32,0]),UINT16:D([32,0]),UINT32:D([32,0]),BIGUINT64:D([32,0]),INT8:D([32,0]),INT16:D([32,0]),INT32:D([32,0]),BIGINT64:D([32,0]),FLOAT:D([32,0]),DOUBLE:D([32,0]),DATA:D([32,0]),UINT8C:D([32,0]),BUFFER:D([32,0])});var P=typeof Uint8ClampedArray<"u",M=typeof BigUint64Array<"u",d=typeof BigInt64Array<"u",g=t.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=D([32,0])),g.BIGUINT64||(g.BIGUINT64=D([32,0])),g.BIGINT64||(g.BIGINT64=D([32,0])),g.BUFFER||(g.BUFFER=D([32,0]));var r=g.DATA,e=g.BUFFER;G.free=function(a){if(s.isBuffer(a))e[y.log2(a.length)].push(a);else{if(Object.prototype.toString.call(a)!=="[object ArrayBuffer]"&&(a=a.buffer),!a)return;var C=a.length||a.byteLength,b=y.log2(C)|0;r[b].push(a)}};function o(S){if(S){var a=S.length||S.byteLength,C=y.log2(a);r[C].push(S)}}function n(S){o(S.buffer)}G.freeUint8=G.freeUint16=G.freeUint32=G.freeBigUint64=G.freeInt8=G.freeInt16=G.freeInt32=G.freeBigInt64=G.freeFloat32=G.freeFloat=G.freeFloat64=G.freeDouble=G.freeUint8Clamped=G.freeDataView=n,G.freeArrayBuffer=o,G.freeBuffer=function(a){e[y.log2(a.length)].push(a)},G.malloc=function(a,C){if(C===void 0||C==="arraybuffer")return u(a);switch(C){case"uint8":return f(a);case"uint16":return c(a);case"uint32":return m(a);case"int8":return v(a);case"int16":return T(a);case"int32":return h(a);case"float":case"float32":return i(a);case"double":case"float64":return p(a);case"uint8_clamped":return w(a);case"bigint64":return L(a);case"biguint64":return A(a);case"buffer":return E(a);case"data":case"dataview":return x(a);default:return null}return null};function u(a){var a=y.nextPow2(a),C=y.log2(a),b=r[C];return b.length>0?b.pop():new ArrayBuffer(a)}G.mallocArrayBuffer=u;function f(S){return new Uint8Array(u(S),0,S)}G.mallocUint8=f;function c(S){return new Uint16Array(u(2*S),0,S)}G.mallocUint16=c;function m(S){return new Uint32Array(u(4*S),0,S)}G.mallocUint32=m;function v(S){return new Int8Array(u(S),0,S)}G.mallocInt8=v;function T(S){return new Int16Array(u(2*S),0,S)}G.mallocInt16=T;function h(S){return new Int32Array(u(4*S),0,S)}G.mallocInt32=h;function i(S){return new Float32Array(u(4*S),0,S)}G.mallocFloat32=G.mallocFloat=i;function p(S){return new Float64Array(u(8*S),0,S)}G.mallocFloat64=G.mallocDouble=p;function w(S){return P?new Uint8ClampedArray(u(S),0,S):f(S)}G.mallocUint8Clamped=w;function A(S){return M?new BigUint64Array(u(8*S),0,S):null}G.mallocBigUint64=A;function L(S){return d?new BigInt64Array(u(8*S),0,S):null}G.mallocBigInt64=L;function x(S){return new DataView(u(S),0,S)}G.mallocDataView=x;function E(S){S=y.nextPow2(S);var a=y.log2(S),C=e[a];return C.length>0?C.pop():new s(S)}G.mallocBuffer=E,G.clearCache=function(){for(var a=0;a<32;++a)g.UINT8[a].length=0,g.UINT16[a].length=0,g.UINT32[a].length=0,g.INT8[a].length=0,g.INT16[a].length=0,g.INT32[a].length=0,g.FLOAT[a].length=0,g.DOUBLE[a].length=0,g.BIGUINT64[a].length=0,g.BIGINT64[a].length=0,g.UINT8C[a].length=0,r[a].length=0,e[a].length=0}},92384:function(W){var G=/[\'\"]/;W.exports=function(y){return y?(G.test(y.charAt(0))&&(y=y.substr(1)),G.test(y.charAt(y.length-1))&&(y=y.substr(0,y.length-1)),y):""}},45223:function(W){W.exports=function(t,y,D){Array.isArray(D)||(D=[].slice.call(arguments,2));for(var s=0,P=D.length;s<P;s++){var M=D[s];for(var d in M)if(!(y[d]!==void 0&&!Array.isArray(y[d])&&t[d]===y[d])&&d in y){var g;if(M[d]===!0)g=y[d];else{if(M[d]===!1)continue;if(typeof M[d]=="function"&&(g=M[d](y[d],t,y),g===void 0))continue}t[d]=g}}return t}},96656:function(W,G,t){W.exports=y;function y(s,P){if(D("noDeprecation"))return s;var M=!1;function d(){if(!M){if(D("throwDeprecation"))throw new Error(P);D("traceDeprecation")?console.trace(P):console.warn(P),M=!0}return s.apply(this,arguments)}return d}function D(s){try{if(!t.g.localStorage)return!1}catch{return!1}var P=t.g.localStorage[s];return P==null?!1:String(P).toLowerCase()==="true"}},75272:function(W){W.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}},41088:function(W,G,t){var y=t(91148),D=t(84420),s=t(96632),P=t(7728);function M(At){return At.call.bind(At)}var d=typeof BigInt<"u",g=typeof Symbol<"u",r=M(Object.prototype.toString),e=M(Number.prototype.valueOf),o=M(String.prototype.valueOf),n=M(Boolean.prototype.valueOf);if(d)var u=M(BigInt.prototype.valueOf);if(g)var f=M(Symbol.prototype.valueOf);function c(At,bt){if(typeof At!="object")return!1;try{return bt(At),!0}catch{return!1}}G.isArgumentsObject=y,G.isGeneratorFunction=D,G.isTypedArray=P;function m(At){return typeof Promise<"u"&&At instanceof Promise||At!==null&&typeof At=="object"&&typeof At.then=="function"&&typeof At.catch=="function"}G.isPromise=m;function v(At){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(At):P(At)||J(At)}G.isArrayBufferView=v;function T(At){return s(At)==="Uint8Array"}G.isUint8Array=T;function h(At){return s(At)==="Uint8ClampedArray"}G.isUint8ClampedArray=h;function i(At){return s(At)==="Uint16Array"}G.isUint16Array=i;function p(At){return s(At)==="Uint32Array"}G.isUint32Array=p;function w(At){return s(At)==="Int8Array"}G.isInt8Array=w;function A(At){return s(At)==="Int16Array"}G.isInt16Array=A;function L(At){return s(At)==="Int32Array"}G.isInt32Array=L;function x(At){return s(At)==="Float32Array"}G.isFloat32Array=x;function E(At){return s(At)==="Float64Array"}G.isFloat64Array=E;function S(At){return s(At)==="BigInt64Array"}G.isBigInt64Array=S;function a(At){return s(At)==="BigUint64Array"}G.isBigUint64Array=a;function C(At){return r(At)==="[object Map]"}C.working=typeof Map<"u"&&C(new Map);function b(At){return typeof Map>"u"?!1:C.working?C(At):At instanceof Map}G.isMap=b;function z(At){return r(At)==="[object Set]"}z.working=typeof Set<"u"&&z(new Set);function k(At){return typeof Set>"u"?!1:z.working?z(At):At instanceof Set}G.isSet=k;function U(At){return r(At)==="[object WeakMap]"}U.working=typeof WeakMap<"u"&&U(new WeakMap);function F(At){return typeof WeakMap>"u"?!1:U.working?U(At):At instanceof WeakMap}G.isWeakMap=F;function V(At){return r(At)==="[object WeakSet]"}V.working=typeof WeakSet<"u"&&V(new WeakSet);function N(At){return V(At)}G.isWeakSet=N;function O(At){return r(At)==="[object ArrayBuffer]"}O.working=typeof ArrayBuffer<"u"&&O(new ArrayBuffer);function H(At){return typeof ArrayBuffer>"u"?!1:O.working?O(At):At instanceof ArrayBuffer}G.isArrayBuffer=H;function X(At){return r(At)==="[object DataView]"}X.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&X(new DataView(new ArrayBuffer(1),0,1));function J(At){return typeof DataView>"u"?!1:X.working?X(At):At instanceof DataView}G.isDataView=J;var et=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function it(At){return r(At)==="[object SharedArrayBuffer]"}function ft(At){return typeof et>"u"?!1:(typeof it.working>"u"&&(it.working=it(new et)),it.working?it(At):At instanceof et)}G.isSharedArrayBuffer=ft;function ot(At){return r(At)==="[object AsyncFunction]"}G.isAsyncFunction=ot;function Q(At){return r(At)==="[object Map Iterator]"}G.isMapIterator=Q;function tt(At){return r(At)==="[object Set Iterator]"}G.isSetIterator=tt;function Z(At){return r(At)==="[object Generator]"}G.isGeneratorObject=Z;function q(At){return r(At)==="[object WebAssembly.Module]"}G.isWebAssemblyCompiledModule=q;function ut(At){return c(At,e)}G.isNumberObject=ut;function $(At){return c(At,o)}G.isStringObject=$;function j(At){return c(At,n)}G.isBooleanObject=j;function lt(At){return d&&c(At,u)}G.isBigIntObject=lt;function nt(At){return g&&c(At,f)}G.isSymbolObject=nt;function ht(At){return ut(At)||$(At)||j(At)||lt(At)||nt(At)}G.isBoxedPrimitive=ht;function mt(At){return typeof Uint8Array<"u"&&(H(At)||ft(At))}G.isAnyArrayBuffer=mt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(At){Object.defineProperty(G,At,{enumerable:!1,value:function(){throw new Error(At+" is not supported in userland")}})})},35840:function(W,G,t){var y=t(4168),D=Object.getOwnPropertyDescriptors||function(et){for(var it=Object.keys(et),ft={},ot=0;ot<it.length;ot++)ft[it[ot]]=Object.getOwnPropertyDescriptor(et,it[ot]);return ft},s=/%[sdj%]/g;G.format=function(J){if(!A(J)){for(var et=[],it=0;it<arguments.length;it++)et.push(g(arguments[it]));return et.join(" ")}for(var it=1,ft=arguments,ot=ft.length,Q=String(J).replace(s,function(Z){if(Z==="%%")return"%";if(it>=ot)return Z;switch(Z){case"%s":return String(ft[it++]);case"%d":return Number(ft[it++]);case"%j":try{return JSON.stringify(ft[it++])}catch{return"[Circular]"}default:return Z}}),tt=ft[it];it<ot;tt=ft[++it])i(tt)||!S(tt)?Q+=" "+tt:Q+=" "+g(tt);return Q},G.deprecate=function(J,et){if(typeof y<"u"&&y.noDeprecation===!0)return J;if(typeof y>"u")return function(){return G.deprecate(J,et).apply(this,arguments)};var it=!1;function ft(){if(!it){if(y.throwDeprecation)throw new Error(et);y.traceDeprecation?console.trace(et):console.error(et),it=!0}return J.apply(this,arguments)}return ft};var P={},M=/^$/;if(y.env.NODE_DEBUG){var d=y.env.NODE_DEBUG;d=d.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+d+"$","i")}G.debuglog=function(J){if(J=J.toUpperCase(),!P[J])if(M.test(J)){var et=y.pid;P[J]=function(){var it=G.format.apply(G,arguments);console.error("%s %d: %s",J,et,it)}}else P[J]=function(){};return P[J]};function g(J,et){var it={seen:[],stylize:e};return arguments.length>=3&&(it.depth=arguments[2]),arguments.length>=4&&(it.colors=arguments[3]),h(et)?it.showHidden=et:et&&G._extend(it,et),x(it.showHidden)&&(it.showHidden=!1),x(it.depth)&&(it.depth=2),x(it.colors)&&(it.colors=!1),x(it.customInspect)&&(it.customInspect=!0),it.colors&&(it.stylize=r),n(it,J,it.depth)}G.inspect=g,g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(J,et){var it=g.styles[et];return it?"\x1B["+g.colors[it][0]+"m"+J+"\x1B["+g.colors[it][1]+"m":J}function e(J,et){return J}function o(J){var et={};return J.forEach(function(it,ft){et[it]=!0}),et}function n(J,et,it){if(J.customInspect&&et&&b(et.inspect)&&et.inspect!==G.inspect&&!(et.constructor&&et.constructor.prototype===et)){var ft=et.inspect(it,J);return A(ft)||(ft=n(J,ft,it)),ft}var ot=u(J,et);if(ot)return ot;var Q=Object.keys(et),tt=o(Q);if(J.showHidden&&(Q=Object.getOwnPropertyNames(et)),C(et)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return f(et);if(Q.length===0){if(b(et)){var Z=et.name?": "+et.name:"";return J.stylize("[Function"+Z+"]","special")}if(E(et))return J.stylize(RegExp.prototype.toString.call(et),"regexp");if(a(et))return J.stylize(Date.prototype.toString.call(et),"date");if(C(et))return f(et)}var q="",ut=!1,$=["{","}"];if(T(et)&&(ut=!0,$=["[","]"]),b(et)){var j=et.name?": "+et.name:"";q=" [Function"+j+"]"}if(E(et)&&(q=" "+RegExp.prototype.toString.call(et)),a(et)&&(q=" "+Date.prototype.toUTCString.call(et)),C(et)&&(q=" "+f(et)),Q.length===0&&(!ut||et.length==0))return $[0]+q+$[1];if(it<0)return E(et)?J.stylize(RegExp.prototype.toString.call(et),"regexp"):J.stylize("[Object]","special");J.seen.push(et);var lt;return ut?lt=c(J,et,it,tt,Q):lt=Q.map(function(nt){return m(J,et,it,tt,nt,ut)}),J.seen.pop(),v(lt,q,$)}function u(J,et){if(x(et))return J.stylize("undefined","undefined");if(A(et)){var it="'"+JSON.stringify(et).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(it,"string")}if(w(et))return J.stylize(""+et,"number");if(h(et))return J.stylize(""+et,"boolean");if(i(et))return J.stylize("null","null")}function f(J){return"["+Error.prototype.toString.call(J)+"]"}function c(J,et,it,ft,ot){for(var Q=[],tt=0,Z=et.length;tt<Z;++tt)N(et,String(tt))?Q.push(m(J,et,it,ft,String(tt),!0)):Q.push("");return ot.forEach(function(q){q.match(/^\d+$/)||Q.push(m(J,et,it,ft,q,!0))}),Q}function m(J,et,it,ft,ot,Q){var tt,Z,q;if(q=Object.getOwnPropertyDescriptor(et,ot)||{value:et[ot]},q.get?q.set?Z=J.stylize("[Getter/Setter]","special"):Z=J.stylize("[Getter]","special"):q.set&&(Z=J.stylize("[Setter]","special")),N(ft,ot)||(tt="["+ot+"]"),Z||(J.seen.indexOf(q.value)<0?(i(it)?Z=n(J,q.value,null):Z=n(J,q.value,it-1),Z.indexOf(`
`)>-1&&(Q?Z=Z.split(`
`).map(function(ut){return"  "+ut}).join(`
`).slice(2):Z=`
`+Z.split(`
`).map(function(ut){return"   "+ut}).join(`
`))):Z=J.stylize("[Circular]","special")),x(tt)){if(Q&&ot.match(/^\d+$/))return Z;tt=JSON.stringify(""+ot),tt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(tt=tt.slice(1,-1),tt=J.stylize(tt,"name")):(tt=tt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),tt=J.stylize(tt,"string"))}return tt+": "+Z}function v(J,et,it){var ft=J.reduce(function(ot,Q){return Q.indexOf(`
`)>=0,ot+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ft>60?it[0]+(et===""?"":et+`
 `)+" "+J.join(`,
  `)+" "+it[1]:it[0]+et+" "+J.join(", ")+" "+it[1]}G.types=t(41088);function T(J){return Array.isArray(J)}G.isArray=T;function h(J){return typeof J=="boolean"}G.isBoolean=h;function i(J){return J===null}G.isNull=i;function p(J){return J==null}G.isNullOrUndefined=p;function w(J){return typeof J=="number"}G.isNumber=w;function A(J){return typeof J=="string"}G.isString=A;function L(J){return typeof J=="symbol"}G.isSymbol=L;function x(J){return J===void 0}G.isUndefined=x;function E(J){return S(J)&&k(J)==="[object RegExp]"}G.isRegExp=E,G.types.isRegExp=E;function S(J){return typeof J=="object"&&J!==null}G.isObject=S;function a(J){return S(J)&&k(J)==="[object Date]"}G.isDate=a,G.types.isDate=a;function C(J){return S(J)&&(k(J)==="[object Error]"||J instanceof Error)}G.isError=C,G.types.isNativeError=C;function b(J){return typeof J=="function"}G.isFunction=b;function z(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J>"u"}G.isPrimitive=z,G.isBuffer=t(75272);function k(J){return Object.prototype.toString.call(J)}function U(J){return J<10?"0"+J.toString(10):J.toString(10)}var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function V(){var J=new Date,et=[U(J.getHours()),U(J.getMinutes()),U(J.getSeconds())].join(":");return[J.getDate(),F[J.getMonth()],et].join(" ")}G.log=function(){console.log("%s - %s",V(),G.format.apply(G,arguments))},G.inherits=t(6768),G._extend=function(J,et){if(!et||!S(et))return J;for(var it=Object.keys(et),ft=it.length;ft--;)J[it[ft]]=et[it[ft]];return J};function N(J,et){return Object.prototype.hasOwnProperty.call(J,et)}var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;G.promisify=function(et){if(typeof et!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&et[O]){var it=et[O];if(typeof it!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(it,O,{value:it,enumerable:!1,writable:!1,configurable:!0}),it}function it(){for(var ft,ot,Q=new Promise(function(q,ut){ft=q,ot=ut}),tt=[],Z=0;Z<arguments.length;Z++)tt.push(arguments[Z]);tt.push(function(q,ut){q?ot(q):ft(ut)});try{et.apply(this,tt)}catch(q){ot(q)}return Q}return Object.setPrototypeOf(it,Object.getPrototypeOf(et)),O&&Object.defineProperty(it,O,{value:it,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(it,D(et))},G.promisify.custom=O;function H(J,et){if(!J){var it=new Error("Promise was rejected with a falsy value");it.reason=J,J=it}return et(J)}function X(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');function et(){for(var it=[],ft=0;ft<arguments.length;ft++)it.push(arguments[ft]);var ot=it.pop();if(typeof ot!="function")throw new TypeError("The last argument must be of type Function");var Q=this,tt=function(){return ot.apply(Q,arguments)};J.apply(this,it).then(function(Z){y.nextTick(tt.bind(null,null,Z))},function(Z){y.nextTick(H.bind(null,Z,tt))})}return Object.setPrototypeOf(et,Object.getPrototypeOf(J)),Object.defineProperties(et,D(J)),et}G.callbackify=X},5408:function(W,G,t){var y=t(13380);W.exports=function(s){return y("webgl",s)}},96632:function(W,G,t){var y=t(46492),D=t(63436),s=t(57916),P=t(99676),M=t(2304),d=P("Object.prototype.toString"),g=t(46672)(),r=typeof globalThis>"u"?t.g:globalThis,e=D(),o=P("String.prototype.slice"),n=Object.getPrototypeOf,u=P("Array.prototype.indexOf",!0)||function(T,h){for(var i=0;i<T.length;i+=1)if(T[i]===h)return i;return-1},f={__proto__:null};g&&M&&n?y(e,function(v){var T=new r[v];if(Symbol.toStringTag in T){var h=n(T),i=M(h,Symbol.toStringTag);if(!i){var p=n(h);i=M(p,Symbol.toStringTag)}f["$"+v]=s(i.get)}}):y(e,function(v){var T=new r[v],h=T.slice||T.set;h&&(f["$"+v]=s(h))});var c=function(T){var h=!1;return y(f,function(i,p){if(!h)try{"$"+i(T)===p&&(h=o(p,1))}catch{}}),h},m=function(T){var h=!1;return y(f,function(i,p){if(!h)try{i(T),h=o(p,1)}catch{}}),h};W.exports=function(T){if(!T||typeof T!="object")return!1;if(!g){var h=o(d(T),8,-1);return u(e,h)>-1?h:h!=="Object"?!1:m(T)}return M?c(T):null}},67020:function(W,G,t){var y=t(38700),D=t(50896),s=y.instance();function P(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}P.prototype=new y.baseCalendar,D(P.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,c){if(typeof f=="string"){var m=f.match(d);return m?m[0]:""}var v=this._validateYear(f),T=f.month(),h=""+this.toChineseMonth(v,T);return c&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(v,T)&&(h+="i"),h},monthNames:function(f){if(typeof f=="string"){var c=f.match(g);return c?c[0]:""}var m=this._validateYear(f),v=f.month(),T=this.toChineseMonth(m,v),h=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(m,v)&&(h=""+h),h},monthNamesShort:function(f){if(typeof f=="string"){var c=f.match(r);return c?c[0]:""}var m=this._validateYear(f),v=f.month(),T=this.toChineseMonth(m,v),h=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(m,v)&&(h=""+h),h},parseMonth:function(f,c){f=this._validateYear(f);var m=parseInt(c),v;if(isNaN(m))c[0]===""&&(v=!0,c=c.substring(1)),c[c.length-1]===""&&(c=c.substring(0,c.length-1)),m=1+["","","","","","","","","","","",""].indexOf(c);else{var T=c[c.length-1];v=T==="i"||T==="I"}var h=this.toMonthIndex(f,m,v);return h},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,c){if(f.year&&(f=f.year()),typeof f!="number"||f<1888||f>2111)throw c.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,c,m){var v=this.intercalaryMonth(f),T=m&&c!==v;if(T||c<1||c>12)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var h;return v?!m&&c<=v?h=c-1:h=c:h=c-1,h},toChineseMonth:function(f,c){f.year&&(f=f.year(),c=f.month());var m=this.intercalaryMonth(f),v=m?12:11;if(c<0||c>v)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return m?c<m?T=c+1:T=c:T=c+1,T},intercalaryMonth:function(f){f=this._validateYear(f);var c=e[f-e[0]],m=c>>13;return m},isIntercalaryMonth:function(f,c){f.year&&(f=f.year(),c=f.month());var m=this.intercalaryMonth(f);return!!m&&m===c},leapYear:function(f){return this.intercalaryMonth(f)!==0},weekOfYear:function(f,c,m){var v=this._validateYear(f,y.local.invalidyear),T=o[v-o[0]],h=T>>9&4095,i=T>>5&15,p=T&31,w;w=s.newDate(h,i,p),w.add(4-(w.dayOfWeek()||7),"d");var A=this.toJD(f,c,m)-w.toJD();return 1+Math.floor(A/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,c){f.year&&(c=f.month(),f=f.year()),f=this._validateYear(f);var m=e[f-e[0]],v=m>>13,T=v?12:11;if(c>T)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var h=m&1<<12-c?30:29;return h},weekDay:function(f,c,m){return(this.dayOfWeek(f,c,m)||7)<6},toJD:function(f,c,m){var v=this._validate(f,h,m,y.local.invalidDate);f=this._validateYear(v.year()),c=v.month(),m=v.day();var T=this.isIntercalaryMonth(f,c),h=this.toChineseMonth(f,c),i=u(f,h,m,T);return s.toJD(i.year,i.month,i.day)},fromJD:function(f){var c=s.fromJD(f),m=n(c.year(),c.month(),c.day()),v=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,v,m.day)},fromString:function(f){var c=f.match(M),m=this._validateYear(+c[1]),v=+c[2],T=!!c[3],h=this.toMonthIndex(m,v,T),i=+c[4];return this.newDate(m,h,i)},add:function(f,c,m){var v=f.year(),T=f.month(),h=this.isIntercalaryMonth(v,T),i=this.toChineseMonth(v,T),p=Object.getPrototypeOf(P.prototype).add.call(this,f,c,m);if(m==="y"){var w=p.year(),A=p.month(),L=this.isIntercalaryMonth(w,i),x=h&&L?this.toMonthIndex(w,i,!0):this.toMonthIndex(w,i,!1);x!==A&&p.month(x)}return p}});var M=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,d=/^\d?\d[iI]?/m,g=/^??[]?/m,r=/^??[]?/m;y.calendars.chinese=P;var e=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],o=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(f,c,m,v){var T,h;if(typeof f=="object")T=f,h=c||{};else{var i=typeof f=="number"&&f>=1888&&f<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var p=typeof c=="number"&&c>=1&&c<=12;if(!p)throw new Error("Solar month outside range 1 - 12");var w=typeof m=="number"&&m>=1&&m<=31;if(!w)throw new Error("Solar day outside range 1 - 31");T={year:f,month:c,day:m},h={}}var A=o[T.year-o[0]],L=T.year<<9|T.month<<5|T.day;h.year=L>=A?T.year:T.year-1,A=o[h.year-o[0]];var x=A>>9&4095,E=A>>5&15,S=A&31,a,C=new Date(x,E-1,S),b=new Date(T.year,T.month-1,T.day);a=Math.round((b-C)/864e5);var z=e[h.year-e[0]],k;for(k=0;k<13;k++){var U=z&1<<12-k?30:29;if(a<U)break;a-=U}var F=z>>13;return!F||k<F?(h.isIntercalary=!1,h.month=1+k):k===F?(h.isIntercalary=!0,h.month=k):(h.isIntercalary=!1,h.month=k),h.day=1+a,h}function u(f,c,m,v,T){var h,i;if(typeof f=="object")i=f,h=c||{};else{var p=typeof f=="number"&&f>=1888&&f<=2111;if(!p)throw new Error("Lunar year outside range 1888-2111");var w=typeof c=="number"&&c>=1&&c<=12;if(!w)throw new Error("Lunar month outside range 1 - 12");var A=typeof m=="number"&&m>=1&&m<=30;if(!A)throw new Error("Lunar day outside range 1 - 30");var L;typeof v=="object"?(L=!1,h=v):(L=!!v,h={}),i={year:f,month:c,day:m,isIntercalary:L}}var x;x=i.day-1;var E=e[i.year-e[0]],S=E>>13,a;S&&(i.month>S||i.isIntercalary)?a=i.month:a=i.month-1;for(var C=0;C<a;C++){var b=E&1<<12-C?30:29;x+=b}var z=o[i.year-o[0]],k=z>>9&4095,U=z>>5&15,F=z&31,V=new Date(k,U-1,F+x);return h.year=V.getFullYear(),h.month=1+V.getMonth(),h.day=V.getDate(),h}},89792:function(W,G,t){var y=t(38700),D=t(50896);function s(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar,D(s.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var M=this._validate(d,this.minMonth,this.minDay,y.local.invalidYear),d=M.year()+(M.year()<0?1:0);return d%4===3||d%4===-1},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),13},weekOfYear:function(P,M,d){var g=this.newDate(P,M,d);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(P,M){var d=this._validate(P,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(P,M,d){return(this.dayOfWeek(P,M,d)||7)<6},toJD:function(P,M,d){var g=this._validate(P,M,d,y.local.invalidDate);return P=g.year(),P<0&&P++,g.day()+(g.month()-1)*30+(P-1)*365+Math.floor(P/4)+this.jdEpoch-1},fromJD:function(P){var M=Math.floor(P)+.5-this.jdEpoch,d=Math.floor((M-Math.floor((M+366)/1461))/365)+1;d<=0&&d--,M=Math.floor(P)+.5-this.newDate(d,1,1).toJD();var g=Math.floor(M/30)+1,r=M-(g-1)*30+1;return this.newDate(d,g,r)}}),y.calendars.coptic=s},55668:function(W,G,t){var y=t(38700),D=t(50896);function s(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar,D(s.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),!1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),13},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),400},weekOfYear:function(M,d,g){var r=this.newDate(M,d,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(M,d){var g=this._validate(M,d,this.minDay,y.local.invalidMonth);return this.daysPerMonth[g.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(M,d,g){var r=this._validate(M,d,g,y.local.invalidDate);return(r.day()+1)%8},weekDay:function(M,d,g){var r=this.dayOfWeek(M,d,g);return r>=2&&r<=6},extraInfo:function(M,d,g){var r=this._validate(M,d,g,y.local.invalidDate);return{century:P[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(M,d,g){var r=this._validate(M,d,g,y.local.invalidDate);return M=r.year()+(r.year()<0?1:0),d=r.month(),g=r.day(),g+(d>1?16:0)+(d>2?(d-2)*32:0)+(M-1)*400+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M+.5)-Math.floor(this.jdEpoch)-1;var d=Math.floor(M/400)+1;M-=(d-1)*400,M+=M>15?16:0;var g=Math.floor(M/32)+1,r=M-(g-1)*32+1;return this.newDate(d<=0?d-1:d,g,r)}});var P={20:"Fruitbat",21:"Anchovy"};y.calendars.discworld=s},65168:function(W,G,t){var y=t(38700),D=t(50896);function s(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar,D(s.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var M=this._validate(d,this.minMonth,this.minDay,y.local.invalidYear),d=M.year()+(M.year()<0?1:0);return d%4===3||d%4===-1},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),13},weekOfYear:function(P,M,d){var g=this.newDate(P,M,d);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(P,M){var d=this._validate(P,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(P,M,d){return(this.dayOfWeek(P,M,d)||7)<6},toJD:function(P,M,d){var g=this._validate(P,M,d,y.local.invalidDate);return P=g.year(),P<0&&P++,g.day()+(g.month()-1)*30+(P-1)*365+Math.floor(P/4)+this.jdEpoch-1},fromJD:function(P){var M=Math.floor(P)+.5-this.jdEpoch,d=Math.floor((M-Math.floor((M+366)/1461))/365)+1;d<=0&&d--,M=Math.floor(P)+.5-this.newDate(d,1,1).toJD();var g=Math.floor(M/30)+1,r=M-(g-1)*30+1;return this.newDate(d,g,r)}}),y.calendars.ethiopian=s},2084:function(W,G,t){var y=t(38700),D=t(50896);function s(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar,D(s.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var d=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return this._leapYear(d.year())},_leapYear:function(M){return M=M<0?M+1:M,P(M*7+1,19)<7},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),this._leapYear(M.year?M.year():M)?13:12},weekOfYear:function(M,d,g){var r=this.newDate(M,d,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(M){var d=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return M=d.year(),this.toJD(M===-1?1:M+1,7,1)-this.toJD(M,7,1)},daysInMonth:function(M,d){return M.year&&(d=M.month(),M=M.year()),this._validate(M,d,this.minDay,y.local.invalidMonth),d===12&&this.leapYear(M)||d===8&&P(this.daysInYear(M),10)===5?30:d===9&&P(this.daysInYear(M),10)===3?29:this.daysPerMonth[d-1]},weekDay:function(M,d,g){return this.dayOfWeek(M,d,g)!==6},extraInfo:function(M,d,g){var r=this._validate(M,d,g,y.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(M,d,g){var r=this._validate(M,d,g,y.local.invalidDate);M=r.year(),d=r.month(),g=r.day();var e=M<=0?M+1:M,o=this.jdEpoch+this._delay1(e)+this._delay2(e)+g+1;if(d<7){for(var n=7;n<=this.monthsInYear(M);n++)o+=this.daysInMonth(M,n);for(var n=1;n<d;n++)o+=this.daysInMonth(M,n)}else for(var n=7;n<d;n++)o+=this.daysInMonth(M,n);return o},_delay1:function(M){var d=Math.floor((235*M-234)/19),g=12084+13753*d,r=d*29+Math.floor(g/25920);return P(3*(r+1),7)<3&&r++,r},_delay2:function(M){var d=this._delay1(M-1),g=this._delay1(M),r=this._delay1(M+1);return r-g===356?2:g-d===382?1:0},fromJD:function(M){M=Math.floor(M)+.5;for(var d=Math.floor((M-this.jdEpoch)*98496/35975351)-1;M>=this.toJD(d===-1?1:d+1,7,1);)d++;for(var g=M<this.toJD(d,1,1)?7:1;M>this.toJD(d,g,this.daysInMonth(d,g));)g++;var r=M-this.toJD(d,g,1)+1;return this.newDate(d,g,r)}});function P(M,d){return M-d*Math.floor(M/d)}y.calendars.hebrew=s},26368:function(W,G,t){var y=t(38700),D=t(50896);function s(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar,D(s.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(P){var M=this._validate(P,this.minMonth,this.minDay,y.local.invalidYear);return(M.year()*11+14)%30<11},weekOfYear:function(P,M,d){var g=this.newDate(P,M,d);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(P){return this.leapYear(P)?355:354},daysInMonth:function(P,M){var d=this._validate(P,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(P,M,d){return this.dayOfWeek(P,M,d)!==5},toJD:function(P,M,d){var g=this._validate(P,M,d,y.local.invalidDate);return P=g.year(),M=g.month(),d=g.day(),P=P<=0?P+1:P,d+Math.ceil(29.5*(M-1))+(P-1)*354+Math.floor((3+11*P)/30)+this.jdEpoch-1},fromJD:function(P){P=Math.floor(P)+.5;var M=Math.floor((30*(P-this.jdEpoch)+10646)/10631);M=M<=0?M-1:M;var d=Math.min(12,Math.ceil((P-29-this.toJD(M,1,1))/29.5)+1),g=P-this.toJD(M,d,1)+1;return this.newDate(M,d,g)}}),y.calendars.islamic=s},24747:function(W,G,t){var y=t(38700),D=t(50896);function s(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar,D(s.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var M=this._validate(d,this.minMonth,this.minDay,y.local.invalidYear),d=M.year()<0?M.year()+1:M.year();return d%4===0},weekOfYear:function(P,M,d){var g=this.newDate(P,M,d);return g.add(4-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(P,M){var d=this._validate(P,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(P,M,d){return(this.dayOfWeek(P,M,d)||7)<6},toJD:function(P,M,d){var g=this._validate(P,M,d,y.local.invalidDate);return P=g.year(),M=g.month(),d=g.day(),P<0&&P++,M<=2&&(P--,M+=12),Math.floor(365.25*(P+4716))+Math.floor(30.6001*(M+1))+d-1524.5},fromJD:function(P){var M=Math.floor(P+.5),d=M+1524,g=Math.floor((d-122.1)/365.25),r=Math.floor(365.25*g),e=Math.floor((d-r)/30.6001),o=e-Math.floor(e<14?1:13),n=g-Math.floor(o>2?4716:4715),u=d-r-Math.floor(30.6001*e);return n<=0&&n--,this.newDate(n,o,u)}}),y.calendars.julian=s},65616:function(W,G,t){var y=t(38700),D=t(50896);function s(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar,D(s.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(d){return this._validate(d,this.minMonth,this.minDay,y.local.invalidYear),!1},formatYear:function(d){var g=this._validate(d,this.minMonth,this.minDay,y.local.invalidYear);d=g.year();var r=Math.floor(d/400);d=d%400,d+=d<0?400:0;var e=Math.floor(d/20);return r+"."+e+"."+d%20},forYear:function(d){if(d=d.split("."),d.length<3)throw"Invalid Mayan year";for(var g=0,r=0;r<d.length;r++){var e=parseInt(d[r],10);if(Math.abs(e)>19||r>0&&e<0)throw"Invalid Mayan year";g=g*20+e}return g},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,y.local.invalidYear),18},weekOfYear:function(d,g,r){return this._validate(d,g,r,y.local.invalidDate),0},daysInYear:function(d){return this._validate(d,this.minMonth,this.minDay,y.local.invalidYear),360},daysInMonth:function(d,g){return this._validate(d,g,this.minDay,y.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(d,g,r){var e=this._validate(d,g,r,y.local.invalidDate);return e.day()},weekDay:function(d,g,r){return this._validate(d,g,r,y.local.invalidDate),!0},extraInfo:function(d,g,r){var e=this._validate(d,g,r,y.local.invalidDate),o=e.toJD(),n=this._toHaab(o),u=this._toTzolkin(o);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[u[0]-1],tzolkinDay:u[0],tzolkinTrecena:u[1]}},_toHaab:function(d){d-=this.jdEpoch;var g=P(d+8+17*20,365);return[Math.floor(g/20)+1,P(g,20)]},_toTzolkin:function(d){return d-=this.jdEpoch,[M(d+20,20),M(d+4,13)]},toJD:function(d,g,r){var e=this._validate(d,g,r,y.local.invalidDate);return e.day()+e.month()*20+e.year()*360+this.jdEpoch},fromJD:function(d){d=Math.floor(d)+.5-this.jdEpoch;var g=Math.floor(d/360);d=d%360,d+=d<0?360:0;var r=Math.floor(d/20),e=d%20;return this.newDate(g,r,e)}});function P(d,g){return d-g*Math.floor(d/g)}function M(d,g){return P(d-1,g)+1}y.calendars.mayan=s},30632:function(W,G,t){var y=t(38700),D=t(50896);function s(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar;var P=y.instance("gregorian");D(s.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var d=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return P.leapYear(d.year()+(d.year()<1?1:0)+1469)},weekOfYear:function(M,d,g){var r=this.newDate(M,d,g);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(M,d){var g=this._validate(M,d,this.minDay,y.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(M,d,g){return(this.dayOfWeek(M,d,g)||7)<6},toJD:function(e,d,g){var r=this._validate(e,d,g,y.local.invalidMonth),e=r.year();e<0&&e++;for(var o=r.day(),n=1;n<r.month();n++)o+=this.daysPerMonth[n-1];return o+P.toJD(e+1468,3,13)},fromJD:function(M){M=Math.floor(M+.5);for(var d=Math.floor((M-(this.jdEpoch-1))/366);M>=this.toJD(d+1,1,1);)d++;for(var g=M-Math.floor(this.toJD(d,1,1)+.5)+1,r=1;g>this.daysInMonth(d,r);)g-=this.daysInMonth(d,r),r++;return this.newDate(d,r,g)}}),y.calendars.nanakshahi=s},73040:function(W,G,t){var y=t(38700),D=t(50896);function s(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar,D(s.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(P){return this.daysInYear(P)!==this.daysPerYear},weekOfYear:function(P,M,d){var g=this.newDate(P,M,d);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(P){var M=this._validate(P,this.minMonth,this.minDay,y.local.invalidYear);if(P=M.year(),typeof this.NEPALI_CALENDAR_DATA[P]>"u")return this.daysPerYear;for(var d=0,g=this.minMonth;g<=12;g++)d+=this.NEPALI_CALENDAR_DATA[P][g];return d},daysInMonth:function(P,M){return P.year&&(M=P.month(),P=P.year()),this._validate(P,M,this.minDay,y.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[P]>"u"?this.daysPerMonth[M-1]:this.NEPALI_CALENDAR_DATA[P][M]},weekDay:function(P,M,d){return this.dayOfWeek(P,M,d)!==6},toJD:function(P,M,d){var g=this._validate(P,M,d,y.local.invalidDate);P=g.year(),M=g.month(),d=g.day();var r=y.instance(),e=0,o=M,n=P;this._createMissingCalendarData(P);var u=P-(o>9||o===9&&d>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(M!==9&&(e=d,o--);o!==9;)o<=0&&(o=12,n--),e+=this.NEPALI_CALENDAR_DATA[n][o],o--;return M===9?(e+=d-this.NEPALI_CALENDAR_DATA[n][0],e<0&&(e+=r.daysInYear(u))):e+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(u,1,1).add(e,"d").toJD()},fromJD:function(P){var M=y.instance(),d=M.fromJD(P),g=d.year(),r=d.dayOfYear(),e=g+56;this._createMissingCalendarData(e);for(var o=9,n=this.NEPALI_CALENDAR_DATA[e][0],u=this.NEPALI_CALENDAR_DATA[e][o]-n+1;r>u;)o++,o>12&&(o=1,e++),u+=this.NEPALI_CALENDAR_DATA[e][o];var f=this.NEPALI_CALENDAR_DATA[e][o]-(u-r);return this.newDate(e,o,f)},_createMissingCalendarData:function(P){var M=this.daysPerMonth.slice(0);M.unshift(17);for(var d=P-1;d<P+2;d++)typeof this.NEPALI_CALENDAR_DATA[d]>"u"&&(this.NEPALI_CALENDAR_DATA[d]=M)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),y.calendars.nepali=s},1104:function(W,G,t){var y=t(38700),D=t(50896);function s(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar,D(s.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var d=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return((d.year()-(d.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(M,d,g){var r=this.newDate(M,d,g);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(M,d){var g=this._validate(M,d,this.minDay,y.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(M,d,g){return this.dayOfWeek(M,d,g)!==5},toJD:function(M,d,g){var r=this._validate(M,d,g,y.local.invalidDate);M=r.year(),d=r.month(),g=r.day();var e=M-(M>=0?474:473),o=474+P(e,2820);return g+(d<=7?(d-1)*31:(d-1)*30+6)+Math.floor((o*682-110)/2816)+(o-1)*365+Math.floor(e/2820)*1029983+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M)+.5;var d=M-this.toJD(475,1,1),g=Math.floor(d/1029983),r=P(d,1029983),e=2820;if(r!==1029982){var o=Math.floor(r/366),n=P(r,366);e=Math.floor((2134*o+2816*n+2815)/1028522)+o+1}var u=e+2820*g+474;u=u<=0?u-1:u;var f=M-this.toJD(u,1,1)+1,c=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),m=M-this.toJD(u,c,1)+1;return this.newDate(u,c,m)}});function P(M,d){return M-d*Math.floor(M/d)}y.calendars.persian=s,y.calendars.jalali=s},51456:function(W,G,t){var y=t(38700),D=t(50896),s=y.instance();function P(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}P.prototype=new y.baseCalendar,D(P.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(g){var d=this._validate(g,this.minMonth,this.minDay,y.local.invalidYear),g=this._t2gYear(d.year());return s.leapYear(g)},weekOfYear:function(e,d,g){var r=this._validate(e,this.minMonth,this.minDay,y.local.invalidYear),e=this._t2gYear(r.year());return s.weekOfYear(e,r.month(),r.day())},daysInMonth:function(M,d){var g=this._validate(M,d,this.minDay,y.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(M,d,g){return(this.dayOfWeek(M,d,g)||7)<6},toJD:function(e,d,g){var r=this._validate(e,d,g,y.local.invalidDate),e=this._t2gYear(r.year());return s.toJD(e,r.month(),r.day())},fromJD:function(M){var d=s.fromJD(M),g=this._g2tYear(d.year());return this.newDate(g,d.month(),d.day())},_t2gYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)},_g2tYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)}}),y.calendars.taiwan=P},4592:function(W,G,t){var y=t(38700),D=t(50896),s=y.instance();function P(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}P.prototype=new y.baseCalendar,D(P.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var d=this._validate(g,this.minMonth,this.minDay,y.local.invalidYear),g=this._t2gYear(d.year());return s.leapYear(g)},weekOfYear:function(e,d,g){var r=this._validate(e,this.minMonth,this.minDay,y.local.invalidYear),e=this._t2gYear(r.year());return s.weekOfYear(e,r.month(),r.day())},daysInMonth:function(M,d){var g=this._validate(M,d,this.minDay,y.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(M,d,g){return(this.dayOfWeek(M,d,g)||7)<6},toJD:function(e,d,g){var r=this._validate(e,d,g,y.local.invalidDate),e=this._t2gYear(r.year());return s.toJD(e,r.month(),r.day())},fromJD:function(M){var d=s.fromJD(M),g=this._g2tYear(d.year());return this.newDate(g,d.month(),d.day())},_t2gYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)},_g2tYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)}}),y.calendars.thai=P},45348:function(W,G,t){var y=t(38700),D=t(50896);function s(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}s.prototype=new y.baseCalendar,D(s.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(M){var d=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return this.daysInYear(d.year())===355},weekOfYear:function(M,d,g){var r=this.newDate(M,d,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(M){for(var d=0,g=1;g<=12;g++)d+=this.daysInMonth(M,g);return d},daysInMonth:function(M,d){for(var g=this._validate(M,d,this.minDay,y.local.invalidMonth),r=g.toJD()-24e5+.5,e=0,o=0;o<P.length;o++){if(P[o]>r)return P[e]-P[e-1];e++}return 30},weekDay:function(M,d,g){return this.dayOfWeek(M,d,g)!==5},toJD:function(M,d,g){var r=this._validate(M,d,g,y.local.invalidDate),e=12*(r.year()-1)+r.month()-15292,o=r.day()+P[e-1]-1;return o+24e5-.5},fromJD:function(M){for(var d=M-24e5+.5,g=0,r=0;r<P.length&&!(P[r]>d);r++)g++;var e=g+15292,o=Math.floor((e-1)/12),n=o+1,u=e-12*o,f=d-P[g-1]+1;return this.newDate(n,u,f)},isValid:function(M,d,g){var r=y.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(M=M.year!=null?M.year:M,r=M>=1276&&M<=1500),r},_validate:function(M,d,g,r){var e=y.baseCalendar.prototype._validate.apply(this,arguments);if(e.year<1276||e.year>1500)throw r.replace(/\{0\}/,this.local.name);return e}}),y.calendars.ummalqura=s;var P=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(W,G,t){var y=t(50896);function D(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}y(D.prototype,{instance:function(r,e){r=(r||"gregorian").toLowerCase(),e=e||"";var o=this._localCals[r+"-"+e];if(!o&&this.calendars[r]&&(o=new this.calendars[r](e),this._localCals[r+"-"+e]=o),!o)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return o},newDate:function(r,e,o,n,u){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,u):n)||this.instance(),n.newDate(r,e,o)},substituteDigits:function(r){return function(e){return(e+"").replace(/[0-9]/g,function(o){return r[o]})}},substituteChineseDigits:function(r,e){return function(o){for(var n="",u=0;o>0;){var f=o%10;n=(f===0?"":r[f]+e[u])+n,u++,o=Math.floor(o/10)}return n.indexOf(r[1]+e[1])===0&&(n=n.substr(1)),n||r[0]}}});function s(r,e,o,n){if(this._calendar=r,this._year=e,this._month=o,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function P(r,e){return r=""+r,"000000".substring(0,e-r.length)+r}y(s.prototype,{newDate:function(r,e,o){return this._calendar.newDate(r??this,e,o)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,e,o){if(!this._calendar.isValid(r,e,o))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=e,this._day=o,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,e){return this._calendar.add(this,r,e)},set:function(r,e){return this._calendar.set(this,r,e)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var e=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return e===0?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+P(Math.abs(this.year()),4)+"-"+P(this.month(),2)+"-"+P(this.day(),2)}});function M(){this.shortYearCutoff="+10"}y(M.prototype,{_validateLevel:0,newDate:function(r,e,o){return r==null?this.today():(r.year&&(this._validate(r,e,o,g.local.invalidDate||g.regionalOptions[""].invalidDate),o=r.day(),e=r.month(),r=r.year()),new s(this,r,e,o))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var e=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return e.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var e=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+P(Math.abs(e.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),12},monthOfYear:function(r,e){var o=this._validate(r,e,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return(o.month()+this.monthsInYear(o)-this.firstMonth)%this.monthsInYear(o)+this.minMonth},fromMonthOfYear:function(r,e){var o=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,o,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth),o},daysInYear:function(r){var e=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(r,e,o){var n=this._validate(r,e,o,g.local.invalidDate||g.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,e,o){var n=this._validate(r,e,o,g.local.invalidDate||g.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,e,o){return this._validate(r,e,o,g.local.invalidDate||g.regionalOptions[""].invalidDate),{}},add:function(r,e,o){return this._validate(r,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,e,o),e,o)},_add:function(r,e,o){if(this._validateLevel++,o==="d"||o==="w"){var n=r.toJD()+e*(o==="w"?this.daysInWeek():1),u=r.calendar().fromJD(n);return this._validateLevel--,[u.year(),u.month(),u.day()]}try{var f=r.year()+(o==="y"?e:0),c=r.monthOfYear()+(o==="m"?e:0),u=r.day(),m=function(h){for(;c<h.minMonth;)f--,c+=h.monthsInYear(f);for(var i=h.monthsInYear(f);c>i-1+h.minMonth;)f++,c-=i,i=h.monthsInYear(f)};o==="y"?(r.month()!==this.fromMonthOfYear(f,c)&&(c=this.newDate(f,r.month(),this.minDay).monthOfYear()),c=Math.min(c,this.monthsInYear(f)),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,c)))):o==="m"&&(m(this),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,c))));var v=[f,this.fromMonthOfYear(f,c),u];return this._validateLevel--,v}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,e,o,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(e[0]===0||r.year()>0!=e[0]>0)){var u={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],f=o<0?-1:1;e=this._add(r,o*u[0]+f*u[1],u[2])}return r.date(e[0],e[1],e[2])},set:function(r,e,o){this._validate(r,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate);var n=o==="y"?e:r.year(),u=o==="m"?e:r.month(),f=o==="d"?e:r.day();return(o==="y"||o==="m")&&(f=Math.min(f,this.daysInMonth(n,u))),r.date(n,u,f)},isValid:function(r,e,o){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var u=this.newDate(r,e,this.minDay);n=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(u)&&o>=this.minDay&&o-this.minDay<this.daysInMonth(u)}return this._validateLevel--,n},toJSDate:function(r,e,o){var n=this._validate(r,e,o,g.local.invalidDate||g.regionalOptions[""].invalidDate);return g.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(g.instance().fromJSDate(r).toJD())},_validate:function(r,e,o,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,e,o))throw n.replace(/\{0\}/,this.local.name);var u=this.newDate(r,e,o);return this._validateLevel--,u}catch(f){throw this._validateLevel--,f}}});function d(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}d.prototype=new M,y(d.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(o){var e=this._validate(o,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),o=e.year()+(e.year()<0?1:0);return o%4===0&&(o%100!==0||o%400===0)},weekOfYear:function(r,e,o){var n=this.newDate(r,e,o);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,e){var o=this._validate(r,e,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(r,e,o){return(this.dayOfWeek(r,e,o)||7)<6},toJD:function(r,e,o){var n=this._validate(r,e,o,g.local.invalidDate||g.regionalOptions[""].invalidDate);r=n.year(),e=n.month(),o=n.day(),r<0&&r++,e<3&&(e+=12,r--);var u=Math.floor(r/100),f=2-u+Math.floor(u/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(e+1))+o+f-1524.5},fromJD:function(r){var e=Math.floor(r+.5),o=Math.floor((e-186721625e-2)/36524.25);o=e+1+o-Math.floor(o/4);var n=o+1524,u=Math.floor((n-122.1)/365.25),f=Math.floor(365.25*u),c=Math.floor((n-f)/30.6001),m=n-f-Math.floor(c*30.6001),v=c-(c>13.5?13:1),T=u-(v>2.5?4716:4715);return T<=0&&T--,this.newDate(T,v,m)},toJSDate:function(r,e,o){var n=this._validate(r,e,o,g.local.invalidDate||g.regionalOptions[""].invalidDate),u=new Date(n.year(),n.month()-1,n.day());return u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0),u.setHours(u.getHours()>12?u.getHours()+2:0),u},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var g=W.exports=new D;g.cdate=s,g.baseCalendar=M,g.calendars.gregorian=d},15168:function(W,G,t){var y=t(50896),D=t(38700);y(D.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),D.local=D.regionalOptions[""],y(D.cdate.prototype,{formatDate:function(s,P){return typeof s!="string"&&(P=s,s=""),this._calendar.formatDate(s||"",this,P)}}),y(D.baseCalendar.prototype,{UNIX_EPOCH:D.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:D.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(s,P,M){if(typeof s!="string"&&(M=P,P=s,s=""),!P)return"";if(P.calendar()!==this)throw D.local.invalidFormat||D.regionalOptions[""].invalidFormat;s=s||this.local.dateFormat,M=M||{};var d=M.dayNamesShort||this.local.dayNamesShort,g=M.dayNames||this.local.dayNames,r=M.monthNumbers||this.local.monthNumbers,e=M.monthNamesShort||this.local.monthNamesShort,o=M.monthNames||this.local.monthNames;M.calculateWeek||this.local.calculateWeek;for(var n=function(A,L){for(var x=1;w+x<s.length&&s.charAt(w+x)===A;)x++;return w+=x-1,Math.floor(x/(L||1))>1},u=function(A,L,x,E){var S=""+L;if(n(A,E))for(;S.length<x;)S="0"+S;return S},f=function(A,L,x,E){return n(A)?E[L]:x[L]},c=this,m=function(A){return typeof r=="function"?r.call(c,A,n("m")):h(u("m",A.month(),2))},v=function(A,L){return L?typeof o=="function"?o.call(c,A):o[A.month()-c.minMonth]:typeof e=="function"?e.call(c,A):e[A.month()-c.minMonth]},T=this.local.digits,h=function(A){return M.localNumbers&&T?T(A):A},i="",p=!1,w=0;w<s.length;w++)if(p)s.charAt(w)==="'"&&!n("'")?p=!1:i+=s.charAt(w);else switch(s.charAt(w)){case"d":i+=h(u("d",P.day(),2));break;case"D":i+=f("D",P.dayOfWeek(),d,g);break;case"o":i+=u("o",P.dayOfYear(),3);break;case"w":i+=u("w",P.weekOfYear(),2);break;case"m":i+=m(P);break;case"M":i+=v(P,n("M"));break;case"y":i+=n("y",2)?P.year():(P.year()%100<10?"0":"")+P.year()%100;break;case"Y":n("Y",2),i+=P.formatYear();break;case"J":i+=P.toJD();break;case"@":i+=(P.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":i+=(P.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?i+="'":p=!0;break;default:i+=s.charAt(w)}return i},parseDate:function(s,P,M){if(P==null)throw D.local.invalidArguments||D.regionalOptions[""].invalidArguments;if(P=typeof P=="object"?P.toString():P+"",P==="")return null;s=s||this.local.dateFormat,M=M||{};var d=M.shortYearCutoff||this.shortYearCutoff;d=typeof d!="string"?d:this.today().year()%100+parseInt(d,10);for(var g=M.dayNamesShort||this.local.dayNamesShort,r=M.dayNames||this.local.dayNames,e=M.parseMonth||this.local.parseMonth,o=M.monthNumbers||this.local.monthNumbers,n=M.monthNamesShort||this.local.monthNamesShort,u=M.monthNames||this.local.monthNames,f=-1,c=-1,m=-1,v=-1,T=-1,h=!1,i=!1,p=function(k,U){for(var F=1;C+F<s.length&&s.charAt(C+F)===k;)F++;return C+=F-1,Math.floor(F/(U||1))>1},w=function(k,U){var F=p(k,U),V=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(k)+1],N=new RegExp("^-?\\d{1,"+V+"}"),O=P.substring(a).match(N);if(!O)throw(D.local.missingNumberAt||D.regionalOptions[""].missingNumberAt).replace(/\{0\}/,a);return a+=O[0].length,parseInt(O[0],10)},A=this,L=function(){if(typeof o=="function"){p("m");var k=o.call(A,P.substring(a));return a+=k.length,k}return w("m")},x=function(k,U,F,V){for(var N=p(k,V)?F:U,O=0;O<N.length;O++)if(P.substr(a,N[O].length).toLowerCase()===N[O].toLowerCase())return a+=N[O].length,O+A.minMonth;throw(D.local.unknownNameAt||D.regionalOptions[""].unknownNameAt).replace(/\{0\}/,a)},E=function(){if(typeof u=="function"){var k=p("M")?u.call(A,P.substring(a)):n.call(A,P.substring(a));return a+=k.length,k}return x("M",n,u)},S=function(){if(P.charAt(a)!==s.charAt(C))throw(D.local.unexpectedLiteralAt||D.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,a);a++},a=0,C=0;C<s.length;C++)if(i)s.charAt(C)==="'"&&!p("'")?i=!1:S();else switch(s.charAt(C)){case"d":v=w("d");break;case"D":x("D",g,r);break;case"o":T=w("o");break;case"w":w("w");break;case"m":m=L();break;case"M":m=E();break;case"y":var b=C;h=!p("y",2),C=b,c=w("y",2);break;case"Y":c=w("Y",2);break;case"J":f=w("J")+.5,P.charAt(a)==="."&&(a++,w("J"));break;case"@":f=w("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=w("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":a=P.length;break;case"'":p("'")?S():i=!0;break;default:S()}if(a<P.length)throw D.local.unexpectedText||D.regionalOptions[""].unexpectedText;if(c===-1?c=this.today().year():c<100&&h&&(c+=d===-1?1900:this.today().year()-this.today().year()%100-(c<=d?0:100)),typeof m=="string"&&(m=e.call(this,c,m)),T>-1){m=1,v=T;for(var z=this.daysInMonth(c,m);v>z;z=this.daysInMonth(c,m))m++,v-=z}return f>-1?this.fromJD(f):this.newDate(c,m,v)},determineDate:function(s,P,M,d,g){M&&typeof M!="object"&&(g=d,d=M,M=null),typeof d!="string"&&(g=d,d="");var r=this,e=function(o){try{return r.parseDate(d,o,g)}catch{}o=o.toLowerCase();for(var n=(o.match(/^c/)&&M?M.newDate():null)||r.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=u.exec(o);f;)n.add(parseInt(f[1],10),f[2]||"d"),f=u.exec(o);return n};return P=P?P.newDate():null,s=s==null?P:typeof s=="string"?e(s):typeof s=="number"?isNaN(s)||s===1/0||s===-1/0?P:r.today().add(s,"d"):r.newDate(s),s}})},21576:function(){},19768:function(){},63436:function(W,G,t){var y=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],D=typeof globalThis>"u"?t.g:globalThis;W.exports=function(){for(var P=[],M=0;M<y.length;M++)typeof D[y[M]]=="function"&&(P[P.length]=y[M]);return P}},67756:function(W,G,t){t.d(G,{qy:function(){return Ut},Gz:function(){return ut}});function y(St,Rt,Et){St.prototype=Rt.prototype=Et,Et.constructor=St}function D(St,Rt){var Et=Object.create(St.prototype);for(var zt in Rt)Et[zt]=Rt[zt];return Et}function s(){}var P=.7,M=1/P,d="\\s*([+-]?\\d+)\\s*",g="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e=/^#([0-9a-f]{3,8})$/,o=new RegExp("^rgb\\(".concat(d,",").concat(d,",").concat(d,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),u=new RegExp("^rgba\\(".concat(d,",").concat(d,",").concat(d,",").concat(g,"\\)$")),f=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(g,"\\)$")),c=new RegExp("^hsl\\(".concat(g,",").concat(r,",").concat(r,"\\)$")),m=new RegExp("^hsla\\(".concat(g,",").concat(r,",").concat(r,",").concat(g,"\\)$")),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y(s,w,{copy:function(Rt){return Object.assign(new this.constructor,this,Rt)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:h,formatHsl:i,formatRgb:p,toString:p});function T(){return this.rgb().formatHex()}function h(){return this.rgb().formatHex8()}function i(){return V(this).formatHsl()}function p(){return this.rgb().formatRgb()}function w(St){var Rt,Et;return St=(St+"").trim().toLowerCase(),(Rt=e.exec(St))?(Et=Rt[1].length,Rt=parseInt(Rt[1],16),Et===6?A(Rt):Et===3?new S(Rt>>8&15|Rt>>4&240,Rt>>4&15|Rt&240,(Rt&15)<<4|Rt&15,1):Et===8?L(Rt>>24&255,Rt>>16&255,Rt>>8&255,(Rt&255)/255):Et===4?L(Rt>>12&15|Rt>>8&240,Rt>>8&15|Rt>>4&240,Rt>>4&15|Rt&240,((Rt&15)<<4|Rt&15)/255):null):(Rt=o.exec(St))?new S(Rt[1],Rt[2],Rt[3],1):(Rt=n.exec(St))?new S(Rt[1]*255/100,Rt[2]*255/100,Rt[3]*255/100,1):(Rt=u.exec(St))?L(Rt[1],Rt[2],Rt[3],Rt[4]):(Rt=f.exec(St))?L(Rt[1]*255/100,Rt[2]*255/100,Rt[3]*255/100,Rt[4]):(Rt=c.exec(St))?F(Rt[1],Rt[2]/100,Rt[3]/100,1):(Rt=m.exec(St))?F(Rt[1],Rt[2]/100,Rt[3]/100,Rt[4]):v.hasOwnProperty(St)?A(v[St]):St==="transparent"?new S(NaN,NaN,NaN,0):null}function A(St){return new S(St>>16&255,St>>8&255,St&255,1)}function L(St,Rt,Et,zt){return zt<=0&&(St=Rt=Et=NaN),new S(St,Rt,Et,zt)}function x(St){return St instanceof s||(St=w(St)),St?(St=St.rgb(),new S(St.r,St.g,St.b,St.opacity)):new S}function E(St,Rt,Et,zt){return arguments.length===1?x(St):new S(St,Rt,Et,zt??1)}function S(St,Rt,Et,zt){this.r=+St,this.g=+Rt,this.b=+Et,this.opacity=+zt}y(S,E,D(s,{brighter:function(Rt){return Rt=Rt==null?M:Math.pow(M,Rt),new S(this.r*Rt,this.g*Rt,this.b*Rt,this.opacity)},darker:function(Rt){return Rt=Rt==null?P:Math.pow(P,Rt),new S(this.r*Rt,this.g*Rt,this.b*Rt,this.opacity)},rgb:function(){return this},clamp:function(){return new S(k(this.r),k(this.g),k(this.b),z(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a,formatHex:a,formatHex8:C,formatRgb:b,toString:b}));function a(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b))}function C(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b)).concat(U((isNaN(this.opacity)?1:this.opacity)*255))}function b(){var St=z(this.opacity);return"".concat(St===1?"rgb(":"rgba(").concat(k(this.r),", ").concat(k(this.g),", ").concat(k(this.b)).concat(St===1?")":", ".concat(St,")"))}function z(St){return isNaN(St)?1:Math.max(0,Math.min(1,St))}function k(St){return Math.max(0,Math.min(255,Math.round(St)||0))}function U(St){return St=k(St),(St<16?"0":"")+St.toString(16)}function F(St,Rt,Et,zt){return zt<=0?St=Rt=Et=NaN:Et<=0||Et>=1?St=Rt=NaN:Rt<=0&&(St=NaN),new O(St,Rt,Et,zt)}function V(St){if(St instanceof O)return new O(St.h,St.s,St.l,St.opacity);if(St instanceof s||(St=w(St)),!St)return new O;if(St instanceof O)return St;St=St.rgb();var Rt=St.r/255,Et=St.g/255,zt=St.b/255,Ct=Math.min(Rt,Et,zt),Wt=Math.max(Rt,Et,zt),Kt=NaN,oe=Wt-Ct,Jt=(Wt+Ct)/2;return oe?(Rt===Wt?Kt=(Et-zt)/oe+(Et<zt)*6:Et===Wt?Kt=(zt-Rt)/oe+2:Kt=(Rt-Et)/oe+4,oe/=Jt<.5?Wt+Ct:2-Wt-Ct,Kt*=60):oe=Jt>0&&Jt<1?0:Kt,new O(Kt,oe,Jt,St.opacity)}function N(St,Rt,Et,zt){return arguments.length===1?V(St):new O(St,Rt,Et,zt??1)}function O(St,Rt,Et,zt){this.h=+St,this.s=+Rt,this.l=+Et,this.opacity=+zt}y(O,N,D(s,{brighter:function(Rt){return Rt=Rt==null?M:Math.pow(M,Rt),new O(this.h,this.s,this.l*Rt,this.opacity)},darker:function(Rt){return Rt=Rt==null?P:Math.pow(P,Rt),new O(this.h,this.s,this.l*Rt,this.opacity)},rgb:function(){var Rt=this.h%360+(this.h<0)*360,Et=isNaN(Rt)||isNaN(this.s)?0:this.s,zt=this.l,Ct=zt+(zt<.5?zt:1-zt)*Et,Wt=2*zt-Ct;return new S(J(Rt>=240?Rt-240:Rt+120,Wt,Ct),J(Rt,Wt,Ct),J(Rt<120?Rt+240:Rt-120,Wt,Ct),this.opacity)},clamp:function(){return new O(H(this.h),X(this.s),X(this.l),z(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Rt=z(this.opacity);return"".concat(Rt===1?"hsl(":"hsla(").concat(H(this.h),", ").concat(X(this.s)*100,"%, ").concat(X(this.l)*100,"%").concat(Rt===1?")":", ".concat(Rt,")"))}}));function H(St){return St=(St||0)%360,St<0?St+360:St}function X(St){return Math.max(0,Math.min(1,St||0))}function J(St,Rt,Et){return(St<60?Rt+(Et-Rt)*St/60:St<180?Et:St<240?Rt+(Et-Rt)*(240-St)/60:Rt)*255}var et=function(St){return function(){return St}};function it(St,Rt){return function(Et){return St+Et*Rt}}function ft(St,Rt,Et){return St=Math.pow(St,Et),Rt=Math.pow(Rt,Et)-St,Et=1/Et,function(zt){return Math.pow(St+zt*Rt,Et)}}function ot(St){return(St=+St)==1?Q:function(Rt,Et){return Et-Rt?ft(Rt,Et,St):et(isNaN(Rt)?Et:Rt)}}function Q(St,Rt){var Et=Rt-St;return Et?it(St,Et):et(isNaN(St)?Rt:St)}var tt=function St(Rt){var Et=ot(Rt);function zt(Ct,Wt){var Kt=Et((Ct=E(Ct)).r,(Wt=E(Wt)).r),oe=Et(Ct.g,Wt.g),Jt=Et(Ct.b,Wt.b),te=Q(Ct.opacity,Wt.opacity);return function(fe){return Ct.r=Kt(fe),Ct.g=oe(fe),Ct.b=Jt(fe),Ct.opacity=te(fe),Ct+""}}return zt.gamma=St,zt}(1);function Z(St,Rt){var Et=Rt?Rt.length:0,zt=St?Math.min(Et,St.length):0,Ct=new Array(zt),Wt=new Array(Et),Kt;for(Kt=0;Kt<zt;++Kt)Ct[Kt]=Ut(St[Kt],Rt[Kt]);for(;Kt<Et;++Kt)Wt[Kt]=Rt[Kt];return function(oe){for(Kt=0;Kt<zt;++Kt)Wt[Kt]=Ct[Kt](oe);return Wt}}function q(St,Rt){var Et=new Date;return St=+St,Rt=+Rt,function(zt){return Et.setTime(St*(1-zt)+Rt*zt),Et}}function ut(St,Rt){return St=+St,Rt=+Rt,function(Et){return St*(1-Et)+Rt*Et}}function $(St){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt},$(St)}function j(St,Rt){var Et={},zt={},Ct;(St===null||$(St)!=="object")&&(St={}),(Rt===null||$(Rt)!=="object")&&(Rt={});for(Ct in Rt)Ct in St?Et[Ct]=Ut(St[Ct],Rt[Ct]):zt[Ct]=Rt[Ct];return function(Wt){for(Ct in Et)zt[Ct]=Et[Ct](Wt);return zt}}var lt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nt=new RegExp(lt.source,"g");function ht(St){return function(){return St}}function mt(St){return function(Rt){return St(Rt)+""}}function At(St,Rt){var Et=lt.lastIndex=nt.lastIndex=0,zt,Ct,Wt,Kt=-1,oe=[],Jt=[];for(St=St+"",Rt=Rt+"";(zt=lt.exec(St))&&(Ct=nt.exec(Rt));)(Wt=Ct.index)>Et&&(Wt=Rt.slice(Et,Wt),oe[Kt]?oe[Kt]+=Wt:oe[++Kt]=Wt),(zt=zt[0])===(Ct=Ct[0])?oe[Kt]?oe[Kt]+=Ct:oe[++Kt]=Ct:(oe[++Kt]=null,Jt.push({i:Kt,x:ut(zt,Ct)})),Et=nt.lastIndex;return Et<Rt.length&&(Wt=Rt.slice(Et),oe[Kt]?oe[Kt]+=Wt:oe[++Kt]=Wt),oe.length<2?Jt[0]?mt(Jt[0].x):ht(Rt):(Rt=Jt.length,function(te){for(var fe=0,ve;fe<Rt;++fe)oe[(ve=Jt[fe]).i]=ve.x(te);return oe.join("")})}function bt(St,Rt){Rt||(Rt=[]);var Et=St?Math.min(Rt.length,St.length):0,zt=Rt.slice(),Ct;return function(Wt){for(Ct=0;Ct<Et;++Ct)zt[Ct]=St[Ct]*(1-Wt)+Rt[Ct]*Wt;return zt}}function Pt(St){return ArrayBuffer.isView(St)&&!(St instanceof DataView)}function _t(St){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt},_t(St)}function Ut(St,Rt){var Et=_t(Rt),zt;return Rt==null||Et==="boolean"?et(Rt):(Et==="number"?ut:Et==="string"?(zt=w(Rt))?(Rt=zt,tt):At:Rt instanceof w?tt:Rt instanceof Date?q:Pt(Rt)?bt:Array.isArray(Rt)?Z:typeof Rt.valueOf!="function"&&typeof Rt.toString!="function"||isNaN(Rt)?j:ut)(St,Rt)}},30584:function(W){W.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(W){W.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(W){W.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(W){W.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(W){W.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(W){W.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},st={};function Tt(W){var G=st[W];if(G!==void 0)return G.exports;var t=st[W]={exports:{}};return B[W].call(t.exports,t,t.exports,Tt),t.exports}(function(){Tt.n=function(W){var G=W&&W.__esModule?function(){return W.default}:function(){return W};return Tt.d(G,{a:G}),G}})(),function(){Tt.d=function(W,G){for(var t in G)Tt.o(G,t)&&!Tt.o(W,t)&&Object.defineProperty(W,t,{enumerable:!0,get:G[t]})}}(),function(){Tt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Tt.o=function(W,G){return Object.prototype.hasOwnProperty.call(W,G)}}(),function(){Tt.r=function(W){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})}}();var Ft=Tt(13792);return Ft}()})})(nS);var z9=nS.exports;(function(I){Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var l=st(q6),B=st(z9);function st(W){return W&&W.__esModule?W:{default:W}}var Tt=(0,l.default)(B.default),Ft=Tt;I.default=Ft})($6);const F9=Pb($6),O9=({cropName:I,temperature:l,humidity:B,soilMoisture:st,riskPrediction:Tt})=>{const Ft={low:"green",medium:"gray",high:"red"},W=Tt.map(y=>Ft[y]),G={type:"scatter3d",mode:"markers",x:l,y:B,z:st,hovertemplate:"Temperature: %{x}C<br>Humidity: %{y}<br>Soil Moisture: %{z}<br><extra></extra>",text:Tt,marker:{size:3,color:W,colorscale:[[0,"green"],[.5,"gray"],[1,"red"]],cmin:0,cmax:2,colorbar:{tickvals:[0,1,2],ticktext:["Low","Medium","High"]}}};Lf.useEffect(()=>{oc.setComponentValue("DONE")},[]);const t={title:`<span>Crop (<b>${I}</b>) Disease Risk Prediction is <b style="color:${Ft[Tt.toString()]};text-transform: capitalize;">${Tt.toString()}</b><span>`,autosize:!0,scene:{xaxis:{title:"Temperature (C)"},yaxis:{title:"Humidity"},zaxis:{title:"Soil Moisture"}}};return Oy.jsx(F9,{data:[G],layout:t})},B9=({args:I})=>{const[l,B]=Lf.useState(""),[st,Tt]=Lf.useState([]),[Ft,W]=Lf.useState([]),[G,t]=Lf.useState([]),[y,D]=Lf.useState([]);return Lf.useEffect(()=>{if(oc.setFrameHeight(),I.spec){const{crop_name:s,temperature:P,humidity:M,soil_moisture:d,risk_prediction:g}=JSON.parse(I.spec);B(s),Tt(P||[]),W(M||[]),t(d||[]),D(g||[])}},[I]),Oy.jsx(O9,{cropName:l,temperature:st,humidity:Ft,soilMoisture:G,riskPrediction:y})},N9=P9(B9);Tx.createRoot(document.getElementById("root")).render(Oy.jsx(nd.StrictMode,{children:Oy.jsx(N9,{})}));
